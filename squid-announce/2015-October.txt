From squid3 at treenet.co.nz  Fri Oct  2 08:27:35 2015
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 2 Oct 2015 21:27:35 +1300
Subject: [squid-announce] Squid 3.5.10 is available
Message-ID: <560E3FF7.5090208@treenet.co.nz>

The Squid HTTP Proxy team is very pleased to announce the availability
of the Squid-3.5.10 release!


This release is a bug fix release resolving issues found in the prior
Squid releases.


The major changes to be aware of:


* Regression Bug 4326: base64 binary encoder rejects data beginning
  with nil byte

This regression since 3.3 introduced by hardening of the base-64 encoder
causes unnecessary CPU consumtion during Digest authenticatio on
big-endian systems. Thanks to Pavel Å imerda for identifying the problem
and providing the fix.


* Bug 4323: Netfilter broken cross-includes with Linux 4.2

Due to a problem with Netfilter (libc) header includes Squid and other
software using Netfilter will not build on Linux 4.2. The kernel
developers have provided a hack to allow software to build, but it
requires some changes on our part to make use of it. Those changes are
included in this Squid release.


* Bug 4303: PeerConnector.cc:743 "!callback" assertion.

This problem occurs when slow-group ACLs are used in ssl_bump and no
bumping action is selected (the default action is being performed).
Squid now makes smarter choice of default ssl_bump action to perform
when no explicit ACL match is provided.

Note: The bug number recorded in bzr, changelog and patch header is
wrong. The correct number is 4303.


* Bug 4330: Do not use SSL_METHOD::put_cipher_by_char

Recent changes to this OpenSSL and LibreSSL library API behaviour mean
that Squids particular use of it could result in crashes, or incorrect
rejection of TLS/SSL connections.


* Memory management optimizations

This release includes removal of a custom allocator pool size for
StoreEntry objects. Knowledge of the actual benefits from that supposed
optimization have been lost in time, and it's not possible to accurately
measure its actual impact in all load scenarios; this change is
therefore considered a potential performance regression in some load
scenarios.

Initial testing of this change show an overall reduction in Squid memory
needs for general usage. So we belive this is a worthwhile change until
proven otherwise.


* Copyright Updates

As part of the Squid Software Foundation project to cleanup the Squid
copyright situation it was found that the basic_sspi_auth,
ntlm_smb_lm_auth, and ntlm_fake_auth helpers were GPL 2.0-only licensed.
This is not fully compatible with the GPLv2+ terms Squid bundles are
officially being distributed under, which is intended to allow
downstream GPLv3 or later relicensing.

The main authors and copyright holders of those helpers have graciously
agreed to relicense them as GPLv2+ for compatibility with the Squid
collective license.

The libltdl tools bundled with Squid has also undergone a relicense to
LGLv2.1+ in the version we import.



 All users of Squid are encouraged to upgrade to this release as soon as
possible.


 See the ChangeLog for the full list of changes in this and earlier
 releases.

Please refer to the release notes at
http://www.squid-cache.org/Versions/v3/3.5/RELEASENOTES.html
when you are ready to make the switch to Squid-3.5

Upgrade tip:
  "squid -k parse" is starting to display even more
   useful hints about squid.conf changes.

This new release can be downloaded from our HTTP or FTP servers

 http://www.squid-cache.org/Versions/v3/3.5/
 ftp://ftp.squid-cache.org/pub/squid/
 ftp://ftp.squid-cache.org/pub/archive/3.5/

or the mirrors. For a list of mirror sites see

 http://www.squid-cache.org/Download/http-mirrors.html
 http://www.squid-cache.org/Download/mirrors.html

If you encounter any issues with this release please file a bug report.
http://bugs.squid-cache.org/


Amos Jeffries

From squid3 at treenet.co.nz  Mon Oct 19 02:36:42 2015
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 19 Oct 2015 15:36:42 +1300
Subject: [squid-announce] Squid 4.0.1 beta is available
Message-ID: <5624573A.2070005@treenet.co.nz>

The Squid Software Foundation is very pleased to announce the
availability of the Squid-4.0.1 beta release!


This new 4.x series of Squid brings useful new features and changes
providing improved performance over earlier release series.

More detailed descriptions of the major new features are available in
the release notes and wiki:
  <http://www.squid-cache.org/Versions/v4/RELEASENOTES.html>
  <http://wiki.squid-cache.org/Squid-4>

Detailed lists of the ./configure build and squid.conf changes can also
be found in the release notes.

This code is released as beta for wider testing purposes and potential
use. There are no more planned alterations to the existing features,
./configure options or squid.conf options.

  NOTE:  Since the 4.0.1 package was bundled there have been some
important issues have been found and resolved. Testers are encouraged to
use the daily snapshot or apply the patches in the "Change Details"
listing where relevant.



This release adds a dependency on C++11 support in any compiler used to
build Squid. As a result older C++03 -only and most C++0x compilers will
no longer build successfully. GCC 4.9+ and Clang 3.5+ are known to have
working C++11 support and are usable. GCC-4.8 will also build for now
despite lack of full C++11 support, but some future features may not be
available.


This Squid version begins the transition from SSL behaviour to TLS
behaviour. While these protocols are often considered to be the same,
they in fact have some small but significant differences. Most relevant
to Squid is the negotiation for RFC protocol version and thus cipher
sets and connection capabilities. Parameters for configuring SSL are
being renamed to TLS options in this version. Other options may be
renamed in upcoming versions.
 Please ensure you run "squid -k parse" to check squid.conf during
upgrade and check the relevant parameters documentation to avoid surprises.


Squid is now capable of configuring Elliptic Curve ciphers in TLS. These
ciphers are the most secure algorithms currently available, and are
being required by some browser implementations and security policies.
But they do require a slightly different configuration in squid.conf to
enable. More details in the release notes.


Squid is now capable of communicating with ICAP services over TLS.
squid.conf options the connection to these services can be configured
similar to those previously available on the cache_peer directive. See
the release notes for further details.


External ACL helpers can now be passed a much wider range of details
using any of the logformat codes for the format parameter. Whether any
given macro expands is dependent on whether the detail is available yet
in the transaction. Not all access controls have been tested yet - some
regressions may occur, if you find one please report the bug ASAP.


The ID assignment algorthm for helper concurrency channels feature has
been altered significantly. It requires 64-bit ID support in helpers and
will cycle through ID numbers sequentually instead of using the lowest
unused channel. This may require some helpers to be re-designed, and all
32-bit helpers definitely need to be rebuilt with 64-bit ID support. See
release notes for specific requirements on helpers.


SMP support availability on several OS has been improved with the use of
C++11 atomics and shared memory features. These features are
auto-enabled by default. There may be behaviour differences noticed with
memory caching on OS where SMP support was previously being auto-disabled.


Major features dropped:

 * SSLv2 support is officially purged from the code.

RFC 6176 requires new and updated releases of software supporting SSL no
longer provide support negotiating SSLv2 ciphers or protocol behaviours.
This release of Squid removes SSLv2 support including all squid.conf
configuration options used to enable or disable SSLv2 related behaviours.

Manual config file updates may be required to avoid warnings or errors
about unsupported options.

 * basic_msnt_multi_domain_auth removal

The SMB LM helpers were deprecated some time ago. Additionally, the MSNT
multi-domain auth helper has been found to overlap completely with
features still available in the basic_smb_lm_auth helper.



All users are encouraged to give this Squid release a test run as soon
as time permits. All feedback welcome.


Please refer to the release notes at
<http://www.squid-cache.org/Versions/v4/RELEASENOTES.html> if and when
you are ready to make the switch to Squid-4

This new release can be downloaded from our HTTP or FTP servers

  <http://www.squid-cache.org/Versions/v4/>
  <ftp://ftp.squid-cache.org/pub/squid/>
  <ftp://ftp.squid-cache.org/pub/archive/4/>

or the mirrors. For a list of mirror sites see

  <http://www.squid-cache.org/Download/http-mirrors.html>
  <http://www.squid-cache.org/Download/mirrors.html>

If you encounter any issues with this release please file a bug report.
  <http://bugs.squid-cache.org/>

Amos Jeffries

