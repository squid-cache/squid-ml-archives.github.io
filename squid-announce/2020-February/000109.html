<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-announce] [ADVISORY] SQUID-2020:2 Information Disclosure	issue in FTP Gateway.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-announce%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-announce%5D%20%5BADVISORY%5D%20SQUID-2020%3A2%20Information%20Disclosure%0A%09issue%20in%20FTP%20Gateway.&In-Reply-To=%3C3a32a734-2263-5cf9-3d74-43fa9cdcf4f4%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000110.html">
   <LINK REL="Next"  HREF="000108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-announce] [ADVISORY] SQUID-2020:2 Information Disclosure	issue in FTP Gateway.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-announce%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-announce%5D%20%5BADVISORY%5D%20SQUID-2020%3A2%20Information%20Disclosure%0A%09issue%20in%20FTP%20Gateway.&In-Reply-To=%3C3a32a734-2263-5cf9-3d74-43fa9cdcf4f4%40treenet.co.nz%3E"
       TITLE="[squid-announce] [ADVISORY] SQUID-2020:2 Information Disclosure	issue in FTP Gateway.">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Feb  3 11:54:23 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="000110.html">[squid-announce] [ADVISORY] SQUID-2020:1 Improper Input Validation issues in HTTP Request processing.
</A></li>
        <LI>Next message: <A HREF="000108.html">[squid-announce] [ADVISORY] SQUID-2020:3 Buffer Overflow issue in ext_lm_group_acl helper.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109">[ date ]</a>
              <a href="thread.html#109">[ thread ]</a>
              <a href="subject.html#109">[ subject ]</a>
              <a href="author.html#109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>__________________________________________________________________

    Squid Proxy Cache Security Update Advisory SQUID-2020:2
__________________________________________________________________

Advisory ID:        SQUID-2020:2
Date:               February 02, 2020
Summary:            Information Disclosure issue
                    in FTP Gateway.
Affected versions:  Squid 2.x -&gt; 2.7.STABLE9
                    Squid 3.x -&gt; 3.5.28
                    Squid 4.x -&gt; 4.9
Fixed in version:   Squid 4.10
__________________________________________________________________

    <A HREF="http://www.squid-cache.org/Advisories/SQUID-2020_2.txt">http://www.squid-cache.org/Advisories/SQUID-2020_2.txt</A>
    <A HREF="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12528">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12528</A>
__________________________________________________________________

Problem Description:

 Due to incorrect data management Squid is vulnerable to a
 information disclosure when translating FTP server listings
 into HTTP responses.

__________________________________________________________________

Severity:

 Certain FTP server responses can result in Squid revealing
 random amounts of memory content from heap.

 When Squid mempools feature is enabled the leak is limited to
 lines in FTP directory listings, possibly from other clients.

 When mempools is disabled the information may be anything from
 the heap area including information from other processes on the
 machine.

__________________________________________________________________

Updated Packages:

 This bug is fixed by Squid version 4.10.

 In addition, a patch addressing this problem for the stable
 releases can be found in our patch archives:

Squid 3:
 &lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/changesets/squid-3.5-8cdb18ca1829a0b7faa1c9e472604ed0e7e105ac.patch">http://www.squid-cache.org/Versions/v3/3.5/changesets/squid-3.5-8cdb18ca1829a0b7faa1c9e472604ed0e7e105ac.patch</A>&gt;

Squid 4:
 &lt;<A HREF="http://www.squid-cache.org/Versions/v4/changesets/squid-4-c1bebac9c1135b7add6589db35c62f16db195b8f.patch">http://www.squid-cache.org/Versions/v4/changesets/squid-4-c1bebac9c1135b7add6589db35c62f16db195b8f.patch</A>&gt;

 If you are using a prepackaged version of Squid then please refer
 to the package vendor for availability information on updated
 packages.

__________________________________________________________________

Determining if your version is vulnerable:

 All Squid-2.x up to and including 2.7.STABLE9 are vulnerable.

 All Squid-3.x up to and including 3.5.28 are vulnerable.

 All Squid-4.x up to and including 4.9 are vulnerable.

__________________________________________________________________

Workarounds:

 * To disable FTP features

  Remove from squid.conf:

    acl Safe_ports 21

  Add to squid.conf:

    acl FTP proto FTP
    http_access deny FTP


 * To reduce leakage while retaining FTP features:

  Remove from squid.conf:

   memory_pools off


__________________________________________________________________

Contact details for the Squid project:

 For installation / upgrade support on binary packaged versions
 of Squid: Your first point of contact should be your binary
 package vendor.

 If your install and build Squid from the original Squid sources
 then the <A HREF="http://lists.squid-cache.org/listinfo/squid-announce">squid-users at lists.squid-cache.org</A> mailing list is your
 primary support point. For subscription details see
 &lt;<A HREF="http://www.squid-cache.org/Support/mailing-lists.html">http://www.squid-cache.org/Support/mailing-lists.html</A>&gt;.

 For reporting of non-security bugs in the latest STABLE release
 the squid bugzilla database should be used
 &lt;<A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A>&gt;.

 For reporting of security sensitive bugs send an email to the
 <A HREF="http://lists.squid-cache.org/listinfo/squid-announce">squid-bugs at lists.squid-cache.org</A> mailing list. It's a closed
 list (though anyone can post) and security related bug reports
 are treated in confidence until the impact has been established.

__________________________________________________________________

Credits:

 This vulnerability was discovered by Jeriko One
 &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-announce">jeriko.one at gmx.us</A>&gt;.

 Fixed by Christos Tsantilas of The Measurement Factory.

__________________________________________________________________

Revision history:

 2019-05-14 14:56:49 UTC Initial Report
 2019-06-05 15:52:17 UTC CVE Assignment
 2019-12-20 07:29:58 UTC Patches Released
__________________________________________________________________
END
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000110.html">[squid-announce] [ADVISORY] SQUID-2020:1 Improper Input Validation issues in HTTP Request processing.
</A></li>
	<LI>Next message: <A HREF="000108.html">[squid-announce] [ADVISORY] SQUID-2020:3 Buffer Overflow issue in ext_lm_group_acl helper.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109">[ date ]</a>
              <a href="thread.html#109">[ thread ]</a>
              <a href="subject.html#109">[ subject ]</a>
              <a href="author.html#109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-announce">More information about the squid-announce
mailing list</a><br>
</body></html>
