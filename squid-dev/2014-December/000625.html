<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH]  add memory keytab option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20%20add%20memory%20keytab%20option&In-Reply-To=%3C548FFBDA.4010101%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000624.html">
   <LINK REL="Next"  HREF="000627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH]  add memory keytab option</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20%20add%20memory%20keytab%20option&In-Reply-To=%3C548FFBDA.4010101%40treenet.co.nz%3E"
       TITLE="[squid-dev] [PATCH]  add memory keytab option">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Dec 16 09:31:06 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000624.html">[squid-dev] [PATCH]  add memory keytab option
</A></li>
        <LI>Next message: <A HREF="000627.html">[squid-dev] [PATCH]  add memory keytab option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#625">[ date ]</a>
              <a href="thread.html#625">[ thread ]</a>
              <a href="subject.html#625">[ subject ]</a>
              <a href="author.html#625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 16/12/2014 1:16 p.m., Markus Moeller wrote:
&gt;<i> Hi Amos,
</I>&gt;<i> 
</I>&gt;<i> Thank you for the feedback and suggestions.    I did some cleanup
</I>&gt;<i> using cppcheck too.  Regarding the optarg check I was under the
</I>&gt;<i> impression that getopt just makes sure optarg is never NULL.  Isn't
</I>&gt;<i> that the case ?
</I>
As I understand it the behaviour where the argument is missing is
actualy undefined. May be NULL may be previous optarg value, may be
the uninitialized original value. It is called out in Linux man(8)
page as NULL, but my tests show that it actually returns the following
argv item unconditionally or exits the loop.
 So given the mess, better safe than sorry. Given the once-off nature
of this processing a few extra cycles being certain are no big deal.

The string content validation is needed anyway to protect against
wrong ordering behaviour being a problem.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUj/vaAAoJELJo5wb/XPRj+d8H/jyuPP2GkT49x02ZlVyfIID/
9XPJz6ZDtTJzFspSxjk1XWlLMyHoEuTdz78sjjWZ5DnVKTQ4WmTJihsafllw3Epf
g8UrfL/qpqcPVSK+GgdgO5uC83mZOb8oCds1uEX++wMfU6Bpea9p4nIN1nUJI1cA
7A3ir7tKGVNiMeyX+qxW5ezRijrUJ/IqcBMM4AVuLZ+Tagyf9lWomEwYoWSXw6nz
mkxjEcj7HH0dkasL9k2OnThivQups4jNvLPQfWO7b4Ksk0LPFbDsQE115IQaKLjF
8p7GSIcscR1FloAv2ATk4ehBkSnuRNM32S/nKmIBdU9vsNEQOAb7dqPvnZBYPKE=
=p+28
-----END PGP SIGNATURE-----
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000624.html">[squid-dev] [PATCH]  add memory keytab option
</A></li>
	<LI>Next message: <A HREF="000627.html">[squid-dev] [PATCH]  add memory keytab option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#625">[ date ]</a>
              <a href="thread.html#625">[ thread ]</a>
              <a href="subject.html#625">[ subject ]</a>
              <a href="author.html#625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
