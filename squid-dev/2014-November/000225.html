<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] adapting 100-Continue / A Bug 4067 fix
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20adapting%20100-Continue%20/%20A%20Bug%204067%20fix&In-Reply-To=%3C54551F64.7090804%40users.sourceforge.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000305.html">
   <LINK REL="Next"  HREF="000226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] adapting 100-Continue / A Bug 4067 fix</H1>
    <B>Tsantilas Christos</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20adapting%20100-Continue%20/%20A%20Bug%204067%20fix&In-Reply-To=%3C54551F64.7090804%40users.sourceforge.net%3E"
       TITLE="[squid-dev] [PATCH] adapting 100-Continue / A Bug 4067 fix">chtsanti at users.sourceforge.net
       </A><BR>
    <I>Sat Nov  1 17:59:00 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000305.html">[squid-dev] [PATCH] RFC 6176 compliance
</A></li>
        <LI>Next message: <A HREF="000226.html">[squid-dev] [PATCH] adapting 100-Continue / A Bug 4067 fix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#225">[ date ]</a>
              <a href="thread.html#225">[ thread ]</a>
              <a href="subject.html#225">[ subject ]</a>
              <a href="author.html#225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

This patch is a fix for bug 4067:
     <A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4067">http://bugs.squid-cache.org/show_bug.cgi?id=4067</A>

Currently squid fails to handle correctly &quot;100 Continue&quot; 
requests/responses  when adaptation/ICAP  is used. When a data-upload 
request enters squid (eg a PUT request with  &quot;Expect: 100-continue&quot; 
header), squid sends ICAP headers and HTTP headers to ICAP server and 
stuck waiting for ever  the request body data.

This patch implements the &quot;force_request_body_continuation&quot; access list 
  directive which controls how Squid handles data upload requests from 
HTTP and send the request body to Squid.

An allow match tells Squid to respond with the HTTP 100 or FTP 150 
(Please Continue) control message on its own, before forwarding the 
request to an adaptation service or peer. Such a response usually forces 
the request sender to proceed with sending the body. A deny match tells 
Squid to delay that control response until the origin server confirms 
that the request body is needed. Delaying is the default behavior.

This is a Measurement Factory project
-------------- next part --------------
A non-text attachment was scrubbed...
Name: adapting-100-continue-t4.patch
Type: text/x-patch
Size: 34548 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141101/1de2caa0/attachment-0001.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141101/1de2caa0/attachment-0001.bin</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000305.html">[squid-dev] [PATCH] RFC 6176 compliance
</A></li>
	<LI>Next message: <A HREF="000226.html">[squid-dev] [PATCH] adapting 100-Continue / A Bug 4067 fix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#225">[ date ]</a>
              <a href="thread.html#225">[ thread ]</a>
              <a href="subject.html#225">[ subject ]</a>
              <a href="author.html#225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
