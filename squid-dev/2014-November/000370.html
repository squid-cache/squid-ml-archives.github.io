<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] New format code %acl_matched to log the last	matched acl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20New%20format%20code%20%25acl_matched%20to%20log%20the%20last%0A%09matched%20acl&In-Reply-To=%3C5467A2E1.6080101%40infomed.sld.cu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000430.html">
   <LINK REL="Next"  HREF="000372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] New format code %acl_matched to log the last	matched acl</H1>
    <B>Alfonso Ali</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20New%20format%20code%20%25acl_matched%20to%20log%20the%20last%0A%09matched%20acl&In-Reply-To=%3C5467A2E1.6080101%40infomed.sld.cu%3E"
       TITLE="[squid-dev] [PATCH] New format code %acl_matched to log the last	matched acl">ali at infomed.sld.cu
       </A><BR>
    <I>Sat Nov 15 19:00:49 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000430.html">[squid-dev] [PATCH] url_rewrite_timeout directive
</A></li>
        <LI>Next message: <A HREF="000372.html">[squid-dev] [PATCH] New format code %acl_matched to log the last matched acl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#370">[ date ]</a>
              <a href="thread.html#370">[ thread ]</a>
              <a href="subject.html#370">[ subject ]</a>
              <a href="author.html#370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I know that it's possible to obtain the last acl that was matched by 
using the correct debug options, but my company have found some use 
cases (mainly related with accounting) where this info could be useful 
without the need of the extra debug information.

Our first approach to the problem used external acls but when the load 
was high we found that some log lines were outputting the wrong value, 
so we decided to add this new format code.

I'm sending the patch for your consideration.

Regards,
  Alfonso Ali


--
Nunca digas nunca, di mejor: gracias, permiso, disculpe.

Este mensaje le ha llegado mediante el servicio de correo electronico que ofrece Infomed para respaldar el cumplimiento de las misiones del Sistema Nacional de Salud. La persona que envia este correo asume el compromiso de usar el servicio a tales fines y cumplir con las regulaciones establecidas

Infomed: <A HREF="http://www.sld.cu/">http://www.sld.cu/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: last_matched_acl.diff
Type: text/x-patch
Size: 2942 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141115/755bdc67/attachment.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141115/755bdc67/attachment.bin</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000430.html">[squid-dev] [PATCH] url_rewrite_timeout directive
</A></li>
	<LI>Next message: <A HREF="000372.html">[squid-dev] [PATCH] New format code %acl_matched to log the last matched acl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#370">[ date ]</a>
              <a href="thread.html#370">[ thread ]</a>
              <a href="subject.html#370">[ subject ]</a>
              <a href="author.html#370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
