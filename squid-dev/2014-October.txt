From chtsanti at users.sourceforge.net  Wed Oct  1 16:17:18 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 01 Oct 2014 19:17:18 +0300
Subject: [squid-dev] [PATCH] Validate server certificates without bumping
Message-ID: <542C290E.4020801@users.sourceforge.net>

Hi all,

This patch add support for the "Validate server certificates without 
bumping" use case described on the Peek and Splice wiki page:
     http://wiki.squid-cache.org/Features/SslPeekAndSplice

This patch send to the certificate validation helper the  certificates 
and errors found in SslBump3 step, even if the splicing mode selected. 
In the case the validation helper found errors in certificates an error 
page returned to the http client.

The SSL error forwarding is controlled by ACLs along these lines:

    sslproxy_cert_error allow sslBoringErrors
    sslproxy_cert_error allow serversWithInvalidCerts
    sslproxy_cert_error deny all

This is a Measurement Factory project
-------------- next part --------------
A non-text attachment was scrubbed...
Name: trunk-ssl_bump-err-t3.patch
Type: text/x-patch
Size: 16084 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141001/89ba2bb4/attachment.bin>

From chtsanti at users.sourceforge.net  Wed Oct  1 16:23:13 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 01 Oct 2014 19:23:13 +0300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <5405EF70.6090407@measurement-factory.com>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
Message-ID: <542C2A71.5070305@users.sourceforge.net>

Ping....

So which is the decision?
Can the patch go to trunk?
Should the patch replaced with on other solution?

On 09/02/2014 07:25 PM, Alex Rousskov wrote:
> On 09/02/2014 06:28 AM, Amos Jeffries wrote:
>> On 2/09/2014 7:38 p.m., Tsantilas Christos wrote:
>>> On 09/02/2014 03:51 AM, Amos Jeffries wrote:
>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>>>>
>>>> On 2/09/2014 4:49 a.m., Tsantilas Christos wrote:
>>>>> Hi all,
>>>>>
>>>>> This patch add a new configuration option the
>>>>> 'pconn_lifetime' to allow users set the desired maximum
>>>>> lifetime of a persistent connection.
>>>>>
>>>>> When set, Squid will close a now-idle persistent connection
>>>>> that exceeded configured lifetime instead of moving the
>>>>> connection into the idle connection pool (or equivalent). No
>>>>> effect on ongoing/active transactions. Connection lifetime
>>>>> is the time period from the connection acceptance or opening
>>>>> time until "now".
>>>>>
>>>>> This limit is useful in environments with long-lived
>>>>> connections where Squid configuration or environmental
>>>>> factors change during a single connection lifetime. If
>>>>> unrestricted, some connections may last for hours and even
>>>>> days, ignoring those changes that should have affected their
>>>>> behavior or their existence.
>>>>>
>>>>> This is a Measurement Factory project
>>>>
>>>> Two problems with this.
>>>>
>>>> * the directive name does not indicate whether it applies to
>>>> client, server, or ICAP conections.
>>
>>> It applies to any connection, server, client or ICAP
>>> connections.
>>
>> Those are very distinct groups of connections. With very different
>> lifetime properties.
>
> Those properties are about the same as far as this option is
> concerned. It would be possible to split this option into 4 or more
> different ones, to allow for more precise control, but I think that
> should not be done until there is a specific use case for such a split.
>
>
>>>> * the rationale for its need is a bit screwey. Any directives
>>>> which affect Squid current running state need to ensure in
>>>> their post-reconfigure logics that state is consistent.
>>>> Preferrably create a runner, or use configDoConfigure if that
>>>> is to much.
>
> The alternative you suggest is bit screwy on two counts:
>
> 1) It does not address environmental factors outside of Squid
> knowledge. A trivial example would be typical IP table rules that
> allow already accepted connections. If the acceptance criteria change,
> the admin may want the already accepted connections to be nicely
> closed to make sure they do not violate the new rules.
>
> 2) Given the number of squid.conf directives with side-effects (and
> side-effects of side-effects), it is unlikely that a reasonable effort
> would be sufficient to identify all of them. Moreover, in some cases,
> it would probably be very difficult to judge whether there is a side
> effect that warrants connection closure. While I agree that we should
> improve reconfigure handling in this area (and have posted specific
> proposals for that), I do not think what you are suggesting is a
> practical alternative for the proposed new directive in the
> foreseeable future.
>
>
>>> Do you mean to run over the persistent connections list and
>>> change the timeout?
>>
>> I mean:
>>
>> 1) for the client connections list, set the flag forcing keep-alive
>> to terminate after current request. - only if the ports config
>> changed.
>
> Port configuration adjustments is only one of the many changes the new
> option is meant to address. Moreover, correctly determining what port
> configuration changes should lead to automatic pconn closures is very
> difficult!
>
>
>> 2) For the server pconn idle pools call close() on all existing
>> comnnections. - but why? what condition requires this?
>
> Unknown. The option is for admins that know what those conditions are.
>
>
>> 3) for the cache_peer standby pools, calling close() - only if the
>> peer config changed.
>
> Same as (1) above.
>
>
>> 4) for the ICAP idle pools calling close(). - but why? what
>> condition needs this other than ICAP config changes, and thus
>> parent object holding them open being destructed?
>
> Same as (2) above.
>
>
>> 5) for the ICAP currently active connections set a flag closing
>> after current request. - but again why? what condition has
>> changed?
>
> Same as (2) above.
>
>
>
>>>> To support that we need some API updates to globally access
>>>> the currently active connection lists for servers/client/icap.
>>>> But there are other things like stats and reporting also
>>>> needing that API, so we should look at adding it instead of yet
>>>> another "temporary" workaround.
>>
>>> We do not need to make any change to support ICAP and server
>>> side connections. This is because we are storing this connections
>>> to IdleConnList or PconnPool structures.
>>
>>> Currently we can not change timeout for client-side keep-alived
>>> connections. We do not have a list with these connections
>>> available.
>>
>>
>> That is what I refer to as needed API. Stats reporting and delay
>> pool reassignnment also need this std::list of active
>> ConnStateData connections.
>
> I agree that having an API to iterate idle user pconns would be
> useful. Implementing that correctly is not easy because those pconns
> are owned by other objects. Do you insist that the API is developed as
> a precondition for this patch acceptance, despite the facts that it it
> is not needed for the new feature to work well, and that the proposed
> changes to the user connection code are very small/simple/unintrusive?
>
>
> Thank you,
>
> Alex.
>


From chtsanti at users.sourceforge.net  Wed Oct  1 16:48:12 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 01 Oct 2014 19:48:12 +0300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
Message-ID: <542C304C.5020904@users.sourceforge.net>

Browser vendors will get rid of SSL certificates that use SHA-1 to 
generate the hash that is then signed by the CA. For example, Google 
Chrome will start to show an "insecure" sign for certificates that are 
valid after 1.1.2016 and will generate a warning page for certificates 
that are valid after 1.1.2017 [1],[2],[4]. Microsoft will block 
certificates with SHA-1 after 1.1.2017 [3].

This patch:
   1) Add a new configuration option to select the signing hash for
      generated certificates: sslproxy_cert_sign_hash.

   2) If sslproxy_cert_sign_hash is not set, then use the sha256 hash.


[1] 
https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/2-R4XziFc7A/YO0ZSrX_X4wJ
[2] https://code.google.com/p/chromium/issues/detail?id=401365
[3] 
http://blogs.technet.com/b/pki/archive/2013/11/12/sha1-deprecation-policy.aspx
[4] 
http://googleonlinesecurity.blogspot.ch/2014/09/gradually-sunsetting-sha-1.html 


This is a Measurement Factory project
-------------- next part --------------
A non-text attachment was scrubbed...
Name: trunk-Sign-with-SHA-256-t3.patch
Type: text/x-patch
Size: 25155 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141001/8517e9bb/attachment-0001.bin>

From squid3 at treenet.co.nz  Thu Oct  2 01:10:30 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 02 Oct 2014 14:10:30 +1300
Subject: [squid-dev] [PATCH] Validate server certificates without bumping
In-Reply-To: <542C290E.4020801@users.sourceforge.net>
References: <542C290E.4020801@users.sourceforge.net>
Message-ID: <542CA606.7040701@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 2/10/2014 5:17 a.m., Tsantilas Christos wrote:
> Hi all,
> 
> This patch add support for the "Validate server certificates
> without bumping" use case described on the Peek and Splice wiki
> page: http://wiki.squid-cache.org/Features/SslPeekAndSplice
> 
> This patch send to the certificate validation helper the
> certificates and errors found in SslBump3 step, even if the
> splicing mode selected. In the case the validation helper found
> errors in certificates an error page returned to the http client.

Any particular reason driving this addition?

I think I can see some impact neding it but you should outline your
reasons for the commit.

NP: have not yet reviewed the patch itself.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULKYGAAoJELJo5wb/XPRjHFAIAJYEkp6VkOMCRhaeUO6VnAly
IGJ3a2bGtHEFrZumZqtjWxDz+cH77/y8MMsfwks9tfCIbbKOdRag8wR0Esrpqw8L
TuGlkJQtXPf0ijD1SnaorQv614k7SnyAC75PIxWoydaopW3K69wp71rGZV64WXGk
IKyoEnkSeH4Q1Je5kSsJlR8uldybnf9gIvjTdRZjj07I5OKFL+jkqhRUZy0H+21D
tbAqY91u0rj99NQFqVgKtsczU4AXDOziQIQPKmKou0I2WQWxufknpqaUxDYYn47q
2oQoP4Brlr33OiuMG53OLpx5GSNs8Yt/0sJaxWU91+WRArSrrO7OuMC49b5/BXc=
=OmU1
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Thu Oct  2 05:24:31 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 02 Oct 2014 18:24:31 +1300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542C2A71.5070305@users.sourceforge.net>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net>
Message-ID: <542CE18F.1010107@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 2/10/2014 5:23 a.m., Tsantilas Christos wrote:
> Ping....
> 
> So which is the decision? Can the patch go to trunk? Should the
> patch replaced with on other solution?
> 

We already have client_lifetime directive which is documented as doing
exactly what this new directive does.
(<http://www.squid-cache.org/Doc/config/client_lifetime/>).

However, what that directive *actually* does is very different from
the documented behaviour - it is also used for controlling
between-request idle timeout (breaking client_idle_pconn_timeout by
making it 1 week!) and also server request timout (pretending to be a
timeout for duration between sending request and starting to read reply).


I think extending it to a better solution for the above bugs and
scoping correctly.


1) In the existing client_side_reply.cc keep-alive conditions there
exists a line:

 else if (http->getConn() && http->getConn()->port->listenConn == NULL)

your patch retains it as:
  if (http->getConn()->port->listenConn == NULL)

 - this check is *supposed* to be the check for when, as you put it
"environments with long-lived connections where Squid configuration
... change during a single connection lifetime."
 - that is buggy. A check of !Comm::IsConnOpen() is what will
determine a live/dead listener socket.


2) There is more work to do to integrate it properly with the existing
pconn timeout and lifetime directives.

I request that we include these in this patch:

 * change ConnStateData::clientParseRequests() to use
conn->timeLeft(Config.Timeout.clientIdlePconn) when setting timeout
between requests.
 - this is another bug in the existing code that is retained by your
patch and needs fixing.

 * change your new directive "pconn_lifetime" to be
"client_pconn_lifetime" since it is specifically scoped to client
browser connections.
 - keeping or updating the client_lifetime documentation.

 * add some new directive (or find existing one that supposed to be
applied) for the server waiting-for-reply timout period.
 - use that instead of Config.Timeout.lifetime in src/http.cc

 * update tunnel.cc client connection timeouts to use conn->timeLeft().
  - maybe with some new tunnel-specific lifetime config item. But I
think your new config lifetime is appropriate for now at least.

NP: at this point Config.Timeout.lifetime should not be used anywhere
in Squid and can be dropped.

 * check the SSL code where Config.Timeout.lifetime is mentioned in
comment to see if the timeout there is still relevant. Probably is but
needs checking and the comment updating.



Optional / future work:

A) this depends on having a matching/symmetrical server_pconn_lifetime
directive for the server connections.

Since there would be separate lifetimes for each 'side', I think we
should followup with a patch making a Comm::Connection::startTime_ be
initialized by Comm::TcpAcceptor() and Comm::ConnOpener() with the
relevant lifetime.

Then timeLeft() method does not need dependency on SquidConfig.h and
connection lifetimes will actually be predictable across a
reconfigure. At present a reconfigure changing lifetime will change
some connections but not others depending on whether they actually
receive a request between the reconfigure and one of the two old/new
lifetimes.

B) after the above we can also de-duplicate the timeLeft(X) calls to
one inside commSetConnTimeout().

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULOGPAAoJELJo5wb/XPRjTnsIAJtxQgW1OOGo+xfcgnEKGjlm
lTSJNOFClJCD/06FBV4ky6A2d0lqYOsHj4n3I5shh12UA3knHUNcWRCX4+Utnh41
O+ixrKKLLdjDoriyzV3p9vN9n7xlEvlTWjyPJ/qpSkZi95QbOKhkl1rkt/V+l67R
VTNHGzHXat6FISPfkNiscLkSG+fXGxXbZcXMn+TO+3wJtcFJZrb41qJGYuGYUZyN
MFKKEhyfvuvd+pIlEJuq9NO55oh+4k7jn6z9ySAsDZ44XuI59enjVlggAJxgMi9b
OqbNjxYL21d6pd1Mjr35+M8oNTG1Q8LtvRN+Bpm6mNclUbWeZAMuGrUp1mSZje0=
=G9Kt
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Thu Oct  2 09:30:17 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Thu, 02 Oct 2014 12:30:17 +0300
Subject: [squid-dev] [PATCH] Validate server certificates without bumping
In-Reply-To: <542CA606.7040701@treenet.co.nz>
References: <542C290E.4020801@users.sourceforge.net>
 <542CA606.7040701@treenet.co.nz>
Message-ID: <542D1B29.8040005@users.sourceforge.net>

On 10/02/2014 04:10 AM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 2/10/2014 5:17 a.m., Tsantilas Christos wrote:
>> Hi all,
>>
>> This patch add support for the "Validate server certificates
>> without bumping" use case described on the Peek and Splice wiki
>> page: http://wiki.squid-cache.org/Features/SslPeekAndSplice
>>
>> This patch send to the certificate validation helper the
>> certificates and errors found in SslBump3 step, even if the
>> splicing mode selected. In the case the validation helper found
>> errors in certificates an error page returned to the http client.
>
> Any particular reason driving this addition?
>
> I think I can see some impact neding it but you should outline your
> reasons for the commit.

We are supporting certs validation for ssl bumped requests.
The certificates validation required because:
   1) Not all of the certificate errors are dangerous to the user.
   2) System admin may want to block some serious  server certificate 
errors

The validation helper allow analyzing the errors and decide to ingore 
them or abort immediately the connection.

This patch makes possible to do server certificates validation, without 
the need to bump the connection.


>
> NP: have not yet reviewed the patch itself.

OK.

>
> Amos
>


From squid3 at treenet.co.nz  Thu Oct  2 18:06:52 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 03 Oct 2014 07:06:52 +1300
Subject: [squid-dev] MinGW build of Squid-3.5
In-Reply-To: <542A5C99.4000901@treenet.co.nz>
References: <542A50A4.2090305@treenet.co.nz> <542A5C99.4000901@treenet.co.nz>
Message-ID: <542D943C.80909@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

FINALLY!!

As of trunk rev.13623 the last of the build issues in the default
feature set are resolved. Many of the helpers and features
self-disable now, but we get through the full build cycle and end up
with binaries.

Guido,
 can you check up on the Windows native MinGW build node please?

Also, any hints on getting MinGW compiled binaries to run on Windows?

 So far testing with a built helloworld.exe I just get it returning to
command line with no output. Similar to what happens on *nix systems
during a segfault.

Amos

On 30/09/2014 8:32 p.m., Amos Jeffries wrote:
> 
> If anyone is interested, here is how to build Squid-3.HEAD using
> the Debian MinGW cross-compiler.
> 
> There are a lot of bugs in the stable branches making it not worth 
> trying there. But 3.HEAD/trunk has been cleaned up so that it only 
> needs the below ./configure options with a minimum of fancy
> extras.
> 
<snip>
> 
> # Debian Packages Required: # # mingw-w64 #       provides GCC
> cross-compiler. GCC 4.9.1 or later required. # # mingw-w64-tools #
> provides pkg-config and other build-time tools used by autoconf #
> 
> # Build:
> 
> cd tpl/ ../configure \ --host=i686-w64-mingw32 \ 
> CXXFLAGS="-DWINVER=0x601 -D_WIN32_WINNT=0x601" \ 
> CFLAGS="-DWINVER=0x601 -D_WIN32_WINNT=0x601" \ BUILDCXX="g++" \ 
> BUILDCXXFLAGS="-DFOO" \ --enable-build-info="Windows (MinGW
> cross-build)"
> 
> make
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULZQ8AAoJELJo5wb/XPRj9XYH/048IuBa46yCPpLXDa4chYBh
L2qgF7mH/zjlt6wTCec3POY76Zm/mUAS7MBmnRwUfXiT8tmOdaoXOT8yxxlam9ou
0wHIcVTxySYnYHIZkENL/AkbKYy81JxvWXBQ3jmMeqzY7hAwiw+14aiPb71sP6XB
BhKNxcYbOCN5W5sLYrQPFXLquer5Lrk+PaoR+6v0GM+J/7Nub0GBcUwwvNZijMF9
b/3y3BU7ePXA2hYD/5dh9u5ShqRE0jvD8nq2fz+t5bAWY5i9LE9P9V6DBWGPlqyE
cKE1bJCnzlJXEIM08H9CkwnjMAXxyYiBKqJ1QZDIu31BbCn6Hv6NA1DzHUs02KQ=
=ljYV
-----END PGP SIGNATURE-----

From huaraz at moeller.plus.com  Thu Oct  2 22:25:33 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Thu, 2 Oct 2014 23:25:33 +0100
Subject: [squid-dev] make distcheck error
Message-ID: <m0kjcu$hgi$1@ger.gmane.org>

Spam detection software, running on the system "master.squid-cache.org",
has identified this incoming email as possible spam.  The original
message has been attached to this so you can view it or label
similar future email.  If you have any questions, see
@@CONTACT_ADDRESS@@ for details.

Content preview:  Hi Amos, I can not build on Jenkins as I get errors in make
   distcheck. /home/markus/bazaar/squid-3-bzr/trunk-comp/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h:50:
   undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)' /home/markus/bazaar/squid-3-bzr/trunk-comp/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h:50:
   undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)' collect2:
   error: ld returned 1 exit status make[5]: *** [tests/testACLMaxUserIP] Error
   1 [...] 

Content analysis details:   (7.8 points, 5.0 required)

 pts rule name              description
---- ---------------------- --------------------------------------------------
 0.2 STOX_REPLY_TYPE        No description available.
 0.0 RCVD_IN_DNSWL_BLOCKED  RBL: ADMINISTRATOR NOTICE: The query to DNSWL
                            was blocked.  See
                            http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                             for more information.
                            [81.174.172.105 listed in list.dnswl.org]
 0.9 SPF_FAIL               SPF: sender does not match SPF record (fail)
[SPF failed: Please see http://www.openspf.org/Why?s=mfrom;id=gcwsd-squid-dev%40m.gmane.org;ip=81.174.172.105;r=master.squid-cache.org]
 0.0 T_HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level mail
                            domains are different
 1.9 STOX_REPLY_TYPE_WITHOUT_QUOTES No description available.
 1.3 RDNS_NONE              Delivered to internal network by a host with no rDNS
 0.0 UNPARSEABLE_RELAY      Informational: message has unparseable relay lines
 3.5 TO_NO_BRKTS_MSFT       To: misformatted and supposed Microsoft tool


-------------- next part --------------
An embedded message was scrubbed...
From: "Markus Moeller" <huaraz at moeller.plus.com>
Subject: make distcheck error
Date: Thu, 2 Oct 2014 23:25:33 +0100
Size: 2020
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141002/6a290938/attachment.mht>

From chtsanti at users.sourceforge.net  Fri Oct  3 09:21:44 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Fri, 03 Oct 2014 12:21:44 +0300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542CE18F.1010107@treenet.co.nz>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
Message-ID: <542E6AA8.7050506@users.sourceforge.net>

On 10/02/2014 08:24 AM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 2/10/2014 5:23 a.m., Tsantilas Christos wrote:
>> Ping....
>>
>> So which is the decision? Can the patch go to trunk? Should the
>> patch replaced with on other solution?
>>
>
> We already have client_lifetime directive which is documented as doing
> exactly what this new directive does.
> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).
>
> However, what that directive *actually* does is very different from
> the documented behaviour - it is also used for controlling
> between-request idle timeout (breaking client_idle_pconn_timeout by
> making it 1 week!) and also server request timout (pretending to be a
> timeout for duration between sending request and starting to read reply).


My sense is that the client_lifetime is a timeout, which should 
triggered when the client waits for long time an HTTP or ICAP or DNS 
server to finish.
Probably should renamed to "client_wait_for_activity_timeout" and 
documentation should adapted. Also probably we need to fix it a little.

However it make sense to me a such timeout parameter. It is used in the 
case:
   "The web browser, waits 1 minute the dns server to respond, 1 minute 
helper to finish, 1 minute the ICAP server to respond, 2 minutes the 
HTTP server send first bytes of the answer, please close this connection 
I am not interested any more for the response..."

I should note that the pconn_lifetime has effect to server side 
connections too. And also try to not halt a served transaction. Only 
triggered after the transaction is finished, or while we are waiting for 
new requests.
It is a timeout used by administrators to resolve a problem without 
affecting active transactions.
There are major differences in use cases.


>
>
> I think extending it to a better solution for the above bugs and
> scoping correctly.
>
>
> 1) In the existing client_side_reply.cc keep-alive conditions there
> exists a line:
>
>   else if (http->getConn() && http->getConn()->port->listenConn == NULL)
>
> your patch retains it as:
>    if (http->getConn()->port->listenConn == NULL)
>
>   - this check is *supposed* to be the check for when, as you put it
> "environments with long-lived connections where Squid configuration
> ... change during a single connection lifetime."
>   - that is buggy. A check of !Comm::IsConnOpen() is what will
> determine a live/dead listener socket.

This is should fixed.

>
>
> 2) There is more work to do to integrate it properly with the existing
> pconn timeout and lifetime directives.
>
> I request that we include these in this patch:
>
>   * change ConnStateData::clientParseRequests() to use
> conn->timeLeft(Config.Timeout.clientIdlePconn) when setting timeout
> between requests.
>   - this is another bug in the existing code that is retained by your
> patch and needs fixing.
>

I think this change should not be done.
We may affect an valid existing request. If the timeLeft() is very 
short, we may have timeout while waiting data from helpers or ICAP server.

We need a client_wait_for_activity_timeout here.
This is what the "client_lifetime" now does.


>   * change your new directive "pconn_lifetime" to be
> "client_pconn_lifetime" since it is specifically scoped to client
> browser connections.
>   - keeping or updating the client_lifetime documentation.
>
>   * add some new directive (or find existing one that supposed to be
> applied) for the server waiting-for-reply timout period.
>   - use that instead of Config.Timeout.lifetime in src/http.cc
>
>   * update tunnel.cc client connection timeouts to use conn->timeLeft().
>    - maybe with some new tunnel-specific lifetime config item. But I
> think your new config lifetime is appropriate for now at least.
>
> NP: at this point Config.Timeout.lifetime should not be used anywhere
> in Squid and can be dropped.
>
>   * check the SSL code where Config.Timeout.lifetime is mentioned in
> comment to see if the timeout there is still relevant. Probably is but
> needs checking and the comment updating.

So you are suggesting to use two configuration parameters here. One for 
client_side connections and one for server side.

We need to require a Lifetime value in Comm::Connection constructor, for 
this. It will make this patch a little big, but it can be implemented 
without huge changes.

But still I am not sure that we should use different parameters for 
server and client connections....


>
>
>
> Optional / future work:
>
> A) this depends on having a matching/symmetrical server_pconn_lifetime
> directive for the server connections.
>
> Since there would be separate lifetimes for each 'side', I think we
> should followup with a patch making a Comm::Connection::startTime_ be
> initialized by Comm::TcpAcceptor() and Comm::ConnOpener() with the
> relevant lifetime.
>
> Then timeLeft() method does not need dependency on SquidConfig.h and
> connection lifetimes will actually be predictable across a
> reconfigure. At present a reconfigure changing lifetime will change
> some connections but not others depending on whether they actually
> receive a request between the reconfigure and one of the two old/new
> lifetimes.
>
> B) after the above we can also de-duplicate the timeLeft(X) calls to
> one inside commSetConnTimeout().
>
> Amos
>


From rousskov at measurement-factory.com  Fri Oct  3 14:52:42 2014
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 03 Oct 2014 08:52:42 -0600
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542CE18F.1010107@treenet.co.nz>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
Message-ID: <542EB83A.5060404@measurement-factory.com>

On 10/01/2014 11:24 PM, Amos Jeffries wrote:

> We already have client_lifetime directive which is documented as
> doing exactly what this new directive does. 
> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).

No, client_lifetime is not documented (and is not meant) to do what we
want pconn_lifetime to do. Client_lifetime is supposed to kill client
connections exceeding the configured lifetime, _regardless_ of the
client (and client connection) state. We do not want that for
pconn_lifetime which only affects _idle_ connections.

Moreover, pconn_lifetime is meant to apply to all connections, not
just the connections from a client.


> * change your new directive "pconn_lifetime" to be 
> "client_pconn_lifetime" since it is specifically scoped to client 
> browser connections.

pconn_lifetime is not exclusive to client browser connections.
Ideally, it should apply to _all_ Squid connections that are in an
"idle persistent connection" state. We are not there yet, but we
already support origin connections AFAIK.



> * update tunnel.cc client connection timeouts to use
> conn->timeLeft(). - maybe with some new tunnel-specific lifetime
> config item. But I think your new config lifetime is appropriate
> for now at least.

There is no concept of "idle persistent connection" for TCP tunnels so
we should not apply pconn_lifetime to them right now.


Hope this clarifies,

Alex.

From rousskov at measurement-factory.com  Fri Oct  3 14:56:58 2014
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 03 Oct 2014 08:56:58 -0600
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542E6AA8.7050506@users.sourceforge.net>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542E6AA8.7050506@users.sourceforge.net>
Message-ID: <542EB93A.90907@measurement-factory.com>

On 10/03/2014 03:21 AM, Tsantilas Christos wrote:
> But still I am not sure that we should use different parameters for
> server and client connections....

IMO, side-specific parameters are not needed for the intended use cases
of the pconn_lifetime feature -- long-lived connections getting out of
sync with the environment configuration.

Please do not forget that we also have ICAP side, DNS side, etc. We can
always add side-specific options if they become needed, but I hope there
will be no good use cases to justify them.


Thank you,

Alex.


From guido.serassio at acmeconsulting.it  Fri Oct  3 15:16:18 2014
From: guido.serassio at acmeconsulting.it (Guido Serassio)
Date: Fri, 3 Oct 2014 15:16:18 +0000
Subject: [squid-dev] R:  MinGW build of Squid-3.5
In-Reply-To: <542D943C.80909@treenet.co.nz>
References: <542A50A4.2090305@treenet.co.nz>
 <542A5C99.4000901@treenet.co.nz> <542D943C.80909@treenet.co.nz>
Message-ID: <0B31416C912584429DC230430752D91C0B9CB0C9@SBS.acmeconsulting.loc>

Hi Amos,

I'm in the way to rebuild my VMware infrastructure, now I'm very short in resources .... 
Currently the build machine is powered off, when the new VMware host will be ready, I can power on again the build machine, adding more memory and CPU to the VM (now is 1 vCPU with 1 GB memory .... )

Regards

Guido Serassio
Acme Consulting S.r.l.
Microsoft Silver Certified Partner
VMware Professional Partner
Via Carlo Capelli, 28             10146 - Torino (TO) - ITALY
Tel. : +39.011.9530135               Fax. : +39.011.9781115
Email: guido.serassio at acmeconsulting.it
WWW: http://www.acmeconsulting.it

> -----Messaggio originale-----
> Da: Amos Jeffries [mailto:squid3 at treenet.co.nz]
> Inviato: giovedì 2 ottobre 2014 20:07
> A: squid-dev at lists.squid-cache.org; Guido Serassio
> Oggetto: Re: [squid-dev] MinGW build of Squid-3.5
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> FINALLY!!
> 
> As of trunk rev.13623 the last of the build issues in the default feature set are
> resolved. Many of the helpers and features self-disable now, but we get through
> the full build cycle and end up with binaries.
> 
> Guido,
>  can you check up on the Windows native MinGW build node please?
> 
> Also, any hints on getting MinGW compiled binaries to run on Windows?
> 
>  So far testing with a built helloworld.exe I just get it returning to command line
> with no output. Similar to what happens on *nix systems during a segfault.
> 
> Amos
> 
> On 30/09/2014 8:32 p.m., Amos Jeffries wrote:
> >
> > If anyone is interested, here is how to build Squid-3.HEAD using the
> > Debian MinGW cross-compiler.
> >
> > There are a lot of bugs in the stable branches making it not worth
> > trying there. But 3.HEAD/trunk has been cleaned up so that it only
> > needs the below ./configure options with a minimum of fancy extras.
> >
> <snip>
> >
> > # Debian Packages Required: # # mingw-w64 #       provides GCC
> > cross-compiler. GCC 4.9.1 or later required. # # mingw-w64-tools #
> > provides pkg-config and other build-time tools used by autoconf #
> >
> > # Build:
> >
> > cd tpl/ ../configure \ --host=i686-w64-mingw32 \
> > CXXFLAGS="-DWINVER=0x601 -D_WIN32_WINNT=0x601" \
> > CFLAGS="-DWINVER=0x601 -D_WIN32_WINNT=0x601" \ BUILDCXX="g++" \
> > BUILDCXXFLAGS="-DFOO" \ --enable-build-info="Windows (MinGW
> > cross-build)"
> >
> > make
> >
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
> 
> iQEcBAEBAgAGBQJULZQ8AAoJELJo5wb/XPRj9XYH/048IuBa46yCPpLXDa4chYBh
> L2qgF7mH/zjlt6wTCec3POY76Zm/mUAS7MBmnRwUfXiT8tmOdaoXOT8yxxlam9
> ou
> 0wHIcVTxySYnYHIZkENL/AkbKYy81JxvWXBQ3jmMeqzY7hAwiw+14aiPb71sP6XB
> BhKNxcYbOCN5W5sLYrQPFXLquer5Lrk+PaoR+6v0GM+J/7Nub0GBcUwwvNZijMF
> 9
> b/3y3BU7ePXA2hYD/5dh9u5ShqRE0jvD8nq2fz+t5bAWY5i9LE9P9V6DBWGPlqyE
> cKE1bJCnzlJXEIM08H9CkwnjMAXxyYiBKqJ1QZDIu31BbCn6Hv6NA1DzHUs02KQ=
> =ljYV
> -----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Fri Oct  3 17:57:38 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sat, 04 Oct 2014 06:57:38 +1300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542EB83A.5060404@measurement-factory.com>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542EB83A.5060404@measurement-factory.com>
Message-ID: <542EE392.4080700@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 4/10/2014 3:52 a.m., Alex Rousskov wrote:
> On 10/01/2014 11:24 PM, Amos Jeffries wrote:
> 
>> We already have client_lifetime directive which is documented as 
>> doing exactly what this new directive does. 
>> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).
> 
> No, client_lifetime is not documented (and is not meant) to do what
> we want pconn_lifetime to do. Client_lifetime is supposed to kill
> client connections exceeding the configured lifetime, _regardless_
> of the client (and client connection) state. We do not want that
> for pconn_lifetime which only affects _idle_ connections.

Lets have a look at that documentation then...

http://www.squid-cache.org/Doc/config/client_lifetime/ :
"
The maximum amount of time a client (browser) is allowed to
remain connected to the cache process.
"

 - scope: "client (browser)"

And Christos patch description:
"
the desired maximum lifetime of a persistent connection.
"

Having read through the patch. What it does is *only* set a timer
running when the client connection is accepted, and limits (most)
timeouts applied later on that connection to be no more than the
configured total.

 - scope implied: all client (browser) connections


Christos patch is therefore implementing the _documented_ behaviour of
client_lifetime.


Sadly the actual current implementation of client_lifetime does
several undocumented and IMO wrong things.

What asked for is that those wrong things get moved to other
directives so they can still be controlled. And that client_lifetime
configure the new logic so that people using it already will actually
start to see it working as documented.

> 
> Moreover, pconn_lifetime is meant to apply to all connections, not 
> just the connections from a client.

Then Christos patch is seriously incomplete, because it only affects
connections arriving from clients. The lifetime is never set on any of
the other types of connection that make up "all".

> 
>> * change your new directive "pconn_lifetime" to be 
>> "client_pconn_lifetime" since it is specifically scoped to client
>>  browser connections.
> 
> pconn_lifetime is not exclusive to client browser connections. 
> Ideally, it should apply to _all_ Squid connections that are in an 
> "idle persistent connection" state. We are not there yet, but we 
> already support origin connections AFAIK.

The patch code presented does none of what you say above.
 - it *is* limited only to client connections,
 - it is *not* limited to measuring idle connections,
 - it is *not* limited to persistent connections,


Ironically, client_lifetime directives current implementation does
what you are describing. It starts measuring from the beginning of
client connections idle period (violating the documented behaviour),
and gets cleared when the connection stops being idle. For server
connections it strangely starts counting from end of the idle period
when the request is sent until reply come back.


> 
>> * update tunnel.cc client connection timeouts to use 
>> conn->timeLeft(). - maybe with some new tunnel-specific lifetime 
>> config item. But I think your new config lifetime is appropriate 
>> for now at least.
> 
> There is no concept of "idle persistent connection" for TCP tunnels
> so we should not apply pconn_lifetime to them right now.

You added "idle" to that description. The code in question *does not*
limit itself to idle connections, nor persistent connections.

Christos description (and the patch) is applied to all client
connections. Without "idle", tunnels do indeed meet the description of
a "persistent connection" and the timout I'm mentioning above is the
one being applied on the client end of the tunnel.

In fact Christos patch sets pconn_lifetime timeout on tunnel
connections to measure the parse and setup, then reverts to using
client_lifetime "maximum connection time" to cover the tunnel idle
periods *individually* (violating the documented behaviour of both).


So do we at least have a consensus on terminology:

 That "lifetime" for a connection means from its opening
accept()/connect() to its close()  ??

 That the bits named FOO_timeout means some duration of that lifetime
spent doing a "FOO" ??


Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULuOSAAoJELJo5wb/XPRj33oH+gJWtnnL+ygHj4BhVejy3l/V
Nq2XdU16stxwIC5mqUHUi0WfEdG2V25qI7z8KtKEaqjk94hRx2iV+xaq1kZ+dhM2
sGvdlxm4J/9xLCc+vn6EHddhzEWo+x1zp3F0GuM3MjiEkA15r0q6M0KtzVUai5Rw
WUyPlJkQik/oLqO928WZwy9Yl6uJIjWYwNkOysf0/is7DgLfKKMkzOX5M+0MWbKU
8p3ElDCmzJKmteZ1K+xA1B+U8p5yQIT61sb2xgSQTr1YbvT115K2+0Za92qM6Lmj
uUoOw+JwPKBE3ymGmuWko6l6j+N47FW4ioTmyEoL+6Lel2WQH6nrd298NjnwNFI=
=Q2bq
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Fri Oct  3 18:28:09 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sat, 04 Oct 2014 07:28:09 +1300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542EB93A.90907@measurement-factory.com>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542E6AA8.7050506@users.sourceforge.net>
 <542EB93A.90907@measurement-factory.com>
Message-ID: <542EEAB9.7010309@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 4/10/2014 3:56 a.m., Alex Rousskov wrote:
> On 10/03/2014 03:21 AM, Tsantilas Christos wrote:
>> But still I am not sure that we should use different parameters
>> for server and client connections....
> 
> IMO, side-specific parameters are not needed for the intended use
> cases of the pconn_lifetime feature -- long-lived connections
> getting out of sync with the environment configuration.
> 
> Please do not forget that we also have ICAP side, DNS side, etc. We
> can always add side-specific options if they become needed, but I
> hope there will be no good use cases to justify them.

We have an almost but not quite complete set of directionally specific
existing directives in this pattern below, (if we believe the docs) ...

Client connections:
* Total connection lifetime
 - client_lifetime, but only between requests
 + proposed "pconn_lifetime"

* Timeout from transaction initiation to first bytes arrival (request)
 - request_timeout

* Timeouts for a transaction specific acts
 - read_timeout, write_timeout, forward_timeout

* Timout for idle period between transactions
 - client_idle_pconn_timeout


Origin/Peer Server Connections:
* Total connection lifetime
  - none

* Timeout from transaction initiation to first bytes arrival (reply)
 - client_lifetime (undocumented, yuck)

* Timeouts for a transaction specific acts
 - read_timeout, write_timeout

* Timeout for idle period between transactions
 - server_idle_pconn_timeout


Note "pconn_lifetime" does not accurately describe the intention since
we have absolutely no idea whether a connection is "a pconn" or not
until too late in the connections lifecycle (on receiving reply headers).
 So forget the "pconn" part.


ICAP "side" OPTIONS is already controlling lifetime in the protocol.
DNS and the other UDP-based "sides" already have per-query timeouts
that apply better in UDP context.


The requests I made will give us this model for the HTTP "sides"...

Client connections:
* Total connection lifetime
 - client_lifetime (using proposed "pconn_lifetime" patch)

* Timeout from transaction initiation to first bytes arrival (request)
 - request_timeout

* Timeouts for transaction specific acts
 - action specific *_timeout

* Timout for idle period between transactions
 - client_idle_pconn_timeout


Origin/Peer Server Connections:
* Total connection lifetime
  - server_lifetime (using optional extension to pconn_lifetime patch)

* Timeout from transaction initiation to first bytes arrival (reply)
 - TODO (server_lifetime implicitly)

* Timeouts for transaction specific acts
 - action specific *_timeout

* Timeout for idle period between transactions
 - server_idle_pconn_timeout


Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULuq5AAoJELJo5wb/XPRjhecIANgXjJISBNTwIiGkea2eRGxl
85uDoJH+7PKKt8zUaPCAlWvmB7jVdpHy677UB2TGJjBf7k73wRfEsrtIl/p136LK
ta4+IEyteXNgIjTP1QutJ3jn3kAxjaggH0wC2oWq3GngazErkdzA5T4ue65NESil
mX5KNoD/i8KuAe6+Uro86IyRlfSDtnHL51XDnuacD8xauc7CiUN7g6HaSy47CApT
oLqlRz78UqIVLGVrwA/dH2xR3a90NUQ6e3EDLoyycqmBt+vCkPAsZRXdeVVr1X4W
bPCLipYl+sj+gSzu3TwV4vxmNjS5FAbJ7/FLbIVTtPc55dM4pHDGGtP8nyAEgP0=
=OwMT
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Fri Oct  3 18:58:43 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sat, 04 Oct 2014 07:58:43 +1300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542E6AA8.7050506@users.sourceforge.net>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542E6AA8.7050506@users.sourceforge.net>
Message-ID: <542EF1E3.10109@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 3/10/2014 10:21 p.m., Tsantilas Christos wrote:
> On 10/02/2014 08:24 AM, Amos Jeffries wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> On 2/10/2014 5:23 a.m., Tsantilas Christos wrote:
>>> Ping....
>>> 
>>> So which is the decision? Can the patch go to trunk? Should
>>> the patch replaced with on other solution?
>>> 
>> 
>> We already have client_lifetime directive which is documented as
>> doing exactly what this new directive does. 
>> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).
>> 
>> However, what that directive *actually* does is very different
>> from the documented behaviour - it is also used for controlling 
>> between-request idle timeout (breaking client_idle_pconn_timeout
>> by making it 1 week!) and also server request timout (pretending
>> to be a timeout for duration between sending request and starting
>> to read reply).
> 
> 
> My sense is that the client_lifetime is a timeout, which should 
> triggered when the client waits for long time an HTTP or ICAP or
> DNS server to finish. Probably should renamed to
> "client_wait_for_activity_timeout" and documentation should
> adapted. Also probably we need to fix it a little.

We already have a lot of different *_timeout directives being used for
activities. Each one named for the activity being watched.

What I am hearing you requesting, and seeing in your code, is a total
since-opened timeout. Covering all actions on that connection.


> 
> However it make sense to me a such timeout parameter. It is used in
> the case: "The web browser, waits 1 minute the dns server to
> respond, 1 minute helper to finish, 1 minute the ICAP server to
> respond, 2 minutes the HTTP server send first bytes of the answer,
> please close this connection I am not interested any more for the
> response..."
> 
> I should note that the pconn_lifetime has effect to server side 
> connections too. And also try to not halt a served transaction.
> Only triggered after the transaction is finished, or while we are
> waiting for new requests.

Yes, I noted that, and agree it is a good decision.

> It is a timeout used by administrators to resolve a problem
> without affecting active transactions. There are major differences
> in use cases.
> 

There is a lot of similarity here with:
* request_timeout which counts down the period between accept() and
first request bytes arriving, and
* client_idle_pconn_timeout which counts down the period between requests.

Although both those count in time relative to the current idle
activity, instead of time since connection accept().

I note that you said this pconn_lifetime did not need coding for ICAP
or server connections since those were stored in Pconn/Idle pools. The
Idle pool timeouts only count from start of idle period, just like
client_idle_pconn_timeout.
 So either request_timeout/client_idle_pconn_timeout make
pconn_lifetime needless or pconn_lifetime needs some since-connect()
equivalent on server connections (and ICAP).


I think your choice of scoping "lifetime" as since-accept() is right.


>> 
>> I think extending it to a better solution for the above bugs and 
>> scoping correctly.
>> 
>> 
>> 1) In the existing client_side_reply.cc keep-alive conditions
>> there exists a line:
>> 
>> else if (http->getConn() && http->getConn()->port->listenConn ==
>> NULL)
>> 
>> your patch retains it as: if (http->getConn()->port->listenConn
>> == NULL)
>> 
>> - this check is *supposed* to be the check for when, as you put
>> it "environments with long-lived connections where Squid
>> configuration ... change during a single connection lifetime." -
>> that is buggy. A check of !Comm::IsConnOpen() is what will 
>> determine a live/dead listener socket.
> 
> This is should fixed.
> 
>> 
>> 
>> 2) There is more work to do to integrate it properly with the
>> existing pconn timeout and lifetime directives.
>> 
>> I request that we include these in this patch:
>> 
>> * change ConnStateData::clientParseRequests() to use 
>> conn->timeLeft(Config.Timeout.clientIdlePconn) when setting
>> timeout between requests. - this is another bug in the existing
>> code that is retained by your patch and needs fixing.
>> 
> 
> I think this change should not be done. We may affect an valid
> existing request. If the timeLeft() is very short, we may have
> timeout while waiting data from helpers or ICAP server.

Your patch is already setting keepalive=false when the pipeline may
have others still waiting responses, and in fact some of those may be
fully serviced by a server and only awaiting their reply data to be
written to the client.

If you want lifetime to have no bad side effects on a client
connection, then you need the timeout handler for it to set the client
connection to half-closed (no more reading) and let the existing
transactions (all of them) complete.

If you are doing the half-closed action, then it is better to set idle
timeout using timeLeft() in ConnStateData::clientParseRequests()
instead of playing with requests keep-alive flags.


> 
> We need a client_wait_for_activity_timeout here. This is what the
> "client_lifetime" now does.
> 

No it waits for a random request and sets the keepalive flag to close.
Activity on other requests is *probably* pending.

> 
>> * change your new directive "pconn_lifetime" to be 
>> "client_pconn_lifetime" since it is specifically scoped to
>> client browser connections. - keeping or updating the
>> client_lifetime documentation.
>> 
>> * add some new directive (or find existing one that supposed to
>> be applied) for the server waiting-for-reply timout period. - use
>> that instead of Config.Timeout.lifetime in src/http.cc
>> 
>> * update tunnel.cc client connection timeouts to use
>> conn->timeLeft(). - maybe with some new tunnel-specific lifetime
>> config item. But I think your new config lifetime is appropriate
>> for now at least.
>> 
>> NP: at this point Config.Timeout.lifetime should not be used
>> anywhere in Squid and can be dropped.
>> 
>> * check the SSL code where Config.Timeout.lifetime is mentioned
>> in comment to see if the timeout there is still relevant.
>> Probably is but needs checking and the comment updating.
> 
> So you are suggesting to use two configuration parameters here. One
> for client_side connections and one for server side.
> 
> We need to require a Lifetime value in Comm::Connection
> constructor, for this. It will make this patch a little big, but it
> can be implemented without huge changes.

Optional parameter I think. It will not be used everywhere just yet.

> 
> But still I am not sure that we should use different parameters
> for server and client connections....
> 

See my last post to Alex.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULvHjAAoJELJo5wb/XPRjMN0H/04IqpUy5FxNwp9XrYIYkyFh
V9iwzGyz4VeyCVFrRw57mAPtS+Wf8TIbCMhQtWjpM1jeMiaL3T3ljpr+YmTnYplK
NIOJBcBNMu2/HWpMiGlqffk9wtPhGJJEcRhsdut05AOD0QPCJYUIhR17JZO0aecL
z2mnoITfK60e5sD1B1iqRRXR+D98LqZl4/ykOVhmxv6riqZzOe4Hy3qglZpvI4f8
z+I382AbDa86iapDOM9oBttK2K8ut1+CSlk2hhEVHme3ZJTJqPvuyWkpUbUiniNb
vNWaaHDZZNxwk9EUHx94nCgLP0SSI2OLTpud0lsUTHRAd8OQ3SPuq1uYnYrXMEw=
=If6c
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Fri Oct  3 19:02:46 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sat, 04 Oct 2014 08:02:46 +1300
Subject: [squid-dev] R:  MinGW build of Squid-3.5
In-Reply-To: <0B31416C912584429DC230430752D91C0B9CB0C9@SBS.acmeconsulting.loc>
References: <542A50A4.2090305@treenet.co.nz> <542A5C99.4000901@treenet.co.nz>
 <542D943C.80909@treenet.co.nz>
 <0B31416C912584429DC230430752D91C0B9CB0C9@SBS.acmeconsulting.loc>
Message-ID: <542EF2D6.1090009@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 4/10/2014 4:16 a.m., Guido Serassio wrote:
> Hi Amos,
> 
> I'm in the way to rebuild my VMware infrastructure, now I'm very
> short in resources .... Currently the build machine is powered off,
> when the new VMware host will be ready, I can power on again the
> build machine, adding more memory and CPU to the VM (now is 1 vCPU
> with 1 GB memory .... )
> 

Aha. Okay thank you.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULvLWAAoJELJo5wb/XPRjQ4wIAIYjFEFjvbWIioA3n9Ehj5bU
Lc1Dlb5oa5UnIiNTzarPgO0xFnpSJDAg7CLf2jzZfel22eeZ1QNeJ1/rsnPLvW63
jVoJNYeIjHbQH0Jex8jqv0xvKey5Adrum3Lfv/RgDgCp3XBbvwa00Xxc3du8n1qG
ziHAsusjI64ZlGfqBj52QbTuxNMBAVuOzOceT1+emXM2ZhH4BLXCfuZ3FzOPd/g4
35C1ywuLp8Ql6NuvdBx3hV74Rjns70aIq2r9PtXWzm0i5GxZn/PCS2fzmNEhAC7G
obOOD3RH+/uWA3cFU+aXKZekXT2hAUCV2PvEb1DlsRrckWaI4TqBmwsr3kNR+a0=
=fkD3
-----END PGP SIGNATURE-----

From gkinkie at gmail.com  Fri Oct  3 19:38:48 2014
From: gkinkie at gmail.com (Kinkie)
Date: Fri, 3 Oct 2014 21:38:48 +0200
Subject: [squid-dev] R: MinGW build of Squid-3.5
In-Reply-To: <542EF2D6.1090009@treenet.co.nz>
References: <542A50A4.2090305@treenet.co.nz> <542A5C99.4000901@treenet.co.nz>
 <542D943C.80909@treenet.co.nz>
 <0B31416C912584429DC230430752D91C0B9CB0C9@SBS.acmeconsulting.loc>
 <542EF2D6.1090009@treenet.co.nz>
Message-ID: <CA+Y8hcPRDGpr2vUrBapUsorFJTxMy3kjvoPJ__4b8TudJTGxxA@mail.gmail.com>

If you wish I can temporarily set up a Windows node @rackspace.
It can be probably offset (cost-wise) by decommissioning some old Ubuntu

On Fri, Oct 3, 2014 at 9:02 PM, Amos Jeffries <squid3 at treenet.co.nz> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 4/10/2014 4:16 a.m., Guido Serassio wrote:
>> Hi Amos,
>>
>> I'm in the way to rebuild my VMware infrastructure, now I'm very
>> short in resources .... Currently the build machine is powered off,
>> when the new VMware host will be ready, I can power on again the
>> build machine, adding more memory and CPU to the VM (now is 1 vCPU
>> with 1 GB memory .... )
>>
>
> Aha. Okay thank you.
>
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJULvLWAAoJELJo5wb/XPRjQ4wIAIYjFEFjvbWIioA3n9Ehj5bU
> Lc1Dlb5oa5UnIiNTzarPgO0xFnpSJDAg7CLf2jzZfel22eeZ1QNeJ1/rsnPLvW63
> jVoJNYeIjHbQH0Jex8jqv0xvKey5Adrum3Lfv/RgDgCp3XBbvwa00Xxc3du8n1qG
> ziHAsusjI64ZlGfqBj52QbTuxNMBAVuOzOceT1+emXM2ZhH4BLXCfuZ3FzOPd/g4
> 35C1ywuLp8Ql6NuvdBx3hV74Rjns70aIq2r9PtXWzm0i5GxZn/PCS2fzmNEhAC7G
> obOOD3RH+/uWA3cFU+aXKZekXT2hAUCV2PvEb1DlsRrckWaI4TqBmwsr3kNR+a0=
> =fkD3
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev



-- 
    Francesco

From rousskov at measurement-factory.com  Fri Oct  3 23:21:59 2014
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 03 Oct 2014 17:21:59 -0600
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542EE392.4080700@treenet.co.nz>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542EB83A.5060404@measurement-factory.com> <542EE392.4080700@treenet.co.nz>
Message-ID: <542F2F97.6060805@measurement-factory.com>

On 10/03/2014 11:57 AM, Amos Jeffries wrote:
> On 4/10/2014 3:52 a.m., Alex Rousskov wrote:
>> On 10/01/2014 11:24 PM, Amos Jeffries wrote:
> 
>>> We already have client_lifetime directive which is documented
>>> as doing exactly what this new directive does. 
>>> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).
> 
>> No, client_lifetime is not documented (and is not meant) to do
>> what we want pconn_lifetime to do. Client_lifetime is supposed to
>> kill client connections exceeding the configured lifetime,
>> _regardless_ of the client (and client connection) state. We do
>> not want that for pconn_lifetime which only affects _idle_
>> connections.
> 
> Lets have a look at that documentation then...
> 
> http://www.squid-cache.org/Doc/config/client_lifetime/ : " The
> maximum amount of time a client (browser) is allowed to remain
> connected to the cache process. "
> 
> - scope: "client (browser)"

Yes.


> And Christos patch description: " the desired maximum lifetime of a
> persistent connection. "

Yes. No "side" limitation here.


> Having read through the patch. What it does is *only* set a timer 
> running when the client connection is accepted, and limits (most) 
> timeouts applied later on that connection to be no more than the 
> configured total.

The patch should limit the _total_ pconn lifetime (but enforce that
limit only when Squid thinks the persistent connection is [going to
be] idle). Also, it should apply the same logic to origin server
connections that we pool. AFAICT, the patch does all of the above. If
it does not, there is a bug in the patch. More on that further below.

Please note that I use the term "idle from Squid point of view" as in
"may be closed without causing much harm". That is, it is an opposite
of "in the middle of handling some transaction". We could split hairs
arguing about some corner cases, but I hope we do not have to do that.


>> Moreover, pconn_lifetime is meant to apply to all connections,
>> not just the connections from a client.
> 
> Then Christos patch is seriously incomplete, because it only
> affects connections arriving from clients. The lifetime is never
> set on any of the other types of connection that make up "all".

AFAICT, the patch affects both HTTP user and origin connections. The
origin connections are affected by pconn.cc changes. Perhaps I
misinterpreted that change or you missed it?

I am not 100% sure, but I suspect those pconn.cc changes affect ICAP
connection as well.

As we discussed, the patch does not add new code to pool idle HTTP
user connections -- that big change is outside this patch scope, but
when/if that code is added, the same approach can be applied there
trivially.


>>> * update tunnel.cc client connection timeouts to use 
>>> conn->timeLeft(). - maybe with some new tunnel-specific
>>> lifetime config item. But I think your new config lifetime is
>>> appropriate for now at least.
> 
>> There is no concept of "idle persistent connection" for TCP
>> tunnels so we should not apply pconn_lifetime to them right now.
> 
> You added "idle" to that description. The code in question *does
> not* limit itself to idle connections, nor persistent connections.

I did not add that. The proposed feature should apply to "idle"
connections only, as documented: "When set, Squid will close a
now-idle persistent connection that ..."


> So do we at least have a consensus on terminology:
> 
> That "lifetime" for a connection means from its opening 
> accept()/connect() to its close()  ??

Yes, as documented in the patch: 'Connection lifetime is the time
period from the connection acceptance or opening time until "now"'.


> That the bits named FOO_timeout means some duration of that
> lifetime spent doing a "FOO" ??

Timeout and lifetime are very different things so I would not mix them
up like that, but yes, agents may do FOO during their lifetime (often
many times!).


Hope this clarifies,

Alex.

From noc at squid-cache.org  Sat Oct  4 10:13:50 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Oct 2014 12:13:50 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #490
In-Reply-To: <92145427.0.1412370905126.JavaMail.hudson@eu.squid-cache.org>
References: <92145427.0.1412370905126.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <342993449.2.1412417630657.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/490/changes>

Changes:

[Amos Jeffries] Fix library dependency issue in rev.13604

TODO: build true library dependency map and re-order all LDADD
statements according to the hierarchy found.

------------------------------------------
[...truncated 3844 lines...]
mv -f .deps/check_group.Tpo .deps/check_group.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o ext_unix_group_acl check_group.o ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o ext_unix_group_acl check_group.o  ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl/unix_group'>
Making all in wbinfo_group
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl/wbinfo_group'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../helpers/external_acl/wbinfo_group/ext_wbinfo_group_acl.pl.in >ext_wbinfo_group_acl || (/bin/rm -f -f ext_wbinfo_group_acl ; exit 1)
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl/wbinfo_group'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/external_acl'>
Making all in log_daemon
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon'>
Making all in DB
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon/DB'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../helpers/log_daemon/DB/log_db_daemon.pl.in >log_db_daemon || (/bin/rm -f -f log_db_daemon ; exit 1)
pod2man log_db_daemon log_db_daemon.8
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon/DB'>
Making all in file
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon/file'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT log_file_daemon.o -MD -MP -MF .deps/log_file_daemon.Tpo -c -o log_file_daemon.o ../../../../helpers/log_daemon/file/log_file_daemon.cc
mv -f .deps/log_file_daemon.Tpo .deps/log_file_daemon.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o log_file_daemon log_file_daemon.o -L../../../lib ../../../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o log_file_daemon log_file_daemon.o  -L<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/lib> ../../../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon/file'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/log_daemon'>
Making all in negotiate_auth
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth'>
Making all in kerberos
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/kerberos'>
make[5]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/kerberos'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I../../../../helpers/negotiate_auth/kerberos  -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT negotiate_kerberos_auth.o -MD -MP -MF .deps/negotiate_kerberos_auth.Tpo -c -o negotiate_kerberos_auth.o ../../../../helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.cc
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I../../../../helpers/negotiate_auth/kerberos  -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT negotiate_kerberos_pac.o -MD -MP -MF .deps/negotiate_kerberos_pac.Tpo -c -o negotiate_kerberos_pac.o ../../../../helpers/negotiate_auth/kerberos/negotiate_kerberos_pac.cc
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I../../../../helpers/negotiate_auth/kerberos  -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT negotiate_kerberos_auth_test.o -MD -MP -MF .deps/negotiate_kerberos_auth_test.Tpo -c -o negotiate_kerberos_auth_test.o ../../../../helpers/negotiate_auth/kerberos/negotiate_kerberos_auth_test.cc
mv -f .deps/negotiate_kerberos_auth.Tpo .deps/negotiate_kerberos_auth.Po
mv -f .deps/negotiate_kerberos_pac.Tpo .deps/negotiate_kerberos_pac.Po
mv -f .deps/negotiate_kerberos_auth_test.Tpo .deps/negotiate_kerberos_auth_test.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o negotiate_kerberos_auth negotiate_kerberos_auth.o negotiate_kerberos_pac.o ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lnettle -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o negotiate_kerberos_auth_test negotiate_kerberos_auth_test.o ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lnettle -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o negotiate_kerberos_auth_test negotiate_kerberos_auth_test.o  ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lnettle -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o negotiate_kerberos_auth negotiate_kerberos_auth.o negotiate_kerberos_pac.o  ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lnettle -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lm -lnsl -lresolv -lcap -lrt -ldl
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/kerberos'>
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/kerberos'>
Making all in wrapper
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/wrapper'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT negotiate_wrapper.o -MD -MP -MF .deps/negotiate_wrapper.Tpo -c -o negotiate_wrapper.o ../../../../helpers/negotiate_auth/wrapper/negotiate_wrapper.cc
mv -f .deps/negotiate_wrapper.Tpo .deps/negotiate_wrapper.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o negotiate_wrapper_auth negotiate_wrapper.o ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lnettle -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o negotiate_wrapper_auth negotiate_wrapper.o  ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lnettle -lm -lnsl -lresolv -lcap -lrt -ldl
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth/wrapper'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/negotiate_auth'>
Making all in url_rewrite
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite'>
Making all in fake
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite/fake'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT fake.o -MD -MP -MF .deps/fake.Tpo -c -o fake.o ../../../../helpers/url_rewrite/fake/fake.cc
mv -f .deps/fake.Tpo .deps/fake.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o url_fake_rewrite fake.o ../../../compat/libcompat-squid.la  
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o url_fake_rewrite fake.o  ../../../compat/.libs/libcompat-squid.a
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite/fake'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/url_rewrite'>
Making all in storeid_rewrite
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite'>
Making all in file
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite/file'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../helpers/storeid_rewrite/file/storeid_file_rewrite.pl.in >storeid_file_rewrite || (/bin/rm -f -f storeid_file_rewrite ; exit 1)
pod2man storeid_file_rewrite storeid_file_rewrite.8
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite/file'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/storeid_rewrite'>
Making all in ntlm_auth
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth'>
Making all in fake
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth/fake'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I../../../../lib  -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ntlm_fake_auth.o -MD -MP -MF .deps/ntlm_fake_auth.Tpo -c -o ntlm_fake_auth.o ../../../../helpers/ntlm_auth/fake/ntlm_fake_auth.cc
mv -f .deps/ntlm_fake_auth.Tpo .deps/ntlm_fake_auth.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o ntlm_fake_auth ntlm_fake_auth.o ../../../lib/ntlmauth/libntlmauth.la ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lnettle -lcrypt -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o ntlm_fake_auth ntlm_fake_auth.o  ../../../lib/ntlmauth/.libs/libntlmauth.a ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lnettle -lcrypt -lm -lnsl -lresolv -lcap -lrt -ldl
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth/fake'>
Making all in smb_lm
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth/smb_lm'>
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I../../../../lib  -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ntlm_smb_lm_auth.o -MD -MP -MF .deps/ntlm_smb_lm_auth.Tpo -c -o ntlm_smb_lm_auth.o ../../../../helpers/ntlm_auth/smb_lm/ntlm_smb_lm_auth.cc
mv -f .deps/ntlm_smb_lm_auth.Tpo .deps/ntlm_smb_lm_auth.Po
/bin/sh ../../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o ntlm_smb_lm_auth ntlm_smb_lm_auth.o ../../../lib/smblib/libsmblib.la ../../../lib/rfcnb/librfcnb.la ../../../lib/ntlmauth/libntlmauth.la ../../../lib/libmiscencoding.la ../../../compat/libcompat-squid.la  -lnettle -lcrypt -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o ntlm_smb_lm_auth ntlm_smb_lm_auth.o  ../../../lib/smblib/.libs/libsmblib.a ../../../lib/rfcnb/.libs/librfcnb.a ../../../lib/ntlmauth/.libs/libntlmauth.a ../../../lib/.libs/libmiscencoding.a ../../../compat/.libs/libcompat-squid.a -lnettle -lcrypt -lm -lnsl -lresolv -lcap -lrt -ldl
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth/smb_lm'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth'>
make[4]: Nothing to be done for `all-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers/ntlm_auth'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers'>
make[3]: Nothing to be done for `all-am'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/helpers'>
Making all in src
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
gawk -f ../../src/cf_gen_defines <../../src/cf.data.pre >cf_gen_defines.cci || (/bin/rm -f -f cf_gen_defines.cci && exit 1)
sed \
	-e "s%[@]DEFAULT_HTTP_PORT[@]%3128%g" \
	-e "s%[@]DEFAULT_ICP_PORT[@]%3130%g" \
	-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%nobody%g" \
	-e "s%[@]DEFAULT_MIME_TABLE[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf%g"> \
	-e "s%[@]DEFAULT_SSL_CRTD[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/`echo> ssl_crtd  | sed 's,x,x,;s/$//'`%g" \
	-e "s%[@]DEFAULT_UNLINKD[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/`echo> unlinkd | sed 's,x,x,;s/$//'`%g" \
	-e "s%[@]DEFAULT_PINGER[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/`echo> pinger | sed 's,x,x,;s/$//'`%g" \
	-e "s%[@]DEFAULT_DISKD[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/`echo> diskd | sed 's,x,x,;s/$//'`%g" \
	-e "s%[@]DEFAULT_LOGFILED[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/`echo> log_file_daemon | sed 's,x,x,;s/$//'`%g;" \
	-e "s%[@]DEFAULT_CACHE_LOG[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log%g"> \
	-e "s%[@]DEFAULT_ACCESS_LOG[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/access.log%g"> \
	-e "s%[@]DEFAULT_STORE_LOG[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/store.log%g"> \
	-e "s%[@]DEFAULT_PID_FILE[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/run/squid.pid%g"> \
	-e "s%[@]DEFAULT_NETDB_FILE[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/netdb.state%g"> \
	-e "s%[@]DEFAULT_SWAP_DIR[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/cache/squid%g"> \
	-e "s%[@]DEFAULT_SSL_DB_DIR[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/lib/ssl_db%g"> \
	-e "s%[@]DEFAULT_ICON_DIR[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons%g"> \
	-e "s%[@]DEFAULT_CONFIG_DIR[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc%g"> \
	-e "s%[@]DEFAULT_ERROR_DIR[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/errors%g"> \
	-e "s%[@]DEFAULT_PREFIX[@]%<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst%g"> \
	-e "s%[@]DEFAULT_HOSTS[@]%/etc/hosts%g" \
	-e "s%[@]SQUID[@]%SQUID\ 3.HEAD-BZR%g" \
	< ../../src/cf.data.pre >cf.data
gawk -f ../../src/mk-string-arrays.awk < ../../src/err_type.h > err_type.cc || (/bin/rm -f -f err_type.cc && exit 1)
gawk -f ../../src/mk-string-arrays.awk < ../../src/err_detail_type.h | sed 's/ERR_DETAIL_//' > err_detail_type.cc || (/bin/rm -f -f err_detail_type.cc && exit 1)
gawk -f ../../src/mk-globals-c.awk < ../../src/globals.h > globals.cc || (/bin/rm -f -f globals.cc && exit 1)
gawk -f ../../src/mk-string-arrays.awk < ../../src/hier_code.h > hier_code.cc || (/bin/rm -f -f hier_code.cc && exit 1)
gawk -f ../../src/mk-string-arrays.awk < ../../src/icp_opcode.h > icp_opcode.cc || (/bin/rm -f -f icp_opcode.cc && exit 1)
gawk -f ../../src/mk-string-arrays.awk < ../../src/LogTags.h | sed 's/LOG_//' > LogTags.cc || (/bin/rm -f -f LogTags.cc && exit 1)
gawk -f ../../src/mk-string-arrays.awk < ../../src/lookup_t.h > lookup_t.cc || (/bin/rm -f -f lookup_t.cc && exit 1)
/bin/sh ../../src/repl_modules.sh lru > repl_modules.cc
ccache g++ -g -O2 -o cf_gen ../../src/cf_gen.cc -I../../src -I../include/ -I../src
./cf_gen cf.data ../../src/cf.data.depend
make  all-recursive
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making all in base
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/base'>
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c -o AsyncCall.lo ../../../src/base/AsyncCall.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c -o AsyncJob.lo ../../../src/base/AsyncJob.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c -o AsyncCallQueue.lo ../../../src/base/AsyncCallQueue.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c -o CharacterSet.lo ../../../src/base/CharacterSet.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc  -fPIC -DPIC -o .libs/AsyncCall.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc  -fPIC -DPIC -o .libs/AsyncJob.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc  -fPIC -DPIC -o .libs/AsyncCallQueue.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc  -fPIC -DPIC -o .libs/CharacterSet.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc -o AsyncJob.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc -o AsyncCall.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc -o CharacterSet.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc -o AsyncCallQueue.o >/dev/null 2>&1
mv -f .deps/AsyncJob.Tpo .deps/AsyncJob.Plo
mv -f .deps/CharacterSet.Tpo .deps/CharacterSet.Plo
mv -f .deps/AsyncCall.Tpo .deps/AsyncCall.Plo
mv -f .deps/AsyncCallQueue.Tpo .deps/AsyncCallQueue.Plo
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c -o RunnersRegistry.lo ../../../src/base/RunnersRegistry.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c -o TextException.lo ../../../src/base/TextException.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc  -fPIC -DPIC -o .libs/TextException.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc  -fPIC -DPIC -o .libs/RunnersRegistry.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc -o RunnersRegistry.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc -o TextException.o >/dev/null 2>&1
mv -f .deps/RunnersRegistry.Tpo .deps/RunnersRegistry.Plo
mv -f .deps/TextException.Tpo .deps/TextException.Plo
/bin/sh ../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o libbase.la  AsyncCall.lo AsyncJob.lo AsyncCallQueue.lo CharacterSet.lo RunnersRegistry.lo TextException.lo  
libtool: link: /usr/bin/ar cru .libs/libbase.a .libs/AsyncCall.o .libs/AsyncJob.o .libs/AsyncCallQueue.o .libs/CharacterSet.o .libs/RunnersRegistry.o .libs/TextException.o 
libtool: link: ranlib .libs/libbase.a
libtool: link: ( cd ".libs" && rm -f "libbase.la" && ln -s "../libbase.la" "libbase.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/base'>
Making all in anyp
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/anyp'>
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c -o PortCfg.lo ../../../src/anyp/PortCfg.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c -o ProtocolType.lo ../../../src/anyp/ProtocolType.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT UriScheme.lo -MD -MP -MF .deps/UriScheme.Tpo -c -o UriScheme.lo ../../../src/anyp/UriScheme.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc  -fPIC -DPIC -o .libs/PortCfg.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc  -fPIC -DPIC -o .libs/ProtocolType.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT UriScheme.lo -MD -MP -MF .deps/UriScheme.Tpo -c ../../../src/anyp/UriScheme.cc  -fPIC -DPIC -o .libs/UriScheme.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc -o ProtocolType.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT UriScheme.lo -MD -MP -MF .deps/UriScheme.Tpo -c ../../../src/anyp/UriScheme.cc -o UriScheme.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc -o PortCfg.o >/dev/null 2>&1
mv -f .deps/UriScheme.Tpo .deps/UriScheme.Plo
mv -f .deps/ProtocolType.Tpo .deps/ProtocolType.Plo
mv -f .deps/PortCfg.Tpo .deps/PortCfg.Plo
/bin/sh ../../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o libanyp.la  PortCfg.lo ProtocolType.lo UriScheme.lo  
libtool: link: /usr/bin/ar cru .libs/libanyp.a .libs/PortCfg.o .libs/ProtocolType.o .libs/UriScheme.o 
libtool: link: ranlib .libs/libanyp.a
libtool: link: ( cd ".libs" && rm -f "libanyp.la" && ln -s "../libanyp.la" "libanyp.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/anyp'>
Making all in helper
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/helper'>
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ChildConfig.lo -MD -MP -MF .deps/ChildConfig.Tpo -c -o ChildConfig.lo ../../../src/helper/ChildConfig.cc
/bin/sh ../../libtool --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT Reply.lo -MD -MP -MF .deps/Reply.Tpo -c -o Reply.lo ../../../src/helper/Reply.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT Reply.lo -MD -MP -MF .deps/Reply.Tpo -c ../../../src/helper/Reply.cc  -fPIC -DPIC -o .libs/Reply.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT ChildConfig.lo -MD -MP -MF .deps/ChildConfig.Tpo -c ../../../src/helper/ChildConfig.cc  -fPIC -DPIC -o .libs/ChildConfig.o
In file included from ../../../src/helper/ChildConfig.cc:15:
../../../src/helper/ChildConfig.h: In constructor ‘Helper::ChildConfig::ChildConfig()’:
../../../src/helper/ChildConfig.h:24: error: type ‘Helper::ChildConfig’ is not a direct base of ‘Helper::ChildConfig’
make[4]: *** [ChildConfig.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
In file included from ../../../src/helper.h:20,
                 from ../../../src/helper/Reply.cc:15:
../../../src/helper/ChildConfig.h: In constructor ‘Helper::ChildConfig::ChildConfig()’:
../../../src/helper/ChildConfig.h:24: error: type ‘Helper::ChildConfig’ is not a direct base of ‘Helper::ChildConfig’
make[4]: *** [Reply.lo] Error 1
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/helper'>
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [all] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
../../../src/helper/ChildConfig.h:24: error: type ‘Helper::ChildConfig’ is not a direct base of ‘Helper::ChildConfig’
make[4]: *** [ChildConfig.lo] Error 1
../../../src/helper/ChildConfig.h:24: error: type ‘Helper::ChildConfig’ is not a direct base of ‘Helper::ChildConfig’
make[4]: *** [Reply.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Sat Oct  4 10:46:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Oct 2014 12:46:37 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#90
In-Reply-To: <1601126076.1.1412371048644.JavaMail.hudson@eu.squid-cache.org>
References: <1601126076.1.1412371048644.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1470522497.3.1412419597366.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/90/changes>


From huaraz at moeller.plus.com  Sat Oct  4 13:51:46 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Sat, 4 Oct 2014 14:51:46 +0100
Subject: [squid-dev] make distcheck error
In-Reply-To: <m0kjcu$hgi$1@ger.gmane.org>
References: <m0kjcu$hgi$1@ger.gmane.org>
Message-ID: <m0ou1m$q6v$1@ger.gmane.org>

The latest trunk fix gets me further, but clang complains about:


libtool: compile:  ccache 
clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src 
 -I../../include -Werror -Qunused-arguments -D_REENTRANT -g -O2 -MT 
Reply.lo -MD -MP -MF .deps/Reply.Tpo -c 
../../../src/helper/Reply.cc  -fPIC -DPIC -o .libs/Reply.o
In file included from ../../../src/helper/ChildConfig.cc:1:
In file included from ../../../src/helper/ChildConfig.cc:14:
../../../src/helper/ChildConfig.h:24:21: error: delegating constructors are 
permitted only in C++11
    ChildConfig() : ChildConfig(0) {}
                    ^~~~~~~~~~~
1 error generated.
make[4]: *** [ChildConfig.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
In file included from ../../../src/helper/Reply.cc:1:
In file included from ../../../src/helper/Reply.cc:14:
In file included from ../../../src/helper.h:19:
../../../src/helper/ChildConfig.h:24:21: error: delegating constructors are 
permitted only in C++11
    ChildConfig() : ChildConfig(0) {}
                    ^~~~~~~~~~~
1 error generated.

Markus



"Markus Moeller"  wrote in message news:m0kjcu$hgi$1 at ger.gmane.org...

Spam detection software, running on the system "master.squid-cache.org",
has identified this incoming email as possible spam.  The original
message has been attached to this so you can view it or label
similar future email.  If you have any questions, see
@@CONTACT_ADDRESS@@ for details.

Content preview:  Hi Amos, I can not build on Jenkins as I get errors in 
make
   distcheck. 
/home/markus/bazaar/squid-3-bzr/trunk-comp/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h:50:
   undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)' 
/home/markus/bazaar/squid-3-bzr/trunk-comp/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h:50:
   undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)' 
collect2:
   error: ld returned 1 exit status make[5]: *** [tests/testACLMaxUserIP] 
Error
   1 [...]

Content analysis details:   (7.8 points, 5.0 required)

pts rule name              description
---- ---------------------- --------------------------------------------------
0.2 STOX_REPLY_TYPE        No description available.
0.0 RCVD_IN_DNSWL_BLOCKED  RBL: ADMINISTRATOR NOTICE: The query to DNSWL
                            was blocked.  See
                            http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                             for more information.
                            [81.174.172.105 listed in list.dnswl.org]
0.9 SPF_FAIL               SPF: sender does not match SPF record (fail)
[SPF failed: Please see 
http://www.openspf.org/Why?s=mfrom;id=gcwsd-squid-dev%40m.gmane.org;ip=81.174.172.105;r=master.squid-cache.org]
0.0 T_HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level mail
                            domains are different
1.9 STOX_REPLY_TYPE_WITHOUT_QUOTES No description available.
1.3 RDNS_NONE              Delivered to internal network by a host with no 
rDNS
0.0 UNPARSEABLE_RELAY      Informational: message has unparseable relay 
lines
3.5 TO_NO_BRKTS_MSFT       To: misformatted and supposed Microsoft tool








_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev 



From squid3 at treenet.co.nz  Sat Oct  4 15:36:12 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sun, 05 Oct 2014 04:36:12 +1300
Subject: [squid-dev] make distcheck error
In-Reply-To: <m0ou1m$q6v$1@ger.gmane.org>
References: <m0kjcu$hgi$1@ger.gmane.org> <m0ou1m$q6v$1@ger.gmane.org>
Message-ID: <543013EC.6030302@treenet.co.nz>

On 5/10/2014 2:51 a.m., Markus Moeller wrote:
> The latest trunk fix gets me further, but clang complains about:
> 
> 
> libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../..
> -I../../../include -I../../../lib -I../../../src -I../../include -Werror
> -Qunused-arguments -D_REENTRANT -g -O2 -MT Reply.lo -MD -MP -MF
> .deps/Reply.Tpo -c ../../../src/helper/Reply.cc  -fPIC -DPIC -o
> .libs/Reply.o
> In file included from ../../../src/helper/ChildConfig.cc:1:
> In file included from ../../../src/helper/ChildConfig.cc:14:
> ../../../src/helper/ChildConfig.h:24:21: error: delegating constructors
> are permitted only in C++11
>    ChildConfig() : ChildConfig(0) {}
>                    ^~~~~~~~~~~
> 1 error generated.
> make[4]: *** [ChildConfig.lo] Error 1
> make[4]: *** Waiting for unfinished jobs....
> In file included from ../../../src/helper/Reply.cc:1:
> In file included from ../../../src/helper/Reply.cc:14:
> In file included from ../../../src/helper.h:19:
> ../../../src/helper/ChildConfig.h:24:21: error: delegating constructors
> are permitted only in C++11
>    ChildConfig() : ChildConfig(0) {}
>                    ^~~~~~~~~~~
> 1 error generated.
> 
> Markus
> 

Thanks. Working on it.

Amos

From noc at squid-cache.org  Sun Oct  5 10:51:54 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 12:51:54 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-6
	#491
In-Reply-To: <342993449.2.1412417630657.JavaMail.hudson@eu.squid-cache.org>
References: <342993449.2.1412417630657.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1459753364.21.1412506314827.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/491/changes>


From noc at squid-cache.org  Sun Oct  5 10:52:45 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 12:52:45 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#178
In-Reply-To: <567369317.169.1411459744366.JavaMail.hudson@eu.squid-cache.org>
References: <567369317.169.1411459744366.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <868031393.22.1412506365624.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/178/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 491
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Sun Oct  5 10:59:32 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 12:59:32 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#179
In-Reply-To: <868031393.22.1412506365624.JavaMail.hudson@eu.squid-cache.org>
References: <868031393.22.1412506365624.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1869848293.23.1412506772327.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/179/>

------------------------------------------
Started by user Amos Jeffries
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Sun Oct  5 11:06:56 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 13:06:56 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #40
In-Reply-To: <862104809.170.1411462999259.JavaMail.hudson@eu.squid-cache.org>
References: <862104809.170.1411462999259.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1459155283.24.1412507217373.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/40/changes>

Changes:

[Amos Jeffries] Remove C++11'ism in rev.13604

We are not quite going to require C++11 yet. Revert Helper::ChildConfig
default constructor to C++03 syntax.

[Amos Jeffries] Fix library dependency issue in rev.13604

TODO: build true library dependency map and re-order all LDADD
statements according to the hierarchy found.

[Amos Jeffries] Windows: remove alternative main()

As a side effect this causes Windows builds to use the wrapper function
for handling exceptions.

[Amos Jeffries] Fix --enable-win32-service compile errors

[Amos Jeffries] Windows: add missing file permission definitions

* initgroups() shim was building, but header not included correctly.

* POSIX 5.6 / 6.5 Protection Bits for group access do not exist in
windows MinGW. Define as 0-bits until better API is found.

[Amos Jeffries] Add missing boilerplate for rev.13621

[Amos Jeffries] Portability: provide xstatvfs() shim for system call statvfs()

statfs() and struct statfs have been deprecated for years. Hoewver the
POSIX statvfs replacements are still not universally available.

Remove deprecated statfs() and struct statfs usage from Squid. Although
they may still be used by the xstatvfs() compatibility wrapper if they
are the only available API.

[Christos Tsantilas] Polish peek-and-splice related code part2

- Record SSL bump action in Ssl::ServerBump::act at step3

[Christos Tsantilas] Polish peek-and-splice related code

- Record SSL bump action at each bumping step in the Ssl::ServerBump.
The new Ssl::ServerBump::act member added for this purpose.

- Split Ssl::PeerConnector::checkForPeekAndSplice  to two methods
(checkForPeekAndSplice and checkForPeekAndSpliceDone) add some
documentation, and polish the code.

- Polish  httpsSslBumpStep2AccessCheckDone function (client_side.cc file)

This is a Measurement Factory project

[Amos Jeffries] Windows: getppid() is not supported.

The PID and thus parent process PID concept is not available in Windows
and MinGW at least lacks the API mechanism.

This may re-open an issue with kid processes notifying the coordinator
when they are shutting down. If so we need to find an alternative
mechanism to replace this use of kill(getppid(), SIGUSR1)

[Amos Jeffries] Polish: cleanup IDENT header

[Amos Jeffries] Cleanup: convert AuthUserIP from CBDATA to MEMPROXY class

This object was not needing to be passed as callback arguments
but was using CBDATA type to gain memory pooling.

Converting to the correct pooling mechanism removes some more
uses of cbdataFree() and ensures the object and its members
destructors are called properly.

[Amos Jeffries] Cleanup: fix various uninitialized class members

Also, simplify some destructors. xfree() is faster than
safe_free() and both are ok in a destructor.

Detected by Coverity Scan. Issue 740527, 740532, 740533,
740534, 740563, 1241964

[Amos Jeffries] Cleanup: fix various uninitialized class members

Also, simplify some destructors. xfree() is faster than
safe_free() and both are ok in a destructor.

Detected by Coverity Scan. Issue 971423, 1135444, 1135445,
1231353, 1231354, 1231355, 1231356, 1234503, 1241504,
740531, 740566

[Amos Jeffries] Cleanup: use SBuf::npos instead of npos in SBuf::append()

Small experiment. It is possible on some systems that std::npos / ::npos
is defined with a different integer size and value.
This may be what is confusing Coverity scan and producing buffer overrun
alerts in the append() c-string with default parameter case.

[Amos Jeffries] Cleanup: convert external_acl_format to ref-counted pooled object

CBDATA was used as a makeshift way to memory pool and ref-count these
objects. Do it properly now.

[Amos Jeffries] Fix various null dereferences

Fairly rare occurances hard to hit but still possible. Any one of these
could crash Squid in their particular circumstances.

Detected by Coverity Scan. Issue 1187972, 1187973, 1232097, 1241502.

[Amos Jeffries] Fix crash reading malformed config files

If ConfigParser::QuotedOrToEol() happend to return NULL. Which may happen
if there is no token before end of current file the auth module config
parser would crash.

Detected by Coverity Scan. Issue 1222662.

[Christos Tsantilas] Do not crash when sending %ssl::cert_subject to external ACL w/o certificate.

An ACL check in ConnStateData::postHttpsAccept (e.g., when dealing with an
intercepted SSL connection) uses an HttpRequest object that is not yet linked
with the ConnStateData object. Do not blindly dereference the pointer to the
latter.

This is a Measurement Factory project

[Christos Tsantilas] Fixes a squid crash when a foreign protocol client connected to an https_port

The Ssl::Bio::read will fail to recognize SSL protocol and will return "-1"
as readed SSL bytes. The Ssl::ClientBio::read must return error (-1)
in this case.

This is a Measurement Factory project

[Christos Tsantilas] Send selected SSL version and cipher to the certificate validation helper.

This patch sends the selected cipher suite and the selected SSL/TLS version
to the certificate verification helper using the "proto_version=v" and
"cipher=c" key=value pairs.

This is a Measurement Factory project

[Amos Jeffries] Windows: rename Ip::Address::*AddrInfo() methods

On MinGW at least macro replacement appears to be case insensitive.
The lower-case freeaddrinfo/initaddrinfo system functions are defined
with macros, both in MinGW headers and Squid libcompat.

[Amos Jeffries] Portability: do not explicitly name enum type in enumeration values

Some compilers (specifically MinGW at least) do not accept the name of
enum type being in the symbol where enumerated values are used.

ie. we must use Helper::Okay instead of Helper::ResultCode::Okay.

[Amos Jeffries] SourceLayout: shuffle HelperChildConfig into libhelper.la

[Amos Jeffries] SourceLayout: rename auth module files to match guidelines

* Squid-3 coding guidelines require that files are named after the
class(es) contained within. Rename the files containing auth Config
classes to match.

* Remove the unused DefaultAuthenticateChildrenMax macros.

* simplify included headers in auth modules.

* alphabetize the order auth modules are detected.

[Amos Jeffries] SourceLayout: shuffle helper protocol primitives to helper/libhelper.la

* create namespace Helper in helper/libhelper.la and subdirectory

* shuffle HelperReply::Result_ to Helper::ResultCode in helper/ResultCode.h

* shuffle HelperReply to Helper::Reply in helper/Reply.*

* move helper_request to Helper::Request in helper/Request.h

* link to helper/forward.h for predefines

------------------------------------------
[...truncated 11351 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/05 11:06:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/05 11:06:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/05 11:06:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 11:06:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Sun Oct  5 12:01:18 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 14:01:18 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
 3.HEAD-amd64-FreeBSD-9.1-clang #662
In-Reply-To: <412157509.187.1411654887292.JavaMail.hudson@eu.squid-cache.org>
References: <412157509.187.1411654887292.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <881017383.25.1412510478521.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-9.1-clang/662/changes>


From noc at squid-cache.org  Sun Oct  5 12:12:29 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 14:12:29 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #41
In-Reply-To: <1459155283.24.1412507217373.JavaMail.hudson@eu.squid-cache.org>
References: <1459155283.24.1412507217373.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <184023227.26.1412511149613.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/41/>


From squid3 at treenet.co.nz  Sun Oct  5 12:34:34 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 06 Oct 2014 01:34:34 +1300
Subject: [squid-dev] make distcheck error
In-Reply-To: <543013EC.6030302@treenet.co.nz>
References: <m0kjcu$hgi$1@ger.gmane.org> <m0ou1m$q6v$1@ger.gmane.org>
 <543013EC.6030302@treenet.co.nz>
Message-ID: <54313AD9.7040502@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Should be good now.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUMTrZAAoJELJo5wb/XPRjxtYIAOOuQq3Owya9wOHViMIrUG27
QL50zcZTM5Ua1fP4poXg9H7D99H9iB9GXEbW+GVz3BChV+PDGvT8OKGpWtLk2XSs
qyGpQ9Bd8lC2rEvNrCgiyr7b50kJJ1taR6/h+KyLCkzr/5y1YYbg+AnaO/Ly4Wf3
NO9OqqjJAzTxzvf2ZfHEGgsDOfqjvIs/q5c2HgUP4NYJ/vBNctFquxHh7FRO+g+v
9fldsOZ8NuRK0OIYoVAvqEnpJHvjZfbVSr4IpyfKoXvFIAknWgZjqgrZ+doPqzLL
/8sqPd5r/1Kbyq/+Jn/Snhv02M71fj8qWBL/NxEZgu7eRFIwl1FtFPgi8f/lR28=
=mghZ
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Sun Oct  5 13:34:38 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 15:34:38 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-FreeBSD-9.1 #764
In-Reply-To: <1879741860.188.1411656032364.JavaMail.hudson@eu.squid-cache.org>
References: <1879741860.188.1411656032364.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2087503163.27.1412516078236.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-9.1/764/changes>


From noc at squid-cache.org  Sun Oct  5 16:58:06 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 18:58:06 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#180
In-Reply-To: <1869848293.23.1412506772327.JavaMail.hudson@eu.squid-cache.org>
References: <1869848293.23.1412506772327.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <60696561.37.1412528286649.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/180/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 492
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Sun Oct  5 17:01:01 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 19:01:01 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #42
Message-ID: <2063124831.38.1412528461418.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/42/changes>

Changes:

[Amos Jeffries] Cleanup: restoreCapabilities() takes a bool parameter

------------------------------------------
[...truncated 12631 lines...]
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f /tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f /tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f /tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f /tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/05 17:00:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/05 17:00:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/05 17:00:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/05 17:00:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-13887/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Sun Oct  5 18:13:45 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Oct 2014 20:13:45 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #43
In-Reply-To: <2063124831.38.1412528461418.JavaMail.hudson@eu.squid-cache.org>
References: <2063124831.38.1412528461418.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1325204652.44.1412532825327.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/43/>


From squid3 at treenet.co.nz  Mon Oct  6 06:47:44 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 06 Oct 2014 19:47:44 +1300
Subject: [squid-dev] [PATCH] Validate server certificates without bumping
In-Reply-To: <542D1B29.8040005@users.sourceforge.net>
References: <542C290E.4020801@users.sourceforge.net>
 <542CA606.7040701@treenet.co.nz> <542D1B29.8040005@users.sourceforge.net>
Message-ID: <54323B10.1070306@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

+1

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUMjsQAAoJELJo5wb/XPRjfIYIAKeBoBH1tyKGr7d0/cyd/nRh
+vuuSCDNajhF4Vr8i9X/zFsn+uXd/jA2EdXrnXWtP3/RspaupZyxqZiY8OrKGVXO
NjE7EaEBCsOeW45upMM3HRlmWr8kgQvRCcbo1QZ9WYYDgbCp4NTqHxkGRzh6ECh+
CM+TXQdJjsXxm8aeKmp80YAYAAS6eaunCO6IPIHinXXTKao2hS9dpQPnV4jPuaaC
uegCJpKd/2QGJsBXch0eEylBJ/bFmUenJcRjjCdm7Ox+k4k5XzW0dua26Ar8nKzx
FWKVIIo2O+cRJhdM48wUSLFJXwDuggR/TJuoCXvUMnef2uYxPNtA86VV37F/Uug=
=QEJx
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Mon Oct  6 06:49:56 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 06 Oct 2014 19:49:56 +1300
Subject: [squid-dev] [PATCH] Bug 3803 : IDENT upgrade pt1
In-Reply-To: <542A62A1.1010809@treenet.co.nz>
References: <542A62A1.1010809@treenet.co.nz>
Message-ID: <54323B94.9090505@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

In absence of feedback this will be applied in a few days for use in 3.5.

Amos

On 30/09/2014 8:58 p.m., Amos Jeffries wrote:
> Begin the process of conversion for IdentStateData to an AsyncJob. 
> Referencing it as a 'job' below
> 
> * convert the object from CBDATA struct to a class with 
> CBDATA_CLASS2() API.
> 
> * Bug 3803 is caused by a lack of proper cleanup and consistent
> exit actions terminating the job. Take the core logic changes from
> the tested bug patch and;
> 
> 1) define a swanSong() method to cleanup the memory allocated
> 
> 2) define a deleteThis() method to emulate AsyncJob::deleteThis()
> 
> * Locate all code paths leveraging conn->close() to trigger
> cleanup via the connection close handler and convert to explicit
> deleteThis() with excuse. Including a few which were not but need
> to in order to terminate the job correctly as fixed in bug 3803
> patch.
> 
> The actions performed are nearly identical to the original code.
> The differences are that many code paths now omit an AsyncCall step
> going via the Comm close handler, and that all paths terminating
> the IDENT lookup now go through swanSong() cleanup.
> 
> 
> Further cleanup converting to a full AsyncJob is not included,
> since there is an explicit hash of running IdentStateData object
> pointers being used in the old code.
> 
> Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUMjuTAAoJELJo5wb/XPRjQq4IALsUFZA+ORZUK48/lqWKgwNn
SanR/p3MLtQLI62MfUzP/daM7ihzIXhA9+idEUlt2/i+ghmY7JRwQ+QY8graa7NO
3f3WMs/a+esehPbQgFq8ltzKTL1eH593HPJqh3waQLa6zJ7/l+zwUSsMkqBMneCY
C/WSiZCFgW2/huRMgczjNs+pc2eMw/CHrVIGcgKS2DvmDgg8i5m9zmj+2a9URAq6
uJJ5L7AOBcQ9CuSMm5Xktuy2PmmKJPviR4gRRfjsxuR8JhpM0bXgEDK73CZ6EDq1
LtHpmSoVjLgqWcsku2fgr2SEJ7Di1sinXIWzVSVLBhzSpym57vHT1eYyO4k1Voc=
=pyE5
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Mon Oct  6 07:13:32 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 06 Oct 2014 20:13:32 +1300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <542C304C.5020904@users.sourceforge.net>
References: <542C304C.5020904@users.sourceforge.net>
Message-ID: <5432411C.1080904@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 2/10/2014 5:48 a.m., Tsantilas Christos wrote:
> Browser vendors will get rid of SSL certificates that use SHA-1 to 
> generate the hash that is then signed by the CA. For example,
> Google Chrome will start to show an "insecure" sign for
> certificates that are valid after 1.1.2016 and will generate a
> warning page for certificates that are valid after 1.1.2017
> [1],[2],[4]. Microsoft will block certificates with SHA-1 after
> 1.1.2017 [3].
> 

IMHO this directive should not be necessary.

1) when mimicing certs server provides the hash type.

2) cleanly generated certs should always be using a secure hash in
compliance with TLS specification.
 The TLS/SSL maximum version supplied by the client also drives the
hashes the server is able to use:
 - MD5 for SSL,
 - SHA1 for TLS 1.0/1.1,
 - SHA256 for TLS 1.2+

Allowing configuration of the hash seems to be unnecessary, and adds
potential for configuring impossible situations like SSL without MD5,
or more likely SHA-256 with TLS/1.0.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUMkEcAAoJELJo5wb/XPRjsHQH/1f5UcseEDvHFcRkj2R1HEQs
AE5INITUI2DaJ1A48FA/HhI2vEqlaAB/opmlCEhU+oVswQMJx6joLdoTut8ra7W6
QBDQ359G25d6sMkyuGAswqNhj1Vbtdr1TgY9lSSKL7B5F7h2/hH8t0QdYnnx1szI
fA4OVWcxCROidWFfArcCg05pPFZhX7gUTXeab2xJNju8aclWb/vL5wmlAXi15dTz
7bVrucs0ZVxLDOylhXkHuNTIU0VB9HD80wv3/+QylXKv+7HbfOsBU3AnRdCHs9UA
0zM7sTR33G1UAVCMg7knfXwlYoDFN04nLVCt62dPKh6vqJRWXyPTimVHtmpPNBY=
=qVaZ
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Mon Oct  6 12:56:03 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Mon, 06 Oct 2014 15:56:03 +0300
Subject: [squid-dev] [PATCH] pconn_lifetime
In-Reply-To: <542EF1E3.10109@treenet.co.nz>
References: <5404A3B7.3000404@users.sourceforge.net>
 <5405148F.8080902@treenet.co.nz> <5405740D.6030708@users.sourceforge.net>
 <5405B7F3.7000006@treenet.co.nz> <5405EF70.6090407@measurement-factory.com>
 <542C2A71.5070305@users.sourceforge.net> <542CE18F.1010107@treenet.co.nz>
 <542E6AA8.7050506@users.sourceforge.net> <542EF1E3.10109@treenet.co.nz>
Message-ID: <54329163.6030600@users.sourceforge.net>

On 10/03/2014 09:58 PM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 3/10/2014 10:21 p.m., Tsantilas Christos wrote:
>> On 10/02/2014 08:24 AM, Amos Jeffries wrote:
>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>>>
>>> On 2/10/2014 5:23 a.m., Tsantilas Christos wrote:
>>>> Ping....
>>>>
>>>> So which is the decision? Can the patch go to trunk? Should
>>>> the patch replaced with on other solution?
>>>>
>>>
>>> We already have client_lifetime directive which is documented as
>>> doing exactly what this new directive does.
>>> (<http://www.squid-cache.org/Doc/config/client_lifetime/>).
>>>
>>> However, what that directive *actually* does is very different
>>> from the documented behaviour - it is also used for controlling
>>> between-request idle timeout (breaking client_idle_pconn_timeout
>>> by making it 1 week!) and also server request timout (pretending
>>> to be a timeout for duration between sending request and starting
>>> to read reply).
>>
>>
>> My sense is that the client_lifetime is a timeout, which should
>> triggered when the client waits for long time an HTTP or ICAP or
>> DNS server to finish. Probably should renamed to
>> "client_wait_for_activity_timeout" and documentation should
>> adapted. Also probably we need to fix it a little.
>
> We already have a lot of different *_timeout directives being used for
> activities. Each one named for the activity being watched.
>
> What I am hearing you requesting, and seeing in your code, is a total
> since-opened timeout. Covering all actions on that connection.
>
>
>>
>> However it make sense to me a such timeout parameter. It is used in
>> the case: "The web browser, waits 1 minute the dns server to
>> respond, 1 minute helper to finish, 1 minute the ICAP server to
>> respond, 2 minutes the HTTP server send first bytes of the answer,
>> please close this connection I am not interested any more for the
>> response..."
>>
>> I should note that the pconn_lifetime has effect to server side
>> connections too. And also try to not halt a served transaction.
>> Only triggered after the transaction is finished, or while we are
>> waiting for new requests.
>
> Yes, I noted that, and agree it is a good decision.
>
>> It is a timeout used by administrators to resolve a problem
>> without affecting active transactions. There are major differences
>> in use cases.
>>
>
> There is a lot of similarity here with:
> * request_timeout which counts down the period between accept() and
> first request bytes arriving, and
> * client_idle_pconn_timeout which counts down the period between requests.
>
> Although both those count in time relative to the current idle
> activity, instead of time since connection accept().
>
> I note that you said this pconn_lifetime did not need coding for ICAP
> or server connections since those were stored in Pconn/Idle pools. The
> Idle pool timeouts only count from start of idle period, just like
> client_idle_pconn_timeout.
>   So either request_timeout/client_idle_pconn_timeout make
> pconn_lifetime needless or pconn_lifetime needs some since-connect()
> equivalent on server connections (and ICAP).

My sense is that the pconn_lifetime scoping lifetime since-connect in 
this patch.
Am I wrong, is there any bug to this patch?

>
> I think your choice of scoping "lifetime" as since-accept() is right.
>

....
>
>>> 2) There is more work to do to integrate it properly with the
>>> existing pconn timeout and lifetime directives.
>>>
>>> I request that we include these in this patch:
>>>
>>> * change ConnStateData::clientParseRequests() to use
>>> conn->timeLeft(Config.Timeout.clientIdlePconn) when setting
>>> timeout between requests. - this is another bug in the existing
>>> code that is retained by your patch and needs fixing.
>>>
>>
>> I think this change should not be done. We may affect an valid
>> existing request. If the timeLeft() is very short, we may have
>> timeout while waiting data from helpers or ICAP server.
>
> Your patch is already setting keepalive=false when the pipeline may
> have others still waiting responses, and in fact some of those may be
> fully serviced by a server and only awaiting their reply data to be
> written to the client.

However it is not the same as aborting a served transaction (including 
POST or PUT requests)

>
> If you want lifetime to have no bad side effects on a client
> connection, then you need the timeout handler for it to set the client
> connection to half-closed (no more reading) and let the existing
> transactions (all of them) complete.

Maybe this is a good optimization, and probably we should add it to this 
patch.

> If you are doing the half-closed action, then it is better to set idle
> timeout using timeLeft() in ConnStateData::clientParseRequests()
> instead of playing with requests keep-alive flags.
>
>
>>
>> We need a client_wait_for_activity_timeout here. This is what the
>> "client_lifetime" now does.
>>
>
> No it waits for a random request and sets the keepalive flag to close.
> Activity on other requests is *probably* pending.


Currently the client_lifetime now is set to client_side connection after 
we received all of the HTTP request. This is not a connection lifetime 
timeout.

Also set this read timeout to squid-to-server connection after sent all 
HTTP request.

We may read new HTTP pipelined requests on this connection, but we may 
not read. This timeout will be triggered when no input data come to this 
connection for the timeout period.

 From what I can understand reading the code (not the documentation), is 
that this timeout intended to abort connection which does not have any 
activity for long time. This is why this timeout has big value.
Most possible is that the client will wait all of this time for an 
answer from squid, or client already hclosed the connection but for a 
reason squid did not know it.

Also when this timeout triggered squid will just close client-side 
connection. No keep-alive flag is set.

We may want to change the current behaviour of this cfg parameter, but 
my opinion is that we should fix the documentation, and cfg parameter 
name ...








From chtsanti at users.sourceforge.net  Mon Oct  6 14:50:45 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Mon, 06 Oct 2014 17:50:45 +0300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <5432411C.1080904@treenet.co.nz>
References: <542C304C.5020904@users.sourceforge.net>
 <5432411C.1080904@treenet.co.nz>
Message-ID: <5432AC45.70709@users.sourceforge.net>

On 10/06/2014 10:13 AM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 2/10/2014 5:48 a.m., Tsantilas Christos wrote:
>> Browser vendors will get rid of SSL certificates that use SHA-1 to
>> generate the hash that is then signed by the CA. For example,
>> Google Chrome will start to show an "insecure" sign for
>> certificates that are valid after 1.1.2016 and will generate a
>> warning page for certificates that are valid after 1.1.2017
>> [1],[2],[4]. Microsoft will block certificates with SHA-1 after
>> 1.1.2017 [3].
>>
>
> IMHO this directive should not be necessary.
>
> 1) when mimicing certs server provides the hash type.

We have found problems when trying to mimic everything...

For mimicking hash type, probably we need to support ACLs:
   sslproxy_cert_sign_hash_mimic allow acl1 acl2
But this is a different project. We do not cover this cases in this patch...

>
> 2) cleanly generated certs should always be using a secure hash in
> compliance with TLS specification.
>   The TLS/SSL maximum version supplied by the client also drives the
> hashes the server is able to use:
>   - MD5 for SSL,
>   - SHA1 for TLS 1.0/1.1,
>   - SHA256 for TLS 1.2+

The web servers does not provide a different Certificates signing 
hashing algorithm depending on client TLS version supported....
Also the user may wants to use SHA384  ...

>
> Allowing configuration of the hash seems to be unnecessary, and adds
> potential for configuring impossible situations like SSL without MD5,
> or more likely SHA-256 with TLS/1.0.





>
> Amos


From squid3 at treenet.co.nz  Mon Oct  6 16:26:33 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 07 Oct 2014 05:26:33 +1300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <5432AC45.70709@users.sourceforge.net>
References: <542C304C.5020904@users.sourceforge.net>
 <5432411C.1080904@treenet.co.nz> <5432AC45.70709@users.sourceforge.net>
Message-ID: <5432C2B9.5020501@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 7/10/2014 3:50 a.m., Tsantilas Christos wrote:
> On 10/06/2014 10:13 AM, Amos Jeffries wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> On 2/10/2014 5:48 a.m., Tsantilas Christos wrote:
>>> Browser vendors will get rid of SSL certificates that use SHA-1
>>> to generate the hash that is then signed by the CA. For
>>> example, Google Chrome will start to show an "insecure" sign
>>> for certificates that are valid after 1.1.2016 and will
>>> generate a warning page for certificates that are valid after
>>> 1.1.2017 [1],[2],[4]. Microsoft will block certificates with
>>> SHA-1 after 1.1.2017 [3].
>>> 
>> 
>> IMHO this directive should not be necessary.
>> 
>> 1) when mimicing certs server provides the hash type.
> 
> We have found problems when trying to mimic everything...
> 

I know. What problem was there mimicing the hash?

> For mimicking hash type, probably we need to support ACLs: 
> sslproxy_cert_sign_hash_mimic allow acl1 acl2 But this is a
> different project. We do not cover this cases in this patch...
> 
>> 
>> 2) cleanly generated certs should always be using a secure hash
>> in compliance with TLS specification. The TLS/SSL maximum version
>> supplied by the client also drives the hashes the server is able
>> to use: - MD5 for SSL, - SHA1 for TLS 1.0/1.1, - SHA256 for TLS
>> 1.2+
> 
> The web servers does not provide a different Certificates signing 
> hashing algorithm depending on client TLS version supported.... 
> Also the user may wants to use SHA384  ...

Hmm. yes.
 Would it be easy to check for minimum values to prevent the below
examples?

> 
>> 
>> Allowing configuration of the hash seems to be unnecessary, and
>> adds potential for configuring impossible situations like SSL
>> without MD5, or more likely SHA-256 with TLS/1.0.
> 

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUMsK5AAoJELJo5wb/XPRjNB8H/0yYcp24LQbxeyNjHJLvfYYD
LU4H+fxqqmOldpG82E9EJRyhhITZtsuYkQ9ipWLquZXwkvrtwki2jSI0A90Frq1F
aGEKCGjAyAhFQ69BuFD4V5dJIDZyGJLpdpPm5QrgRPzbFJ8F49mZ/FB7rVu2yTYr
Mh4fAA+ddnuXg9Fkj6ImJU64aYkNYWlR0StlC9c/y40Ikw43H3Ux4pHUtL4jMwYN
ygxH5b1gYkhCRJCkYQhqlPpHVoyF+8cmFPe/54OlJU79UnjFvfDTivkAWHddDs05
SzIOvsQWZLVZc3jzhDK3DNvC8dclsaDyuf8+9plfiH/33itLEQiX6GmCwTNcpIA=
=bzuy
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Tue Oct  7 06:30:32 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Tue, 07 Oct 2014 09:30:32 +0300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <5432C2B9.5020501@treenet.co.nz>
References: <542C304C.5020904@users.sourceforge.net>
 <5432411C.1080904@treenet.co.nz> <5432AC45.70709@users.sourceforge.net>
 <5432C2B9.5020501@treenet.co.nz>
Message-ID: <54338888.9040400@users.sourceforge.net>

On 10/06/2014 07:26 PM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 7/10/2014 3:50 a.m., Tsantilas Christos wrote:
>> On 10/06/2014 10:13 AM, Amos Jeffries wrote:
>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>>>
>>> On 2/10/2014 5:48 a.m., Tsantilas Christos wrote:
>>>> Browser vendors will get rid of SSL certificates that use SHA-1
>>>> to generate the hash that is then signed by the CA. For
>>>> example, Google Chrome will start to show an "insecure" sign
>>>> for certificates that are valid after 1.1.2016 and will
>>>> generate a warning page for certificates that are valid after
>>>> 1.1.2017 [1],[2],[4]. Microsoft will block certificates with
>>>> SHA-1 after 1.1.2017 [3].
>>>>
>>>
>>> IMHO this directive should not be necessary.
>>>
>>> 1) when mimicing certs server provides the hash type.
>>
>> We have found problems when trying to mimic everything...
>>
> I know. What problem was there mimicing the hash?

Currently we are not mimicing signing hash. If we do it, we  may found 
problems. It is something which is not tested.
If in the future we need to mimic signing algorithm, we can implement it.

This is not the only reason.

Certificates mimicking is able only on bump-server-first mode.
It is not possible on bump-client-first, and in cases an error page is 
generated because bumping failed, or because we found wrong certificates.
But in these cases too we need to generate certificates...

The sha256 will be the default with this patch, but if in the future the 
sha256 found insecure, the system admin will be able to fix it using 
this cfg parameter.

>
>> For mimicking hash type, probably we need to support ACLs:
>> sslproxy_cert_sign_hash_mimic allow acl1 acl2 But this is a
>> different project. We do not cover this cases in this patch...
>>
>>>
>>> 2) cleanly generated certs should always be using a secure hash
>>> in compliance with TLS specification. The TLS/SSL maximum version
>>> supplied by the client also drives the hashes the server is able
>>> to use: - MD5 for SSL, - SHA1 for TLS 1.0/1.1, - SHA256 for TLS
>>> 1.2+
>>
>> The web servers does not provide a different Certificates signing
>> hashing algorithm depending on client TLS version supported....
>> Also the user may wants to use SHA384  ...
>
> Hmm. yes.
>   Would it be easy to check for minimum values to prevent the below
> examples?

Not in all cases, or not so easy.
The client TLS version is known on Peek-and-splice mode or in 
bump-client-first, but not in bump-server-first mode.

Regards,
    Christos

>
>>
>>>
>>> Allowing configuration of the hash seems to be unnecessary, and
>>> adds potential for configuring impossible situations like SSL
>>> without MD5, or more likely SHA-256 with TLS/1.0.
>>
>
> Amos
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUMsK5AAoJELJo5wb/XPRjNB8H/0yYcp24LQbxeyNjHJLvfYYD
> LU4H+fxqqmOldpG82E9EJRyhhITZtsuYkQ9ipWLquZXwkvrtwki2jSI0A90Frq1F
> aGEKCGjAyAhFQ69BuFD4V5dJIDZyGJLpdpPm5QrgRPzbFJ8F49mZ/FB7rVu2yTYr
> Mh4fAA+ddnuXg9Fkj6ImJU64aYkNYWlR0StlC9c/y40Ikw43H3Ux4pHUtL4jMwYN
> ygxH5b1gYkhCRJCkYQhqlPpHVoyF+8cmFPe/54OlJU79UnjFvfDTivkAWHddDs05
> SzIOvsQWZLVZc3jzhDK3DNvC8dclsaDyuf8+9plfiH/33itLEQiX6GmCwTNcpIA=
> =bzuy
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
>


From squid3 at treenet.co.nz  Tue Oct  7 07:26:40 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 07 Oct 2014 20:26:40 +1300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <54338888.9040400@users.sourceforge.net>
References: <542C304C.5020904@users.sourceforge.net>
 <5432411C.1080904@treenet.co.nz> <5432AC45.70709@users.sourceforge.net>
 <5432C2B9.5020501@treenet.co.nz> <54338888.9040400@users.sourceforge.net>
Message-ID: <543395B0.1040604@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Thank you for the details and your patience putting up with me.

+1 for commit with the following polish...

in src/ssl/gadgets.h please use #if !defined(...) instead of #ifndef

Cheers
Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUM5WwAAoJELJo5wb/XPRj9/QIAMS1AU7iDQzEMBaPF3GIyzrS
rKl22+ebGKTu7Dou+6k52VX3f7qObCqrF1SXbzJGP8nifqGqAUQA5a5owvbpHRI4
y+QMATATkdbJ/u47mkgf/hkuk9PmBjRsVMdXWZjE0RztVfqhAMejtNndrCoIV774
iY5+0QCmvBQEyXUKhp0OIt9/WemPhKDAwBLScyp10NOlBKCxiw3SXdfsM3CsIkT2
bbAHH8Ok0Z1yF4/NLk3SoT5cGXCIUSsKflsoDX0QQc//4PMyI0Xo9joM1SFSTcfd
dKz92d6UVeHxiFk4bJi1xb2hjybFBdp7cjepyo6E8hVYgvbvk7kwgBL2JinjGv4=
=gdgP
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Tue Oct  7 12:16:16 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Tue, 07 Oct 2014 15:16:16 +0300
Subject: [squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
In-Reply-To: <543395B0.1040604@treenet.co.nz>
References: <542C304C.5020904@users.sourceforge.net>
 <5432411C.1080904@treenet.co.nz> <5432AC45.70709@users.sourceforge.net>
 <5432C2B9.5020501@treenet.co.nz> <54338888.9040400@users.sourceforge.net>
 <543395B0.1040604@treenet.co.nz>
Message-ID: <5433D990.8020407@users.sourceforge.net>

On 10/07/2014 10:26 AM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Thank you for the details and your patience putting up with me.

I will try to provide more informations, when I am posting a patch.


>
> +1 for commit with the following polish...
>
> in src/ssl/gadgets.h please use #if !defined(...) instead of #ifndef


OK I will make this fix and I will commit to trunk.

>
> Cheers
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUM5WwAAoJELJo5wb/XPRj9/QIAMS1AU7iDQzEMBaPF3GIyzrS
> rKl22+ebGKTu7Dou+6k52VX3f7qObCqrF1SXbzJGP8nifqGqAUQA5a5owvbpHRI4
> y+QMATATkdbJ/u47mkgf/hkuk9PmBjRsVMdXWZjE0RztVfqhAMejtNndrCoIV774
> iY5+0QCmvBQEyXUKhp0OIt9/WemPhKDAwBLScyp10NOlBKCxiw3SXdfsM3CsIkT2
> bbAHH8Ok0Z1yF4/NLk3SoT5cGXCIUSsKflsoDX0QQc//4PMyI0Xo9joM1SFSTcfd
> dKz92d6UVeHxiFk4bJi1xb2hjybFBdp7cjepyo6E8hVYgvbvk7kwgBL2JinjGv4=
> =gdgP
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
>


From noc at squid-cache.org  Fri Oct  3 05:41:09 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 3 Oct 2014 07:41:09 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #488
In-Reply-To: <2023120676.204.1412000281341.JavaMail.hudson@eu.squid-cache.org>
References: <2023120676.204.1412000281341.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1264897357.208.1412314869556.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/488/>

------------------------------------------
[...truncated 7722 lines...]
depbase=`echo tests/stub_MemObject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemObject.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemObject.o ../../src/tests/stub_MemObject.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemStore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemStore.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemStore.o ../../src/tests/stub_MemStore.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mime.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testBoilerplate.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testBoilerplate.o -MD -MP -MF $depbase.Tpo -c -o tests/testBoilerplate.o ../../src/tests/testBoilerplate.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cbdata.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cbdata.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cbdata.o ../../src/tests/stub_cbdata.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemBuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemBuf.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemBuf.o ../../src/tests/stub_MemBuf.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testCacheManager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testCacheManager.o -MD -MP -MF $depbase.Tpo -c -o tests/testCacheManager.o ../../src/tests/testCacheManager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_main_cc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_main_cc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_main_cc.o ../../src/tests/stub_main_cc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_Forwarder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_Forwarder.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_Forwarder.o ../../src/tests/stub_ipc_Forwarder.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_EventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_EventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_EventLoop.o ../../src/tests/stub_EventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_CacheDigest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_CacheDigest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_CacheDigest.o ../../src/tests/stub_CacheDigest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_carp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_carp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_carp.o ../../src/tests/stub_carp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_redirect.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_redirect.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_redirect.o ../../src/tests/stub_redirect.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth_acls.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth_acls.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth_acls.o ../../src/tests/stub_libauth_acls.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
	mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la base/libbase.la mgr/libmgr.la anyp/libanyp.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la http/libsquid-http.la repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o http/libsquid-http.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la mgr/libmgr.la ipc/libipc.la anyp/libanyp.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  CommCalls.o DnsLookupDetails.o ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la anyp/libanyp.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la -lrt -lpthread format/libformat.la  repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle ../compat/libcompat-squid.la  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a mgr/.libs/libmgr.a ipc/.libs/libipc.a anyp/.libs/libanyp.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a base/.libs/libbase.a mgr/.libs/libmgr.a anyp/.libs/libanyp.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a http/.libs/libsquid-http.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la  -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a anyp/.libs/libanyp.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a -lpthread format/.libs/libformat.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o base/libbase.la ../lib/libmiscutil.la ../lib/libmisccontainers.la -lcppunit -ldl  ../compat/libcompat-squid.la  
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -ldl -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o http/libsquid-http.la libsquid.la comm/libcomm.la ip/libip.la fs/libfs.la  repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libacls.la acl/libapi.la acl/libstate.la anyp/libanyp.la eui/libeui.la  ipc/libipc.la base/libbase.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../lib/.libs/libmisccontainers.a -lcppunit -ldl ../compat/.libs/libcompat-squid.a
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o  event.o  tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o http/libsquid-http.la CommCalls.o DnsLookupDetails.o ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la libsquid.la ip/libip.la fs/libfs.la mgr/libmgr.la repl/liblru.a acl/libacls.la libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libapi.la  ipc/libipc.la comm/libcomm.la anyp/libanyp.la base/libbase.la ip/libip.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o base/libbase.la ../lib/libmiscutil.la ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -I../.. -I../../include -I../../lib -I../../src -I../include -I../src -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o  http/.libs/libsquid-http.a ./.libs/libsquid.a comm/.libs/libcomm.a ip/.libs/libip.a fs/.libs/libfs.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libacls.a acl/.libs/libapi.a acl/.libs/libstate.a anyp/.libs/libanyp.a eui/.libs/libeui.a ipc/.libs/libipc.a base/.libs/libbase.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o helper/libhelper.la http/libsquid-http.la auth/libacls.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la anyp/libanyp.la base/libbase.la libsquid.la ip/libip.la ipc/libipc.la mgr/libmgr.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o event.o tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libstate.a ./.libs/libsquid.a fs/.libs/libfs.a mgr/.libs/libmgr.a repl/liblru.a acl/.libs/libacls.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libapi.a ipc/.libs/libipc.a comm/.libs/libcomm.a anyp/.libs/libanyp.a base/.libs/libbase.a ip/.libs/libip.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testBoilerplate tests/testBoilerplate.o tests/testMain.o tests/stub_debug.o tests/stub_time.o tests/stub_cbdata.o tests/stub_MemBuf.o test_tools.o globals.o -lcppunit -ldl  base/libbase.la ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o  helper/.libs/libhelper.a http/.libs/libsquid-http.a auth/.libs/libacls.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a anyp/.libs/libanyp.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ipc/.libs/libipc.a mgr/.libs/libmgr.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testBoilerplate tests/testBoilerplate.o tests/testMain.o tests/stub_debug.o tests/stub_time.o tests/stub_cbdata.o tests/stub_MemBuf.o test_tools.o globals.o  -lcppunit base/.libs/libbase.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la comm/libcomm.la eui/libeui.la icmp/libicmp.la icmp/libicmp-core.la log/liblog.la format/libformat.la repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread adaptation/libadaptation.la   anyp/libanyp.la ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
./.libs/libsquid.a(SquidConfig.o): In function `SquidConfig':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
collect2: ld returned 1 exit status
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testDiskIO tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o tests/stub_ETag.o EventLoop.o event.o tests/stub_fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHdrRange.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o MemBuf.o MemObject.o mem_node.o tests/stub_mem.o Notes.o Packer.o Parsing.o refresh.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapout.o store_swapmeta.o store.o String.o StrList.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_HttpRequest.o tests/stub_http.o tests/stub_icp.o tests/stub_internal.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_UdsOp.o tests/testDiskIO.o tests/testMain.o tests/testStoreSupport.o tests/stub_time.o unlinkd.o url.o  wordlist.o tests/stub_tools.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o http/libsquid-http.la SquidConfig.o CommCalls.o DnsLookupDetails.o ident/libident.la acl/libacls.la acl/libstate.la libsquid.la comm/libcomm.la ip/libip.la fs/libfs.la ipc/libipc.la repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libapi.la anyp/libanyp.la mgr/libmgr.la  ipc/libipc.la base/libbase.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[5]: *** Waiting for unfinished jobs....
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testDiskIO tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o tests/stub_ETag.o EventLoop.o event.o tests/stub_fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHdrRange.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o MemBuf.o MemObject.o mem_node.o tests/stub_mem.o Notes.o Packer.o Parsing.o refresh.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapout.o store_swapmeta.o store.o String.o StrList.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_HttpRequest.o tests/stub_http.o tests/stub_icp.o tests/stub_internal.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_UdsOp.o tests/testDiskIO.o tests/testMain.o tests/testStoreSupport.o tests/stub_time.o unlinkd.o url.o wordlist.o tests/stub_tools.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o SquidConfig.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a ./.libs/libsquid.a comm/.libs/libcomm.a ip/.libs/libip.a fs/.libs/libfs.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libapi.a anyp/.libs/libanyp.a mgr/.libs/libmgr.a ipc/.libs/libipc.a base/.libs/libbase.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a comm/.libs/libcomm.a eui/.libs/libeui.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a log/.libs/liblog.a format/.libs/libformat.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread adaptation/.libs/libadaptation.a anyp/.libs/libanyp.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
../../src/tests/testHttpParser.cc: In member function ‘void testHttpParser::testParseRequestLineProtocols()’:
../../src/tests/testHttpParser.cc:33: note: variable tracking size limit exceeded with -fvar-tracking-assignments, retrying without
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct  3 21:15:03 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 3 Oct 2014 23:15:03 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #489
In-Reply-To: <1264897357.208.1412314869556.JavaMail.hudson@eu.squid-cache.org>
References: <1264897357.208.1412314869556.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <92145427.0.1412370905126.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/489/changes>

Changes:

[Amos Jeffries] Windows: remove alternative main()

As a side effect this causes Windows builds to use the wrapper function
for handling exceptions.

[Amos Jeffries] Fix --enable-win32-service compile errors

------------------------------------------
[...truncated 7728 lines...]
depbase=`echo tests/stub_MemObject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemObject.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemObject.o ../../src/tests/stub_MemObject.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemStore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemStore.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemStore.o ../../src/tests/stub_MemStore.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mime.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testBoilerplate.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testBoilerplate.o -MD -MP -MF $depbase.Tpo -c -o tests/testBoilerplate.o ../../src/tests/testBoilerplate.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cbdata.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cbdata.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cbdata.o ../../src/tests/stub_cbdata.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemBuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemBuf.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemBuf.o ../../src/tests/stub_MemBuf.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testCacheManager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testCacheManager.o -MD -MP -MF $depbase.Tpo -c -o tests/testCacheManager.o ../../src/tests/testCacheManager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_main_cc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_main_cc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_main_cc.o ../../src/tests/stub_main_cc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_Forwarder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_Forwarder.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_Forwarder.o ../../src/tests/stub_ipc_Forwarder.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_EventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_EventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_EventLoop.o ../../src/tests/stub_EventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_CacheDigest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_CacheDigest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_CacheDigest.o ../../src/tests/stub_CacheDigest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_carp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_carp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_carp.o ../../src/tests/stub_carp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_redirect.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_redirect.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_redirect.o ../../src/tests/stub_redirect.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth_acls.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth_acls.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth_acls.o ../../src/tests/stub_libauth_acls.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
	mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la base/libbase.la mgr/libmgr.la anyp/libanyp.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la http/libsquid-http.la repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la anyp/libanyp.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la -lrt -lpthread format/libformat.la  repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle ../compat/libcompat-squid.la  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
../../src/tests/testHttpParser.cc: In member function ‘void testHttpParser::testParseRequestLineProtocols()’:
../../src/tests/testHttpParser.cc:33: note: variable tracking size limit exceeded with -fvar-tracking-assignments, retrying without
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la  -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o base/libbase.la ../lib/libmiscutil.la ../lib/libmisccontainers.la -lcppunit -ldl  ../compat/libcompat-squid.la  
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -ldl -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o http/libsquid-http.la libsquid.la comm/libcomm.la ip/libip.la fs/libfs.la  repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libacls.la acl/libapi.la acl/libstate.la anyp/libanyp.la eui/libeui.la  ipc/libipc.la base/libbase.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../lib/.libs/libmisccontainers.a -lcppunit -ldl ../compat/.libs/libcompat-squid.a
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a base/.libs/libbase.a mgr/.libs/libmgr.a anyp/.libs/libanyp.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a http/.libs/libsquid-http.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a anyp/.libs/libanyp.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a -lpthread format/.libs/libformat.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o  event.o  tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o http/libsquid-http.la CommCalls.o DnsLookupDetails.o ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la libsquid.la ip/libip.la fs/libfs.la mgr/libmgr.la repl/liblru.a acl/libacls.la libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libapi.la  ipc/libipc.la comm/libcomm.la anyp/libanyp.la base/libbase.la ip/libip.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -I../.. -I../../include -I../../lib -I../../src -I../include -I../src -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o  http/.libs/libsquid-http.a ./.libs/libsquid.a comm/.libs/libcomm.a ip/.libs/libip.a fs/.libs/libfs.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libacls.a acl/.libs/libapi.a acl/.libs/libstate.a anyp/.libs/libanyp.a eui/.libs/libeui.a ipc/.libs/libipc.a base/.libs/libbase.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o event.o tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libstate.a ./.libs/libsquid.a fs/.libs/libfs.a mgr/.libs/libmgr.a repl/liblru.a acl/.libs/libacls.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libapi.a ipc/.libs/libipc.a comm/.libs/libcomm.a anyp/.libs/libanyp.a base/.libs/libbase.a ip/.libs/libip.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2  -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o base/libbase.la ../lib/libmiscutil.la ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o helper/libhelper.la http/libsquid-http.la auth/libacls.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la anyp/libanyp.la base/libbase.la libsquid.la ip/libip.la ipc/libipc.la mgr/libmgr.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testBoilerplate tests/testBoilerplate.o tests/testMain.o tests/stub_debug.o tests/stub_time.o tests/stub_cbdata.o tests/stub_MemBuf.o test_tools.o globals.o -lcppunit -ldl  base/libbase.la ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la comm/libcomm.la eui/libeui.la icmp/libicmp.la icmp/libicmp-core.la log/liblog.la format/libformat.la repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread adaptation/libadaptation.la   anyp/libanyp.la ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testDiskIO tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o tests/stub_ETag.o EventLoop.o event.o tests/stub_fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHdrRange.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o MemBuf.o MemObject.o mem_node.o tests/stub_mem.o Notes.o Packer.o Parsing.o refresh.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapout.o store_swapmeta.o store.o String.o StrList.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_HttpRequest.o tests/stub_http.o tests/stub_icp.o tests/stub_internal.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_UdsOp.o tests/testDiskIO.o tests/testMain.o tests/testStoreSupport.o tests/stub_time.o unlinkd.o url.o  wordlist.o tests/stub_tools.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o http/libsquid-http.la SquidConfig.o CommCalls.o DnsLookupDetails.o ident/libident.la acl/libacls.la acl/libstate.la libsquid.la comm/libcomm.la ip/libip.la fs/libfs.la ipc/libipc.la repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libapi.la anyp/libanyp.la mgr/libmgr.la  ipc/libipc.la base/libbase.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testBoilerplate tests/testBoilerplate.o tests/testMain.o tests/stub_debug.o tests/stub_time.o tests/stub_cbdata.o tests/stub_MemBuf.o test_tools.o globals.o  -lcppunit base/.libs/libbase.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testEvent AccessLogEntry.o BodyPipe.o tests/stub_CacheDigest.o YesNoNone.o cache_cf.o cache_manager.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o debug.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o EventLoop.o external_acl.o ExternalACLEntry.o FadingCounter.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o multicast.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o StrList.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o tests/stub_SwapDir.o tests/testEvent.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_store_stats.o time.o tools.o Transients.o tests/stub_tunnel.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la anyp/libanyp.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la repl/liblru.a adaptation/libadaptation.la   ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o  helper/.libs/libhelper.a http/.libs/libsquid-http.a auth/.libs/libacls.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a anyp/.libs/libanyp.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ipc/.libs/libipc.a mgr/.libs/libmgr.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testDiskIO tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o tests/stub_ETag.o EventLoop.o event.o tests/stub_fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHdrRange.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o MemBuf.o MemObject.o mem_node.o tests/stub_mem.o Notes.o Packer.o Parsing.o refresh.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapout.o store_swapmeta.o store.o String.o StrList.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_HttpRequest.o tests/stub_http.o tests/stub_icp.o tests/stub_internal.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_UdsOp.o tests/testDiskIO.o tests/testMain.o tests/testStoreSupport.o tests/stub_time.o unlinkd.o url.o wordlist.o tests/stub_tools.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o SquidConfig.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a ./.libs/libsquid.a comm/.libs/libcomm.a ip/.libs/libip.a fs/.libs/libfs.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libapi.a anyp/.libs/libanyp.a mgr/.libs/libmgr.a ipc/.libs/libipc.a base/.libs/libbase.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
./.libs/libsquid.a(SquidConfig.o): In function `SquidConfig':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
collect2: ld returned 1 exit status
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[5]: *** Waiting for unfinished jobs....
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a comm/.libs/libcomm.a eui/.libs/libeui.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a log/.libs/liblog.a format/.libs/libformat.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread adaptation/.libs/libadaptation.a anyp/.libs/libanyp.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testEvent AccessLogEntry.o BodyPipe.o tests/stub_CacheDigest.o YesNoNone.o cache_cf.o cache_manager.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o debug.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o EventLoop.o external_acl.o ExternalACLEntry.o FadingCounter.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o multicast.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o StrList.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o tests/stub_SwapDir.o tests/testEvent.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_store_stats.o time.o tools.o Transients.o tests/stub_tunnel.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a anyp/.libs/libanyp.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:51: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct  3 21:17:28 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 3 Oct 2014 23:17:28 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #89
In-Reply-To: <1375914221.203.1412000101648.JavaMail.hudson@eu.squid-cache.org>
References: <1375914221.203.1412000101648.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1601126076.1.1412371048644.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/89/changes>

Changes:

[Amos Jeffries] Windows: remove alternative main()

As a side effect this causes Windows builds to use the wrapper function
for handling exceptions.

[Amos Jeffries] Fix --enable-win32-service compile errors

[Amos Jeffries] Windows: add missing file permission definitions

* initgroups() shim was building, but header not included correctly.

* POSIX 5.6 / 6.5 Protection Bits for group access do not exist in
windows MinGW. Define as 0-bits until better API is found.

[Amos Jeffries] Add missing boilerplate for rev.13621

[Amos Jeffries] Portability: provide xstatvfs() shim for system call statvfs()

statfs() and struct statfs have been deprecated for years. Hoewver the
POSIX statvfs replacements are still not universally available.

Remove deprecated statfs() and struct statfs usage from Squid. Although
they may still be used by the xstatvfs() compatibility wrapper if they
are the only available API.

[Christos Tsantilas] Polish peek-and-splice related code part2

- Record SSL bump action in Ssl::ServerBump::act at step3

[Christos Tsantilas] Polish peek-and-splice related code

- Record SSL bump action at each bumping step in the Ssl::ServerBump.
The new Ssl::ServerBump::act member added for this purpose.

- Split Ssl::PeerConnector::checkForPeekAndSplice  to two methods
(checkForPeekAndSplice and checkForPeekAndSpliceDone) add some
documentation, and polish the code.

- Polish  httpsSslBumpStep2AccessCheckDone function (client_side.cc file)

This is a Measurement Factory project

[Amos Jeffries] Windows: getppid() is not supported.

The PID and thus parent process PID concept is not available in Windows
and MinGW at least lacks the API mechanism.

This may re-open an issue with kid processes notifying the coordinator
when they are shutting down. If so we need to find an alternative
mechanism to replace this use of kill(getppid(), SIGUSR1)

------------------------------------------
[...truncated 8713 lines...]
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testHttpReply cbdata.o ConfigParser.o tests/stub_ETag.o tests/stub_fatal.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o MasterXaction.o tests/stub_mem.o RegexList.o MemBuf.o mime_header.o Notes.o Packer.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_event.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_libformat.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libmgr.o tests/stub_libsslsquid.o StatCounters.o tests/stub_StatHist.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o tests/stub_HttpRequest.o tests/testHttpReply.o tests/testMain.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o CommCalls.o http/libsquid-http.la acl/libacls.la acl/libapi.la acl/libstate.la anyp/libanyp.la ip/libip.la base/libbase.la ipc/libipc.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lcppunit -ldl  -lnettle  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testHttpReply cbdata.o ConfigParser.o tests/stub_ETag.o tests/stub_fatal.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o MasterXaction.o tests/stub_mem.o RegexList.o MemBuf.o mime_header.o Notes.o Packer.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_event.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_libformat.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libmgr.o tests/stub_libsslsquid.o StatCounters.o tests/stub_StatHist.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o tests/stub_HttpRequest.o tests/testHttpReply.o tests/testMain.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o CommCalls.o  http/.libs/libsquid-http.a acl/.libs/libacls.a acl/.libs/libapi.a acl/.libs/libstate.a anyp/.libs/libanyp.a ip/.libs/libip.a base/.libs/libbase.a ipc/.libs/libipc.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lcppunit -lnettle ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la base/libbase.la mgr/libmgr.la anyp/libanyp.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la http/libsquid-http.la repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a base/.libs/libbase.a mgr/.libs/libmgr.a anyp/.libs/libanyp.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a http/.libs/libsquid-http.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o http/libsquid-http.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la mgr/libmgr.la ipc/libipc.la anyp/libanyp.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  CommCalls.o DnsLookupDetails.o ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a mgr/.libs/libmgr.a ipc/.libs/libipc.a anyp/.libs/libanyp.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la anyp/libanyp.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la libsquid.la ip/libip.la fs/libfs.la  ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la -lrt -lpthread format/libformat.la  repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle ../compat/libcompat-squid.la  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testURL AccessLogEntry.o BodyPipe.o YesNoNone.o cache_cf.o tests/stub_cache_manager.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o StrList.o Transients.o tests/stub_SwapDir.o MemStore.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/testURL.o tests/testUriScheme.o tests/testMain.o tests/stub_time.o tests/stub_EventLoop.o tools.o tests/stub_tunnel.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a anyp/.libs/libanyp.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a -lpthread format/.libs/libformat.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la  -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testSBuf tests/testSBuf.o tests/testMain.o tests/SBufFindTest.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_debug.o tests/stub_fatal.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_store_stats.o tests/stub_tools.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la mgr/libmgr.la ../lib/libmiscutil.la -lcppunit -ldl ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testSBufList tests/testSBufList.o tests/testMain.o MemBlob.o SBuf.o SBufExceptions.o SBufList.o tests/stub_SBufDetailedStats.o tests/stub_time.o mem.o tests/stub_MemObject.o tests/stub_cbdata.o tests/stub_comm.o tests/stub_debug.o tests/stub_event.o tests/stub_fatal.o tests/stub_fd.o tests/stub_HelperChildConfig.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_store.o tests/stub_stmem.o tests/stub_store_stats.o tests/stub_tools.o StatCounters.o String.o tests/stub_wordlist.o tests/stub_MemBuf.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a mgr/.libs/libmgr.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testConfigParser tests/stub_mem.o tests/stub_MemBuf.o tests/stub_time.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o ConfigParser.o tests/stub_fatal.o tests/testMain.o tests/testConfigParser.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o base/libbase.la ../lib/libmiscutil.la ../lib/libmisccontainers.la -lcppunit -ldl  ../compat/libcompat-squid.la  
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testStatHist tests/stub_cbdata.o tests/stub_fatal.o tests/stub_MemBuf.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o StatHist.o String.o tests/stub_cache_manager.o tests/stub_comm.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_HelperChildConfig.o tests/stub_mem.o tests/stub_MemObject.o tests/stub_mime.o tests/stub_pconn.o tests/stub_stmem.o tests/stub_store.o tests/stub_store_stats.o time.o tests/stub_tools.o tests/testMain.o tests/testStatHist.o test_tools.o globals.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../lib/.libs/libmisccontainers.a -lcppunit -ldl ../compat/.libs/libcompat-squid.a
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -ldl -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o  DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o http/libsquid-http.la libsquid.la comm/libcomm.la ip/libip.la fs/libfs.la  repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libacls.la acl/libapi.la acl/libstate.la anyp/libanyp.la eui/libeui.la  ipc/libipc.la base/libbase.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -I../.. -I../../include -I../../lib -I../../src -I../include -I../src -g -o tests/testRock cbdata.o CollapsedForwarding.o tests/stub_CacheDigest.o ConfigOption.o ConfigParser.o disk.o ETag.o EventLoop.o event.o fatal.o fd.o fde.o filemap.o HttpBody.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeader.o HttpHeaderTools.o HttpMsg.o HttpReply.o HttpRequestMethod.o int.o SquidList.o MasterXaction.o mem.o MemBuf.o MemObject.o mem_node.o Notes.o Packer.o Parsing.o RemovalPolicy.o RequestFlags.o StatCounters.o tests/stub_StatHist.o stmem.o tests/stub_stat.o store.o StoreFileSystem.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreSwapLogData.o store_dir.o store_io.o store_key_md5.o store_swapmeta.o store_swapout.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o Transients.o tests/testRock.o tests/testMain.o tests/testStoreSupport.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_client_side_request.o tests/stub_debug.o tests/stub_errorpage.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_HttpRequest.o tests/stub_libauth.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libicmp.o tests/stub_libmgr.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_neighbors.o tests/stub_Port.o tests/stub_pconn.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_tools.o time.o url.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o unlinkd.o DiskIO/DiskIOModules_gen.o swap_log_op.o SquidMath.o test_tools.o globals.o  http/.libs/libsquid-http.a ./.libs/libsquid.a comm/.libs/libcomm.a ip/.libs/libip.a fs/.libs/libfs.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libacls.a acl/.libs/libapi.a acl/.libs/libstate.a anyp/.libs/libanyp.a eui/.libs/libeui.a ipc/.libs/libipc.a base/.libs/libbase.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o  event.o  tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o http/libsquid-http.la CommCalls.o DnsLookupDetails.o ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la libsquid.la ip/libip.la fs/libfs.la mgr/libmgr.la repl/liblru.a acl/libacls.la libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread acl/libapi.la  ipc/libipc.la comm/libcomm.la anyp/libanyp.la base/libbase.la ip/libip.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testUfs tests/testUfs.o tests/testMain.o tests/stub_cache_manager.o tests/stub_client_db.o tests/stub_CollapsedForwarding.o tests/stub_HelperChildConfig.o tests/stub_icp.o tests/stub_ipc.o tests/stub_ipcache.o tests/stub_libeui.o tests/stub_libicmp.o tests/stub_MemStore.o tests/stub_neighbors.o tests/stub_pconn.o tests/stub_Port.o tests/stub_UdsOp.o tests/stub_internal.o tests/stub_libformat.o tests/stub_stat.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_fatal.o fd.o fde.o disk.o filemap.o HttpBody.o HttpReply.o int.o RequestFlags.o SquidList.o Transients.o MasterXaction.o MemObject.o Notes.o StoreSwapLogData.o StoreIOState.o StoreMetaUnpacker.o StoreMeta.o StoreMetaMD5.o StoreMetaSTD.o StoreMetaSTDLFS.o StoreMetaURL.o StoreMetaVary.o StoreFileSystem.o store_io.o store_swapout.o store_swapmeta.o unlinkd.o event.o tests/stub_CacheDigest.o ConfigParser.o EventLoop.o HttpMsg.o RemovalPolicy.o store_dir.o store.o HttpRequestMethod.o store_key_md5.o Parsing.o ConfigOption.o SwapDir.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_helper.o cbdata.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o tests/stub_debug.o tests/stub_client_side_request.o tests/stub_http.o tests/stub_libauth.o mem_node.o stmem.o tests/stub_mime.o HttpHeaderTools.o HttpHeader.o mem.o MemBuf.o HttpHdrContRange.o Packer.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o url.o StatCounters.o StatHist.o StrList.o HttpHdrRange.o ETag.o tests/stub_errorpage.o tests/stub_HttpRequest.o tests/stub_access_log.o refresh.o tests/stub_store_client.o tests/stub_tools.o tests/testStoreSupport.o time.o wordlist.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o test_tools.o globals.o DiskIO/DiskIOModules_gen.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libstate.a ./.libs/libsquid.a fs/.libs/libfs.a mgr/.libs/libmgr.a repl/liblru.a acl/.libs/libacls.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread acl/.libs/libapi.a ipc/.libs/libipc.a comm/.libs/libcomm.a anyp/.libs/libanyp.a base/.libs/libbase.a ip/.libs/libip.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o base/libbase.la ../lib/libmiscutil.la ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o helper/libhelper.la http/libsquid-http.la auth/libacls.la ident/libident.la acl/libacls.la eui/libeui.la acl/libstate.la acl/libapi.la anyp/libanyp.la base/libbase.la libsquid.la ip/libip.la ipc/libipc.la mgr/libmgr.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testACLMaxUserIP cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o tests/stub_ETag.o event.o tests/stub_fatal.o filemap.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrContRange.o HttpHdrRange.o HttpHdrCc.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpRequestMethod.o int.o MasterXaction.o Notes.o SquidList.o mem_node.o Packer.o Parsing.o SquidMath.o StatCounters.o StrList.o tests/stub_StatHist.o stmem.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o store_dir.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o swap_log_op.o tests/stub_SwapDir.o Transients.o tests/stub_access_log.o tests/stub_cache_cf.o tests/stub_client_side.o tests/stub_debug.o tests/stub_DelayId.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_HttpRequest.o tests/stub_HttpReply.o tests/stub_ipc_TypedMsgHdr.o tests/stub_libauth.o tests/stub_libcomm.o tests/stub_libformat.o tests/stub_libsslsquid.o tests/stub_MemObject.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_pconn.o tests/stub_Port.o tests/stub_store.o tests/stub_store_client.o tests/stub_store_rebuild.o tests/stub_store_stats.o tests/stub_store_swapout.o tests/stub_tools.o tests/stub_cache_manager.o tests/stub_UdsOp.o tests/testACLMaxUserIP.o tests/testMain.o tests/stub_time.o url.o tests/stub_mem.o MemBuf.o wordlist.o test_tools.o globals.o  helper/.libs/libhelper.a http/.libs/libsquid-http.a auth/.libs/libacls.a ident/.libs/libident.a acl/.libs/libacls.a eui/.libs/libeui.a acl/.libs/libstate.a acl/.libs/libapi.a anyp/.libs/libanyp.a base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ipc/.libs/libipc.a mgr/.libs/libmgr.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
./.libs/libsquid.a(SquidConfig.o): In function `SquidConfig':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:50: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:50: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[5]: *** Waiting for unfinished jobs....
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:50: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/../../src/SquidConfig.h>:50: undefined reference to `Helper::ChildConfig::ChildConfig(unsigned int)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testACLMaxUserIP] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Mon Oct  6 15:25:56 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 6 Oct 2014 17:25:56 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #493
Message-ID: <2142425488.47.1412609156783.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/493/changes>

Changes:

[Christos Tsantilas] Validate server certificates without bumping

This patch add support for the "Validate server certificates without bumping"
use case described on the Peek and Splice wiki page:
http://wiki.squid-cache.org/Features/SslPeekAndSplice

This patch send to the certificate validation helper the  certificates and
errors found in SslBump3 step, even if the splicing mode selected.
In the case the validation helper found errors in certificates an error
page returned to the http client.

The SSL error forwarding is controlled by ACLs along these lines:

sslproxy_cert_error allow sslBoringErrors
sslproxy_cert_error allow serversWithInvalidCerts
sslproxy_cert_error deny all

This is a Measurement Factory project

------------------------------------------
[...truncated 30475 lines...]
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/oc.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt-br.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SOCKET_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_UNSUP_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_RESP: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DIR_LISTING: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FORBIDDEN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_NOT_FOUND: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_UNAVAILABLE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
../../../src/ssl/PeerConnector.cc:366: error: return-statement with a value, in function returning 'void'
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Mon Oct  6 15:28:26 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 6 Oct 2014 17:28:26 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #95
Message-ID: <1959703311.48.1412609306362.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/95/changes>

Changes:

[Christos Tsantilas] Validate server certificates without bumping

This patch add support for the "Validate server certificates without bumping"
use case described on the Peek and Splice wiki page:
http://wiki.squid-cache.org/Features/SslPeekAndSplice

This patch send to the certificate validation helper the  certificates and
errors found in SslBump3 step, even if the splicing mode selected.
In the case the validation helper found errors in certificates an error
page returned to the http client.

The SSL error forwarding is controlled by ACLs along these lines:

sslproxy_cert_error allow sslBoringErrors
sslproxy_cert_error allow serversWithInvalidCerts
sslproxy_cert_error deny all

This is a Measurement Factory project

------------------------------------------
[...truncated 30541 lines...]
mv -f .deps/MemMap.Tpo .deps/MemMap.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c -o ReadWriteLock.lo ../../../src/ipc/ReadWriteLock.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o .libs/ReadWriteLock.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Queue.lo -MD -MP -MF .deps/Queue.Tpo -c ../../../src/ipc/Queue.cc  -fPIC -DPIC -o Queue.o >/dev/null 2>&1
mv -f .deps/Queue.Tpo .deps/Queue.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c -o StartListening.lo ../../../src/ipc/StartListening.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o .libs/StartListening.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o ReadWriteLock.o >/dev/null 2>&1
mv -f .deps/ReadWriteLock.Tpo .deps/ReadWriteLock.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c -o StoreMap.lo ../../../src/ipc/StoreMap.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o .libs/StoreMap.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o StartListening.o >/dev/null 2>&1
mv -f .deps/StartListening.Tpo .deps/StartListening.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c -o StrandCoord.lo ../../../src/ipc/StrandCoord.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o .libs/StrandCoord.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o StrandCoord.o >/dev/null 2>&1
mv -f .deps/StrandCoord.Tpo .deps/StrandCoord.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c -o StrandSearch.lo ../../../src/ipc/StrandSearch.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o .libs/StrandSearch.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o StoreMap.o >/dev/null 2>&1
mv -f .deps/StoreMap.Tpo .deps/StoreMap.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c -o SharedListen.lo ../../../src/ipc/SharedListen.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o StrandSearch.o >/dev/null 2>&1
mv -f .deps/StrandSearch.Tpo .deps/StrandSearch.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c -o TypedMsgHdr.lo ../../../src/ipc/TypedMsgHdr.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o .libs/SharedListen.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o .libs/TypedMsgHdr.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o TypedMsgHdr.o >/dev/null 2>&1
mv -f .deps/TypedMsgHdr.Tpo .deps/TypedMsgHdr.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c -o Coordinator.lo ../../../src/ipc/Coordinator.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o .libs/Coordinator.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o SharedListen.o >/dev/null 2>&1
mv -f .deps/SharedListen.Tpo .deps/SharedListen.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c -o UdsOp.lo ../../../src/ipc/UdsOp.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o .libs/UdsOp.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o UdsOp.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o Coordinator.o >/dev/null 2>&1
mv -f .deps/UdsOp.Tpo .deps/UdsOp.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c -o Port.lo ../../../src/ipc/Port.cc
mv -f .deps/Coordinator.Tpo .deps/Coordinator.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c -o Strand.lo ../../../src/ipc/Strand.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o .libs/Port.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o .libs/Strand.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o Port.o >/dev/null 2>&1
mv -f .deps/Port.Tpo .deps/Port.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/ipc/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o Strand.o >/dev/null 2>&1
mv -f .deps/Strand.Tpo .deps/Strand.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/ipc/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c -o Page.lo `test -f 'mem/Page.cc' || echo '../../../src/ipc/'`mem/Page.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o .libs/Page.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o Page.o >/dev/null 2>&1
mv -f .deps/Page.Tpo .deps/Page.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c -o PagePool.lo `test -f 'mem/PagePool.cc' || echo '../../../src/ipc/'`mem/PagePool.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o .libs/PagePool.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c -o Pages.lo `test -f 'mem/Pages.cc' || echo '../../../src/ipc/'`mem/Pages.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o .libs/Pages.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o PagePool.o >/dev/null 2>&1
mv -f .deps/PagePool.Tpo .deps/PagePool.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c -o PageStack.lo `test -f 'mem/PageStack.cc' || echo '../../../src/ipc/'`mem/PageStack.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o .libs/PageStack.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o Pages.o >/dev/null 2>&1
mv -f .deps/Pages.Tpo .deps/Pages.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c -o Segment.lo `test -f 'mem/Segment.cc' || echo '../../../src/ipc/'`mem/Segment.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o .libs/Segment.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o PageStack.o >/dev/null 2>&1
mv -f .deps/PageStack.Tpo .deps/PageStack.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o Segment.o >/dev/null 2>&1
mv -f .deps/Segment.Tpo .deps/Segment.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libipc.la  AtomicWord.lo FdNotes.lo Kid.lo Kids.lo MemMap.lo Queue.lo ReadWriteLock.lo StartListening.lo StoreMap.lo StrandCoord.lo StrandSearch.lo SharedListen.lo TypedMsgHdr.lo Coordinator.lo UdsOp.lo Port.lo Strand.lo Forwarder.lo Inquirer.lo Page.lo PagePool.lo Pages.lo PageStack.lo Segment.lo  
libtool: link: /usr/bin/ar cru .libs/libipc.a .libs/AtomicWord.o .libs/FdNotes.o .libs/Kid.o .libs/Kids.o .libs/MemMap.o .libs/Queue.o .libs/ReadWriteLock.o .libs/StartListening.o .libs/StoreMap.o .libs/StrandCoord.o .libs/StrandSearch.o .libs/SharedListen.o .libs/TypedMsgHdr.o .libs/Coordinator.o .libs/UdsOp.o .libs/Port.o .libs/Strand.o .libs/Forwarder.o .libs/Inquirer.o .libs/Page.o .libs/PagePool.o .libs/Pages.o .libs/PageStack.o .libs/Segment.o 
libtool: link: ranlib .libs/libipc.a
libtool: link: ( cd ".libs" && rm -f "libipc.la" && ln -s "../libipc.la" "libipc.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
Making all in mgr
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c -o Action.lo ../../../src/mgr/Action.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c -o ActionParams.lo ../../../src/mgr/ActionParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o .libs/Action.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o .libs/ActionParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o ActionParams.o >/dev/null 2>&1
mv -f .deps/ActionParams.Tpo .deps/ActionParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c -o ActionPasswordList.lo ../../../src/mgr/ActionPasswordList.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o .libs/ActionPasswordList.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o Action.o >/dev/null 2>&1
mv -f .deps/Action.Tpo .deps/Action.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c -o ActionWriter.lo ../../../src/mgr/ActionWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o .libs/ActionWriter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o ActionPasswordList.o >/dev/null 2>&1
mv -f .deps/ActionPasswordList.Tpo .deps/ActionPasswordList.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c -o BasicActions.lo ../../../src/mgr/BasicActions.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o .libs/BasicActions.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o ActionWriter.o >/dev/null 2>&1
mv -f .deps/ActionWriter.Tpo .deps/ActionWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c -o Command.lo ../../../src/mgr/Command.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o .libs/Command.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o BasicActions.o >/dev/null 2>&1
mv -f .deps/BasicActions.Tpo .deps/BasicActions.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c -o CountersAction.lo ../../../src/mgr/CountersAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o .libs/CountersAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o Command.o >/dev/null 2>&1
mv -f .deps/Command.Tpo .deps/Command.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c -o Filler.lo ../../../src/mgr/Filler.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o .libs/Filler.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o CountersAction.o >/dev/null 2>&1
mv -f .deps/CountersAction.Tpo .deps/CountersAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/mgr/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o Filler.o >/dev/null 2>&1
mv -f .deps/Filler.Tpo .deps/Filler.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c -o FunAction.lo ../../../src/mgr/FunAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o .libs/FunAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o FunAction.o >/dev/null 2>&1
mv -f .deps/FunAction.Tpo .deps/FunAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c -o InfoAction.lo ../../../src/mgr/InfoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o .libs/InfoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/mgr/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o InfoAction.o >/dev/null 2>&1
mv -f .deps/InfoAction.Tpo .deps/InfoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c -o IntervalAction.lo ../../../src/mgr/IntervalAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o .libs/IntervalAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c -o IoAction.lo ../../../src/mgr/IoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o .libs/IoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o IntervalAction.o >/dev/null 2>&1
mv -f .deps/IntervalAction.Tpo .deps/IntervalAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c -o Registration.lo ../../../src/mgr/Registration.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o .libs/Registration.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o Registration.o >/dev/null 2>&1
mv -f .deps/Registration.Tpo .deps/Registration.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c -o Request.lo ../../../src/mgr/Request.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o .libs/Request.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o IoAction.o >/dev/null 2>&1
mv -f .deps/IoAction.Tpo .deps/IoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c -o Response.lo ../../../src/mgr/Response.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o .libs/Response.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o Request.o >/dev/null 2>&1
mv -f .deps/Request.Tpo .deps/Request.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c -o ServiceTimesAction.lo ../../../src/mgr/ServiceTimesAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o .libs/ServiceTimesAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o Response.o >/dev/null 2>&1
mv -f .deps/Response.Tpo .deps/Response.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c -o StoreIoAction.lo ../../../src/mgr/StoreIoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o .libs/StoreIoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o ServiceTimesAction.o >/dev/null 2>&1
mv -f .deps/ServiceTimesAction.Tpo .deps/ServiceTimesAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c -o StoreToCommWriter.lo ../../../src/mgr/StoreToCommWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o StoreIoAction.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o .libs/StoreToCommWriter.o
mv -f .deps/StoreIoAction.Tpo .deps/StoreIoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c -o QueryParams.lo ../../../src/mgr/QueryParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o .libs/QueryParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o QueryParams.o >/dev/null 2>&1
mv -f .deps/QueryParams.Tpo .deps/QueryParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c -o IntParam.lo ../../../src/mgr/IntParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o .libs/IntParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o StoreToCommWriter.o >/dev/null 2>&1
mv -f .deps/StoreToCommWriter.Tpo .deps/StoreToCommWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c -o StringParam.lo ../../../src/mgr/StringParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o .libs/StringParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o IntParam.o >/dev/null 2>&1
mv -f .deps/IntParam.Tpo .deps/IntParam.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o StringParam.o >/dev/null 2>&1
mv -f .deps/StringParam.Tpo .deps/StringParam.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libmgr.la  Action.lo ActionParams.lo ActionPasswordList.lo ActionWriter.lo BasicActions.lo Command.lo CountersAction.lo Filler.lo Forwarder.lo FunAction.lo InfoAction.lo Inquirer.lo IntervalAction.lo IoAction.lo Registration.lo Request.lo Response.lo ServiceTimesAction.lo StoreIoAction.lo StoreToCommWriter.lo QueryParams.lo IntParam.lo StringParam.lo  
libtool: link: /usr/bin/ar cru .libs/libmgr.a .libs/Action.o .libs/ActionParams.o .libs/ActionPasswordList.o .libs/ActionWriter.o .libs/BasicActions.o .libs/Command.o .libs/CountersAction.o .libs/Filler.o .libs/Forwarder.o .libs/FunAction.o .libs/InfoAction.o .libs/Inquirer.o .libs/IntervalAction.o .libs/IoAction.o .libs/Registration.o .libs/Request.o .libs/Response.o .libs/ServiceTimesAction.o .libs/StoreIoAction.o .libs/StoreToCommWriter.o .libs/QueryParams.o .libs/IntParam.o .libs/StringParam.o 
libtool: link: ranlib .libs/libmgr.a
libtool: link: ( cd ".libs" && rm -f "libmgr.la" && ln -s "../libmgr.la" "libmgr.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
Making all in ssl
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c -o bio.lo ../../../src/ssl/bio.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c -o cert_validate_message.lo ../../../src/ssl/cert_validate_message.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o .libs/cert_validate_message.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o .libs/bio.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o bio.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o cert_validate_message.o >/dev/null 2>&1
mv -f .deps/bio.Tpo .deps/bio.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c -o context_storage.lo ../../../src/ssl/context_storage.cc
mv -f .deps/cert_validate_message.Tpo .deps/cert_validate_message.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c -o Config.lo ../../../src/ssl/Config.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o .libs/context_storage.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o Config.o >/dev/null 2>&1
mv -f .deps/Config.Tpo .deps/Config.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c -o ErrorDetail.lo ../../../src/ssl/ErrorDetail.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o .libs/ErrorDetail.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o context_storage.o >/dev/null 2>&1
mv -f .deps/context_storage.Tpo .deps/context_storage.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c -o ErrorDetailManager.lo ../../../src/ssl/ErrorDetailManager.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o .libs/ErrorDetailManager.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o ErrorDetail.o >/dev/null 2>&1
mv -f .deps/ErrorDetail.Tpo .deps/ErrorDetail.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c -o PeerConnector.lo ../../../src/ssl/PeerConnector.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c ../../../src/ssl/PeerConnector.cc  -fPIC -DPIC -o .libs/PeerConnector.o
../../../src/ssl/PeerConnector.cc: In member function 'void Ssl::PeerConnector::checkForPeekAndSpliceDone(Ssl::BumpMode)':
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
         return false;
                ^
make[4]: *** [PeerConnector.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o ErrorDetailManager.o >/dev/null 2>&1
mv -f .deps/ErrorDetailManager.Tpo .deps/ErrorDetailManager.Plo
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [all] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Mon Oct  6 20:21:34 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 6 Oct 2014 22:21:34 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #96
In-Reply-To: <1959703311.48.1412609306362.JavaMail.hudson@eu.squid-cache.org>
References: <1959703311.48.1412609306362.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1506179393.49.1412626894477.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/96/changes>

Changes:

[Amos Jeffries] Cleanup CBDATA debugging messages

* Remove duplicate labels from debug messages. function names are now
automatically added.

* Add debug messages to display method used for freeing CBDATA.
Whether the object was deleted, or placement destructor called.

------------------------------------------
[...truncated 30540 lines...]
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Queue.lo -MD -MP -MF .deps/Queue.Tpo -c ../../../src/ipc/Queue.cc  -fPIC -DPIC -o Queue.o >/dev/null 2>&1
mv -f .deps/MemMap.Tpo .deps/MemMap.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c -o ReadWriteLock.lo ../../../src/ipc/ReadWriteLock.cc
mv -f .deps/Queue.Tpo .deps/Queue.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c -o StartListening.lo ../../../src/ipc/StartListening.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o .libs/ReadWriteLock.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o .libs/StartListening.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o StartListening.o >/dev/null 2>&1
mv -f .deps/StartListening.Tpo .deps/StartListening.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c -o StoreMap.lo ../../../src/ipc/StoreMap.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o .libs/StoreMap.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o ReadWriteLock.o >/dev/null 2>&1
mv -f .deps/ReadWriteLock.Tpo .deps/ReadWriteLock.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c -o StrandCoord.lo ../../../src/ipc/StrandCoord.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o .libs/StrandCoord.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o StrandCoord.o >/dev/null 2>&1
mv -f .deps/StrandCoord.Tpo .deps/StrandCoord.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c -o StrandSearch.lo ../../../src/ipc/StrandSearch.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o .libs/StrandSearch.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o StrandSearch.o >/dev/null 2>&1
mv -f .deps/StrandSearch.Tpo .deps/StrandSearch.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c -o SharedListen.lo ../../../src/ipc/SharedListen.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o .libs/SharedListen.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o SharedListen.o >/dev/null 2>&1
mv -f .deps/SharedListen.Tpo .deps/SharedListen.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c -o TypedMsgHdr.lo ../../../src/ipc/TypedMsgHdr.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o .libs/TypedMsgHdr.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o TypedMsgHdr.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o StoreMap.o >/dev/null 2>&1
mv -f .deps/TypedMsgHdr.Tpo .deps/TypedMsgHdr.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c -o Coordinator.lo ../../../src/ipc/Coordinator.cc
mv -f .deps/StoreMap.Tpo .deps/StoreMap.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c -o UdsOp.lo ../../../src/ipc/UdsOp.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o .libs/Coordinator.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o .libs/UdsOp.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o UdsOp.o >/dev/null 2>&1
mv -f .deps/UdsOp.Tpo .deps/UdsOp.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c -o Port.lo ../../../src/ipc/Port.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o .libs/Port.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o Coordinator.o >/dev/null 2>&1
mv -f .deps/Coordinator.Tpo .deps/Coordinator.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c -o Strand.lo ../../../src/ipc/Strand.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o .libs/Strand.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o Port.o >/dev/null 2>&1
mv -f .deps/Port.Tpo .deps/Port.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/ipc/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o Strand.o >/dev/null 2>&1
mv -f .deps/Strand.Tpo .deps/Strand.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/ipc/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c -o Page.lo `test -f 'mem/Page.cc' || echo '../../../src/ipc/'`mem/Page.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o .libs/Page.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o Page.o >/dev/null 2>&1
mv -f .deps/Page.Tpo .deps/Page.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c -o PagePool.lo `test -f 'mem/PagePool.cc' || echo '../../../src/ipc/'`mem/PagePool.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o .libs/PagePool.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o PagePool.o >/dev/null 2>&1
mv -f .deps/PagePool.Tpo .deps/PagePool.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c -o Pages.lo `test -f 'mem/Pages.cc' || echo '../../../src/ipc/'`mem/Pages.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o .libs/Pages.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c -o PageStack.lo `test -f 'mem/PageStack.cc' || echo '../../../src/ipc/'`mem/PageStack.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o .libs/PageStack.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o PageStack.o >/dev/null 2>&1
mv -f .deps/PageStack.Tpo .deps/PageStack.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c -o Segment.lo `test -f 'mem/Segment.cc' || echo '../../../src/ipc/'`mem/Segment.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o .libs/Segment.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o Segment.o >/dev/null 2>&1
mv -f .deps/Segment.Tpo .deps/Segment.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o Pages.o >/dev/null 2>&1
mv -f .deps/Pages.Tpo .deps/Pages.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libipc.la  AtomicWord.lo FdNotes.lo Kid.lo Kids.lo MemMap.lo Queue.lo ReadWriteLock.lo StartListening.lo StoreMap.lo StrandCoord.lo StrandSearch.lo SharedListen.lo TypedMsgHdr.lo Coordinator.lo UdsOp.lo Port.lo Strand.lo Forwarder.lo Inquirer.lo Page.lo PagePool.lo Pages.lo PageStack.lo Segment.lo  
libtool: link: /usr/bin/ar cru .libs/libipc.a .libs/AtomicWord.o .libs/FdNotes.o .libs/Kid.o .libs/Kids.o .libs/MemMap.o .libs/Queue.o .libs/ReadWriteLock.o .libs/StartListening.o .libs/StoreMap.o .libs/StrandCoord.o .libs/StrandSearch.o .libs/SharedListen.o .libs/TypedMsgHdr.o .libs/Coordinator.o .libs/UdsOp.o .libs/Port.o .libs/Strand.o .libs/Forwarder.o .libs/Inquirer.o .libs/Page.o .libs/PagePool.o .libs/Pages.o .libs/PageStack.o .libs/Segment.o 
libtool: link: ranlib .libs/libipc.a
libtool: link: ( cd ".libs" && rm -f "libipc.la" && ln -s "../libipc.la" "libipc.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
Making all in mgr
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c -o Action.lo ../../../src/mgr/Action.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c -o ActionParams.lo ../../../src/mgr/ActionParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o .libs/Action.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o .libs/ActionParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o ActionParams.o >/dev/null 2>&1
mv -f .deps/ActionParams.Tpo .deps/ActionParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c -o ActionPasswordList.lo ../../../src/mgr/ActionPasswordList.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o .libs/ActionPasswordList.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o ActionPasswordList.o >/dev/null 2>&1
mv -f .deps/ActionPasswordList.Tpo .deps/ActionPasswordList.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c -o ActionWriter.lo ../../../src/mgr/ActionWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o .libs/ActionWriter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o ActionWriter.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o Action.o >/dev/null 2>&1
mv -f .deps/ActionWriter.Tpo .deps/ActionWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c -o BasicActions.lo ../../../src/mgr/BasicActions.cc
mv -f .deps/Action.Tpo .deps/Action.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c -o Command.lo ../../../src/mgr/Command.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o .libs/BasicActions.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o .libs/Command.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o Command.o >/dev/null 2>&1
mv -f .deps/Command.Tpo .deps/Command.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c -o CountersAction.lo ../../../src/mgr/CountersAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o .libs/CountersAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o CountersAction.o >/dev/null 2>&1
mv -f .deps/CountersAction.Tpo .deps/CountersAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c -o Filler.lo ../../../src/mgr/Filler.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o .libs/Filler.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o BasicActions.o >/dev/null 2>&1
mv -f .deps/BasicActions.Tpo .deps/BasicActions.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/mgr/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o Filler.o >/dev/null 2>&1
mv -f .deps/Filler.Tpo .deps/Filler.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c -o FunAction.lo ../../../src/mgr/FunAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o .libs/FunAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c -o InfoAction.lo ../../../src/mgr/InfoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o .libs/InfoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o FunAction.o >/dev/null 2>&1
mv -f .deps/FunAction.Tpo .deps/FunAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/mgr/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o InfoAction.o >/dev/null 2>&1
mv -f .deps/InfoAction.Tpo .deps/InfoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c -o IntervalAction.lo ../../../src/mgr/IntervalAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o .libs/IntervalAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o IntervalAction.o >/dev/null 2>&1
mv -f .deps/IntervalAction.Tpo .deps/IntervalAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c -o IoAction.lo ../../../src/mgr/IoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o .libs/IoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c -o Registration.lo ../../../src/mgr/Registration.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o .libs/Registration.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o Registration.o >/dev/null 2>&1
mv -f .deps/Registration.Tpo .deps/Registration.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c -o Request.lo ../../../src/mgr/Request.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o .libs/Request.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o Request.o >/dev/null 2>&1
mv -f .deps/Request.Tpo .deps/Request.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c -o Response.lo ../../../src/mgr/Response.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o .libs/Response.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o Response.o >/dev/null 2>&1
mv -f .deps/Response.Tpo .deps/Response.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c -o ServiceTimesAction.lo ../../../src/mgr/ServiceTimesAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o .libs/ServiceTimesAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o IoAction.o >/dev/null 2>&1
mv -f .deps/IoAction.Tpo .deps/IoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c -o StoreIoAction.lo ../../../src/mgr/StoreIoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o .libs/StoreIoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o ServiceTimesAction.o >/dev/null 2>&1
mv -f .deps/ServiceTimesAction.Tpo .deps/ServiceTimesAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c -o StoreToCommWriter.lo ../../../src/mgr/StoreToCommWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o .libs/StoreToCommWriter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o StoreIoAction.o >/dev/null 2>&1
mv -f .deps/StoreIoAction.Tpo .deps/StoreIoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c -o QueryParams.lo ../../../src/mgr/QueryParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o .libs/QueryParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o QueryParams.o >/dev/null 2>&1
mv -f .deps/QueryParams.Tpo .deps/QueryParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c -o IntParam.lo ../../../src/mgr/IntParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o .libs/IntParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o IntParam.o >/dev/null 2>&1
mv -f .deps/IntParam.Tpo .deps/IntParam.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c -o StringParam.lo ../../../src/mgr/StringParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o .libs/StringParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o StringParam.o >/dev/null 2>&1
mv -f .deps/StringParam.Tpo .deps/StringParam.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o StoreToCommWriter.o >/dev/null 2>&1
mv -f .deps/StoreToCommWriter.Tpo .deps/StoreToCommWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libmgr.la  Action.lo ActionParams.lo ActionPasswordList.lo ActionWriter.lo BasicActions.lo Command.lo CountersAction.lo Filler.lo Forwarder.lo FunAction.lo InfoAction.lo Inquirer.lo IntervalAction.lo IoAction.lo Registration.lo Request.lo Response.lo ServiceTimesAction.lo StoreIoAction.lo StoreToCommWriter.lo QueryParams.lo IntParam.lo StringParam.lo  
libtool: link: /usr/bin/ar cru .libs/libmgr.a .libs/Action.o .libs/ActionParams.o .libs/ActionPasswordList.o .libs/ActionWriter.o .libs/BasicActions.o .libs/Command.o .libs/CountersAction.o .libs/Filler.o .libs/Forwarder.o .libs/FunAction.o .libs/InfoAction.o .libs/Inquirer.o .libs/IntervalAction.o .libs/IoAction.o .libs/Registration.o .libs/Request.o .libs/Response.o .libs/ServiceTimesAction.o .libs/StoreIoAction.o .libs/StoreToCommWriter.o .libs/QueryParams.o .libs/IntParam.o .libs/StringParam.o 
libtool: link: ranlib .libs/libmgr.a
libtool: link: ( cd ".libs" && rm -f "libmgr.la" && ln -s "../libmgr.la" "libmgr.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
Making all in ssl
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c -o bio.lo ../../../src/ssl/bio.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c -o cert_validate_message.lo ../../../src/ssl/cert_validate_message.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o .libs/bio.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o .libs/cert_validate_message.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o bio.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o cert_validate_message.o >/dev/null 2>&1
mv -f .deps/bio.Tpo .deps/bio.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c -o context_storage.lo ../../../src/ssl/context_storage.cc
mv -f .deps/cert_validate_message.Tpo .deps/cert_validate_message.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c -o Config.lo ../../../src/ssl/Config.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o .libs/context_storage.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o Config.o >/dev/null 2>&1
mv -f .deps/Config.Tpo .deps/Config.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c -o ErrorDetail.lo ../../../src/ssl/ErrorDetail.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o .libs/ErrorDetail.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o context_storage.o >/dev/null 2>&1
mv -f .deps/context_storage.Tpo .deps/context_storage.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c -o ErrorDetailManager.lo ../../../src/ssl/ErrorDetailManager.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o ErrorDetail.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o .libs/ErrorDetailManager.o
mv -f .deps/ErrorDetail.Tpo .deps/ErrorDetail.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c -o PeerConnector.lo ../../../src/ssl/PeerConnector.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c ../../../src/ssl/PeerConnector.cc  -fPIC -DPIC -o .libs/PeerConnector.o
../../../src/ssl/PeerConnector.cc: In member function 'void Ssl::PeerConnector::checkForPeekAndSpliceDone(Ssl::BumpMode)':
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
         return false;
                ^
make[4]: *** [PeerConnector.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o ErrorDetailManager.o >/dev/null 2>&1
mv -f .deps/ErrorDetailManager.Tpo .deps/ErrorDetailManager.Plo
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [all] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Mon Oct  6 20:29:23 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 6 Oct 2014 22:29:23 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #494
In-Reply-To: <2142425488.47.1412609156783.JavaMail.hudson@eu.squid-cache.org>
References: <2142425488.47.1412609156783.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1762769371.50.1412627363861.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/494/changes>

Changes:

[Amos Jeffries] Cleanup CBDATA debugging messages

* Remove duplicate labels from debug messages. function names are now
automatically added.

* Add debug messages to display method used for freeing CBDATA.
Whether the object was deleted, or placement destructor called.

------------------------------------------
[...truncated 30453 lines...]
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/oc.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt-br.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SOCKET_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_UNSUP_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_RESP: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DIR_LISTING: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FORBIDDEN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_NOT_FOUND: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_UNAVAILABLE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
../../../src/ssl/PeerConnector.cc:366: error: return-statement with a value, in function returning 'void'
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct  7 15:18:54 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 7 Oct 2014 17:18:54 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #97
In-Reply-To: <1506179393.49.1412626894477.JavaMail.hudson@eu.squid-cache.org>
References: <1506179393.49.1412626894477.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1091237575.52.1412695134623.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/97/changes>

Changes:

[Christos Tsantilas] sslproxy_cert_sign_hash configuration option

Browser vendors will get rid of SSL certificates that use SHA-1 to generate
the hash that is then signed by the CA. For example, Google Chrome will start
to show an "insecure" sign for certificates that are valid after 1.1.2016 and
will generate a warning page for certificates that are valid after 1.1.2017 [1],
[2],[4]. Microsoft will block certificates with SHA-1 after 1.1.2017 [3].

This patch:
1) Add a new configuration option to select the signing hash for
generated certificates: sslproxy_cert_sign_hash.

2) If sslproxy_cert_sign_hash is not set, then use the sha256 hash.

[1] https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/2-R4XziFc7A/YO0ZSrX_X4wJ
[2] https://code.google.com/p/chromium/issues/detail?id=401365
[3] http://blogs.technet.com/b/pki/archive/2013/11/12/sha1-deprecation-policy.aspx
[4] http://googleonlinesecurity.blogspot.ch/2014/09/gradually-sunsetting-sha-1.html

This is a Measurement Factory project

------------------------------------------
[...truncated 30548 lines...]
mv -f .deps/Queue.Tpo .deps/Queue.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c -o ReadWriteLock.lo ../../../src/ipc/ReadWriteLock.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o .libs/ReadWriteLock.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Kids.lo -MD -MP -MF .deps/Kids.Tpo -c ../../../src/ipc/Kids.cc  -fPIC -DPIC -o Kids.o >/dev/null 2>&1
mv -f .deps/Kids.Tpo .deps/Kids.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c -o StartListening.lo ../../../src/ipc/StartListening.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o .libs/StartListening.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StartListening.lo -MD -MP -MF .deps/StartListening.Tpo -c ../../../src/ipc/StartListening.cc  -fPIC -DPIC -o StartListening.o >/dev/null 2>&1
mv -f .deps/StartListening.Tpo .deps/StartListening.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c -o StoreMap.lo ../../../src/ipc/StoreMap.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o .libs/StoreMap.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ReadWriteLock.lo -MD -MP -MF .deps/ReadWriteLock.Tpo -c ../../../src/ipc/ReadWriteLock.cc  -fPIC -DPIC -o ReadWriteLock.o >/dev/null 2>&1
mv -f .deps/ReadWriteLock.Tpo .deps/ReadWriteLock.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c -o StrandCoord.lo ../../../src/ipc/StrandCoord.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o .libs/StrandCoord.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandCoord.lo -MD -MP -MF .deps/StrandCoord.Tpo -c ../../../src/ipc/StrandCoord.cc  -fPIC -DPIC -o StrandCoord.o >/dev/null 2>&1
mv -f .deps/StrandCoord.Tpo .deps/StrandCoord.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c -o StrandSearch.lo ../../../src/ipc/StrandSearch.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o .libs/StrandSearch.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StrandSearch.lo -MD -MP -MF .deps/StrandSearch.Tpo -c ../../../src/ipc/StrandSearch.cc  -fPIC -DPIC -o StrandSearch.o >/dev/null 2>&1
mv -f .deps/StrandSearch.Tpo .deps/StrandSearch.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c -o SharedListen.lo ../../../src/ipc/SharedListen.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o .libs/SharedListen.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT SharedListen.lo -MD -MP -MF .deps/SharedListen.Tpo -c ../../../src/ipc/SharedListen.cc  -fPIC -DPIC -o SharedListen.o >/dev/null 2>&1
mv -f .deps/SharedListen.Tpo .deps/SharedListen.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c -o TypedMsgHdr.lo ../../../src/ipc/TypedMsgHdr.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o .libs/TypedMsgHdr.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT TypedMsgHdr.lo -MD -MP -MF .deps/TypedMsgHdr.Tpo -c ../../../src/ipc/TypedMsgHdr.cc  -fPIC -DPIC -o TypedMsgHdr.o >/dev/null 2>&1
mv -f .deps/TypedMsgHdr.Tpo .deps/TypedMsgHdr.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c -o Coordinator.lo ../../../src/ipc/Coordinator.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o .libs/Coordinator.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Coordinator.lo -MD -MP -MF .deps/Coordinator.Tpo -c ../../../src/ipc/Coordinator.cc  -fPIC -DPIC -o Coordinator.o >/dev/null 2>&1
mv -f .deps/Coordinator.Tpo .deps/Coordinator.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c -o UdsOp.lo ../../../src/ipc/UdsOp.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o .libs/UdsOp.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT UdsOp.lo -MD -MP -MF .deps/UdsOp.Tpo -c ../../../src/ipc/UdsOp.cc  -fPIC -DPIC -o UdsOp.o >/dev/null 2>&1
mv -f .deps/UdsOp.Tpo .deps/UdsOp.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c -o Port.lo ../../../src/ipc/Port.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o .libs/Port.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Port.lo -MD -MP -MF .deps/Port.Tpo -c ../../../src/ipc/Port.cc  -fPIC -DPIC -o Port.o >/dev/null 2>&1
mv -f .deps/Port.Tpo .deps/Port.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c -o Strand.lo ../../../src/ipc/Strand.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o .libs/Strand.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreMap.lo -MD -MP -MF .deps/StoreMap.Tpo -c ../../../src/ipc/StoreMap.cc  -fPIC -DPIC -o StoreMap.o >/dev/null 2>&1
mv -f .deps/StoreMap.Tpo .deps/StoreMap.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/ipc/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Strand.lo -MD -MP -MF .deps/Strand.Tpo -c ../../../src/ipc/Strand.cc  -fPIC -DPIC -o Strand.o >/dev/null 2>&1
mv -f .deps/Strand.Tpo .deps/Strand.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/ipc/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/ipc/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c -o Page.lo `test -f 'mem/Page.cc' || echo '../../../src/ipc/'`mem/Page.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o .libs/Page.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Page.lo -MD -MP -MF .deps/Page.Tpo -c ../../../src/ipc/mem/Page.cc  -fPIC -DPIC -o Page.o >/dev/null 2>&1
mv -f .deps/Page.Tpo .deps/Page.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c -o PagePool.lo `test -f 'mem/PagePool.cc' || echo '../../../src/ipc/'`mem/PagePool.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o .libs/PagePool.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PagePool.lo -MD -MP -MF .deps/PagePool.Tpo -c ../../../src/ipc/mem/PagePool.cc  -fPIC -DPIC -o PagePool.o >/dev/null 2>&1
mv -f .deps/PagePool.Tpo .deps/PagePool.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c -o Pages.lo `test -f 'mem/Pages.cc' || echo '../../../src/ipc/'`mem/Pages.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o .libs/Pages.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/ipc/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c -o PageStack.lo `test -f 'mem/PageStack.cc' || echo '../../../src/ipc/'`mem/PageStack.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o .libs/PageStack.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PageStack.lo -MD -MP -MF .deps/PageStack.Tpo -c ../../../src/ipc/mem/PageStack.cc  -fPIC -DPIC -o PageStack.o >/dev/null 2>&1
mv -f .deps/PageStack.Tpo .deps/PageStack.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\">   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c -o Segment.lo `test -f 'mem/Segment.cc' || echo '../../../src/ipc/'`mem/Segment.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o .libs/Segment.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Segment.lo -MD -MP -MF .deps/Segment.Tpo -c ../../../src/ipc/mem/Segment.cc  -fPIC -DPIC -o Segment.o >/dev/null 2>&1
mv -f .deps/Segment.Tpo .deps/Segment.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_STATEDIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/run/squid\"> -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Pages.lo -MD -MP -MF .deps/Pages.Tpo -c ../../../src/ipc/mem/Pages.cc  -fPIC -DPIC -o Pages.o >/dev/null 2>&1
mv -f .deps/Pages.Tpo .deps/Pages.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libipc.la  AtomicWord.lo FdNotes.lo Kid.lo Kids.lo MemMap.lo Queue.lo ReadWriteLock.lo StartListening.lo StoreMap.lo StrandCoord.lo StrandSearch.lo SharedListen.lo TypedMsgHdr.lo Coordinator.lo UdsOp.lo Port.lo Strand.lo Forwarder.lo Inquirer.lo Page.lo PagePool.lo Pages.lo PageStack.lo Segment.lo  
libtool: link: /usr/bin/ar cru .libs/libipc.a .libs/AtomicWord.o .libs/FdNotes.o .libs/Kid.o .libs/Kids.o .libs/MemMap.o .libs/Queue.o .libs/ReadWriteLock.o .libs/StartListening.o .libs/StoreMap.o .libs/StrandCoord.o .libs/StrandSearch.o .libs/SharedListen.o .libs/TypedMsgHdr.o .libs/Coordinator.o .libs/UdsOp.o .libs/Port.o .libs/Strand.o .libs/Forwarder.o .libs/Inquirer.o .libs/Page.o .libs/PagePool.o .libs/Pages.o .libs/PageStack.o .libs/Segment.o 
libtool: link: ranlib .libs/libipc.a
libtool: link: ( cd ".libs" && rm -f "libipc.la" && ln -s "../libipc.la" "libipc.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
Making all in mgr
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c -o Action.lo ../../../src/mgr/Action.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c -o ActionParams.lo ../../../src/mgr/ActionParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o .libs/Action.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o .libs/ActionParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionParams.lo -MD -MP -MF .deps/ActionParams.Tpo -c ../../../src/mgr/ActionParams.cc  -fPIC -DPIC -o ActionParams.o >/dev/null 2>&1
mv -f .deps/ActionParams.Tpo .deps/ActionParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c -o ActionPasswordList.lo ../../../src/mgr/ActionPasswordList.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o .libs/ActionPasswordList.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionPasswordList.lo -MD -MP -MF .deps/ActionPasswordList.Tpo -c ../../../src/mgr/ActionPasswordList.cc  -fPIC -DPIC -o ActionPasswordList.o >/dev/null 2>&1
mv -f .deps/ActionPasswordList.Tpo .deps/ActionPasswordList.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c -o ActionWriter.lo ../../../src/mgr/ActionWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o .libs/ActionWriter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ActionWriter.lo -MD -MP -MF .deps/ActionWriter.Tpo -c ../../../src/mgr/ActionWriter.cc  -fPIC -DPIC -o ActionWriter.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Action.lo -MD -MP -MF .deps/Action.Tpo -c ../../../src/mgr/Action.cc  -fPIC -DPIC -o Action.o >/dev/null 2>&1
mv -f .deps/ActionWriter.Tpo .deps/ActionWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c -o BasicActions.lo ../../../src/mgr/BasicActions.cc
mv -f .deps/Action.Tpo .deps/Action.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c -o Command.lo ../../../src/mgr/Command.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o .libs/BasicActions.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o .libs/Command.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Command.lo -MD -MP -MF .deps/Command.Tpo -c ../../../src/mgr/Command.cc  -fPIC -DPIC -o Command.o >/dev/null 2>&1
mv -f .deps/Command.Tpo .deps/Command.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c -o CountersAction.lo ../../../src/mgr/CountersAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o .libs/CountersAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT CountersAction.lo -MD -MP -MF .deps/CountersAction.Tpo -c ../../../src/mgr/CountersAction.cc  -fPIC -DPIC -o CountersAction.o >/dev/null 2>&1
mv -f .deps/CountersAction.Tpo .deps/CountersAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c -o Filler.lo ../../../src/mgr/Filler.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o .libs/Filler.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT BasicActions.lo -MD -MP -MF .deps/BasicActions.Tpo -c ../../../src/mgr/BasicActions.cc  -fPIC -DPIC -o BasicActions.o >/dev/null 2>&1
mv -f .deps/BasicActions.Tpo .deps/BasicActions.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c -o Forwarder.lo ../../../src/mgr/Forwarder.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Filler.lo -MD -MP -MF .deps/Filler.Tpo -c ../../../src/mgr/Filler.cc  -fPIC -DPIC -o Filler.o >/dev/null 2>&1
mv -f .deps/Filler.Tpo .deps/Filler.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c -o FunAction.lo ../../../src/mgr/FunAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o .libs/FunAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/mgr/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
mv -f .deps/Forwarder.Tpo .deps/Forwarder.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c -o InfoAction.lo ../../../src/mgr/InfoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o .libs/InfoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT FunAction.lo -MD -MP -MF .deps/FunAction.Tpo -c ../../../src/mgr/FunAction.cc  -fPIC -DPIC -o FunAction.o >/dev/null 2>&1
mv -f .deps/FunAction.Tpo .deps/FunAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c -o Inquirer.lo ../../../src/mgr/Inquirer.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT InfoAction.lo -MD -MP -MF .deps/InfoAction.Tpo -c ../../../src/mgr/InfoAction.cc  -fPIC -DPIC -o InfoAction.o >/dev/null 2>&1
mv -f .deps/InfoAction.Tpo .deps/InfoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c -o IntervalAction.lo ../../../src/mgr/IntervalAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o .libs/IntervalAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntervalAction.lo -MD -MP -MF .deps/IntervalAction.Tpo -c ../../../src/mgr/IntervalAction.cc  -fPIC -DPIC -o IntervalAction.o >/dev/null 2>&1
mv -f .deps/IntervalAction.Tpo .deps/IntervalAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c -o IoAction.lo ../../../src/mgr/IoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o .libs/IoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/mgr/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
mv -f .deps/Inquirer.Tpo .deps/Inquirer.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c -o Registration.lo ../../../src/mgr/Registration.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o .libs/Registration.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Registration.lo -MD -MP -MF .deps/Registration.Tpo -c ../../../src/mgr/Registration.cc  -fPIC -DPIC -o Registration.o >/dev/null 2>&1
mv -f .deps/Registration.Tpo .deps/Registration.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c -o Request.lo ../../../src/mgr/Request.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o .libs/Request.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/mgr/Request.cc  -fPIC -DPIC -o Request.o >/dev/null 2>&1
mv -f .deps/Request.Tpo .deps/Request.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c -o Response.lo ../../../src/mgr/Response.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o .libs/Response.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/mgr/Response.cc  -fPIC -DPIC -o Response.o >/dev/null 2>&1
mv -f .deps/Response.Tpo .deps/Response.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c -o ServiceTimesAction.lo ../../../src/mgr/ServiceTimesAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o .libs/ServiceTimesAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IoAction.lo -MD -MP -MF .deps/IoAction.Tpo -c ../../../src/mgr/IoAction.cc  -fPIC -DPIC -o IoAction.o >/dev/null 2>&1
mv -f .deps/IoAction.Tpo .deps/IoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c -o StoreIoAction.lo ../../../src/mgr/StoreIoAction.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o .libs/StoreIoAction.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ServiceTimesAction.lo -MD -MP -MF .deps/ServiceTimesAction.Tpo -c ../../../src/mgr/ServiceTimesAction.cc  -fPIC -DPIC -o ServiceTimesAction.o >/dev/null 2>&1
mv -f .deps/ServiceTimesAction.Tpo .deps/ServiceTimesAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c -o StoreToCommWriter.lo ../../../src/mgr/StoreToCommWriter.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o .libs/StoreToCommWriter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreIoAction.lo -MD -MP -MF .deps/StoreIoAction.Tpo -c ../../../src/mgr/StoreIoAction.cc  -fPIC -DPIC -o StoreIoAction.o >/dev/null 2>&1
mv -f .deps/StoreIoAction.Tpo .deps/StoreIoAction.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c -o QueryParams.lo ../../../src/mgr/QueryParams.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o .libs/QueryParams.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT QueryParams.lo -MD -MP -MF .deps/QueryParams.Tpo -c ../../../src/mgr/QueryParams.cc  -fPIC -DPIC -o QueryParams.o >/dev/null 2>&1
mv -f .deps/QueryParams.Tpo .deps/QueryParams.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c -o IntParam.lo ../../../src/mgr/IntParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o .libs/IntParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT IntParam.lo -MD -MP -MF .deps/IntParam.Tpo -c ../../../src/mgr/IntParam.cc  -fPIC -DPIC -o IntParam.o >/dev/null 2>&1
mv -f .deps/IntParam.Tpo .deps/IntParam.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c -o StringParam.lo ../../../src/mgr/StringParam.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o .libs/StringParam.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StringParam.lo -MD -MP -MF .deps/StringParam.Tpo -c ../../../src/mgr/StringParam.cc  -fPIC -DPIC -o StringParam.o >/dev/null 2>&1
mv -f .deps/StringParam.Tpo .deps/StringParam.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT StoreToCommWriter.lo -MD -MP -MF .deps/StoreToCommWriter.Tpo -c ../../../src/mgr/StoreToCommWriter.cc  -fPIC -DPIC -o StoreToCommWriter.o >/dev/null 2>&1
mv -f .deps/StoreToCommWriter.Tpo .deps/StoreToCommWriter.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o libmgr.la  Action.lo ActionParams.lo ActionPasswordList.lo ActionWriter.lo BasicActions.lo Command.lo CountersAction.lo Filler.lo Forwarder.lo FunAction.lo InfoAction.lo Inquirer.lo IntervalAction.lo IoAction.lo Registration.lo Request.lo Response.lo ServiceTimesAction.lo StoreIoAction.lo StoreToCommWriter.lo QueryParams.lo IntParam.lo StringParam.lo  
libtool: link: /usr/bin/ar cru .libs/libmgr.a .libs/Action.o .libs/ActionParams.o .libs/ActionPasswordList.o .libs/ActionWriter.o .libs/BasicActions.o .libs/Command.o .libs/CountersAction.o .libs/Filler.o .libs/Forwarder.o .libs/FunAction.o .libs/InfoAction.o .libs/Inquirer.o .libs/IntervalAction.o .libs/IoAction.o .libs/Registration.o .libs/Request.o .libs/Response.o .libs/ServiceTimesAction.o .libs/StoreIoAction.o .libs/StoreToCommWriter.o .libs/QueryParams.o .libs/IntParam.o .libs/StringParam.o 
libtool: link: ranlib .libs/libmgr.a
libtool: link: ( cd ".libs" && rm -f "libmgr.la" && ln -s "../libmgr.la" "libmgr.la" )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
Making all in ssl
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c -o bio.lo ../../../src/ssl/bio.cc
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c -o cert_validate_message.lo ../../../src/ssl/cert_validate_message.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o .libs/bio.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o .libs/cert_validate_message.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT bio.lo -MD -MP -MF .deps/bio.Tpo -c ../../../src/ssl/bio.cc  -fPIC -DPIC -o bio.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT cert_validate_message.lo -MD -MP -MF .deps/cert_validate_message.Tpo -c ../../../src/ssl/cert_validate_message.cc  -fPIC -DPIC -o cert_validate_message.o >/dev/null 2>&1
mv -f .deps/bio.Tpo .deps/bio.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c -o context_storage.lo ../../../src/ssl/context_storage.cc
mv -f .deps/cert_validate_message.Tpo .deps/cert_validate_message.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c -o Config.lo ../../../src/ssl/Config.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o .libs/context_storage.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/ssl/Config.cc  -fPIC -DPIC -o Config.o >/dev/null 2>&1
mv -f .deps/Config.Tpo .deps/Config.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c -o ErrorDetail.lo ../../../src/ssl/ErrorDetail.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o .libs/ErrorDetail.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT context_storage.lo -MD -MP -MF .deps/context_storage.Tpo -c ../../../src/ssl/context_storage.cc  -fPIC -DPIC -o context_storage.o >/dev/null 2>&1
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetail.lo -MD -MP -MF .deps/ErrorDetail.Tpo -c ../../../src/ssl/ErrorDetail.cc  -fPIC -DPIC -o ErrorDetail.o >/dev/null 2>&1
mv -f .deps/context_storage.Tpo .deps/context_storage.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c -o ErrorDetailManager.lo ../../../src/ssl/ErrorDetailManager.cc
mv -f .deps/ErrorDetail.Tpo .deps/ErrorDetail.Plo
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c -o PeerConnector.lo ../../../src/ssl/PeerConnector.cc
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o .libs/ErrorDetailManager.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c ../../../src/ssl/PeerConnector.cc  -fPIC -DPIC -o .libs/PeerConnector.o
../../../src/ssl/PeerConnector.cc: In member function 'void Ssl::PeerConnector::checkForPeekAndSpliceDone(Ssl::BumpMode)':
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
         return false;
                ^
make[4]: *** [PeerConnector.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT ErrorDetailManager.lo -MD -MP -MF .deps/ErrorDetailManager.Tpo -c ../../../src/ssl/ErrorDetailManager.cc  -fPIC -DPIC -o ErrorDetailManager.o >/dev/null 2>&1
mv -f .deps/ErrorDetailManager.Tpo .deps/ErrorDetailManager.Plo
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [all] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
../../../src/ssl/PeerConnector.cc:366:16: error: return-statement with a value, in function returning 'void' [-fpermissive]
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct  7 15:28:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 7 Oct 2014 17:28:37 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #495
In-Reply-To: <1762769371.50.1412627363861.JavaMail.hudson@eu.squid-cache.org>
References: <1762769371.50.1412627363861.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <44395457.54.1412695717792.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/495/changes>

Changes:

[Christos Tsantilas] sslproxy_cert_sign_hash configuration option

Browser vendors will get rid of SSL certificates that use SHA-1 to generate
the hash that is then signed by the CA. For example, Google Chrome will start
to show an "insecure" sign for certificates that are valid after 1.1.2016 and
will generate a warning page for certificates that are valid after 1.1.2017 [1],
[2],[4]. Microsoft will block certificates with SHA-1 after 1.1.2017 [3].

This patch:
1) Add a new configuration option to select the signing hash for
generated certificates: sslproxy_cert_sign_hash.

2) If sslproxy_cert_sign_hash is not set, then use the sha256 hash.

[1] https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/2-R4XziFc7A/YO0ZSrX_X4wJ
[2] https://code.google.com/p/chromium/issues/detail?id=401365
[3] http://blogs.technet.com/b/pki/archive/2013/11/12/sha1-deprecation-policy.aspx
[4] http://googleonlinesecurity.blogspot.ch/2014/09/gradually-sunsetting-sha-1.html

This is a Measurement Factory project

------------------------------------------
[...truncated 30461 lines...]
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/oc.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt-br.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SOCKET_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_UNSUP_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_RESP: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DIR_LISTING: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FORBIDDEN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_NOT_FOUND: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_UNAVAILABLE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
../../../src/ssl/PeerConnector.cc:366: error: return-statement with a value, in function returning 'void'
make[4]: *** [PeerConnector.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct  7 18:18:22 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 7 Oct 2014 20:18:22 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #98
In-Reply-To: <1091237575.52.1412695134623.JavaMail.hudson@eu.squid-cache.org>
References: <1091237575.52.1412695134623.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1664273627.56.1412705902203.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/98/changes>

Changes:

[Christos Tsantilas] Validate server certificates without bumping: fix compile error

Fix error: return-statement with a value, in function returning 'void'

------------------------------------------
[...truncated 34655 lines...]
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src   -I/usr/include/libxml2  -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11  -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o base/libbase.la ../lib/libmiscutil.la ../compat/libcompat-squid.la  -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o testRefCount tests/stub_cbdata.o tests/stub_debug.o tests/stub_MemBuf.o tests/testRefCount.o  base/.libs/libbase.a ../lib/.libs/libmiscutil.a ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o delay_pools.o DelayId.o DelayBucket.o DelayConfig.o DelayPool.o DelaySpec.o DelayTagged.o DelayUser.o DelayVector.o NullDelayId.o ClientDelayConfig.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o libsquid.la clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la ip/libip.la fs/libfs.la comm/libcomm.la eui/libeui.la icmp/libicmp.la icmp/libicmp-core.la log/liblog.la format/libformat.la repl/libheap.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread adaptation/libadaptation.la esi/libesi.la ../lib/libTrie/libTrie.a -lxml2 -lexpat ssl/libsslsquid.la ssl/libsslutil.la anyp/libanyp.la ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  -lssl -lcrypto    -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool  --tag=CXX   --mode=link ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -ldl -g -o tests/testEvent AccessLogEntry.o BodyPipe.o tests/stub_CacheDigest.o YesNoNone.o cache_cf.o cache_manager.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o debug.o delay_pools.o DelayId.o DelayBucket.o DelayConfig.o DelayPool.o DelaySpec.o DelayTagged.o DelayUser.o DelayVector.o NullDelayId.o ClientDelayConfig.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o EventLoop.o external_acl.o ExternalACLEntry.o FadingCounter.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o multicast.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o StrList.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o tests/stub_SwapDir.o tests/testEvent.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_store_stats.o time.o tools.o Transients.o tests/stub_tunnel.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o libsquid.la clients/libclients.la servers/libservers.la helper/libhelper.la http/libsquid-http.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la base/libbase.la ip/libip.la fs/libfs.la anyp/libanyp.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la repl/libheap.a repl/liblru.a adaptation/libadaptation.la esi/libesi.la ../lib/libTrie/libTrie.a -lxml2 -lexpat ssl/libsslsquid.la ssl/libsslutil.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lrt -lpthread ipc/libipc.la mgr/libmgr.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la -lnettle  -lcppunit -ldl  -lssl -lcrypto    -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testCacheManager AccessLogEntry.o debug.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testCacheManager.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o delay_pools.o DelayId.o DelayBucket.o DelayConfig.o DelayPool.o DelaySpec.o DelayTagged.o DelayUser.o DelayVector.o NullDelayId.o ClientDelayConfig.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StrList.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o  ./.libs/libsquid.a clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ip/.libs/libip.a fs/.libs/libfs.a comm/.libs/libcomm.a eui/.libs/libeui.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a log/.libs/liblog.a format/.libs/libformat.a repl/libheap.a repl/liblru.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread adaptation/.libs/libadaptation.a esi/.libs/libesi.a ../lib/libTrie/libTrie.a -lxml2 -lexpat ssl/.libs/libsslsquid.a ssl/.libs/libsslutil.a anyp/.libs/libanyp.a ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit -lssl -lcrypto -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -g -o tests/testEvent AccessLogEntry.o BodyPipe.o tests/stub_CacheDigest.o YesNoNone.o cache_cf.o cache_manager.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o debug.o delay_pools.o DelayId.o DelayBucket.o DelayConfig.o DelayPool.o DelaySpec.o DelayTagged.o DelayUser.o DelayVector.o NullDelayId.o ClientDelayConfig.o DiskIO/DiskIOModule.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o event.o EventLoop.o external_acl.o ExternalACLEntry.o FadingCounter.o tests/stub_fatal.o fd.o fde.o filemap.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpParser.o HttpReply.o PeerPoolMgr.o RequestFlags.o HttpRequest.o HttpRequestMethod.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o multicast.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o tests/stub_redirect.o refresh.o RemovalPolicy.o StrList.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o String.o tests/stub_SwapDir.o tests/testEvent.o tests/testMain.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libauth_acls.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_store_stats.o time.o tools.o Transients.o tests/stub_tunnel.o MemStore.o unlinkd.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o DiskIO/DiskIOModules_gen.o  ./.libs/libsquid.a clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a http/.libs/libsquid-http.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a base/.libs/libbase.a ip/.libs/libip.a fs/.libs/libfs.a anyp/.libs/libanyp.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a repl/libheap.a repl/liblru.a adaptation/.libs/libadaptation.a esi/.libs/libesi.a ../lib/libTrie/libTrie.a -lxml2 -lexpat ssl/.libs/libsslsquid.a ssl/.libs/libsslutil.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a libAIO.a libBlocking.a libDiskDaemon.a libDiskThreads.a libIpcIo.a libMmapped.a -lpthread ipc/.libs/libipc.a mgr/.libs/libmgr.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a -lnettle -lcppunit -lssl -lcrypto -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
ssl/.libs/libsslsquid.a(PeerConnector.o): In function `Ssl::PeerConnector::sslCrtvdHandleReply(Ssl::CertValidationResponse const&)':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
ssl/.libs/libsslsquid.a(PeerConnector.o): In function `Ssl::PeerConnector::checkForPeekAndSpliceDone(Ssl::BumpMode)':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testEvent] Error 1
make[5]: *** Waiting for unfinished jobs....
ssl/.libs/libsslsquid.a(PeerConnector.o): In function `Ssl::PeerConnector::sslCrtvdHandleReply(Ssl::CertValidationResponse const&)':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
ssl/.libs/libsslsquid.a(PeerConnector.o): In function `Ssl::PeerConnector::checkForPeekAndSpliceDone(Ssl::BumpMode)':
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testCacheManager] Error 1
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testEvent] Error 1
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
collect2: error: ld returned 1 exit status
make[5]: *** [tests/testCacheManager] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From huaraz at moeller.plus.com  Tue Oct  7 22:10:59 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Tue, 7 Oct 2014 23:10:59 +0100
Subject: [squid-dev] [PATCH] Kerberos improvements
Message-ID: <m11odm$ssp$1@ger.gmane.org>

Spam detection software, running on the system "master.squid-cache.org",
has identified this incoming email as possible spam.  The original
message has been attached to this so you can view it or label
similar future email.  If you have any questions, see
@@CONTACT_ADDRESS@@ for details.

Content preview:  Hi , I have some further improvments for the Kerberos helpers.
   This includes 1) Option -n for kerberos_ldap_group. This disables the automated
   Kerberos authentication(SASL/GSSAPI) to AD and requires username/password
   (SASL/SIMPLE) instead. 2) Improvements in caching Kerberos credentials for
   setup with low SQUID cache TTL. 3) Output group= if negotiate_kerberos_auth
   can retrieve AD groups from Kerberos ticket for further processing by squid
   to external helpers ( ones the helper code supports transfer of the kv pairs
   as documented here http://wiki.squid-cache.org/Features/AddonHelpers ) [...]
   

Content analysis details:   (5.7 points, 5.0 required)

 pts rule name              description
---- ---------------------- --------------------------------------------------
 0.0 URIBL_BLOCKED          ADMINISTRATOR NOTICE: The query to URIBL was blocked.
                            See
                            http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                             for more information.
                            [URIs: squid-cache.org]
 0.9 SPF_FAIL               SPF: sender does not match SPF record (fail)
[SPF failed: Please see http://www.openspf.org/Why?s=mfrom;id=gcwsd-squid-dev%40m.gmane.org;ip=81.174.172.105;r=master.squid-cache.org]
 0.0 T_HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level mail
                            domains are different
 0.0 UNPARSEABLE_RELAY      Informational: message has unparseable relay lines
 1.3 RDNS_NONE              Delivered to internal network by a host with no rDNS
 3.5 TO_NO_BRKTS_MSFT       To: misformatted and supposed Microsoft tool

The original message was not completely plain text, and may be unsafe to
open with some email clients; in particular, it may contain a virus,
or confirm that your address can receive spam.  If you wish to view
it, it may be safer to save it to a file and open it with an editor.

-------------- next part --------------
An embedded message was scrubbed...
From: "Markus Moeller" <huaraz at moeller.plus.com>
Subject: [PATCH] Kerberos improvements
Date: Tue, 7 Oct 2014 23:10:59 +0100
Size: 11878
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141007/74729ca3/attachment.mht>

From noc at squid-cache.org  Wed Oct  8 09:37:04 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 11:37:04 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#99
In-Reply-To: <1664273627.56.1412705902203.JavaMail.hudson@eu.squid-cache.org>
References: <1664273627.56.1412705902203.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1364224615.58.1412761024896.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/99/changes>


From noc at squid-cache.org  Wed Oct  8 09:43:47 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 11:43:47 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-6
	#497
In-Reply-To: <212571801.57.1412706474415.JavaMail.hudson@eu.squid-cache.org>
References: <212571801.57.1412706474415.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <744317796.59.1412761427495.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/497/changes>


From noc at squid-cache.org  Wed Oct  8 09:44:21 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 11:44:21 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#181
In-Reply-To: <60696561.37.1412528286649.JavaMail.hudson@eu.squid-cache.org>
References: <60696561.37.1412528286649.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <194685502.60.1412761461199.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/181/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 497
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Wed Oct  8 09:52:33 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 11:52:33 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-ubuntu-saucy #329
Message-ID: <1066018248.61.1412761953848.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/329/changes>

Changes:

[Christos Tsantilas] Validate server certificates without bumping: fix 'make distcheck' error

[Christos Tsantilas] Validate server certificates without bumping: fix compile error

Fix error: return-statement with a value, in function returning 'void'

[Christos Tsantilas] sslproxy_cert_sign_hash configuration option

Browser vendors will get rid of SSL certificates that use SHA-1 to generate
the hash that is then signed by the CA. For example, Google Chrome will start
to show an "insecure" sign for certificates that are valid after 1.1.2016 and
will generate a warning page for certificates that are valid after 1.1.2017 [1],
[2],[4]. Microsoft will block certificates with SHA-1 after 1.1.2017 [3].

This patch:
1) Add a new configuration option to select the signing hash for
generated certificates: sslproxy_cert_sign_hash.

2) If sslproxy_cert_sign_hash is not set, then use the sha256 hash.

[1] https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/2-R4XziFc7A/YO0ZSrX_X4wJ
[2] https://code.google.com/p/chromium/issues/detail?id=401365
[3] http://blogs.technet.com/b/pki/archive/2013/11/12/sha1-deprecation-policy.aspx
[4] http://googleonlinesecurity.blogspot.ch/2014/09/gradually-sunsetting-sha-1.html

This is a Measurement Factory project

[Amos Jeffries] Cleanup CBDATA debugging messages

* Remove duplicate labels from debug messages. function names are now
automatically added.

* Add debug messages to display method used for freeing CBDATA.
Whether the object was deleted, or placement destructor called.

[Christos Tsantilas] Validate server certificates without bumping

This patch add support for the "Validate server certificates without bumping"
use case described on the Peek and Splice wiki page:
http://wiki.squid-cache.org/Features/SslPeekAndSplice

This patch send to the certificate validation helper the  certificates and
errors found in SslBump3 step, even if the splicing mode selected.
In the case the validation helper found errors in certificates an error
page returned to the http client.

The SSL error forwarding is controlled by ACLs along these lines:

sslproxy_cert_error allow sslBoringErrors
sslproxy_cert_error allow serversWithInvalidCerts
sslproxy_cert_error deny all

This is a Measurement Factory project

------------------------------------------
[...truncated 11859 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/http'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/http'>
Making uninstall in ip
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ip'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ip'>
Making uninstall in icmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/icmp'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/icmp'>
Making uninstall in ident
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ident'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ident'>
Making uninstall in log
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 /bin/rm -f -f /tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /bin/rm -f -f /tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /bin/rm -f -f /tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
 ( cd '/tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
/bin/rm -f -f /tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/08 09:51:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/08 09:51:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/08 09:51:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 09:51:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-6415/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct  8 10:01:09 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 12:01:09 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #100
Message-ID: <1851828281.62.1412762469526.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/100/>

------------------------------------------
[...truncated 11181 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/08 10:00:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/08 10:00:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/08 10:00:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/08 10:00:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From squid3 at treenet.co.nz  Wed Oct  8 10:37:51 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 08 Oct 2014 23:37:51 +1300
Subject: [squid-dev] ALERT: Scheduled Maintenance on bzr.squid-cache.org
Message-ID: <543513FF.6010700@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

This is a heads up for anyone currently wanting to use Squid BZR
service in the next few hours.

The sysadmin team is moving the BZR service tonight to a new home. SSH
access for commits may become unavailable until DNS updates propigate.

HTTP access should remain possible for the duration (we think).

Also, commit access to persons with legacy accounts is being pruned.
Only those known to be actively comitting code recently will be added
to the new home.

Apologies in advance if anything goes wrong.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUNRP/AAoJELJo5wb/XPRjEsMIAMXzAJp+g4+F3gvO6HI/PRzR
oKRLFf9QcCl02th9NTV72YwG5ZwdXGdLdi9GpY4b8TUQtpCmLk5w6IootkouA7V3
W7laQEq/T+kY8wNJH0pvoTi8b6AGkF5XkTAkOs/vmpkiwhkKbBjGDPQ0zOBolR3i
d+ag5x8oi1F2d5Lt8Ai4Du1BRe4XkETqNERqweMSoQJOr5g2gH122D7g2vGJA9vw
Wk57mF7diRlrTHsXM4/QUoSTfTCNcy5YGWFCrRm91rLh+d8BscrP2nkKP2y8GqA7
RXwiZUsWg3rbgQ+aSeRM7XXiLuSq3khd7/N070DxqvFS9rhwNbCyrCoMFn+E6bE=
=AhT3
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Wed Oct  8 12:34:05 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 09 Oct 2014 01:34:05 +1300
Subject: [squid-dev] ALERT: Scheduled Maintenance on bzr.squid-cache.org
In-Reply-To: <543513FF.6010700@treenet.co.nz>
References: <543513FF.6010700@treenet.co.nz>
Message-ID: <54352F3D.8090903@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 8/10/2014 11:37 p.m., Amos Jeffries wrote:
> This is a heads up for anyone currently wanting to use Squid BZR 
> service in the next few hours.
> 
> The sysadmin team is moving the BZR service tonight to a new home.
> SSH access for commits may become unavailable until DNS updates
> propigate.
> 
> HTTP access should remain possible for the duration (we think).
> 
> Also, commit access to persons with legacy accounts is being
> pruned. Only those known to be actively comitting code recently
> will be added to the new home.
> 
> Apologies in advance if anything goes wrong.
> 
> Amos


And its seems to be done.

Those of you committing may get errors about the host key change.
The new ECDSA key fingerprint is
d9:df:3d:ce:dd:fa:d3:99:fe:47:42:2a:b9:88:11:7d

Cheers
Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUNS89AAoJELJo5wb/XPRjVQQIAItiz25z6204u1ue2hGQZqED
jh6hQuq4NS3lplKcsLo5WXzTn1/7C1lfzGn9YRVJfBugFetCkYVLHcrekypYfGTe
djnwy8tIELh4NOCJpnxlKdP6MLPxWh1DvrH9y8RPr2+zX9nwz1VkBViyYco5PH3Q
JJC5s/Hc9BsUpaXFyAvQZU+/vPn6dUIix31MWa9E3oY7Pxf9VlwXsYxAyjWspaBw
m482vDtuRAgjL452f23rMScAuEeSTP1DHX2YOBqhSfznHbgLyAHmY611J16+MYPR
t5b3hHFCfI1LWqfctSXUCBq48Qw4doeyYKXWtTwZTFo/D6DZwlxEH77LJYzvU2s=
=ha9+
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Wed Oct  8 16:14:18 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 18:14:18 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #101
In-Reply-To: <1851828281.62.1412762469526.JavaMail.hudson@eu.squid-cache.org>
References: <1851828281.62.1412762469526.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <79625781.63.1412784858259.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/101/changes>

Changes:

[Amos Jeffries] Bug 4088: memory leak in external_acl_type helper with cache=0 or ttl=0

ExternalACLEntry / external_acl_entry objects have been abusing the
CBDATA API for reference counting and since 3.4 this has resulted in
hidden memory leaks as object accounting shows all locks released but
the memory is not freed by any 'owner'.

* convert to using RefCount<> API.

* move ExternalACLEntry pre-define to acl/forward.h

* add ExternalACLEntryPointer in acl/forward.h

* convert LookupDone() method to using explicit typed pointer

* convert from CBDATA_CLASS to MEMPROXY_CLASS memory management.

* convert almost all raw ExternalACLEntry* to Pointer
- remaining usage is in the cache hash pointers. Use an explicit 'cachd'
lock/unlock until this hash is updated to std:: structure types.

[squidadm at squid-cache.org] SourceFormat Enforcement

------------------------------------------
[...truncated 8484 lines...]
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, void*)’ does not match any in class ‘ExternalACLLookup’
 void ExternalACLLookup::LookupDone(void *, void *) STUB
      ^
In file included from ../../src/tests/stub_external_acl.cc:14:0:
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
     static void LookupDone(void *data, const ExternalACLEntryPointer &result);
                 ^
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, void*)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct  8 18:09:07 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 20:09:07 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #102
In-Reply-To: <79625781.63.1412784858259.JavaMail.hudson@eu.squid-cache.org>
References: <79625781.63.1412784858259.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1611181131.66.1412791748025.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/102/changes>

Changes:

[Amos Jeffries] Fix missing stub update in rev.13635

------------------------------------------
[...truncated 8667 lines...]
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
mv -f $depbase.Tpo $depbase.Po
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
 void ExternalACLLookup::LookupDone(void *, const ExternalACLEntry &) STUB
      ^
In file included from ../../src/tests/stub_external_acl.cc:14:0:
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
     static void LookupDone(void *data, const ExternalACLEntryPointer &result);
                 ^
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From huaraz at moeller.plus.com  Wed Oct  8 23:16:47 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Thu, 9 Oct 2014 00:16:47 +0100
Subject: [squid-dev] [PATCH] Kerberos improvements
In-Reply-To: <m11odm$ssp$1@ger.gmane.org>
References: <m11odm$ssp$1@ger.gmane.org>
Message-ID: <m14gl4$er3$1@ger.gmane.org>

Somehow the message didn't get completely through. Here it is again

I have some further improvements for the Kerberos helpers. This includes

1) Option -n for kerberos_ldap_group.   This disables the automated Kerberos
authentication(SASL/GSSAPI) to AD and requires username/password
(SASL/SIMPLE) instead.
2) Improvements in caching Kerberos credentials for setup with low SQUID
cache TTL.
3) Output group= if negotiate_kerberos_auth can retrieve AD groups from
Kerberos ticket for further processing by squid to external helpers ( ones
the helper code supports transfer of the kv pairs as documented here
http://wiki.squid-cache.org/Features/AddonHelpers )


Please review.  As always I appreciate feedback.

Thank you
Markus


"Markus Moeller"  wrote in message news:m11odm$ssp$1 at ger.gmane.org...

Spam detection software, running on the system "master.squid-cache.org",
has identified this incoming email as possible spam.  The original
message has been attached to this so you can view it or label
similar future email.  If you have any questions, see
@@CONTACT_ADDRESS@@ for details.

Content preview:  Hi , I have some further improvments for the Kerberos 
helpers.
   This includes 1) Option -n for kerberos_ldap_group. This disables the 
automated
   Kerberos authentication(SASL/GSSAPI) to AD and requires username/password
   (SASL/SIMPLE) instead. 2) Improvements in caching Kerberos credentials 
for
   setup with low SQUID cache TTL. 3) Output group= if 
negotiate_kerberos_auth
   can retrieve AD groups from Kerberos ticket for further processing by 
squid
   to external helpers ( ones the helper code supports transfer of the kv 
pairs
   as documented here http://wiki.squid-cache.org/Features/AddonHelpers ) 
[...]


Content analysis details:   (5.7 points, 5.0 required)

pts rule name              description
---- ---------------------- --------------------------------------------------
0.0 URIBL_BLOCKED          ADMINISTRATOR NOTICE: The query to URIBL was 
blocked.
                            See
                            http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                             for more information.
                            [URIs: squid-cache.org]
0.9 SPF_FAIL               SPF: sender does not match SPF record (fail)
[SPF failed: Please see 
http://www.openspf.org/Why?s=mfrom;id=gcwsd-squid-dev%40m.gmane.org;ip=81.174.172.105;r=master.squid-cache.org]
0.0 T_HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level mail
                            domains are different
0.0 UNPARSEABLE_RELAY      Informational: message has unparseable relay 
lines
1.3 RDNS_NONE              Delivered to internal network by a host with no 
rDNS
3.5 TO_NO_BRKTS_MSFT       To: misformatted and supposed Microsoft tool

The original message was not completely plain text, and may be unsafe to
open with some email clients; in particular, it may contain a virus,
or confirm that your address can receive spam.  If you wish to view
it, it may be safer to save it to a file and open it with an editor.







_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev 



From squid3 at treenet.co.nz  Thu Oct  9 02:59:28 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 09 Oct 2014 15:59:28 +1300
Subject: [squid-dev] Squid 3.5 release timetable
In-Reply-To: <54293ECE.6040205@treenet.co.nz>
References: <53D1DF13.2010406@treenet.co.nz>
 <53D694F4.1090008@measurement-factory.com> <53D736D7.1070500@treenet.co.nz>
 <53D7D188.7040506@measurement-factory.com>
 <53DF01E7.4060209@measurement-factory.com> <53F6DB31.4060507@treenet.co.nz>
 <54293ECE.6040205@treenet.co.nz>
Message-ID: <5435FA10.4070308@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 30/09/2014 12:13 a.m., Amos Jeffries wrote:
> Update:
> 
> The 3.5 feature set is now completed. Branching of 3.5 should have 
> occured mid-September, but has been held up by the server troubles.
> It will now happen at the next opportunity which does not affect
> the recovery efforts.
> 

Now that the related sysadmin work is done I will be branching today.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUNfoPAAoJELJo5wb/XPRjDyMIALOk2a/ULWm0r7nLP/tx44rv
ySIZBJZ3/qqT9HEGbT8115MGMhNdb0gY4p+gxvtrWbBkOxJBHzAugpM2/NYd4i24
uiBkBKYLZMP5vuUkX5GasfasJOtIN5RsXkqYSFSjW1wbeuP+9x01ZZuawcbhWs9o
PgmNj5eIXf6tD83zrPXhUaZhQfwSrzy8Giw3ka8RrgqOpz6gEjHyZSv6TnkISC8k
RlVsU2NP9jPO92uNNIigxQr7tIAqaY6ioCFWwYGnI9TmrKZKvMpJdDRbuyC7kONJ
0fruDMdWMejFPLjXSVp6sTR1NJMNx/u6oN4sUDnJCBrQeQGekSDGMORgwIhGtZE=
=fMot
-----END PGP SIGNATURE-----

From gkinkie at gmail.com  Thu Oct  9 06:50:54 2014
From: gkinkie at gmail.com (Kinkie)
Date: Thu, 9 Oct 2014 08:50:54 +0200
Subject: [squid-dev] Squid 3.5 release timetable
In-Reply-To: <5435FA10.4070308@treenet.co.nz>
References: <53D1DF13.2010406@treenet.co.nz>
 <53D694F4.1090008@measurement-factory.com>
 <53D736D7.1070500@treenet.co.nz>
 <53D7D188.7040506@measurement-factory.com>
 <53DF01E7.4060209@measurement-factory.com>
 <53F6DB31.4060507@treenet.co.nz> <54293ECE.6040205@treenet.co.nz>
 <5435FA10.4070308@treenet.co.nz>
Message-ID: <CA+Y8hcNSWOUwe_JcmU++8jfTEVhNLv_Y4NH5SDooNMq1DOZO5w@mail.gmail.com>

OK thanks
On Oct 9, 2014 5:00 AM, "Amos Jeffries" <squid3 at treenet.co.nz> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 30/09/2014 12:13 a.m., Amos Jeffries wrote:
> > Update:
> >
> > The 3.5 feature set is now completed. Branching of 3.5 should have
> > occured mid-September, but has been held up by the server troubles.
> > It will now happen at the next opportunity which does not affect
> > the recovery efforts.
> >
>
> Now that the related sysadmin work is done I will be branching today.
>
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUNfoPAAoJELJo5wb/XPRjDyMIALOk2a/ULWm0r7nLP/tx44rv
> ySIZBJZ3/qqT9HEGbT8115MGMhNdb0gY4p+gxvtrWbBkOxJBHzAugpM2/NYd4i24
> uiBkBKYLZMP5vuUkX5GasfasJOtIN5RsXkqYSFSjW1wbeuP+9x01ZZuawcbhWs9o
> PgmNj5eIXf6tD83zrPXhUaZhQfwSrzy8Giw3ka8RrgqOpz6gEjHyZSv6TnkISC8k
> RlVsU2NP9jPO92uNNIigxQr7tIAqaY6ioCFWwYGnI9TmrKZKvMpJdDRbuyC7kONJ
> 0fruDMdWMejFPLjXSVp6sTR1NJMNx/u6oN4sUDnJCBrQeQGekSDGMORgwIhGtZE=
> =fMot
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141009/d975e361/attachment.html>

From noc at squid-cache.org  Thu Oct  9 07:09:05 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 09:09:05 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #103
In-Reply-To: <1611181131.66.1412791748025.JavaMail.hudson@eu.squid-cache.org>
References: <1611181131.66.1412791748025.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1965398333.67.1412838545566.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/103/changes>

Changes:

[squidadm at squid-cache.org] Branch 3.5.0.0

------------------------------------------
[...truncated 8673 lines...]
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -std=c++11 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
mv -f $depbase.Tpo $depbase.Po
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
 void ExternalACLLookup::LookupDone(void *, const ExternalACLEntry &) STUB
      ^
In file included from ../../src/tests/stub_external_acl.cc:14:0:
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
     static void LookupDone(void *data, const ExternalACLEntryPointer &result);
                 ^
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
../../src/tests/stub_external_acl.cc:31:6: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34:17: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Thu Oct  9 09:43:45 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 11:43:45 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#104
In-Reply-To: <1965398333.67.1412838545566.JavaMail.hudson@eu.squid-cache.org>
References: <1965398333.67.1412838545566.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <849645339.69.1412847825765.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/104/changes>


From noc at squid-cache.org  Thu Oct  9 10:18:30 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 12:18:30 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-6
	#501
In-Reply-To: <285678954.68.1412838979198.JavaMail.hudson@eu.squid-cache.org>
References: <285678954.68.1412838979198.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <369925765.70.1412849910019.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/501/changes>


From noc at squid-cache.org  Thu Oct  9 10:19:04 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 12:19:04 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#182
In-Reply-To: <194685502.60.1412761461199.JavaMail.hudson@eu.squid-cache.org>
References: <194685502.60.1412761461199.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1380655357.71.1412849945081.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/182/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 501
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Thu Oct  9 10:55:30 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 12:55:30 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-ubuntu-saucy #330
In-Reply-To: <1066018248.61.1412761953848.JavaMail.hudson@eu.squid-cache.org>
References: <1066018248.61.1412761953848.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1498733411.72.1412852130621.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/330/changes>


From squid3 at treenet.co.nz  Fri Oct 10 02:26:39 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 10 Oct 2014 15:26:39 +1300
Subject: [squid-dev] [RFC] build chain updates
Message-ID: <543743DF.8040903@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Now that we have a basic git repository available (Thanks Henrik!) I
am looking at Visual Studio builds again.


We seems to have a few options.

1a) The SquidNT style of manually built and maintained VS
.sln/.vcxproj files comitted to the squid-2 tree.

This gives us complete control of what gets built by VS, dependencies,
and we can even do convenience libraries as separate sub-projects.

However, it gives us two completely separate toolchains to maintain. I
am working this way already as I test each components build. But given
the amount of work to get it in place any faster alternatives would be
welcome.

1b) Using automake to generate the .xvcproj files.

I found one open source project doing things this way a year or so
back. It sounds wonderful, but IIRC still required some environment
able to run ./configure with the desired options first.

Am looking at this to automate part of 1a. Even if it can only do
.xvcproj files thats vast reduction in work.


3) Using CMake to build alternative toolchain scripts.

The most widely documented method of automating VS builds of open
source code. However, taking a close look at the documentation CMake
does not support out-of-source builds in an easily maintained way.
Given our past history with auto-generated source files this could be
a recipe for nasty mistakes and build farm problems.


4) Creating a VS project that runs autoconf/automake.

Just mentioning for completeness. iCelero had a system based on this
running. It produced all the binaries and outputs. However, they also
spoke of problems generating debug binaries and Win32 installers based
on that projects output. There was active work at the time trying to
get away from this. It also seems to require some environment able to
run ./configure with the desired options first, though this could be
an artifact of their using MinGW.


Does anyone have more alternatives for me to look at? or preferences?
additional notes on the above? anything?

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUN0PeAAoJELJo5wb/XPRjt04IAMC04CpsmO53ICaR+O60haRW
R78jqaA/eI+trj5+xNPIRKjdJWN71KGekljMPpR5vpBthdrzqM9tqRln5SMWrpO3
6WH5bS7r5FmKfJztPFm/QCDnTIiVyAe4OLy4vLNGl/txrI6LoZ+Is+TZP0zpdGgF
LsH/66LFkQb5UkEQJOVbYnCabQetOSE4IokhA0kB6M3i25iBqQO+pP9oYsdJPb5o
UvAVaTsv8EyDy/b250pqa5zba9Mz40bmIWyyo11GdonhtDCU5G+ILu37Zg/f34eb
tXTmpzrrOl7FdRhmFRVK8zl4Bndvpu4OLc3uxJaAfJSY7zryyISlihevYjgiJPY=
=KKAd
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Fri Oct 10 16:37:35 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 18:37:35 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#183
In-Reply-To: <1380655357.71.1412849945081.JavaMail.hudson@eu.squid-cache.org>
References: <1380655357.71.1412849945081.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <945472695.74.1412959055284.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/183/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 502
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Fri Oct 10 17:07:19 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 19:07:19 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #47
Message-ID: <591629174.75.1412960839154.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/47/changes>

Changes:

[Amos Jeffries] CBDATA: log memory leak situations when --enable-debug-cbdata

CBDATA objects are supposed to be explicitly locked and unlocked by all
users. The nominal 'owner' of the data is also supposed to mark it as
invalid when unlocking its reference.

If a CBDATA object reaches 0 locks and is still valid, it therefore
follows that either the locking or invalidate has not been properly
implemented.

Now that we are migrating to CbcPointer usage instead of explicit
lock/unlock macro calls we have started encountering these situations.
Any object reporting a 'leak' must be investigated;
a) perhapse RefCount is better?
b) using CbcPointer consistently and invalidating correctly.

[Amos Jeffries] Gopher: update to CBDATA_CLASS API

* Convert from typedef struct to full class

* Convert from old CBDATA API to CBDATA_CLASS2

* Add AsyncJob-alike methods to simplify the cleanup process and future
conversion.

* Remove unused 'req' member

* Remove remove outdated doxygen documentation

------------------------------------------
[...truncated 11241 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/10 17:06:39| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 17:06:39| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 17:06:39| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:06:39| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct 10 17:44:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 19:44:49 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#184
In-Reply-To: <945472695.74.1412959055284.JavaMail.hudson@eu.squid-cache.org>
References: <945472695.74.1412959055284.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <559224327.76.1412963089663.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/184/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 503
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Fri Oct 10 17:59:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 19:59:37 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #48
In-Reply-To: <591629174.75.1412960839154.JavaMail.hudson@eu.squid-cache.org>
References: <591629174.75.1412960839154.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <543263927.77.1412963977610.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/48/>

------------------------------------------
[...truncated 12630 lines...]
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f /tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f /tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f /tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f /tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/10 17:58:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 17:58:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 17:58:56| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 17:58:56| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-12459/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct 10 19:05:22 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 21:05:22 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#185
In-Reply-To: <559224327.76.1412963089663.JavaMail.hudson@eu.squid-cache.org>
References: <559224327.76.1412963089663.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1224901815.78.1412967922813.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/185/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 504
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Fri Oct 10 19:33:41 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 21:33:41 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #49
In-Reply-To: <543263927.77.1412963977610.JavaMail.hudson@eu.squid-cache.org>
References: <543263927.77.1412963977610.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1018622410.79.1412969621161.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/49/changes>


From noc at squid-cache.org  Fri Oct 10 19:53:11 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 21:53:11 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #50
Message-ID: <6416672.80.1412970791981.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/50/>

------------------------------------------
[...truncated 11238 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/10 19:52:29| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 19:52:29| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/10 19:52:29| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/10 19:52:29| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct 10 21:02:16 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Oct 2014 23:02:16 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #51
In-Reply-To: <6416672.80.1412970791981.JavaMail.hudson@eu.squid-cache.org>
References: <6416672.80.1412970791981.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <214649307.81.1412974936594.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/51/>


From noc at squid-cache.org  Sat Oct 11 11:37:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 11 Oct 2014 13:37:49 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#186
In-Reply-To: <1224901815.78.1412967922813.JavaMail.hudson@eu.squid-cache.org>
References: <1224901815.78.1412967922813.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <746315437.82.1413027469439.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/186/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 505
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Sat Oct 11 12:25:04 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 11 Oct 2014 14:25:04 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #52
Message-ID: <1497805996.83.1413030304612.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/52/changes>

Changes:

[Amos Jeffries] Bug 4093: source-maintenance.sh errors and warnings due to wrong tools/options

------------------------------------------
[...truncated 37360 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/11 12:24:34| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/11 12:24:34| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/11 12:24:34| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 12:24:34| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Sat Oct 11 13:19:26 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 11 Oct 2014 15:19:26 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #53
In-Reply-To: <1497805996.83.1413030304612.JavaMail.hudson@eu.squid-cache.org>
References: <1497805996.83.1413030304612.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <590803740.84.1413033566964.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/53/>


From squid3 at treenet.co.nz  Sat Oct 11 20:17:47 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sun, 12 Oct 2014 09:17:47 +1300
Subject: [squid-dev] [PATCH] HTTP Parser upgrade
In-Reply-To: <5391F276.5000802@treenet.co.nz>
References: <52C406EE.50608@treenet.co.nz>
 <52C483C8.5040307@measurement-factory.com> <52C56D73.4080700@treenet.co.nz>
 <52C5B932.9070006@measurement-factory.com> <52C6ACE1.7060806@treenet.co.nz>
 <52C6E7A2.8080500@measurement-factory.com> <52CA2145.8010208@treenet.co.nz>
 <5302B16C.2070808@measurement-factory.com> <53036B73.5080804@treenet.co.nz>
 <5303A610.6080900@measurement-factory.com> <5379A4BE.6010504@treenet.co.nz>
 <537A3126.4080607@measurement-factory.com> <537B39C6.2040402@treenet.co.nz>
 <537B7D1F.7040503@measurement-factory.com> <538C9BFC.5070305@treenet.co.nz>
 <538DD934.3030602@measurement-factory.com> <5391F276.5000802@treenet.co.nz>
Message-ID: <5439906B.2040104@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Minor chages since the last patch.

 * updates to cope with trunk changes.

 * some RFC 7230 compliance polish

Amos

On 7/06/2014 4:55 a.m., Amos Jeffries wrote:
> Latest version of the Parser-NG project branch. Since last message
> I have dropped the copy-constructor related pieces.
> 
> Polygraph testing on the branch showed almost no performance
> impact (+0.04ms/req, -0.03% request rate). Nevertheless a half
> dozen points of added memory reallocate or data copy are marked for
> future removal as the Parser-NG and SBuf improvements continue.
> 
> Coadvisor testing of these changes shows a gain of 3 compliance
> cases for HTTPbis tests and no unexpected regressions against RFC
> 2616 (one HTTPbis gain is claimed as a RFC2616 regression by
> coadvisor still).
> 
> 
> To recap, this project so far:
> 
> 
> Rename the HttpParser class as Http1::RequestParser and move it
> into the Http::One:: namespace. A base Http1::Parser class is also
> added from which Http1::ReplyParser will also be created in future
> work.
> 
> The parser API - is updated to process both the request-line and
> HTTP mime headers, returning a incomplete parse result until the
> entire header portion of the message has been received. - now
> contains accessor methods for retrieving the method, URI, protocol,
> mime headers block as separate SBuf and some metrics about those. -
> the old request_offsets structure and similar offset details
> internal to the parsing are no longer exposed.
> 
> The parser is now incremental. A parser object must be created (or 
> clean() method called) for each new message. Code using the parser 
> should pass their I/O buffer to the parse(SBuf&) method and
> retrieve an updated copy of it afterwards via the remaining()
> method.
> 
> Much of the code from client_side.cc parseHttpRequest() and also
> the header-field code from mime_headers.cc has been moved into the
> parser classes. The client-side code now simply runs the main
> parse() method then uses its accessors to retrieve and process the
> parse results if it returns success.
> 
> The getHeaderField() method imported from mime_headers.cc has been 
> converted to simpler logics based on Tokenizer class and resolving
> a number of bugs in its matching output.
> 
> A unit test for incremental parsing has been added to
> testHttp1Parser.
> 
> The HttpRequestMethod class is moved into the Http namespace and 
> library to reduce dependencies on the parser class outside the
> library.
> 
> The HttpHeader API has been tweaked slighty to accept start+length
> pair instead of start/end pointers.
> 
> Amos
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUOZBqAAoJELJo5wb/XPRjp9UIAJ2X/OvVWzIN16v+0I/fwV8w
oQtGeBmeDYkg0gTYqOitqeuAySNT7Wgtqjk54wYu8jW92ZZvLPX6JgeEwlsn2iUf
Hv1xp2Nsf8jxbar2bMT3pDgQ0704ys9jvnomPyNiMI4gvlvRRDIwpa8uPTGPA/M5
CHkJkEBy3uE94QTI04aPFL5/jQh9HmZDn4nR1f72jL2IbVg3Dm2x8sg9z0rfLu4l
T8wScUhU+BuhVsMZdhQsjcELtmRym0/EGwq7Xi9gAdNetCHD3xTS3Z7xEl9GhzaW
+xKdO1vbDz1GSLW8X1HBDwIRSMkgxEepTfeOdN/ZEKYUKMRfmNYpvdGcYdOXY80=
=CWj7
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Sat Oct 11 21:46:44 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 11 Oct 2014 23:46:44 +0200 (CEST)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_anybranch-wholef?=
 =?utf-8?q?arm-matrix_=C2=BB_clang=2Crs-ubuntu-saucy_=2385?=
Message-ID: <830974395.85.1413064004630.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/85/>

------------------------------------------
[...truncated 62950 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/icmp'>
Making uninstall in ident
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/ident'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/ident'>
Making uninstall in log
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /bin/rm -f -f <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/mime.conf>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 /bin/rm -f -f <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/squid.conf>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /bin/rm -f -f <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/cachemgr.conf>
/bin/rm -f -f <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-05-nodeps-esi.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/11 21:46:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/11 21:46:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/11 21:46:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/11 21:46:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.5.0.0-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Mon Oct 13 15:47:58 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 13 Oct 2014 17:47:58 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#187
In-Reply-To: <746315437.82.1413027469439.JavaMail.hudson@eu.squid-cache.org>
References: <746315437.82.1413027469439.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2101854066.87.1413215278146.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/187/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 506
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Mon Oct 13 16:26:50 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 13 Oct 2014 18:26:50 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #54
Message-ID: <1903006974.88.1413217610389.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/54/changes>

Changes:

[Amos Jeffries] Windows: link libgcc and libstdc statically

MinGW builds require static linking to libgcc and libstdc++ in order to
run natively on windows without additional DLL installation.

------------------------------------------
[...truncated 37360 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/13 16:26:09| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/13 16:26:09| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/13 16:26:09| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/13 16:26:09| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/13 16:26:10| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/13 16:26:10| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/13 16:26:10| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct  7 18:27:54 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 7 Oct 2014 20:27:54 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #496
In-Reply-To: <44395457.54.1412695717792.JavaMail.hudson@eu.squid-cache.org>
References: <44395457.54.1412695717792.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <212571801.57.1412706474415.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/496/changes>

Changes:

[Christos Tsantilas] Validate server certificates without bumping: fix compile error

Fix error: return-statement with a value, in function returning 'void'

------------------------------------------
[...truncated 33529 lines...]
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ja.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ko.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/oc.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/nl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/lv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ms.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CACHE_MGR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt-br.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_SOCKET_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_UNSUP_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pl.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ro.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/pt.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/ru.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sl.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_RESP: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sr-latn.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/sv.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/th.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/tr.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_ACL_TIME_QUOTA_EXCEEDED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_CONFIGURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_AGENT_WPAD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DIR_LISTING: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_ESI: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_FORBIDDEN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_NOT_FOUND: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_UNAVAILABLE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_GATEWAY_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_TOO_BIG: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uk.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/vi.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/uz.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hans.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ACCESS_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CANNOT_FORWARD: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONFLICT_HOST: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_DNS_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FORWARDING_DENIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_CREATED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_FTP_PUT_MODIFIED: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_ICAP_FAILURE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_REQ: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_INVALID_URL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_NO_RELAY: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_ERROR: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_READ_TIMEOUT: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SECURE_CONNECT_FAIL: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_SHUTTING_DOWN: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_URN_RESOLVE: coercing to Unicode: need string or buffer, NoneType found
po2html: warning: Error processing: input ../.././test-suite/../errors/zh-hant.po, output None, template ../.././test-suite/../errors/templates/ERR_WRITE_ERROR: coercing to Unicode: need string or buffer, NoneType found
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
make[5]: *** [tests/testHttpRequest] Error 1
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:395: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl/../../../src/ssl/PeerConnector.cc>:365: undefined reference to `switchToTunnel(HttpRequest*, RefCount<Comm::Connection>&, RefCount<Comm::Connection>&)'
make[5]: *** [tests/testURL] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct  8 16:16:52 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 18:16:52 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #498
Message-ID: <524540451.64.1412785013622.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/498/changes>

Changes:

[Amos Jeffries] Bug 4088: memory leak in external_acl_type helper with cache=0 or ttl=0

ExternalACLEntry / external_acl_entry objects have been abusing the
CBDATA API for reference counting and since 3.4 this has resulted in
hidden memory leaks as object accounting shows all locks released but
the memory is not freed by any 'owner'.

* convert to using RefCount<> API.

* move ExternalACLEntry pre-define to acl/forward.h

* add ExternalACLEntryPointer in acl/forward.h

* convert LookupDone() method to using explicit typed pointer

* convert from CBDATA_CLASS to MEMPROXY_CLASS memory management.

* convert almost all raw ExternalACLEntry* to Pointer
- remaining usage is in the cache hash pointers. Use an explicit 'cachd'
lock/unlock until this hash is updated to std:: structure types.

[squidadm at squid-cache.org] SourceFormat Enforcement

------------------------------------------
[...truncated 7698 lines...]
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side.o ../../src/tests/stub_client_side.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_debug.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_debug.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_debug.o ../../src/tests/stub_debug.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_DelayId.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_DelayId.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_DelayId.o ../../src/tests/stub_DelayId.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_DiskIOModule.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_DiskIOModule.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_DiskIOModule.o ../../src/tests/stub_DiskIOModule.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_errorpage.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_errorpage.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_errorpage.o ../../src/tests/stub_errorpage.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_fd.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_fd.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_fd.o ../../src/tests/stub_fd.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpRequest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpRequest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpRequest.o ../../src/tests/stub_HttpRequest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpReply.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpReply.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpReply.o ../../src/tests/stub_HttpReply.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_TypedMsgHdr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_TypedMsgHdr.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_TypedMsgHdr.o ../../src/tests/stub_ipc_TypedMsgHdr.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth.o ../../src/tests/stub_libauth.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libcomm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libcomm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libcomm.o ../../src/tests/stub_libcomm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libformat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libformat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libformat.o ../../src/tests/stub_libformat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libsslsquid.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libsslsquid.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libsslsquid.o ../../src/tests/stub_libsslsquid.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemObject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemObject.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemObject.o ../../src/tests/stub_MemObject.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemStore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemStore.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemStore.o ../../src/tests/stub_MemStore.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mime.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testBoilerplate.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testBoilerplate.o -MD -MP -MF $depbase.Tpo -c -o tests/testBoilerplate.o ../../src/tests/testBoilerplate.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cbdata.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cbdata.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cbdata.o ../../src/tests/stub_cbdata.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemBuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemBuf.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemBuf.o ../../src/tests/stub_MemBuf.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testCacheManager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testCacheManager.o -MD -MP -MF $depbase.Tpo -c -o tests/testCacheManager.o ../../src/tests/testCacheManager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_main_cc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_main_cc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_main_cc.o ../../src/tests/stub_main_cc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_Forwarder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_Forwarder.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_Forwarder.o ../../src/tests/stub_ipc_Forwarder.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_EventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_EventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_EventLoop.o ../../src/tests/stub_EventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_CacheDigest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_CacheDigest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_CacheDigest.o ../../src/tests/stub_CacheDigest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_carp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_carp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_carp.o ../../src/tests/stub_carp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_redirect.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_redirect.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_redirect.o ../../src/tests/stub_redirect.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth_acls.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth_acls.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth_acls.o ../../src/tests/stub_libauth_acls.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
	mv -f $depbase.Tpo $depbase.Po
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, void*)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, void*)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct  8 17:15:16 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Oct 2014 19:15:16 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #499
In-Reply-To: <524540451.64.1412785013622.JavaMail.hudson@eu.squid-cache.org>
References: <524540451.64.1412785013622.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <944558250.65.1412788517097.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/499/changes>

Changes:

[Amos Jeffries] Fix missing stub update in rev.13635

------------------------------------------
[...truncated 7698 lines...]
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_errorpage.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_errorpage.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_errorpage.o ../../src/tests/stub_errorpage.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_fd.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_fd.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_fd.o ../../src/tests/stub_fd.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpRequest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpRequest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpRequest.o ../../src/tests/stub_HttpRequest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpReply.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpReply.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpReply.o ../../src/tests/stub_HttpReply.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_TypedMsgHdr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_TypedMsgHdr.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_TypedMsgHdr.o ../../src/tests/stub_ipc_TypedMsgHdr.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth.o ../../src/tests/stub_libauth.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libcomm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libcomm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libcomm.o ../../src/tests/stub_libcomm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libformat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libformat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libformat.o ../../src/tests/stub_libformat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libsslsquid.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libsslsquid.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libsslsquid.o ../../src/tests/stub_libsslsquid.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemObject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemObject.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemObject.o ../../src/tests/stub_MemObject.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemStore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemStore.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemStore.o ../../src/tests/stub_MemStore.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mime.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testBoilerplate.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testBoilerplate.o -MD -MP -MF $depbase.Tpo -c -o tests/testBoilerplate.o ../../src/tests/testBoilerplate.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cbdata.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cbdata.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cbdata.o ../../src/tests/stub_cbdata.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemBuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemBuf.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemBuf.o ../../src/tests/stub_MemBuf.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testCacheManager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testCacheManager.o -MD -MP -MF $depbase.Tpo -c -o tests/testCacheManager.o ../../src/tests/testCacheManager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_main_cc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_main_cc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_main_cc.o ../../src/tests/stub_main_cc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_Forwarder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_Forwarder.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_Forwarder.o ../../src/tests/stub_ipc_Forwarder.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_EventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_EventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_EventLoop.o ../../src/tests/stub_EventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_CacheDigest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_CacheDigest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_CacheDigest.o ../../src/tests/stub_CacheDigest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_carp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_carp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_carp.o ../../src/tests/stub_carp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_redirect.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_redirect.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_redirect.o ../../src/tests/stub_redirect.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth_acls.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth_acls.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth_acls.o ../../src/tests/stub_libauth_acls.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
	mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o libsquid.la clients/libclients.la servers/libservers.la helper/libhelper.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la ip/libip.la fs/libfs.la  ipc/libipc.la base/libbase.la mgr/libmgr.la anyp/libanyp.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la http/libsquid-http.la repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o libsquid.la http/libsquid-http.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la base/libbase.la ip/libip.la fs/libfs.la mgr/libmgr.la ipc/libipc.la anyp/libanyp.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  CommCalls.o DnsLookupDetails.o ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  ./.libs/libsquid.a http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a base/.libs/libbase.a ip/.libs/libip.a fs/.libs/libfs.a mgr/.libs/libmgr.a ipc/.libs/libipc.a anyp/.libs/libanyp.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  ./.libs/libsquid.a clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a base/.libs/libbase.a mgr/.libs/libmgr.a anyp/.libs/libanyp.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a http/.libs/libsquid-http.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
../../src/tests/testHttpParser.cc: In member function ‘void testHttpParser::testParseRequestLineProtocols()’:
../../src/tests/testHttpParser.cc:33: note: variable tracking size limit exceeded with -fvar-tracking-assignments, retrying without
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Thu Oct  9 07:16:18 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 9 Oct 2014 09:16:18 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #500
In-Reply-To: <944558250.65.1412788517097.JavaMail.hudson@eu.squid-cache.org>
References: <944558250.65.1412788517097.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <285678954.68.1412838979198.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/500/changes>

Changes:

[squidadm at squid-cache.org] Branch 3.5.0.0

------------------------------------------
[...truncated 7700 lines...]
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_errorpage.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_errorpage.o ../../src/tests/stub_errorpage.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_fd.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_fd.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_fd.o ../../src/tests/stub_fd.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpRequest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpRequest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpRequest.o ../../src/tests/stub_HttpRequest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HttpReply.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HttpReply.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HttpReply.o ../../src/tests/stub_HttpReply.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_TypedMsgHdr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_TypedMsgHdr.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_TypedMsgHdr.o ../../src/tests/stub_ipc_TypedMsgHdr.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth.o ../../src/tests/stub_libauth.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libcomm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libcomm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libcomm.o ../../src/tests/stub_libcomm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libformat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libformat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libformat.o ../../src/tests/stub_libformat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libsslsquid.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libsslsquid.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libsslsquid.o ../../src/tests/stub_libsslsquid.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemObject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemObject.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemObject.o ../../src/tests/stub_MemObject.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemStore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemStore.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemStore.o ../../src/tests/stub_MemStore.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mime.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mime.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mime.o ../../src/tests/stub_mime.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_pconn.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_pconn.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_pconn.o ../../src/tests/stub_pconn.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_Port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_Port.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_Port.o ../../src/tests/stub_Port.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store.o ../../src/tests/stub_store.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_client.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_client.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_client.o ../../src/tests/stub_store_client.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_rebuild.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_rebuild.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_rebuild.o ../../src/tests/stub_store_rebuild.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_stats.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_stats.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_stats.o ../../src/tests/stub_store_stats.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_swapout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_swapout.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_swapout.o ../../src/tests/stub_store_swapout.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tools.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tools.o ../../src/tests/stub_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cache_manager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cache_manager.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cache_manager.o ../../src/tests/stub_cache_manager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_UdsOp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_UdsOp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_UdsOp.o ../../src/tests/stub_UdsOp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testACLMaxUserIP.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testACLMaxUserIP.o -MD -MP -MF $depbase.Tpo -c -o tests/testACLMaxUserIP.o ../../src/tests/testACLMaxUserIP.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testMain.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testMain.o -MD -MP -MF $depbase.Tpo -c -o tests/testMain.o ../../src/tests/testMain.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_time.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_time.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_time.o ../../src/tests/stub_time.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_mem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_mem.o ../../src/tests/stub_mem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo test_tools.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT test_tools.o -MD -MP -MF $depbase.Tpo -c -o test_tools.o test_tools.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testBoilerplate.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testBoilerplate.o -MD -MP -MF $depbase.Tpo -c -o tests/testBoilerplate.o ../../src/tests/testBoilerplate.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_cbdata.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_cbdata.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_cbdata.o ../../src/tests/stub_cbdata.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_MemBuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_MemBuf.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_MemBuf.o ../../src/tests/stub_MemBuf.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testCacheManager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testCacheManager.o -MD -MP -MF $depbase.Tpo -c -o tests/testCacheManager.o ../../src/tests/testCacheManager.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_main_cc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_main_cc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_main_cc.o ../../src/tests/stub_main_cc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc_Forwarder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc_Forwarder.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc_Forwarder.o ../../src/tests/stub_ipc_Forwarder.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_EventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_EventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_EventLoop.o ../../src/tests/stub_EventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_CacheDigest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_CacheDigest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_CacheDigest.o ../../src/tests/stub_CacheDigest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_carp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_carp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_carp.o ../../src/tests/stub_carp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_redirect.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_redirect.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_redirect.o ../../src/tests/stub_redirect.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libauth_acls.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libauth_acls.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libauth_acls.o ../../src/tests/stub_libauth_acls.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_store_digest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_store_digest.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_store_digest.o ../../src/tests/stub_store_digest.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_tunnel.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_tunnel.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_tunnel.o ../../src/tests/stub_tunnel.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_wccp2.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_wccp2.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_wccp2.o ../../src/tests/stub_wccp2.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_whois.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_whois.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_whois.o ../../src/tests/stub_whois.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_acl.o ../../src/tests/stub_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_db.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_db.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_db.o ../../src/tests/stub_client_db.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_client_side_request.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_client_side_request.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_client_side_request.o ../../src/tests/stub_client_side_request.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_helper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_helper.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_helper.o ../../src/tests/stub_helper.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_HelperChildConfig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_HelperChildConfig.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_HelperChildConfig.o ../../src/tests/stub_HelperChildConfig.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_http.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_http.o ../../src/tests/stub_http.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_icp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_icp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_icp.o ../../src/tests/stub_icp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_internal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_internal.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_internal.o ../../src/tests/stub_internal.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipc.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipc.o ../../src/tests/stub_ipc.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_ipcache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_ipcache.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_ipcache.o ../../src/tests/stub_ipcache.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libeui.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libeui.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libeui.o ../../src/tests/stub_libeui.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_libicmp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_libicmp.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_libicmp.o ../../src/tests/stub_libicmp.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_neighbors.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_neighbors.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_neighbors.o ../../src/tests/stub_neighbors.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stat.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stat.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stat.o ../../src/tests/stub_stat.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testDiskIO.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testDiskIO.o -MD -MP -MF $depbase.Tpo -c -o tests/testDiskIO.o ../../src/tests/testDiskIO.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testStoreSupport.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testStoreSupport.o -MD -MP -MF $depbase.Tpo -c -o tests/testStoreSupport.o ../../src/tests/testStoreSupport.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEvent.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEvent.o -MD -MP -MF $depbase.Tpo -c -o tests/testEvent.o ../../src/tests/testEvent.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testEventLoop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testEventLoop.o -MD -MP -MF $depbase.Tpo -c -o tests/testEventLoop.o ../../src/tests/testEventLoop.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/test_http_range.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/test_http_range.o -MD -MP -MF $depbase.Tpo -c -o tests/test_http_range.o ../../src/tests/test_http_range.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_external_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_external_acl.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_external_acl.o ../../src/tests/stub_external_acl.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_comm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_comm.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_comm.o ../../src/tests/stub_comm.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_event.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_event.o ../../src/tests/stub_event.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/stub_stmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/stub_stmem.o -MD -MP -MF $depbase.Tpo -c -o tests/stub_stmem.o ../../src/tests/stub_stmem.cc &&\
	mv -f $depbase.Tpo $depbase.Po
depbase=`echo tests/testHttpParser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
	ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf\"> -DDEFAULT_SQUID_DATA_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share\"> -DDEFAULT_SQUID_CONFIG_DIR=\"<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc\">   -I../.. -I../../include -I../../lib -I../../src -I../include    -I../src    -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -MT tests/testHttpParser.o -MD -MP -MF $depbase.Tpo -c -o tests/testHttpParser.o ../../src/tests/testHttpParser.cc &&\
	mv -f $depbase.Tpo $depbase.Po
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o  disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o  wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o libsquid.la clients/libclients.la servers/libservers.la helper/libhelper.la ftp/libftp.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la parser/libsquid-parser.la ip/libip.la fs/libfs.la  ipc/libipc.la base/libbase.la mgr/libmgr.la anyp/libanyp.la snmp/libsnmp.la ../lib/snmplib/libsnmplib.la icmp/libicmp.la icmp/libicmp-core.la comm/libcomm.la log/liblog.la format/libformat.la http/libsquid-http.la repl/liblru.a adaptation/libadaptation.la  ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lrt -lpthread -lnettle  -lcppunit -ldl   -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lkrb5 -lk5crypto -lcom_err  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
../../src/tests/testHttpParser.cc: In member function ‘void testHttpParser::testParseRequestLineProtocols()’:
../../src/tests/testHttpParser.cc:33: note: variable tracking size limit exceeded with -fvar-tracking-assignments, retrying without
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o  disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o libsquid.la http/libsquid-http.la ident/libident.la acl/libacls.la acl/libstate.la acl/libapi.la base/libbase.la ip/libip.la fs/libfs.la mgr/libmgr.la ipc/libipc.la anyp/libanyp.la ../lib/libmisccontainers.la ../lib/libmiscencoding.la ../lib/libmiscutil.la -lnettle  -lcppunit -ldl  CommCalls.o DnsLookupDetails.o ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
/bin/sh ../libtool --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -ldl -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o base/libbase.la libsquid.la ip/libip.la ../lib/libmiscutil.la  -lcppunit -ldl  ../compat/libcompat-squid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[5]: *** Waiting for unfinished jobs....
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testString tests/stub_mem.o MemBuf.o String.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o tests/testMain.o tests/testString.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_debug.o tests/stub_HelperChildConfig.o tests/stub_tools.o tests/stub_time.o wordlist.o test_tools.o globals.o  base/.libs/libbase.a ./.libs/libsquid.a ip/.libs/libip.a ../lib/.libs/libmiscutil.a -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testStore tests/stub_CacheDigest.o cbdata.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o disk.o DiskIO/ReadRequest.o DiskIO/WriteRequest.o ETag.o event.o EventLoop.o tests/stub_fatal.o filemap.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpHeaderTools.o HttpHeader.o HttpMsg.o HttpRequestMethod.o RequestFlags.o int.o SquidList.o MasterXaction.o tests/stub_mem.o mem_node.o MemBuf.o MemObject.o Notes.o Packer.o Parsing.o RemovalPolicy.o refresh.o StatCounters.o StatHist.o stmem.o store.o store_dir.o store_io.o store_swapout.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o store_key_md5.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o String.o StrList.o SwapDir.o tests/stub_access_log.o tests/stub_acl.o tests/stub_cache_cf.o tests/stub_cache_manager.o tests/stub_client_side_request.o tests/stub_comm.o tests/stub_debug.o tests/stub_DiskIOModule.o tests/stub_errorpage.o tests/stub_fd.o tests/stub_helper.o tests/stub_HelperChildConfig.o tests/stub_http.o tests/stub_libauth.o tests/stub_libeui.o tests/stub_libformat.o tests/stub_libsslsquid.o HttpBody.o tests/stub_HttpReply.o tests/stub_HttpRequest.o tests/stub_libcomm.o tests/stub_MemStore.o tests/stub_mime.o tests/stub_Port.o tests/stub_stat.o tests/stub_store_client.o tests/stub_store_stats.o tests/stub_store_rebuild.o tests/stub_store_swapout.o Transients.o tests/stub_tools.o tests/stub_UdsOp.o tests/testMain.o tests/testStore.o tests/testStoreEntryStream.o tests/testStoreController.o tests/testStoreHashIndex.o tests/testStoreSupport.o tests/TestSwapDir.o tests/stub_time.o url.o wordlist.o test_tools.o globals.o SquidMath.o swap_log_op.o CommCalls.o DnsLookupDetails.o  ./.libs/libsquid.a http/.libs/libsquid-http.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a base/.libs/libbase.a ip/.libs/libip.a fs/.libs/libfs.a mgr/.libs/libmgr.a ipc/.libs/libipc.a anyp/.libs/libanyp.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lnettle -lcppunit ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -g -o tests/testHttpRequest AccessLogEntry.o HttpParser.o RequestFlags.o HttpRequest.o HttpRequestMethod.o tests/stub_mem.o String.o tests/testHttpRequest.o tests/testHttpRequestMethod.o tests/testMain.o tests/stub_DiskIOModule.o tests/stub_libauth.o tests/stub_main_cc.o tests/stub_ipc_Forwarder.o tests/stub_libeui.o tests/stub_store_stats.o tests/stub_EventLoop.o time.o BodyPipe.o cache_manager.o YesNoNone.o cache_cf.o debug.o tests/stub_CacheDigest.o tests/stub_carp.o cbdata.o ChunkedCodingParser.o client_db.o client_side.o client_side_reply.o client_side_request.o clientStream.o tests/stub_CollapsedForwarding.o ConfigOption.o ConfigParser.o CpuAffinityMap.o CpuAffinitySet.o disk.o dlink.o dns_internal.o DnsLookupDetails.o errorpage.o tests/stub_ETag.o external_acl.o ExternalACLEntry.o tests/stub_fatal.o fd.o fde.o fqdncache.o FwdState.o gopher.o helper.o htcp.o http.o HttpBody.o HttpHeader.o HttpHeaderTools.o HttpHdrCc.o HttpHdrContRange.o HttpHdrRange.o HttpHdrSc.o HttpHdrScTarget.o HttpMsg.o HttpReply.o icp_v2.o icp_v3.o ipc.o ipcache.o int.o internal.o SquidList.o MasterXaction.o multicast.o mem_node.o MemBuf.o MemObject.o mime.o mime_header.o neighbors.o Notes.o Packer.o Parsing.o pconn.o peer_digest.o peer_proxy_negotiate_auth.o peer_select.o peer_sourcehash.o peer_userhash.o PeerPoolMgr.o tests/stub_libauth_acls.o tests/stub_redirect.o refresh.o RemovalPolicy.o MemBlob.o SBuf.o SBufExceptions.o tests/stub_SBufDetailedStats.o snmp_core.o snmp_agent.o SquidMath.o stat.o StatCounters.o StatHist.o stmem.o store.o store_client.o tests/stub_store_digest.o store_dir.o store_io.o store_key_md5.o store_log.o store_rebuild.o store_swapin.o store_swapmeta.o store_swapout.o StoreFileSystem.o StoreIOState.o tests/stub_StoreMeta.o StoreMetaUnpacker.o StoreSwapLogData.o StrList.o event.o tools.o Transients.o tests/stub_tunnel.o tests/stub_SwapDir.o MemStore.o url.o urn.o tests/stub_wccp2.o tests/stub_whois.o FadingCounter.o wordlist.o err_type.o err_detail_type.o globals.o hier_code.o icp_opcode.o LogTags.o lookup_t.o repl_modules.o swap_log_op.o  ./.libs/libsquid.a clients/.libs/libclients.a servers/.libs/libservers.a helper/.libs/libhelper.a ftp/.libs/libftp.a ident/.libs/libident.a acl/.libs/libacls.a acl/.libs/libstate.a acl/.libs/libapi.a parser/.libs/libsquid-parser.a ip/.libs/libip.a fs/.libs/libfs.a ipc/.libs/libipc.a base/.libs/libbase.a mgr/.libs/libmgr.a anyp/.libs/libanyp.a snmp/.libs/libsnmp.a ../lib/snmplib/.libs/libsnmplib.a icmp/.libs/libicmp.a icmp/.libs/libicmp-core.a comm/.libs/libcomm.a log/.libs/liblog.a format/.libs/libformat.a http/.libs/libsquid-http.a repl/liblru.a adaptation/.libs/libadaptation.a ../lib/.libs/libmisccontainers.a ../lib/.libs/libmiscencoding.a ../lib/.libs/libmiscutil.a -lpthread -lnettle -lcppunit -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err ../compat/.libs/libcompat-squid.a -lm -lnsl -lresolv -lcap -lrt -ldl
make[5]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[4]: *** [check-am] Error 2
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[3]: *** [check-recursive] Error 1
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: *** [check] Error 2
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
../../src/tests/stub_external_acl.cc:31: error: prototype for ‘void ExternalACLLookup::LookupDone(void*, const ExternalACLEntry&)’ does not match any in class ‘ExternalACLLookup’
../../src/ExternalACL.h:34: error: candidate is: static void ExternalACLLookup::LookupDone(void*, const ExternalACLEntryPointer&)
make[5]: *** [tests/stub_external_acl.o] Error 1
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From squid3 at treenet.co.nz  Sat Oct 11 20:23:03 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sun, 12 Oct 2014 09:23:03 +1300
Subject: [squid-dev] [PATCH] HTTP Parser upgrade
In-Reply-To: <5439906B.2040104@treenet.co.nz>
References: <52C406EE.50608@treenet.co.nz>
 <52C483C8.5040307@measurement-factory.com> <52C56D73.4080700@treenet.co.nz>
 <52C5B932.9070006@measurement-factory.com> <52C6ACE1.7060806@treenet.co.nz>
 <52C6E7A2.8080500@measurement-factory.com> <52CA2145.8010208@treenet.co.nz>
 <5302B16C.2070808@measurement-factory.com> <53036B73.5080804@treenet.co.nz>
 <5303A610.6080900@measurement-factory.com> <5379A4BE.6010504@treenet.co.nz>
 <537A3126.4080607@measurement-factory.com> <537B39C6.2040402@treenet.co.nz>
 <537B7D1F.7040503@measurement-factory.com> <538C9BFC.5070305@treenet.co.nz>
 <538DD934.3030602@measurement-factory.com> <5391F276.5000802@treenet.co.nz>
 <5439906B.2040104@treenet.co.nz>
Message-ID: <543991A7.5070206@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Attached the patch this time :-)

On 12/10/2014 9:17 a.m., Amos Jeffries wrote:
> Minor chages since the last patch.
> 
> * updates to cope with trunk changes.
> 
> * some RFC 7230 compliance polish
> 
> Amos
> 
> On 7/06/2014 4:55 a.m., Amos Jeffries wrote:
>> Latest version of the Parser-NG project branch. Since last
>> message I have dropped the copy-constructor related pieces.
> 
>> Polygraph testing on the branch showed almost no performance 
>> impact (+0.04ms/req, -0.03% request rate). Nevertheless a half 
>> dozen points of added memory reallocate or data copy are marked
>> for future removal as the Parser-NG and SBuf improvements
>> continue.
> 
>> Coadvisor testing of these changes shows a gain of 3 compliance 
>> cases for HTTPbis tests and no unexpected regressions against
>> RFC 2616 (one HTTPbis gain is claimed as a RFC2616 regression by 
>> coadvisor still).
> 
> 
>> To recap, this project so far:
> 
> 
>> Rename the HttpParser class as Http1::RequestParser and move it 
>> into the Http::One:: namespace. A base Http1::Parser class is
>> also added from which Http1::ReplyParser will also be created in
>> future work.
> 
>> The parser API - is updated to process both the request-line and 
>> HTTP mime headers, returning a incomplete parse result until the 
>> entire header portion of the message has been received. - now 
>> contains accessor methods for retrieving the method, URI,
>> protocol, mime headers block as separate SBuf and some metrics
>> about those. - the old request_offsets structure and similar
>> offset details internal to the parsing are no longer exposed.
> 
>> The parser is now incremental. A parser object must be created
>> (or clean() method called) for each new message. Code using the
>> parser should pass their I/O buffer to the parse(SBuf&) method
>> and retrieve an updated copy of it afterwards via the
>> remaining() method.
> 
>> Much of the code from client_side.cc parseHttpRequest() and also 
>> the header-field code from mime_headers.cc has been moved into
>> the parser classes. The client-side code now simply runs the
>> main parse() method then uses its accessors to retrieve and
>> process the parse results if it returns success.
> 
>> The getHeaderField() method imported from mime_headers.cc has
>> been converted to simpler logics based on Tokenizer class and
>> resolving a number of bugs in its matching output.
> 
>> A unit test for incremental parsing has been added to 
>> testHttp1Parser.
> 
>> The HttpRequestMethod class is moved into the Http namespace and
>>  library to reduce dependencies on the parser class outside the 
>> library.
> 
>> The HttpHeader API has been tweaked slighty to accept
>> start+length pair instead of start/end pointers.
> 
>> Amos
> 
> 
> _______________________________________________ squid-dev mailing
> list squid-dev at lists.squid-cache.org 
> http://lists.squid-cache.org/listinfo/squid-dev
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUOZGmAAoJELJo5wb/XPRjQD0H/Rgck1ImvreTboLkfIeaalog
di8nnuma4SrYl6DbuO9JoILmXYH/oiYDvDGsQ1V/cf7GT4OyUK3XQan3jamhDpIG
eBuCbbFSId7ngM9nzkdG+CwwqDxOpXm+TxUpeIpRihqh9QbmQLaYfk8zm6nCYLEO
dqUADk6Hp1rJ5L2G56VXZjHJXcWM9d8z8kwacOjwqXgV+rdcYdTI6HLrTksqRzhd
Wh9Wp8JVYi3Vxkb1rLc1LwfhFwUw5cFr+SYzmGCPijbXVsHuvHowO1p0Hs43+cjM
vbTNRsYPQ8i0CeC4/KZOm6P0A70Qu1Lh3eD/r6w7HOFikAN8DN2xEmcFKdefNSU=
=LSva
-----END PGP SIGNATURE-----
-------------- next part --------------
=== modified file 'configure.ac'
--- configure.ac	2014-10-02 12:07:26 +0000
+++ configure.ac	2014-10-05 10:43:33 +0000
@@ -3766,40 +3766,41 @@
 	src/base/Makefile
 	src/acl/Makefile
 	src/clients/Makefile
 	src/servers/Makefile
 	src/fs/Makefile
 	src/repl/Makefile
 	src/auth/Makefile
 	src/auth/basic/Makefile
 	src/auth/digest/Makefile
 	src/auth/negotiate/Makefile
 	src/auth/ntlm/Makefile
 	src/adaptation/Makefile
 	src/adaptation/icap/Makefile
 	src/adaptation/ecap/Makefile
 	src/comm/Makefile
 	src/esi/Makefile
 	src/eui/Makefile
 	src/format/Makefile
 	src/helper/Makefile
 	src/http/Makefile
+	src/http/one/Makefile
 	src/icmp/Makefile
 	src/ident/Makefile
 	src/ip/Makefile
 	src/log/Makefile
 	src/ipc/Makefile
 	src/ssl/Makefile
 	src/mgr/Makefile
 	src/parser/Makefile
 	src/snmp/Makefile
 	contrib/Makefile
 	icons/Makefile
 	errors/Makefile
 	test-suite/Makefile
 	doc/Makefile
 	doc/manuals/Makefile
 	helpers/Makefile
 	helpers/basic_auth/Makefile
 	helpers/basic_auth/DB/Makefile
 	helpers/basic_auth/fake/Makefile
 	helpers/basic_auth/getpwnam/Makefile

=== modified file 'src/AccessLogEntry.h'
--- src/AccessLogEntry.h	2014-09-29 05:13:17 +0000
+++ src/AccessLogEntry.h	2014-10-05 10:43:33 +0000
@@ -1,38 +1,38 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPACCESSLOGENTRY_H
 #define SQUID_HTTPACCESSLOGENTRY_H
 
 #include "anyp/PortCfg.h"
 #include "base/RefCount.h"
 #include "comm/Connection.h"
 #include "HierarchyLogEntry.h"
 #include "http/ProtocolVersion.h"
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "icp_opcode.h"
 #include "ip/Address.h"
 #include "LogTags.h"
 #include "MessageSizes.h"
 #include "Notes.h"
 #if ICAP_CLIENT
 #include "adaptation/icap/Elements.h"
 #endif
 #if USE_OPENSSL
 #include "ssl/gadgets.h"
 #endif
 
 /* forward decls */
 class HttpReply;
 class HttpRequest;
 class CustomLog;
 
 class AccessLogEntry: public RefCountable
 {
 

=== modified file 'src/HttpHeader.cc'
--- src/HttpHeader.cc	2014-09-13 13:59:43 +0000
+++ src/HttpHeader.cc	2014-09-14 12:23:03 +0000
@@ -564,188 +564,189 @@
         /* deny bad guys (ok to check for HDR_OTHER) here */
 
         if (denied_mask && CBIT_TEST(*denied_mask, e->id))
             continue;
 
         debugs(55, 7, "Updating header '" << HeadersAttrs[e->id].name << "' in cached entry");
 
         addEntry(e->clone());
     }
 }
 
 /* just handy in parsing: resets and returns false */
 int
 HttpHeader::reset()
 {
     clean();
     return 0;
 }
 
 int
-HttpHeader::parse(const char *header_start, const char *header_end)
+HttpHeader::parse(const char *header_start, size_t hdrLen)
 {
     const char *field_ptr = header_start;
+    const char *header_end = header_start + hdrLen; // XXX: remove
     HttpHeaderEntry *e, *e2;
     int warnOnError = (Config.onoff.relaxed_header_parser <= 0 ? DBG_IMPORTANT : 2);
 
     PROF_start(HttpHeaderParse);
 
     assert(header_start && header_end);
-    debugs(55, 7, "parsing hdr: (" << this << ")" << std::endl << getStringPrefix(header_start, header_end));
+    debugs(55, 7, "parsing hdr: (" << this << ")" << std::endl << getStringPrefix(header_start, hdrLen));
     ++ HttpHeaderStats[owner].parsedCount;
 
     char *nulpos;
-    if ((nulpos = (char*)memchr(header_start, '\0', header_end - header_start))) {
+    if ((nulpos = (char*)memchr(header_start, '\0', hdrLen))) {
         debugs(55, DBG_IMPORTANT, "WARNING: HTTP header contains NULL characters {" <<
-               getStringPrefix(header_start, nulpos) << "}\nNULL\n{" << getStringPrefix(nulpos+1, header_end));
+               getStringPrefix(header_start, nulpos-header_start) << "}\nNULL\n{" << getStringPrefix(nulpos+1, hdrLen-(nulpos-header_start)-1));
         PROF_stop(HttpHeaderParse);
         return reset();
     }
 
     /* common format headers are "<name>:[ws]<value>" lines delimited by <CRLF>.
      * continuation lines start with a (single) space or tab */
     while (field_ptr < header_end) {
         const char *field_start = field_ptr;
         const char *field_end;
 
         do {
             const char *this_line = field_ptr;
             field_ptr = (const char *)memchr(field_ptr, '\n', header_end - field_ptr);
 
             if (!field_ptr) {
                 // missing <LF>
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
 
             field_end = field_ptr;
 
             ++field_ptr;	/* Move to next line */
 
             if (field_end > this_line && field_end[-1] == '\r') {
                 --field_end;	/* Ignore CR LF */
 
                 if (owner == hoRequest && field_end > this_line) {
                     bool cr_only = true;
                     for (const char *p = this_line; p < field_end && cr_only; ++p) {
                         if (*p != '\r')
                             cr_only = false;
                     }
                     if (cr_only) {
                         debugs(55, DBG_IMPORTANT, "SECURITY WARNING: Rejecting HTTP request with a CR+ "
                                "header field to prevent request smuggling attacks: {" <<
-                               getStringPrefix(header_start, header_end) << "}");
+                               getStringPrefix(header_start, hdrLen) << "}");
                         PROF_stop(HttpHeaderParse);
                         return reset();
                     }
                 }
             }
 
             /* Barf on stray CR characters */
             if (memchr(this_line, '\r', field_end - this_line)) {
                 debugs(55, warnOnError, "WARNING: suspicious CR characters in HTTP header {" <<
-                       getStringPrefix(field_start, field_end) << "}");
+                       getStringPrefix(field_start, field_end-field_start) << "}");
 
                 if (Config.onoff.relaxed_header_parser) {
                     char *p = (char *) this_line;	/* XXX Warning! This destroys original header content and violates specifications somewhat */
 
                     while ((p = (char *)memchr(p, '\r', field_end - p)) != NULL) {
                         *p = ' ';
                         ++p;
                     }
                 } else {
                     PROF_stop(HttpHeaderParse);
                     return reset();
                 }
             }
 
             if (this_line + 1 == field_end && this_line > field_start) {
                 debugs(55, warnOnError, "WARNING: Blank continuation line in HTTP header {" <<
-                       getStringPrefix(header_start, header_end) << "}");
+                       getStringPrefix(header_start, hdrLen) << "}");
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         } while (field_ptr < header_end && (*field_ptr == ' ' || *field_ptr == '\t'));
 
         if (field_start == field_end) {
             if (field_ptr < header_end) {
                 debugs(55, warnOnError, "WARNING: unparseable HTTP header field near {" <<
-                       getStringPrefix(field_start, header_end) << "}");
+                       getStringPrefix(field_start, hdrLen-(field_start-header_start)) << "}");
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
 
             break;		/* terminating blank line */
         }
 
         if ((e = HttpHeaderEntry::parse(field_start, field_end)) == NULL) {
             debugs(55, warnOnError, "WARNING: unparseable HTTP header field {" <<
-                   getStringPrefix(field_start, field_end) << "}");
-            debugs(55, warnOnError, " in {" << getStringPrefix(header_start, header_end) << "}");
+                   getStringPrefix(field_start, field_end-field_start) << "}");
+            debugs(55, warnOnError, " in {" << getStringPrefix(header_start, hdrLen) << "}");
 
             if (Config.onoff.relaxed_header_parser)
                 continue;
 
             PROF_stop(HttpHeaderParse);
             return reset();
         }
 
         if (e->id == HDR_CONTENT_LENGTH && (e2 = findEntry(e->id)) != NULL) {
             if (e->value != e2->value) {
                 int64_t l1, l2;
                 debugs(55, warnOnError, "WARNING: found two conflicting content-length headers in {" <<
-                       getStringPrefix(header_start, header_end) << "}");
+                       getStringPrefix(header_start, hdrLen) << "}");
 
                 if (!Config.onoff.relaxed_header_parser) {
                     delete e;
                     PROF_stop(HttpHeaderParse);
                     return reset();
                 }
 
                 if (!httpHeaderParseOffset(e->value.termedBuf(), &l1)) {
                     debugs(55, DBG_IMPORTANT, "WARNING: Unparseable content-length '" << e->value << "'");
                     delete e;
                     continue;
                 } else if (!httpHeaderParseOffset(e2->value.termedBuf(), &l2)) {
                     debugs(55, DBG_IMPORTANT, "WARNING: Unparseable content-length '" << e2->value << "'");
                     delById(e2->id);
                 } else if (l1 > l2) {
                     delById(e2->id);
                 } else {
                     delete e;
                     continue;
                 }
             } else {
                 debugs(55, warnOnError, "NOTICE: found double content-length header");
                 delete e;
 
                 if (Config.onoff.relaxed_header_parser)
                     continue;
 
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         }
 
         if (e->id == HDR_OTHER && stringHasWhitespace(e->name.termedBuf())) {
             debugs(55, warnOnError, "WARNING: found whitespace in HTTP header name {" <<
-                   getStringPrefix(field_start, field_end) << "}");
+                   getStringPrefix(field_start, field_end-field_start) << "}");
 
             if (!Config.onoff.relaxed_header_parser) {
                 delete e;
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         }
 
         addEntry(e);
     }
 
     if (chunked()) {
         // RFC 2616 section 4.4: ignore Content-Length with Transfer-Encoding
         delById(HDR_CONTENT_LENGTH);
     }
 
     PROF_stop(HttpHeaderParse);
     return 1;			/* even if no fields where found, it is a valid header */
 }
 
@@ -1614,52 +1615,52 @@
     const char *name_end = (const char *)memchr(field_start, ':', field_end - field_start);
     int name_len = name_end ? name_end - field_start :0;
     const char *value_start = field_start + name_len + 1;	/* skip ':' */
     /* note: value_end == field_end */
 
     ++ HeaderEntryParsedCount;
 
     /* do we have a valid field name within this field? */
 
     if (!name_len || name_end > field_end)
         return NULL;
 
     if (name_len > 65534) {
         /* String must be LESS THAN 64K and it adds a terminating NULL */
         debugs(55, DBG_IMPORTANT, "WARNING: ignoring header name of " << name_len << " bytes");
         return NULL;
     }
 
     if (Config.onoff.relaxed_header_parser && xisspace(field_start[name_len - 1])) {
         debugs(55, Config.onoff.relaxed_header_parser <= 0 ? 1 : 2,
-               "NOTICE: Whitespace after header name in '" << getStringPrefix(field_start, field_end) << "'");
+               "NOTICE: Whitespace after header name in '" << getStringPrefix(field_start, field_end-field_start) << "'");
 
         while (name_len > 0 && xisspace(field_start[name_len - 1]))
             --name_len;
 
         if (!name_len)
             return NULL;
     }
 
     /* now we know we can parse it */
 
-    debugs(55, 9, "parsing HttpHeaderEntry: near '" <<  getStringPrefix(field_start, field_end) << "'");
+    debugs(55, 9, "parsing HttpHeaderEntry: near '" <<  getStringPrefix(field_start, field_end-field_start) << "'");
 
     /* is it a "known" field? */
     http_hdr_type id = httpHeaderIdByName(field_start, name_len, Headers, HDR_ENUM_END);
 
     String name;
 
     String value;
 
     if (id < 0)
         id = HDR_OTHER;
 
     assert_eid(id);
 
     /* set field name */
     if (id == HDR_OTHER)
         name.limitInit(field_start, name_len);
     else
         name = Headers[id].name;
 
     /* trim field value */

=== modified file 'src/HttpHeader.h'
--- src/HttpHeader.h	2014-09-13 13:59:43 +0000
+++ src/HttpHeader.h	2014-09-14 12:23:03 +0000
@@ -1,158 +1,48 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPHEADER_H
 #define SQUID_HTTPHEADER_H
 
+#include "http/RegisteredHeaders.h"
 /* because we pass a spec by value */
 #include "HttpHeaderMask.h"
 #include "MemPool.h"
 #include "SquidString.h"
 
 #include <vector>
 
 /* class forward declarations */
 class HttpHdrCc;
 class HttpHdrContRange;
 class HttpHdrRange;
 class HttpHdrSc;
 class Packer;
 class StoreEntry;
 class SBuf;
 
-/* constant attributes of http header fields */
-
-/// recognized or "known" header fields; and the RFC which defines them (or not)
-/// http://www.iana.org/assignments/message-headers/message-headers.xhtml
-typedef enum {
-    HDR_BAD_HDR = -1,
-    HDR_ACCEPT = 0,                     /**< RFC 7231 */
-    HDR_ACCEPT_CHARSET,                 /**< RFC 7231 */
-    HDR_ACCEPT_ENCODING,                /**< RFC 7231 */
-    /*HDR_ACCEPT_FEATURES,*/            /* RFC 2295 */
-    HDR_ACCEPT_LANGUAGE,                /**< RFC 7231 */
-    HDR_ACCEPT_RANGES,                  /**< RFC 7233 */
-    HDR_AGE,                            /**< RFC 7234 */
-    HDR_ALLOW,                          /**< RFC 7231 */
-    HDR_AUTHENTICATION_INFO,            /**< RFC 2617 */
-    HDR_AUTHORIZATION,                  /**< RFC 7235, 4559 */
-    HDR_CACHE_CONTROL,                  /**< RFC 7234 */
-    HDR_CONNECTION,                     /**< RFC 7230 */
-    HDR_CONTENT_BASE,                   /**< obsoleted RFC 2068 */
-    HDR_CONTENT_DISPOSITION,            /**< RFC 2183, 6266 */
-    HDR_CONTENT_ENCODING,               /**< RFC 7231 */
-    HDR_CONTENT_LANGUAGE,               /**< RFC 7231 */
-    HDR_CONTENT_LENGTH,                 /**< RFC 7230 */
-    HDR_CONTENT_LOCATION,               /**< RFC 7231 */
-    HDR_CONTENT_MD5,                    /**< deprecated, RFC 2616 */
-    HDR_CONTENT_RANGE,                  /**< RFC 7233 */
-    HDR_CONTENT_TYPE,                   /**< RFC 7231 */
-    HDR_COOKIE,                         /**< RFC 6265 header we may need to erase */
-    HDR_COOKIE2,                        /**< obsolete RFC 2965 header we may need to erase */
-    HDR_DATE,                           /**< RFC 7231 */
-    /*HDR_DAV,*/                        /* RFC 2518 */
-    /*HDR_DEPTH,*/                      /* RFC 2518 */
-    /*HDR_DERIVED_FROM,*/               /* deprecated RFC 2068 */
-    /*HDR_DESTINATION,*/                /* RFC 2518 */
-    HDR_ETAG,                           /**< RFC 7232 */
-    HDR_EXPECT,                         /**< RFC 7231 */
-    HDR_EXPIRES,                        /**< RFC 7234 */
-    HDR_FORWARDED,                      /**< RFC 7239 */
-    HDR_FROM,                           /**< RFC 7231 */
-    HDR_HOST,                           /**< RFC 7230 */
-    HDR_HTTP2_SETTINGS,                 /**< HTTP/2.0 upgrade header. see draft-ietf-httpbis-http2-13 */
-    /*HDR_IF,*/                         /* RFC 2518 */
-    HDR_IF_MATCH,                       /**< RFC 7232 */
-    HDR_IF_MODIFIED_SINCE,              /**< RFC 7232 */
-    HDR_IF_NONE_MATCH,                  /**< RFC 7232 */
-    HDR_IF_RANGE,                       /**< RFC 7233 */
-    HDR_IF_UNMODIFIED_SINCE,            /**< RFC 7232 */
-    HDR_KEEP_ALIVE,                     /**< obsoleted RFC 2068 header we may need to erase */
-    HDR_KEY,                            /**< experimental RFC Draft draft-fielding-http-key-02 */
-    HDR_LAST_MODIFIED,                  /**< RFC 7232 */
-    HDR_LINK,                           /**< RFC 5988 */
-    HDR_LOCATION,                       /**< RFC 7231 */
-    /*HDR_LOCK_TOKEN,*/                 /* RFC 2518 */
-    HDR_MAX_FORWARDS,                   /**< RFC 7231 */
-    HDR_MIME_VERSION,                   /**< RFC 2045, 7231 */
-    HDR_NEGOTIATE,                      /**< experimental RFC 2295. Why only this one from 2295? */
-    /*HDR_OVERWRITE,*/                  /* RFC 2518 */
-    HDR_ORIGIN,                         /* CORS Draft specification (see http://www.w3.org/TR/cors/) */
-    HDR_PRAGMA,                         /**< RFC 7234 */
-    HDR_PROXY_AUTHENTICATE,             /**< RFC 7235 */
-    HDR_PROXY_AUTHENTICATION_INFO,      /**< RFC 2617 */
-    HDR_PROXY_AUTHORIZATION,            /**< RFC 7235 */
-    HDR_PROXY_CONNECTION,               /**< obsolete Netscape header we may need to erase. */
-    HDR_PROXY_SUPPORT,                  /**< RFC 4559 */
-    HDR_PUBLIC,                         /**<  RFC 2068 */
-    HDR_RANGE,                          /**< RFC 7233 */
-    HDR_REFERER,                        /**< RFC 7231 */
-    HDR_REQUEST_RANGE,                  /**< some clients use this, sigh */
-    HDR_RETRY_AFTER,                    /**< RFC 7231 */
-    HDR_SERVER,                         /**< RFC 7231 */
-    HDR_SET_COOKIE,                     /**< RFC 6265 header we may need to erase */
-    HDR_SET_COOKIE2,                    /**< obsoleted RFC 2965 header we may need to erase */
-    /*HDR_STATUS_URI,*/                 /* RFC 2518 */
-    /*HDR_TCN,*/                        /* experimental RFC 2295 */
-    HDR_TE,                             /**< RFC 7230 */
-    /*HDR_TIMEOUT,*/                    /* RFC 2518 */
-    HDR_TITLE,                          /* obsolete draft suggested header */
-    HDR_TRAILER,                        /**< RFC 7230 */
-    HDR_TRANSFER_ENCODING,              /**< RFC 7230 */
-    HDR_TRANSLATE,                      /**< IIS custom header we may need to erase */
-    HDR_UNLESS_MODIFIED_SINCE,          /**< IIS custom header we may need to erase */
-    HDR_UPGRADE,                        /**< RFC 7230 */
-    HDR_USER_AGENT,                     /**< RFC 7231 */
-    /*HDR_VARIANT_VARY,*/               /* experimental RFC 2295 */
-    HDR_VARY,                           /**< RFC 7231 */
-    HDR_VIA,                            /**< RFC 7230 */
-    HDR_WARNING,                        /**< RFC 7234 */
-    HDR_WWW_AUTHENTICATE,               /**< RFC 7235, 4559 */
-    HDR_X_CACHE,                        /**< Squid custom header */
-    HDR_X_CACHE_LOOKUP,                 /**< Squid custom header. temporary hack that became de-facto. TODO remove */
-    HDR_X_FORWARDED_FOR,                /**< obsolete Squid custom header, RFC 7239 */
-    HDR_X_REQUEST_URI,                  /**< Squid custom header appended if ADD_X_REQUEST_URI is defined */
-    HDR_X_SQUID_ERROR,                  /**< Squid custom header on generated error responses */
-#if X_ACCELERATOR_VARY
-    HDR_X_ACCELERATOR_VARY,             /**< obsolete Squid custom header. */
-#endif
-#if USE_ADAPTATION
-    HDR_X_NEXT_SERVICES,                /**< Squid custom ICAP header */
-#endif
-    HDR_SURROGATE_CAPABILITY,           /**< Edge Side Includes (ESI) header */
-    HDR_SURROGATE_CONTROL,              /**< Edge Side Includes (ESI) header */
-    HDR_FRONT_END_HTTPS,                /**< MS Exchange custom header we may have to add */
-    HDR_FTP_COMMAND,                    /**< Internal header for FTP command */
-    HDR_FTP_ARGUMENTS,                  /**< Internal header for FTP command arguments */
-    HDR_FTP_PRE,                        /**< Internal header containing leading FTP control response lines */
-    HDR_FTP_STATUS,                     /**< Internal header for FTP reply status */
-    HDR_FTP_REASON,                     /**< Internal header for FTP reply reason */
-    HDR_OTHER,                          /**< internal tag value for "unknown" headers */
-    HDR_ENUM_END
-} http_hdr_type;
-
 /** possible types for http header fields */
 typedef enum {
     ftInvalid = HDR_ENUM_END,	/**< to catch nasty errors with hdr_id<->fld_type clashes */
     ftInt,
     ftInt64,
     ftStr,
     ftDate_1123,
     ftETag,
     ftPCc,
     ftPContRange,
     ftPRange,
     ftPSc,
     ftDate_1123_or_ETag
 } field_type;
 
 /** Possible owners of http header */
 typedef enum {
     hoNone =0,
 #if USE_HTCP
     hoHtcpReply,
@@ -202,41 +92,41 @@
 class ETag;
 class TimeOrTag;
 
 class HttpHeader
 {
 
 public:
     HttpHeader();
     explicit HttpHeader(const http_hdr_owner_type owner);
     HttpHeader(const HttpHeader &other);
     ~HttpHeader();
 
     HttpHeader &operator =(const HttpHeader &other);
 
     /* Interface functions */
     void clean();
     void append(const HttpHeader * src);
     void update (HttpHeader const *fresh, HttpHeaderMask const *denied_mask);
     void compact();
     int reset();
-    int parse(const char *header_start, const char *header_end);
+    int parse(const char *header_start, size_t len);
     void packInto(Packer * p, bool mask_sensitive_info=false) const;
     HttpHeaderEntry *getEntry(HttpHeaderPos * pos) const;
     HttpHeaderEntry *findEntry(http_hdr_type id) const;
     int delByName(const char *name);
     int delById(http_hdr_type id);
     void delAt(HttpHeaderPos pos, int &headers_deleted);
     void refreshMask();
     void addEntry(HttpHeaderEntry * e);
     void insertEntry(HttpHeaderEntry * e);
     String getList(http_hdr_type id) const;
     bool getList(http_hdr_type id, String *s) const;
     String getStrOrList(http_hdr_type id) const;
     String getByName(const char *name) const;
     /// sets value and returns true iff a [possibly empty] named field is there
     bool getByNameIfPresent(const char *name, String &value) const;
     String getByNameListMember(const char *name, const char *member, const char separator) const;
     String getListMember(http_hdr_type id, const char *member, const char separator) const;
     int has(http_hdr_type id) const;
     void putInt(http_hdr_type id, int number);
     void putInt64(http_hdr_type id, int64_t number);

=== modified file 'src/HttpHeaderTools.cc'
--- src/HttpHeaderTools.cc	2014-09-13 13:59:43 +0000
+++ src/HttpHeaderTools.cc	2014-09-14 12:23:03 +0000
@@ -144,46 +144,45 @@
 
 #if USE_HTTP_VIOLATIONS
     if (hdr->has(HDR_PROXY_CONNECTION))
         list = hdr->getList(HDR_PROXY_CONNECTION);
     else
 #endif
         if (hdr->has(HDR_CONNECTION))
             list = hdr->getList(HDR_CONNECTION);
         else
             return 0;
 
     res = strListIsMember(&list, directive, ',');
 
     list.clean();
 
     return res;
 }
 
 /** handy to printf prefixes of potentially very long buffers */
 const char *
-getStringPrefix(const char *str, const char *end)
+getStringPrefix(const char *str, size_t sz)
 {
 #define SHORT_PREFIX_SIZE 512
     LOCAL_ARRAY(char, buf, SHORT_PREFIX_SIZE);
-    const int sz = 1 + (end ? end - str : strlen(str));
-    xstrncpy(buf, str, (sz > SHORT_PREFIX_SIZE) ? SHORT_PREFIX_SIZE : sz);
+    xstrncpy(buf, str, (sz+1 > SHORT_PREFIX_SIZE) ? SHORT_PREFIX_SIZE : sz);
     return buf;
 }
 
 /**
  * parses an int field, complains if soemthing went wrong, returns true on
  * success
  */
 int
 httpHeaderParseInt(const char *start, int *value)
 {
     assert(value);
     *value = atoi(start);
 
     if (!*value && !xisdigit(*start)) {
         debugs(66, 2, "failed to parse an int header field near '" << start << "'");
         return 0;
     }
 
     return 1;
 }

=== modified file 'src/HttpHeaderTools.h'
--- src/HttpHeaderTools.h	2014-09-13 13:59:43 +0000
+++ src/HttpHeaderTools.h	2014-09-14 12:23:03 +0000
@@ -107,25 +107,25 @@
     Format::Format *valueFormat;
 
     /// internal ID for "known" headers or HDR_OTHER
     http_hdr_type fieldId;
 
     /// whether fieldValue may contain macros
     bool quoted;
 };
 
 int httpHeaderParseOffset(const char *start, int64_t * off);
 
 HttpHeaderFieldInfo *httpHeaderBuildFieldsInfo(const HttpHeaderFieldAttrs * attrs, int count);
 void httpHeaderDestroyFieldsInfo(HttpHeaderFieldInfo * info, int count);
 http_hdr_type httpHeaderIdByName(const char *name, size_t name_len, const HttpHeaderFieldInfo * attrs, int end);
 http_hdr_type httpHeaderIdByNameDef(const char *name, int name_len);
 const char *httpHeaderNameById(int id);
 int httpHeaderHasConnDir(const HttpHeader * hdr, const char *directive);
 int httpHeaderParseInt(const char *start, int *val);
 void httpHeaderPutStrf(HttpHeader * hdr, http_hdr_type id, const char *fmt,...) PRINTF_FORMAT_ARG3;
 
-const char *getStringPrefix(const char *str, const char *end);
+const char *getStringPrefix(const char *str, size_t len);
 
 void httpHdrMangleList(HttpHeader *, HttpRequest *, int req_or_rep);
 
 #endif

=== modified file 'src/HttpMsg.cc'
--- src/HttpMsg.cc	2014-09-13 13:59:43 +0000
+++ src/HttpMsg.cc	2014-10-11 10:21:16 +0000
@@ -18,41 +18,41 @@
 #include "SquidConfig.h"
 
 HttpMsg::HttpMsg(http_hdr_owner_type owner): header(owner),
         cache_control(NULL), hdr_sz(0), content_length(0),
         pstate(psReadyToParseStartLine)
 {}
 
 HttpMsg::~HttpMsg()
 {
     assert(!body_pipe);
 }
 
 HttpMsgParseState &operator++ (HttpMsgParseState &aState)
 {
     int tmp = (int)aState;
     aState = (HttpMsgParseState)(++tmp);
     return aState;
 }
 
 /* find end of headers */
-int
+static int
 httpMsgIsolateHeaders(const char **parse_start, int l, const char **blk_start, const char **blk_end)
 {
     /*
      * parse_start points to the first line of HTTP message *headers*,
      * not including the request or status lines
      */
     size_t end = headersEnd(*parse_start, l);
     int nnl;
 
     if (end) {
         *blk_start = *parse_start;
         *blk_end = *parse_start + end - 1;
         /*
          * leave blk_end pointing to the first character after the
          * first newline which terminates the headers
          */
         assert(**blk_end == '\n');
 
         while (*(*blk_end - 1) == '\r')
             --(*blk_end);
@@ -238,48 +238,49 @@
             PROF_stop(HttpMsg_httpMsgParseStep);
             return httpMsgParseError();
         }
 
         *parse_end_ptr = parse_start;
 
         hdr_sz = *parse_end_ptr - buf;
         parse_len = parse_len - hdr_sz;
 
         ++pstate;
     }
 
     /*
      * XXX This code uses parse_start; but if we're incrementally parsing then
      * this code might not actually be given parse_start at the right spot (just
      * after headers.) Grr.
      */
     if (pstate == psReadyToParseHeaders) {
         if (!httpMsgIsolateHeaders(&parse_start, parse_len, &blk_start, &blk_end)) {
             if (atEnd) {
-                blk_start = parse_start, blk_end = blk_start + strlen(blk_start);
+                blk_start = parse_start;
+                blk_end = blk_start + strlen(blk_start);
             } else {
                 PROF_stop(HttpMsg_httpMsgParseStep);
                 return 0;
             }
         }
 
-        if (!header.parse(blk_start, blk_end)) {
+        if (!header.parse(blk_start, blk_end-blk_start)) {
             PROF_stop(HttpMsg_httpMsgParseStep);
             return httpMsgParseError();
         }
 
         hdrCacheInit();
 
         *parse_end_ptr = parse_start;
 
         hdr_sz = *parse_end_ptr - buf;
 
         ++pstate;
     }
 
     PROF_stop(HttpMsg_httpMsgParseStep);
     return 1;
 }
 
 /* handy: resets and returns -1 */
 int
 HttpMsg::httpMsgParseError()

=== modified file 'src/HttpMsg.h'
--- src/HttpMsg.h	2014-09-13 13:59:43 +0000
+++ src/HttpMsg.h	2014-09-14 12:23:03 +0000
@@ -1,37 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPMSG_H
 #define SQUID_HTTPMSG_H
 
 #include "base/Lock.h"
 #include "BodyPipe.h"
+#include "http/forward.h"
 #include "http/ProtocolVersion.h"
 #include "http/StatusCode.h"
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
 
 /// common parts of HttpRequest and HttpReply
 class HttpMsg : public RefCountable
 {
 
 public:
     typedef RefCount<HttpMsg> Pointer;
 
     HttpMsg(http_hdr_owner_type owner);
     virtual ~HttpMsg();
 
     virtual void reset() = 0; // will have body when http*Clean()s are gone
 
     void packInto(Packer * p, bool full_uri) const;
 
     ///< produce a message copy, except for a few connection-specific settings
     virtual HttpMsg *clone() const = 0; ///< \todo rename: not a true copy?
 
     /// [re]sets Content-Length header and cached value
     void setContentLength(int64_t clen);
@@ -81,26 +81,24 @@
 
     virtual bool inheritProperties(const HttpMsg *aMsg) = 0;
 
 protected:
     /**
      * Validate the message start line is syntactically correct.
      * Set HTTP error status according to problems found.
      *
      * \retval true   Status line has no serious problems.
      * \retval false  Status line has a serious problem. Correct response is indicated by error.
      */
     virtual bool sanityCheckStartLine(MemBuf *buf, const size_t hdr_len, Http::StatusCode *error) = 0;
 
     virtual void packFirstLineInto(Packer * p, bool full_uri) const = 0;
 
     virtual bool parseFirstLine(const char *blk_start, const char *blk_end) = 0;
 
     virtual void hdrCacheInit();
 };
 
-int httpMsgIsolateHeaders(const char **parse_start, int len, const char **blk_start, const char **blk_end);
-
 #define HTTPMSGUNLOCK(a) if (a) { if ((a)->unlock() == 0) delete (a); (a)=NULL; }
 #define HTTPMSGLOCK(a) (a)->lock()
 
 #endif /* SQUID_HTTPMSG_H */

=== modified file 'src/HttpRequest.cc'
--- src/HttpRequest.cc	2014-09-13 13:59:43 +0000
+++ src/HttpRequest.cc	2014-09-14 12:23:03 +0000
@@ -1,40 +1,41 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 73    HTTP Request */
 
 #include "squid.h"
 #include "AccessLogEntry.h"
 #include "acl/AclSizeLimit.h"
 #include "acl/FilledChecklist.h"
 #include "client_side.h"
 #include "DnsLookupDetails.h"
 #include "err_detail_type.h"
 #include "globals.h"
 #include "gopher.h"
 #include "http.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrCc.h"
 #include "HttpHeaderRange.h"
 #include "HttpRequest.h"
 #include "log/Config.h"
 #include "MemBuf.h"
 #include "SquidConfig.h"
 #include "Store.h"
 #include "URL.h"
 
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if ICAP_CLIENT
 #include "adaptation/icap/icap_log.h"
 #endif
 
 HttpRequest::HttpRequest() :
         HttpMsg(hoRequest)
 {
     init();
@@ -263,105 +264,107 @@
  * Checks the first line of an HTTP request is valid
  * currently just checks the request method is present.
  *
  * NP: Other errors are left for detection later in the parse.
  */
 bool
 HttpRequest::sanityCheckStartLine(MemBuf *buf, const size_t hdr_len, Http::StatusCode *error)
 {
     // content is long enough to possibly hold a reply
     // 2 being magic size of a 1-byte request method plus space delimiter
     if ( buf->contentSize() < 2 ) {
         // this is ony a real error if the headers apparently complete.
         if (hdr_len > 0) {
             debugs(58, 3, HERE << "Too large request header (" << hdr_len << " bytes)");
             *error = Http::scInvalidHeader;
         }
         return false;
     }
 
     /* See if the request buffer starts with a known HTTP request method. */
-    if (HttpRequestMethod(buf->content(),NULL) == Http::METHOD_NONE) {
+    if (HttpRequestMethod(buf->content()) == Http::METHOD_NONE) {
         debugs(73, 3, "HttpRequest::sanityCheckStartLine: did not find HTTP request method");
         *error = Http::scInvalidHeader;
         return false;
     }
 
     return true;
 }
 
 bool
 HttpRequest::parseFirstLine(const char *start, const char *end)
 {
     const char *t = start + strcspn(start, w_space);
-    method = HttpRequestMethod(start, t);
+    SBuf m(start, start-t); // XXX: SBuf ctor allocates and data-copies. performance regression.
+    method = HttpRequestMethod(m);
 
     if (method == Http::METHOD_NONE)
         return false;
 
-    start = t + strspn(t, w_space);
+    start = t + strspn(t, w_space); // XXX: breaks if whitespace exists in URL
 
     const char *ver = findTrailingHTTPVersion(start, end);
 
     if (ver) {
         end = ver - 1;
 
         while (xisspace(*end)) // find prev non-space
             --end;
 
         ++end;                 // back to space
 
         if (2 != sscanf(ver + 5, "%d.%d", &http_ver.major, &http_ver.minor)) {
             debugs(73, DBG_IMPORTANT, "parseRequestLine: Invalid HTTP identifier.");
             return false;
         }
     } else {
         http_ver.major = 0;
         http_ver.minor = 9;
     }
 
     if (end < start)   // missing URI
         return false;
 
     char save = *end;
 
     * (char *) end = '\0';     // temp terminate URI, XXX dangerous?
 
     HttpRequest *tmp = urlParse(method, (char *) start, this);
 
     * (char *) end = save;
 
     if (NULL == tmp)
         return false;
 
     return true;
 }
 
-int
-HttpRequest::parseHeader(const char *parse_start, int len)
+bool
+HttpRequest::parseHeader(Http1::RequestParser &hp)
 {
-    const char *blk_start, *blk_end;
-
-    if (!httpMsgIsolateHeaders(&parse_start, len, &blk_start, &blk_end))
-        return 0;
+    // HTTP/1 message contains "zero or more header fields"
+    // zero does not need parsing
+    if (!hp.headerBlockSize())
+        return true;
 
-    int result = header.parse(blk_start, blk_end);
+    // XXX: c_str() reallocates. performance regression.
+    const bool result = header.parse(hp.mimeHeader().c_str(), hp.headerBlockSize());
 
     if (result)
         hdrCacheInit();
 
     return result;
 }
 
 /* swaps out request using httpRequestPack */
 void
 HttpRequest::swapOut(StoreEntry * e)
 {
     Packer p;
     assert(e);
     packerToStoreInit(&p, e);
     pack(&p);
     packerClean(&p);
 }
 
 /* packs request-line and headers, appends <crlf> terminator */
 void

=== modified file 'src/HttpRequest.h'
--- src/HttpRequest.h	2014-09-13 13:59:43 +0000
+++ src/HttpRequest.h	2014-09-14 12:23:03 +0000
@@ -1,37 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPREQUEST_H
 #define SQUID_HTTPREQUEST_H
 
 #include "base/CbcPointer.h"
 #include "Debug.h"
 #include "err_type.h"
 #include "HierarchyLogEntry.h"
 #include "HttpMsg.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "Notes.h"
 #include "RequestFlags.h"
 #include "URL.h"
 
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if USE_ADAPTATION
 #include "adaptation/History.h"
 #endif
 #if ICAP_CLIENT
 #include "adaptation/icap/History.h"
 #endif
 #if USE_SQUID_EUI
 #include "eui/Eui48.h"
 #include "eui/Eui64.h"
 #endif
 
 class ConnStateData;
 
@@ -192,41 +192,41 @@
     String extacl_user;		/* User name returned by extacl lookup */
 
     String extacl_passwd;	/* Password returned by extacl lookup */
 
     String extacl_log;		/* String to be used for access.log purposes */
 
     String extacl_message;	/* String to be used for error page purposes */
 
 #if FOLLOW_X_FORWARDED_FOR
     String x_forwarded_for_iterator; /* XXX a list of IP addresses */
 #endif /* FOLLOW_X_FORWARDED_FOR */
 
     /// A strong etag of the cached entry. Used for refreshing that entry.
     String etag;
 
 public:
     bool multipartRangeRequest() const;
 
     bool parseFirstLine(const char *start, const char *end);
 
-    int parseHeader(const char *parse_start, int len);
+    bool parseHeader(Http1::RequestParser &hp); // TODO move this function to the parser
 
     virtual bool expectingBody(const HttpRequestMethod& unused, int64_t&) const;
 
     bool bodyNibbled() const; // the request has a [partially] consumed body
 
     int prefixLen();
 
     void swapOut(StoreEntry * e);
 
     void pack(Packer * p);
 
     static void httpRequestPack(void *obj, Packer *p);
 
     static HttpRequest * CreateFromUrlAndMethod(char * url, const HttpRequestMethod& method);
 
     static HttpRequest * CreateFromUrl(char * url);
 
     ConnStateData *pinnedConnection();
 
     /**

=== modified file 'src/Makefile.am'
--- src/Makefile.am	2014-10-04 09:27:01 +0000
+++ src/Makefile.am	2014-10-05 10:44:11 +0000
@@ -386,50 +386,46 @@
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrSc.h \
 	HttpHdrScTarget.cc \
 	HttpHdrScTarget.h \
 	HttpHdrContRange.cc \
 	HttpHdrContRange.h \
 	HttpHeaderStat.h \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderMask.h \
 	HttpHeaderRange.h \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpControlMsg.h \
 	HttpMsg.cc \
 	HttpMsg.h \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	HttpReply.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
 	HttpRequest.h \
-	HttpRequestMethod.cc \
-	HttpRequestMethod.h \
 	ICP.h \
 	icp_opcode.h \
 	icp_v2.cc \
 	icp_v3.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	ipcache.h \
 	$(LEAKFINDERSOURCE) \
 	SquidList.h \
 	SquidList.cc \
 	LogTags.h \
 	lookup_t.h \
 	main.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
@@ -599,69 +595,69 @@
 	icp_opcode.cc \
 	LogTags.cc \
 	lookup_t.cc \
 	repl_modules.cc \
 	swap_log_op.cc
 
 CLEANFILES += $(BUILT_SOURCES)
 
 nodist_squid_SOURCES = \
 	$(DISKIO_GEN_SOURCE) \
 	$(BUILT_SOURCES)
 
 squid_LDADD = \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	$(AUTH_LIBS) \
 	$(DISK_LIBS) \
 	acl/libapi.la \
+	clients/libclients.la \
+	servers/libservers.la \
+	ftp/libftp.la \
+	helper/libhelper.la \
+	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	base/libbase.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	anyp/libanyp.la \
 	comm/libcomm.la \
 	eui/libeui.la \
-	helper/libhelper.la \
-	http/libsquid-http.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	format/libformat.la \
-	clients/libclients.la \
-	servers/libservers.la \
-	ftp/libftp.la \
 	$(XTRA_OBJS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SNMP_LIBS) \
-	parser/libsquid-parser.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SSLLIB) \
 	$(EPOLL_LIBS) \
 	$(MINGW_LIBS) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 squid_DEPENDENCIES = \
 	$(DISK_LIBS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LOCAL_LIBS) \
 	$(SSL_LIBS) \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
@@ -728,41 +724,41 @@
 	int.h \
 	int.cc \
 	Mem.h \
 	mem.cc \
 	MemBuf.cc \
 	MemBuf.cci \
 	MemBuf.h \
 	Parsing.h \
 	store_key_md5.h \
 	store_key_md5.cc \
 	tests/stub_StoreMeta.cc \
 	StoreMetaUnpacker.cc \
 	String.cc \
 	SquidNew.cc \
 	tests/stub_time.cc \
 	ufsdump.cc \
 	dlink.h \
 	dlink.cc \
 	helper/ChildConfig.h \
 	tests/stub_HelperChildConfig.cc \
-	HttpRequestMethod.cc \
+	http/RequestMethod.cc \
 	RemovalPolicy.cc \
 	$(WIN32_SOURCE) \
 	fd.h \
 	tests/stub_fd.cc
 ufsdump_LDADD = \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	base/libbase.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(XTRA_OBJS) \
 	$(REPL_OBJS) \
 	$(NETTLELIB) \
 	$(CRYPTLIB) \
@@ -1056,41 +1052,41 @@
 
 test_tools.cc: $(top_srcdir)/test-suite/test_tools.cc
 	cp $(top_srcdir)/test-suite/test_tools.cc .
 
 # stock tools for unit tests - library independent versions of dlink_list 
 # etc.
 # globals.cc is needed by test_tools.cc.
 # Neither of these should be disted from here.
 TESTSOURCES= \
 	tests/STUB.h \
 	test_tools.cc \
 	globals.cc
 
 check_PROGRAMS+=\
 	tests/testBoilerplate \
 	tests/testCacheManager \
 	tests/testDiskIO \
 	tests/testEvent \
 	tests/testEventLoop \
 	tests/test_http_range \
-	tests/testHttpParser \
+	tests/testHttp1Parser \
 	tests/testHttpReply \
 	tests/testHttpRequest \
 	tests/testStore \
 	tests/testString \
 	tests/testURL \
 	tests/testSBuf \
 	tests/testSBufList \
 	tests/testConfigParser \
 	tests/testStatHist
 
 if HAVE_FS_ROCK
 check_PROGRAMS += tests/testRock
 endif
 if HAVE_FS_UFS
 check_PROGRAMS += tests/testUfs
 endif
 
 ## NP: required to run the above list. check_PROGRAMS only builds the binaries...
 TESTS += $(check_PROGRAMS)
 
@@ -1194,40 +1190,41 @@
 	tests/stub_StatHist.cc \
 	repl_modules.h \
 	tests/stub_store.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	tests/stub_HttpRequest.cc \
 	tests/testHttpReply.cc \
 	tests/testHttpReply.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testHttpReply_SOURCES=\
 	$(TESTSOURCES)
 tests_testHttpReply_LDFLAGS = $(LIBADD_DL)
 tests_testHttpReply_LDADD=\
 	CommCalls.o \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	acl/libacls.la \
 	acl/libapi.la \
 	acl/libstate.la \
 	anyp/libanyp.la \
 	ip/libip.la \
 	base/libbase.la \
 	ipc/libipc.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(NETTLELIB) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testHttpReply_DEPENDENCIES= $(SQUID_CPPUNIT_LA)
 
 tests_testACLMaxUserIP_SOURCES= \
 	cbdata.cc \
@@ -1241,41 +1238,40 @@
 	event.cc \
 	fatal.h \
 	tests/stub_fatal.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Notes.cc \
 	Notes.h \
 	SquidList.h \
 	SquidList.cc \
 	mem_node.cc \
 	Packer.cc \
 	Parsing.cc \
 	SquidMath.cc \
 	StatCounters.cc \
 	StatCounters.h \
 	StatHist.h \
 	StrList.h \
 	StrList.cc \
 	tests/stub_StatHist.cc \
 	stmem.cc \
 	$(SBUF_SOURCE) \
@@ -1330,40 +1326,41 @@
 	tests/stub_tools.cc \
 	tests/stub_cache_manager.cc \
 	tests/stub_UdsOp.cc \
 	tests/testACLMaxUserIP.cc \
 	tests/testACLMaxUserIP.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	url.cc \
 	URL.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	MemBuf.cc \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testACLMaxUserIP_SOURCES= \
 	$(TESTSOURCES)
 tests_testACLMaxUserIP_LDADD= \
 	libsquid.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	anyp/libanyp.la \
 	base/libbase.la \
 	ip/libip.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
@@ -1381,46 +1378,43 @@
 	tests/stub_debug.cc \
 	tests/stub_time.cc
 nodist_tests_testBoilerplate_SOURCES = \
 	tests/stub_cbdata.cc \
 	tests/stub_MemBuf.cc \
 	$(TESTSOURCES)
 tests_testBoilerplate_LDADD= \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	base/libbase.la \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testBoilerplate_LDFLAGS = $(LIBADD_DL)
 tests_testBoilerplate_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
 ## Tests of the CacheManager module.
 tests_testCacheManager_SOURCES = \
 	AccessLogEntry.cc \
 	debug.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	String.cc \
 	tests/testCacheManager.cc \
 	tests/testCacheManager.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
 	tests/stub_ipc_Forwarder.cc \
 	tests/stub_store_stats.cc \
 	tests/stub_EventLoop.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
 	cache_cf.h \
 	AuthReg.h \
 	YesNoNone.h \
 	YesNoNone.cc \
 	RefreshPattern.h \
 	cache_cf.cc \
 	CacheDigest.h \
@@ -1583,48 +1577,48 @@
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testCacheManager_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 # comm.cc only requires comm/libcomm.la until fdc_table is dead.
 tests_testCacheManager_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	comm/libcomm.la \
 	eui/libeui.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	anyp/libanyp.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
@@ -1666,41 +1660,40 @@
 	fde.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHdrRange.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpMsg.cc \
 	HttpReply.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	mem_node.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	refresh.h \
 	refresh.cc \
 	RemovalPolicy.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
@@ -1773,40 +1766,41 @@
 	tests/testMain.cc \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	tests/stub_time.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc \
 	tools.h \
 	tests/stub_tools.cc
 nodist_tests_testDiskIO_SOURCES= \
 	$(TESTSOURCES) \
 	$(DISKIO_GEN_SOURCE) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testDiskIO_LDADD = \
 	libsquid.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	SquidConfig.o \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	comm/libcomm.la \
 	ip/libip.la \
 	fs/libfs.la \
 	ipc/libipc.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
 	anyp/libanyp.la \
 	mgr/libmgr.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
@@ -1889,49 +1883,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2015,48 +2006,48 @@
 	tests/stub_tunnel.cc \
 	MemStore.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testEvent_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_testEvent_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
@@ -2137,49 +2128,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2263,48 +2251,48 @@
 	tests/stub_tunnel.cc \
 	MemStore.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testEventLoop_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_testEventLoop_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
@@ -2381,49 +2369,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2504,136 +2489,136 @@
 	tools.cc \
 	tests/stub_tunnel.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_test_http_range_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_test_http_range_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	parser/libsquid-parser.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_test_http_range_LDFLAGS = $(LIBADD_DL)
 tests_test_http_range_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
-tests_testHttpParser_SOURCES = \
+tests_testHttp1Parser_SOURCES = \
 	Debug.h \
-	HttpParser.cc \
-	HttpParser.h \
 	MemBuf.cc \
 	MemBuf.h \
 	tests/stub_MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
+	mime_header.cc \
+	mime_header.h \
 	String.cc \
 	cache_cf.h \
 	YesNoNone.h \
 	$(SBUF_SOURCE) \
 	tests/stub_SBufDetailedStats.cc \
 	tests/stub_cache_cf.cc \
 	tests/stub_cache_manager.cc \
 	tests/stub_comm.cc \
 	tests/stub_cbdata.cc \
 	tests/stub_debug.cc \
 	tests/stub_event.cc \
 	tests/stub_HelperChildConfig.cc \
 	tests/stub_stmem.cc \
 	tests/stub_store.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
-	tests/testHttpParser.cc \
-	tests/testHttpParser.h \
+	tests/testHttp1Parser.cc \
+	tests/testHttp1Parser.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	wordlist.h \
 	wordlist.cc
-nodist_tests_testHttpParser_SOURCES = \
+nodist_tests_testHttp1Parser_SOURCES = \
 	$(TESTSOURCES)
-tests_testHttpParser_LDADD= \
+tests_testHttp1Parser_LDADD= \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
+	anyp/libanyp.la \
 	SquidConfig.o \
 	base/libbase.la \
 	ip/libip.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
-tests_testHttpParser_LDFLAGS = $(LIBADD_DL)
-tests_testHttpParser_DEPENDENCIES = \
+tests_testHttp1Parser_LDFLAGS = $(LIBADD_DL)
+tests_testHttp1Parser_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
 ## Tests of the HttpRequest module.
 tests_testHttpRequest_SOURCES = \
 	AccessLogEntry.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	String.cc \
 	tests/testHttpRequest.h \
 	tests/testHttpRequest.cc \
 	tests/testHttpRequestMethod.h \
 	tests/testHttpRequestMethod.cc \
 	tests/testMain.cc \
 	tests/stub_DiskIOModule.cc \
 	tests/stub_libauth.cc \
 	tests/stub_main_cc.cc \
 	tests/stub_ipc_Forwarder.cc \
 	tests/stub_libeui.cc \
 	tests/stub_store_stats.cc \
 	tests/stub_EventLoop.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
 	cache_cf.h \
 	AuthReg.h \
@@ -2796,58 +2781,59 @@
 	MemStore.cc \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testHttpRequest_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testHttpRequest_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
 	helper/libhelper.la \
 	ftp/libftp.la \
+	http/libsquid-http.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	parser/libsquid-parser.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
+	parser/libsquid-parser.la \
 	base/libbase.la \
 	mgr/libmgr.la \
 	anyp/libanyp.la \
 	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
-	http/libsquid-http.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testHttpRequest_LDFLAGS = $(LIBADD_DL)
 tests_testHttpRequest_DEPENDENCIES = \
 	$(REPL_OBJS) \
 	$(SQUID_CPPUNIT_LA)
 
@@ -2870,41 +2856,40 @@
 	event.cc \
 	EventLoop.cc \
 	fatal.h \
 	tests/stub_fatal.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpMsg.cc \
-	HttpRequestMethod.cc \
 	RequestFlags.cc \
 	RequestFlags.h \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	RemovalPolicy.cc \
 	refresh.h \
 	refresh.cc \
@@ -2983,40 +2968,41 @@
 	tests/testStoreHashIndex.cc \
 	tests/testStoreHashIndex.h \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	tests/TestSwapDir.cc \
 	tests/TestSwapDir.h \
 	tests/stub_time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc
 
 nodist_tests_testStore_SOURCES= \
 	$(TESTSOURCES) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 
 tests_testStore_LDADD= \
 	libsquid.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	mgr/libmgr.la \
 	ipc/libipc.la \
 	anyp/libanyp.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	$(COMPAT_LIB) \
@@ -3138,41 +3124,40 @@
 	StoreIOState.cc \
 	StoreMetaUnpacker.cc \
 	$(STOREMETA_SOURCE) \
 	StoreFileSystem.cc \
 	store_io.cc \
 	store_swapout.cc \
 	store_swapmeta.cc \
 	$(UNLINKDSOURCE) \
 	$(WIN32_SOURCE) \
 	event.cc \
 	$(DELAY_POOL_SOURCE) \
 	CacheDigest.h \
 	tests/stub_CacheDigest.cc \
 	ConfigParser.cc \
 	EventLoop.cc \
 	HttpMsg.cc \
 	RemovalPolicy.cc \
 	store_dir.cc \
 	repl_modules.h \
 	store.cc \
-	HttpRequestMethod.cc \
 	store_key_md5.h \
 	store_key_md5.cc \
 	Parsing.cc \
 	ConfigOption.cc \
 	SwapDir.cc \
 	tests/stub_acl.cc \
 	cache_cf.h \
 	YesNoNone.h \
 	tests/stub_cache_cf.cc \
 	tests/stub_helper.cc \
 	cbdata.cc \
 	$(SBUF_SOURCE) \
 	SBufDetailedStats.h \
 	tests/stub_SBufDetailedStats.cc \
 	String.cc \
 	tests/stub_debug.cc \
 	tests/stub_client_side_request.cc \
 	tests/stub_http.cc \
 	tests/stub_libauth.cc \
 	mem_node.cc \
@@ -3212,40 +3197,41 @@
 	refresh.h \
 	refresh.cc \
 	tests/stub_store_client.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	time.cc \
 	wordlist.h \
 	wordlist.cc \
 	$(DISKIO_SOURCE)
 
 nodist_tests_testUfs_SOURCES = \
 	$(TESTSOURCES) \
 	$(DISKIO_GEN_SOURCE) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testUfs_LDADD = \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	mgr/libmgr.la \
 	$(REPL_OBJS) \
 	acl/libacls.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	comm/libcomm.la \
 	anyp/libanyp.la \
 	base/libbase.la \
@@ -3296,41 +3282,40 @@
 	fd.cc \
 	fde.h \
 	fde.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpHeaderFieldStat.h \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHdrCc.cc \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
 	HttpReply.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	mem.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mem_node.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	RemovalPolicy.cc \
 	RequestFlags.cc \
 	RequestFlags.h \
 	StatCounters.h \
 	StatCounters.cc \
@@ -3397,40 +3382,41 @@
 	store_rebuild.h \
 	tests/stub_store_rebuild.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc \
 	$(DELAY_POOL_SOURCE) \
 	$(DISKIO_SOURCE) \
 	$(UNLINKDSOURCE)
 nodist_tests_testRock_SOURCES = \
 	$(DISKIO_GEN_SOURCE) \
 	swap_log_op.cc \
 	SquidMath.cc \
 	SquidMath.h \
 	$(TESTSOURCES)
 tests_testRock_LDADD = \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	libsquid.la \
 	comm/libcomm.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(COMMON_LIBS) \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libacls.la \
 	acl/libapi.la \
 	acl/libstate.la \
 	anyp/libanyp.la \
 	eui/libeui.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
@@ -3505,49 +3491,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	multicast.h \
 	multicast.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mime.h \
@@ -3636,47 +3619,47 @@
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testURL_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testURL_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
 	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	anyp/libanyp.la \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(DISK_OS_LIBS) \
 	format/libformat.la \
 	$(REGEXLIB) \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \

=== modified file 'src/MemObject.h'
--- src/MemObject.h	2014-09-13 13:59:43 +0000
+++ src/MemObject.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_MEMOBJECT_H
 #define SQUID_MEMOBJECT_H
 
 #include "CommRead.h"
 #include "dlink.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "RemovalPolicy.h"
 #include "stmem.h"
 #include "StoreIOBuffer.h"
 #include "StoreIOState.h"
 
 #if USE_DELAY_POOLS
 #include "DelayId.h"
 #endif
 
 typedef void STMCB (void *data, StoreIOBuffer wroteBuffer);
 
 class store_client;
 class HttpRequest;
 class HttpReply;
 
 class MemObject
 {
 
 public:
     static size_t inUseCount();

=== modified file 'src/Store.h'
--- src/Store.h	2014-09-13 13:59:43 +0000
+++ src/Store.h	2014-09-14 12:23:03 +0000
@@ -1,42 +1,43 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_STORE_H
 #define SQUID_STORE_H
 
 /**
  \defgroup StoreAPI  Store API
  \ingroup FileSystems
  */
 
 #include "base/RefCount.h"
 #include "comm/forward.h"
 #include "CommRead.h"
 #include "hash.h"
+#include "http/forward.h"
+#include "http/RequestMethod.h"
 #include "HttpReply.h"
-#include "HttpRequestMethod.h"
 #include "MemObject.h"
 #include "Range.h"
 #include "RemovalPolicy.h"
 #include "StoreIOBuffer.h"
 #include "StoreStats.h"
 
 #if USE_SQUID_ESI
 #include "esi/Element.h"
 #endif
 
 #include <ostream>
 
 class AsyncCall;
 class HttpRequest;
 class Packer;
 class RequestFlags;
 class StoreClient;
 class StoreSearch;
 class SwapDir;
 

=== modified file 'src/acl/Method.h'
--- src/acl/Method.h	2014-09-13 13:59:43 +0000
+++ src/acl/Method.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_ACLMETHOD_H
 #define SQUID_ACLMETHOD_H
 
 #include "acl/Strategised.h"
 #include "acl/Strategy.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 /// \ingroup ACLAPI
 class ACLMethodStrategy : public ACLStrategy<HttpRequestMethod>
 {
 
 public:
     virtual int match (ACLData<MatchType> * &, ACLFilledChecklist *, ACLFlags &);
     virtual bool requiresRequest() const {return true;}
 
     static ACLMethodStrategy *Instance();
 
     /**
      * Not implemented to prevent copies of the instance.
      \par
      * Not private to prevent brain dead g+++ warnings about
      * private constructors with no friends
      */
     ACLMethodStrategy(ACLMethodStrategy const &);
 
 private:

=== modified file 'src/acl/MethodData.cc'
--- src/acl/MethodData.cc	2014-09-13 13:59:43 +0000
+++ src/acl/MethodData.cc	2014-09-14 12:23:03 +0000
@@ -1,35 +1,35 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 28    Access Control */
 
 #include "squid.h"
 #include "acl/Checklist.h"
 #include "acl/MethodData.h"
 #include "cache_cf.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 int ACLMethodData::ThePurgeCount = 0;
 
 ACLMethodData::ACLMethodData() : values (NULL)
 {}
 
 ACLMethodData::ACLMethodData(ACLMethodData const &old) : values (NULL)
 {
     assert (!old.values);
 }
 
 ACLMethodData::~ACLMethodData()
 {
     if (values)
         delete values;
 }
 
 /// todo make this a pass-by-reference now that HTTPRequestMethods a full class?
 bool
 ACLMethodData::match(HttpRequestMethod toFind)
@@ -48,40 +48,40 @@
 {
     SBufList sl;
     CbDataList<HttpRequestMethod> *data = values;
 
     while (data != NULL) {
         sl.push_back(data->element.image());
         data = data->next;
     }
 
     return sl;
 }
 
 void
 ACLMethodData::parse()
 {
     CbDataList<HttpRequestMethod> **Tail;
     char *t = NULL;
 
     for (Tail = &values; *Tail; Tail = &((*Tail)->next));
     while ((t = strtokFile())) {
-        CbDataList<HttpRequestMethod> *q = new CbDataList<HttpRequestMethod> (HttpRequestMethod(t, NULL));
+        CbDataList<HttpRequestMethod> *q = new CbDataList<HttpRequestMethod> (HttpRequestMethod(t));
         if (q->element == Http::METHOD_PURGE)
             ++ThePurgeCount; // configuration code wants to know
         *(Tail) = q;
         Tail = &q->next;
     }
 }
 
 bool
 ACLMethodData::empty() const
 {
     return values == NULL;
 }
 
 ACLData<HttpRequestMethod> *
 ACLMethodData::clone() const
 {
     assert (!values);
     return new ACLMethodData(*this);
 }

=== modified file 'src/acl/MethodData.h'
--- src/acl/MethodData.h	2014-09-13 13:59:43 +0000
+++ src/acl/MethodData.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,35 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_ACLMETHODDATA_H
 #define SQUID_ACLMETHODDATA_H
 
 #include "acl/Acl.h"
 #include "acl/Data.h"
 #include "CbDataList.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 /// \ingroup ACLAPI
 class ACLMethodData : public ACLData<HttpRequestMethod>
 {
 
 public:
     MEMPROXY_CLASS(ACLMethodData);
 
     ACLMethodData();
     ACLMethodData(ACLMethodData const &);
     ACLMethodData &operator= (ACLMethodData const &);
     virtual ~ACLMethodData();
     bool match(HttpRequestMethod);
     virtual SBufList dump() const;
     void parse();
     bool empty() const;
     virtual ACLData<HttpRequestMethod> *clone() const;
 
     CbDataList<HttpRequestMethod> *values;
 

=== modified file 'src/cache_cf.cc'
--- src/cache_cf.cc	2014-09-13 13:59:43 +0000
+++ src/cache_cf.cc	2014-09-14 12:23:03 +0000
@@ -16,41 +16,40 @@
 #include "acl/AclSizeLimit.h"
 #include "acl/Gadgets.h"
 #include "acl/MethodData.h"
 #include "acl/Tree.h"
 #include "anyp/PortCfg.h"
 #include "anyp/UriScheme.h"
 #include "AuthReg.h"
 #include "base/RunnersRegistry.h"
 #include "cache_cf.h"
 #include "CachePeer.h"
 #include "CachePeerDomainList.h"
 #include "ConfigParser.h"
 #include "CpuAffinityMap.h"
 #include "DiskIO/DiskIOModule.h"
 #include "eui/Config.h"
 #include "ExternalACL.h"
 #include "format/Format.h"
 #include "ftp/Elements.h"
 #include "globals.h"
 #include "HttpHeaderTools.h"
-#include "HttpRequestMethod.h"
 #include "ident/Config.h"
 #include "ip/Intercept.h"
 #include "ip/QosConfig.h"
 #include "ip/tools.h"
 #include "ipc/Kids.h"
 #include "log/Config.h"
 #include "log/CustomLog.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "mgr/ActionPasswordList.h"
 #include "mgr/Registration.h"
 #include "neighbors.h"
 #include "NeighborTypeDomainList.h"
 #include "Parsing.h"
 #include "pconn.h"
 #include "PeerDigest.h"
 #include "PeerPoolMgr.h"
 #include "RefreshPattern.h"
 #include "rfc1738.h"
 #include "SBufList.h"

=== modified file 'src/client_side.cc'
--- src/client_side.cc	2014-10-07 14:11:12 +0000
+++ src/client_side.cc	2014-10-11 10:26:17 +0000
@@ -69,40 +69,41 @@
 #include "client_side_reply.h"
 #include "client_side_request.h"
 #include "ClientRequestContext.h"
 #include "clientStream.h"
 #include "comm.h"
 #include "comm/Connection.h"
 #include "comm/Loops.h"
 #include "comm/Read.h"
 #include "comm/TcpAcceptor.h"
 #include "comm/Write.h"
 #include "CommCalls.h"
 #include "errorpage.h"
 #include "fd.h"
 #include "fde.h"
 #include "fqdncache.h"
 #include "FwdState.h"
 #include "globals.h"
 #include "helper.h"
 #include "helper/Reply.h"
 #include "http.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrContRange.h"
 #include "HttpHeaderTools.h"
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "ident/Config.h"
 #include "ident/Ident.h"
 #include "internal.h"
 #include "ipc/FdNotes.h"
 #include "ipc/StartListening.h"
 #include "log/access_log.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "MemObject.h"
 #include "mime_header.h"
 #include "parser/Tokenizer.h"
 #include "profiler/Profiler.h"
 #include "rfc1738.h"
 #include "servers/forward.h"
 #include "SquidConfig.h"
 #include "SquidTime.h"
@@ -181,41 +182,40 @@
 #endif
 static CTCB clientLifetimeTimeout;
 #if USE_IDENT
 static IDCB clientIdentDone;
 #endif
 static int clientIsContentLengthValid(HttpRequest * r);
 static int clientIsRequestBodyTooLargeForPolicy(int64_t bodyLength);
 
 static void clientUpdateStatHistCounters(LogTags logType, int svc_time);
 static void clientUpdateStatCounters(LogTags logType);
 static void clientUpdateHierCounters(HierarchyLogEntry *);
 static bool clientPingHasFinished(ping_data const *aPing);
 void prepareLogWithRequestDetails(HttpRequest *, AccessLogEntry::Pointer &);
 #ifndef PURIFY
 static bool connIsUsable(ConnStateData * conn);
 #endif
 static void ClientSocketContextPushDeferredIfNeeded(ClientSocketContext::Pointer deferredRequest, ConnStateData * conn);
 static void clientUpdateSocketStats(LogTags logType, size_t size);
 
 char *skipLeadingSpace(char *aString);
-static void connNoteUseOfBuffer(ConnStateData* conn, size_t byteCount);
 
 clientStreamNode *
 ClientSocketContext::getTail() const
 {
     if (http->client_stream.tail)
         return (clientStreamNode *)http->client_stream.tail->data;
 
     return NULL;
 }
 
 clientStreamNode *
 ClientSocketContext::getClientReplyContext() const
 {
     return (clientStreamNode *)http->client_stream.tail->prev->data;
 }
 
 ConnStateData *
 ClientSocketContext::getConn() const
 {
     return http->getConn();
@@ -1979,359 +1979,307 @@
             char *tmp_uri = static_cast<char*>(xmalloc(strlen(uri) + 1));
             char *q = tmp_uri;
             t = uri;
             while (*t) {
                 if (!xisspace(*t)) {
                     *q = *t;
                     ++q;
                 }
                 ++t;
             }
             *q = '\0';
             http->log_uri = xstrndup(rfc1738_escape_unescaped(tmp_uri), MAX_URL);
             xfree(tmp_uri);
         }
         break;
         }
     }
 }
 
 static void
-prepareAcceleratedURL(ConnStateData * conn, ClientHttpRequest *http, char *url, const char *req_hdr)
+prepareAcceleratedURL(ConnStateData * conn, ClientHttpRequest *http, const Http1::RequestParserPointer &hp)
 {
     int vhost = conn->port->vhost;
     int vport = conn->port->vport;
-    char *host;
-    char ipbuf[MAX_IPSTRLEN];
+    static char ipbuf[MAX_IPSTRLEN];
 
     http->flags.accel = true;
 
     /* BUG: Squid cannot deal with '*' URLs (RFC2616 5.1.2) */
 
-    if (strncasecmp(url, "cache_object://", 15) == 0)
+    static const SBuf cache_object("cache_object://");
+    if (hp->requestUri().startsWith(cache_object))
         return; /* already in good shape */
 
-    if (*url != '/') {
+    // XXX: re-use proper URL parser for this
+    SBuf url = hp->requestUri(); // use full provided URI if we abort
+    do { // use a loop so we can break out of it
+        ::Parser::Tokenizer tok(url);
+        if (tok.remaining()[0] == '/')
+            break;
+
         if (conn->port->vhost)
             return; /* already in good shape */
 
-        /* else we need to ignore the host name */
-        url = strstr(url, "//");
+        // skip the URI scheme
+        static const CharacterSet uriScheme = CharacterSet("URI-scheme","+-.") + CharacterSet::ALPHA + CharacterSet::DIGIT;
+        static const SBuf uriSchemeEnd("://");
+        if (!tok.skipAll(uriScheme) || !tok.skip(uriSchemeEnd))
+            break;
 
-#if SHOULD_REJECT_UNKNOWN_URLS
+        // skip the authority segment
+        // RFC 3986 complex nested ABNF for "authority" boils down to this:
+        static const CharacterSet authority = CharacterSet("authority","-._~%:@[]!$&'()*+,;=") +
+             CharacterSet::HEXDIG + CharacterSet::ALPHA + CharacterSet::DIGIT;
+        if (!tok.skipAll(authority))
+            break;
 
-        if (!url) {
-            hp->request_parse_status = Http::scBadRequest;
-            return conn->abortRequestParsing("error:invalid-request");
-        }
-#endif
+        static const SBuf slashUri("/");
+        const SBuf t = tok.remaining();
+        if (t.isEmpty())
+            url = slashUri;
+        else if (t[0]=='/') // looks like path
+            url = t;
+        else if (t[0]=='?' || t[0]=='#') { // looks like query or fragment. fix '/'
+            url = slashUri;
+            url.append(t);
+        } // else do nothing. invalid path
 
-        if (url)
-            url = strchr(url + 2, '/');
+    } while(false);
 
-        if (!url)
-            url = (char *) "/";
+#if SHOULD_REJECT_UNKNOWN_URLS
+    // reject URI which are not well-formed even after the processing above
+    if (url[0] != '/') {
+        hp->request_parse_status = Http::scBadRequest;
+        return conn->abortRequestParsing("error:invalid-request");
     }
+#endif
 
     if (vport < 0)
         vport = http->getConn()->clientConnection->local.port();
 
     const bool switchedToHttps = conn->switchedToHttps();
     const bool tryHostHeader = vhost || switchedToHttps;
-    if (tryHostHeader && (host = mime_get_header(req_hdr, "Host")) != NULL) {
+    char *host = NULL;
+    if (tryHostHeader && (host = hp->getHeaderField("Host"))) {
         debugs(33, 5, "ACCEL VHOST REWRITE: vhost=" << host << " + vport=" << vport);
         char thost[256];
         if (vport > 0) {
             thost[0] = '\0';
             char *t = NULL;
             if (host[strlen(host)] != ']' && (t = strrchr(host,':')) != NULL) {
                 strncpy(thost, host, (t-host));
                 snprintf(thost+(t-host), sizeof(thost)-(t-host), ":%d", vport);
                 host = thost;
             } else if (!t) {
                 snprintf(thost, sizeof(thost), "%s:%d",host, vport);
                 host = thost;
             }
         } // else nothing to alter port-wise.
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
-                     strlen(host);
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen + strlen(host);
         http->uri = (char *)xcalloc(url_sz, 1);
         const char *protocol = switchedToHttps ?
                                "https" : AnyP::UriScheme(conn->port->transport.protocol).c_str();
-        snprintf(http->uri, url_sz, "%s://%s%s", protocol, host, url);
-        debugs(33, 5, "ACCEL VHOST REWRITE: '" << http->uri << "'");
+        snprintf(http->uri, url_sz, "%s://%s" SQUIDSBUFPH, protocol, host, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL VHOST REWRITE: " << http->uri);
     } else if (conn->port->defaultsite /* && !vhost */) {
         debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: defaultsite=" << conn->port->defaultsite << " + vport=" << vport);
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen +
                      strlen(conn->port->defaultsite);
         http->uri = (char *)xcalloc(url_sz, 1);
         char vportStr[32];
         vportStr[0] = '\0';
         if (vport > 0) {
             snprintf(vportStr, sizeof(vportStr),":%d",vport);
         }
-        snprintf(http->uri, url_sz, "%s://%s%s%s",
-                 AnyP::UriScheme(conn->port->transport.protocol).c_str(), conn->port->defaultsite, vportStr, url);
-        debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: '" << http->uri <<"'");
+        snprintf(http->uri, url_sz, "%s://%s%s" SQUIDSBUFPH,
+                 AnyP::UriScheme(conn->port->transport.protocol).c_str(), conn->port->defaultsite, vportStr, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: " << http->uri);
     } else if (vport > 0 /* && (!vhost || no Host:) */) {
         debugs(33, 5, "ACCEL VPORT REWRITE: *_port IP + vport=" << vport);
         /* Put the local socket IP address as the hostname, with whatever vport we found  */
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen;
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen;
         http->uri = (char *)xcalloc(url_sz, 1);
         http->getConn()->clientConnection->local.toHostStr(ipbuf,MAX_IPSTRLEN);
-        snprintf(http->uri, url_sz, "%s://%s:%d%s",
+        snprintf(http->uri, url_sz, "%s://%s:%d" SQUIDSBUFPH,
                  AnyP::UriScheme(conn->port->transport.protocol).c_str(),
-                 ipbuf, vport, url);
-        debugs(33, 5, "ACCEL VPORT REWRITE: '" << http->uri << "'");
+                 ipbuf, vport, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL VPORT REWRITE: " << http->uri);
     }
 }
 
 static void
-prepareTransparentURL(ConnStateData * conn, ClientHttpRequest *http, char *url, const char *req_hdr)
+prepareTransparentURL(ConnStateData * conn, ClientHttpRequest *http, const Http1::RequestParserPointer &hp)
 {
-    char *host;
-    char ipbuf[MAX_IPSTRLEN];
+    static char ipbuf[MAX_IPSTRLEN];
 
-    if (*url != '/')
+    // TODO Must() on URI !empty when the parser supports throw. For now avoid assert().
+    if (!hp->requestUri().isEmpty() && hp->requestUri()[0] != '/')
         return; /* already in good shape */
 
     /* BUG: Squid cannot deal with '*' URLs (RFC2616 5.1.2) */
 
-    if ((host = mime_get_header(req_hdr, "Host")) != NULL) {
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
+    if (const char *host = hp->getHeaderField("Host")) {
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen +
                      strlen(host);
         http->uri = (char *)xcalloc(url_sz, 1);
-        snprintf(http->uri, url_sz, "%s://%s%s", AnyP::UriScheme(conn->port->transport.protocol).c_str(), host, url);
-        debugs(33, 5, "TRANSPARENT HOST REWRITE: '" << http->uri <<"'");
+        snprintf(http->uri, url_sz, "%s://%s" SQUIDSBUFPH,
+             AnyP::UriScheme(conn->port->transport.protocol).c_str(), host, SQUIDSBUFPRINT(hp->requestUri()));
+        debugs(33, 5, "TRANSPARENT HOST REWRITE: " << http->uri);
     } else {
         /* Put the local socket IP address as the hostname.  */
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen;
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen;
         http->uri = (char *)xcalloc(url_sz, 1);
         http->getConn()->clientConnection->local.toHostStr(ipbuf,MAX_IPSTRLEN);
-        snprintf(http->uri, url_sz, "%s://%s:%d%s",
+        snprintf(http->uri, url_sz, "%s://%s:%d" SQUIDSBUFPH,
                  AnyP::UriScheme(http->getConn()->port->transport.protocol).c_str(),
-                 ipbuf, http->getConn()->clientConnection->local.port(), url);
-        debugs(33, 5, "TRANSPARENT REWRITE: '" << http->uri << "'");
+                 ipbuf, http->getConn()->clientConnection->local.port(), SQUIDSBUFPRINT(hp->requestUri()));
+        debugs(33, 5, "TRANSPARENT REWRITE: " << http->uri);
     }
 }
 
 /** Parse an HTTP request
  *
  *  \note Sets result->flags.parsed_ok to 0 if failed to parse the request,
  *          to 1 if the request was correctly parsed.
  *  \param[in] csd a ConnStateData. The caller must make sure it is not null
- *  \param[in] hp an HttpParser
+ *  \param[in] hp an Http1::RequestParser
  *  \param[out] mehtod_p will be set as a side-effect of the parsing.
  *          Pointed-to value will be set to Http::METHOD_NONE in case of
  *          parsing failure
  *  \param[out] http_ver will be set as a side-effect of the parsing
  *  \return NULL on incomplete requests,
  *          a ClientSocketContext structure on success or failure.
  */
 ClientSocketContext *
-parseHttpRequest(ConnStateData *csd, HttpParser *hp, HttpRequestMethod * method_p, Http::ProtocolVersion *http_ver)
+parseHttpRequest(ConnStateData *csd, const Http1::RequestParserPointer &hp)
 {
-    char *req_hdr = NULL;
-    char *end;
-    size_t req_sz;
-    ClientHttpRequest *http;
-    ClientSocketContext *result;
-    StoreIOBuffer tempBuffer;
-    int r;
-
-    /* pre-set these values to make aborting simpler */
-    *method_p = Http::METHOD_NONE;
-
-    /* NP: don't be tempted to move this down or remove again.
-     * It's the only DDoS protection old-String has against long URL */
-    if ( hp->bufsiz <= 0) {
-        debugs(33, 5, "Incomplete request, waiting for end of request line");
-        return NULL;
-    } else if ( (size_t)hp->bufsiz >= Config.maxRequestHeaderSize && headersEnd(hp->buf, Config.maxRequestHeaderSize) == 0) {
-        debugs(33, 5, "parseHttpRequest: Too large request");
-        hp->request_parse_status = Http::scHeaderTooLarge;
-        return csd->abortRequestParsing("error:request-too-large");
-    }
-
-    /* Attempt to parse the first line; this'll define the method, url, version and header begin */
-    r = HttpParserParseReqLine(hp);
-
-    if (r == 0) {
-        debugs(33, 5, "Incomplete request, waiting for end of request line");
-        return NULL;
-    }
-
-    if (r == -1) {
-        return csd->abortRequestParsing("error:invalid-request");
-    }
+    /* Attempt to parse the first line; this will define where the method, url, version and header begin */
+    {
+        const bool parsedOk = hp->parse(csd->in.buf);
 
-    /* Request line is valid here .. */
-    *http_ver = Http::ProtocolVersion(hp->req.v_maj, hp->req.v_min);
+        // sync the buffers after parsing.
+        csd->in.buf = hp->remaining();
 
-    /* This call scans the entire request, not just the headers */
-    if (hp->req.v_maj > 0) {
-        if ((req_sz = headersEnd(hp->buf, hp->bufsiz)) == 0) {
-            debugs(33, 5, "Incomplete request, waiting for end of headers");
+        if (hp->needsMoreData()) {
+            debugs(33, 5, "Incomplete request, waiting for end of request line");
             return NULL;
         }
-    } else {
-        debugs(33, 3, "parseHttpRequest: Missing HTTP identifier");
-        req_sz = HttpParserReqSz(hp);
-    }
-
-    /* We know the whole request is in hp->buf now */
-
-    assert(req_sz <= (size_t) hp->bufsiz);
-
-    /* Will the following be true with HTTP/0.9 requests? probably not .. */
-    /* So the rest of the code will need to deal with '0'-byte headers (ie, none, so don't try parsing em) */
-    assert(req_sz > 0);
 
-    hp->hdr_end = req_sz - 1;
+        if (!parsedOk) {
+            if (hp->request_parse_status == Http::scRequestHeaderFieldsTooLarge || hp->request_parse_status == Http::scUriTooLong)
+                return csd->abortRequestParsing("error:request-too-large");
 
-    hp->hdr_start = hp->req.end + 1;
-
-    /* Enforce max_request_size */
-    if (req_sz >= Config.maxRequestHeaderSize) {
-        debugs(33, 5, "parseHttpRequest: Too large request");
-        hp->request_parse_status = Http::scHeaderTooLarge;
-        return csd->abortRequestParsing("error:request-too-large");
+            return csd->abortRequestParsing("error:invalid-request");
+        }
     }
 
-    /* Set method_p */
-    *method_p = HttpRequestMethod(&hp->buf[hp->req.m_start], &hp->buf[hp->req.m_end]+1);
+    /* We know the whole request is in parser now */
+    debugs(11, 2, "HTTP Client " << csd->clientConnection);
+    debugs(11, 2, "HTTP Client REQUEST:\n---------\n" <<
+           hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol() << "\n" <<
+           hp->mimeHeader() <<
+           "\n----------");
 
     /* deny CONNECT via accelerated ports */
-    if (*method_p == Http::METHOD_CONNECT && csd->port != NULL && csd->port->flags.accelSurrogate) {
+    if (hp->method() == Http::METHOD_CONNECT && csd->port != NULL && csd->port->flags.accelSurrogate) {
         debugs(33, DBG_IMPORTANT, "WARNING: CONNECT method received on " << csd->port->transport.protocol << " Accelerator port " << csd->port->s.port());
-        /* XXX need a way to say "this many character length string" */
-        debugs(33, DBG_IMPORTANT, "WARNING: for request: " << hp->buf);
+        debugs(33, DBG_IMPORTANT, "WARNING: for request: " << hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol());
         hp->request_parse_status = Http::scMethodNotAllowed;
         return csd->abortRequestParsing("error:method-not-allowed");
     }
 
-    if (*method_p == Http::METHOD_NONE) {
-        /* XXX need a way to say "this many character length string" */
-        debugs(33, DBG_IMPORTANT, "clientParseRequestMethod: Unsupported method in request '" << hp->buf << "'");
+    if (hp->method() == Http::METHOD_NONE) {
+        debugs(33, DBG_IMPORTANT, "WARNING: Unsupported method: " << hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol());
         hp->request_parse_status = Http::scMethodNotAllowed;
         return csd->abortRequestParsing("error:unsupported-request-method");
     }
 
-    /*
-     * Process headers after request line
-     * TODO: Use httpRequestParse here.
-     */
-    /* XXX this code should be modified to take a const char * later! */
-    req_hdr = (char *) hp->buf + hp->req.end + 1;
-
-    debugs(33, 3, "parseHttpRequest: req_hdr = {" << req_hdr << "}");
-
-    end = (char *) hp->buf + hp->hdr_end;
-
-    debugs(33, 3, "parseHttpRequest: end = {" << end << "}");
-
-    debugs(33, 3, "parseHttpRequest: prefix_sz = " <<
-           (int) HttpParserRequestLen(hp) << ", req_line_sz = " <<
-           HttpParserReqSz(hp));
+    // Process headers after request line
+    debugs(33, 3, "complete request received. " <<
+           "prefix_sz = " << hp->messageHeaderSize() <<
+           ", request-line-size=" << hp->firstLineSize() <<
+           ", mime-header-size=" << hp->headerBlockSize() <<
+           ", mime header block:\n" << hp->mimeHeader() << "\n----------");
 
     /* Ok, all headers are received */
-    http = new ClientHttpRequest(csd);
+    ClientHttpRequest *http = new ClientHttpRequest(csd);
 
-    http->req_sz = HttpParserRequestLen(hp);
-    result = new ClientSocketContext(csd->clientConnection, http);
+    http->req_sz = hp->messageHeaderSize();
+    ClientSocketContext *result = new ClientSocketContext(csd->clientConnection, http);
+
+    StoreIOBuffer tempBuffer;
     tempBuffer.data = result->reqbuf;
     tempBuffer.length = HTTP_REQBUF_SZ;
 
     ClientStreamData newServer = new clientReplyContext(http);
     ClientStreamData newClient = result;
     clientStreamInit(&http->client_stream, clientGetMoreData, clientReplyDetach,
                      clientReplyStatus, newServer, clientSocketRecipient,
                      clientSocketDetach, newClient, tempBuffer);
 
-    debugs(33, 5, "parseHttpRequest: Request Header is\n" <<(hp->buf) + hp->hdr_start);
-
     /* set url */
-    /*
-     * XXX this should eventually not use a malloc'ed buffer; the transformation code
-     * below needs to be modified to not expect a mutable nul-terminated string.
-     */
-    char *url = (char *)xmalloc(hp->req.u_end - hp->req.u_start + 16);
-
-    memcpy(url, hp->buf + hp->req.u_start, hp->req.u_end - hp->req.u_start + 1);
-
-    url[hp->req.u_end - hp->req.u_start + 1] = '\0';
-
-#if THIS_VIOLATES_HTTP_SPECS_ON_URL_TRANSFORMATION
-
-    if ((t = strchr(url, '#')))	/* remove HTML anchors */
-        *t = '\0';
-
-#endif
+    // XXX: c_str() does re-allocate but here replaces explicit malloc/free.
+    // when internalCheck() accepts SBuf removing this will be a net gain for performance.
+    const char *url = SBuf(hp->requestUri()).c_str();
 
     debugs(33,5, HERE << "repare absolute URL from " <<
            (csd->transparent()?"intercept":(csd->port->flags.accelSurrogate ? "accel":"")));
     /* Rewrite the URL in transparent or accelerator mode */
     /* NP: there are several cases to traverse here:
      *  - standard mode (forward proxy)
      *  - transparent mode (TPROXY)
      *  - transparent mode with failures
      *  - intercept mode (NAT)
      *  - intercept mode with failures
      *  - accelerator mode (reverse proxy)
      *  - internal URL
      *  - mixed combos of the above with internal URL
      *  - remote interception with PROXY protocol
      *  - remote reverse-proxy with PROXY protocol
      */
     if (csd->transparent()) {
         /* intercept or transparent mode, properly working with no failures */
-        prepareTransparentURL(csd, http, url, req_hdr);
+        prepareTransparentURL(csd, http, hp);
 
     } else if (internalCheck(url)) {
         /* internal URL mode */
         /* prepend our name & port */
         http->uri = xstrdup(internalLocalUri(NULL, url));
         // We just re-wrote the URL. Must replace the Host: header.
         //  But have not parsed there yet!! flag for local-only handling.
         http->flags.internal = true;
 
     } else if (csd->port->flags.accelSurrogate || csd->switchedToHttps()) {
         /* accelerator mode */
-        prepareAcceleratedURL(csd, http, url, req_hdr);
+        prepareAcceleratedURL(csd, http, hp);
     }
 
     if (!http->uri) {
         /* No special rewrites have been applied above, use the
          * requested url. may be rewritten later, so make extra room */
-        int url_sz = strlen(url) + Config.appendDomainLen + 5;
+        int url_sz = hp->requestUri().length() + Config.appendDomainLen + 5;
         http->uri = (char *)xcalloc(url_sz, 1);
         strcpy(http->uri, url);
     }
 
-    debugs(33, 5, "parseHttpRequest: Complete request received");
-
-    // XXX: crop this dump at the end of headers. No need for extras
-    debugs(11, 2, "HTTP Client " << csd->clientConnection);
-    debugs(11, 2, "HTTP Client REQUEST:\n---------\n" << (hp->buf) + hp->req.m_start << "\n----------");
-
     result->flags.parsed_ok = 1;
-    xfree(url);
     return result;
 }
 
 bool
 ConnStateData::In::maybeMakeSpaceAvailable()
 {
     if (buf.spaceSize() < 2) {
         const SBuf::size_type haveCapacity = buf.length() + buf.spaceSize();
         if (haveCapacity >= Config.maxRequestBufferSize) {
             debugs(33, 4, "request buffer full: client_request_buffer_max_size=" << Config.maxRequestBufferSize);
             return false;
         }
         if (haveCapacity == 0) {
             // haveCapacity is based on the SBuf visible window of the MemBlob buffer, which may fill up.
             // at which point bump the buffer back to default. This allocates a new MemBlob with any un-parsed bytes.
             buf.reserveCapacity(CLIENT_REQ_BUF_SZ);
         } else {
             const SBuf::size_type wantCapacity = min(static_cast<SBuf::size_type>(Config.maxRequestBufferSize), haveCapacity*2);
             buf.reserveCapacity(wantCapacity);
         }
@@ -2373,47 +2321,40 @@
             return 1;
         } else if (!Config.onoff.half_closed_clients) {
             /* admin doesn't want to support half-closed client sockets */
             debugs(33, 3, HERE << clientConnection << " aborted (half_closed_clients disabled)");
             notifyAllContexts(0); // no specific error implies abort
             return 1;
         }
     }
 
     return 0;
 }
 
 void
 ConnStateData::consumeInput(const size_t byteCount)
 {
     assert(byteCount > 0 && byteCount <= in.buf.length());
     in.buf.consume(byteCount);
     debugs(33, 5, "in.buf has " << in.buf.length() << " unused bytes");
 }
 
-// TODO: Remove when renaming ConnStateData
-void
-connNoteUseOfBuffer(ConnStateData* conn, size_t byteCount)
-{
-    conn->consumeInput(byteCount);
-}
-
 void
 ConnStateData::clientAfterReadingRequests()
 {
     // Were we expecting to read more request body from half-closed connection?
     if (mayNeedToReadMoreBody() && commIsHalfClosed(clientConnection->fd)) {
         debugs(33, 3, HERE << "truncated body: closing half-closed " << clientConnection);
         clientConnection->close();
         return;
     }
 
     if (flags.readMore)
         readSomeData();
 }
 
 void
 ConnStateData::quitAfterError(HttpRequest *request)
 {
     // From HTTP p.o.v., we do not have to close after every error detected
     // at the client-side, but many such errors do require closure and the
     // client-side code is bad at handling errors so we play it safe.
@@ -2499,149 +2440,150 @@
                 }
                 repContext->setReplyToError(request->method, err);
                 assert(context->http->out.offset == 0);
                 context->pullData();
                 return true;
             }
         }
     }
 
     return false;
 }
 #endif // USE_OPENSSL
 
 static void
 clientProcessRequestFinished(ConnStateData *conn, const HttpRequest::Pointer &request)
 {
     /*
      * DPW 2007-05-18
      * Moved the TCP_RESET feature from clientReplyContext::sendMoreData
      * to here because calling comm_reset_close() causes http to
-     * be freed and the above connNoteUseOfBuffer() would hit an
-     * assertion, not to mention that we were accessing freed memory.
+     * be freed before accessing.
      */
     if (request != NULL && request->flags.resetTcp && Comm::IsConnOpen(conn->clientConnection)) {
         debugs(33, 3, HERE << "Sending TCP RST on " << conn->clientConnection);
         conn->flags.readMore = false;
         comm_reset_close(conn->clientConnection);
     }
 }
 
 void
-clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *context, const HttpRequestMethod& method, Http::ProtocolVersion http_ver)
+clientProcessRequest(ConnStateData *conn, const Http1::RequestParserPointer &hp, ClientSocketContext *context)
 {
     ClientHttpRequest *http = context->http;
     HttpRequest::Pointer request;
-    bool notedUseOfBuffer = false;
     bool chunked = false;
     bool mustReplyToOptions = false;
     bool unsupportedTe = false;
     bool expectBody = false;
 
     // temporary hack to avoid splitting this huge function with sensitive code
-    const bool isFtp = !hp;
+    const bool isFtp = (hp == NULL);
+    const HttpRequestMethod &method = !isFtp ? hp->method() : Http::METHOD_NONE; // XXX: or should this be GET ?
     if (isFtp) {
         // In FTP, case, we already have the request parsed and checked, so we
         // only need to go through the final body/conn setup to doCallouts().
         assert(http->request);
         request = http->request;
-        notedUseOfBuffer = true;
     } else {
 
         if (context->flags.parsed_ok == 0) {
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 2, "clientProcessRequest: Invalid Request");
+            debugs(33, 2, "Invalid Request");
             conn->quitAfterError(NULL);
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
+            assert(repContext);
+
+            // determine which error page templates to use for specific parsing errors
+            err_type errPage = ERR_INVALID_REQ;
             switch (hp->request_parse_status) {
-            case Http::scHeaderTooLarge:
-                repContext->setReplyToError(ERR_TOO_BIG, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+            case Http::scRequestHeaderFieldsTooLarge:
+                // fall through to next case
+            case Http::scUriTooLong:
+                errPage = ERR_TOO_BIG;
                 break;
             case Http::scMethodNotAllowed:
-                repContext->setReplyToError(ERR_UNSUP_REQ, Http::scMethodNotAllowed, method, http->uri,
-                                            conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+                errPage = ERR_UNSUP_REQ;
+                break;
+            case Http::scHttpVersionNotSupported:
+                errPage = ERR_UNSUP_HTTPVERSION;
                 break;
             default:
-                repContext->setReplyToError(ERR_INVALID_REQ, hp->request_parse_status, method, http->uri,
-                                            conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+                // use default ERR_INVALID_REQ set above.
+                break;
             }
+            repContext->setReplyToError(errPage, hp->request_parse_status, hp->method(), http->uri,
+                                        conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             return;
         }
 
-        if ((request = HttpRequest::CreateFromUrlAndMethod(http->uri, method)) == NULL) {
+        if ((request = HttpRequest::CreateFromUrlAndMethod(http->uri, hp->method())) == NULL) {
             clientStreamNode *node = context->getClientReplyContext();
             debugs(33, 5, "Invalid URL: " << http->uri);
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_URL, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
+            assert(repContext);
+            repContext->setReplyToError(ERR_INVALID_URL, Http::scBadRequest, hp->method(), http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             return;
         }
 
         /* RFC 2616 section 10.5.6 : handle unsupported HTTP major versions cleanly. */
         /* We currently only support 0.9, 1.0, 1.1 properly */
         /* TODO: move HTTP-specific processing into servers/HttpServer and such */
-        if ( (http_ver.major == 0 && http_ver.minor != 9) ||
-                (http_ver.major > 1) ) {
+        if ( (hp->messageProtocol().major == 0 && hp->messageProtocol().minor != 9) ||
+                (hp->messageProtocol().major > 1) ) {
 
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 5, "Unsupported HTTP version discovered. :\n" << HttpParserHdrBuf(hp));
+            debugs(33, 5, "Unsupported HTTP version discovered. :\n" << hp->messageProtocol());
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
             setLogUri(http, http->uri,  true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
             repContext->setReplyToError(ERR_UNSUP_HTTPVERSION, Http::scHttpVersionNotSupported, method, http->uri,
-                                        conn->clientConnection->remote, NULL, HttpParserHdrBuf(hp), NULL);
+                                        conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
 
         /* compile headers */
-        /* we should skip request line! */
-        /* XXX should actually know the damned buffer size here */
-        if (http_ver.major >= 1 && !request->parseHeader(HttpParserHdrBuf(hp), HttpParserHdrSz(hp))) {
+        if (hp->messageProtocol().major >= 1 && !request->parseHeader(*hp)) {
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 5, "Failed to parse request headers:\n" << HttpParserHdrBuf(hp));
+            debugs(33, 5, "Failed to parse request headers:\n" << hp->mimeHeader());
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_REQ, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
+            assert(repContext);
+            repContext->setReplyToError(ERR_INVALID_REQ, Http::scBadRequest, hp->method(), http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
     }
 
     // Some blobs below are still HTTP-specific, but we would have to rewrite
     // this entire function to remove them from the FTP code path. Connection
     // setup and body_pipe preparation blobs are needed for FTP.
 
     request->clientConnectionManager = conn;
 
     request->flags.accelerated = http->flags.accel;
     request->flags.sslBumped=conn->switchedToHttps();
     request->flags.ignoreCc = conn->port->ignore_cc;
     // TODO: decouple http->flags.accel from request->flags.sslBumped
     request->flags.noDirect = (request->flags.accelerated && !request->flags.sslBumped) ?
                               !conn->port->allow_direct : 0;
 #if USE_AUTH
     if (request->flags.sslBumped) {
         if (conn->getAuth() != NULL)
@@ -2680,191 +2622,172 @@
             request->port = getMyPort();
             http->flags.internal = true;
         } else
             debugs(33, 2, "internal URL found: " << request->url.getScheme() << "://" << request->GetHost() <<
                    ':' << request->port << " (not this proxy)");
     }
 
     if (http->flags.internal)
         request->login[0] = '\0';
 
     request->flags.internal = http->flags.internal;
     setLogUri (http, urlCanonicalClean(request.getRaw()));
     request->client_addr = conn->clientConnection->remote; // XXX: remove reuest->client_addr member.
 #if FOLLOW_X_FORWARDED_FOR
     // indirect client gets stored here because it is an HTTP header result (from X-Forwarded-For:)
     // not a details about teh TCP connection itself
     request->indirect_client_addr = conn->clientConnection->remote;
 #endif /* FOLLOW_X_FORWARDED_FOR */
     request->my_addr = conn->clientConnection->local;
     request->myportname = conn->port->name;
-    request->http_ver = http_ver;
+
+    if (!isFtp) {
+        // XXX: for non-HTTP messages instantiate a different HttpMsg child type
+        // for now Squid only supports HTTP requests
+        const AnyP::ProtocolVersion &http_ver = hp->messageProtocol();
+        assert(request->http_ver.protocol == http_ver.protocol);
+        request->http_ver.major = http_ver.major;
+        request->http_ver.minor = http_ver.minor;
+    }
 
     // Link this HttpRequest to ConnStateData relatively early so the following complex handling can use it
     // TODO: this effectively obsoletes a lot of conn->FOO copying. That needs cleaning up later.
     request->clientConnectionManager = conn;
 
     if (request->header.chunked()) {
         chunked = true;
     } else if (request->header.has(HDR_TRANSFER_ENCODING)) {
         const String te = request->header.getList(HDR_TRANSFER_ENCODING);
         // HTTP/1.1 requires chunking to be the last encoding if there is one
         unsupportedTe = te.size() && te != "identity";
     } // else implied identity coding
 
     mustReplyToOptions = (method == Http::METHOD_OPTIONS) &&
                          (request->header.getInt64(HDR_MAX_FORWARDS) == 0);
     if (!urlCheckRequest(request.getRaw()) || mustReplyToOptions || unsupportedTe) {
         clientStreamNode *node = context->getClientReplyContext();
         conn->quitAfterError(request.getRaw());
         clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
         assert (repContext);
         repContext->setReplyToError(ERR_UNSUP_REQ, Http::scNotImplemented, request->method, NULL,
                                     conn->clientConnection->remote, request.getRaw(), NULL, NULL);
         assert(context->http->out.offset == 0);
         context->pullData();
-        connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 
     if (!chunked && !clientIsContentLengthValid(request.getRaw())) {
         clientStreamNode *node = context->getClientReplyContext();
         clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
         assert (repContext);
         conn->quitAfterError(request.getRaw());
         repContext->setReplyToError(ERR_INVALID_REQ,
                                     Http::scLengthRequired, request->method, NULL,
                                     conn->clientConnection->remote, request.getRaw(), NULL, NULL);
         assert(context->http->out.offset == 0);
         context->pullData();
-        connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 
     if (request->header.has(HDR_EXPECT)) {
         const String expect = request->header.getList(HDR_EXPECT);
         const bool supportedExpect = (expect.caseCmp("100-continue") == 0);
         if (!supportedExpect) {
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
             conn->quitAfterError(request.getRaw());
             repContext->setReplyToError(ERR_INVALID_REQ, Http::scExpectationFailed, request->method, http->uri,
                                         conn->clientConnection->remote, request.getRaw(), NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
     }
 
     if (!isFtp) {
         http->request = request.getRaw();
         HTTPMSGLOCK(http->request);
     }
 
     clientSetKeepaliveFlag(http);
     // Let tunneling code be fully responsible for CONNECT requests
     if (http->request->method == Http::METHOD_CONNECT) {
         context->mayUseConnection(true);
         conn->flags.readMore = false;
-
-        // consume header early so that tunnel gets just the body
-        connNoteUseOfBuffer(conn, http->req_sz);
-        notedUseOfBuffer = true;
     }
 
 #if USE_OPENSSL
     if (conn->switchedToHttps() && conn->serveDelayedError(context)) {
-        if (!notedUseOfBuffer)
-            connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 #endif
 
     /* Do we expect a request-body? */
     expectBody = chunked || request->content_length > 0;
     if (!context->mayUseConnection() && expectBody) {
         request->body_pipe = conn->expectRequestBody(
                                  chunked ? -1 : request->content_length);
 
-        if (!isFtp) {
-            // consume header early so that body pipe gets just the body
-            connNoteUseOfBuffer(conn, http->req_sz);
-            notedUseOfBuffer = true;
-        }
-
         /* Is it too large? */
         if (!chunked && // if chunked, we will check as we accumulate
                 clientIsRequestBodyTooLargeForPolicy(request->content_length)) {
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
             conn->quitAfterError(request.getRaw());
             repContext->setReplyToError(ERR_TOO_BIG,
                                         Http::scPayloadTooLarge, Http::METHOD_NONE, NULL,
                                         conn->clientConnection->remote, http->request, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
             clientProcessRequestFinished(conn, request);
             return;
         }
 
         if (!isFtp) {
             // We may stop producing, comm_close, and/or call setReplyToError()
             // below, so quit on errors to avoid http->doCallouts()
             if (!conn->handleRequestBodyData()) {
                 clientProcessRequestFinished(conn, request);
                 return;
             }
 
             if (!request->body_pipe->productionEnded()) {
                 debugs(33, 5, "need more request body");
                 context->mayUseConnection(true);
                 assert(conn->flags.readMore);
             }
         }
     }
 
     http->calloutContext = new ClientRequestContext(http);
 
     http->doCallouts();
 
-    if (!notedUseOfBuffer)
-        connNoteUseOfBuffer(conn, http->req_sz);
-
     clientProcessRequestFinished(conn, request);
 }
 
-static void
-connStripBufferWhitespace (ConnStateData * conn)
-{
-    // XXX: kill this whole function.
-    while (!conn->in.buf.isEmpty() && xisspace(conn->in.buf.at(0))) {
-        conn->in.buf.consume(1);
-    }
-}
-
 int
 ConnStateData::pipelinePrefetchMax() const
 {
     return Config.pipeline_max_prefetch;
 }
 
 /**
  * Limit the number of concurrent requests.
  * \return true  when there are available position(s) in the pipeline queue for another request.
  * \return false when the pipeline queue is full or disabled.
  */
 bool
 ConnStateData::concurrentRequestQueueFilled() const
 {
     const int existingRequestCount = getConcurrentRequestCount();
 
     // default to the configured pipeline size.
     // add 1 because the head of pipeline is counted in concurrent requests and not prefetch queue
     const int concurrentRequestLimit = pipelinePrefetchMax() + 1;
 
@@ -3141,64 +3064,64 @@
         fqdncache_gethostbyaddr(clientConnection->remote, FQDN_LOOKUP_IF_MISS);
 
     return true;
 }
 
 /**
  * Attempt to parse one or more requests from the input buffer.
  * Returns true after completing parsing of at least one request [header]. That
  * includes cases where parsing ended with an error (e.g., a huge request).
  */
 bool
 ConnStateData::clientParseRequests()
 {
     bool parsed_req = false;
 
     debugs(33, 5, HERE << clientConnection << ": attempting to parse");
 
     // Loop while we have read bytes that are not needed for producing the body
     // On errors, bodyPipe may become nil, but readMore will be cleared
     while (!in.buf.isEmpty() && !bodyPipe && flags.readMore) {
-        connStripBufferWhitespace(this);
 
         /* Don't try to parse if the buffer is empty */
         if (in.buf.isEmpty())
             break;
 
         /* Limit the number of concurrent requests */
         if (concurrentRequestQueueFilled())
             break;
 
         // try to parse the PROXY protocol header magic bytes
         if (needProxyProtocolHeader_ && !parseProxyProtocolHeader())
             break;
 
         Http::ProtocolVersion http_ver;
-        if (ClientSocketContext *context = parseOneRequest(http_ver)) {
+        if (ClientSocketContext *context = parseOneRequest()) {
             debugs(33, 5, clientConnection << ": done parsing a request");
+
             AsyncCall::Pointer timeoutCall = commCbCall(5, 4, "clientLifetimeTimeout",
                                              CommTimeoutCbPtrFun(clientLifetimeTimeout, context->http));
             commSetConnTimeout(clientConnection, Config.Timeout.lifetime, timeoutCall);
 
             context->registerWithConn();
 
-            processParsedRequest(context, http_ver);
+            processParsedRequest(context);
 
             parsed_req = true; // XXX: do we really need to parse everything right NOW ?
 
             if (context->mayUseConnection()) {
                 debugs(33, 3, HERE << "Not parsing new requests, as this request may need the connection");
                 break;
             }
         } else {
             debugs(33, 5, clientConnection << ": not enough request data: " <<
                    in.buf.length() << " < " << Config.maxRequestHeaderSize);
             Must(in.buf.length() < Config.maxRequestHeaderSize);
             break;
         }
     }
 
     /* XXX where to 'finish' the parsing pass? */
     return parsed_req;
 }
 
 void
@@ -3326,41 +3249,41 @@
 {
     assert(bodyPipe != NULL);
 
     size_t putSize = 0;
 
     if (in.bodyParser) { // chunked encoding
         if (const err_type error = handleChunkedRequestBody(putSize)) {
             abortChunkedRequestBody(error);
             return false;
         }
     } else { // identity encoding
         debugs(33,5, HERE << "handling plain request body for " << clientConnection);
         putSize = bodyPipe->putMoreData(in.buf.c_str(), in.buf.length());
         if (!bodyPipe->mayNeedMoreData()) {
             // BodyPipe will clear us automagically when we produced everything
             bodyPipe = NULL;
         }
     }
 
     if (putSize > 0)
-        connNoteUseOfBuffer(this, putSize);
+        consumeInput(putSize);
 
     if (!bodyPipe) {
         debugs(33,5, HERE << "produced entire request body for " << clientConnection);
 
         if (const char *reason = stoppedSending()) {
             /* we've finished reading like good clients,
              * now do the close that initiateClose initiated.
              */
             debugs(33, 3, HERE << "closing for earlier sending error: " << reason);
             clientConnection->close();
             return false;
         }
     }
 
     return true;
 }
 
 /// parses available chunked encoded body bytes, checks size, returns errors
 err_type
 ConnStateData::handleChunkedRequestBody(size_t &putSize)

=== modified file 'src/client_side.h'
--- src/client_side.h	2014-09-24 14:07:55 +0000
+++ src/client_side.h	2014-09-27 09:53:31 +0000
@@ -1,38 +1,38 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 33    Client-side Routines */
 
 #ifndef SQUID_CLIENTSIDE_H
 #define SQUID_CLIENTSIDE_H
 
 #include "clientStreamForward.h"
 #include "comm.h"
 #include "helper/forward.h"
 #include "HttpControlMsg.h"
-#include "HttpParser.h"
+#include "http/forward.h"
 #include "ipc/FdNotes.h"
 #include "SBuf.h"
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if USE_OPENSSL
 #include "ssl/support.h"
 #endif
 
 class ConnStateData;
 class ClientHttpRequest;
 class clientStreamNode;
 class ChunkedCodingParser;
 namespace AnyP
 {
 class PortCfg;
 } // namespace Anyp
 
 /**
  * Badly named.
@@ -392,75 +392,78 @@
     /// remove no longer needed leading bytes from the input buffer
     void consumeInput(const size_t byteCount);
 
     /* TODO: Make the methods below (at least) non-public when possible. */
 
     /// stop parsing the request and create context for relaying error info
     ClientSocketContext *abortRequestParsing(const char *const errUri);
 
 protected:
     void startDechunkingRequest();
     void finishDechunkingRequest(bool withSuccess);
     void abortChunkedRequestBody(const err_type error);
     err_type handleChunkedRequestBody(size_t &putSize);
 
     void startPinnedConnectionMonitoring();
     void clientPinnedConnectionRead(const CommIoCbParams &io);
 
     /// parse input buffer prefix into a single transfer protocol request
     /// return NULL to request more header bytes (after checking any limits)
     /// use abortRequestParsing() to handle parsing errors w/o creating request
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver) = 0;
+    virtual ClientSocketContext *parseOneRequest() = 0;
 
     /// start processing a freshly parsed request
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver) = 0;
+    virtual void processParsedRequest(ClientSocketContext *context) = 0;
 
     /// returning N allows a pipeline of 1+N requests (see pipeline_prefetch)
     virtual int pipelinePrefetchMax() const;
 
     /// timeout to use when waiting for the next request
     virtual time_t idleTimeout() const = 0;
 
     BodyPipe::Pointer bodyPipe; ///< set when we are reading request body
 
 private:
     int connFinishedWithConn(int size);
     void clientAfterReadingRequests();
     bool concurrentRequestQueueFilled() const;
 
     void pinNewConnection(const Comm::ConnectionPointer &pinServer, HttpRequest *request, CachePeer *aPeer, bool auth);
 
     /* PROXY protocol functionality */
     bool proxyProtocolValidateClient();
     bool parseProxyProtocolHeader();
     bool parseProxy1p0();
     bool parseProxy2p0();
     bool proxyProtocolError(const char *reason);
 
     /// whether PROXY protocol header is still expected
     bool needProxyProtocolHeader_;
 
 #if USE_AUTH
     /// some user details that can be used to perform authentication on this connection
     Auth::UserRequest::Pointer auth_;
 #endif
 
+    /// the parser state for current HTTP/1.x input buffer processing
+    Http1::RequestParserPointer parser_;
+
 #if USE_OPENSSL
     bool switchedToHttps_;
     /// The SSL server host name appears in CONNECT request or the server ip address for the intercepted requests
     String sslConnectHostOrIp; ///< The SSL server host name as passed in the CONNECT request
     String sslCommonName; ///< CN name for SSL certificate generation
     String sslBumpCertKey; ///< Key to use to store/retrieve generated certificate
 
     /// HTTPS server cert. fetching state for bump-ssl-server-first
     Ssl::ServerBump *sslServerBump;
     Ssl::CertSignAlgorithm signAlgorithm; ///< The signing algorithm to use
 #endif
 
     /// the reason why we no longer write the response or nil
     const char *stoppedSending_;
     /// the reason why we no longer read the request or nil
     const char *stoppedReceiving_;
 
     AsyncCall::Pointer reader; ///< set when we are reading
 
     SBuf connectionTag_; ///< clt_conn_tag=Tag annotation for client connection
@@ -473,25 +476,25 @@
 int varyEvaluateMatch(StoreEntry * entry, HttpRequest * req);
 
 /// accept requests to a given port and inform subCall about them
 void clientStartListeningOn(AnyP::PortCfgPointer &port, const RefCount< CommCbFunPtrCallT<CommAcceptCbPtrFun> > &subCall, const Ipc::FdNoteId noteId);
 
 void clientOpenListenSockets(void);
 void clientConnectionsClose(void);
 void httpRequestFree(void *);
 
 /// decide whether to expect multiple requests on the corresponding connection
 void clientSetKeepaliveFlag(ClientHttpRequest *http);
 
 /* misplaced declaratrions of Stream callbacks provided/used by client side */
 SQUIDCEXTERN CSR clientGetMoreData;
 SQUIDCEXTERN CSS clientReplyStatus;
 SQUIDCEXTERN CSD clientReplyDetach;
 CSCB clientSocketRecipient;
 CSD clientSocketDetach;
 
 /* TODO: Move to HttpServer. Warning: Move requires large code nonchanges! */
-ClientSocketContext *parseHttpRequest(ConnStateData *, HttpParser *, HttpRequestMethod *, Http::ProtocolVersion *);
-void clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *context, const HttpRequestMethod& method, Http::ProtocolVersion http_ver);
-void clientPostHttpsAccept(ConnStateData *connState);
+ClientSocketContext *parseHttpRequest(ConnStateData *, const Http1::RequestParserPointer &);
+void clientProcessRequest(ConnStateData *, const Http1::RequestParserPointer &, ClientSocketContext *);
+void clientPostHttpsAccept(ConnStateData *);
 
 #endif /* SQUID_CLIENTSIDE_H */

=== modified file 'src/htcp.cc'
--- src/htcp.cc	2014-09-29 05:13:17 +0000
+++ src/htcp.cc	2014-10-05 10:43:33 +0000
@@ -132,55 +132,61 @@
     Countstr key_name;
     Countstr signature;
 };
 
 class htcpSpecifier : public StoreClient
 {
 
 public:
     MEMPROXY_CLASS(htcpSpecifier);
 
     void created (StoreEntry *newEntry);
     void checkHit();
     void checkedHit(StoreEntry *e);
 
     void setFrom(Ip::Address &from);
     void setDataHeader(htcpDataHeader *);
     const char *method;
     char *uri;
     char *version;
     char *req_hdrs;
+    size_t reqHdrsSz; ///< size of the req_hdrs content
     HttpRequest *request;
 
 private:
     HttpRequest *checkHitRequest;
 
     Ip::Address from; // was a ptr. return to such IFF needed. otherwise copy should do.
     htcpDataHeader *dhdr;
 };
 
 MEMPROXY_CLASS_INLINE(htcpSpecifier);
 
 struct _htcpDetail {
     char *resp_hdrs;
+    size_t respHdrsSz;
+
     char *entity_hdrs;
+    size_t entityHdrsSz;
+
     char *cache_hdrs;
+    size_t cacheHdrsSz;
 };
 
 struct _htcpStuff {
     int op;
     int rr;
     int f1;
     int response;
     int reason;
     uint32_t msg_id;
     htcpSpecifier S;
     htcpDetail D;
 };
 
 enum {
     HTCP_NOP,
     HTCP_TST,
     HTCP_MON,
     HTCP_SET,
     HTCP_CLR,
     HTCP_END
@@ -216,41 +222,41 @@
 };
 
 static void htcpIncomingConnectionOpened(const Comm::ConnectionPointer &conn, int errNo);
 static uint32_t msg_id_counter = 0;
 
 static Comm::ConnectionPointer htcpOutgoingConn = NULL;
 static Comm::ConnectionPointer htcpIncomingConn = NULL;
 #define N_QUERIED_KEYS 8192
 static uint32_t queried_id[N_QUERIED_KEYS];
 static cache_key queried_keys[N_QUERIED_KEYS][SQUID_MD5_DIGEST_LENGTH];
 
 static Ip::Address queried_addr[N_QUERIED_KEYS];
 static MemAllocator *htcpDetailPool = NULL;
 
 static int old_squid_format = 0;
 
 static ssize_t htcpBuildPacket(char *buf, size_t buflen, htcpStuff * stuff);
 static htcpSpecifier *htcpUnpackSpecifier(char *buf, int sz);
 static htcpDetail *htcpUnpackDetail(char *buf, int sz);
 static ssize_t htcpBuildAuth(char *buf, size_t buflen);
-static ssize_t htcpBuildCountstr(char *buf, size_t buflen, const char *s);
+static ssize_t htcpBuildCountstr(char *buf, size_t buflen, const char *s, size_t len);
 static ssize_t htcpBuildData(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildDetail(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildOpData(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildSpecifier(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildTstOpData(char *buf, size_t buflen, htcpStuff * stuff);
 static void htcpFreeSpecifier(htcpSpecifier * s);
 static void htcpFreeDetail(htcpDetail * s);
 
 static void htcpHandleMsg(char *buf, int sz, Ip::Address &from);
 
 static void htcpLogHtcp(Ip::Address &, int, LogTags, const char *);
 static void htcpHandleMon(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleNop(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleSet(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleTst(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpRecv(int fd, void *data);
@@ -290,133 +296,126 @@
 
 /*
  * STUFF FOR SENDING HTCP MESSAGES
  */
 
 static ssize_t
 htcpBuildAuth(char *buf, size_t buflen)
 {
     htcpAuthHeader auth;
     size_t copy_sz = 0;
     assert(2 == sizeof(uint16_t));
     auth.length = htons(2);
     copy_sz += 2;
     if (buflen < copy_sz)
         return -1;
     memcpy(buf, &auth, copy_sz);
     return copy_sz;
 }
 
 static ssize_t
-htcpBuildCountstr(char *buf, size_t buflen, const char *s)
+htcpBuildCountstr(char *buf, size_t buflen, const char *s, size_t len)
 {
-    uint16_t length;
-    size_t len;
     int off = 0;
 
     if (buflen - off < 2)
         return -1;
 
-    if (s)
-        len = strlen(s);
-    else
-        len = 0;
-
     debugs(31, 3, "htcpBuildCountstr: LENGTH = " << len);
 
     debugs(31, 3, "htcpBuildCountstr: TEXT = {" << (s ? s : "<NULL>") << "}");
 
-    length = htons((uint16_t) len);
+    uint16_t length = htons((uint16_t) len);
 
     memcpy(buf + off, &length, 2);
 
     off += 2;
 
     if (buflen - off < len)
         return -1;
 
     if (len)
         memcpy(buf + off, s, len);
 
     off += len;
 
     return off;
 }
 
 static ssize_t
 htcpBuildSpecifier(char *buf, size_t buflen, htcpStuff * stuff)
 {
     ssize_t off = 0;
     ssize_t s;
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.method);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.method, (stuff->S.method?strlen(stuff->S.method):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.uri);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.uri, (stuff->S.uri?strlen(stuff->S.uri):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.version);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.version, (stuff->S.version?strlen(stuff->S.version):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.req_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.req_hdrs, stuff->S.reqHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
     debugs(31, 3, "htcpBuildSpecifier: size " << off);
 
     return off;
 }
 
 static ssize_t
 htcpBuildDetail(char *buf, size_t buflen, htcpStuff * stuff)
 {
     ssize_t off = 0;
     ssize_t s;
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.resp_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.resp_hdrs, stuff->D.respHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.entity_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.entity_hdrs, stuff->D.entityHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.cache_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.cache_hdrs, stuff->D.cacheHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
     return off;
 }
 
 static ssize_t
 htcpBuildTstOpData(char *buf, size_t buflen, htcpStuff * stuff)
 {
     switch (stuff->rr) {
 
     case RR_REQUEST:
         debugs(31, 3, "htcpBuildTstOpData: RR_REQUEST");
         return htcpBuildSpecifier(buf, buflen, stuff);
 
     case RR_RESPONSE:
         debugs(31, 3, "htcpBuildTstOpData: RR_RESPONSE");
@@ -611,40 +610,42 @@
 }
 
 static void
 htcpFreeSpecifier(htcpSpecifier * s)
 {
     HTTPMSGUNLOCK(s->request);
 
     delete s;
 }
 
 static void
 htcpFreeDetail(htcpDetail * d)
 {
     htcpDetailPool->freeOne(d);
 }
 
 /*
  * Unpack an HTCP SPECIFIER in place
  * This will overwrite any following AUTH block
  */
+// XXX: this needs to be turned into an Htcp1::Parser inheriting from Http1::RequestParser
+//   but with different first-line and block unpacking logic.
 static htcpSpecifier *
 htcpUnpackSpecifier(char *buf, int sz)
 {
     htcpSpecifier *s = new htcpSpecifier;
     HttpRequestMethod method;
 
     /* Find length of METHOD */
     uint16_t l = ntohs(*(uint16_t *) buf);
     sz -= 2;
     buf += 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackSpecifier: failed to unpack METHOD");
         htcpFreeSpecifier(s);
         return NULL;
     }
 
     /* Set METHOD */
     s->method = buf;
     buf += l;
@@ -692,135 +693,133 @@
     debugs(31, 6, "htcpUnpackSpecifier: VERSION (" << l << "/" << sz << ") '" << s->version << "'");
 
     /* Find length of REQ-HDRS */
     l = ntohs(*(uint16_t *) buf);
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackSpecifier: failed to unpack REQ-HDRS");
         htcpFreeSpecifier(s);
         return NULL;
     }
 
     /* Add terminating null to URI */
     *buf = '\0';
     buf += 2;
 
     /* Set REQ-HDRS */
     s->req_hdrs = buf;
     buf += l;
     sz -= l;
+    s->reqHdrsSz = l;
     debugs(31, 6, "htcpUnpackSpecifier: REQ-HDRS (" << l << "/" << sz << ") '" << s->req_hdrs << "'");
 
     debugs(31, 3, "htcpUnpackSpecifier: " << sz << " bytes left");
 
     /*
      * Add terminating null to REQ-HDRS. This is possible because we allocated
      * an extra byte when we received the packet. This will overwrite any following
      * AUTH block.
      */
     *buf = '\0';
 
     /*
      * Parse the request
      */
-    method = HttpRequestMethod(s->method, NULL);
+    method = HttpRequestMethod(s->method);
 
     s->request = HttpRequest::CreateFromUrlAndMethod(s->uri, method == Http::METHOD_NONE ? HttpRequestMethod(Http::METHOD_GET) : method);
 
     if (s->request)
         HTTPMSGLOCK(s->request);
 
     return s;
 }
 
 /*
  * Unpack an HTCP DETAIL in place
  * This will overwrite any following AUTH block
  */
 static htcpDetail *
 htcpUnpackDetail(char *buf, int sz)
 {
     htcpDetail *d = static_cast<htcpDetail *>(htcpDetailPool->alloc());
 
     /* Find length of RESP-HDRS */
     uint16_t l = ntohs(*(uint16_t *) buf);
     sz -= 2;
     buf += 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack RESP_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Set RESP-HDRS */
     d->resp_hdrs = buf;
-
     buf += l;
-
+    d->respHdrsSz = l;
     sz -= l;
 
     /* Find length of ENTITY-HDRS */
     l = ntohs(*(uint16_t *) buf);
 
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack ENTITY_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Add terminating null to RESP-HDRS */
     *buf = '\0';
 
     /* Set ENTITY-HDRS */
     buf += 2;
 
     d->entity_hdrs = buf;
-
     buf += l;
-
+    d->entityHdrsSz = l;
     sz -= l;
 
     /* Find length of CACHE-HDRS */
     l = ntohs(*(uint16_t *) buf);
 
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack CACHE_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Add terminating null to ENTITY-HDRS */
     *buf = '\0';
 
     /* Set CACHE-HDRS */
     buf += 2;
 
     d->cache_hdrs = buf;
-
     buf += l;
-
+    d->cacheHdrsSz = l;
     sz -= l;
 
     debugs(31, 3, "htcpUnpackDetail: " << sz << " bytes left");
 
     /*
      * Add terminating null to CACHE-HDRS. This is possible because we allocated
      * an extra byte when we received the packet. This will overwrite any following
      * AUTH block.
      */
     *buf = '\0';
 
     return d;
 }
 
 static bool
 htcpAccessAllowed(acl_access * acl, htcpSpecifier * s, Ip::Address &from)
 {
     /* default deny if no access list present */
     if (!acl)
         return false;
@@ -838,95 +837,102 @@
     static char pkt[8192];
     HttpHeader hdr(hoHtcpReply);
     MemBuf mb;
     Packer p;
     ssize_t pktlen;
     memset(&stuff, '\0', sizeof(stuff));
     stuff.op = HTCP_TST;
     stuff.rr = RR_RESPONSE;
     stuff.f1 = 0;
     stuff.response = e ? 0 : 1;
     debugs(31, 3, "htcpTstReply: response = " << stuff.response);
     stuff.msg_id = dhdr->msg_id;
 
     if (spec) {
         mb.init();
         packerToMemInit(&p, &mb);
         stuff.S.method = spec->method;
         stuff.S.uri = spec->uri;
         stuff.S.version = spec->version;
         stuff.S.req_hdrs = spec->req_hdrs;
+        stuff.S.reqHdrsSz = spec->reqHdrsSz;
         if (e)
             hdr.putInt(HDR_AGE, (e->timestamp <= squid_curtime ? (squid_curtime - e->timestamp) : 0) );
         else
             hdr.putInt(HDR_AGE, 0);
         hdr.packInto(&p);
         stuff.D.resp_hdrs = xstrdup(mb.buf);
+        stuff.D.respHdrsSz = mb.contentSize();
         debugs(31, 3, "htcpTstReply: resp_hdrs = {" << stuff.D.resp_hdrs << "}");
         mb.reset();
         hdr.reset();
 
         if (e && e->expires > -1)
             hdr.putTime(HDR_EXPIRES, e->expires);
 
         if (e && e->lastmod > -1)
             hdr.putTime(HDR_LAST_MODIFIED, e->lastmod);
 
         hdr.packInto(&p);
 
         stuff.D.entity_hdrs = xstrdup(mb.buf);
+        stuff.D.entityHdrsSz = mb.contentSize();
 
         debugs(31, 3, "htcpTstReply: entity_hdrs = {" << stuff.D.entity_hdrs << "}");
 
         mb.reset();
 
         hdr.reset();
 
 #if USE_ICMP
         if (char *host = urlHostname(spec->uri)) {
             int rtt = 0;
             int hops = 0;
             int samp = 0;
             netdbHostData(host, &samp, &rtt, &hops);
 
             if (rtt || hops) {
                 char cto_buf[128];
                 snprintf(cto_buf, 128, "%s %d %f %d",
                          host, samp, 0.001 * rtt, hops);
                 hdr.putExt("Cache-to-Origin", cto_buf);
             }
         }
 #endif /* USE_ICMP */
 
         hdr.packInto(&p);
         stuff.D.cache_hdrs = xstrdup(mb.buf);
+        stuff.D.cacheHdrsSz = mb.contentSize();
         debugs(31, 3, "htcpTstReply: cache_hdrs = {" << stuff.D.cache_hdrs << "}");
         mb.clean();
         hdr.clean();
         packerClean(&p);
     }
 
     pktlen = htcpBuildPacket(pkt, sizeof(pkt), &stuff);
 
     safe_free(stuff.D.resp_hdrs);
+    stuff.D.respHdrsSz = 0;
     safe_free(stuff.D.entity_hdrs);
+    stuff.D.entityHdrsSz = 0;
     safe_free(stuff.D.cache_hdrs);
+    stuff.D.cacheHdrsSz = 0;
 
     if (!pktlen) {
         debugs(31, 3, "htcpTstReply: htcpBuildPacket() failed");
         return;
     }
 
     htcpSend(pkt, (int) pktlen, from);
 }
 
 static void
 
 htcpClrReply(htcpDataHeader * dhdr, int purgeSucceeded, Ip::Address &from)
 {
     htcpStuff stuff;
     static char pkt[8192];
     ssize_t pktlen;
 
     /* If dhdr->F1 == 0, no response desired */
 
     if (dhdr->F1 == 0)
@@ -949,52 +955,49 @@
     pktlen = htcpBuildPacket(pkt, sizeof(pkt), &stuff);
 
     if (pktlen == 0) {
         debugs(31, 3, "htcpClrReply: htcpBuildPacket() failed");
         return;
     }
 
     htcpSend(pkt, (int) pktlen, from);
 }
 
 static void
 
 htcpHandleNop(htcpDataHeader * hdr, char *buf, int sz, Ip::Address &from)
 {
     debugs(31, 3, "htcpHandleNop: Unimplemented");
 }
 
 void
 htcpSpecifier::checkHit()
 {
-    char *blk_end;
     checkHitRequest = request;
 
     if (NULL == checkHitRequest) {
         debugs(31, 3, "htcpCheckHit: NO; failed to parse URL");
         checkedHit(NullStoreEntry::getInstance());
         return;
     }
 
-    blk_end = req_hdrs + strlen(req_hdrs);
-
-    if (!checkHitRequest->header.parse(req_hdrs, blk_end)) {
+    if (!checkHitRequest->header.parse(req_hdrs, reqHdrsSz)) {
         debugs(31, 3, "htcpCheckHit: NO; failed to parse request headers");
         delete checkHitRequest;
         checkHitRequest = NULL;
         checkedHit(NullStoreEntry::getInstance());
         return;
     }
 
     StoreEntry::getPublicByRequest(this, checkHitRequest);
 }
 
 void
 htcpSpecifier::created (StoreEntry *e)
 {
     StoreEntry *hit=NULL;
     assert (e);
 
     if (e->isNull()) {
         debugs(31, 3, "htcpCheckHit: NO; public object not found");
     } else if (!e->validToSend()) {
         debugs(31, 3, "htcpCheckHit: NO; entry not valid to send" );
@@ -1002,53 +1005,50 @@
         debugs(31, 3, "htcpCheckHit: NO; cached response is stale");
     } else {
         debugs(31, 3, "htcpCheckHit: YES!?");
         hit = e;
     }
 
     checkedHit (hit);
 }
 
 static void
 htcpClrStoreEntry(StoreEntry * e)
 {
     debugs(31, 4, "htcpClrStoreEntry: Clearing store for entry: " << e->url()  );
     e->releaseRequest();
 }
 
 static int
 htcpClrStore(const htcpSpecifier * s)
 {
     HttpRequest *request = s->request;
-    char *blk_end;
     StoreEntry *e = NULL;
     int released = 0;
 
     if (request == NULL) {
         debugs(31, 3, "htcpClrStore: failed to parse URL");
         return -1;
     }
 
     /* Parse request headers */
-    blk_end = s->req_hdrs + strlen(s->req_hdrs);
-
-    if (!request->header.parse(s->req_hdrs, blk_end)) {
+    if (!request->header.parse(s->req_hdrs, s->reqHdrsSz)) {
         debugs(31, 2, "htcpClrStore: failed to parse request headers");
         return -1;
     }
 
     /* Lookup matching entries. This matches both GET and HEAD */
     while ((e = storeGetPublicByRequest(request)) != NULL) {
         if (e != NULL) {
             htcpClrStoreEntry(e);
             ++released;
         }
     }
 
     if (released) {
         debugs(31, 4, "htcpClrStore: Cleared " << released << " matching entries");
         return 1;
     } else {
         debugs(31, 4, "htcpClrStore: No matching entry found");
         return 0;
     }
 }
@@ -1109,47 +1109,47 @@
         debugs(31, 2, "htcpHandleTstResponse: error condition, F1/MO == 1");
         return;
     }
 
     htcpReply.msg_id = hdr->msg_id;
     debugs(31, 3, "htcpHandleTstResponse: msg_id = " << htcpReply.msg_id);
     htcpReply.hit = hdr->response ? 0 : 1;
 
     if (hdr->F1) {
         debugs(31, 3, "htcpHandleTstResponse: MISS");
     } else {
         debugs(31, 3, "htcpHandleTstResponse: HIT");
         d = htcpUnpackDetail(buf, sz);
 
         if (d == NULL) {
             debugs(31, 3, "htcpHandleTstResponse: bad DETAIL");
             return;
         }
 
         if ((t = d->resp_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->respHdrsSz);
 
         if ((t = d->entity_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->entityHdrsSz);
 
         if ((t = d->cache_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->cacheHdrsSz);
     }
 
     debugs(31, 3, "htcpHandleTstResponse: key (" << key << ") " << storeKeyText(key));
     neighborsHtcpReply(key, &htcpReply, from);
     htcpReply.hdr.clean();
 
     if (d)
         htcpFreeDetail(d);
 }
 
 static void
 htcpHandleTstRequest(htcpDataHeader * dhdr, char *buf, int sz, Ip::Address &from)
 {
     /* buf should be a SPECIFIER */
     htcpSpecifier *s;
 
     if (sz == 0) {
         debugs(31, 3, "htcpHandleTst: nothing to do");
         return;
     }

=== modified file 'src/htcp.h'
--- src/htcp.h	2014-09-13 13:59:43 +0000
+++ src/htcp.h	2014-09-14 12:23:03 +0000
@@ -1,39 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTCP_H
 #define SQUID_HTCP_H
 
 #if USE_HTCP
 
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
+#include "http/forward.h"
 #include "ip/forward.h"
 
-class HttpRequest;
-
 /// \ingroup ServerProtocolHTCP
 class HtcpReplyData
 {
 
 public:
     HtcpReplyData();
     int hit;
     HttpHeader hdr;
     uint32_t msg_id;
     double version;
 
     struct cto_t {
         /* cache-to-origin */
         double rtt;
         int samp;
         int hops;
     } cto;
 };
 
 /// \ingroup ServerProtocolHTCP

=== modified file 'src/http/Makefile.am'
--- src/http/Makefile.am	2014-09-13 13:59:43 +0000
+++ src/http/Makefile.am	2014-09-14 12:23:03 +0000
@@ -1,26 +1,37 @@
 ## Copyright (C) 1996-2014 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
 include $(top_srcdir)/src/Common.am
 include $(top_srcdir)/src/TestHeaders.am
 
+AUTOMAKE_OPTIONS = subdir-objects
+
+SUBDIRS = one
+DIST_SUBDIRS = one
+
 noinst_LTLIBRARIES = libsquid-http.la
 
 libsquid_http_la_SOURCES = \
+	forward.h \
 	MethodType.cc \
 	MethodType.h \
 	ProtocolVersion.h \
+	RegisteredHeaders.h \
+	RequestMethod.cc \
+	RequestMethod.h \
 	StatusCode.cc \
 	StatusCode.h \
 	StatusLine.cc \
 	StatusLine.h
 
+libsquid_http_la_LIBADD= one/libhttp1.la
+
 MethodType.cc: MethodType.h $(top_srcdir)/src/mk-string-arrays.awk
 	($(AWK) -f $(top_srcdir)/src/mk-string-arrays.awk sbuf=1 < $(srcdir)/MethodType.h | \
 		sed -e 's%METHOD_%%' -e 's%_C%-C%' >$@) || ($(RM) -f $@ && exit 1)
 
 CLEANFILES += MethodType.cc

=== added file 'src/http/RegisteredHeaders.h'
--- src/http/RegisteredHeaders.h	1970-01-01 00:00:00 +0000
+++ src/http/RegisteredHeaders.h	2014-08-19 12:14:45 +0000
@@ -0,0 +1,113 @@
+#ifndef SQUID_HTTP_REGISTEREDHEADERS_H
+#define SQUID_HTTP_REGISTEREDHEADERS_H
+
+/// recognized or "known" header fields; and the RFC which defines them (or not)
+/// http://www.iana.org/assignments/message-headers/message-headers.xhtml
+typedef enum {
+    HDR_BAD_HDR = -1,
+    HDR_ACCEPT = 0,                     /**< RFC 7231 */
+    HDR_ACCEPT_CHARSET,                 /**< RFC 7231 */
+    HDR_ACCEPT_ENCODING,                /**< RFC 7231 */
+    /*HDR_ACCEPT_FEATURES,*/            /* RFC 2295 */
+    HDR_ACCEPT_LANGUAGE,                /**< RFC 7231 */
+    HDR_ACCEPT_RANGES,                  /**< RFC 7233 */
+    HDR_AGE,                            /**< RFC 7234 */
+    HDR_ALLOW,                          /**< RFC 7231 */
+    HDR_AUTHENTICATION_INFO,            /**< RFC 2617 */
+    HDR_AUTHORIZATION,                  /**< RFC 7235, 4559 */
+    HDR_CACHE_CONTROL,                  /**< RFC 7234 */
+    HDR_CONNECTION,                     /**< RFC 7230 */
+    HDR_CONTENT_BASE,                   /**< obsoleted RFC 2068 */
+    HDR_CONTENT_DISPOSITION,            /**< RFC 2183, 6266 */
+    HDR_CONTENT_ENCODING,               /**< RFC 7231 */
+    HDR_CONTENT_LANGUAGE,               /**< RFC 7231 */
+    HDR_CONTENT_LENGTH,                 /**< RFC 7230 */
+    HDR_CONTENT_LOCATION,               /**< RFC 7231 */
+    HDR_CONTENT_MD5,                    /**< deprecated, RFC 2616 */
+    HDR_CONTENT_RANGE,                  /**< RFC 7233 */
+    HDR_CONTENT_TYPE,                   /**< RFC 7231 */
+    HDR_COOKIE,                         /**< RFC 6265 header we may need to erase */
+    HDR_COOKIE2,                        /**< obsolete RFC 2965 header we may need to erase */
+    HDR_DATE,                           /**< RFC 7231 */
+    /*HDR_DAV,*/                        /* RFC 2518 */
+    /*HDR_DEPTH,*/                      /* RFC 2518 */
+    /*HDR_DERIVED_FROM,*/               /* deprecated RFC 2068 */
+    /*HDR_DESTINATION,*/                /* RFC 2518 */
+    HDR_ETAG,                           /**< RFC 7232 */
+    HDR_EXPECT,                         /**< RFC 7231 */
+    HDR_EXPIRES,                        /**< RFC 7234 */
+    HDR_FORWARDED,                      /**< RFC 7239 */
+    HDR_FROM,                           /**< RFC 7231 */
+    HDR_HOST,                           /**< RFC 7230 */
+    HDR_HTTP2_SETTINGS,                 /**< HTTP/2.0 upgrade header. see draft-ietf-httpbis-http2-13 */
+    /*HDR_IF,*/                         /* RFC 2518 */
+    HDR_IF_MATCH,                       /**< RFC 7232 */
+    HDR_IF_MODIFIED_SINCE,              /**< RFC 7232 */
+    HDR_IF_NONE_MATCH,                  /**< RFC 7232 */
+    HDR_IF_RANGE,                       /**< RFC 7233 */
+    HDR_IF_UNMODIFIED_SINCE,            /**< RFC 7232 */
+    HDR_KEEP_ALIVE,                     /**< obsoleted RFC 2068 header we may need to erase */
+    HDR_KEY,                            /**< experimental RFC Draft draft-fielding-http-key-02 */
+    HDR_LAST_MODIFIED,                  /**< RFC 7232 */
+    HDR_LINK,                           /**< RFC 5988 */
+    HDR_LOCATION,                       /**< RFC 7231 */
+    /*HDR_LOCK_TOKEN,*/                 /* RFC 2518 */
+    HDR_MAX_FORWARDS,                   /**< RFC 7231 */
+    HDR_MIME_VERSION,                   /**< RFC 2045, 7231 */
+    HDR_NEGOTIATE,                      /**< experimental RFC 2295. Why only this one from 2295? */
+    /*HDR_OVERWRITE,*/                  /* RFC 2518 */
+    HDR_ORIGIN,                         /* CORS Draft specification (see http://www.w3.org/TR/cors/) */
+    HDR_PRAGMA,                         /**< RFC 7234 */
+    HDR_PROXY_AUTHENTICATE,             /**< RFC 7235 */
+    HDR_PROXY_AUTHENTICATION_INFO,      /**< RFC 2617 */
+    HDR_PROXY_AUTHORIZATION,            /**< RFC 7235 */
+    HDR_PROXY_CONNECTION,               /**< obsolete Netscape header we may need to erase. */
+    HDR_PROXY_SUPPORT,                  /**< RFC 4559 */
+    HDR_PUBLIC,                         /**<  RFC 2068 */
+    HDR_RANGE,                          /**< RFC 7233 */
+    HDR_REFERER,                        /**< RFC 7231 */
+    HDR_REQUEST_RANGE,                  /**< some clients use this, sigh */
+    HDR_RETRY_AFTER,                    /**< RFC 7231 */
+    HDR_SERVER,                         /**< RFC 7231 */
+    HDR_SET_COOKIE,                     /**< RFC 6265 header we may need to erase */
+    HDR_SET_COOKIE2,                    /**< obsoleted RFC 2965 header we may need to erase */
+    /*HDR_STATUS_URI,*/                 /* RFC 2518 */
+    /*HDR_TCN,*/                        /* experimental RFC 2295 */
+    HDR_TE,                             /**< RFC 7230 */
+    /*HDR_TIMEOUT,*/                    /* RFC 2518 */
+    HDR_TITLE,                          /* obsolete draft suggested header */
+    HDR_TRAILER,                        /**< RFC 7230 */
+    HDR_TRANSFER_ENCODING,              /**< RFC 7230 */
+    HDR_TRANSLATE,                      /**< IIS custom header we may need to erase */
+    HDR_UNLESS_MODIFIED_SINCE,          /**< IIS custom header we may need to erase */
+    HDR_UPGRADE,                        /**< RFC 7230 */
+    HDR_USER_AGENT,                     /**< RFC 7231 */
+    /*HDR_VARIANT_VARY,*/               /* experimental RFC 2295 */
+    HDR_VARY,                           /**< RFC 7231 */
+    HDR_VIA,                            /**< RFC 7230 */
+    HDR_WARNING,                        /**< RFC 7234 */
+    HDR_WWW_AUTHENTICATE,               /**< RFC 7235, 4559 */
+    HDR_X_CACHE,                        /**< Squid custom header */
+    HDR_X_CACHE_LOOKUP,                 /**< Squid custom header. temporary hack that became de-facto. TODO remove */
+    HDR_X_FORWARDED_FOR,                /**< obsolete Squid custom header, RFC 7239 */
+    HDR_X_REQUEST_URI,                  /**< Squid custom header appended if ADD_X_REQUEST_URI is defined */
+    HDR_X_SQUID_ERROR,                  /**< Squid custom header on generated error responses */
+#if X_ACCELERATOR_VARY
+    HDR_X_ACCELERATOR_VARY,             /**< obsolete Squid custom header. */
+#endif
+#if USE_ADAPTATION
+    HDR_X_NEXT_SERVICES,                /**< Squid custom ICAP header */
+#endif
+    HDR_SURROGATE_CAPABILITY,           /**< Edge Side Includes (ESI) header */
+    HDR_SURROGATE_CONTROL,              /**< Edge Side Includes (ESI) header */
+    HDR_FRONT_END_HTTPS,                /**< MS Exchange custom header we may have to add */
+    HDR_FTP_COMMAND,                    /**< Internal header for FTP command */
+    HDR_FTP_ARGUMENTS,                  /**< Internal header for FTP command arguments */
+    HDR_FTP_PRE,                        /**< Internal header containing leading FTP control response lines */
+    HDR_FTP_STATUS,                     /**< Internal header for FTP reply status */
+    HDR_FTP_REASON,                     /**< Internal header for FTP reply reason */
+    HDR_OTHER,                          /**< internal tag value for "unknown" headers */
+    HDR_ENUM_END
+} http_hdr_type;
+
+#endif /* SQUID_HTTP_REGISTEREDHEADERS_H */

=== renamed file 'src/HttpRequestMethod.cc' => 'src/http/RequestMethod.cc'
--- src/HttpRequestMethod.cc	2014-09-13 13:59:43 +0000
+++ src/http/RequestMethod.cc	2014-09-14 12:23:03 +0000
@@ -1,84 +1,112 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 73    HTTP Request */
 
 #include "squid.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "SquidConfig.h"
 #include "wordlist.h"
 
 static Http::MethodType &
 operator++ (Http::MethodType &aMethod)
 {
     int tmp = (int)aMethod;
     aMethod = (Http::MethodType)(++tmp);
     return aMethod;
 }
 
 /**
- * Construct a HttpRequestMethod from a NULL terminated string such as "GET"
- * or from a range of chars, * such as "GET" from "GETFOOBARBAZ"
- * (pass in pointer to G and pointer to F.)
+ * Construct a HttpRequestMethod from a C-string such as "GET"
+ * Assumes the string is either nul-terminated or contains whitespace
+ *
+ * \deprecated use SBuf constructor instead
  */
-HttpRequestMethod::HttpRequestMethod(char const *begin, char const *end) : theMethod(Http::METHOD_NONE)
+HttpRequestMethod::HttpRequestMethod(char const *begin) : theMethod(Http::METHOD_NONE)
 {
     if (begin == NULL)
         return;
 
-    /*
-     * if e is NULL, b must be NULL terminated and we
-     * make e point to the first whitespace character
-     * after b.
-     */
-    if (NULL == end)
-        end = begin + strcspn(begin, w_space);
+    char const *end = begin + strcspn(begin, w_space);
 
     if (end == begin)
         return;
 
     // TODO: Optimize this linear search.
     for (++theMethod; theMethod < Http::METHOD_ENUM_END; ++theMethod) {
         // RFC 2616 section 5.1.1 - Method names are case-sensitive
         // NP: this is not a HTTP_VIOLATIONS case since there is no MUST/SHOULD involved.
         if (0 == image().caseCmp(begin, end-begin)) {
 
             // relaxed parser allows mixed-case and corrects them on output
             if (Config.onoff.relaxed_header_parser)
                 return;
 
             if (0 == image().cmp(begin, end-begin))
                 return;
         }
     }
 
     // if method not found and method string is not null then it is other method
     theMethod = Http::METHOD_OTHER;
     theImage.assign(begin, end-begin);
 }
 
+/**
+ * Construct a HttpRequestMethod from an SBuf string such as "GET"
+ * or from a range of chars such as "GET" from "GETFOOBARBAZ"
+ *
+ * Assumes the s parameter contains only the method string
+ */
+HttpRequestMethod::HttpRequestMethod(const SBuf &s) : theMethod(Http::METHOD_NONE)
+{
+    if (s.isEmpty())
+        return;
+
+    // XXX: still check for missing method name?
+
+    // TODO: Optimize this linear search.
+    for (++theMethod; theMethod < Http::METHOD_ENUM_END; ++theMethod) {
+        // RFC 2616 section 5.1.1 - Method names are case-sensitive
+        // NP: this is not a HTTP_VIOLATIONS case since there is no MUST/SHOULD involved.
+        if (0 == image().caseCmp(s)) {
+
+            // relaxed parser allows mixed-case and corrects them on output
+            if (Config.onoff.relaxed_header_parser)
+                return;
+
+            if (0 == image().cmp(s))
+                return;
+        }
+    }
+
+    // if method not found and method string is not null then it is other method
+    theMethod = Http::METHOD_OTHER;
+    theImage = s;
+}
+
 const SBuf &
 HttpRequestMethod::image() const
 {
     static const SBuf methodOther("METHOD_OTHER");
     if (Http::METHOD_OTHER != theMethod) {
         return Http::MethodType_sb[theMethod];
     } else {
         if (!theImage.isEmpty()) {
             return theImage;
         } else {
             return methodOther;
         }
     }
 }
 
 bool
 HttpRequestMethod::isHttpSafe() const
 {
     // Only a few methods are defined as safe. All others are "unsafe"
 

=== renamed file 'src/HttpRequestMethod.h' => 'src/http/RequestMethod.h'
--- src/HttpRequestMethod.h	2014-09-13 13:59:43 +0000
+++ src/http/RequestMethod.h	2014-09-14 12:23:03 +0000
@@ -1,61 +1,52 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPREQUESTMETHOD_H
 #define SQUID_HTTPREQUESTMETHOD_H
 
+#include "http/forward.h"
 #include "http/MethodType.h"
 #include "SBuf.h"
 
 class SquidConfig;
 
 #include <iosfwd>
 
 /**
  * This class represents an HTTP Request METHOD
  * - i.e. PUT, POST, GET etc.
  * It has a runtime extension facility to allow it to
  * efficiently support new methods
  */
-class HttpRequestMethod
+class HttpRequestMethod : public RefCountable
 {
-
 public:
-//    static void Configure(SquidConfig &Config);
-
     HttpRequestMethod() : theMethod(Http::METHOD_NONE), theImage() {}
-
     HttpRequestMethod(Http::MethodType const aMethod) : theMethod(aMethod), theImage() {}
-
-    /**
-     \param begin    string to convert to request method.
-     \param end      end of the method string (relative to begin). Use NULL if this is unknown.
-     *
-     \note DO NOT give end a default (ie NULL). That will cause silent char* conversion clashes.
-     */
-    HttpRequestMethod(char const * begin, char const * end);
+    explicit HttpRequestMethod(char const *);
+    explicit HttpRequestMethod(const SBuf &);
 
     HttpRequestMethod & operator = (const HttpRequestMethod& aMethod) {
         theMethod = aMethod.theMethod;
         theImage = aMethod.theImage;
         return *this;
     }
 
     HttpRequestMethod & operator = (Http::MethodType const aMethod) {
         theMethod = aMethod;
         theImage.clear();
         return *this;
     }
 
     bool operator == (Http::MethodType const & aMethod) const { return theMethod == aMethod; }
     bool operator == (HttpRequestMethod const & aMethod) const {
         return theMethod == aMethod.theMethod &&
                (theMethod != Http::METHOD_OTHER || theImage == aMethod.theImage);
     }
 
     bool operator != (Http::MethodType const & aMethod) const { return theMethod != aMethod; }

=== added file 'src/http/forward.h'
--- src/http/forward.h	1970-01-01 00:00:00 +0000
+++ src/http/forward.h	2014-05-20 07:45:55 +0000
@@ -0,0 +1,16 @@
+#ifndef SQUID_SRC_HTTP_FORWARD_H
+#define SQUID_SRC_HTTP_FORWARD_H
+
+#include "http/one/forward.h"
+
+// TODO move these classes into Http namespace
+class HttpRequestMethod;
+typedef RefCount<HttpRequestMethod> HttpRequestMethodPointer;
+
+class HttpRequest;
+typedef RefCount<HttpRequest> HttpRequestPointer;
+
+class HttpReply;
+typedef RefCount<HttpReply> HttpReplyPointer;
+
+#endif /* SQUID_SRC_HTTP_FORWARD_H */

=== added directory 'src/http/one'
=== added file 'src/http/one/Makefile.am'
--- src/http/one/Makefile.am	1970-01-01 00:00:00 +0000
+++ src/http/one/Makefile.am	2014-07-30 07:38:25 +0000
@@ -0,0 +1,11 @@
+include $(top_srcdir)/src/Common.am
+include $(top_srcdir)/src/TestHeaders.am
+
+noinst_LTLIBRARIES = libhttp1.la
+
+libhttp1_la_SOURCES = \
+	forward.h \
+	Parser.cc \
+	Parser.h \
+	RequestParser.cc \
+	RequestParser.h

=== renamed file 'src/HttpParser.cc' => 'src/http/one/Parser.cc'
--- src/HttpParser.cc	2014-09-13 13:59:43 +0000
+++ src/http/one/Parser.cc	2014-09-14 12:23:03 +0000
@@ -1,302 +1,80 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 #include "Debug.h"
-#include "HttpParser.h"
-#include "profiler/Profiler.h"
-#include "SquidConfig.h"
+#include "http/one/Parser.h"
+#include "parser/Tokenizer.h"
 
-void
-HttpParser::clear()
-{
-    state = HTTP_PARSE_NONE;
-    request_parse_status = Http::scNone;
-    buf = NULL;
-    bufsiz = 0;
-    req.start = req.end = -1;
-    hdr_start = hdr_end = -1;
-    req.m_start = req.m_end = -1;
-    req.u_start = req.u_end = -1;
-    req.v_start = req.v_end = -1;
-    req.v_maj = req.v_min = 0;
-}
+/// RFC 7230 section 2.6 - 7 magic octets
+const SBuf Http::One::Parser::Http1magic("HTTP/1.");
 
 void
-HttpParser::reset(const char *aBuf, int len)
+Http::One::Parser::clear()
 {
-    clear(); // empty the state.
-    state = HTTP_PARSE_NEW;
-    buf = aBuf;
-    bufsiz = len;
-    debugs(74, 5, HERE << "Request buffer is " << buf);
+    parsingStage_ = HTTP_PARSE_NONE;
+    buf_ = NULL;
+    msgProtocol_ = AnyP::ProtocolVersion();
+    mimeHeaderBlock_.clear();
 }
 
-int
-HttpParser::parseRequestFirstLine()
+// arbitrary maximum-length for headers which can be found by Http1Parser::getHeaderField()
+#define GET_HDR_SZ	1024
+
+// BUG: returns only the first header line with given name,
+//      ignores multi-line headers and obs-fold headers
+char *
+Http::One::Parser::getHeaderField(const char *name)
 {
-    int second_word = -1; // track the suspected URI start
-    int first_whitespace = -1, last_whitespace = -1; // track the first and last SP byte
-    int line_end = -1; // tracks the last byte BEFORE terminal \r\n or \n sequence
-
-    debugs(74, 5, HERE << "parsing possible request: " << buf);
-
-    // Single-pass parse: (provided we have the whole line anyways)
-
-    req.start = 0;
-    if (Config.onoff.relaxed_header_parser) {
-        if (Config.onoff.relaxed_header_parser < 0 && buf[req.start] == ' ')
-            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
-                   "Whitespace bytes received ahead of method. " <<
-                   "Ignored due to relaxed_header_parser.");
-        // Be tolerant of prefix spaces (other bytes are valid method values)
-        for (; req.start < bufsiz && buf[req.start] == ' '; ++req.start);
-    }
-    req.end = -1;
-    for (int i = 0; i < bufsiz; ++i) {
-        // track first and last whitespace (SP only)
-        if (buf[i] == ' ') {
-            last_whitespace = i;
-            if (first_whitespace < req.start)
-                first_whitespace = i;
-        }
-
-        // track next non-SP/non-HT byte after first_whitespace
-        if (second_word < first_whitespace && buf[i] != ' ' && buf[i] != '\t') {
-            second_word = i;
-        }
-
-        // locate line terminator
-        if (buf[i] == '\n') {
-            req.end = i;
-            line_end = i - 1;
-            break;
-        }
-        if (i < bufsiz - 1 && buf[i] == '\r') {
-            if (Config.onoff.relaxed_header_parser) {
-                if (Config.onoff.relaxed_header_parser < 0 && buf[i + 1] == '\r')
-                    debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
-                           "Series of carriage-return bytes received prior to line terminator. " <<
-                           "Ignored due to relaxed_header_parser.");
-
-                // Be tolerant of invalid multiple \r prior to terminal \n
-                if (buf[i + 1] == '\n' || buf[i + 1] == '\r')
-                    line_end = i - 1;
-                while (i < bufsiz - 1 && buf[i + 1] == '\r')
-                    ++i;
-
-                if (buf[i + 1] == '\n') {
-                    req.end = i + 1;
-                    break;
-                }
-            } else {
-                if (buf[i + 1] == '\n') {
-                    req.end = i + 1;
-                    line_end = i - 1;
-                    break;
-                }
-            }
-
-            // RFC 2616 section 5.1
-            // "No CR or LF is allowed except in the final CRLF sequence"
-            request_parse_status = Http::scBadRequest;
-            return -1;
-        }
-    }
-    if (req.end == -1) {
-        debugs(74, 5, "Parser: retval 0: from " << req.start <<
-               "->" << req.end << ": needs more data to complete first line.");
-        return 0;
-    }
+    if (!headerBlockSize() || !name)
+        return NULL;
 
-    // NP: we have now seen EOL, more-data (0) cannot occur.
-    //     From here on any failure is -1, success is 1
+    LOCAL_ARRAY(char, header, GET_HDR_SZ);
+    const int namelen = name ? strlen(name) : 0;
 
-    // Input Validation:
+    debugs(25, 5, "looking for " << name);
 
-    // Process what we now know about the line structure into field offsets
-    // generating HTTP status for any aborts as we go.
+    // while we can find more LF in the SBuf
+    static CharacterSet iso8859Line = CharacterSet("non-LF",'\0','\n'-1) + CharacterSet(NULL, '\n'+1, (unsigned char)0xFF);
+    ::Parser::Tokenizer tok(mimeHeaderBlock_);
+    SBuf p;
+    static const SBuf crlf("\r\n");
 
-    // First non-whitespace = beginning of method
-    if (req.start > line_end) {
-        request_parse_status = Http::scBadRequest;
-        return -1;
-    }
-    req.m_start = req.start;
+    while (tok.prefix(p, iso8859Line)) {
+        tok.skipOne(CharacterSet::LF); // move tokenizer past the LF
 
-    // First whitespace = end of method
-    if (first_whitespace > line_end || first_whitespace < req.start) {
-        request_parse_status = Http::scBadRequest; // no method
-        return -1;
-    }
-    req.m_end = first_whitespace - 1;
-    if (req.m_end < req.m_start) {
-        request_parse_status = Http::scBadRequest; // missing URI?
-        return -1;
-    }
+        // header lines must start with the name (case insensitive)
+        if (p.substr(0, namelen).caseCmp(name, namelen))
+            continue;
 
-    // First non-whitespace after first SP = beginning of URL+Version
-    if (second_word > line_end || second_word < req.start) {
-        request_parse_status = Http::scBadRequest; // missing URI
-        return -1;
-    }
-    req.u_start = second_word;
+        // then a COLON
+        if (p[namelen] != ':')
+            continue;
 
-    // RFC 1945: SP and version following URI are optional, marking version 0.9
-    // we identify this by the last whitespace being earlier than URI start
-    if (last_whitespace < second_word && last_whitespace >= req.start) {
-        req.v_maj = 0;
-        req.v_min = 9;
-        req.u_end = line_end;
-        request_parse_status = Http::scOkay; // HTTP/0.9
-        return 1;
-    } else {
-        // otherwise last whitespace is somewhere after end of URI.
-        req.u_end = last_whitespace;
-        // crop any trailing whitespace in the area we think of as URI
-        for (; req.u_end >= req.u_start && xisspace(buf[req.u_end]); --req.u_end);
-    }
-    if (req.u_end < req.u_start) {
-        request_parse_status = Http::scBadRequest; // missing URI
-        return -1;
-    }
+        // drop any trailing *CR sequence
+        p.trim(crlf, false, true);
 
-    // Last whitespace SP = before start of protocol/version
-    if (last_whitespace >= line_end) {
-        request_parse_status = Http::scBadRequest; // missing version
-        return -1;
-    }
-    req.v_start = last_whitespace + 1;
-    req.v_end = line_end;
+        debugs(25, 5, "checking " << p);
+        p.consume(namelen + 1);
 
-    // We only accept HTTP protocol requests right now.
-    // TODO: accept other protocols; RFC 2326 (RTSP protocol) etc
-    if ((req.v_end - req.v_start +1) < 5 || strncasecmp(&buf[req.v_start], "HTTP/", 5) != 0) {
-#if USE_HTTP_VIOLATIONS
-        // being lax; old parser accepted strange versions
-        // there is a LOT of cases which are ambiguous, therefore we cannot use relaxed_header_parser here.
-        req.v_maj = 0;
-        req.v_min = 9;
-        req.u_end = line_end;
-        request_parse_status = Http::scOkay; // treat as HTTP/0.9
-        return 1;
-#else
-        // protocol not supported / implemented.
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-#endif
-    }
+        // TODO: optimize SBuf::trim to take CharacterSet directly
+        ::Parser::Tokenizer t(p);
+        t.skipAll(CharacterSet::WSP);
+        p = t.remaining();
 
-    int i = req.v_start + sizeof("HTTP/") -1;
+        // prevent buffer overrun on char header[];
+        p.chop(0, sizeof(header)-1);
 
-    /* next should be 1 or more digits */
-    if (!isdigit(buf[i])) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    int maj = 0;
-    for (; i <= line_end && (isdigit(buf[i])) && maj < 65536; ++i) {
-        maj = maj * 10;
-        maj = maj + (buf[i]) - '0';
+        // return the header field-value
+        xstrncpy(header, p.rawContent(), p.length());
+        debugs(25, 5, "returning " << header);
+        return header;
     }
-    // catch too-big values or missing remainders
-    if (maj >= 65536 || i > line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    req.v_maj = maj;
 
-    /* next should be .; we -have- to have this as we have a whole line.. */
-    if (buf[i] != '.') {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    // catch missing minor part
-    if (++i > line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    /* next should be one or more digits */
-    if (!isdigit(buf[i])) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    int min = 0;
-    for (; i <= line_end && (isdigit(buf[i])) && min < 65536; ++i) {
-        min = min * 10;
-        min = min + (buf[i]) - '0';
-    }
-    // catch too-big values or trailing garbage
-    if (min >= 65536 || i < line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    req.v_min = min;
-
-    /*
-     * Rightio - we have all the schtuff. Return true; we've got enough.
-     */
-    request_parse_status = Http::scOkay;
-    return 1;
-}
-
-int
-HttpParserParseReqLine(HttpParser *hmsg)
-{
-    PROF_start(HttpParserParseReqLine);
-    int retcode = hmsg->parseRequestFirstLine();
-    debugs(74, 5, "Parser: retval " << retcode << ": from " << hmsg->req.start <<
-           "->" << hmsg->req.end << ": method " << hmsg->req.m_start << "->" <<
-           hmsg->req.m_end << "; url " << hmsg->req.u_start << "->" << hmsg->req.u_end <<
-           "; version " << hmsg->req.v_start << "->" << hmsg->req.v_end << " (" << hmsg->req.v_maj <<
-           "/" << hmsg->req.v_min << ")");
-    PROF_stop(HttpParserParseReqLine);
-    return retcode;
-}
-
-#if MSGDODEBUG
-/* XXX This should eventually turn into something inlined or #define'd */
-int
-HttpParserReqSz(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->req.start != -1);
-    assert(hp->req.end != -1);
-    return hp->req.end - hp->req.start + 1;
-}
-
-/*
- * This +1 makes it 'right' but won't make any sense if
- * there's a 0 byte header? This won't happen normally - a valid header
- * is at -least- a blank line (\n, or \r\n.)
- */
-int
-HttpParserHdrSz(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->hdr_start != -1);
-    assert(hp->hdr_end != -1);
-    return hp->hdr_end - hp->hdr_start + 1;
-}
-
-const char *
-HttpParserHdrBuf(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->hdr_start != -1);
-    assert(hp->hdr_end != -1);
-    return hp->buf + hp->hdr_start;
+    return NULL;
 }
-
-int
-HttpParserRequestLen(HttpParser *hp)
-{
-    return hp->hdr_end - hp->req.start + 1;
-}
-#endif
-

=== renamed file 'src/HttpParser.h' => 'src/http/one/Parser.h'
--- src/HttpParser.h	2014-09-13 13:59:43 +0000
+++ src/http/one/Parser.h	2014-09-14 12:26:22 +0000
@@ -1,104 +1,109 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
-#ifndef _SQUID_SRC_HTTPPARSER_H
-#define _SQUID_SRC_HTTPPARSER_H
+#ifndef _SQUID_SRC_HTTP_ONE_PARSER_H
+#define _SQUID_SRC_HTTP_ONE_PARSER_H
 
-#include "http/StatusCode.h"
+#include "anyp/ProtocolVersion.h"
+#include "http/one/forward.h"
+#include "SBuf.h"
+
+namespace Http {
+namespace One {
 
 // Parser states
-#define HTTP_PARSE_NONE   0 // nothing. completely unset state.
-#define HTTP_PARSE_NEW    1 // initialized, but nothing usefully parsed yet.
+enum ParseState {
+    HTTP_PARSE_NONE,     ///< initialized, but nothing usefully parsed yet
+    HTTP_PARSE_FIRST,    ///< HTTP/1 message first-line
+    HTTP_PARSE_MIME,     ///< HTTP/1 mime-header block
+    HTTP_PARSE_DONE      ///< parsed a message header, or reached a terminal syntax error
+};
 
-/** HTTP protocol parser.
+/** HTTP/1.x protocol parser
  *
  * Works on a raw character I/O buffer and tokenizes the content into
- * either an error state or, an HTTP procotol request major segments:
- *  1. Request Line (method, URL, protocol, version)
- *  2. Mime header block
+ * the major CRLF delimited segments of an HTTP/1 procotol message:
+ *
+ * \item first-line (request-line / simple-request / status-line)
+ * \item mime-header 0*( header-name ':' SP field-value CRLF)
  */
-class HttpParser
+class Parser : public RefCountable
 {
 public:
-    HttpParser() { clear(); }
+    typedef SBuf::size_type size_type;
 
-    /** Initialize a new parser.
-     * Presenting it a buffer to work on and the current length of available
-     * data.
-     * NOTE: This is *not* the buffer size, just the parse-able data length.
-     * The parse routines may be called again later with more data.
-     */
-    HttpParser(const char *aBuf, int len) { reset(aBuf,len); };
+    Parser() : parsingStage_(HTTP_PARSE_NONE) {}
 
     /// Set this parser back to a default state.
     /// Will DROP any reference to a buffer (does not free).
-    void clear();
+    virtual void clear();
+
+    /// attempt to parse a message from the buffer
+    /// \retval true if a full message was found and parsed
+    /// \retval false if incomplete, invalid or no message was found
+    virtual bool parse(const SBuf &aBuf) = 0;
+
+    /** Whether the parser is waiting on more data to complete parsing a message.
+     * Use to distinguish between incomplete data and error results
+     * when parse() returns false.
+     */
+    bool needsMoreData() const {return parsingStage_!=HTTP_PARSE_DONE;}
+
+    /// size in bytes of the first line including CRLF terminator
+    virtual size_type firstLineSize() const = 0;
 
-    /// Reset the parser for use on a new buffer.
-    void reset(const char *aBuf, int len);
+    /// size in bytes of the message headers including CRLF terminator(s)
+    /// but excluding first-line bytes
+    size_type headerBlockSize() const {return mimeHeaderBlock_.length();}
+
+    /// size in bytes of HTTP message block, includes first-line and mime headers
+    /// excludes any body/entity/payload bytes
+    /// excludes any garbage prefix before the first-line
+    size_type messageHeaderSize() const {return firstLineSize() + headerBlockSize();}
+
+    /// buffer containing HTTP mime headers, excluding message first-line.
+    SBuf mimeHeader() const {return mimeHeaderBlock_;}
+
+    /// the protocol label for this message
+    const AnyP::ProtocolVersion & messageProtocol() const {return msgProtocol_;}
 
     /**
-     * Attempt to parse the first line of a new request message.
+     * Scan the mime header block (badly) for a header with teh given name.
      *
-     * Governed by:
-     *  RFC 1945 section 5.1
-     *  RFC 2616 section 5.1
+     * BUG: omits lines when searching for headers with obs-fold or multiple entries.
      *
-     * Parsing state is stored between calls. However the current implementation
-     * begins parsing from scratch on every call.
-     * The return value tells you whether the parsing state fields are valid or not.
+     * BUG: limits output to just 1KB when Squid accepts up to 64KB line length.
      *
-     * \retval -1  an error occurred. request_parse_status indicates HTTP status result.
-     * \retval  1  successful parse. member fields contain the request-line items
-     * \retval  0  more data is needed to complete the parse
+     * \return A pointer to a field-value of the first matching field-name, or NULL.
      */
-    int parseRequestFirstLine();
+    char *getHeaderField(const char *name);
 
-public:
-    uint8_t state;
-    const char *buf;
-    int bufsiz;
-
-    /// Offsets for pieces of the (HTTP request) Request-Line as per RFC 2616
-    struct request_offsets {
-        int start, end;
-        int m_start, m_end; // method
-        int u_start, u_end; // url
-        int v_start, v_end; // version (full text)
-        int v_maj, v_min;   // version numerics
-    } req;
+    /// the remaining unprocessed section of buffer
+    const SBuf &remaining() const {return buf_;}
 
-    // Offsets for pieces of the MiME Header segment
-    int hdr_start, hdr_end;
+protected:
+    /// RFC 7230 section 2.6 - 7 magic octets
+    static const SBuf Http1magic;
 
-    // TODO: Offsets for pieces of the (HTTP reply) Status-Line as per RFC 2616
+    /// bytes remaining to be parsed
+    SBuf buf_;
 
-    /** HTTP status code to be used on the invalid-request error page
-     * Http::scNone indicates incomplete parse, Http::scOkay indicates no error.
-     */
-    Http::StatusCode request_parse_status;
+    /// what stage the parser is currently up to
+    ParseState parsingStage_;
+
+    /// what protocol label has been found in the first line (if any)
+    AnyP::ProtocolVersion msgProtocol_;
+
+    /// buffer holding the mime headers (if any)
+    SBuf mimeHeaderBlock_;
 };
 
-// Legacy functions
-#define HttpParserInit(h,b,l) (h)->reset((b),(l))
-int HttpParserParseReqLine(HttpParser *hp);
-
-#define MSGDODEBUG 0
-#if MSGDODEBUG
-int HttpParserReqSz(HttpParser *);
-int HttpParserHdrSz(HttpParser *);
-const char * HttpParserHdrBuf(HttpParser *);
-int HttpParserRequestLen(HttpParser *hp);
-#else
-#define HttpParserReqSz(hp)     ( (hp)->req.end - (hp)->req.start + 1 )
-#define HttpParserHdrSz(hp)     ( (hp)->hdr_end - (hp)->hdr_start + 1 )
-#define HttpParserHdrBuf(hp)    ( (hp)->buf + (hp)->hdr_start )
-#define HttpParserRequestLen(hp)        ( (hp)->hdr_end - (hp)->req.start + 1 )
-#endif
+} // namespace One
+} // namespace Http
 
-#endif /*  _SQUID_SRC_HTTPPARSER_H */
+#endif /*  _SQUID_SRC_HTTP_ONE_PARSER_H */

=== added file 'src/http/one/RequestParser.cc'
--- src/http/one/RequestParser.cc	1970-01-01 00:00:00 +0000
+++ src/http/one/RequestParser.cc	2014-10-11 19:43:55 +0000
@@ -0,0 +1,359 @@
+#include "squid.h"
+#include "Debug.h"
+#include "http/one/RequestParser.h"
+#include "http/ProtocolVersion.h"
+#include "mime_header.h"
+#include "profiler/Profiler.h"
+#include "SquidConfig.h"
+
+void
+Http::One::RequestParser::clear()
+{
+    Http1::Parser::clear();
+
+    request_parse_status = Http::scNone;
+    req.start = req.end = -1;
+    req.m_start = req.m_end = -1;
+    req.u_start = req.u_end = -1;
+    req.v_start = req.v_end = -1;
+    method_ = HttpRequestMethod();
+}
+
+/**
+ * Attempt to parse the first line of a new request message.
+ *
+ * Governed by RFC 7230 section 3.5
+ *  "
+ *    In the interest of robustness, a server that is expecting to receive
+ *    and parse a request-line SHOULD ignore at least one empty line (CRLF)
+ *    received prior to the request-line.
+ *  "
+ *
+ * Parsing state is stored between calls to avoid repeating buffer scans.
+ * If garbage is found the parsing offset is incremented.
+ */
+void
+Http::One::RequestParser::skipGarbageLines()
+{
+    if (Config.onoff.relaxed_header_parser) {
+        if (Config.onoff.relaxed_header_parser < 0 && (buf_[0] == '\r' || buf_[0] == '\n'))
+            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                   "CRLF bytes received ahead of request-line. " <<
+                   "Ignored due to relaxed_header_parser.");
+        // Be tolerant of prefix empty lines
+        // ie any series of either \n or \r\n with no other characters and no repeated \r
+        while (!buf_.isEmpty() && (buf_[0] == '\n' || (buf_[0] == '\r' && buf_[1] == '\n'))) {
+            buf_.consume(1);
+        }
+    }
+
+    /* XXX: this is a Squid-specific tolerance
+     * it appears never to have been relevant outside out unit-tests
+     * because the ConnStateData parser loop starts with consumeWhitespace()
+     * which absorbs any SP HTAB VTAB CR LF characters.
+     * But unit-tests called the HttpParser method directly without that pruning.
+     */
+#if USE_HTTP_VIOLATIONS
+    if (Config.onoff.relaxed_header_parser) {
+        if (Config.onoff.relaxed_header_parser < 0 && buf_[0] == ' ')
+            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                   "Whitespace bytes received ahead of method. " <<
+                   "Ignored due to relaxed_header_parser.");
+        // Be tolerant of prefix spaces (other bytes are valid method values)
+        while (!buf_.isEmpty() && buf_[0] == ' ') {
+            buf_.consume(1);
+        }
+    }
+#endif
+}
+
+/**
+ * Attempt to parse the first line of a new request message.
+ *
+ * Governed by:
+ *  RFC 1945 section 5.1
+ *  RFC 7230 section 3.1 and 3.5
+ *
+ * Parsing state is stored between calls. However the current implementation
+ * begins parsing from scratch on every call.
+ * The return value tells you whether the parsing state fields are valid or not.
+ *
+ * \retval -1  an error occurred. request_parse_status indicates HTTP status result.
+ * \retval  1  successful parse. member fields contain the request-line items
+ * \retval  0  more data is needed to complete the parse
+ */
+int
+Http::One::RequestParser::parseRequestFirstLine()
+{
+    int second_word = -1; // track the suspected URI start
+    int first_whitespace = -1, last_whitespace = -1; // track the first and last SP byte
+    int line_end = -1; // tracks the last byte BEFORE terminal \r\n or \n sequence
+
+    debugs(74, 5, "parsing possible request: buf.length=" << buf_.length());
+    debugs(74, DBG_DATA, buf_);
+
+    // Single-pass parse: (provided we have the whole line anyways)
+
+    req.start = 0;
+    req.end = -1;
+    for (SBuf::size_type i = 0; i < buf_.length(); ++i) {
+        // track first and last whitespace (SP only)
+        if (buf_[i] == ' ') {
+            last_whitespace = i;
+            if (first_whitespace < req.start)
+                first_whitespace = i;
+        }
+
+        // track next non-SP/non-HT byte after first_whitespace
+        if (second_word < first_whitespace && buf_[i] != ' ' && buf_[i] != '\t') {
+            second_word = i;
+        }
+
+        // locate line terminator
+        if (buf_[i] == '\n') {
+            req.end = i;
+            line_end = i - 1;
+            break;
+        }
+        if (i < buf_.length() - 1 && buf_[i] == '\r') {
+            if (Config.onoff.relaxed_header_parser) {
+                if (Config.onoff.relaxed_header_parser < 0 && buf_[i + 1] == '\r')
+                    debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                           "Series of carriage-return bytes received prior to line terminator. " <<
+                           "Ignored due to relaxed_header_parser.");
+
+                // Be tolerant of invalid multiple \r prior to terminal \n
+                if (buf_[i + 1] == '\n' || buf_[i + 1] == '\r')
+                    line_end = i - 1;
+                while (i < buf_.length() - 1 && buf_[i + 1] == '\r')
+                    ++i;
+
+                if (buf_[i + 1] == '\n') {
+                    req.end = i + 1;
+                    break;
+                }
+            } else {
+                if (buf_[i + 1] == '\n') {
+                    req.end = i + 1;
+                    line_end = i - 1;
+                    break;
+                }
+            }
+
+            // RFC 7230 section 3.1.1 does not prohibit embeded CR like RFC 2616 used to.
+            // However it does explicitly state an exact syntax which omits un-encoded CR
+            // and defines 400 (Bad Request) as the required action when
+            // handed an invalid request-line.
+            request_parse_status = Http::scBadRequest;
+            return -1;
+        }
+    }
+
+    if (req.end == -1) {
+        // DoS protection against long first-line
+        if ((size_t)buf_.length() >= Config.maxRequestHeaderSize) {
+            debugs(33, 5, "Too large request-line");
+            // RFC 7230 section 3.1.1 mandatory 414 response if URL longer than acceptible.
+            request_parse_status = Http::scUriTooLong;
+            return -1;
+        }
+
+        debugs(74, 5, "Parser: retval 0: from " << req.start <<
+               "->" << req.end << ": needs more data to complete first line.");
+        return 0;
+    }
+
+    // NP: we have now seen EOL, more-data (0) cannot occur.
+    //     From here on any failure is -1, success is 1
+
+    // Input Validation:
+
+    // DoS protection against long first-line
+    if ((size_t)(req.end-req.start) >= Config.maxRequestHeaderSize) {
+        debugs(33, 5, "Too large request-line");
+        request_parse_status = Http::scUriTooLong;
+        return -1;
+    }
+
+    // Process what we now know about the line structure into field offsets
+    // generating HTTP status for any aborts as we go.
+
+    // First non-whitespace = beginning of method
+    if (req.start > line_end) {
+        request_parse_status = Http::scBadRequest;
+        return -1;
+    }
+    req.m_start = req.start;
+
+    // First whitespace = end of method
+    if (first_whitespace > line_end || first_whitespace < req.start) {
+        request_parse_status = Http::scBadRequest; // no method
+        return -1;
+    }
+    req.m_end = first_whitespace - 1;
+    if (req.m_end < req.m_start) {
+        request_parse_status = Http::scBadRequest; // missing URI?
+        return -1;
+    }
+
+    /* Set method_ */
+    const SBuf tmp = buf_.substr(req.m_start, req.m_end - req.m_start + 1);
+    method_ = HttpRequestMethod(tmp);
+
+    // First non-whitespace after first SP = beginning of URL+Version
+    if (second_word > line_end || second_word < req.start) {
+        request_parse_status = Http::scBadRequest; // missing URI
+        return -1;
+    }
+    req.u_start = second_word;
+
+    // RFC 1945: SP and version following URI are optional, marking version 0.9
+    // we identify this by the last whitespace being earlier than URI start
+    if (last_whitespace < second_word && last_whitespace >= req.start) {
+        msgProtocol_ = Http::ProtocolVersion(0,9);
+        req.u_end = line_end;
+        uri_ = buf_.substr(req.u_start, req.u_end - req.u_start + 1);
+        request_parse_status = Http::scOkay; // HTTP/0.9
+        return 1;
+    } else {
+        // otherwise last whitespace is somewhere after end of URI.
+        req.u_end = last_whitespace;
+        // crop any trailing whitespace in the area we think of as URI
+        for (; req.u_end >= req.u_start && xisspace(buf_[req.u_end]); --req.u_end);
+    }
+    if (req.u_end < req.u_start) {
+        request_parse_status = Http::scBadRequest; // missing URI
+        return -1;
+    }
+    uri_ = buf_.substr(req.u_start, req.u_end - req.u_start + 1);
+
+    // Last whitespace SP = before start of protocol/version
+    if (last_whitespace >= line_end) {
+        request_parse_status = Http::scBadRequest; // missing version
+        return -1;
+    }
+    req.v_start = last_whitespace + 1;
+    req.v_end = line_end;
+
+    /* RFC 7230 section 2.6 : handle unsupported HTTP major versions cleanly. */
+    if ((req.v_end - req.v_start +1) < (int)Http1magic.length() || !buf_.substr(req.v_start, SBuf::npos).startsWith(Http1magic)) {
+        // non-HTTP/1 protocols not supported / implemented.
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    // NP: magic octets include the protocol name and major version DIGIT.
+    msgProtocol_.protocol = AnyP::PROTO_HTTP;
+    msgProtocol_.major = 1;
+
+    int i = req.v_start + Http1magic.length() -1;
+
+    // catch missing minor part
+    if (++i > line_end) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    /* next should be one or more digits */
+    if (!isdigit(buf_[i])) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    int min = 0;
+    for (; i <= line_end && (isdigit(buf_[i])) && min < 65536; ++i) {
+        min = min * 10;
+        min = min + (buf_[i]) - '0';
+    }
+    // catch too-big values or trailing garbage
+    if (min >= 65536 || i < line_end) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    msgProtocol_.minor = min;
+
+    /*
+     * Rightio - we have all the schtuff. Return true; we've got enough.
+     */
+    request_parse_status = Http::scOkay;
+    return 1;
+}
+
+bool
+Http::One::RequestParser::parse(const SBuf &aBuf)
+{
+    buf_ = aBuf;
+    debugs(74, DBG_DATA, "Parse buf={length=" << aBuf.length() << ", data='" << aBuf << "'}");
+
+    // stage 1: locate the request-line
+    if (parsingStage_ == HTTP_PARSE_NONE) {
+        skipGarbageLines();
+
+        // if we hit something before EOS treat it as a message
+        if (!buf_.isEmpty())
+            parsingStage_ = HTTP_PARSE_FIRST;
+        else
+            return false;
+    }
+
+    // stage 2: parse the request-line
+    if (parsingStage_ == HTTP_PARSE_FIRST) {
+        PROF_start(HttpParserParseReqLine);
+        const int retcode = parseRequestFirstLine();
+
+        // first-line (or a look-alike) found successfully.
+        if (retcode > 0) {
+            buf_.consume(firstLineSize()); // first line bytes including CRLF terminator are now done.
+            parsingStage_ = HTTP_PARSE_MIME;
+        }
+
+        debugs(74, 5, "request-line: retval " << retcode << ": from " << req.start << "->" << req.end <<
+               " line={" << aBuf.length() << ", data='" << aBuf << "'}");
+        debugs(74, 5, "request-line: method " << req.m_start << "->" << req.m_end << " (" << method_ << ")");
+        debugs(74, 5, "request-line: url " << req.u_start << "->" << req.u_end << " (" << uri_ << ")");
+        debugs(74, 5, "request-line: proto " << req.v_start << "->" << req.v_end << " (" << msgProtocol_ << ")");
+        debugs(74, 5, "Parser: bytes processed=" << (aBuf.length()-buf_.length()));
+        PROF_stop(HttpParserParseReqLine);
+
+        // syntax errors already
+        if (retcode < 0) {
+            parsingStage_ = HTTP_PARSE_DONE;
+            return false;
+        }
+    }
+
+    // stage 3: locate the mime header block
+    if (parsingStage_ == HTTP_PARSE_MIME) {
+        // HTTP/1.x request-line is valid and parsing completed.
+        if (msgProtocol_.major == 1) {
+            /* NOTE: HTTP/0.9 requests do not have a mime header block.
+             *       So the rest of the code will need to deal with '0'-byte headers
+             *       (ie, none, so don't try parsing em)
+             */
+            int64_t mimeHeaderBytes = 0;
+            // XXX: c_str() reallocates. performance regression.
+            if ((mimeHeaderBytes = headersEnd(buf_.c_str(), buf_.length())) == 0) {
+                if (buf_.length()+firstLineSize() >= Config.maxRequestHeaderSize) {
+                    debugs(33, 5, "Too large request");
+                    request_parse_status = Http::scRequestHeaderFieldsTooLarge;
+                    parsingStage_ = HTTP_PARSE_DONE;
+                } else
+                    debugs(33, 5, "Incomplete request, waiting for end of headers");
+                return false;
+            }
+            mimeHeaderBlock_ = buf_.consume(mimeHeaderBytes);
+            debugs(74, 5, "mime header (0-" << mimeHeaderBytes << ") {" << mimeHeaderBlock_ << "}");
+
+        } else
+            debugs(33, 3, "Missing HTTP/1.x identifier");
+
+        // NP: we do not do any further stages here yet so go straight to DONE
+        parsingStage_ = HTTP_PARSE_DONE;
+
+        // Squid could handle these headers, but admin does not want to
+        if (messageHeaderSize() >= Config.maxRequestHeaderSize) {
+            debugs(33, 5, "Too large request");
+            request_parse_status = Http::scRequestHeaderFieldsTooLarge;
+            return false;
+        }
+    }
+
+    return !needsMoreData();
+}

=== added file 'src/http/one/RequestParser.h'
--- src/http/one/RequestParser.h	1970-01-01 00:00:00 +0000
+++ src/http/one/RequestParser.h	2014-10-11 09:16:29 +0000
@@ -0,0 +1,63 @@
+#ifndef _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H
+#define _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H
+
+#include "http/one/Parser.h"
+#include "http/RequestMethod.h"
+#include "http/StatusCode.h"
+
+namespace Http {
+namespace One {
+
+/** HTTP/1.x protocol request parser
+ *
+ * Works on a raw character I/O buffer and tokenizes the content into
+ * the major CRLF delimited segments of an HTTP/1 request message:
+ *
+ * \item request-line (method, URL, protocol, version)
+ * \item mime-header (set of RFC2616 syntax header fields)
+ */
+class RequestParser : public Http1::Parser
+{
+public:
+    /* Http::One::Parser API */
+    RequestParser() : Parser() {clear();}
+    virtual void clear();
+    virtual Http1::Parser::size_type firstLineSize() const {return req.end - req.start + 1;}
+    virtual bool parse(const SBuf &aBuf);
+
+    /// the HTTP method if this is a request message
+    const HttpRequestMethod & method() const {return method_;}
+
+    /// the request-line URI if this is a request message, or an empty string.
+    const SBuf &requestUri() const {return uri_;}
+
+    /** HTTP status code to be used on the invalid-request error page.
+     * Http::scNone indicates incomplete parse,
+     * Http::scOkay indicates no error.
+     */
+    Http::StatusCode request_parse_status;
+
+private:
+    void skipGarbageLines();
+    int parseRequestFirstLine();
+
+    /// Offsets for pieces of the (HTTP request) Request-Line as per RFC 7230 section 3.1.1.
+    /// only valid before and during parse stage HTTP_PARSE_FIRST
+    struct request_offsets {
+        int start, end;
+        int m_start, m_end; // method
+        int u_start, u_end; // url
+        int v_start, v_end; // version (full text)
+    } req;
+
+    /// what request method has been found on the first line
+    HttpRequestMethod method_;
+
+    /// raw copy of the origina client reqeust-line URI field
+    SBuf uri_;
+};
+
+} // namespace One
+} // namespace Http
+
+#endif /*  _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H */

=== added file 'src/http/one/forward.h'
--- src/http/one/forward.h	1970-01-01 00:00:00 +0000
+++ src/http/one/forward.h	2014-07-30 07:38:25 +0000
@@ -0,0 +1,20 @@
+#ifndef SQUID_SRC_HTTP_ONE_FORWARD_H
+#define SQUID_SRC_HTTP_ONE_FORWARD_H
+
+#include "base/RefCount.h"
+
+namespace Http {
+namespace One {
+
+class Parser;
+typedef RefCount<Http::One::Parser> ParserPointer;
+
+class RequestParser;
+typedef RefCount<Http::One::RequestParser> RequestParserPointer;
+
+} // namespace One
+} // namespace Http
+
+namespace Http1 = Http::One;
+
+#endif /* SQUID_SRC_HTTP_ONE_FORWARD_H */

=== modified file 'src/mgr/ActionParams.cc'
--- src/mgr/ActionParams.cc	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionParams.cc	2014-09-14 12:23:03 +0000
@@ -6,41 +6,41 @@
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #include "squid.h"
 #include "base/TextException.h"
 #include "ipc/TypedMsgHdr.h"
 #include "mgr/ActionParams.h"
 
 Mgr::ActionParams::ActionParams(): httpMethod(Http::METHOD_NONE)
 {
 }
 
 Mgr::ActionParams::ActionParams(const Ipc::TypedMsgHdr &msg)
 {
     msg.getString(httpUri);
 
     String method;
     msg.getString(method);
-    httpMethod = HttpRequestMethod(method.termedBuf(), NULL);
+    httpMethod = HttpRequestMethod(method.termedBuf());
 
     msg.getPod(httpFlags);
     msg.getString(httpOrigin);
 
     msg.getString(actionName);
     msg.getString(userName);
     msg.getString(password);
     queryParams.unpack(msg);
 }
 
 void
 Mgr::ActionParams::pack(Ipc::TypedMsgHdr &msg) const
 {
     msg.putString(httpUri);
     String foo(httpMethod.image().toString());
     msg.putString(foo);
     msg.putPod(httpFlags);
     msg.putString(httpOrigin);
 
     msg.putString(actionName);

=== modified file 'src/mgr/ActionParams.h'
--- src/mgr/ActionParams.h	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionParams.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_ACTION_PARAMS_H
 #define SQUID_MGR_ACTION_PARAMS_H
 
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "ipc/forward.h"
 #include "mgr/QueryParams.h"
 #include "RequestFlags.h"
 
 namespace Mgr
 {
 
 /// Cache Manager Action parameters extracted from the user request
 class ActionParams
 {
 public:
     ActionParams();
 
     explicit ActionParams(const Ipc::TypedMsgHdr &msg); ///< load from msg
     void pack(Ipc::TypedMsgHdr &msg) const; ///< store into msg
 
 public:
     /* details of the client HTTP request that caused the action */
     String httpUri; ///< HTTP request URI
     HttpRequestMethod httpMethod; ///< HTTP request method

=== modified file 'src/mgr/ActionWriter.h'
--- src/mgr/ActionWriter.h	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionWriter.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_ACTION_WRITER_H
 #define SQUID_MGR_ACTION_WRITER_H
 
 #include "comm/forward.h"
-#include "HttpRequestMethod.h"
 #include "mgr/StoreToCommWriter.h"
 
 namespace Mgr
 {
 
 /// Creates Store entry, fills it using action's fillEntry(), and
 /// Comm-writes it using parent StoreToCommWriter.
 class ActionWriter: public StoreToCommWriter
 {
 public:
     ActionWriter(const Action::Pointer &anAction, const Comm::ConnectionPointer &conn);
 
 protected:
     /* AsyncJob API */
     virtual void start();
 
 private:
     Action::Pointer action; ///< action that fills the entry
 
     CBDATA_CLASS2(ActionWriter);

=== modified file 'src/mgr/Filler.h'
--- src/mgr/Filler.h	2014-09-13 13:59:43 +0000
+++ src/mgr/Filler.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_FILLER_H
 #define SQUID_MGR_FILLER_H
 
 #include "comm/forward.h"
-#include "HttpRequestMethod.h"
 #include "mgr/Action.h"
 #include "mgr/StoreToCommWriter.h"
 
 namespace Mgr
 {
 
 /// provides Coordinator with a local cache manager response
 class Filler: public StoreToCommWriter
 {
 public:
     Filler(const Action::Pointer &anAction, const Comm::ConnectionPointer &conn, unsigned int aRequestId);
 
 protected:
     /* AsyncJob API */
     virtual void start();
     virtual void swanSong();
 
 private:
     Action::Pointer action; ///< action that will run() and sendResponse()
     unsigned int requestId; ///< the ID of the Request we are responding to

=== modified file 'src/mime.cc'
--- src/mime.cc	2014-09-13 13:59:43 +0000
+++ src/mime.cc	2014-09-14 12:23:03 +0000
@@ -12,42 +12,40 @@
 #include "disk.h"
 #include "fde.h"
 #include "globals.h"
 #include "HttpHdrCc.h"
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "internal.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "MemObject.h"
 #include "mime.h"
 #include "RequestFlags.h"
 #include "SquidConfig.h"
 #include "Store.h"
 #include "StoreClient.h"
 
 #if HAVE_SYS_STAT_H
 #include <sys/stat.h>
 #endif
 
-#define GET_HDR_SZ 1024
-
 /* forward declarations */
 static void mimeFreeMemory(void);
 static char const *mimeGetIcon(const char *fn);
 
 class MimeIcon : public StoreClient
 {
 public:
     explicit MimeIcon(const char *aName);
     ~MimeIcon();
     void setName(char const *);
     char const * getName() const;
     void load();
     void created(StoreEntry *newEntry);
     MEMPROXY_CLASS(MimeIcon);
 
 private:
     const char *icon_;
     char *url_;
 };
 MEMPROXY_CLASS_INLINE(MimeIcon);

=== modified file 'src/mime_header.cc'
--- src/mime_header.cc	2014-09-13 13:59:43 +0000
+++ src/mime_header.cc	2014-09-14 12:23:03 +0000
@@ -1,116 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 25    MiME Header Parsing */
 
 #include "squid.h"
-
-#define GET_HDR_SZ 1024
 #include "Debug.h"
 #include "profiler/Profiler.h"
 
-/*
- * returns a pointer to a field-value of the first matching field-name where
- * field-value matches prefix if any
- */
-char *
-mime_get_header_field(const char *mime, const char *name, const char *prefix)
-{
-    LOCAL_ARRAY(char, header, GET_HDR_SZ);
-    const char *p = NULL;
-    char *q = NULL;
-    char got = 0;
-    const int namelen = name ? strlen(name) : 0;
-    const int preflen = prefix ? strlen(prefix) : 0;
-    int l;
-
-    if (NULL == mime)
-        return NULL;
-
-    assert(NULL != name);
-
-    debugs(25, 5, "mime_get_header: looking for '" << name << "'");
-
-    for (p = mime; *p; p += strcspn(p, "\n\r")) {
-        if (strcmp(p, "\r\n\r\n") == 0 || strcmp(p, "\n\n") == 0)
-            return NULL;
-
-        while (xisspace(*p))
-            ++p;
-
-        if (strncasecmp(p, name, namelen))
-            continue;
-
-        if (!xisspace(p[namelen]) && p[namelen] != ':')
-            continue;
-
-        l = strcspn(p, "\n\r") + 1;
-
-        if (l > GET_HDR_SZ)
-            l = GET_HDR_SZ;
-
-        xstrncpy(header, p, l);
-
-        debugs(25, 5, "mime_get_header: checking '" << header << "'");
-
-        q = header;
-
-        q += namelen;
-
-        if (*q == ':') {
-            ++q;
-            got = 1;
-        }
-
-        while (xisspace(*q)) {
-            ++q;
-            got = 1;
-        }
-
-        if (got && prefix) {
-            /* we could process list entries here if we had strcasestr(). */
-            /* make sure we did not match a part of another field-value */
-            got = !strncasecmp(q, prefix, preflen) && !xisalpha(q[preflen]);
-        }
-
-        if (got) {
-            debugs(25, 5, "mime_get_header: returning '" << q << "'");
-            return q;
-        }
-    }
-
-    return NULL;
-}
-
-/* returns a pointer to a field-value of the first matching field-name */
-char *
-mime_get_header(const char *mime, const char *name)
-{
-    return mime_get_header_field(mime, name, NULL);
-}
-
 size_t
 headersEnd(const char *mime, size_t l)
 {
     size_t e = 0;
     int state = 1;
 
     PROF_start(headersEnd);
 
     while (e < l && state < 3) {
         switch (state) {
 
         case 0:
 
             if ('\n' == mime[e])
                 state = 1;
 
             break;
 
         case 1:
             if ('\r' == mime[e])

=== modified file 'src/mime_header.h'
--- src/mime_header.h	2014-09-13 13:59:43 +0000
+++ src/mime_header.h	2014-09-14 12:23:03 +0000
@@ -1,18 +1,16 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 25    MiME Header Parsing */
 
 #ifndef SQUID_MIME_HEADER_H_
 #define SQUID_MIME_HEADER_H_
 
-char *mime_get_header(const char *mime, const char *header);
-char *mime_get_header_field(const char *mime, const char *name, const char *prefix);
 size_t headersEnd(const char *, size_t);
 
 #endif /* SQUID_MIME_HEADER_H_ */

=== modified file 'src/servers/FtpServer.cc'
--- src/servers/FtpServer.cc	2014-09-29 05:13:17 +0000
+++ src/servers/FtpServer.cc	2014-10-05 10:43:33 +0000
@@ -7,40 +7,41 @@
  */
 
 /* DEBUG: section 33    Transfer protocol servers */
 
 #include "squid.h"
 #include "base/CharacterSet.h"
 #include "base/RefCount.h"
 #include "base/Subscription.h"
 #include "client_side_reply.h"
 #include "client_side_request.h"
 #include "clientStream.h"
 #include "comm/ConnOpener.h"
 #include "comm/Read.h"
 #include "comm/TcpAcceptor.h"
 #include "comm/Write.h"
 #include "errorpage.h"
 #include "fd.h"
 #include "ftp/Elements.h"
 #include "ftp/Parsing.h"
 #include "globals.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrCc.h"
 #include "ip/tools.h"
 #include "ipc/FdNotes.h"
 #include "parser/Tokenizer.h"
 #include "servers/forward.h"
 #include "servers/FtpServer.h"
 #include "SquidConfig.h"
 #include "StatCounters.h"
 #include "tools.h"
 
 #include <set>
 #include <map>
 
 CBDATA_NAMESPACED_CLASS_INIT(Ftp, Server);
 
 namespace Ftp
 {
 static void PrintReply(MemBuf &mb, const HttpReply *reply, const char *const prefix = "");
 static bool SupportedCommand(const SBuf &name);
 static bool CommandHasPathParameter(const SBuf &cmd);
@@ -123,49 +124,48 @@
 {
     // zero pipelinePrefetchMax() ensures that there is only parsed request
     ClientSocketContext::Pointer context = getCurrentContext();
     Must(context != NULL);
     Must(getConcurrentRequestCount() == 1);
 
     ClientHttpRequest *const http = context->http;
     assert(http != NULL);
 
     HttpRequest *const request = http->request;
     Must(http->storeEntry() || request);
     const bool mayForward = !http->storeEntry() && handleRequest(request);
 
     if (http->storeEntry() != NULL) {
         debugs(33, 4, "got an immediate response");
         clientSetKeepaliveFlag(http);
         context->pullData();
     } else if (mayForward) {
         debugs(33, 4, "forwarding request to server side");
         assert(http->storeEntry() == NULL);
-        clientProcessRequest(this, NULL /*parser*/, context.getRaw(),
-                             request->method, request->http_ver);
+        clientProcessRequest(this, Http1::RequestParserPointer(), context.getRaw());
     } else {
         debugs(33, 4, "will resume processing later");
     }
 }
 
 void
-Ftp::Server::processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &)
+Ftp::Server::processParsedRequest(ClientSocketContext *context)
 {
     Must(getConcurrentRequestCount() == 1);
 
     // Process FTP request asynchronously to make sure FTP
     // data connection accept callback is fired first.
     CallJobHere(33, 4, CbcPointer<Server>(this),
                 Ftp::Server, doProcessRequest);
 }
 
 /// imports more upload data from the data connection
 void
 Ftp::Server::readUploadData(const CommIoCbParams &io)
 {
     debugs(33, 5, io.conn << " size " << io.size);
     Must(reader != NULL);
     reader = NULL;
 
     assert(Comm::IsConnOpen(dataConn));
     assert(io.conn->fd == dataConn->fd);
 
@@ -601,41 +601,41 @@
         // no default so that a compiler can check that we have covered all cases
     }
 
     ClientSocketContext *context = abortRequestParsing(errUri);
     clientStreamNode *node = context->getClientReplyContext();
     Must(node);
     clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
     Must(repContext);
 
     // We cannot relay FTP scode/reason via HTTP-specific ErrorState.
     // TODO: When/if ErrorState can handle native FTP errors, use it instead.
     HttpReply *reply = Ftp::HttpReplyWrapper(scode, reason, Http::scBadRequest, -1);
     repContext->setReplyToReply(reply);
     return context;
 }
 
 /// Parses a single FTP request on the control connection.
 /// Returns a new ClientSocketContext on valid requests and all errors.
 /// Returns NULL on incomplete requests that may still succeed given more data.
 ClientSocketContext *
-Ftp::Server::parseOneRequest(Http::ProtocolVersion &ver)
+Ftp::Server::parseOneRequest()
 {
     flags.readMore = false; // common for all but one case below
 
     // OWS <command> [ RWS <parameter> ] OWS LF
 
     // InlineSpaceChars are isspace(3) or RFC 959 Section 3.1.1.5.2, except
     // for the LF character that we must exclude here (but see FullWhiteSpace).
     static const char * const InlineSpaceChars = " \f\r\t\v";
     static const CharacterSet InlineSpace = CharacterSet("Ftp::Inline", InlineSpaceChars);
     static const CharacterSet FullWhiteSpace = (InlineSpace + CharacterSet::LF).rename("Ftp::FWS");
     static const CharacterSet CommandChars = FullWhiteSpace.complement("Ftp::Command");
     static const CharacterSet TailChars = CharacterSet::LF.complement("Ftp::Tail");
 
     // This set is used to ignore empty commands without allowing an attacker
     // to keep us endlessly busy by feeding us whitespace or empty commands.
     static const CharacterSet &LeadingSpace = FullWhiteSpace;
 
     SBuf cmd;
     SBuf params;
 
@@ -702,43 +702,42 @@
 
     if (!Ftp::SupportedCommand(cmd))
         return earlyError(eekUnsupportedCommand);
 
     const HttpRequestMethod method =
         cmd == cmdAppe() || cmd == cmdStor() || cmd == cmdStou() ?
         Http::METHOD_PUT : Http::METHOD_GET;
 
     const SBuf *path = (params.length() && CommandHasPathParameter(cmd)) ?
                        &params : NULL;
     calcUri(path);
     char *newUri = xstrdup(uri.c_str());
     HttpRequest *const request = HttpRequest::CreateFromUrlAndMethod(newUri, method);
     if (!request) {
         debugs(33, 5, "Invalid FTP URL: " << uri);
         uri.clear();
         safe_free(newUri);
         return earlyError(eekInvalidUri);
     }
 
-    ver = Http::ProtocolVersion(Ftp::ProtocolVersion().major, Ftp::ProtocolVersion().minor);
     request->flags.ftpNative = true;
-    request->http_ver = ver;
+    request->http_ver = Http::ProtocolVersion(Ftp::ProtocolVersion().major, Ftp::ProtocolVersion().minor);
 
     // Our fake Request-URIs are not distinctive enough for caching to work
     request->flags.cachable = false; // XXX: reset later by maybeCacheable()
     request->flags.noCache = true;
 
     request->header.putStr(HDR_FTP_COMMAND, cmd.c_str());
     request->header.putStr(HDR_FTP_ARGUMENTS, params.c_str()); // may be ""
     if (method == Http::METHOD_PUT) {
         request->header.putStr(HDR_EXPECT, "100-continue");
         request->header.putStr(HDR_TRANSFER_ENCODING, "chunked");
     }
 
     ClientHttpRequest *const http = new ClientHttpRequest(this);
     http->request = request;
     HTTPMSGLOCK(http->request);
     http->req_sz = tok.parsedSize();
     http->uri = newUri;
 
     ClientSocketContext *const result =
         new ClientSocketContext(clientConnection, http);

=== modified file 'src/servers/FtpServer.h'
--- src/servers/FtpServer.h	2014-09-13 13:59:43 +0000
+++ src/servers/FtpServer.h	2014-09-14 12:23:03 +0000
@@ -58,42 +58,42 @@
 
     // This is a pointer in hope to minimize future changes when MasterState
     // becomes a part of MasterXaction. Guaranteed not to be nil.
     MasterState::Pointer master; ///< info shared among our FTP client and server jobs
 
 protected:
     friend void StartListening();
 
     // errors detected before it is possible to create an HTTP request wrapper
     typedef enum {
         eekHugeRequest,
         eekMissingLogin,
         eekMissingUsername,
         eekMissingHost,
         eekUnsupportedCommand,
         eekInvalidUri,
         eekMalformedCommand
     } EarlyErrorKind;
 
     /* ConnStateData API */
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver);
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver);
+    virtual ClientSocketContext *parseOneRequest();
+    virtual void processParsedRequest(ClientSocketContext *context);
     virtual void notePeerConnection(Comm::ConnectionPointer conn);
     virtual void clientPinnedConnectionClosed(const CommCloseCbParams &io);
     virtual void handleReply(HttpReply *header, StoreIOBuffer receivedData);
     virtual int pipelinePrefetchMax() const;
     virtual void writeControlMsgAndCall(ClientSocketContext *context, HttpReply *rep, AsyncCall::Pointer &call);
     virtual time_t idleTimeout() const;
 
     /* BodyPipe API */
     virtual void noteMoreBodySpaceAvailable(BodyPipe::Pointer);
     virtual void noteBodyConsumerAborted(BodyPipe::Pointer ptr);
 
     /* AsyncJob API */
     virtual void start();
 
     /* Comm callbacks */
     static void AcceptCtrlConnection(const CommAcceptCbParams &params);
     void acceptDataConnection(const CommAcceptCbParams &params);
     void readUploadData(const CommIoCbParams &io);
     void wroteEarlyReply(const CommIoCbParams &io);
     void wroteReply(const CommIoCbParams &io);

=== modified file 'src/servers/HttpServer.cc'
--- src/servers/HttpServer.cc	2014-09-13 13:59:43 +0000
+++ src/servers/HttpServer.cc	2014-09-14 12:23:03 +0000
@@ -1,71 +1,72 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 33    Client-side Routines */
 
 #include "squid.h"
 #include "client_side.h"
 #include "client_side_request.h"
 #include "comm/Write.h"
 #include "HttpHeaderTools.h"
+#include "http/one/RequestParser.h"
 #include "profiler/Profiler.h"
 #include "servers/forward.h"
 #include "SquidConfig.h"
 
 namespace Http
 {
 
 /// Manages a connection from an HTTP client.
 class Server: public ConnStateData
 {
 public:
     Server(const MasterXaction::Pointer &xact, const bool beHttpsServer);
     virtual ~Server() {}
 
     void readSomeHttpData();
 
 protected:
     /* ConnStateData API */
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver);
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver);
+    virtual ClientSocketContext *parseOneRequest();
+    virtual void processParsedRequest(ClientSocketContext *context);
     virtual void handleReply(HttpReply *rep, StoreIOBuffer receivedData);
     virtual void writeControlMsgAndCall(ClientSocketContext *context, HttpReply *rep, AsyncCall::Pointer &call);
     virtual time_t idleTimeout() const;
 
     /* BodyPipe API */
     virtual void noteMoreBodySpaceAvailable(BodyPipe::Pointer);
     virtual void noteBodyConsumerAborted(BodyPipe::Pointer);
 
     /* AsyncJob API */
     virtual void start();
 
 private:
     void processHttpRequest(ClientSocketContext *const context);
     void handleHttpRequestData();
 
-    HttpParser parser_;
+    Http1::RequestParserPointer parser_;
     HttpRequestMethod method_; ///< parsed HTTP method
 
     /// temporary hack to avoid creating a true HttpsServer class
     const bool isHttpsServer;
 
     CBDATA_CLASS2(Server);
 };
 
 } // namespace Http
 
 CBDATA_NAMESPACED_CLASS_INIT(Http, Server);
 
 Http::Server::Server(const MasterXaction::Pointer &xact, bool beHttpsServer):
         AsyncJob("Http::Server"),
         ConnStateData(xact),
         isHttpsServer(beHttpsServer)
 {
 }
 
 time_t
@@ -92,54 +93,61 @@
     AsyncCall::Pointer timeoutCall =  JobCallback(33, 5,
                                       TimeoutDialer, this, Http::Server::requestTimeout);
     commSetConnTimeout(clientConnection, Config.Timeout.request, timeoutCall);
     readSomeData();
 }
 
 void
 Http::Server::noteMoreBodySpaceAvailable(BodyPipe::Pointer)
 {
     if (!handleRequestBodyData())
         return;
 
     // too late to read more body
     if (!isOpen() || stoppedReceiving())
         return;
 
     readSomeData();
 }
 
 ClientSocketContext *
-Http::Server::parseOneRequest(Http::ProtocolVersion &ver)
+Http::Server::parseOneRequest()
 {
-    ClientSocketContext *context = NULL;
     PROF_start(HttpServer_parseOneRequest);
-    HttpParserInit(&parser_, in.buf.c_str(), in.buf.length());
-    context = parseHttpRequest(this, &parser_, &method_, &ver);
+
+    // parser is incremental. Generate new parser state if we,
+    // a) dont have one already
+    // b) have completed the previous request parsing already
+    if (!parser_ || !parser_->needsMoreData())
+        parser_ = new Http1::RequestParser();
+
+    /* Process request */
+    ClientSocketContext *context = parseHttpRequest(this, parser_);
+
     PROF_stop(HttpServer_parseOneRequest);
     return context;
 }
 
 void
-Http::Server::processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver)
+Http::Server::processParsedRequest(ClientSocketContext *context)
 {
-    clientProcessRequest(this, &parser_, context, method_, ver);
+    clientProcessRequest(this, parser_, context);
 }
 
 void
 Http::Server::noteBodyConsumerAborted(BodyPipe::Pointer ptr)
 {
     ConnStateData::noteBodyConsumerAborted(ptr);
     stopReceiving("virgin request body consumer aborted"); // closes ASAP
 }
 
 void
 Http::Server::handleReply(HttpReply *rep, StoreIOBuffer receivedData)
 {
     // the caller guarantees that we are dealing with the current context only
     ClientSocketContext::Pointer context = getCurrentContext();
     Must(context != NULL);
     const ClientHttpRequest *http = context->http;
     Must(http != NULL);
 
     // After sending Transfer-Encoding: chunked (at least), always send
     // the last-chunk if there was no error, ignoring responseFinishedOrFailed.

=== renamed file 'src/tests/testHttpParser.cc' => 'src/tests/testHttp1Parser.cc'
--- src/tests/testHttpParser.cc	2014-09-12 23:00:48 +0000
+++ src/tests/testHttp1Parser.cc	2014-10-11 19:36:02 +0000
@@ -1,1108 +1,1442 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 
 #include <cppunit/TestAssert.h>
 
-#include "HttpParser.h"
+#define private public
+#define protected public
+
+#include "testHttp1Parser.h"
+#include "http/one/RequestParser.h"
+#include "http/RequestMethod.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "SquidConfig.h"
-#include "testHttpParser.h"
+#include "testHttp1Parser.h"
 
-CPPUNIT_TEST_SUITE_REGISTRATION( testHttpParser );
+CPPUNIT_TEST_SUITE_REGISTRATION( testHttp1Parser );
 
 void
-testHttpParser::globalSetup()
+testHttp1Parser::globalSetup()
 {
     static bool setup_done = false;
     if (setup_done)
         return;
 
     Mem::Init();
     setup_done = true;
+
+    // default to strict parser. set for loose parsing specifically where behaviour differs.
+    Config.onoff.relaxed_header_parser = 0;
+
+    Config.maxRequestHeaderSize = 1024; // XXX: unit test the RequestParser handling of this limit
+}
+
+struct resultSet {
+    bool parsed;
+    bool needsMore;
+    Http1::ParseState parserState;
+    Http::StatusCode status;
+    int msgStart;
+    int msgEnd;
+    SBuf::size_type suffixSz;
+    int methodStart;
+    int methodEnd;
+    HttpRequestMethod method;
+    int uriStart;
+    int uriEnd;
+    const char *uri;
+    int versionStart;
+    int versionEnd;
+    AnyP::ProtocolVersion version;
+};
+
+static void
+testResults(int line, const SBuf &input, Http1::RequestParser &output, struct resultSet &expect)
+{
+#if WHEN_TEST_DEBUG_IS_NEEDED
+    printf("TEST @%d, in=%u: " SQUIDSBUFPH "\n", line, input.length(), SQUIDSBUFPRINT(input));
+#endif
+
+    CPPUNIT_ASSERT_EQUAL(expect.parsed, output.parse(input));
+    CPPUNIT_ASSERT_EQUAL(expect.needsMore, output.needsMoreData());
+    if (output.needsMoreData())
+        CPPUNIT_ASSERT_EQUAL(expect.parserState, output.parsingStage_);
+    CPPUNIT_ASSERT_EQUAL(expect.status, output.request_parse_status);
+    CPPUNIT_ASSERT_EQUAL(expect.msgStart, output.req.start);
+    CPPUNIT_ASSERT_EQUAL(expect.msgEnd, output.req.end);
+    CPPUNIT_ASSERT_EQUAL(expect.suffixSz, output.buf_.length());
+    CPPUNIT_ASSERT_EQUAL(expect.methodStart, output.req.m_start);
+    CPPUNIT_ASSERT_EQUAL(expect.methodEnd, output.req.m_end);
+    CPPUNIT_ASSERT_EQUAL(expect.method, output.method_);
+    CPPUNIT_ASSERT_EQUAL(expect.uriStart, output.req.u_start);
+    CPPUNIT_ASSERT_EQUAL(expect.uriEnd, output.req.u_end);
+    if (expect.uri != NULL)
+        CPPUNIT_ASSERT_EQUAL(0, output.uri_.cmp(expect.uri));
+    CPPUNIT_ASSERT_EQUAL(expect.versionStart, output.req.v_start);
+    CPPUNIT_ASSERT_EQUAL(expect.versionEnd, output.req.v_end);
+    CPPUNIT_ASSERT_EQUAL(expect.version, output.msgProtocol_);
 }
 
 void
-testHttpParser::testParseRequestLineProtocols()
+testHttp1Parser::testParserConstruct()
+{
+    // whether the constructor works
+    {
+        Http1::RequestParser output;
+        CPPUNIT_ASSERT_EQUAL(true, output.needsMoreData());
+        CPPUNIT_ASSERT_EQUAL(Http1::HTTP_PARSE_NONE, output.parsingStage_);
+        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status); // XXX: clear() not being called.
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
+        CPPUNIT_ASSERT(output.buf_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
+        CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), output.method_);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
+        CPPUNIT_ASSERT(output.uri_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
+        CPPUNIT_ASSERT_EQUAL(AnyP::ProtocolVersion(), output.msgProtocol_);
+    }
+
+    // whether new() works
+    {
+        Http1::RequestParser *output = new Http1::RequestParser;
+        CPPUNIT_ASSERT_EQUAL(true, output->needsMoreData());
+        CPPUNIT_ASSERT_EQUAL(Http1::HTTP_PARSE_NONE, output->parsingStage_);
+        CPPUNIT_ASSERT_EQUAL(Http::scNone, output->request_parse_status);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.end);
+        CPPUNIT_ASSERT(output->buf_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.m_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.m_end);
+        CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), output->method_);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.u_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.u_end);
+        CPPUNIT_ASSERT(output->uri_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.v_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.v_end);
+        CPPUNIT_ASSERT_EQUAL(AnyP::ProtocolVersion(), output->msgProtocol_);
+        delete output;
+    }
+}
+
+void
+testHttp1Parser::testParseRequestLineProtocols()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // TEST: Do we comply with RFC 1945 section 5.1 ?
     // TEST: Do we comply with RFC 2616 section 5.1 ?
 
     // RFC 1945 : HTTP/0.9 simple-request
     {
         input.append("GET /\r\n", 7);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start], (output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start], (output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 1945 : invalid HTTP/0.9 simple-request (only GET is valid)
-#if 0
+#if WHEN_RFC_COMPLIANT
     {
         input.append("POST /\r\n", 7);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start], (output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start], (output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(Http::METHOD_POST),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 #endif
-
     // RFC 1945 and 2616 : HTTP/1.0 request
     {
         input.append("GET / HTTP/1.0\r\n", 16);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.0\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 2616 : HTTP/1.1 request
     {
         input.append("GET / HTTP/1.1\r\n", 16);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 2616 : future version full-request
-    {    input.append("GET / HTTP/1.2\r\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.2\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.2", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.v_min);
-        input.reset();
+    {
+        input.append("GET / HTTP/1.2\r\n", 16);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,2)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RFC 2616 : future version full-request
+    // RFC 7230 : future versions do not use request-line syntax
     {
-        // XXX: IETF HTTPbis WG has made this two-digits format invalid.
         input.append("GET / HTTP/10.12\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/10.12\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(15, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/10.12", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 15,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // This stage of the parser does not yet accept non-HTTP protocol names.
+    // unknown non-HTTP protocol names
     {
-        // violations mode treats them as HTTP/0.9 requests!
         input.append("GET / FOO/1.0\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-#if USE_HTTP_VIOLATIONS
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ FOO/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-#else
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-#endif
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / FOO/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("FOO/1.0", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no version
     {
         input.append("GET / HTTP/\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 10,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no major version
     {
         input.append("GET / HTTP/.1\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no version dot
     {
         input.append("GET / HTTP/11\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/11\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/11", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // negative major version (bug 3062)
     {
         input.append("GET / HTTP/-999999.1\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/-999999.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(19, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/-999999.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 19,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no minor version
     {
         input.append("GET / HTTP/1.\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // negative major version (bug 3062 corollary)
     {
         input.append("GET / HTTP/1.-999999\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.-999999\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(19, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.-999999", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 19,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineStrange()
+testHttp1Parser::testParseRequestLineStrange()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // space padded URL
     {
         input.append("GET  /     HTTP/1.1\r\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET  /     HTTP/1.1\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(18, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 11,
+            .versionEnd = 18,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // whitespace inside URI. (nasty but happens)
+    // XXX: depends on tolerant parser...
     {
         input.append("GET /fo o/ HTTP/1.1\n", 20);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /fo o/ HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/fo o/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(18, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 9,
+            .uri = "/fo o/",
+            .versionStart = 11,
+            .versionEnd = 18,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // additional data in buffer
     {
         input.append("GET /     HTTP/1.1\nboo!", 23);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-5, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET /     HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end); // strangeness generated by following RFC
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(17, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-5,
+            .suffixSz = 4, // strlen("boo!")
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 10,
+            .versionEnd = 17,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineTerminators()
+testHttp1Parser::testParseRequestLineTerminators()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // alternative EOL sequence: NL-only
     {
         input.append("GET / HTTP/1.1\n", 15);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // alternative EOL sequence: double-NL-only
     {
         input.append("GET / HTTP/1.1\n\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-2, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED alternative EOL sequence: multi-CR-NL
+    // alternative EOL sequence: multi-CR-NL
     {
         input.append("GET / HTTP/1.1\r\r\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        Config.onoff.relaxed_header_parser = 1;
         // Being tolerant we can ignore and elide these apparently benign CR
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\r\r\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
-    }
+        Config.onoff.relaxed_header_parser = 1;
+        struct resultSet expectRelaxed = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
 
-    // STRICT alternative EOL sequence: multi-CR-NL
-    {
-        input.append("GET / HTTP/1.1\r\r\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
         // strict mode treats these as several bare-CR in the request line which is explicitly invalid.
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1,
+            .suffixSz = input.length(),
+            .methodStart =-1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
     }
 
     // space padded version
     {
         // RFC 1945 and 2616 specify version is followed by CRLF. No intermediary bytes.
         // NP: the terminal whitespace is a special case: invalid for even HTTP/0.9 with no version tag
         input.append("GET / HTTP/1.1 \n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1 \n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-    }
-
-    // incomplete line at various positions
-    {
-        input.append("GET", 3);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET ", 4);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET / HT", 8);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET / HTTP/1.1", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 13,
+            .uri = "/ HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineMethods()
+testHttp1Parser::testParseRequestLineMethods()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // RFC 2616 : . method
     {
         input.append(". / HTTP/1.1\n", 13);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(". / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(".", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod("."),
+            .uriStart = 2,
+            .uriEnd = 2,
+            .uri = "/",
+            .versionStart = 4,
+            .versionEnd = 11,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // OPTIONS with * URL
     {
         input.append("OPTIONS * HTTP/1.1\n", 19);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("OPTIONS * HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(6, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("OPTIONS", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(8, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(8, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("*", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(17, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 6,
+            .method = HttpRequestMethod(Http::METHOD_OPTIONS),
+            .uriStart = 8,
+            .uriEnd = 8,
+            .uri = "*",
+            .versionStart = 10,
+            .versionEnd = 17,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // unknown method
     {
         input.append("HELLOWORLD / HTTP/1.1\n", 22);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HELLOWORLD / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HELLOWORLD", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(20, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 9,
+            .method = HttpRequestMethod("HELLOWORLD"),
+            .uriStart = 11,
+            .uriEnd = 11,
+            .uri = "/",
+            .versionStart = 13,
+            .versionEnd = 20,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // method-only
     {
         input.append("A\n", 2);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("A\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    input.append("GET\n", 4);
-    {
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+    {
+        input.append("GET\n", 4);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED space padded method (in strict mode SP is reserved so invalid as a method byte)
+    // space padded method (in strict mode SP is reserved so invalid as a method byte)
     {
         input.append(" GET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
+        // RELAXED mode Squid custom tolerance ignores SP
+#if USE_HTTP_VIOLATIONS
         Config.onoff.relaxed_header_parser = 1;
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
-    }
+        struct resultSet expectRelaxed = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
+#endif
 
-    // STRICT space padded method (in strict mode SP is reserved so invalid as a method byte)
-    {
-        input.append(" GET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
+        // STRICT mode obeys RFC syntax
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(" GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
+    }
+
+    // RFC 2616 defined tolerance: ignore empty line(s) prefix on messages
+#if WHEN_RFC_COMPLIANT
+    {
+        input.append("\r\n\r\n\nGET / HTTP/1.1\r\n", 21);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 5,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 5,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
+#endif
 
     // tab padded method (NP: tab is not SP so treated as any other binary)
     {
         input.append("\tGET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\tGET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\tGET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else // XXX: currently broken
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("\tGET")),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineInvalid()
+testHttp1Parser::testParseRequestLineInvalid()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // no method (but in a form which is ambiguous with HTTP/0.9 simple-request)
     {
-        // XXX: Bug: HTTP/0.9 requires method to be "GET"
+        // XXX: HTTP/0.9 requires method to be "GET"
         input.append("/ HTTP/1.0\n", 11);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod("/"),
+            .uriStart = 2,
+            .uriEnd = 9,
+            .uri = "HTTP/1.0",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED no method (an invalid format)
+    // no method (an invalid format)
     {
         input.append(" / HTTP/1.0\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        // When tolerantly ignoring SP prefix this case becomes ambiguous with HTTP/0.9 simple-request)
+
+        // XXX: squid custom tolerance consumes initial SP.
         Config.onoff.relaxed_header_parser = 1;
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(3, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(10, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
-    }
+        struct resultSet expectRelaxed = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod("/"),
+            .uriStart = 2,
+            .uriEnd = 9,
+            .uri = "HTTP/1.0",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
 
-    // STRICT no method (an invalid format)
-    {
-        input.append(" / HTTP/1.0\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        // When tolerantly ignoring SP prefix this case becomes ambiguous with HTTP/0.9 simple-request)
+        // STRICT detect as invalid
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(" / HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        // XXX: except Squid does not
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
     }
 
-    // binary code in method (strange but ...)
+    // binary code in method (invalid)
     {
         input.append("GET\x0B / HTTP/1.1\n", 16);
-        //printf("TEST: %d-%d/%d '%.*s'\n", output.req.start, output.req.end, input.contentSize(), 16, input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\x0B / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\x0B", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("GET\x0B")),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // CR in method
     {
         // RFC 2616 sec 5.1 prohibits CR other than in terminator.
         input.append("GET\r / HTTP/1.1\r\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt at the first \r
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // binary code NUL! in method (strange but ...)
     {
         input.append("GET\0 / HTTP/1.1\n", 16);
-        //printf("TEST: %d-%d/%d '%.*s'\n", output.req.start, output.req.end, input.contentSize(), 16, input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\0 / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\0", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt at the \0
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("GET\0",4)),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // no URL (grammer otherwise correct)
+    // no URL (grammer invalid, ambiguous with RFC 1945 HTTP/0.9 simple-request)
     {
         input.append("GET  HTTP/1.1\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET  HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 5,
+            .uriEnd = 12,
+            .uri = "HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no URL (grammer invalid, ambiguous with RFC 1945 HTTP/0.9 simple-request)
     {
         input.append("GET HTTP/1.1\n", 13);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 11,
+            .uri = "HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // binary line
     {
         input.append("\xB\xC\xE\xF\n", 5);
-        //printf("TEST: binary-line\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\xB\xC\xE\xF\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // mixed whitespace line
     {
         // We accept non-space binary bytes for method so first \t shows up as that
         // but remaining space and tabs are skipped searching for URI-start
         input.append("\t \t \t\n", 6);
-        //printf("TEST: mixed whitespace\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\t \t \t\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\t", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod(SBuf("\t")),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // mixed whitespace line with CR middle
     {
         // CR aborts on sight, so even initial \t method is not marked as above
         // (not when parsing clean with whole line available anyway)
         input.append("\t  \r \n", 6);
-        //printf("TEST: mixed whitespace with CR\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt on the \r
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
+    }
+}
+
+void
+testHttp1Parser::testDripFeed()
+{
+    // Simulate a client drip-feeding Squid a few bytes at a time.
+    // extend the size of the buffer from 0 bytes to full request length
+    // calling the parser repeatedly as visible data grows.
+
+    SBuf data;
+    data.append("            ", 12);
+    SBuf::size_type garbageEnd = data.length();
+    data.append("GET http://example.com/ HTTP/1.1\r\n", 34);
+    SBuf::size_type reqLineEnd = data.length() - 1;
+    data.append("Host: example.com\r\n\r\n", 21);
+    SBuf::size_type mimeEnd = data.length() - 1;
+    data.append("...", 3); // trailer to catch mime EOS errors.
+
+    SBuf ioBuf; // begins empty
+    Http1::RequestParser hp;
+
+    // only relaxed parser accepts the garbage whitespace
+    Config.onoff.relaxed_header_parser = 1;
+
+    // state of things we expect right now
+    struct resultSet expect = {
+        .parsed = false,
+        .needsMore = true,
+        .parserState = Http1::HTTP_PARSE_NONE,
+        .status = Http::scNone,
+        .msgStart = -1,
+        .msgEnd = -1,
+        .suffixSz = 0,
+        .methodStart = -1,
+        .methodEnd = -1,
+        .method = HttpRequestMethod(),
+        .uriStart = -1,
+        .uriEnd = -1,
+        .uri = NULL,
+        .versionStart = -1,
+        .versionEnd = -1,
+        .version = AnyP::ProtocolVersion()
+    };
+
+    Config.maxRequestHeaderSize = 1024; // large enough to hold the test data.
+
+    for (SBuf::size_type pos = 0; pos <= data.length(); ++pos) {
+
+        // simulate reading one more byte
+        ioBuf.append(data.substr(pos,1));
+
+        // when the garbage is passed we expect to start seeing first-line bytes
+        if (pos == garbageEnd) {
+            expect.parserState = Http1::HTTP_PARSE_FIRST;
+            expect.msgStart = 0;
+        }
+
+        // all points after garbage start to see accumulated bytes looking for end of current section
+        if (pos >= garbageEnd)
+            expect.suffixSz = ioBuf.length();
+
+        // at end of request line expect to see method, URI, version details
+        // and switch to seeking Mime header section
+        if (pos == reqLineEnd) {
+            expect.parserState = Http1::HTTP_PARSE_MIME;
+            expect.suffixSz = 0;
+            expect.msgEnd = reqLineEnd-garbageEnd;
+            expect.status = Http::scOkay;
+            expect.methodStart = 0;
+            expect.methodEnd = 2;
+            expect.method = HttpRequestMethod(Http::METHOD_GET);
+            expect.uriStart = 4;
+            expect.uriEnd = 22;
+            expect.uri = "http://example.com/";
+            expect.versionStart = 24;
+            expect.versionEnd = 31;
+            expect.version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1);
+        }
+
+        // one mime header is done we are expectign a new request
+        // parse results say true and initial data is all gone from the buffer
+        if (pos == mimeEnd) {
+            expect.parsed = true;
+            expect.needsMore = false;
+            expect.suffixSz = 0;
+        }
+
+        testResults(__LINE__, ioBuf, hp, expect);
+
+        // sync the buffers like Squid does
+        ioBuf = hp.remaining();
+
+        // Squid stops using the parser once it has parsed the first message.
+        if (!hp.needsMoreData())
+            break;
     }
 }

=== renamed file 'src/tests/testHttpParser.h' => 'src/tests/testHttp1Parser.h'
--- src/tests/testHttpParser.h	2014-09-12 23:00:48 +0000
+++ src/tests/testHttp1Parser.h	2014-10-11 19:23:50 +0000
@@ -1,35 +1,41 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
-#ifndef SQUID_SRC_TESTS_TESTHTTPPARSER_H
-#define SQUID_SRC_TESTS_TESTHTTPPARSER_H
+#ifndef SQUID_SRC_TESTS_TESTHTTP1PARSER_H
+#define SQUID_SRC_TESTS_TESTHTTP1PARSER_H
 
 #include <cppunit/extensions/HelperMacros.h>
 
-class testHttpParser : public CPPUNIT_NS::TestFixture
+class testHttp1Parser : public CPPUNIT_NS::TestFixture
 {
-    CPPUNIT_TEST_SUITE( testHttpParser );
+    CPPUNIT_TEST_SUITE( testHttp1Parser );
+    CPPUNIT_TEST( testParserConstruct );
     CPPUNIT_TEST( testParseRequestLineTerminators );
     CPPUNIT_TEST( testParseRequestLineMethods );
     CPPUNIT_TEST( testParseRequestLineProtocols );
     CPPUNIT_TEST( testParseRequestLineStrange );
     CPPUNIT_TEST( testParseRequestLineInvalid );
+    CPPUNIT_TEST( testDripFeed );
     CPPUNIT_TEST_SUITE_END();
 
 protected:
     void globalSetup(); // MemPools init etc.
 
+    void testParserConstruct(); // whether the constructor works
+
     // request-line unit tests
     void testParseRequestLineTerminators(); // terminator detection correct
     void testParseRequestLineMethods();     // methoid detection correct
     void testParseRequestLineProtocols();   // protocol tokens handled correctly
     void testParseRequestLineStrange();     // strange but valid lines accepted
     void testParseRequestLineInvalid();     // rejection of invalid lines happens
+
+    void testDripFeed(); // test incremental parse works
 };
 
 #endif

=== modified file 'src/tests/testHttpRequestMethod.cc'
--- src/tests/testHttpRequestMethod.cc	2014-09-12 23:00:48 +0000
+++ src/tests/testHttpRequestMethod.cc	2014-09-14 12:23:03 +0000
@@ -1,67 +1,67 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 #include <cppunit/TestAssert.h>
 
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "Mem.h"
 #include "SquidConfig.h"
 #include "testHttpRequestMethod.h"
 
 #include <sstream>
 
 CPPUNIT_TEST_SUITE_REGISTRATION( testHttpRequestMethod );
 
 /*
  * We should be able to make an HttpRequestMethod straight from a string.
  */
 void
 testHttpRequestMethod::testConstructCharStart()
 {
     /* parse an empty string -> Http::METHOD_NONE */
-    CPPUNIT_ASSERT(HttpRequestMethod(NULL,NULL) == Http::METHOD_NONE);
+    CPPUNIT_ASSERT(HttpRequestMethod(NULL) == Http::METHOD_NONE);
     /* parsing a literal should work */
-    CPPUNIT_ASSERT(HttpRequestMethod("GET", NULL) == Http::METHOD_GET);
-    CPPUNIT_ASSERT(HttpRequestMethod("QWERTY", NULL) == Http::METHOD_OTHER);
+    CPPUNIT_ASSERT(HttpRequestMethod("GET") == Http::METHOD_GET);
+    CPPUNIT_ASSERT(HttpRequestMethod("QWERTY") == Http::METHOD_OTHER);
 }
 
 /*
  * We can also parse precise ranges of characters
  */
 void
 testHttpRequestMethod::testConstructCharStartEnd()
 {
     char const * buffer;
     /* parse an empty string -> Http::METHOD_NONE */
-    CPPUNIT_ASSERT(HttpRequestMethod(NULL, NULL) == Http::METHOD_NONE);
+    CPPUNIT_ASSERT(HttpRequestMethod(NULL) == Http::METHOD_NONE);
     /* parsing a literal should work */
-    CPPUNIT_ASSERT(HttpRequestMethod("GET", NULL) == Http::METHOD_GET);
+    CPPUNIT_ASSERT(HttpRequestMethod("GET") == Http::METHOD_GET);
     /* parsing with an explicit end should work */
     buffer = "POSTPLUS";
-    CPPUNIT_ASSERT(HttpRequestMethod(buffer, buffer + 4) == Http::METHOD_POST);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf(buffer, 4)) == Http::METHOD_POST);
 }
 
 /*
  * we should be able to assign a Http::MethodType to a HttpRequestMethod
  */
 void
 testHttpRequestMethod::testAssignFrommethod_t()
 {
     HttpRequestMethod method;
     method = Http::METHOD_NONE;
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), method);
     method = Http::METHOD_POST;
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_POST), method);
 }
 
 /*
  * a default constructed HttpRequestMethod is == Http::METHOD_NONE
  */
 void
 testHttpRequestMethod::testDefaultConstructor()
@@ -73,74 +73,74 @@
 
 /*
  * we should be able to construct a HttpRequestMethod from a Http::MethodType
  */
 void
 testHttpRequestMethod::testConstructmethod_t()
 {
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), HttpRequestMethod(Http::METHOD_NONE));
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_POST), HttpRequestMethod(Http::METHOD_POST));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) != HttpRequestMethod(Http::METHOD_POST));
 }
 
 /*
  * we should be able to get a char const * version of the method.
  */
 void
 testHttpRequestMethod::testImage()
 {
     // relaxed RFC-compliance parse HTTP methods are upgraded to correct case
     Config.onoff.relaxed_header_parser = 1;
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("pOsT",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("post",NULL).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST").image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("pOsT").image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("post").image());
 
     // strict RFC-compliance parse HTTP methods are case sensitive
     Config.onoff.relaxed_header_parser = 0;
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("pOsT"), HttpRequestMethod("pOsT",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("post"), HttpRequestMethod("post",NULL).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST").image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("pOsT"), HttpRequestMethod("pOsT").image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("post"), HttpRequestMethod("post").image());
 }
 
 /*
  * an HttpRequestMethod should be comparable to a Http::MethodType without false
  * matches
  */
 void
 testHttpRequestMethod::testEqualmethod_t()
 {
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) == Http::METHOD_NONE);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_POST) == Http::METHOD_GET));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_GET) == Http::METHOD_GET);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_TRACE) == Http::METHOD_SEARCH));
 }
 
 /*
  * an HttpRequestMethod should testable for inequality without fail maatches
  */
 void
 testHttpRequestMethod::testNotEqualmethod_t()
 {
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) != Http::METHOD_GET);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_POST) != Http::METHOD_POST));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_GET) != Http::METHOD_NONE);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_SEARCH) != Http::METHOD_SEARCH));
 }
 
 /*
  * we should be able to send it to a stream and get the normalised version
  */
 void
 testHttpRequestMethod::testStream()
 {
     // relaxed RFC-compliance parse HTTP methods are upgraded to correct case
     Config.onoff.relaxed_header_parser = 1;
     std::ostringstream buffer;
-    buffer << HttpRequestMethod("get", NULL);
+    buffer << HttpRequestMethod("get");
     CPPUNIT_ASSERT_EQUAL(String("GET"), String(buffer.str().c_str()));
 
     // strict RFC-compliance parse HTTP methods are case sensitive
     Config.onoff.relaxed_header_parser = 0;
     std::ostringstream buffer2;
-    buffer2 << HttpRequestMethod("get", NULL);
+    buffer2 << HttpRequestMethod("get");
     CPPUNIT_ASSERT_EQUAL(String("get"), String(buffer2.str().c_str()));
 }

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Parser-NG_mk6.patch.sig
Type: application/octet-stream
Size: 287 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141012/d9f20758/attachment-0001.obj>

From noc at squid-cache.org  Mon Oct 13 17:20:55 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 13 Oct 2014 19:20:55 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #55
In-Reply-To: <1903006974.88.1413217610389.JavaMail.hudson@eu.squid-cache.org>
References: <1903006974.88.1413217610389.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1285866266.89.1413220855985.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/55/>


From tixu at cs.ucsd.edu  Tue Oct 14 01:39:13 2014
From: tixu at cs.ucsd.edu (Tianyin Xu)
Date: Mon, 13 Oct 2014 18:39:13 -0700
Subject: [squid-dev] How to run the unit tests of Squid?
Message-ID: <CABBDWweQfrztOVe74Q64dkymqJf-+G-J-7J2FdpTsJPPf0bqNA@mail.gmail.com>

Hi all,

Could anyone point me how to run the unit tests of Squid?

I think the "src/tests" contains all the unit tests available, am I right?

But I failed to find information related to how to conduct these tests.

Also, I see a couple of "tasks needing a volunteer." Does it still need to
be done or it's obsolete?

Thanks a lot!
Tianyin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141013/18f228b1/attachment.html>

From squid3 at treenet.co.nz  Tue Oct 14 03:54:27 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 14 Oct 2014 16:54:27 +1300
Subject: [squid-dev] How to run the unit tests of Squid?
In-Reply-To: <CABBDWweQfrztOVe74Q64dkymqJf-+G-J-7J2FdpTsJPPf0bqNA@mail.gmail.com>
References: <CABBDWweQfrztOVe74Q64dkymqJf-+G-J-7J2FdpTsJPPf0bqNA@mail.gmail.com>
Message-ID: <543C9E73.6010509@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 14/10/2014 2:39 p.m., Tianyin Xu wrote:
> Hi all,
> 
> Could anyone point me how to run the unit tests of Squid?
> 
> I think the "src/tests" contains all the unit tests available, am I
> right?
> 

Yes, that contains all the unit-tests. A standard autotools "make
check" runs those for any copy of the code.

If you are building from a repository checkout you will also have the
test-builds.sh script at the top directory. Running that will execute
a longer set of tests with several permutations of ./configure options.

NP: the full test suite can take 1-6hrs depending on your CPU speed.


> But I failed to find information related to how to conduct these
> tests.
> 
> Also, I see a couple of "tasks needing a volunteer." Does it still
> need to be done or it's obsolete?

If you are referring to http://wiki.squid-cache.org/RoadMap/Tasks then
yes, all those tasks still need to be completed.

It is also just a small set of the items that we/I think need doing
first to make the code generally easier to read and work with. If
there is any other thing in particular you want to help get fixed up
instead all ideas are welcome (there are ~400 open bugs for example).

Thank you for your assistance with Squid.
Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUPJ5zAAoJELJo5wb/XPRjQYwH/1AU0GzmEZLy6pyGfdmDbJkT
ndDbSCCwDTobY0h4IK5dpbfi9ZQZef5S+QN6+iB8OCNIe/VZ/p6pmW++EyYcFt3t
sKHfVfsdx5H4Ecwo5Yh5ia1EW2LwfqxNesh+5KOuyTTFcLVEDYSsz8ZZTxbbVamy
KOqvhJvH1zwcv/8DTRnbkyZyR1ixuA4/mNlcI8kDNB22E0G+6p6tmnGOIgW+32IJ
Qv2CkCNOLW5895onlWFyDdKfRseKkWNxlrJxTFio32fFrafgoOLYWjKNz+cOssdX
9l/BWuqfjLdOne2idSzVADmL/Wf0JFhWqlPj5ZpUI8GLMYKGFabiqBdcOrLrSBk=
=XCxo
-----END PGP SIGNATURE-----

From tixu at cs.ucsd.edu  Tue Oct 14 07:40:41 2014
From: tixu at cs.ucsd.edu (Tianyin Xu)
Date: Tue, 14 Oct 2014 00:40:41 -0700
Subject: [squid-dev] How to run the unit tests of Squid?
In-Reply-To: <543C9E73.6010509@treenet.co.nz>
References: <CABBDWweQfrztOVe74Q64dkymqJf-+G-J-7J2FdpTsJPPf0bqNA@mail.gmail.com>
 <543C9E73.6010509@treenet.co.nz>
Message-ID: <CABBDWwfhw8=sev6uEKmMkKinU4=8D5m1gLZU71On70GzR3AH7Q@mail.gmail.com>

Thanks, Amos!

One more question. I see test-builds.sh tries to run the tests in the
"test-suites" at the top directory. What's the difference between the test
under "src/tests" and "test-suites"?

I'm a little bit confused since you said the tests in "src/tests" contains
all the unit tests.

Also, I can successfully ran make check. But when I checked out the trunk
and ran ./test-builds.sh at the top directory, many tests fail. Is this
normal? (sorry I actually do not understand what "test-suites" does)

Oh, I forget to mention the web page I referred to. Actually I'm referring
to the "tasks needing a volunteer" in the following wiki page,
http://wiki.squid-cache.org/Features/CodeTestBed
Are these tasks still alive? Since I'm looking at the tests, I think I can
give a hand.

~t





On Mon, Oct 13, 2014 at 8:54 PM, Amos Jeffries <squid3 at treenet.co.nz> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 14/10/2014 2:39 p.m., Tianyin Xu wrote:
> > Hi all,
> >
> > Could anyone point me how to run the unit tests of Squid?
> >
> > I think the "src/tests" contains all the unit tests available, am I
> > right?
> >
>
> Yes, that contains all the unit-tests. A standard autotools "make
> check" runs those for any copy of the code.
>
> If you are building from a repository checkout you will also have the
> test-builds.sh script at the top directory. Running that will execute
> a longer set of tests with several permutations of ./configure options.
>
> NP: the full test suite can take 1-6hrs depending on your CPU speed.
>
>
> > But I failed to find information related to how to conduct these
> > tests.
> >
> > Also, I see a couple of "tasks needing a volunteer." Does it still
> > need to be done or it's obsolete?
>
> If you are referring to http://wiki.squid-cache.org/RoadMap/Tasks then
> yes, all those tasks still need to be completed.
>
> It is also just a small set of the items that we/I think need doing
> first to make the code generally easier to read and work with. If
> there is any other thing in particular you want to help get fixed up
> instead all ideas are welcome (there are ~400 open bugs for example).
>
> Thank you for your assistance with Squid.
> Amos
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUPJ5zAAoJELJo5wb/XPRjQYwH/1AU0GzmEZLy6pyGfdmDbJkT
> ndDbSCCwDTobY0h4IK5dpbfi9ZQZef5S+QN6+iB8OCNIe/VZ/p6pmW++EyYcFt3t
> sKHfVfsdx5H4Ecwo5Yh5ia1EW2LwfqxNesh+5KOuyTTFcLVEDYSsz8ZZTxbbVamy
> KOqvhJvH1zwcv/8DTRnbkyZyR1ixuA4/mNlcI8kDNB22E0G+6p6tmnGOIgW+32IJ
> Qv2CkCNOLW5895onlWFyDdKfRseKkWNxlrJxTFio32fFrafgoOLYWjKNz+cOssdX
> 9l/BWuqfjLdOne2idSzVADmL/Wf0JFhWqlPj5ZpUI8GLMYKGFabiqBdcOrLrSBk=
> =XCxo
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
>



-- 
Tianyin XU,
http://cseweb.ucsd.edu/~tixu/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141014/4d029ba0/attachment.html>

From noc at squid-cache.org  Tue Oct 14 08:26:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 14 Oct 2014 10:26:49 +0200 (CEST)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_anybran?=
 =?utf-8?q?ch-wholefarm-matrix_=C2=BB_clang=2Crs-ubuntu-saucy_=2386?=
In-Reply-To: <830974395.85.1413064004630.JavaMail.hudson@eu.squid-cache.org>
References: <830974395.85.1413064004630.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <76980389.90.1413275209711.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/86/>


From noc at squid-cache.org  Tue Oct 14 09:46:36 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 14 Oct 2014 11:46:36 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#188
In-Reply-To: <2101854066.87.1413215278146.JavaMail.hudson@eu.squid-cache.org>
References: <2101854066.87.1413215278146.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1132666603.91.1413279996817.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/188/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 507
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From squid3 at treenet.co.nz  Tue Oct 14 10:26:51 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 14 Oct 2014 23:26:51 +1300
Subject: [squid-dev] How to run the unit tests of Squid?
In-Reply-To: <CABBDWwfhw8=sev6uEKmMkKinU4=8D5m1gLZU71On70GzR3AH7Q@mail.gmail.com>
References: <CABBDWweQfrztOVe74Q64dkymqJf-+G-J-7J2FdpTsJPPf0bqNA@mail.gmail.com>	<543C9E73.6010509@treenet.co.nz>
 <CABBDWwfhw8=sev6uEKmMkKinU4=8D5m1gLZU71On70GzR3AH7Q@mail.gmail.com>
Message-ID: <543CFA6B.6010201@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 14/10/2014 8:40 p.m., Tianyin Xu wrote:
> Thanks, Amos!
> 
> One more question. I see test-builds.sh tries to run the tests in
> the "test-suites" at the top directory. What's the difference
> between the test under "src/tests" and "test-suites"?
> 
> I'm a little bit confused since you said the tests in "src/tests"
> contains all the unit tests.
> 
> Also, I can successfully ran make check. But when I checked out the
> trunk and ran ./test-builds.sh at the top directory, many tests
> fail. Is this normal? (sorry I actually do not understand what
> "test-suites" does)

That depends on how complete your build environment is. The script
begins with testing ./bootstrap.sh to ensure the toolchain is complete
and working. Recent autoconf produce a lot of warnings about
subdir-objects feature, but should still finish saying "success".
 If it does not then the error it exits with should explain what needs
to be resolved, usually some portion of the autotools build
environment is outdated or missing.

For the later "layers" being tested (eg the ESI layer) there are some
additional libraries needed to be installed which are optional for
normal users.

You *need* this script to run to completion with no errors on the
current 3.HEAD code for it to be worth going any further into the testing.

So, what OS are you building on?
 and what are the specific error(s) the script is failing with?

> 
> Oh, I forget to mention the web page I referred to. Actually I'm
> referring to the "tasks needing a volunteer" in the following wiki
> page, http://wiki.squid-cache.org/Features/CodeTestBed Are these
> tasks still alive? Since I'm looking at the tests, I think I can 
> give a hand.

Aha. Wonderful thank you. In that case I better explain in a bit more
detail than just how to use them. :-)

src/tests/ content is the main code for what the wiki page Details
section refer to as "ad-hoc CPP Unit-tests". Other unit-tests also
exist elsewhere in the sources (eg pre-compiler unit tests in compat/).

Each of those src/tests/test*.cc is a test of a single "unit" (aka.
C++ class). "make check" turns it into a binary that is supposed to
exhaustively test what happens when any permutation of input is
presented to the class API/methods, including edge cases and soemtimes
wrong inputs.

Unit-tests like that can only test one way of compiling the code at a
time. Which is fine for validating that some pre-built binary will
work as intended. But fails miserably to validate source code for
software like Squid with many possible features built (or not) by users.

That is where the ./test-builds.sh script comes in. (See under
"Component Test Controls".) It runs the unit tests with different
permutations of ./configure settings.

It also runs some large scale tests, such as squid.conf parsing for
various known squid.conf contents which have or might cause trouble,
or the bootstrap to check the build chain is operational.

Ideally both unit-test and the ./configure tests would be exhaustive
and cover every bit of code at least once. That is a very long way off
still, and may actually never happen. But that is the goal.


So, yes the items in both "Tasks needing a volunteer:" lists still
need doing.

 The work is being coordinated in wiki page
<http://wiki.squid-cache.org/Features/SourceLayout>. The main table
first column indicates whether the new polished convenience libraries
have unit-tests for the classes inside.
 That column content is outdated, in fact many of those classes do
have unit-tests but nobody has audited to check if they are complete
and correct for the current API. So part of the needed work is
correcting that column entries.

 There is another item related to the testing which is not documented
there. That is the compiler build options which are available to
detect potential issues. Squid is only able to build cleanly with a
small set at present, additional work is needed to try building with
others and fix the issues they highlight.


I hope that is clear enough to understand. I am assuming you at least
know the basics of what testing is all about.


PS. since 3.5 is now in beta I will this week be auditing the
./configure tests options are up to date. That may affect the test
coverage and results somewhat in the coming days.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUPPpqAAoJELJo5wb/XPRjKhEH/1QjhBXv6n3MM+EhduJ5q5NP
vKYzNTrg71vkoCcZ/7VoTTp5NXCdS9D4mg5cfaZtjHYU5HhZJqaJ3sxp3iuRE8Sh
EWHEIUWPu3+95PAdnnB4FAzEcwrDZoTvbMc7P7Mo+/vKQp3ljfA2x+uYLUZjtucV
h/N5W96ZfAWqYFdHUeZFh0xJ6+bNtsV1ndjlnSddPfMFfCCZIzEk/+QQacuZm9d7
aS7lO8Ig7IlZ+v6FJglWbVt7PGEnvQclS/J9hH6lQqV5bwQPnGZiS4zsLm2MFfPK
vMIRngmKrAw6vDrdCpuEXHjFBxosaGdLHTvrwwMMTFTMbFo0fRN9lcFJiZ7qI+g=
=zK+F
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Tue Oct 14 14:49:23 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 14 Oct 2014 16:49:23 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#189
In-Reply-To: <1132666603.91.1413279996817.JavaMail.hudson@eu.squid-cache.org>
References: <1132666603.91.1413279996817.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <880615053.92.1413298163409.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/189/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 508
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Tue Oct 14 15:08:08 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 14 Oct 2014 17:08:08 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #58
Message-ID: <147249830.93.1413299288720.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/58/changes>

Changes:

[Amos Jeffries] Cleanup: drop MemBuf.cci

Inline the code previously contained in MemBuf.cci.

Also, cleanup MemBuf.h TODOs.

------------------------------------------
[...truncated 11244 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/14 15:07:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/14 15:07:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/14 15:07:36| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/14 15:07:36| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct 14 16:14:42 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 14 Oct 2014 18:14:42 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #59
In-Reply-To: <147249830.93.1413299288720.JavaMail.hudson@eu.squid-cache.org>
References: <147249830.93.1413299288720.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <406348245.94.1413303282811.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/59/>


From rousskov at measurement-factory.com  Tue Oct 14 21:19:43 2014
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 14 Oct 2014 15:19:43 -0600
Subject: [squid-dev] [PATCH] HTTP Parser upgrade
In-Reply-To: <5439906B.2040104@treenet.co.nz>
References: <52C406EE.50608@treenet.co.nz>
 <52C483C8.5040307@measurement-factory.com> <52C56D73.4080700@treenet.co.nz>
 <52C5B932.9070006@measurement-factory.com> <52C6ACE1.7060806@treenet.co.nz>
 <52C6E7A2.8080500@measurement-factory.com> <52CA2145.8010208@treenet.co.nz>
 <5302B16C.2070808@measurement-factory.com> <53036B73.5080804@treenet.co.nz>
 <5303A610.6080900@measurement-factory.com> <5379A4BE.6010504@treenet.co.nz>
 <537A3126.4080607@measurement-factory.com> <537B39C6.2040402@treenet.co.nz>
 <537B7D1F.7040503@measurement-factory.com> <538C9BFC.5070305@treenet.co.nz>
 <538DD934.3030602@measurement-factory.com> <5391F276.5000802@treenet.co.nz>
 <5439906B.2040104@treenet.co.nz>
Message-ID: <543D936F.2090302@measurement-factory.com>

On 10/11/2014 02:17 PM, Amos Jeffries wrote:
> On 7/06/2014 4:55 a.m., Amos Jeffries wrote:
>> Latest version of the Parser-NG project branch. Since last
>> message I have dropped the copy-constructor related pieces.
> 
>> Polygraph testing on the branch showed almost no performance 
>> impact (+0.04ms/req, -0.03% request rate). Nevertheless a half 
>> dozen points of added memory reallocate or data copy are marked
>> for future removal as the Parser-NG and SBuf improvements
>> continue.

Just to double check: Is that really 0.04ms or 40ms? The former is
beyond Polygraph precision (i.e. it is the same as "zero"). The latter
is a significant overhead. I hope it is the former!


> + * \deprecated use SBuf constructor instead */ 
> -HttpRequestMethod::HttpRequestMethod(char const *begin, char const
> *end) : theMethod(Http::METHOD_NONE) 
> +HttpRequestMethod::HttpRequestMethod(char const *begin) :
> theMethod(Http::METHOD_NONE)

Please rework this constructor into a HttpRequestMethodXXX() function
call. Otherwise, it is very difficult to spot places where it is still
being used, including in future patches. Since you are also changing
the constructor profile, it should be possible to do that replacement
directly in your patch, avoiding re-editing many files by hand.

This is especially important if this old HttpRequestMethod(char*) has
a somewhat different semantics/compliance than the new
HttpRequestMethod(SBuf).


> -    method = HttpRequestMethod(start, t); +    SBuf m(start,
> start-t); // XXX: SBuf ctor allocates and data-copies. performance
> regression. +    method = HttpRequestMethod(m);


What is the purpose of introducing this SBuf performance regression?

* If the deprecated HttpRequestMethod constructor works fine, use that
and avoid this regression while waiting for callers to pass in an SBuf.

* If the deprecated HttpRequestMethod constructor is not as good as
the new HttpRequestMethod constructor for some reason (other than SBuf
parameter itself), then should we re-implement the deprecated
HttpRequestMethod constructor to create an SBuf and then call the new
HttpRequestMethod constructor with that SBuf instead?



> + * or from a range of chars such as "GET" from "GETFOOBARBAZ" + * 
> + * Assumes the s parameter contains only the method string

This description is not clear, especially because GETFOOBARBAZ does
not "contain only the method string" GET. The HttpRequestMethod() code
does not seem to match the documented "GETFOOBARBAZ" example because
it uses caseCmp(s) without any prefix size limits.


> +    // XXX: still check for missing method name?

Please rephrase. It is not clear what you are trying to ask here.
FWIW, the new code does handle the case of an empty method name as
well as a method name not matching any known header.


> const char *t = start + strcspn(start, w_space);
...
> -    start = t + strspn(t, w_space); +    start = t + strspn(t,
> w_space); // XXX: breaks if whitespace exists in URL

Wrong XXX? The code appears to skip the space found at t declaration
time. That is, after the declaration, "t" should point to either a
space character or, if there was not one in a URL, to a terminating
zero character. The XXX seems to be wrong in either case.


> +    SBuf url = hp->requestUri(); // use full provided URI if we
> abort +    do { // use a loop so we can break out of it +
> ::Parser::Tokenizer tok(url); +        if (tok.remaining()[0] ==
> '/') +            break;

Are we guaranteed to have a non-empty URL at this point? If not, it is
unsafe to dereference its first character.


> +    // reject URI which are not well-formed even after the
> processing above +    if (url[0] != '/') {

Similar concern here.


> -    char ipbuf[MAX_IPSTRLEN]; +    static char
> ipbuf[MAX_IPSTRLEN];

If you are changing this, please move the declaration down, where it
is actually needed.


> +        static const CharacterSet authority =
> CharacterSet("authority","-._~%:@[]!$&'()*+,;=") + +
> CharacterSet::HEXDIG + CharacterSet::ALPHA + CharacterSet::DIGIT;

Syntax error (missing "+" before CharacterSet::HEXDIG)? If yes, does
that imply that the above code has not been tested?


> +    const char *url = SBuf(hp->requestUri()).c_str();

Semantically, this returns a pointer inside the now-gone object (the
temporary anonymous SBuf). Do not do that even if it usually "works"
with the current SBuf implementation.


> -    const bool isFtp = !hp; +    const bool isFtp = (hp == NULL);

Why this change? The existing code was correct and arguably more
"future proof" if we start using some kind of smart pointers for "hp".



> +    const HttpRequestMethod &method = !isFtp ? hp->method() :
> Http::METHOD_NONE; // XXX: or should this be GET ?

The answer is in the caller you modified, I think:

> -        clientProcessRequest(this, NULL /*parser*/,
> context.getRaw(), -                             request->method,
> request->http_ver); +        clientProcessRequest(this,
> Http1::RequestParserPointer(), context.getRaw());


So it should be something like http->request->method or equivalent.
For FTP, we already have a parsed request at this point... However,
please double check that

a) you are actually using that new "method" variable -- it is
difficult to say by looking from the patch alone, but I see many cases
where the old "method" is getting replaced with "hp->method()".
Perhaps all of the uses are gone now?

b) the new "method" declaration is as close to the uses in (a) as
possible.


> Http::ProtocolVersion http_ver; -        if (ClientSocketContext
> *context = parseOneRequest(http_ver)) { +        if
> (ClientSocketContext *context = parseOneRequest()) {

Do you still need the http_ver variable after removing the
corresponding parameter?


* clientProcessRequest() no longer consumes parsed input, right? Where
does that consumption happen now?


> +     * BUG: limits output to just 1KB when Squid accepts up to
> 64KB line length. * -     * \retval -1  an error occurred.
> request_parse_status indicates HTTP status result. -     * \retval
> 1  successful parse. member fields contain the request-line items -
> * \retval  0  more data is needed to complete the parse +     *
> \return A pointer to a field-value of the first matching
> field-name, or NULL.

In what sense does the Parser limit the output? It is documented to
return a pointer to the field-value. Are we truncating that field-value?


* Http1::Parser class has virtual methods but is missing a virtual
destructor.


> +    /// raw copy of the origina client reqeust-line URI field

"origina" typo


> +    Parser() : parsingStage_(HTTP_PARSE_NONE) {}

> +    RequestParser() : Parser() {clear();} +    virtual void
> clear();


> +Http::One::Parser::clear() { -    clear(); // empty the state. -
> state = HTTP_PARSE_NEW; -    buf = aBuf; -    bufsiz = len; -
> debugs(74, 5, HERE << "Request buffer is " << buf); +
> parsingStage_ = HTTP_PARSE_NONE; +    buf_ = NULL; +
> msgProtocol_ = AnyP::ProtocolVersion(); +
> mimeHeaderBlock_.clear(); }


> +void +Http::One::RequestParser::clear() +{ +
> Http1::Parser::clear(); + +    request_parse_status =
> Http::scNone; +    req.start = req.end = -1; +    req.m_start =
> req.m_end = -1; +    req.u_start = req.u_end = -1; +    req.v_start
> = req.v_end = -1; +    method_ = HttpRequestMethod(); +}


The above is OK. If you want to polish it further to avoid calling
virtual methods from constructors (which is bad style), make these
changes:

1. Initialize all members in each constructor as needed,
   without calling clear().

2. Make Parser::clear() pure, without a body.

3. In RequestParser::clear(), just do:

   *this = RequestParser();



For the proposed commit message, please add an brief explanation for
"why we are doing this", in addition to the already provided "what we
are doing" summary.

And please make sure the commit message explicitly says that we are
adding a few potential performance regressions with this change.


Thank you,

Alex.



>> To recap, this project so far:
> 
> 
>> Rename the HttpParser class as Http1::RequestParser and move it 
>> into the Http::One:: namespace. A base Http1::Parser class is
>> also added from which Http1::ReplyParser will also be created in
>> future work.
> 
>> The parser API - is updated to process both the request-line and 
>> HTTP mime headers, returning a incomplete parse result until the 
>> entire header portion of the message has been received. - now 
>> contains accessor methods for retrieving the method, URI,
>> protocol, mime headers block as separate SBuf and some metrics
>> about those. - the old request_offsets structure and similar
>> offset details internal to the parsing are no longer exposed.
> 
>> The parser is now incremental. A parser object must be created
>> (or clean() method called) for each new message. Code using the
>> parser should pass their I/O buffer to the parse(SBuf&) method
>> and retrieve an updated copy of it afterwards via the
>> remaining() method.
> 
>> Much of the code from client_side.cc parseHttpRequest() and also 
>> the header-field code from mime_headers.cc has been moved into
>> the parser classes. The client-side code now simply runs the
>> main parse() method then uses its accessors to retrieve and
>> process the parse results if it returns success.
> 
>> The getHeaderField() method imported from mime_headers.cc has
>> been converted to simpler logics based on Tokenizer class and
>> resolving a number of bugs in its matching output.
> 
>> A unit test for incremental parsing has been added to 
>> testHttp1Parser.
> 
>> The HttpRequestMethod class is moved into the Http namespace and 
>> library to reduce dependencies on the parser class outside the 
>> library.
> 
>> The HttpHeader API has been tweaked slighty to accept
>> start+length pair instead of start/end pointers.
> 
>> Amos
> 
> 
> _______________________________________________ squid-dev mailing
> list squid-dev at lists.squid-cache.org 
> http://lists.squid-cache.org/listinfo/squid-dev
> 


From squid3 at treenet.co.nz  Wed Oct 15 09:34:25 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 15 Oct 2014 22:34:25 +1300
Subject: [squid-dev] [PATCH] HTTP Parser upgrade
In-Reply-To: <543D936F.2090302@measurement-factory.com>
References: <52C406EE.50608@treenet.co.nz>
 <52C483C8.5040307@measurement-factory.com> <52C56D73.4080700@treenet.co.nz>
 <52C5B932.9070006@measurement-factory.com> <52C6ACE1.7060806@treenet.co.nz>
 <52C6E7A2.8080500@measurement-factory.com> <52CA2145.8010208@treenet.co.nz>
 <5302B16C.2070808@measurement-factory.com> <53036B73.5080804@treenet.co.nz>
 <5303A610.6080900@measurement-factory.com> <5379A4BE.6010504@treenet.co.nz>
 <537A3126.4080607@measurement-factory.com> <537B39C6.2040402@treenet.co.nz>
 <537B7D1F.7040503@measurement-factory.com> <538C9BFC.5070305@treenet.co.nz>
 <538DD934.3030602@measurement-factory.com> <5391F276.5000802@treenet.co.nz>
 <5439906B.2040104@treenet.co.nz> <543D936F.2090302@measurement-factory.com>
Message-ID: <543E3FA1.6050206@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 15/10/2014 10:19 a.m., Alex Rousskov wrote:
> On 10/11/2014 02:17 PM, Amos Jeffries wrote:
>> On 7/06/2014 4:55 a.m., Amos Jeffries wrote:
>>> Latest version of the Parser-NG project branch. Since last 
>>> message I have dropped the copy-constructor related pieces.
>> 
>>> Polygraph testing on the branch showed almost no performance 
>>> impact (+0.04ms/req, -0.03% request rate). Nevertheless a half
>>>  dozen points of added memory reallocate or data copy are
>>> marked for future removal as the Parser-NG and SBuf
>>> improvements continue.
> 
> Just to double check: Is that really 0.04ms or 40ms? The former is 
> beyond Polygraph precision (i.e. it is the same as "zero"). The
> latter is a significant overhead. I hope it is the former!

Yes the former (insignificant).

ParserNG (Oct 11th):
Mean response number:  1925.64
Mean response time:  103.36

trunk (Oct 11th):
Mean response number:  1926.03
Mean response time:  103.34

trunk (Oct )
Mean response number:  1926.19
Mean response time:  103.33

> 
>> + * \deprecated use SBuf constructor instead */ 
>> -HttpRequestMethod::HttpRequestMethod(char const *begin, char
>> const *end) : theMethod(Http::METHOD_NONE) 
>> +HttpRequestMethod::HttpRequestMethod(char const *begin) : 
>> theMethod(Http::METHOD_NONE)
> 
> Please rework this constructor into a HttpRequestMethodXXX()
> function call. Otherwise, it is very difficult to spot places where
> it is still being used, including in future patches. Since you are
> also changing the constructor profile, it should be possible to do
> that replacement directly in your patch, avoiding re-editing many
> files by hand.
> 
> This is especially important if this old HttpRequestMethod(char*)
> has a somewhat different semantics/compliance than the new 
> HttpRequestMethod(SBuf).
> 

Done. This is not quite as simple as suggested, the renaming causes it
to become a method instead of constructor, so code needs adjusting to
allocate HttpRequestMethod objects separately before calling it.


> 
>> -    method = HttpRequestMethod(start, t); +    SBuf m(start, 
>> start-t); // XXX: SBuf ctor allocates and data-copies.
>> performance regression. +    method = HttpRequestMethod(m);
> 
> 
> What is the purpose of introducing this SBuf performance
> regression?
> 

To avoid repeated strcspn(X, w_space) over the input buffer.

> * If the deprecated HttpRequestMethod constructor works fine, use
> that and avoid this regression while waiting for callers to pass in
> an SBuf.
> 
> * If the deprecated HttpRequestMethod constructor is not as good
> as the new HttpRequestMethod constructor for some reason (other
> than SBuf parameter itself), then should we re-implement the
> deprecated HttpRequestMethod constructor to create an SBuf and then
> call the new HttpRequestMethod constructor with that SBuf instead?
> 

It works fine. Done.

> 
>> + * or from a range of chars such as "GET" from "GETFOOBARBAZ" +
>> * + * Assumes the s parameter contains only the method string
> 
> This description is not clear, especially because GETFOOBARBAZ
> does not "contain only the method string" GET. The
> HttpRequestMethod() code does not seem to match the documented
> "GETFOOBARBAZ" example because it uses caseCmp(s) without any
> prefix size limits.
> 

s is expected to contain an SBuf whose contents is *only* the chars
forming the method (buf="GET", length=3) not the "FOOBARBAZ" chars
which follow in the I/O buffer.

This is assumed/needs to be true whether or not the chars which
preceed or follow are the expected whitespace delimiters or some
"FOOBARBAZ" fluff.

How else would you write that?


> 
>> +    // XXX: still check for missing method name?
> 
> Please rephrase. It is not clear what you are trying to ask here. 
> FWIW, the new code does handle the case of an empty method name as 
> well as a method name not matching any known header.
> 

That was it. Dropped.

> 
>> const char *t = start + strcspn(start, w_space);
> ...
>> -    start = t + strspn(t, w_space); +    start = t + strspn(t, 
>> w_space); // XXX: breaks if whitespace exists in URL
> 
> Wrong XXX? The code appears to skip the space found at t
> declaration time. That is, after the declaration, "t" should point
> to either a space character or, if there was not one in a URL, to a
> terminating zero character. The XXX seems to be wrong in either
> case.

Er yes. mistakes strspn() for strcspn(). corrected.

> 
>> +    SBuf url = hp->requestUri(); // use full provided URI if we 
>> abort +    do { // use a loop so we can break out of it + 
>> ::Parser::Tokenizer tok(url); +        if (tok.remaining()[0] == 
>> '/') +            break;
> 
> Are we guaranteed to have a non-empty URL at this point? If not, it
> is unsafe to dereference its first character.

Right. Using skip('/') instead with current Tokenizer guarantees.

> 
>> +    // reject URI which are not well-formed even after the 
>> processing above +    if (url[0] != '/') {
> 
> Similar concern here.
> 

Thats an old bug in dead code, but adding isEmpty() check just for
completeness when someone gets around to makeing it non-dead.

> 
>> -    char ipbuf[MAX_IPSTRLEN]; +    static char 
>> ipbuf[MAX_IPSTRLEN];
> 
> If you are changing this, please move the declaration down, where
> it is actually needed.
> 

Done.

> 
>> +        static const CharacterSet authority = 
>> CharacterSet("authority","-._~%:@[]!$&'()*+,;=") + + 
>> CharacterSet::HEXDIG + CharacterSet::ALPHA +
>> CharacterSet::DIGIT;
> 
> Syntax error (missing "+" before CharacterSet::HEXDIG)? If yes,
> does that imply that the above code has not been tested?

It is on the end of the preceeding line.

> 
>> +    const char *url = SBuf(hp->requestUri()).c_str();
> 
> Semantically, this returns a pointer inside the now-gone object
> (the temporary anonymous SBuf). Do not do that even if it usually
> "works" with the current SBuf implementation.

Okay, using a pair of local-scope variables instead.

> 
>> -    const bool isFtp = !hp; +    const bool isFtp = (hp ==
>> NULL);
> 
> Why this change? The existing code was correct and arguably more 
> "future proof" if we start using some kind of smart pointers for
> "hp".
> 

Just consistency between X==NULL and X!=NULL checks.

hp is already a smart pointer in the branch and being non-C++11 it
does not provide operator true(), just operator !(). So we end up with
a mix of if(!X) and if(X != NULL).

Reverting since it was the other way to start with.


> 
>> +    const HttpRequestMethod &method = !isFtp ? hp->method() : 
>> Http::METHOD_NONE; // XXX: or should this be GET ?
> 
> The answer is in the caller you modified, I think:
> 
>> -        clientProcessRequest(this, NULL /*parser*/, 
>> context.getRaw(), -                             request->method, 
>> request->http_ver); +        clientProcessRequest(this, 
>> Http1::RequestParserPointer(), context.getRaw());
> 
> 
> So it should be something like http->request->method or
> equivalent. For FTP, we already have a parsed request at this
> point... However, please double check that
> 
> a) you are actually using that new "method" variable -- it is 
> difficult to say by looking from the patch alone, but I see many
> cases where the old "method" is getting replaced with
> "hp->method()". Perhaps all of the uses are gone now?
> 
> b) the new "method" declaration is as close to the uses in (a) as 
> possible.
> 

Confirmed. It looks like the HTTP-only paths should all be using
hp->method(), the shared and FTP-only paths using request->method.

Removing method local.

> 
>> Http::ProtocolVersion http_ver; -        if (ClientSocketContext 
>> *context = parseOneRequest(http_ver)) { +        if 
>> (ClientSocketContext *context = parseOneRequest()) {
> 
> Do you still need the http_ver variable after removing the 
> corresponding parameter?
> 

No. Dropped.

> 
> * clientProcessRequest() no longer consumes parsed input, right?
> Where does that consumption happen now?
> 

Inside parseOneRequest().

 * HttpServer syncs the I/O buffer to the Tokenizer in
parseHttpRequest() after each parse attempt.

 * FtpServer uses byte counting by the Tokenizer to manage them
separately with consumeInput().

> 
>> +     * BUG: limits output to just 1KB when Squid accepts up to 
>> 64KB line length. * -     * \retval -1  an error occurred. 
>> request_parse_status indicates HTTP status result. -     *
>> \retval 1  successful parse. member fields contain the
>> request-line items - * \retval  0  more data is needed to
>> complete the parse +     * \return A pointer to a field-value of
>> the first matching field-name, or NULL.
> 
> In what sense does the Parser limit the output? It is documented
> to return a pointer to the field-value. Are we truncating that
> field-value?
> 

Copying it into a static array of size 1KB.

...
// arbitrary maximum-length for headers which can be found by
Http1Parser::getHeaderField()
#define GET_HDR_SZ      1024

...
    LOCAL_ARRAY(char, header, GET_HDR_SZ);


For this patching I have left that old limit in place. It appears to
be only used for a few things like Host: header value fetching in the
prepare*URL() functions, so not a problem for most users.


> 
> * Http1::Parser class has virtual methods but is missing a virtual 
> destructor.
> 

Gah. C++11'ism. Default d'tor can be assumed virtual and the children
provide the virtuals.

> 
>> +    /// raw copy of the origina client reqeust-line URI field
> 
> "origina" typo
> 

Fixed.

> 
>> +    Parser() : parsingStage_(HTTP_PARSE_NONE) {}
> 
>> +    RequestParser() : Parser() {clear();} +    virtual void 
>> clear();
> 
> 
>> +Http::One::Parser::clear() { -    clear(); // empty the state.
>> - state = HTTP_PARSE_NEW; -    buf = aBuf; -    bufsiz = len; - 
>> debugs(74, 5, HERE << "Request buffer is " << buf); + 
>> parsingStage_ = HTTP_PARSE_NONE; +    buf_ = NULL; + msgProtocol_
>> = AnyP::ProtocolVersion(); + mimeHeaderBlock_.clear(); }
> 
> 
>> +void +Http::One::RequestParser::clear() +{ + 
>> Http1::Parser::clear(); + +    request_parse_status = 
>> Http::scNone; +    req.start = req.end = -1; +    req.m_start = 
>> req.m_end = -1; +    req.u_start = req.u_end = -1; +
>> req.v_start = req.v_end = -1; +    method_ = HttpRequestMethod();
>> +}
> 
> 
> The above is OK. If you want to polish it further to avoid calling 
> virtual methods from constructors (which is bad style), make these 
> changes:
> 
> 1. Initialize all members in each constructor as needed, without
> calling clear().
> 
> 2. Make Parser::clear() pure, without a body.
> 
> 3. In RequestParser::clear(), just do:
> 
> *this = RequestParser();
> 

I'm never sure during this sequence if complex types like SBuf need an
explicit call to their constructor at step (1) to free old
smart-pointer values or not.

Trying it this way.

> 
> For the proposed commit message, please add an brief explanation
> for "why we are doing this", in addition to the already provided
> "what we are doing" summary.
> 
> And please make sure the commit message explicitly says that we
> are adding a few potential performance regressions with this
> change.

Is that a +1 considering these are mostly cosmetic?

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUPj+hAAoJELJo5wb/XPRjG+8H/06I959LgxkJtMCq08npL/p6
+W8fsz7SWh5C6NwFzTCyonF6CCwQF7RBWxbXMaDq/RknMSyYGy7pwn+7JhNQz9TM
16I3HnP8cSheL0TDub8DlVHVIqiKW0gE12Z4F86j21YO/EqkGJuK7sZoXoePPu7w
2eMW4xg1NjsS0dbD1HJp1BRw3QUkZg30oenWhWRQbpWn3lTlEXPKOXZJxf/eILEN
q8yX9BYmTVM7Zt9ZNlU0lIfzhXTwZkaibZ4+MNpqfjyjLhVYZ77leY5Sn4xCVlr1
ERW+u4ap8HeB4oDMoP/GRchuF9GqTlSjx6hvxmWMtbxjaISUO0W7Twz5XVTfJLs=
=uro/
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Wed Oct 15 18:30:19 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 15 Oct 2014 21:30:19 +0300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
Message-ID: <543EBD3B.40408@users.sourceforge.net>


Intercepting proxies often receive non-HTTP connections. Squid cannot 
currently deal with such connections well because it assumes that a 
given port receives HTTP, FTP, or HTTPS traffic exclusively. This patch 
allows Squid to tunnel unexpected connections instead of terminating 
them with an error.

This patch:
    -Defines an unexpected connection as a connection that resulted in a 
Squid error during first request parsing. Which errors trigger tunneling 
behavior is configurable by the admin using ACLs.

   - Adds "on_first_request_error", a new ACL-driven squid.conf 
directive that can be used to establish a blind TCP tunnel which relays 
all bytes from/to the intercepted connection to/from the intended 
destination address. See the sketch above.
The on_first_request_error directive supports fast ACLs only.

   - Adds "squid_error", a new ACL type to match transactions that 
triggered a given Squid error. Squid error IDs are used to configure one 
or more errors to match. This is similar to the existing ssl_error ACL 
type but works with Squid-generated errors rather than SSL library errors.

   - Adds "ERR_WRONG_PROTOCOL", a new Squid error triggered for 
http_port connections that start with something that lacks even basic 
HTTP request structure. This error is triggered by the HTTP request 
parser, and probably only when/after the current parsing code detects an 
error.

   Adds "request_start_timeout", a new squid.conf directive to trigger a 
new Squid ERR_REQUEST_START_TIMEOUT error if no bytes are received from 
the client on a newly established http_port connection during the 
configured time period. Applies to all http_ports (for now).

No support for tunneling through cache_peers is included. Configurations
that direct outgoing traffic through a peer may break Squid.

Configuration sketch:

    # define what Squid errors indicate receiving non-HTTP traffic:
    acl foreignProtocol squid_error ERR_WRONG_PROTOCOL ERR_TOO_BIG

    # define what Squid errors indicate receiving nothing:
    acl serverTalksFirstProtocol squid_error ERR_REQUEST_START_TIMEOUT

    # tunnel everything that does not look like HTTP:
    on_first_request_error tunnel foreignProtocol

    # tunnel if we think the client waits for the server to talk first:
    on_first_request_error tunnel serverTalksFirstProtocol

    # in all other error cases, just send an HTTP "error page" response:
    on_first_request_error respond all

    # Configure how long to wait for the first byte on the incoming
    # connection before raising an ERR_REQUEST_START_TIMEOUT error.
    request_start_timeout 5 seconds

For more informations please read patch preamble.

This is a Measurement Factory project

-------------- next part --------------
A non-text attachment was scrubbed...
Name: trunk-non-HTTP-bypass-v5.patch.gz
Type: application/x-tar
Size: 20858 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141015/4d6c7a8f/attachment-0001.tar>

From noc at squid-cache.org  Thu Oct 16 18:06:51 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 16 Oct 2014 20:06:51 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #119
Message-ID: <1816001837.95.1413482811854.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/119/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Thu Oct 16 18:38:04 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 16 Oct 2014 20:38:04 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#190
In-Reply-To: <880615053.92.1413298163409.JavaMail.hudson@eu.squid-cache.org>
References: <880615053.92.1413298163409.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <816700538.96.1413484685043.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/190/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 509
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Thu Oct 16 18:38:11 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 16 Oct 2014 20:38:11 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #120
In-Reply-To: <1816001837.95.1413482811854.JavaMail.hudson@eu.squid-cache.org>
References: <1816001837.95.1413482811854.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <756229337.97.1413484691634.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/120/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 509
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 00:06:34 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 02:06:34 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #121
In-Reply-To: <756229337.97.1413484691634.JavaMail.hudson@eu.squid-cache.org>
References: <756229337.97.1413484691634.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1498966783.98.1413504394407.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/121/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 00:12:19 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 02:12:19 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-6 #510
Message-ID: <1427562937.99.1413504739870.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/510/changes>

Changes:

[Amos Jeffries] Prep for 3.5.0.1

[Amos Jeffries] Release Notes update for 3.4

------------------------------------------
[...truncated 1911 lines...]
 (cd file && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/log_daemon/file \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/log_daemon/file'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/log_daemon/file'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/log_daemon'>
 (cd negotiate_auth && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/helpers/negotiate_auth \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth'>
 (cd kerberos && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/negotiate_auth/kerberos \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/kerberos'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/kerberos'>
 (cd SSPI && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/negotiate_auth/SSPI \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/SSPI'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/SSPI'>
 (cd wrapper && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/negotiate_auth/wrapper \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/wrapper'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth/wrapper'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/negotiate_auth'>
 (cd ntlm_auth && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/helpers/ntlm_auth \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth'>
 (cd fake && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/ntlm_auth/fake \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/fake'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/fake'>
 (cd smb_lm && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/ntlm_auth/smb_lm \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/smb_lm'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/smb_lm'>
 (cd SSPI && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/ntlm_auth/SSPI \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/SSPI'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth/SSPI'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ntlm_auth'>
 (cd url_rewrite && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/helpers/url_rewrite \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/url_rewrite'>
 (cd fake && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/url_rewrite/fake \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/url_rewrite/fake'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/url_rewrite/fake'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/url_rewrite'>
 (cd ssl && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/helpers/ssl \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ssl'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/ssl'>
 (cd storeid_rewrite && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/helpers/storeid_rewrite \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/storeid_rewrite'>
 (cd file && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/helpers/storeid_rewrite/file \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/storeid_rewrite/file'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../.././test-suite/../helpers/storeid_rewrite/file/storeid_file_rewrite.pl.in >storeid_file_rewrite || (/bin/rm -f -f storeid_file_rewrite ; exit 1)
pod2man storeid_file_rewrite storeid_file_rewrite.8
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/storeid_rewrite/file'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers/storeid_rewrite'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/helpers'>
 (cd src && make  top_distdir=../squid-3.HEAD-BZR distdir=../squid-3.HEAD-BZR/src \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src'>
gawk -f ../.././test-suite/../src/mk-string-arrays.awk < ../.././test-suite/../src/swap_log_op.h > swap_log_op.cc || (/bin/rm -f -f swap_log_op.cc && exit 1)
 (cd base && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/base \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/base'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/base'>
 (cd anyp && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/anyp \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/anyp'>
(gawk -f ../../.././test-suite/../src/mk-string-arrays.awk <../../.././test-suite/../src/anyp/ProtocolType.h | sed -e 's%PROTO_%%' >ProtocolType.cc) || (/bin/rm -f -f ProtocolType.cc && exit 1)
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/anyp'>
 (cd helper && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/helper \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/helper'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/helper'>
 (cd ftp && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/ftp \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ftp'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ftp'>
 (cd parser && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/parser \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/parser'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/parser'>
 (cd comm && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/comm \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/comm'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/comm'>
 (cd eui && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/eui \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/eui'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/eui'>
 (cd acl && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/acl \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/acl'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/acl'>
 (cd format && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/format \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/format'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/format'>
 (cd clients && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/clients \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/clients'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/clients'>
 (cd servers && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/servers \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/servers'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/servers'>
 (cd fs && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/fs \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/fs'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/fs'>
 (cd repl && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/repl \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/repl'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/repl'>
 (cd auth && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/auth \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth'>
gawk -f ../../.././test-suite/../src/mk-string-arrays.awk < ../../.././test-suite/../src/auth/Type.h > Type.cc || (rm -f Type.cc ; exit 1)
gawk -f ../../.././test-suite/../src/mk-string-arrays.awk < ../../.././test-suite/../src/auth/CredentialState.h > CredentialState.cc || (rm -f CredentialState.cc ; exit 1)
 (cd basic && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/auth/basic \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/basic'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/basic'>
 (cd digest && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/auth/digest \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/digest'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/digest'>
 (cd negotiate && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/auth/negotiate \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/negotiate'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/negotiate'>
 (cd ntlm && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/auth/ntlm \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/ntlm'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth/ntlm'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/auth'>
 (cd http && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/http \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/http'>
(gawk -f ../../.././test-suite/../src/mk-string-arrays.awk sbuf=1 < ../../.././test-suite/../src/http/MethodType.h | \
		sed -e 's%METHOD_%%' -e 's%_C%-C%' >MethodType.cc) || (/bin/rm -f -f MethodType.cc && exit 1)
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/http'>
 (cd ip && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/ip \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ip'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ip'>
 (cd icmp && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/icmp \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/icmp'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/icmp'>
 (cd ident && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/ident \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ident'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ident'>
 (cd log && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/log \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/log'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/log'>
 (cd ipc && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/ipc \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ipc'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ipc'>
 (cd mgr && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/mgr \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/mgr'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/mgr'>
 (cd ssl && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/ssl \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ssl'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/ssl'>
 (cd snmp && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/snmp \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/snmp'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/snmp'>
 (cd adaptation && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/adaptation \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation'>
 (cd icap && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/adaptation/icap \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation/icap'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation/icap'>
 (cd ecap && make  top_distdir=../../../squid-3.HEAD-BZR distdir=../../../squid-3.HEAD-BZR/src/adaptation/ecap \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation/ecap'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation/ecap'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/adaptation'>
 (cd esi && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/src/esi \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/esi'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src/esi'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/src'>
 (cd test-suite && make  top_distdir=../squid-3.HEAD-BZR distdir=../squid-3.HEAD-BZR/test-suite \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/test-suite'>
cp ../.././test-suite/../src/tests/stub_cbdata.cc .
cp ../.././test-suite/../src/tests/stub_debug.cc .
cp ../.././test-suite/../src/tests/stub_MemBuf.cc .
cp ../.././test-suite/../src/tests/stub_SBuf.cc .
cp ../.././test-suite/../src/tests/stub_tools.cc .
cp ../.././test-suite/../src/tests/stub_fatal.cc .
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/test-suite'>
 (cd tools && make  top_distdir=../squid-3.HEAD-BZR distdir=../squid-3.HEAD-BZR/tools \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools'>
cp ../.././test-suite/../src/tests/stub_debug.cc .
cp ../.././test-suite/../test-suite/test_tools.cc .
cp ../.././test-suite/../src/time.cc .
sed " s%@DEFAULT_ERROR_DIR@%%g; s%@DEFAULT_MIME_TABLE@%%g; s%@""PACKAGE_STRING""@%Squid Web Proxy 3.HEAD-BZR%g; s%@SYSCONFDIR@%/usr/local/squid/etc%g; " < ../.././test-suite/../tools/cachemgr.cgi.8.in > cachemgr.cgi.8
 (cd purge && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/tools/purge \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools/purge'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools/purge'>
 (cd squidclient && make  top_distdir=../../squid-3.HEAD-BZR distdir=../../squid-3.HEAD-BZR/tools/squidclient \
     am__remove_distdir=: am__skip_length_check=: am__skip_mode_fix=: distdir)
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools/squidclient'>
cp ../../.././test-suite/../src/tests/stub_debug.cc .
cp ../../.././test-suite/../test-suite/test_tools.cc .
cp ../../.././test-suite/../src/time.cc .
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools/squidclient'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default/tools'>
make  \
	  top_distdir="squid-3.HEAD-BZR" distdir="squid-3.HEAD-BZR" \
	  dist-hook
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default'>
ls: cannot access .././test-suite/../doc/release-notes/*.html: No such file or directory
cp: missing destination file operand after `squid-3.HEAD-BZR/RELEASENOTES.html'
Try `cp --help' for more information.
make[1]: *** [dist-hook] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/ws/btlayer-00-default'>
make: *** [distdir] Error 2
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
ls: cannot access .././test-suite/../doc/release-notes/*.html: No such file or directory
make[1]: *** [dist-hook] Error 1
make: *** [distdir] Error 2
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct 17 00:23:06 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 02:23:06 +0200 (CEST)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_anybranch-wholef?=
 =?utf-8?q?arm-matrix_=C2=BB_clang=2Crs-ubuntu-saucy_=2387?=
Message-ID: <1458538945.100.1413505386635.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/87/>

------------------------------------------
[...truncated 11904 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/http'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/http'>
Making uninstall in ip
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ip'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ip'>
Making uninstall in icmp
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/icmp'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/icmp'>
Making uninstall in ident
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ident'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ident'>
Making uninstall in log
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src'>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /bin/rm -f -f /tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/mime.conf>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /bin/rm -f -f /tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools'>
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '/tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
 /bin/rm -f -f /tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/cachemgr.conf>
/bin/rm -f -f /tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/cachemgr.conf.default>
make[3]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/17 00:22:32| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/17 00:22:32| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/17 00:22:32| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 00:22:32| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-7299/<http://build.squid-cache.org/job/anybranch-wholefarm-matrix/compiler=clang,label=rs-ubuntu-saucy/ws/btlayer-00-default/squid-3.5.0.0-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Fri Oct 17 01:06:35 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 03:06:35 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #122
In-Reply-To: <1498966783.98.1413504394407.JavaMail.hudson@eu.squid-cache.org>
References: <1498966783.98.1413504394407.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1290299605.101.1413507995847.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/122/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 02:06:34 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 04:06:34 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #123
In-Reply-To: <1290299605.101.1413507995847.JavaMail.hudson@eu.squid-cache.org>
References: <1290299605.101.1413507995847.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1210892176.102.1413511594540.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/123/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 02:07:38 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 04:07:38 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-6
	#511
In-Reply-To: <1427562937.99.1413504739870.JavaMail.hudson@eu.squid-cache.org>
References: <1427562937.99.1413504739870.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <494155991.103.1413511658718.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-6/511/changes>


From noc at squid-cache.org  Fri Oct 17 02:08:12 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 04:08:12 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#191
In-Reply-To: <816700538.96.1413484685043.JavaMail.hudson@eu.squid-cache.org>
References: <816700538.96.1413484685043.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1612871873.104.1413511692720.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/191/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 511
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Fri Oct 17 02:08:19 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 04:08:19 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #124
In-Reply-To: <1210892176.102.1413511594540.JavaMail.hudson@eu.squid-cache.org>
References: <1210892176.102.1413511594540.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <704310189.105.1413511700110.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/124/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 511
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 03:28:46 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 05:28:46 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#192
In-Reply-To: <1612871873.104.1413511692720.JavaMail.hudson@eu.squid-cache.org>
References: <1612871873.104.1413511692720.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <184890491.106.1413516526590.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/192/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 512
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Fri Oct 17 03:28:53 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 05:28:53 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #125
In-Reply-To: <704310189.105.1413511700110.JavaMail.hudson@eu.squid-cache.org>
References: <704310189.105.1413511700110.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <856723628.107.1413516533601.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/125/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 512
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 06:06:35 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 08:06:35 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #126
In-Reply-To: <856723628.107.1413516533601.JavaMail.hudson@eu.squid-cache.org>
References: <856723628.107.1413516533601.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1377670474.108.1413525996122.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/126/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 06:37:16 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 08:37:16 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#193
In-Reply-To: <184890491.106.1413516526590.JavaMail.hudson@eu.squid-cache.org>
References: <184890491.106.1413516526590.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <667136240.109.1413527836397.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/193/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 513
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Fri Oct 17 06:37:33 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 08:37:33 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #127
In-Reply-To: <1377670474.108.1413525996122.JavaMail.hudson@eu.squid-cache.org>
References: <1377670474.108.1413525996122.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <476760505.110.1413527853744.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/127/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 513
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Fri Oct 17 06:48:26 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Oct 2014 08:48:26 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-ubuntu-saucy #341
Message-ID: <1486464268.111.1413528506753.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/341/changes>

Changes:

[Amos Jeffries] Boilerplate: update release script COPYRIGHT file action

------------------------------------------
[...truncated 37186 lines...]
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in ssl
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f ssl_crtd )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 /bin/rm -f -f /tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /bin/rm -f -f /tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /bin/rm -f -f /tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/bin/rm -f -f /tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/17 06:47:48| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/17 06:47:48| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/17 06:47:48| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/17 06:47:48| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-29833/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Sun Oct 19 04:06:35 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 19 Oct 2014 06:06:35 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #128
In-Reply-To: <476760505.110.1413527853744.JavaMail.hudson@eu.squid-cache.org>
References: <476760505.110.1413527853744.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2065470589.112.1413691595424.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/128/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Sun Oct 19 04:50:39 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 19 Oct 2014 06:50:39 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#194
In-Reply-To: <667136240.109.1413527836397.JavaMail.hudson@eu.squid-cache.org>
References: <667136240.109.1413527836397.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <965828056.113.1413694239536.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/194/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 514
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Sun Oct 19 04:51:02 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 19 Oct 2014 06:51:02 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #129
In-Reply-To: <2065470589.112.1413691595424.JavaMail.hudson@eu.squid-cache.org>
References: <2065470589.112.1413691595424.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <828921189.114.1413694262395.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/129/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 514
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Sun Oct 19 05:09:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 19 Oct 2014 07:09:37 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-ubuntu-saucy #342
In-Reply-To: <1486464268.111.1413528506753.JavaMail.hudson@eu.squid-cache.org>
References: <1486464268.111.1413528506753.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1150013375.115.1413695377314.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/342/changes>


From squid3 at treenet.co.nz  Thu Oct 16 13:27:52 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 17 Oct 2014 02:27:52 +1300
Subject: [squid-dev] [PATCH] HTTP Parser upgrade
In-Reply-To: <543E3FA1.6050206@treenet.co.nz>
References: <52C406EE.50608@treenet.co.nz>
 <52C483C8.5040307@measurement-factory.com> <52C56D73.4080700@treenet.co.nz>
 <52C5B932.9070006@measurement-factory.com> <52C6ACE1.7060806@treenet.co.nz>
 <52C6E7A2.8080500@measurement-factory.com> <52CA2145.8010208@treenet.co.nz>
 <5302B16C.2070808@measurement-factory.com> <53036B73.5080804@treenet.co.nz>
 <5303A610.6080900@measurement-factory.com> <5379A4BE.6010504@treenet.co.nz>
 <537A3126.4080607@measurement-factory.com> <537B39C6.2040402@treenet.co.nz>
 <537B7D1F.7040503@measurement-factory.com> <538C9BFC.5070305@treenet.co.nz>
 <538DD934.3030602@measurement-factory.com> <5391F276.5000802@treenet.co.nz>
 <5439906B.2040104@treenet.co.nz> <543D936F.2090302@measurement-factory.com>
 <543E3FA1.6050206@treenet.co.nz>
Message-ID: <543FC7D8.4090401@treenet.co.nz>

(if there are no objections this will be applied in a couple of days)


This update is to lay the groundwork for several planned future projects
implementing protocol specific parsers, seperating the currently
intertwinned client connection management and HTTP protocol parsing
logics, and for zero-copy processing of transactions using SBuf.


This patch renames the HttpParser class as RequestParser and moves it
into the Http::One:: namespace as child of an Http::Parser class with
generic API accessors for shared use by other HTTP message parsers.

The class API
 - is updated to process both the request-line and HTTP mime headers,
returning an incomplete parse result until the entire headers parts of
the message have been received.
 - now contains accessor methods for retrieving the method, URI,
protocol, mime headers block (as an SBuf) and some metrics about those.
 - the old request_offsets structure and similar offset details are no
longer exposed.
 - now emits 414 and 431 HTTP status codes as appropriate.

The parser is made partially incremental and some use of Tokenizer is
added for faster parsing. There is more that can be done to further
speed up parsing of slow or very large requests.

Much of the code from client_side.cc parseHttpRequest() and also the
header-field code from mime_headers.cc has been moved into the parser
class. The client_side.cc code now simply runs the main
Http1::RequestParser::parse() method then uses accessors to retrieve
and process the parse results.

A unit test for incremental parsing has been added to testHttpParser.

Also, the HttpRequestMethod class is moved into the Http:: namespace and
library to reduce dependencies on the parser class outside the library.


The gains made so far from incremental parse, reducing parser passes and
zero-copy SBuf are offset by several temporary performance regressions
added converting SBuf for legacy code use. These are marked for later
removal.


Amos




On 15/10/2014 10:34 p.m., Amos Jeffries wrote:
> On 15/10/2014 10:19 a.m., Alex Rousskov wrote:
>> On 10/11/2014 02:17 PM, Amos Jeffries wrote:
>>> On 7/06/2014 4:55 a.m., Amos Jeffries wrote:
>>>> Latest version of the Parser-NG project branch. Since last 
>>>> message I have dropped the copy-constructor related pieces.
>>>
>>>> Polygraph testing on the branch showed almost no performance 
>>>> impact (+0.04ms/req, -0.03% request rate). Nevertheless a half
>>>>  dozen points of added memory reallocate or data copy are
>>>> marked for future removal as the Parser-NG and SBuf
>>>> improvements continue.
> 
>> Just to double check: Is that really 0.04ms or 40ms? The former is 
>> beyond Polygraph precision (i.e. it is the same as "zero"). The
>> latter is a significant overhead. I hope it is the former!
> 
> Yes the former (insignificant).
> 
> ParserNG (Oct 11th):
> Mean response number:  1925.64
> Mean response time:  103.36
> 
> trunk (Oct 11th):
> Mean response number:  1926.03
> Mean response time:  103.34
> 
> trunk (Oct )
> Mean response number:  1926.19
> Mean response time:  103.33
> 
> 
>>> + * \deprecated use SBuf constructor instead */ 
>>> -HttpRequestMethod::HttpRequestMethod(char const *begin, char
>>> const *end) : theMethod(Http::METHOD_NONE) 
>>> +HttpRequestMethod::HttpRequestMethod(char const *begin) : 
>>> theMethod(Http::METHOD_NONE)
> 
>> Please rework this constructor into a HttpRequestMethodXXX()
>> function call. Otherwise, it is very difficult to spot places where
>> it is still being used, including in future patches. Since you are
>> also changing the constructor profile, it should be possible to do
>> that replacement directly in your patch, avoiding re-editing many
>> files by hand.
> 
>> This is especially important if this old HttpRequestMethod(char*)
>> has a somewhat different semantics/compliance than the new 
>> HttpRequestMethod(SBuf).
> 
> 
> Done. This is not quite as simple as suggested, the renaming causes it
> to become a method instead of constructor, so code needs adjusting to
> allocate HttpRequestMethod objects separately before calling it.
> 
> 
> 
>>> -    method = HttpRequestMethod(start, t); +    SBuf m(start, 
>>> start-t); // XXX: SBuf ctor allocates and data-copies.
>>> performance regression. +    method = HttpRequestMethod(m);
> 
> 
>> What is the purpose of introducing this SBuf performance
>> regression?
> 
> 
> To avoid repeated strcspn(X, w_space) over the input buffer.
> 
>> * If the deprecated HttpRequestMethod constructor works fine, use
>> that and avoid this regression while waiting for callers to pass in
>> an SBuf.
> 
>> * If the deprecated HttpRequestMethod constructor is not as good
>> as the new HttpRequestMethod constructor for some reason (other
>> than SBuf parameter itself), then should we re-implement the
>> deprecated HttpRequestMethod constructor to create an SBuf and then
>> call the new HttpRequestMethod constructor with that SBuf instead?
> 
> 
> It works fine. Done.
> 
> 
>>> + * or from a range of chars such as "GET" from "GETFOOBARBAZ" +
>>> * + * Assumes the s parameter contains only the method string
> 
>> This description is not clear, especially because GETFOOBARBAZ
>> does not "contain only the method string" GET. The
>> HttpRequestMethod() code does not seem to match the documented
>> "GETFOOBARBAZ" example because it uses caseCmp(s) without any
>> prefix size limits.
> 
> 
> s is expected to contain an SBuf whose contents is *only* the chars
> forming the method (buf="GET", length=3) not the "FOOBARBAZ" chars
> which follow in the I/O buffer.
> 
> This is assumed/needs to be true whether or not the chars which
> preceed or follow are the expected whitespace delimiters or some
> "FOOBARBAZ" fluff.
> 
> How else would you write that?
> 
> 
> 
>>> +    // XXX: still check for missing method name?
> 
>> Please rephrase. It is not clear what you are trying to ask here. 
>> FWIW, the new code does handle the case of an empty method name as 
>> well as a method name not matching any known header.
> 
> 
> That was it. Dropped.
> 
> 
>>> const char *t = start + strcspn(start, w_space);
>> ...
>>> -    start = t + strspn(t, w_space); +    start = t + strspn(t, 
>>> w_space); // XXX: breaks if whitespace exists in URL
> 
>> Wrong XXX? The code appears to skip the space found at t
>> declaration time. That is, after the declaration, "t" should point
>> to either a space character or, if there was not one in a URL, to a
>> terminating zero character. The XXX seems to be wrong in either
>> case.
> 
> Er yes. mistakes strspn() for strcspn(). corrected.
> 
> 
>>> +    SBuf url = hp->requestUri(); // use full provided URI if we 
>>> abort +    do { // use a loop so we can break out of it + 
>>> ::Parser::Tokenizer tok(url); +        if (tok.remaining()[0] == 
>>> '/') +            break;
> 
>> Are we guaranteed to have a non-empty URL at this point? If not, it
>> is unsafe to dereference its first character.
> 
> Right. Using skip('/') instead with current Tokenizer guarantees.
> 
> 
>>> +    // reject URI which are not well-formed even after the 
>>> processing above +    if (url[0] != '/') {
> 
>> Similar concern here.
> 
> 
> Thats an old bug in dead code, but adding isEmpty() check just for
> completeness when someone gets around to makeing it non-dead.
> 
> 
>>> -    char ipbuf[MAX_IPSTRLEN]; +    static char 
>>> ipbuf[MAX_IPSTRLEN];
> 
>> If you are changing this, please move the declaration down, where
>> it is actually needed.
> 
> 
> Done.
> 
> 
>>> +        static const CharacterSet authority = 
>>> CharacterSet("authority","-._~%:@[]!$&'()*+,;=") + + 
>>> CharacterSet::HEXDIG + CharacterSet::ALPHA +
>>> CharacterSet::DIGIT;
> 
>> Syntax error (missing "+" before CharacterSet::HEXDIG)? If yes,
>> does that imply that the above code has not been tested?
> 
> It is on the end of the preceeding line.
> 
> 
>>> +    const char *url = SBuf(hp->requestUri()).c_str();
> 
>> Semantically, this returns a pointer inside the now-gone object
>> (the temporary anonymous SBuf). Do not do that even if it usually
>> "works" with the current SBuf implementation.
> 
> Okay, using a pair of local-scope variables instead.
> 
> 
>>> -    const bool isFtp = !hp; +    const bool isFtp = (hp ==
>>> NULL);
> 
>> Why this change? The existing code was correct and arguably more 
>> "future proof" if we start using some kind of smart pointers for
>> "hp".
> 
> 
> Just consistency between X==NULL and X!=NULL checks.
> 
> hp is already a smart pointer in the branch and being non-C++11 it
> does not provide operator true(), just operator !(). So we end up with
> a mix of if(!X) and if(X != NULL).
> 
> Reverting since it was the other way to start with.
> 
> 
> 
>>> +    const HttpRequestMethod &method = !isFtp ? hp->method() : 
>>> Http::METHOD_NONE; // XXX: or should this be GET ?
> 
>> The answer is in the caller you modified, I think:
> 
>>> -        clientProcessRequest(this, NULL /*parser*/, 
>>> context.getRaw(), -                             request->method, 
>>> request->http_ver); +        clientProcessRequest(this, 
>>> Http1::RequestParserPointer(), context.getRaw());
> 
> 
>> So it should be something like http->request->method or
>> equivalent. For FTP, we already have a parsed request at this
>> point... However, please double check that
> 
>> a) you are actually using that new "method" variable -- it is 
>> difficult to say by looking from the patch alone, but I see many
>> cases where the old "method" is getting replaced with
>> "hp->method()". Perhaps all of the uses are gone now?
> 
>> b) the new "method" declaration is as close to the uses in (a) as 
>> possible.
> 
> 
> Confirmed. It looks like the HTTP-only paths should all be using
> hp->method(), the shared and FTP-only paths using request->method.
> 
> Removing method local.
> 
> 
>>> Http::ProtocolVersion http_ver; -        if (ClientSocketContext 
>>> *context = parseOneRequest(http_ver)) { +        if 
>>> (ClientSocketContext *context = parseOneRequest()) {
> 
>> Do you still need the http_ver variable after removing the 
>> corresponding parameter?
> 
> 
> No. Dropped.
> 
> 
>> * clientProcessRequest() no longer consumes parsed input, right?
>> Where does that consumption happen now?
> 
> 
> Inside parseOneRequest().
> 
>  * HttpServer syncs the I/O buffer to the Tokenizer in
> parseHttpRequest() after each parse attempt.
> 
>  * FtpServer uses byte counting by the Tokenizer to manage them
> separately with consumeInput().
> 
> 
>>> +     * BUG: limits output to just 1KB when Squid accepts up to 
>>> 64KB line length. * -     * \retval -1  an error occurred. 
>>> request_parse_status indicates HTTP status result. -     *
>>> \retval 1  successful parse. member fields contain the
>>> request-line items - * \retval  0  more data is needed to
>>> complete the parse +     * \return A pointer to a field-value of
>>> the first matching field-name, or NULL.
> 
>> In what sense does the Parser limit the output? It is documented
>> to return a pointer to the field-value. Are we truncating that
>> field-value?
> 
> 
> Copying it into a static array of size 1KB.
> 
> ...
> // arbitrary maximum-length for headers which can be found by
> Http1Parser::getHeaderField()
> #define GET_HDR_SZ      1024
> 
> ...
>     LOCAL_ARRAY(char, header, GET_HDR_SZ);
> 
> 
> For this patching I have left that old limit in place. It appears to
> be only used for a few things like Host: header value fetching in the
> prepare*URL() functions, so not a problem for most users.
> 
> 
> 
>> * Http1::Parser class has virtual methods but is missing a virtual 
>> destructor.
> 
> 
> Gah. C++11'ism. Default d'tor can be assumed virtual and the children
> provide the virtuals.
> 
> 
>>> +    /// raw copy of the origina client reqeust-line URI field
> 
>> "origina" typo
> 
> 
> Fixed.
> 
> 
>>> +    Parser() : parsingStage_(HTTP_PARSE_NONE) {}
> 
>>> +    RequestParser() : Parser() {clear();} +    virtual void 
>>> clear();
> 
> 
>>> +Http::One::Parser::clear() { -    clear(); // empty the state.
>>> - state = HTTP_PARSE_NEW; -    buf = aBuf; -    bufsiz = len; - 
>>> debugs(74, 5, HERE << "Request buffer is " << buf); + 
>>> parsingStage_ = HTTP_PARSE_NONE; +    buf_ = NULL; + msgProtocol_
>>> = AnyP::ProtocolVersion(); + mimeHeaderBlock_.clear(); }
> 
> 
>>> +void +Http::One::RequestParser::clear() +{ + 
>>> Http1::Parser::clear(); + +    request_parse_status = 
>>> Http::scNone; +    req.start = req.end = -1; +    req.m_start = 
>>> req.m_end = -1; +    req.u_start = req.u_end = -1; +
>>> req.v_start = req.v_end = -1; +    method_ = HttpRequestMethod();
>>> +}
> 
> 
>> The above is OK. If you want to polish it further to avoid calling 
>> virtual methods from constructors (which is bad style), make these 
>> changes:
> 
>> 1. Initialize all members in each constructor as needed, without
>> calling clear().
> 
>> 2. Make Parser::clear() pure, without a body.
> 
>> 3. In RequestParser::clear(), just do:
> 
>> *this = RequestParser();
> 
> 
> I'm never sure during this sequence if complex types like SBuf need an
> explicit call to their constructor at step (1) to free old
> smart-pointer values or not.
> 
> Trying it this way.
> 
> 
>> For the proposed commit message, please add an brief explanation
>> for "why we are doing this", in addition to the already provided
>> "what we are doing" summary.
> 
>> And please make sure the commit message explicitly says that we
>> are adding a few potential performance regressions with this
>> change.
> 
> Is that a +1 considering these are mostly cosmetic?
> 
> Amos
> 
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
> 

-------------- next part --------------
=== modified file 'configure.ac'
--- configure.ac	2014-10-13 14:40:35 +0000
+++ configure.ac	2014-10-16 12:13:18 +0000
@@ -3766,40 +3766,41 @@
 	src/base/Makefile
 	src/acl/Makefile
 	src/clients/Makefile
 	src/servers/Makefile
 	src/fs/Makefile
 	src/repl/Makefile
 	src/auth/Makefile
 	src/auth/basic/Makefile
 	src/auth/digest/Makefile
 	src/auth/negotiate/Makefile
 	src/auth/ntlm/Makefile
 	src/adaptation/Makefile
 	src/adaptation/icap/Makefile
 	src/adaptation/ecap/Makefile
 	src/comm/Makefile
 	src/esi/Makefile
 	src/eui/Makefile
 	src/format/Makefile
 	src/helper/Makefile
 	src/http/Makefile
+	src/http/one/Makefile
 	src/icmp/Makefile
 	src/ident/Makefile
 	src/ip/Makefile
 	src/log/Makefile
 	src/ipc/Makefile
 	src/ssl/Makefile
 	src/mgr/Makefile
 	src/parser/Makefile
 	src/snmp/Makefile
 	contrib/Makefile
 	icons/Makefile
 	errors/Makefile
 	test-suite/Makefile
 	doc/Makefile
 	doc/manuals/Makefile
 	helpers/Makefile
 	helpers/basic_auth/Makefile
 	helpers/basic_auth/DB/Makefile
 	helpers/basic_auth/fake/Makefile
 	helpers/basic_auth/getpwnam/Makefile

=== modified file 'src/AccessLogEntry.h'
--- src/AccessLogEntry.h	2014-09-29 05:13:17 +0000
+++ src/AccessLogEntry.h	2014-10-05 10:43:33 +0000
@@ -1,38 +1,38 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPACCESSLOGENTRY_H
 #define SQUID_HTTPACCESSLOGENTRY_H
 
 #include "anyp/PortCfg.h"
 #include "base/RefCount.h"
 #include "comm/Connection.h"
 #include "HierarchyLogEntry.h"
 #include "http/ProtocolVersion.h"
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "icp_opcode.h"
 #include "ip/Address.h"
 #include "LogTags.h"
 #include "MessageSizes.h"
 #include "Notes.h"
 #if ICAP_CLIENT
 #include "adaptation/icap/Elements.h"
 #endif
 #if USE_OPENSSL
 #include "ssl/gadgets.h"
 #endif
 
 /* forward decls */
 class HttpReply;
 class HttpRequest;
 class CustomLog;
 
 class AccessLogEntry: public RefCountable
 {
 

=== modified file 'src/HttpHeader.cc'
--- src/HttpHeader.cc	2014-09-13 13:59:43 +0000
+++ src/HttpHeader.cc	2014-09-14 12:23:03 +0000
@@ -564,188 +564,189 @@
         /* deny bad guys (ok to check for HDR_OTHER) here */
 
         if (denied_mask && CBIT_TEST(*denied_mask, e->id))
             continue;
 
         debugs(55, 7, "Updating header '" << HeadersAttrs[e->id].name << "' in cached entry");
 
         addEntry(e->clone());
     }
 }
 
 /* just handy in parsing: resets and returns false */
 int
 HttpHeader::reset()
 {
     clean();
     return 0;
 }
 
 int
-HttpHeader::parse(const char *header_start, const char *header_end)
+HttpHeader::parse(const char *header_start, size_t hdrLen)
 {
     const char *field_ptr = header_start;
+    const char *header_end = header_start + hdrLen; // XXX: remove
     HttpHeaderEntry *e, *e2;
     int warnOnError = (Config.onoff.relaxed_header_parser <= 0 ? DBG_IMPORTANT : 2);
 
     PROF_start(HttpHeaderParse);
 
     assert(header_start && header_end);
-    debugs(55, 7, "parsing hdr: (" << this << ")" << std::endl << getStringPrefix(header_start, header_end));
+    debugs(55, 7, "parsing hdr: (" << this << ")" << std::endl << getStringPrefix(header_start, hdrLen));
     ++ HttpHeaderStats[owner].parsedCount;
 
     char *nulpos;
-    if ((nulpos = (char*)memchr(header_start, '\0', header_end - header_start))) {
+    if ((nulpos = (char*)memchr(header_start, '\0', hdrLen))) {
         debugs(55, DBG_IMPORTANT, "WARNING: HTTP header contains NULL characters {" <<
-               getStringPrefix(header_start, nulpos) << "}\nNULL\n{" << getStringPrefix(nulpos+1, header_end));
+               getStringPrefix(header_start, nulpos-header_start) << "}\nNULL\n{" << getStringPrefix(nulpos+1, hdrLen-(nulpos-header_start)-1));
         PROF_stop(HttpHeaderParse);
         return reset();
     }
 
     /* common format headers are "<name>:[ws]<value>" lines delimited by <CRLF>.
      * continuation lines start with a (single) space or tab */
     while (field_ptr < header_end) {
         const char *field_start = field_ptr;
         const char *field_end;
 
         do {
             const char *this_line = field_ptr;
             field_ptr = (const char *)memchr(field_ptr, '\n', header_end - field_ptr);
 
             if (!field_ptr) {
                 // missing <LF>
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
 
             field_end = field_ptr;
 
             ++field_ptr;	/* Move to next line */
 
             if (field_end > this_line && field_end[-1] == '\r') {
                 --field_end;	/* Ignore CR LF */
 
                 if (owner == hoRequest && field_end > this_line) {
                     bool cr_only = true;
                     for (const char *p = this_line; p < field_end && cr_only; ++p) {
                         if (*p != '\r')
                             cr_only = false;
                     }
                     if (cr_only) {
                         debugs(55, DBG_IMPORTANT, "SECURITY WARNING: Rejecting HTTP request with a CR+ "
                                "header field to prevent request smuggling attacks: {" <<
-                               getStringPrefix(header_start, header_end) << "}");
+                               getStringPrefix(header_start, hdrLen) << "}");
                         PROF_stop(HttpHeaderParse);
                         return reset();
                     }
                 }
             }
 
             /* Barf on stray CR characters */
             if (memchr(this_line, '\r', field_end - this_line)) {
                 debugs(55, warnOnError, "WARNING: suspicious CR characters in HTTP header {" <<
-                       getStringPrefix(field_start, field_end) << "}");
+                       getStringPrefix(field_start, field_end-field_start) << "}");
 
                 if (Config.onoff.relaxed_header_parser) {
                     char *p = (char *) this_line;	/* XXX Warning! This destroys original header content and violates specifications somewhat */
 
                     while ((p = (char *)memchr(p, '\r', field_end - p)) != NULL) {
                         *p = ' ';
                         ++p;
                     }
                 } else {
                     PROF_stop(HttpHeaderParse);
                     return reset();
                 }
             }
 
             if (this_line + 1 == field_end && this_line > field_start) {
                 debugs(55, warnOnError, "WARNING: Blank continuation line in HTTP header {" <<
-                       getStringPrefix(header_start, header_end) << "}");
+                       getStringPrefix(header_start, hdrLen) << "}");
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         } while (field_ptr < header_end && (*field_ptr == ' ' || *field_ptr == '\t'));
 
         if (field_start == field_end) {
             if (field_ptr < header_end) {
                 debugs(55, warnOnError, "WARNING: unparseable HTTP header field near {" <<
-                       getStringPrefix(field_start, header_end) << "}");
+                       getStringPrefix(field_start, hdrLen-(field_start-header_start)) << "}");
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
 
             break;		/* terminating blank line */
         }
 
         if ((e = HttpHeaderEntry::parse(field_start, field_end)) == NULL) {
             debugs(55, warnOnError, "WARNING: unparseable HTTP header field {" <<
-                   getStringPrefix(field_start, field_end) << "}");
-            debugs(55, warnOnError, " in {" << getStringPrefix(header_start, header_end) << "}");
+                   getStringPrefix(field_start, field_end-field_start) << "}");
+            debugs(55, warnOnError, " in {" << getStringPrefix(header_start, hdrLen) << "}");
 
             if (Config.onoff.relaxed_header_parser)
                 continue;
 
             PROF_stop(HttpHeaderParse);
             return reset();
         }
 
         if (e->id == HDR_CONTENT_LENGTH && (e2 = findEntry(e->id)) != NULL) {
             if (e->value != e2->value) {
                 int64_t l1, l2;
                 debugs(55, warnOnError, "WARNING: found two conflicting content-length headers in {" <<
-                       getStringPrefix(header_start, header_end) << "}");
+                       getStringPrefix(header_start, hdrLen) << "}");
 
                 if (!Config.onoff.relaxed_header_parser) {
                     delete e;
                     PROF_stop(HttpHeaderParse);
                     return reset();
                 }
 
                 if (!httpHeaderParseOffset(e->value.termedBuf(), &l1)) {
                     debugs(55, DBG_IMPORTANT, "WARNING: Unparseable content-length '" << e->value << "'");
                     delete e;
                     continue;
                 } else if (!httpHeaderParseOffset(e2->value.termedBuf(), &l2)) {
                     debugs(55, DBG_IMPORTANT, "WARNING: Unparseable content-length '" << e2->value << "'");
                     delById(e2->id);
                 } else if (l1 > l2) {
                     delById(e2->id);
                 } else {
                     delete e;
                     continue;
                 }
             } else {
                 debugs(55, warnOnError, "NOTICE: found double content-length header");
                 delete e;
 
                 if (Config.onoff.relaxed_header_parser)
                     continue;
 
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         }
 
         if (e->id == HDR_OTHER && stringHasWhitespace(e->name.termedBuf())) {
             debugs(55, warnOnError, "WARNING: found whitespace in HTTP header name {" <<
-                   getStringPrefix(field_start, field_end) << "}");
+                   getStringPrefix(field_start, field_end-field_start) << "}");
 
             if (!Config.onoff.relaxed_header_parser) {
                 delete e;
                 PROF_stop(HttpHeaderParse);
                 return reset();
             }
         }
 
         addEntry(e);
     }
 
     if (chunked()) {
         // RFC 2616 section 4.4: ignore Content-Length with Transfer-Encoding
         delById(HDR_CONTENT_LENGTH);
     }
 
     PROF_stop(HttpHeaderParse);
     return 1;			/* even if no fields where found, it is a valid header */
 }
 
@@ -1614,52 +1615,52 @@
     const char *name_end = (const char *)memchr(field_start, ':', field_end - field_start);
     int name_len = name_end ? name_end - field_start :0;
     const char *value_start = field_start + name_len + 1;	/* skip ':' */
     /* note: value_end == field_end */
 
     ++ HeaderEntryParsedCount;
 
     /* do we have a valid field name within this field? */
 
     if (!name_len || name_end > field_end)
         return NULL;
 
     if (name_len > 65534) {
         /* String must be LESS THAN 64K and it adds a terminating NULL */
         debugs(55, DBG_IMPORTANT, "WARNING: ignoring header name of " << name_len << " bytes");
         return NULL;
     }
 
     if (Config.onoff.relaxed_header_parser && xisspace(field_start[name_len - 1])) {
         debugs(55, Config.onoff.relaxed_header_parser <= 0 ? 1 : 2,
-               "NOTICE: Whitespace after header name in '" << getStringPrefix(field_start, field_end) << "'");
+               "NOTICE: Whitespace after header name in '" << getStringPrefix(field_start, field_end-field_start) << "'");
 
         while (name_len > 0 && xisspace(field_start[name_len - 1]))
             --name_len;
 
         if (!name_len)
             return NULL;
     }
 
     /* now we know we can parse it */
 
-    debugs(55, 9, "parsing HttpHeaderEntry: near '" <<  getStringPrefix(field_start, field_end) << "'");
+    debugs(55, 9, "parsing HttpHeaderEntry: near '" <<  getStringPrefix(field_start, field_end-field_start) << "'");
 
     /* is it a "known" field? */
     http_hdr_type id = httpHeaderIdByName(field_start, name_len, Headers, HDR_ENUM_END);
 
     String name;
 
     String value;
 
     if (id < 0)
         id = HDR_OTHER;
 
     assert_eid(id);
 
     /* set field name */
     if (id == HDR_OTHER)
         name.limitInit(field_start, name_len);
     else
         name = Headers[id].name;
 
     /* trim field value */

=== modified file 'src/HttpHeader.h'
--- src/HttpHeader.h	2014-09-13 13:59:43 +0000
+++ src/HttpHeader.h	2014-09-14 12:23:03 +0000
@@ -1,158 +1,48 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPHEADER_H
 #define SQUID_HTTPHEADER_H
 
+#include "http/RegisteredHeaders.h"
 /* because we pass a spec by value */
 #include "HttpHeaderMask.h"
 #include "MemPool.h"
 #include "SquidString.h"
 
 #include <vector>
 
 /* class forward declarations */
 class HttpHdrCc;
 class HttpHdrContRange;
 class HttpHdrRange;
 class HttpHdrSc;
 class Packer;
 class StoreEntry;
 class SBuf;
 
-/* constant attributes of http header fields */
-
-/// recognized or "known" header fields; and the RFC which defines them (or not)
-/// http://www.iana.org/assignments/message-headers/message-headers.xhtml
-typedef enum {
-    HDR_BAD_HDR = -1,
-    HDR_ACCEPT = 0,                     /**< RFC 7231 */
-    HDR_ACCEPT_CHARSET,                 /**< RFC 7231 */
-    HDR_ACCEPT_ENCODING,                /**< RFC 7231 */
-    /*HDR_ACCEPT_FEATURES,*/            /* RFC 2295 */
-    HDR_ACCEPT_LANGUAGE,                /**< RFC 7231 */
-    HDR_ACCEPT_RANGES,                  /**< RFC 7233 */
-    HDR_AGE,                            /**< RFC 7234 */
-    HDR_ALLOW,                          /**< RFC 7231 */
-    HDR_AUTHENTICATION_INFO,            /**< RFC 2617 */
-    HDR_AUTHORIZATION,                  /**< RFC 7235, 4559 */
-    HDR_CACHE_CONTROL,                  /**< RFC 7234 */
-    HDR_CONNECTION,                     /**< RFC 7230 */
-    HDR_CONTENT_BASE,                   /**< obsoleted RFC 2068 */
-    HDR_CONTENT_DISPOSITION,            /**< RFC 2183, 6266 */
-    HDR_CONTENT_ENCODING,               /**< RFC 7231 */
-    HDR_CONTENT_LANGUAGE,               /**< RFC 7231 */
-    HDR_CONTENT_LENGTH,                 /**< RFC 7230 */
-    HDR_CONTENT_LOCATION,               /**< RFC 7231 */
-    HDR_CONTENT_MD5,                    /**< deprecated, RFC 2616 */
-    HDR_CONTENT_RANGE,                  /**< RFC 7233 */
-    HDR_CONTENT_TYPE,                   /**< RFC 7231 */
-    HDR_COOKIE,                         /**< RFC 6265 header we may need to erase */
-    HDR_COOKIE2,                        /**< obsolete RFC 2965 header we may need to erase */
-    HDR_DATE,                           /**< RFC 7231 */
-    /*HDR_DAV,*/                        /* RFC 2518 */
-    /*HDR_DEPTH,*/                      /* RFC 2518 */
-    /*HDR_DERIVED_FROM,*/               /* deprecated RFC 2068 */
-    /*HDR_DESTINATION,*/                /* RFC 2518 */
-    HDR_ETAG,                           /**< RFC 7232 */
-    HDR_EXPECT,                         /**< RFC 7231 */
-    HDR_EXPIRES,                        /**< RFC 7234 */
-    HDR_FORWARDED,                      /**< RFC 7239 */
-    HDR_FROM,                           /**< RFC 7231 */
-    HDR_HOST,                           /**< RFC 7230 */
-    HDR_HTTP2_SETTINGS,                 /**< HTTP/2.0 upgrade header. see draft-ietf-httpbis-http2-13 */
-    /*HDR_IF,*/                         /* RFC 2518 */
-    HDR_IF_MATCH,                       /**< RFC 7232 */
-    HDR_IF_MODIFIED_SINCE,              /**< RFC 7232 */
-    HDR_IF_NONE_MATCH,                  /**< RFC 7232 */
-    HDR_IF_RANGE,                       /**< RFC 7233 */
-    HDR_IF_UNMODIFIED_SINCE,            /**< RFC 7232 */
-    HDR_KEEP_ALIVE,                     /**< obsoleted RFC 2068 header we may need to erase */
-    HDR_KEY,                            /**< experimental RFC Draft draft-fielding-http-key-02 */
-    HDR_LAST_MODIFIED,                  /**< RFC 7232 */
-    HDR_LINK,                           /**< RFC 5988 */
-    HDR_LOCATION,                       /**< RFC 7231 */
-    /*HDR_LOCK_TOKEN,*/                 /* RFC 2518 */
-    HDR_MAX_FORWARDS,                   /**< RFC 7231 */
-    HDR_MIME_VERSION,                   /**< RFC 2045, 7231 */
-    HDR_NEGOTIATE,                      /**< experimental RFC 2295. Why only this one from 2295? */
-    /*HDR_OVERWRITE,*/                  /* RFC 2518 */
-    HDR_ORIGIN,                         /* CORS Draft specification (see http://www.w3.org/TR/cors/) */
-    HDR_PRAGMA,                         /**< RFC 7234 */
-    HDR_PROXY_AUTHENTICATE,             /**< RFC 7235 */
-    HDR_PROXY_AUTHENTICATION_INFO,      /**< RFC 2617 */
-    HDR_PROXY_AUTHORIZATION,            /**< RFC 7235 */
-    HDR_PROXY_CONNECTION,               /**< obsolete Netscape header we may need to erase. */
-    HDR_PROXY_SUPPORT,                  /**< RFC 4559 */
-    HDR_PUBLIC,                         /**<  RFC 2068 */
-    HDR_RANGE,                          /**< RFC 7233 */
-    HDR_REFERER,                        /**< RFC 7231 */
-    HDR_REQUEST_RANGE,                  /**< some clients use this, sigh */
-    HDR_RETRY_AFTER,                    /**< RFC 7231 */
-    HDR_SERVER,                         /**< RFC 7231 */
-    HDR_SET_COOKIE,                     /**< RFC 6265 header we may need to erase */
-    HDR_SET_COOKIE2,                    /**< obsoleted RFC 2965 header we may need to erase */
-    /*HDR_STATUS_URI,*/                 /* RFC 2518 */
-    /*HDR_TCN,*/                        /* experimental RFC 2295 */
-    HDR_TE,                             /**< RFC 7230 */
-    /*HDR_TIMEOUT,*/                    /* RFC 2518 */
-    HDR_TITLE,                          /* obsolete draft suggested header */
-    HDR_TRAILER,                        /**< RFC 7230 */
-    HDR_TRANSFER_ENCODING,              /**< RFC 7230 */
-    HDR_TRANSLATE,                      /**< IIS custom header we may need to erase */
-    HDR_UNLESS_MODIFIED_SINCE,          /**< IIS custom header we may need to erase */
-    HDR_UPGRADE,                        /**< RFC 7230 */
-    HDR_USER_AGENT,                     /**< RFC 7231 */
-    /*HDR_VARIANT_VARY,*/               /* experimental RFC 2295 */
-    HDR_VARY,                           /**< RFC 7231 */
-    HDR_VIA,                            /**< RFC 7230 */
-    HDR_WARNING,                        /**< RFC 7234 */
-    HDR_WWW_AUTHENTICATE,               /**< RFC 7235, 4559 */
-    HDR_X_CACHE,                        /**< Squid custom header */
-    HDR_X_CACHE_LOOKUP,                 /**< Squid custom header. temporary hack that became de-facto. TODO remove */
-    HDR_X_FORWARDED_FOR,                /**< obsolete Squid custom header, RFC 7239 */
-    HDR_X_REQUEST_URI,                  /**< Squid custom header appended if ADD_X_REQUEST_URI is defined */
-    HDR_X_SQUID_ERROR,                  /**< Squid custom header on generated error responses */
-#if X_ACCELERATOR_VARY
-    HDR_X_ACCELERATOR_VARY,             /**< obsolete Squid custom header. */
-#endif
-#if USE_ADAPTATION
-    HDR_X_NEXT_SERVICES,                /**< Squid custom ICAP header */
-#endif
-    HDR_SURROGATE_CAPABILITY,           /**< Edge Side Includes (ESI) header */
-    HDR_SURROGATE_CONTROL,              /**< Edge Side Includes (ESI) header */
-    HDR_FRONT_END_HTTPS,                /**< MS Exchange custom header we may have to add */
-    HDR_FTP_COMMAND,                    /**< Internal header for FTP command */
-    HDR_FTP_ARGUMENTS,                  /**< Internal header for FTP command arguments */
-    HDR_FTP_PRE,                        /**< Internal header containing leading FTP control response lines */
-    HDR_FTP_STATUS,                     /**< Internal header for FTP reply status */
-    HDR_FTP_REASON,                     /**< Internal header for FTP reply reason */
-    HDR_OTHER,                          /**< internal tag value for "unknown" headers */
-    HDR_ENUM_END
-} http_hdr_type;
-
 /** possible types for http header fields */
 typedef enum {
     ftInvalid = HDR_ENUM_END,	/**< to catch nasty errors with hdr_id<->fld_type clashes */
     ftInt,
     ftInt64,
     ftStr,
     ftDate_1123,
     ftETag,
     ftPCc,
     ftPContRange,
     ftPRange,
     ftPSc,
     ftDate_1123_or_ETag
 } field_type;
 
 /** Possible owners of http header */
 typedef enum {
     hoNone =0,
 #if USE_HTCP
     hoHtcpReply,
@@ -202,41 +92,41 @@
 class ETag;
 class TimeOrTag;
 
 class HttpHeader
 {
 
 public:
     HttpHeader();
     explicit HttpHeader(const http_hdr_owner_type owner);
     HttpHeader(const HttpHeader &other);
     ~HttpHeader();
 
     HttpHeader &operator =(const HttpHeader &other);
 
     /* Interface functions */
     void clean();
     void append(const HttpHeader * src);
     void update (HttpHeader const *fresh, HttpHeaderMask const *denied_mask);
     void compact();
     int reset();
-    int parse(const char *header_start, const char *header_end);
+    int parse(const char *header_start, size_t len);
     void packInto(Packer * p, bool mask_sensitive_info=false) const;
     HttpHeaderEntry *getEntry(HttpHeaderPos * pos) const;
     HttpHeaderEntry *findEntry(http_hdr_type id) const;
     int delByName(const char *name);
     int delById(http_hdr_type id);
     void delAt(HttpHeaderPos pos, int &headers_deleted);
     void refreshMask();
     void addEntry(HttpHeaderEntry * e);
     void insertEntry(HttpHeaderEntry * e);
     String getList(http_hdr_type id) const;
     bool getList(http_hdr_type id, String *s) const;
     String getStrOrList(http_hdr_type id) const;
     String getByName(const char *name) const;
     /// sets value and returns true iff a [possibly empty] named field is there
     bool getByNameIfPresent(const char *name, String &value) const;
     String getByNameListMember(const char *name, const char *member, const char separator) const;
     String getListMember(http_hdr_type id, const char *member, const char separator) const;
     int has(http_hdr_type id) const;
     void putInt(http_hdr_type id, int number);
     void putInt64(http_hdr_type id, int64_t number);

=== modified file 'src/HttpHeaderTools.cc'
--- src/HttpHeaderTools.cc	2014-09-13 13:59:43 +0000
+++ src/HttpHeaderTools.cc	2014-09-14 12:23:03 +0000
@@ -144,46 +144,45 @@
 
 #if USE_HTTP_VIOLATIONS
     if (hdr->has(HDR_PROXY_CONNECTION))
         list = hdr->getList(HDR_PROXY_CONNECTION);
     else
 #endif
         if (hdr->has(HDR_CONNECTION))
             list = hdr->getList(HDR_CONNECTION);
         else
             return 0;
 
     res = strListIsMember(&list, directive, ',');
 
     list.clean();
 
     return res;
 }
 
 /** handy to printf prefixes of potentially very long buffers */
 const char *
-getStringPrefix(const char *str, const char *end)
+getStringPrefix(const char *str, size_t sz)
 {
 #define SHORT_PREFIX_SIZE 512
     LOCAL_ARRAY(char, buf, SHORT_PREFIX_SIZE);
-    const int sz = 1 + (end ? end - str : strlen(str));
-    xstrncpy(buf, str, (sz > SHORT_PREFIX_SIZE) ? SHORT_PREFIX_SIZE : sz);
+    xstrncpy(buf, str, (sz+1 > SHORT_PREFIX_SIZE) ? SHORT_PREFIX_SIZE : sz);
     return buf;
 }
 
 /**
  * parses an int field, complains if soemthing went wrong, returns true on
  * success
  */
 int
 httpHeaderParseInt(const char *start, int *value)
 {
     assert(value);
     *value = atoi(start);
 
     if (!*value && !xisdigit(*start)) {
         debugs(66, 2, "failed to parse an int header field near '" << start << "'");
         return 0;
     }
 
     return 1;
 }

=== modified file 'src/HttpHeaderTools.h'
--- src/HttpHeaderTools.h	2014-09-13 13:59:43 +0000
+++ src/HttpHeaderTools.h	2014-09-14 12:23:03 +0000
@@ -107,25 +107,25 @@
     Format::Format *valueFormat;
 
     /// internal ID for "known" headers or HDR_OTHER
     http_hdr_type fieldId;
 
     /// whether fieldValue may contain macros
     bool quoted;
 };
 
 int httpHeaderParseOffset(const char *start, int64_t * off);
 
 HttpHeaderFieldInfo *httpHeaderBuildFieldsInfo(const HttpHeaderFieldAttrs * attrs, int count);
 void httpHeaderDestroyFieldsInfo(HttpHeaderFieldInfo * info, int count);
 http_hdr_type httpHeaderIdByName(const char *name, size_t name_len, const HttpHeaderFieldInfo * attrs, int end);
 http_hdr_type httpHeaderIdByNameDef(const char *name, int name_len);
 const char *httpHeaderNameById(int id);
 int httpHeaderHasConnDir(const HttpHeader * hdr, const char *directive);
 int httpHeaderParseInt(const char *start, int *val);
 void httpHeaderPutStrf(HttpHeader * hdr, http_hdr_type id, const char *fmt,...) PRINTF_FORMAT_ARG3;
 
-const char *getStringPrefix(const char *str, const char *end);
+const char *getStringPrefix(const char *str, size_t len);
 
 void httpHdrMangleList(HttpHeader *, HttpRequest *, int req_or_rep);
 
 #endif

=== modified file 'src/HttpMsg.cc'
--- src/HttpMsg.cc	2014-09-13 13:59:43 +0000
+++ src/HttpMsg.cc	2014-10-11 10:21:16 +0000
@@ -18,41 +18,41 @@
 #include "SquidConfig.h"
 
 HttpMsg::HttpMsg(http_hdr_owner_type owner): header(owner),
         cache_control(NULL), hdr_sz(0), content_length(0),
         pstate(psReadyToParseStartLine)
 {}
 
 HttpMsg::~HttpMsg()
 {
     assert(!body_pipe);
 }
 
 HttpMsgParseState &operator++ (HttpMsgParseState &aState)
 {
     int tmp = (int)aState;
     aState = (HttpMsgParseState)(++tmp);
     return aState;
 }
 
 /* find end of headers */
-int
+static int
 httpMsgIsolateHeaders(const char **parse_start, int l, const char **blk_start, const char **blk_end)
 {
     /*
      * parse_start points to the first line of HTTP message *headers*,
      * not including the request or status lines
      */
     size_t end = headersEnd(*parse_start, l);
     int nnl;
 
     if (end) {
         *blk_start = *parse_start;
         *blk_end = *parse_start + end - 1;
         /*
          * leave blk_end pointing to the first character after the
          * first newline which terminates the headers
          */
         assert(**blk_end == '\n');
 
         while (*(*blk_end - 1) == '\r')
             --(*blk_end);
@@ -238,48 +238,49 @@
             PROF_stop(HttpMsg_httpMsgParseStep);
             return httpMsgParseError();
         }
 
         *parse_end_ptr = parse_start;
 
         hdr_sz = *parse_end_ptr - buf;
         parse_len = parse_len - hdr_sz;
 
         ++pstate;
     }
 
     /*
      * XXX This code uses parse_start; but if we're incrementally parsing then
      * this code might not actually be given parse_start at the right spot (just
      * after headers.) Grr.
      */
     if (pstate == psReadyToParseHeaders) {
         if (!httpMsgIsolateHeaders(&parse_start, parse_len, &blk_start, &blk_end)) {
             if (atEnd) {
-                blk_start = parse_start, blk_end = blk_start + strlen(blk_start);
+                blk_start = parse_start;
+                blk_end = blk_start + strlen(blk_start);
             } else {
                 PROF_stop(HttpMsg_httpMsgParseStep);
                 return 0;
             }
         }
 
-        if (!header.parse(blk_start, blk_end)) {
+        if (!header.parse(blk_start, blk_end-blk_start)) {
             PROF_stop(HttpMsg_httpMsgParseStep);
             return httpMsgParseError();
         }
 
         hdrCacheInit();
 
         *parse_end_ptr = parse_start;
 
         hdr_sz = *parse_end_ptr - buf;
 
         ++pstate;
     }
 
     PROF_stop(HttpMsg_httpMsgParseStep);
     return 1;
 }
 
 /* handy: resets and returns -1 */
 int
 HttpMsg::httpMsgParseError()

=== modified file 'src/HttpMsg.h'
--- src/HttpMsg.h	2014-09-13 13:59:43 +0000
+++ src/HttpMsg.h	2014-09-14 12:23:03 +0000
@@ -1,37 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPMSG_H
 #define SQUID_HTTPMSG_H
 
 #include "base/Lock.h"
 #include "BodyPipe.h"
+#include "http/forward.h"
 #include "http/ProtocolVersion.h"
 #include "http/StatusCode.h"
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
 
 /// common parts of HttpRequest and HttpReply
 class HttpMsg : public RefCountable
 {
 
 public:
     typedef RefCount<HttpMsg> Pointer;
 
     HttpMsg(http_hdr_owner_type owner);
     virtual ~HttpMsg();
 
     virtual void reset() = 0; // will have body when http*Clean()s are gone
 
     void packInto(Packer * p, bool full_uri) const;
 
     ///< produce a message copy, except for a few connection-specific settings
     virtual HttpMsg *clone() const = 0; ///< \todo rename: not a true copy?
 
     /// [re]sets Content-Length header and cached value
     void setContentLength(int64_t clen);
@@ -81,26 +81,24 @@
 
     virtual bool inheritProperties(const HttpMsg *aMsg) = 0;
 
 protected:
     /**
      * Validate the message start line is syntactically correct.
      * Set HTTP error status according to problems found.
      *
      * \retval true   Status line has no serious problems.
      * \retval false  Status line has a serious problem. Correct response is indicated by error.
      */
     virtual bool sanityCheckStartLine(MemBuf *buf, const size_t hdr_len, Http::StatusCode *error) = 0;
 
     virtual void packFirstLineInto(Packer * p, bool full_uri) const = 0;
 
     virtual bool parseFirstLine(const char *blk_start, const char *blk_end) = 0;
 
     virtual void hdrCacheInit();
 };
 
-int httpMsgIsolateHeaders(const char **parse_start, int len, const char **blk_start, const char **blk_end);
-
 #define HTTPMSGUNLOCK(a) if (a) { if ((a)->unlock() == 0) delete (a); (a)=NULL; }
 #define HTTPMSGLOCK(a) (a)->lock()
 
 #endif /* SQUID_HTTPMSG_H */

=== modified file 'src/HttpRequest.cc'
--- src/HttpRequest.cc	2014-09-13 13:59:43 +0000
+++ src/HttpRequest.cc	2014-10-15 07:12:58 +0000
@@ -1,40 +1,41 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 73    HTTP Request */
 
 #include "squid.h"
 #include "AccessLogEntry.h"
 #include "acl/AclSizeLimit.h"
 #include "acl/FilledChecklist.h"
 #include "client_side.h"
 #include "DnsLookupDetails.h"
 #include "err_detail_type.h"
 #include "globals.h"
 #include "gopher.h"
 #include "http.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrCc.h"
 #include "HttpHeaderRange.h"
 #include "HttpRequest.h"
 #include "log/Config.h"
 #include "MemBuf.h"
 #include "SquidConfig.h"
 #include "Store.h"
 #include "URL.h"
 
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if ICAP_CLIENT
 #include "adaptation/icap/icap_log.h"
 #endif
 
 HttpRequest::HttpRequest() :
         HttpMsg(hoRequest)
 {
     init();
@@ -262,106 +263,112 @@
 /**
  * Checks the first line of an HTTP request is valid
  * currently just checks the request method is present.
  *
  * NP: Other errors are left for detection later in the parse.
  */
 bool
 HttpRequest::sanityCheckStartLine(MemBuf *buf, const size_t hdr_len, Http::StatusCode *error)
 {
     // content is long enough to possibly hold a reply
     // 2 being magic size of a 1-byte request method plus space delimiter
     if ( buf->contentSize() < 2 ) {
         // this is ony a real error if the headers apparently complete.
         if (hdr_len > 0) {
             debugs(58, 3, HERE << "Too large request header (" << hdr_len << " bytes)");
             *error = Http::scInvalidHeader;
         }
         return false;
     }
 
-    /* See if the request buffer starts with a known HTTP request method. */
-    if (HttpRequestMethod(buf->content(),NULL) == Http::METHOD_NONE) {
+    /* See if the request buffer starts with a non-whitespace HTTP request 'method'. */
+    HttpRequestMethod m;
+    m.HttpRequestMethodXXX(buf->content());
+    if (m == Http::METHOD_NONE) {
         debugs(73, 3, "HttpRequest::sanityCheckStartLine: did not find HTTP request method");
         *error = Http::scInvalidHeader;
         return false;
     }
 
     return true;
 }
 
 bool
 HttpRequest::parseFirstLine(const char *start, const char *end)
 {
-    const char *t = start + strcspn(start, w_space);
-    method = HttpRequestMethod(start, t);
+    method.HttpRequestMethodXXX(start);
 
     if (method == Http::METHOD_NONE)
         return false;
 
-    start = t + strspn(t, w_space);
+    // XXX: performance regression, strcspn() over the method bytes a second time.
+    // cheaper than allocate+copy+deallocate cycle to SBuf convert a piece of start.
+    const char *t = start + strcspn(start, w_space);
+
+    start = t + strspn(t, w_space); // skip w_space after method
 
     const char *ver = findTrailingHTTPVersion(start, end);
 
     if (ver) {
         end = ver - 1;
 
         while (xisspace(*end)) // find prev non-space
             --end;
 
         ++end;                 // back to space
 
         if (2 != sscanf(ver + 5, "%d.%d", &http_ver.major, &http_ver.minor)) {
             debugs(73, DBG_IMPORTANT, "parseRequestLine: Invalid HTTP identifier.");
             return false;
         }
     } else {
         http_ver.major = 0;
         http_ver.minor = 9;
     }
 
     if (end < start)   // missing URI
         return false;
 
     char save = *end;
 
     * (char *) end = '\0';     // temp terminate URI, XXX dangerous?
 
     HttpRequest *tmp = urlParse(method, (char *) start, this);
 
     * (char *) end = save;
 
     if (NULL == tmp)
         return false;
 
     return true;
 }
 
-int
-HttpRequest::parseHeader(const char *parse_start, int len)
+bool
+HttpRequest::parseHeader(Http1::RequestParser &hp)
 {
-    const char *blk_start, *blk_end;
-
-    if (!httpMsgIsolateHeaders(&parse_start, len, &blk_start, &blk_end))
-        return 0;
+    // HTTP/1 message contains "zero or more header fields"
+    // zero does not need parsing
+    if (!hp.headerBlockSize())
+        return true;
 
-    int result = header.parse(blk_start, blk_end);
+    // XXX: c_str() reallocates. performance regression.
+    const bool result = header.parse(hp.mimeHeader().c_str(), hp.headerBlockSize());
 
     if (result)
         hdrCacheInit();
 
     return result;
 }
 
 /* swaps out request using httpRequestPack */
 void
 HttpRequest::swapOut(StoreEntry * e)
 {
     Packer p;
     assert(e);
     packerToStoreInit(&p, e);
     pack(&p);
     packerClean(&p);
 }
 
 /* packs request-line and headers, appends <crlf> terminator */
 void

=== modified file 'src/HttpRequest.h'
--- src/HttpRequest.h	2014-09-13 13:59:43 +0000
+++ src/HttpRequest.h	2014-09-14 12:23:03 +0000
@@ -1,37 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPREQUEST_H
 #define SQUID_HTTPREQUEST_H
 
 #include "base/CbcPointer.h"
 #include "Debug.h"
 #include "err_type.h"
 #include "HierarchyLogEntry.h"
 #include "HttpMsg.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "Notes.h"
 #include "RequestFlags.h"
 #include "URL.h"
 
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if USE_ADAPTATION
 #include "adaptation/History.h"
 #endif
 #if ICAP_CLIENT
 #include "adaptation/icap/History.h"
 #endif
 #if USE_SQUID_EUI
 #include "eui/Eui48.h"
 #include "eui/Eui64.h"
 #endif
 
 class ConnStateData;
 
@@ -192,41 +192,41 @@
     String extacl_user;		/* User name returned by extacl lookup */
 
     String extacl_passwd;	/* Password returned by extacl lookup */
 
     String extacl_log;		/* String to be used for access.log purposes */
 
     String extacl_message;	/* String to be used for error page purposes */
 
 #if FOLLOW_X_FORWARDED_FOR
     String x_forwarded_for_iterator; /* XXX a list of IP addresses */
 #endif /* FOLLOW_X_FORWARDED_FOR */
 
     /// A strong etag of the cached entry. Used for refreshing that entry.
     String etag;
 
 public:
     bool multipartRangeRequest() const;
 
     bool parseFirstLine(const char *start, const char *end);
 
-    int parseHeader(const char *parse_start, int len);
+    bool parseHeader(Http1::RequestParser &hp); // TODO move this function to the parser
 
     virtual bool expectingBody(const HttpRequestMethod& unused, int64_t&) const;
 
     bool bodyNibbled() const; // the request has a [partially] consumed body
 
     int prefixLen();
 
     void swapOut(StoreEntry * e);
 
     void pack(Packer * p);
 
     static void httpRequestPack(void *obj, Packer *p);
 
     static HttpRequest * CreateFromUrlAndMethod(char * url, const HttpRequestMethod& method);
 
     static HttpRequest * CreateFromUrl(char * url);
 
     ConnStateData *pinnedConnection();
 
     /**

=== modified file 'src/Makefile.am'
--- src/Makefile.am	2014-10-14 13:57:05 +0000
+++ src/Makefile.am	2014-10-16 12:13:18 +0000
@@ -386,50 +386,46 @@
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrSc.h \
 	HttpHdrScTarget.cc \
 	HttpHdrScTarget.h \
 	HttpHdrContRange.cc \
 	HttpHdrContRange.h \
 	HttpHeaderStat.h \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderMask.h \
 	HttpHeaderRange.h \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpControlMsg.h \
 	HttpMsg.cc \
 	HttpMsg.h \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	HttpReply.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
 	HttpRequest.h \
-	HttpRequestMethod.cc \
-	HttpRequestMethod.h \
 	ICP.h \
 	icp_opcode.h \
 	icp_v2.cc \
 	icp_v3.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	ipcache.h \
 	$(LEAKFINDERSOURCE) \
 	SquidList.h \
 	SquidList.cc \
 	LogTags.h \
 	lookup_t.h \
 	main.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
@@ -598,69 +594,69 @@
 	icp_opcode.cc \
 	LogTags.cc \
 	lookup_t.cc \
 	repl_modules.cc \
 	swap_log_op.cc
 
 CLEANFILES += $(BUILT_SOURCES)
 
 nodist_squid_SOURCES = \
 	$(DISKIO_GEN_SOURCE) \
 	$(BUILT_SOURCES)
 
 squid_LDADD = \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	$(AUTH_LIBS) \
 	$(DISK_LIBS) \
 	acl/libapi.la \
+	clients/libclients.la \
+	servers/libservers.la \
+	ftp/libftp.la \
+	helper/libhelper.la \
+	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	base/libbase.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	anyp/libanyp.la \
 	comm/libcomm.la \
 	eui/libeui.la \
-	helper/libhelper.la \
-	http/libsquid-http.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	format/libformat.la \
-	clients/libclients.la \
-	servers/libservers.la \
-	ftp/libftp.la \
 	$(XTRA_OBJS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SNMP_LIBS) \
-	parser/libsquid-parser.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SSLLIB) \
 	$(EPOLL_LIBS) \
 	$(MINGW_LIBS) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 squid_DEPENDENCIES = \
 	$(DISK_LIBS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LOCAL_LIBS) \
 	$(SSL_LIBS) \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
@@ -726,41 +722,41 @@
 	debug.cc \
 	int.h \
 	int.cc \
 	Mem.h \
 	mem.cc \
 	MemBuf.cc \
 	MemBuf.h \
 	Parsing.h \
 	store_key_md5.h \
 	store_key_md5.cc \
 	tests/stub_StoreMeta.cc \
 	StoreMetaUnpacker.cc \
 	String.cc \
 	SquidNew.cc \
 	tests/stub_time.cc \
 	ufsdump.cc \
 	dlink.h \
 	dlink.cc \
 	helper/ChildConfig.h \
 	tests/stub_HelperChildConfig.cc \
-	HttpRequestMethod.cc \
+	http/RequestMethod.cc \
 	RemovalPolicy.cc \
 	$(WIN32_SOURCE) \
 	fd.h \
 	tests/stub_fd.cc
 ufsdump_LDADD = \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	base/libbase.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(XTRA_OBJS) \
 	$(REPL_OBJS) \
 	$(NETTLELIB) \
 	$(CRYPTLIB) \
@@ -1054,41 +1050,41 @@
 
 test_tools.cc: $(top_srcdir)/test-suite/test_tools.cc
 	cp $(top_srcdir)/test-suite/test_tools.cc .
 
 # stock tools for unit tests - library independent versions of dlink_list 
 # etc.
 # globals.cc is needed by test_tools.cc.
 # Neither of these should be disted from here.
 TESTSOURCES= \
 	tests/STUB.h \
 	test_tools.cc \
 	globals.cc
 
 check_PROGRAMS+=\
 	tests/testBoilerplate \
 	tests/testCacheManager \
 	tests/testDiskIO \
 	tests/testEvent \
 	tests/testEventLoop \
 	tests/test_http_range \
-	tests/testHttpParser \
+	tests/testHttp1Parser \
 	tests/testHttpReply \
 	tests/testHttpRequest \
 	tests/testStore \
 	tests/testString \
 	tests/testURL \
 	tests/testSBuf \
 	tests/testSBufList \
 	tests/testConfigParser \
 	tests/testStatHist
 
 if HAVE_FS_ROCK
 check_PROGRAMS += tests/testRock
 endif
 if HAVE_FS_UFS
 check_PROGRAMS += tests/testUfs
 endif
 
 ## NP: required to run the above list. check_PROGRAMS only builds the binaries...
 TESTS += $(check_PROGRAMS)
 
@@ -1192,40 +1188,41 @@
 	tests/stub_StatHist.cc \
 	repl_modules.h \
 	tests/stub_store.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	tests/stub_HttpRequest.cc \
 	tests/testHttpReply.cc \
 	tests/testHttpReply.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testHttpReply_SOURCES=\
 	$(TESTSOURCES)
 tests_testHttpReply_LDFLAGS = $(LIBADD_DL)
 tests_testHttpReply_LDADD=\
 	CommCalls.o \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	acl/libacls.la \
 	acl/libapi.la \
 	acl/libstate.la \
 	anyp/libanyp.la \
 	ip/libip.la \
 	base/libbase.la \
 	ipc/libipc.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(NETTLELIB) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testHttpReply_DEPENDENCIES= $(SQUID_CPPUNIT_LA)
 
 tests_testACLMaxUserIP_SOURCES= \
 	cbdata.cc \
@@ -1239,41 +1236,40 @@
 	event.cc \
 	fatal.h \
 	tests/stub_fatal.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Notes.cc \
 	Notes.h \
 	SquidList.h \
 	SquidList.cc \
 	mem_node.cc \
 	Packer.cc \
 	Parsing.cc \
 	SquidMath.cc \
 	StatCounters.cc \
 	StatCounters.h \
 	StatHist.h \
 	StrList.h \
 	StrList.cc \
 	tests/stub_StatHist.cc \
 	stmem.cc \
 	$(SBUF_SOURCE) \
@@ -1328,40 +1324,41 @@
 	tests/stub_tools.cc \
 	tests/stub_cache_manager.cc \
 	tests/stub_UdsOp.cc \
 	tests/testACLMaxUserIP.cc \
 	tests/testACLMaxUserIP.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	url.cc \
 	URL.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	MemBuf.cc \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testACLMaxUserIP_SOURCES= \
 	$(TESTSOURCES)
 tests_testACLMaxUserIP_LDADD= \
 	libsquid.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	anyp/libanyp.la \
 	base/libbase.la \
 	ip/libip.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
@@ -1379,46 +1376,43 @@
 	tests/stub_debug.cc \
 	tests/stub_time.cc
 nodist_tests_testBoilerplate_SOURCES = \
 	tests/stub_cbdata.cc \
 	tests/stub_MemBuf.cc \
 	$(TESTSOURCES)
 tests_testBoilerplate_LDADD= \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	base/libbase.la \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testBoilerplate_LDFLAGS = $(LIBADD_DL)
 tests_testBoilerplate_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
 ## Tests of the CacheManager module.
 tests_testCacheManager_SOURCES = \
 	AccessLogEntry.cc \
 	debug.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	String.cc \
 	tests/testCacheManager.cc \
 	tests/testCacheManager.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
 	tests/stub_ipc_Forwarder.cc \
 	tests/stub_store_stats.cc \
 	tests/stub_EventLoop.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
 	cache_cf.h \
 	AuthReg.h \
 	YesNoNone.h \
 	YesNoNone.cc \
 	RefreshPattern.h \
 	cache_cf.cc \
 	CacheDigest.h \
@@ -1581,48 +1575,48 @@
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testCacheManager_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 # comm.cc only requires comm/libcomm.la until fdc_table is dead.
 tests_testCacheManager_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	comm/libcomm.la \
 	eui/libeui.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	anyp/libanyp.la \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
@@ -1664,41 +1658,40 @@
 	fde.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHdrRange.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpMsg.cc \
 	HttpReply.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	mem_node.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	refresh.h \
 	refresh.cc \
 	RemovalPolicy.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
@@ -1771,40 +1764,41 @@
 	tests/testMain.cc \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	tests/stub_time.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc \
 	tools.h \
 	tests/stub_tools.cc
 nodist_tests_testDiskIO_SOURCES= \
 	$(TESTSOURCES) \
 	$(DISKIO_GEN_SOURCE) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testDiskIO_LDADD = \
 	libsquid.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	SquidConfig.o \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	comm/libcomm.la \
 	ip/libip.la \
 	fs/libfs.la \
 	ipc/libipc.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
 	anyp/libanyp.la \
 	mgr/libmgr.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
@@ -1887,49 +1881,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2013,48 +2004,48 @@
 	tests/stub_tunnel.cc \
 	MemStore.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testEvent_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_testEvent_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
@@ -2135,49 +2126,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2261,48 +2249,48 @@
 	tests/stub_tunnel.cc \
 	MemStore.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testEventLoop_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_testEventLoop_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
@@ -2379,49 +2367,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	MemBuf.cc \
 	MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	mime.h \
 	mime.cc \
 	mime_header.h \
@@ -2502,136 +2487,136 @@
 	tools.cc \
 	tests/stub_tunnel.cc \
 	$(UNLINKDSOURCE) \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_test_http_range_SOURCES = \
 	$(BUILT_SOURCES) \
 	$(DISKIO_GEN_SOURCE)
 tests_test_http_range_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
+	ftp/libftp.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
-	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	parser/libsquid-parser.la \
 	ip/libip.la \
 	fs/libfs.la \
 	anyp/libanyp.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_test_http_range_LDFLAGS = $(LIBADD_DL)
 tests_test_http_range_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
-tests_testHttpParser_SOURCES = \
+tests_testHttp1Parser_SOURCES = \
 	Debug.h \
-	HttpParser.cc \
-	HttpParser.h \
 	MemBuf.cc \
 	MemBuf.h \
 	tests/stub_MemObject.cc \
 	Mem.h \
 	tests/stub_mem.cc \
+	mime_header.cc \
+	mime_header.h \
 	String.cc \
 	cache_cf.h \
 	YesNoNone.h \
 	$(SBUF_SOURCE) \
 	tests/stub_SBufDetailedStats.cc \
 	tests/stub_cache_cf.cc \
 	tests/stub_cache_manager.cc \
 	tests/stub_comm.cc \
 	tests/stub_cbdata.cc \
 	tests/stub_debug.cc \
 	tests/stub_event.cc \
 	tests/stub_HelperChildConfig.cc \
 	tests/stub_stmem.cc \
 	tests/stub_store.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
-	tests/testHttpParser.cc \
-	tests/testHttpParser.h \
+	tests/testHttp1Parser.cc \
+	tests/testHttp1Parser.h \
 	tests/testMain.cc \
 	tests/stub_time.cc \
 	wordlist.h \
 	wordlist.cc
-nodist_tests_testHttpParser_SOURCES = \
+nodist_tests_testHttp1Parser_SOURCES = \
 	$(TESTSOURCES)
-tests_testHttpParser_LDADD= \
+tests_testHttp1Parser_LDADD= \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
+	anyp/libanyp.la \
 	SquidConfig.o \
 	base/libbase.la \
 	ip/libip.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
-tests_testHttpParser_LDFLAGS = $(LIBADD_DL)
-tests_testHttpParser_DEPENDENCIES = \
+tests_testHttp1Parser_LDFLAGS = $(LIBADD_DL)
+tests_testHttp1Parser_DEPENDENCIES = \
 	$(SQUID_CPPUNIT_LA)
 
 ## Tests of the HttpRequest module.
 tests_testHttpRequest_SOURCES = \
 	AccessLogEntry.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	String.cc \
 	tests/testHttpRequest.h \
 	tests/testHttpRequest.cc \
 	tests/testHttpRequestMethod.h \
 	tests/testHttpRequestMethod.cc \
 	tests/testMain.cc \
 	tests/stub_DiskIOModule.cc \
 	tests/stub_libauth.cc \
 	tests/stub_main_cc.cc \
 	tests/stub_ipc_Forwarder.cc \
 	tests/stub_libeui.cc \
 	tests/stub_store_stats.cc \
 	tests/stub_EventLoop.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
 	cache_cf.h \
 	AuthReg.h \
@@ -2794,58 +2779,59 @@
 	MemStore.cc \
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testHttpRequest_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testHttpRequest_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
 	helper/libhelper.la \
 	ftp/libftp.la \
+	http/libsquid-http.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	parser/libsquid-parser.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
+	parser/libsquid-parser.la \
 	base/libbase.la \
 	mgr/libmgr.la \
 	anyp/libanyp.la \
 	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	format/libformat.la \
-	http/libsquid-http.la \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(DISK_OS_LIBS) \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
 	$(KRB5LIBS) \
 	$(COMPAT_LIB) \
 	$(XTRA_LIBS)
 tests_testHttpRequest_LDFLAGS = $(LIBADD_DL)
 tests_testHttpRequest_DEPENDENCIES = \
 	$(REPL_OBJS) \
 	$(SQUID_CPPUNIT_LA)
 
@@ -2868,41 +2854,40 @@
 	event.cc \
 	EventLoop.cc \
 	fatal.h \
 	tests/stub_fatal.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpMsg.cc \
-	HttpRequestMethod.cc \
 	RequestFlags.cc \
 	RequestFlags.h \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	RemovalPolicy.cc \
 	refresh.h \
 	refresh.cc \
@@ -2981,40 +2966,41 @@
 	tests/testStoreHashIndex.cc \
 	tests/testStoreHashIndex.h \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	tests/TestSwapDir.cc \
 	tests/TestSwapDir.h \
 	tests/stub_time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc
 
 nodist_tests_testStore_SOURCES= \
 	$(TESTSOURCES) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 
 tests_testStore_LDADD= \
 	libsquid.la \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	mgr/libmgr.la \
 	ipc/libipc.la \
 	anyp/libanyp.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SSLLIB) \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	$(COMPAT_LIB) \
@@ -3136,41 +3122,40 @@
 	StoreIOState.cc \
 	StoreMetaUnpacker.cc \
 	$(STOREMETA_SOURCE) \
 	StoreFileSystem.cc \
 	store_io.cc \
 	store_swapout.cc \
 	store_swapmeta.cc \
 	$(UNLINKDSOURCE) \
 	$(WIN32_SOURCE) \
 	event.cc \
 	$(DELAY_POOL_SOURCE) \
 	CacheDigest.h \
 	tests/stub_CacheDigest.cc \
 	ConfigParser.cc \
 	EventLoop.cc \
 	HttpMsg.cc \
 	RemovalPolicy.cc \
 	store_dir.cc \
 	repl_modules.h \
 	store.cc \
-	HttpRequestMethod.cc \
 	store_key_md5.h \
 	store_key_md5.cc \
 	Parsing.cc \
 	ConfigOption.cc \
 	SwapDir.cc \
 	tests/stub_acl.cc \
 	cache_cf.h \
 	YesNoNone.h \
 	tests/stub_cache_cf.cc \
 	tests/stub_helper.cc \
 	cbdata.cc \
 	$(SBUF_SOURCE) \
 	SBufDetailedStats.h \
 	tests/stub_SBufDetailedStats.cc \
 	String.cc \
 	tests/stub_debug.cc \
 	tests/stub_client_side_request.cc \
 	tests/stub_http.cc \
 	tests/stub_libauth.cc \
 	mem_node.cc \
@@ -3210,40 +3195,41 @@
 	refresh.h \
 	refresh.cc \
 	tests/stub_store_client.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	tests/testStoreSupport.cc \
 	tests/testStoreSupport.h \
 	time.cc \
 	wordlist.h \
 	wordlist.cc \
 	$(DISKIO_SOURCE)
 
 nodist_tests_testUfs_SOURCES = \
 	$(TESTSOURCES) \
 	$(DISKIO_GEN_SOURCE) \
 	SquidMath.cc \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testUfs_LDADD = \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	ident/libident.la \
 	acl/libacls.la \
 	acl/libstate.la \
 	acl/libapi.la \
 	libsquid.la \
 	ip/libip.la \
 	fs/libfs.la \
 	mgr/libmgr.la \
 	$(REPL_OBJS) \
 	acl/libacls.la \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	comm/libcomm.la \
 	anyp/libanyp.la \
 	base/libbase.la \
@@ -3294,41 +3280,40 @@
 	fd.cc \
 	fde.h \
 	fde.cc \
 	FileMap.h \
 	filemap.cc \
 	HttpHeaderFieldStat.h \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHdrCc.cc \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
 	HttpReply.cc \
-	HttpRequestMethod.cc \
 	int.h \
 	int.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	Mem.h \
 	mem.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mem_node.cc \
 	Notes.h \
 	Notes.cc \
 	Packer.cc \
 	Parsing.cc \
 	RemovalPolicy.cc \
 	RequestFlags.cc \
 	RequestFlags.h \
 	StatCounters.h \
 	StatCounters.cc \
@@ -3395,40 +3380,41 @@
 	store_rebuild.h \
 	tests/stub_store_rebuild.cc \
 	tests/stub_store_stats.cc \
 	tools.h \
 	tests/stub_tools.cc \
 	time.cc \
 	url.cc \
 	wordlist.h \
 	wordlist.cc \
 	$(DELAY_POOL_SOURCE) \
 	$(DISKIO_SOURCE) \
 	$(UNLINKDSOURCE)
 nodist_tests_testRock_SOURCES = \
 	$(DISKIO_GEN_SOURCE) \
 	swap_log_op.cc \
 	SquidMath.cc \
 	SquidMath.h \
 	$(TESTSOURCES)
 tests_testRock_LDADD = \
 	http/libsquid-http.la \
+	parser/libsquid-parser.la \
 	libsquid.la \
 	comm/libcomm.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(COMMON_LIBS) \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libacls.la \
 	acl/libapi.la \
 	acl/libstate.la \
 	anyp/libanyp.la \
 	eui/libeui.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \
@@ -3503,49 +3489,46 @@
 	helper.cc \
 	hier_code.h \
 	$(HTCPSOURCE) \
 	http.cc \
 	HttpBody.h \
 	HttpBody.cc \
 	HttpHeaderFieldStat.h \
 	HttpHdrCc.h \
 	HttpHdrCc.cc \
 	HttpHdrCc.cci \
 	HttpHdrContRange.cc \
 	HttpHdrRange.cc \
 	HttpHdrSc.cc \
 	HttpHdrScTarget.cc \
 	HttpHeader.h \
 	HttpHeader.cc \
 	HttpHeaderFieldInfo.h \
 	HttpHeaderTools.h \
 	HttpHeaderTools.cc \
 	HttpMsg.cc \
-	HttpParser.cc \
-	HttpParser.h \
 	HttpReply.cc \
 	PeerPoolMgr.h \
 	PeerPoolMgr.cc \
 	RequestFlags.h \
 	RequestFlags.cc \
 	HttpRequest.cc \
-	HttpRequestMethod.cc \
 	icp_v2.cc \
 	icp_v3.cc \
 	$(IPC_SOURCE) \
 	ipcache.cc \
 	int.h \
 	int.cc \
 	internal.h \
 	internal.cc \
 	SquidList.h \
 	SquidList.cc \
 	MasterXaction.cc \
 	MasterXaction.h \
 	multicast.h \
 	multicast.cc \
 	Mem.h \
 	tests/stub_mem.cc \
 	mem_node.cc \
 	MemBuf.cc \
 	MemObject.cc \
 	mime.h \
@@ -3634,47 +3617,47 @@
 	url.cc \
 	urn.h \
 	urn.cc \
 	wccp2.h \
 	tests/stub_wccp2.cc \
 	whois.h \
 	tests/stub_whois.cc \
 	FadingCounter.cc \
 	$(WIN32_SOURCE) \
 	wordlist.h \
 	wordlist.cc
 nodist_tests_testURL_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testURL_LDADD = \
 	libsquid.la \
 	clients/libclients.la \
 	servers/libservers.la \
 	helper/libhelper.la \
 	http/libsquid-http.la \
 	ftp/libftp.la \
+	parser/libsquid-parser.la \
 	anyp/libanyp.la \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
 	acl/libapi.la \
-	parser/libsquid-parser.la \
 	base/libbase.la \
 	ip/libip.la \
 	fs/libfs.la \
 	$(SSL_LIBS) \
 	ipc/libipc.la \
 	mgr/libmgr.la \
 	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(DISK_OS_LIBS) \
 	format/libformat.la \
 	$(REGEXLIB) \
 	$(REPL_OBJS) \
 	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(NETTLELIB) \

=== modified file 'src/MemObject.h'
--- src/MemObject.h	2014-09-13 13:59:43 +0000
+++ src/MemObject.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_MEMOBJECT_H
 #define SQUID_MEMOBJECT_H
 
 #include "CommRead.h"
 #include "dlink.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "RemovalPolicy.h"
 #include "stmem.h"
 #include "StoreIOBuffer.h"
 #include "StoreIOState.h"
 
 #if USE_DELAY_POOLS
 #include "DelayId.h"
 #endif
 
 typedef void STMCB (void *data, StoreIOBuffer wroteBuffer);
 
 class store_client;
 class HttpRequest;
 class HttpReply;
 
 class MemObject
 {
 
 public:
     static size_t inUseCount();

=== modified file 'src/Store.h'
--- src/Store.h	2014-09-13 13:59:43 +0000
+++ src/Store.h	2014-09-14 12:23:03 +0000
@@ -1,42 +1,43 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_STORE_H
 #define SQUID_STORE_H
 
 /**
  \defgroup StoreAPI  Store API
  \ingroup FileSystems
  */
 
 #include "base/RefCount.h"
 #include "comm/forward.h"
 #include "CommRead.h"
 #include "hash.h"
+#include "http/forward.h"
+#include "http/RequestMethod.h"
 #include "HttpReply.h"
-#include "HttpRequestMethod.h"
 #include "MemObject.h"
 #include "Range.h"
 #include "RemovalPolicy.h"
 #include "StoreIOBuffer.h"
 #include "StoreStats.h"
 
 #if USE_SQUID_ESI
 #include "esi/Element.h"
 #endif
 
 #include <ostream>
 
 class AsyncCall;
 class HttpRequest;
 class Packer;
 class RequestFlags;
 class StoreClient;
 class StoreSearch;
 class SwapDir;
 

=== modified file 'src/acl/Method.h'
--- src/acl/Method.h	2014-09-13 13:59:43 +0000
+++ src/acl/Method.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_ACLMETHOD_H
 #define SQUID_ACLMETHOD_H
 
 #include "acl/Strategised.h"
 #include "acl/Strategy.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 /// \ingroup ACLAPI
 class ACLMethodStrategy : public ACLStrategy<HttpRequestMethod>
 {
 
 public:
     virtual int match (ACLData<MatchType> * &, ACLFilledChecklist *, ACLFlags &);
     virtual bool requiresRequest() const {return true;}
 
     static ACLMethodStrategy *Instance();
 
     /**
      * Not implemented to prevent copies of the instance.
      \par
      * Not private to prevent brain dead g+++ warnings about
      * private constructors with no friends
      */
     ACLMethodStrategy(ACLMethodStrategy const &);
 
 private:

=== modified file 'src/acl/MethodData.cc'
--- src/acl/MethodData.cc	2014-09-13 13:59:43 +0000
+++ src/acl/MethodData.cc	2014-10-15 06:21:21 +0000
@@ -1,35 +1,35 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 28    Access Control */
 
 #include "squid.h"
 #include "acl/Checklist.h"
 #include "acl/MethodData.h"
 #include "cache_cf.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 int ACLMethodData::ThePurgeCount = 0;
 
 ACLMethodData::ACLMethodData() : values (NULL)
 {}
 
 ACLMethodData::ACLMethodData(ACLMethodData const &old) : values (NULL)
 {
     assert (!old.values);
 }
 
 ACLMethodData::~ACLMethodData()
 {
     if (values)
         delete values;
 }
 
 /// todo make this a pass-by-reference now that HTTPRequestMethods a full class?
 bool
 ACLMethodData::match(HttpRequestMethod toFind)
@@ -48,40 +48,42 @@
 {
     SBufList sl;
     CbDataList<HttpRequestMethod> *data = values;
 
     while (data != NULL) {
         sl.push_back(data->element.image());
         data = data->next;
     }
 
     return sl;
 }
 
 void
 ACLMethodData::parse()
 {
     CbDataList<HttpRequestMethod> **Tail;
     char *t = NULL;
 
     for (Tail = &values; *Tail; Tail = &((*Tail)->next));
     while ((t = strtokFile())) {
-        CbDataList<HttpRequestMethod> *q = new CbDataList<HttpRequestMethod> (HttpRequestMethod(t, NULL));
+        HttpRequestMethod m;
+        m.HttpRequestMethodXXX(t);
+        CbDataList<HttpRequestMethod> *q = new CbDataList<HttpRequestMethod>(m);
         if (q->element == Http::METHOD_PURGE)
             ++ThePurgeCount; // configuration code wants to know
         *(Tail) = q;
         Tail = &q->next;
     }
 }
 
 bool
 ACLMethodData::empty() const
 {
     return values == NULL;
 }
 
 ACLData<HttpRequestMethod> *
 ACLMethodData::clone() const
 {
     assert (!values);
     return new ACLMethodData(*this);
 }

=== modified file 'src/acl/MethodData.h'
--- src/acl/MethodData.h	2014-09-13 13:59:43 +0000
+++ src/acl/MethodData.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,35 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_ACLMETHODDATA_H
 #define SQUID_ACLMETHODDATA_H
 
 #include "acl/Acl.h"
 #include "acl/Data.h"
 #include "CbDataList.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 
 /// \ingroup ACLAPI
 class ACLMethodData : public ACLData<HttpRequestMethod>
 {
 
 public:
     MEMPROXY_CLASS(ACLMethodData);
 
     ACLMethodData();
     ACLMethodData(ACLMethodData const &);
     ACLMethodData &operator= (ACLMethodData const &);
     virtual ~ACLMethodData();
     bool match(HttpRequestMethod);
     virtual SBufList dump() const;
     void parse();
     bool empty() const;
     virtual ACLData<HttpRequestMethod> *clone() const;
 
     CbDataList<HttpRequestMethod> *values;
 

=== modified file 'src/cache_cf.cc'
--- src/cache_cf.cc	2014-09-13 13:59:43 +0000
+++ src/cache_cf.cc	2014-09-14 12:23:03 +0000
@@ -16,41 +16,40 @@
 #include "acl/AclSizeLimit.h"
 #include "acl/Gadgets.h"
 #include "acl/MethodData.h"
 #include "acl/Tree.h"
 #include "anyp/PortCfg.h"
 #include "anyp/UriScheme.h"
 #include "AuthReg.h"
 #include "base/RunnersRegistry.h"
 #include "cache_cf.h"
 #include "CachePeer.h"
 #include "CachePeerDomainList.h"
 #include "ConfigParser.h"
 #include "CpuAffinityMap.h"
 #include "DiskIO/DiskIOModule.h"
 #include "eui/Config.h"
 #include "ExternalACL.h"
 #include "format/Format.h"
 #include "ftp/Elements.h"
 #include "globals.h"
 #include "HttpHeaderTools.h"
-#include "HttpRequestMethod.h"
 #include "ident/Config.h"
 #include "ip/Intercept.h"
 #include "ip/QosConfig.h"
 #include "ip/tools.h"
 #include "ipc/Kids.h"
 #include "log/Config.h"
 #include "log/CustomLog.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "mgr/ActionPasswordList.h"
 #include "mgr/Registration.h"
 #include "neighbors.h"
 #include "NeighborTypeDomainList.h"
 #include "Parsing.h"
 #include "pconn.h"
 #include "PeerDigest.h"
 #include "PeerPoolMgr.h"
 #include "RefreshPattern.h"
 #include "rfc1738.h"
 #include "SBufList.h"

=== modified file 'src/client_side.cc'
--- src/client_side.cc	2014-10-07 14:11:12 +0000
+++ src/client_side.cc	2014-10-15 14:07:41 +0000
@@ -69,40 +69,41 @@
 #include "client_side_reply.h"
 #include "client_side_request.h"
 #include "ClientRequestContext.h"
 #include "clientStream.h"
 #include "comm.h"
 #include "comm/Connection.h"
 #include "comm/Loops.h"
 #include "comm/Read.h"
 #include "comm/TcpAcceptor.h"
 #include "comm/Write.h"
 #include "CommCalls.h"
 #include "errorpage.h"
 #include "fd.h"
 #include "fde.h"
 #include "fqdncache.h"
 #include "FwdState.h"
 #include "globals.h"
 #include "helper.h"
 #include "helper/Reply.h"
 #include "http.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrContRange.h"
 #include "HttpHeaderTools.h"
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "ident/Config.h"
 #include "ident/Ident.h"
 #include "internal.h"
 #include "ipc/FdNotes.h"
 #include "ipc/StartListening.h"
 #include "log/access_log.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "MemObject.h"
 #include "mime_header.h"
 #include "parser/Tokenizer.h"
 #include "profiler/Profiler.h"
 #include "rfc1738.h"
 #include "servers/forward.h"
 #include "SquidConfig.h"
 #include "SquidTime.h"
@@ -181,41 +182,40 @@
 #endif
 static CTCB clientLifetimeTimeout;
 #if USE_IDENT
 static IDCB clientIdentDone;
 #endif
 static int clientIsContentLengthValid(HttpRequest * r);
 static int clientIsRequestBodyTooLargeForPolicy(int64_t bodyLength);
 
 static void clientUpdateStatHistCounters(LogTags logType, int svc_time);
 static void clientUpdateStatCounters(LogTags logType);
 static void clientUpdateHierCounters(HierarchyLogEntry *);
 static bool clientPingHasFinished(ping_data const *aPing);
 void prepareLogWithRequestDetails(HttpRequest *, AccessLogEntry::Pointer &);
 #ifndef PURIFY
 static bool connIsUsable(ConnStateData * conn);
 #endif
 static void ClientSocketContextPushDeferredIfNeeded(ClientSocketContext::Pointer deferredRequest, ConnStateData * conn);
 static void clientUpdateSocketStats(LogTags logType, size_t size);
 
 char *skipLeadingSpace(char *aString);
-static void connNoteUseOfBuffer(ConnStateData* conn, size_t byteCount);
 
 clientStreamNode *
 ClientSocketContext::getTail() const
 {
     if (http->client_stream.tail)
         return (clientStreamNode *)http->client_stream.tail->data;
 
     return NULL;
 }
 
 clientStreamNode *
 ClientSocketContext::getClientReplyContext() const
 {
     return (clientStreamNode *)http->client_stream.tail->prev->data;
 }
 
 ConnStateData *
 ClientSocketContext::getConn() const
 {
     return http->getConn();
@@ -1979,359 +1979,307 @@
             char *tmp_uri = static_cast<char*>(xmalloc(strlen(uri) + 1));
             char *q = tmp_uri;
             t = uri;
             while (*t) {
                 if (!xisspace(*t)) {
                     *q = *t;
                     ++q;
                 }
                 ++t;
             }
             *q = '\0';
             http->log_uri = xstrndup(rfc1738_escape_unescaped(tmp_uri), MAX_URL);
             xfree(tmp_uri);
         }
         break;
         }
     }
 }
 
 static void
-prepareAcceleratedURL(ConnStateData * conn, ClientHttpRequest *http, char *url, const char *req_hdr)
+prepareAcceleratedURL(ConnStateData * conn, ClientHttpRequest *http, const Http1::RequestParserPointer &hp)
 {
     int vhost = conn->port->vhost;
     int vport = conn->port->vport;
-    char *host;
-    char ipbuf[MAX_IPSTRLEN];
+    static char ipbuf[MAX_IPSTRLEN];
 
     http->flags.accel = true;
 
     /* BUG: Squid cannot deal with '*' URLs (RFC2616 5.1.2) */
 
-    if (strncasecmp(url, "cache_object://", 15) == 0)
+    static const SBuf cache_object("cache_object://");
+    if (hp->requestUri().startsWith(cache_object))
         return; /* already in good shape */
 
-    if (*url != '/') {
+    // XXX: re-use proper URL parser for this
+    SBuf url = hp->requestUri(); // use full provided URI if we abort
+    do { // use a loop so we can break out of it
+        ::Parser::Tokenizer tok(url);
+        if (tok.skip('/')) // origin-form URL already.
+            break;
+
         if (conn->port->vhost)
             return; /* already in good shape */
 
-        /* else we need to ignore the host name */
-        url = strstr(url, "//");
+        // skip the URI scheme
+        static const CharacterSet uriScheme = CharacterSet("URI-scheme","+-.") + CharacterSet::ALPHA + CharacterSet::DIGIT;
+        static const SBuf uriSchemeEnd("://");
+        if (!tok.skipAll(uriScheme) || !tok.skip(uriSchemeEnd))
+            break;
 
-#if SHOULD_REJECT_UNKNOWN_URLS
+        // skip the authority segment
+        // RFC 3986 complex nested ABNF for "authority" boils down to this:
+        static const CharacterSet authority = CharacterSet("authority","-._~%:@[]!$&'()*+,;=") +
+             CharacterSet::HEXDIG + CharacterSet::ALPHA + CharacterSet::DIGIT;
+        if (!tok.skipAll(authority))
+            break;
 
-        if (!url) {
-            hp->request_parse_status = Http::scBadRequest;
-            return conn->abortRequestParsing("error:invalid-request");
-        }
-#endif
+        static const SBuf slashUri("/");
+        const SBuf t = tok.remaining();
+        if (t.isEmpty())
+            url = slashUri;
+        else if (t[0]=='/') // looks like path
+            url = t;
+        else if (t[0]=='?' || t[0]=='#') { // looks like query or fragment. fix '/'
+            url = slashUri;
+            url.append(t);
+        } // else do nothing. invalid path
 
-        if (url)
-            url = strchr(url + 2, '/');
+    } while(false);
 
-        if (!url)
-            url = (char *) "/";
+#if SHOULD_REJECT_UNKNOWN_URLS
+    // reject URI which are not well-formed even after the processing above
+    if (url.isEmpty() || url[0] != '/') {
+        hp->request_parse_status = Http::scBadRequest;
+        return conn->abortRequestParsing("error:invalid-request");
     }
+#endif
 
     if (vport < 0)
         vport = http->getConn()->clientConnection->local.port();
 
     const bool switchedToHttps = conn->switchedToHttps();
     const bool tryHostHeader = vhost || switchedToHttps;
-    if (tryHostHeader && (host = mime_get_header(req_hdr, "Host")) != NULL) {
+    char *host = NULL;
+    if (tryHostHeader && (host = hp->getHeaderField("Host"))) {
         debugs(33, 5, "ACCEL VHOST REWRITE: vhost=" << host << " + vport=" << vport);
         char thost[256];
         if (vport > 0) {
             thost[0] = '\0';
             char *t = NULL;
             if (host[strlen(host)] != ']' && (t = strrchr(host,':')) != NULL) {
                 strncpy(thost, host, (t-host));
                 snprintf(thost+(t-host), sizeof(thost)-(t-host), ":%d", vport);
                 host = thost;
             } else if (!t) {
                 snprintf(thost, sizeof(thost), "%s:%d",host, vport);
                 host = thost;
             }
         } // else nothing to alter port-wise.
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
-                     strlen(host);
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen + strlen(host);
         http->uri = (char *)xcalloc(url_sz, 1);
         const char *protocol = switchedToHttps ?
                                "https" : AnyP::UriScheme(conn->port->transport.protocol).c_str();
-        snprintf(http->uri, url_sz, "%s://%s%s", protocol, host, url);
-        debugs(33, 5, "ACCEL VHOST REWRITE: '" << http->uri << "'");
+        snprintf(http->uri, url_sz, "%s://%s" SQUIDSBUFPH, protocol, host, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL VHOST REWRITE: " << http->uri);
     } else if (conn->port->defaultsite /* && !vhost */) {
         debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: defaultsite=" << conn->port->defaultsite << " + vport=" << vport);
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen +
                      strlen(conn->port->defaultsite);
         http->uri = (char *)xcalloc(url_sz, 1);
         char vportStr[32];
         vportStr[0] = '\0';
         if (vport > 0) {
             snprintf(vportStr, sizeof(vportStr),":%d",vport);
         }
-        snprintf(http->uri, url_sz, "%s://%s%s%s",
-                 AnyP::UriScheme(conn->port->transport.protocol).c_str(), conn->port->defaultsite, vportStr, url);
-        debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: '" << http->uri <<"'");
+        snprintf(http->uri, url_sz, "%s://%s%s" SQUIDSBUFPH,
+                 AnyP::UriScheme(conn->port->transport.protocol).c_str(), conn->port->defaultsite, vportStr, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL DEFAULTSITE REWRITE: " << http->uri);
     } else if (vport > 0 /* && (!vhost || no Host:) */) {
         debugs(33, 5, "ACCEL VPORT REWRITE: *_port IP + vport=" << vport);
         /* Put the local socket IP address as the hostname, with whatever vport we found  */
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen;
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen;
         http->uri = (char *)xcalloc(url_sz, 1);
         http->getConn()->clientConnection->local.toHostStr(ipbuf,MAX_IPSTRLEN);
-        snprintf(http->uri, url_sz, "%s://%s:%d%s",
+        snprintf(http->uri, url_sz, "%s://%s:%d" SQUIDSBUFPH,
                  AnyP::UriScheme(conn->port->transport.protocol).c_str(),
-                 ipbuf, vport, url);
-        debugs(33, 5, "ACCEL VPORT REWRITE: '" << http->uri << "'");
+                 ipbuf, vport, SQUIDSBUFPRINT(url));
+        debugs(33, 5, "ACCEL VPORT REWRITE: " << http->uri);
     }
 }
 
 static void
-prepareTransparentURL(ConnStateData * conn, ClientHttpRequest *http, char *url, const char *req_hdr)
+prepareTransparentURL(ConnStateData * conn, ClientHttpRequest *http, const Http1::RequestParserPointer &hp)
 {
-    char *host;
-    char ipbuf[MAX_IPSTRLEN];
-
-    if (*url != '/')
+    // TODO Must() on URI !empty when the parser supports throw. For now avoid assert().
+    if (!hp->requestUri().isEmpty() && hp->requestUri()[0] != '/')
         return; /* already in good shape */
 
     /* BUG: Squid cannot deal with '*' URLs (RFC2616 5.1.2) */
 
-    if ((host = mime_get_header(req_hdr, "Host")) != NULL) {
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen +
+    if (const char *host = hp->getHeaderField("Host")) {
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen +
                      strlen(host);
         http->uri = (char *)xcalloc(url_sz, 1);
-        snprintf(http->uri, url_sz, "%s://%s%s", AnyP::UriScheme(conn->port->transport.protocol).c_str(), host, url);
-        debugs(33, 5, "TRANSPARENT HOST REWRITE: '" << http->uri <<"'");
+        snprintf(http->uri, url_sz, "%s://%s" SQUIDSBUFPH,
+             AnyP::UriScheme(conn->port->transport.protocol).c_str(), host, SQUIDSBUFPRINT(hp->requestUri()));
+        debugs(33, 5, "TRANSPARENT HOST REWRITE: " << http->uri);
     } else {
         /* Put the local socket IP address as the hostname.  */
-        int url_sz = strlen(url) + 32 + Config.appendDomainLen;
+        const int url_sz = hp->requestUri().length() + 32 + Config.appendDomainLen;
         http->uri = (char *)xcalloc(url_sz, 1);
+        static char ipbuf[MAX_IPSTRLEN];
         http->getConn()->clientConnection->local.toHostStr(ipbuf,MAX_IPSTRLEN);
-        snprintf(http->uri, url_sz, "%s://%s:%d%s",
+        snprintf(http->uri, url_sz, "%s://%s:%d" SQUIDSBUFPH,
                  AnyP::UriScheme(http->getConn()->port->transport.protocol).c_str(),
-                 ipbuf, http->getConn()->clientConnection->local.port(), url);
-        debugs(33, 5, "TRANSPARENT REWRITE: '" << http->uri << "'");
+                 ipbuf, http->getConn()->clientConnection->local.port(), SQUIDSBUFPRINT(hp->requestUri()));
+        debugs(33, 5, "TRANSPARENT REWRITE: " << http->uri);
     }
 }
 
 /** Parse an HTTP request
  *
  *  \note Sets result->flags.parsed_ok to 0 if failed to parse the request,
  *          to 1 if the request was correctly parsed.
  *  \param[in] csd a ConnStateData. The caller must make sure it is not null
- *  \param[in] hp an HttpParser
+ *  \param[in] hp an Http1::RequestParser
  *  \param[out] mehtod_p will be set as a side-effect of the parsing.
  *          Pointed-to value will be set to Http::METHOD_NONE in case of
  *          parsing failure
  *  \param[out] http_ver will be set as a side-effect of the parsing
  *  \return NULL on incomplete requests,
  *          a ClientSocketContext structure on success or failure.
  */
 ClientSocketContext *
-parseHttpRequest(ConnStateData *csd, HttpParser *hp, HttpRequestMethod * method_p, Http::ProtocolVersion *http_ver)
+parseHttpRequest(ConnStateData *csd, const Http1::RequestParserPointer &hp)
 {
-    char *req_hdr = NULL;
-    char *end;
-    size_t req_sz;
-    ClientHttpRequest *http;
-    ClientSocketContext *result;
-    StoreIOBuffer tempBuffer;
-    int r;
-
-    /* pre-set these values to make aborting simpler */
-    *method_p = Http::METHOD_NONE;
-
-    /* NP: don't be tempted to move this down or remove again.
-     * It's the only DDoS protection old-String has against long URL */
-    if ( hp->bufsiz <= 0) {
-        debugs(33, 5, "Incomplete request, waiting for end of request line");
-        return NULL;
-    } else if ( (size_t)hp->bufsiz >= Config.maxRequestHeaderSize && headersEnd(hp->buf, Config.maxRequestHeaderSize) == 0) {
-        debugs(33, 5, "parseHttpRequest: Too large request");
-        hp->request_parse_status = Http::scHeaderTooLarge;
-        return csd->abortRequestParsing("error:request-too-large");
-    }
-
-    /* Attempt to parse the first line; this'll define the method, url, version and header begin */
-    r = HttpParserParseReqLine(hp);
-
-    if (r == 0) {
-        debugs(33, 5, "Incomplete request, waiting for end of request line");
-        return NULL;
-    }
-
-    if (r == -1) {
-        return csd->abortRequestParsing("error:invalid-request");
-    }
+    /* Attempt to parse the first line; this will define where the method, url, version and header begin */
+    {
+        const bool parsedOk = hp->parse(csd->in.buf);
 
-    /* Request line is valid here .. */
-    *http_ver = Http::ProtocolVersion(hp->req.v_maj, hp->req.v_min);
+        // sync the buffers after parsing.
+        csd->in.buf = hp->remaining();
 
-    /* This call scans the entire request, not just the headers */
-    if (hp->req.v_maj > 0) {
-        if ((req_sz = headersEnd(hp->buf, hp->bufsiz)) == 0) {
-            debugs(33, 5, "Incomplete request, waiting for end of headers");
+        if (hp->needsMoreData()) {
+            debugs(33, 5, "Incomplete request, waiting for end of request line");
             return NULL;
         }
-    } else {
-        debugs(33, 3, "parseHttpRequest: Missing HTTP identifier");
-        req_sz = HttpParserReqSz(hp);
-    }
-
-    /* We know the whole request is in hp->buf now */
-
-    assert(req_sz <= (size_t) hp->bufsiz);
 
-    /* Will the following be true with HTTP/0.9 requests? probably not .. */
-    /* So the rest of the code will need to deal with '0'-byte headers (ie, none, so don't try parsing em) */
-    assert(req_sz > 0);
+        if (!parsedOk) {
+            if (hp->request_parse_status == Http::scRequestHeaderFieldsTooLarge || hp->request_parse_status == Http::scUriTooLong)
+                return csd->abortRequestParsing("error:request-too-large");
 
-    hp->hdr_end = req_sz - 1;
-
-    hp->hdr_start = hp->req.end + 1;
-
-    /* Enforce max_request_size */
-    if (req_sz >= Config.maxRequestHeaderSize) {
-        debugs(33, 5, "parseHttpRequest: Too large request");
-        hp->request_parse_status = Http::scHeaderTooLarge;
-        return csd->abortRequestParsing("error:request-too-large");
+            return csd->abortRequestParsing("error:invalid-request");
+        }
     }
 
-    /* Set method_p */
-    *method_p = HttpRequestMethod(&hp->buf[hp->req.m_start], &hp->buf[hp->req.m_end]+1);
+    /* We know the whole request is in parser now */
+    debugs(11, 2, "HTTP Client " << csd->clientConnection);
+    debugs(11, 2, "HTTP Client REQUEST:\n---------\n" <<
+           hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol() << "\n" <<
+           hp->mimeHeader() <<
+           "\n----------");
 
     /* deny CONNECT via accelerated ports */
-    if (*method_p == Http::METHOD_CONNECT && csd->port != NULL && csd->port->flags.accelSurrogate) {
+    if (hp->method() == Http::METHOD_CONNECT && csd->port != NULL && csd->port->flags.accelSurrogate) {
         debugs(33, DBG_IMPORTANT, "WARNING: CONNECT method received on " << csd->port->transport.protocol << " Accelerator port " << csd->port->s.port());
-        /* XXX need a way to say "this many character length string" */
-        debugs(33, DBG_IMPORTANT, "WARNING: for request: " << hp->buf);
+        debugs(33, DBG_IMPORTANT, "WARNING: for request: " << hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol());
         hp->request_parse_status = Http::scMethodNotAllowed;
         return csd->abortRequestParsing("error:method-not-allowed");
     }
 
-    if (*method_p == Http::METHOD_NONE) {
-        /* XXX need a way to say "this many character length string" */
-        debugs(33, DBG_IMPORTANT, "clientParseRequestMethod: Unsupported method in request '" << hp->buf << "'");
+    if (hp->method() == Http::METHOD_NONE) {
+        debugs(33, DBG_IMPORTANT, "WARNING: Unsupported method: " << hp->method() << " " << hp->requestUri() << " " << hp->messageProtocol());
         hp->request_parse_status = Http::scMethodNotAllowed;
         return csd->abortRequestParsing("error:unsupported-request-method");
     }
 
-    /*
-     * Process headers after request line
-     * TODO: Use httpRequestParse here.
-     */
-    /* XXX this code should be modified to take a const char * later! */
-    req_hdr = (char *) hp->buf + hp->req.end + 1;
-
-    debugs(33, 3, "parseHttpRequest: req_hdr = {" << req_hdr << "}");
-
-    end = (char *) hp->buf + hp->hdr_end;
-
-    debugs(33, 3, "parseHttpRequest: end = {" << end << "}");
-
-    debugs(33, 3, "parseHttpRequest: prefix_sz = " <<
-           (int) HttpParserRequestLen(hp) << ", req_line_sz = " <<
-           HttpParserReqSz(hp));
+    // Process headers after request line
+    debugs(33, 3, "complete request received. " <<
+           "prefix_sz = " << hp->messageHeaderSize() <<
+           ", request-line-size=" << hp->firstLineSize() <<
+           ", mime-header-size=" << hp->headerBlockSize() <<
+           ", mime header block:\n" << hp->mimeHeader() << "\n----------");
 
     /* Ok, all headers are received */
-    http = new ClientHttpRequest(csd);
+    ClientHttpRequest *http = new ClientHttpRequest(csd);
 
-    http->req_sz = HttpParserRequestLen(hp);
-    result = new ClientSocketContext(csd->clientConnection, http);
+    http->req_sz = hp->messageHeaderSize();
+    ClientSocketContext *result = new ClientSocketContext(csd->clientConnection, http);
+
+    StoreIOBuffer tempBuffer;
     tempBuffer.data = result->reqbuf;
     tempBuffer.length = HTTP_REQBUF_SZ;
 
     ClientStreamData newServer = new clientReplyContext(http);
     ClientStreamData newClient = result;
     clientStreamInit(&http->client_stream, clientGetMoreData, clientReplyDetach,
                      clientReplyStatus, newServer, clientSocketRecipient,
                      clientSocketDetach, newClient, tempBuffer);
 
-    debugs(33, 5, "parseHttpRequest: Request Header is\n" <<(hp->buf) + hp->hdr_start);
-
     /* set url */
-    /*
-     * XXX this should eventually not use a malloc'ed buffer; the transformation code
-     * below needs to be modified to not expect a mutable nul-terminated string.
-     */
-    char *url = (char *)xmalloc(hp->req.u_end - hp->req.u_start + 16);
-
-    memcpy(url, hp->buf + hp->req.u_start, hp->req.u_end - hp->req.u_start + 1);
-
-    url[hp->req.u_end - hp->req.u_start + 1] = '\0';
-
-#if THIS_VIOLATES_HTTP_SPECS_ON_URL_TRANSFORMATION
-
-    if ((t = strchr(url, '#')))	/* remove HTML anchors */
-        *t = '\0';
-
-#endif
+    // XXX: c_str() does re-allocate but here replaces explicit malloc/free.
+    // when internalCheck() accepts SBuf removing this will be a net gain for performance.
+    SBuf tmp(hp->requestUri());
+    const char *url = tmp.c_str();
 
     debugs(33,5, HERE << "repare absolute URL from " <<
            (csd->transparent()?"intercept":(csd->port->flags.accelSurrogate ? "accel":"")));
     /* Rewrite the URL in transparent or accelerator mode */
     /* NP: there are several cases to traverse here:
      *  - standard mode (forward proxy)
      *  - transparent mode (TPROXY)
      *  - transparent mode with failures
      *  - intercept mode (NAT)
      *  - intercept mode with failures
      *  - accelerator mode (reverse proxy)
      *  - internal URL
      *  - mixed combos of the above with internal URL
      *  - remote interception with PROXY protocol
      *  - remote reverse-proxy with PROXY protocol
      */
     if (csd->transparent()) {
         /* intercept or transparent mode, properly working with no failures */
-        prepareTransparentURL(csd, http, url, req_hdr);
+        prepareTransparentURL(csd, http, hp);
 
     } else if (internalCheck(url)) {
         /* internal URL mode */
         /* prepend our name & port */
         http->uri = xstrdup(internalLocalUri(NULL, url));
         // We just re-wrote the URL. Must replace the Host: header.
         //  But have not parsed there yet!! flag for local-only handling.
         http->flags.internal = true;
 
     } else if (csd->port->flags.accelSurrogate || csd->switchedToHttps()) {
         /* accelerator mode */
-        prepareAcceleratedURL(csd, http, url, req_hdr);
+        prepareAcceleratedURL(csd, http, hp);
     }
 
     if (!http->uri) {
         /* No special rewrites have been applied above, use the
          * requested url. may be rewritten later, so make extra room */
-        int url_sz = strlen(url) + Config.appendDomainLen + 5;
+        int url_sz = hp->requestUri().length() + Config.appendDomainLen + 5;
         http->uri = (char *)xcalloc(url_sz, 1);
         strcpy(http->uri, url);
     }
 
-    debugs(33, 5, "parseHttpRequest: Complete request received");
-
-    // XXX: crop this dump at the end of headers. No need for extras
-    debugs(11, 2, "HTTP Client " << csd->clientConnection);
-    debugs(11, 2, "HTTP Client REQUEST:\n---------\n" << (hp->buf) + hp->req.m_start << "\n----------");
-
     result->flags.parsed_ok = 1;
-    xfree(url);
     return result;
 }
 
 bool
 ConnStateData::In::maybeMakeSpaceAvailable()
 {
     if (buf.spaceSize() < 2) {
         const SBuf::size_type haveCapacity = buf.length() + buf.spaceSize();
         if (haveCapacity >= Config.maxRequestBufferSize) {
             debugs(33, 4, "request buffer full: client_request_buffer_max_size=" << Config.maxRequestBufferSize);
             return false;
         }
         if (haveCapacity == 0) {
             // haveCapacity is based on the SBuf visible window of the MemBlob buffer, which may fill up.
             // at which point bump the buffer back to default. This allocates a new MemBlob with any un-parsed bytes.
             buf.reserveCapacity(CLIENT_REQ_BUF_SZ);
         } else {
             const SBuf::size_type wantCapacity = min(static_cast<SBuf::size_type>(Config.maxRequestBufferSize), haveCapacity*2);
             buf.reserveCapacity(wantCapacity);
         }
@@ -2373,47 +2321,40 @@
             return 1;
         } else if (!Config.onoff.half_closed_clients) {
             /* admin doesn't want to support half-closed client sockets */
             debugs(33, 3, HERE << clientConnection << " aborted (half_closed_clients disabled)");
             notifyAllContexts(0); // no specific error implies abort
             return 1;
         }
     }
 
     return 0;
 }
 
 void
 ConnStateData::consumeInput(const size_t byteCount)
 {
     assert(byteCount > 0 && byteCount <= in.buf.length());
     in.buf.consume(byteCount);
     debugs(33, 5, "in.buf has " << in.buf.length() << " unused bytes");
 }
 
-// TODO: Remove when renaming ConnStateData
-void
-connNoteUseOfBuffer(ConnStateData* conn, size_t byteCount)
-{
-    conn->consumeInput(byteCount);
-}
-
 void
 ConnStateData::clientAfterReadingRequests()
 {
     // Were we expecting to read more request body from half-closed connection?
     if (mayNeedToReadMoreBody() && commIsHalfClosed(clientConnection->fd)) {
         debugs(33, 3, HERE << "truncated body: closing half-closed " << clientConnection);
         clientConnection->close();
         return;
     }
 
     if (flags.readMore)
         readSomeData();
 }
 
 void
 ConnStateData::quitAfterError(HttpRequest *request)
 {
     // From HTTP p.o.v., we do not have to close after every error detected
     // at the client-side, but many such errors do require closure and the
     // client-side code is bad at handling errors so we play it safe.
@@ -2499,149 +2440,149 @@
                 }
                 repContext->setReplyToError(request->method, err);
                 assert(context->http->out.offset == 0);
                 context->pullData();
                 return true;
             }
         }
     }
 
     return false;
 }
 #endif // USE_OPENSSL
 
 static void
 clientProcessRequestFinished(ConnStateData *conn, const HttpRequest::Pointer &request)
 {
     /*
      * DPW 2007-05-18
      * Moved the TCP_RESET feature from clientReplyContext::sendMoreData
      * to here because calling comm_reset_close() causes http to
-     * be freed and the above connNoteUseOfBuffer() would hit an
-     * assertion, not to mention that we were accessing freed memory.
+     * be freed before accessing.
      */
     if (request != NULL && request->flags.resetTcp && Comm::IsConnOpen(conn->clientConnection)) {
         debugs(33, 3, HERE << "Sending TCP RST on " << conn->clientConnection);
         conn->flags.readMore = false;
         comm_reset_close(conn->clientConnection);
     }
 }
 
 void
-clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *context, const HttpRequestMethod& method, Http::ProtocolVersion http_ver)
+clientProcessRequest(ConnStateData *conn, const Http1::RequestParserPointer &hp, ClientSocketContext *context)
 {
     ClientHttpRequest *http = context->http;
     HttpRequest::Pointer request;
-    bool notedUseOfBuffer = false;
     bool chunked = false;
     bool mustReplyToOptions = false;
     bool unsupportedTe = false;
     bool expectBody = false;
 
     // temporary hack to avoid splitting this huge function with sensitive code
     const bool isFtp = !hp;
     if (isFtp) {
         // In FTP, case, we already have the request parsed and checked, so we
         // only need to go through the final body/conn setup to doCallouts().
         assert(http->request);
         request = http->request;
-        notedUseOfBuffer = true;
     } else {
 
         if (context->flags.parsed_ok == 0) {
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 2, "clientProcessRequest: Invalid Request");
+            debugs(33, 2, "Invalid Request");
             conn->quitAfterError(NULL);
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
+            assert(repContext);
+
+            // determine which error page templates to use for specific parsing errors
+            err_type errPage = ERR_INVALID_REQ;
             switch (hp->request_parse_status) {
-            case Http::scHeaderTooLarge:
-                repContext->setReplyToError(ERR_TOO_BIG, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+            case Http::scRequestHeaderFieldsTooLarge:
+                // fall through to next case
+            case Http::scUriTooLong:
+                errPage = ERR_TOO_BIG;
                 break;
             case Http::scMethodNotAllowed:
-                repContext->setReplyToError(ERR_UNSUP_REQ, Http::scMethodNotAllowed, method, http->uri,
-                                            conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+                errPage = ERR_UNSUP_REQ;
+                break;
+            case Http::scHttpVersionNotSupported:
+                errPage = ERR_UNSUP_HTTPVERSION;
                 break;
             default:
-                repContext->setReplyToError(ERR_INVALID_REQ, hp->request_parse_status, method, http->uri,
-                                            conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
+                // use default ERR_INVALID_REQ set above.
+                break;
             }
+            repContext->setReplyToError(errPage, hp->request_parse_status, hp->method(), http->uri,
+                                        conn->clientConnection->remote, NULL, conn->in.buf.c_str(), NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             return;
         }
 
-        if ((request = HttpRequest::CreateFromUrlAndMethod(http->uri, method)) == NULL) {
+        if ((request = HttpRequest::CreateFromUrlAndMethod(http->uri, hp->method())) == NULL) {
             clientStreamNode *node = context->getClientReplyContext();
             debugs(33, 5, "Invalid URL: " << http->uri);
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_URL, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
+            assert(repContext);
+            repContext->setReplyToError(ERR_INVALID_URL, Http::scBadRequest, hp->method(), http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             return;
         }
 
         /* RFC 2616 section 10.5.6 : handle unsupported HTTP major versions cleanly. */
         /* We currently only support 0.9, 1.0, 1.1 properly */
         /* TODO: move HTTP-specific processing into servers/HttpServer and such */
-        if ( (http_ver.major == 0 && http_ver.minor != 9) ||
-                (http_ver.major > 1) ) {
+        if ( (hp->messageProtocol().major == 0 && hp->messageProtocol().minor != 9) ||
+                (hp->messageProtocol().major > 1) ) {
 
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 5, "Unsupported HTTP version discovered. :\n" << HttpParserHdrBuf(hp));
+            debugs(33, 5, "Unsupported HTTP version discovered. :\n" << hp->messageProtocol());
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
             setLogUri(http, http->uri,  true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
-            repContext->setReplyToError(ERR_UNSUP_HTTPVERSION, Http::scHttpVersionNotSupported, method, http->uri,
-                                        conn->clientConnection->remote, NULL, HttpParserHdrBuf(hp), NULL);
+            repContext->setReplyToError(ERR_UNSUP_HTTPVERSION, Http::scHttpVersionNotSupported, hp->method(), http->uri,
+                                        conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
 
         /* compile headers */
-        /* we should skip request line! */
-        /* XXX should actually know the damned buffer size here */
-        if (http_ver.major >= 1 && !request->parseHeader(HttpParserHdrBuf(hp), HttpParserHdrSz(hp))) {
+        if (hp->messageProtocol().major >= 1 && !request->parseHeader(*hp)) {
             clientStreamNode *node = context->getClientReplyContext();
-            debugs(33, 5, "Failed to parse request headers:\n" << HttpParserHdrBuf(hp));
+            debugs(33, 5, "Failed to parse request headers:\n" << hp->mimeHeader());
             conn->quitAfterError(request.getRaw());
             // setLogUri should called before repContext->setReplyToError
-            setLogUri(http, http->uri,  true);
+            setLogUri(http, http->uri, true);
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
-            assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_REQ, Http::scBadRequest, method, http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
+            assert(repContext);
+            repContext->setReplyToError(ERR_INVALID_REQ, Http::scBadRequest, hp->method(), http->uri, conn->clientConnection->remote, NULL, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
     }
 
     // Some blobs below are still HTTP-specific, but we would have to rewrite
     // this entire function to remove them from the FTP code path. Connection
     // setup and body_pipe preparation blobs are needed for FTP.
 
     request->clientConnectionManager = conn;
 
     request->flags.accelerated = http->flags.accel;
     request->flags.sslBumped=conn->switchedToHttps();
     request->flags.ignoreCc = conn->port->ignore_cc;
     // TODO: decouple http->flags.accel from request->flags.sslBumped
     request->flags.noDirect = (request->flags.accelerated && !request->flags.sslBumped) ?
                               !conn->port->allow_direct : 0;
 #if USE_AUTH
     if (request->flags.sslBumped) {
         if (conn->getAuth() != NULL)
@@ -2680,191 +2621,172 @@
             request->port = getMyPort();
             http->flags.internal = true;
         } else
             debugs(33, 2, "internal URL found: " << request->url.getScheme() << "://" << request->GetHost() <<
                    ':' << request->port << " (not this proxy)");
     }
 
     if (http->flags.internal)
         request->login[0] = '\0';
 
     request->flags.internal = http->flags.internal;
     setLogUri (http, urlCanonicalClean(request.getRaw()));
     request->client_addr = conn->clientConnection->remote; // XXX: remove reuest->client_addr member.
 #if FOLLOW_X_FORWARDED_FOR
     // indirect client gets stored here because it is an HTTP header result (from X-Forwarded-For:)
     // not a details about teh TCP connection itself
     request->indirect_client_addr = conn->clientConnection->remote;
 #endif /* FOLLOW_X_FORWARDED_FOR */
     request->my_addr = conn->clientConnection->local;
     request->myportname = conn->port->name;
-    request->http_ver = http_ver;
+
+    if (!isFtp) {
+        // XXX: for non-HTTP messages instantiate a different HttpMsg child type
+        // for now Squid only supports HTTP requests
+        const AnyP::ProtocolVersion &http_ver = hp->messageProtocol();
+        assert(request->http_ver.protocol == http_ver.protocol);
+        request->http_ver.major = http_ver.major;
+        request->http_ver.minor = http_ver.minor;
+    }
 
     // Link this HttpRequest to ConnStateData relatively early so the following complex handling can use it
     // TODO: this effectively obsoletes a lot of conn->FOO copying. That needs cleaning up later.
     request->clientConnectionManager = conn;
 
     if (request->header.chunked()) {
         chunked = true;
     } else if (request->header.has(HDR_TRANSFER_ENCODING)) {
         const String te = request->header.getList(HDR_TRANSFER_ENCODING);
         // HTTP/1.1 requires chunking to be the last encoding if there is one
         unsupportedTe = te.size() && te != "identity";
     } // else implied identity coding
 
-    mustReplyToOptions = (method == Http::METHOD_OPTIONS) &&
+    mustReplyToOptions = (request->method == Http::METHOD_OPTIONS) &&
                          (request->header.getInt64(HDR_MAX_FORWARDS) == 0);
     if (!urlCheckRequest(request.getRaw()) || mustReplyToOptions || unsupportedTe) {
         clientStreamNode *node = context->getClientReplyContext();
         conn->quitAfterError(request.getRaw());
         clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
         assert (repContext);
         repContext->setReplyToError(ERR_UNSUP_REQ, Http::scNotImplemented, request->method, NULL,
                                     conn->clientConnection->remote, request.getRaw(), NULL, NULL);
         assert(context->http->out.offset == 0);
         context->pullData();
-        connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 
     if (!chunked && !clientIsContentLengthValid(request.getRaw())) {
         clientStreamNode *node = context->getClientReplyContext();
         clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
         assert (repContext);
         conn->quitAfterError(request.getRaw());
         repContext->setReplyToError(ERR_INVALID_REQ,
                                     Http::scLengthRequired, request->method, NULL,
                                     conn->clientConnection->remote, request.getRaw(), NULL, NULL);
         assert(context->http->out.offset == 0);
         context->pullData();
-        connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 
     if (request->header.has(HDR_EXPECT)) {
         const String expect = request->header.getList(HDR_EXPECT);
         const bool supportedExpect = (expect.caseCmp("100-continue") == 0);
         if (!supportedExpect) {
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
             conn->quitAfterError(request.getRaw());
             repContext->setReplyToError(ERR_INVALID_REQ, Http::scExpectationFailed, request->method, http->uri,
                                         conn->clientConnection->remote, request.getRaw(), NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
-            connNoteUseOfBuffer(conn, http->req_sz);
             clientProcessRequestFinished(conn, request);
             return;
         }
     }
 
     if (!isFtp) {
         http->request = request.getRaw();
         HTTPMSGLOCK(http->request);
     }
 
     clientSetKeepaliveFlag(http);
     // Let tunneling code be fully responsible for CONNECT requests
     if (http->request->method == Http::METHOD_CONNECT) {
         context->mayUseConnection(true);
         conn->flags.readMore = false;
-
-        // consume header early so that tunnel gets just the body
-        connNoteUseOfBuffer(conn, http->req_sz);
-        notedUseOfBuffer = true;
     }
 
 #if USE_OPENSSL
     if (conn->switchedToHttps() && conn->serveDelayedError(context)) {
-        if (!notedUseOfBuffer)
-            connNoteUseOfBuffer(conn, http->req_sz);
         clientProcessRequestFinished(conn, request);
         return;
     }
 #endif
 
     /* Do we expect a request-body? */
     expectBody = chunked || request->content_length > 0;
     if (!context->mayUseConnection() && expectBody) {
         request->body_pipe = conn->expectRequestBody(
                                  chunked ? -1 : request->content_length);
 
-        if (!isFtp) {
-            // consume header early so that body pipe gets just the body
-            connNoteUseOfBuffer(conn, http->req_sz);
-            notedUseOfBuffer = true;
-        }
-
         /* Is it too large? */
         if (!chunked && // if chunked, we will check as we accumulate
                 clientIsRequestBodyTooLargeForPolicy(request->content_length)) {
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
             conn->quitAfterError(request.getRaw());
             repContext->setReplyToError(ERR_TOO_BIG,
                                         Http::scPayloadTooLarge, Http::METHOD_NONE, NULL,
                                         conn->clientConnection->remote, http->request, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
             clientProcessRequestFinished(conn, request);
             return;
         }
 
         if (!isFtp) {
             // We may stop producing, comm_close, and/or call setReplyToError()
             // below, so quit on errors to avoid http->doCallouts()
             if (!conn->handleRequestBodyData()) {
                 clientProcessRequestFinished(conn, request);
                 return;
             }
 
             if (!request->body_pipe->productionEnded()) {
                 debugs(33, 5, "need more request body");
                 context->mayUseConnection(true);
                 assert(conn->flags.readMore);
             }
         }
     }
 
     http->calloutContext = new ClientRequestContext(http);
 
     http->doCallouts();
 
-    if (!notedUseOfBuffer)
-        connNoteUseOfBuffer(conn, http->req_sz);
-
     clientProcessRequestFinished(conn, request);
 }
 
-static void
-connStripBufferWhitespace (ConnStateData * conn)
-{
-    // XXX: kill this whole function.
-    while (!conn->in.buf.isEmpty() && xisspace(conn->in.buf.at(0))) {
-        conn->in.buf.consume(1);
-    }
-}
-
 int
 ConnStateData::pipelinePrefetchMax() const
 {
     return Config.pipeline_max_prefetch;
 }
 
 /**
  * Limit the number of concurrent requests.
  * \return true  when there are available position(s) in the pipeline queue for another request.
  * \return false when the pipeline queue is full or disabled.
  */
 bool
 ConnStateData::concurrentRequestQueueFilled() const
 {
     const int existingRequestCount = getConcurrentRequestCount();
 
     // default to the configured pipeline size.
     // add 1 because the head of pipeline is counted in concurrent requests and not prefetch queue
     const int concurrentRequestLimit = pipelinePrefetchMax() + 1;
 
@@ -3141,64 +3063,63 @@
         fqdncache_gethostbyaddr(clientConnection->remote, FQDN_LOOKUP_IF_MISS);
 
     return true;
 }
 
 /**
  * Attempt to parse one or more requests from the input buffer.
  * Returns true after completing parsing of at least one request [header]. That
  * includes cases where parsing ended with an error (e.g., a huge request).
  */
 bool
 ConnStateData::clientParseRequests()
 {
     bool parsed_req = false;
 
     debugs(33, 5, HERE << clientConnection << ": attempting to parse");
 
     // Loop while we have read bytes that are not needed for producing the body
     // On errors, bodyPipe may become nil, but readMore will be cleared
     while (!in.buf.isEmpty() && !bodyPipe && flags.readMore) {
-        connStripBufferWhitespace(this);
 
         /* Don't try to parse if the buffer is empty */
         if (in.buf.isEmpty())
             break;
 
         /* Limit the number of concurrent requests */
         if (concurrentRequestQueueFilled())
             break;
 
         // try to parse the PROXY protocol header magic bytes
         if (needProxyProtocolHeader_ && !parseProxyProtocolHeader())
             break;
 
-        Http::ProtocolVersion http_ver;
-        if (ClientSocketContext *context = parseOneRequest(http_ver)) {
+        if (ClientSocketContext *context = parseOneRequest()) {
             debugs(33, 5, clientConnection << ": done parsing a request");
+
             AsyncCall::Pointer timeoutCall = commCbCall(5, 4, "clientLifetimeTimeout",
                                              CommTimeoutCbPtrFun(clientLifetimeTimeout, context->http));
             commSetConnTimeout(clientConnection, Config.Timeout.lifetime, timeoutCall);
 
             context->registerWithConn();
 
-            processParsedRequest(context, http_ver);
+            processParsedRequest(context);
 
             parsed_req = true; // XXX: do we really need to parse everything right NOW ?
 
             if (context->mayUseConnection()) {
                 debugs(33, 3, HERE << "Not parsing new requests, as this request may need the connection");
                 break;
             }
         } else {
             debugs(33, 5, clientConnection << ": not enough request data: " <<
                    in.buf.length() << " < " << Config.maxRequestHeaderSize);
             Must(in.buf.length() < Config.maxRequestHeaderSize);
             break;
         }
     }
 
     /* XXX where to 'finish' the parsing pass? */
     return parsed_req;
 }
 
 void
@@ -3326,41 +3247,41 @@
 {
     assert(bodyPipe != NULL);
 
     size_t putSize = 0;
 
     if (in.bodyParser) { // chunked encoding
         if (const err_type error = handleChunkedRequestBody(putSize)) {
             abortChunkedRequestBody(error);
             return false;
         }
     } else { // identity encoding
         debugs(33,5, HERE << "handling plain request body for " << clientConnection);
         putSize = bodyPipe->putMoreData(in.buf.c_str(), in.buf.length());
         if (!bodyPipe->mayNeedMoreData()) {
             // BodyPipe will clear us automagically when we produced everything
             bodyPipe = NULL;
         }
     }
 
     if (putSize > 0)
-        connNoteUseOfBuffer(this, putSize);
+        consumeInput(putSize);
 
     if (!bodyPipe) {
         debugs(33,5, HERE << "produced entire request body for " << clientConnection);
 
         if (const char *reason = stoppedSending()) {
             /* we've finished reading like good clients,
              * now do the close that initiateClose initiated.
              */
             debugs(33, 3, HERE << "closing for earlier sending error: " << reason);
             clientConnection->close();
             return false;
         }
     }
 
     return true;
 }
 
 /// parses available chunked encoded body bytes, checks size, returns errors
 err_type
 ConnStateData::handleChunkedRequestBody(size_t &putSize)

=== modified file 'src/client_side.h'
--- src/client_side.h	2014-09-24 14:07:55 +0000
+++ src/client_side.h	2014-09-27 09:53:31 +0000
@@ -1,38 +1,38 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 33    Client-side Routines */
 
 #ifndef SQUID_CLIENTSIDE_H
 #define SQUID_CLIENTSIDE_H
 
 #include "clientStreamForward.h"
 #include "comm.h"
 #include "helper/forward.h"
 #include "HttpControlMsg.h"
-#include "HttpParser.h"
+#include "http/forward.h"
 #include "ipc/FdNotes.h"
 #include "SBuf.h"
 #if USE_AUTH
 #include "auth/UserRequest.h"
 #endif
 #if USE_OPENSSL
 #include "ssl/support.h"
 #endif
 
 class ConnStateData;
 class ClientHttpRequest;
 class clientStreamNode;
 class ChunkedCodingParser;
 namespace AnyP
 {
 class PortCfg;
 } // namespace Anyp
 
 /**
  * Badly named.
@@ -392,75 +392,78 @@
     /// remove no longer needed leading bytes from the input buffer
     void consumeInput(const size_t byteCount);
 
     /* TODO: Make the methods below (at least) non-public when possible. */
 
     /// stop parsing the request and create context for relaying error info
     ClientSocketContext *abortRequestParsing(const char *const errUri);
 
 protected:
     void startDechunkingRequest();
     void finishDechunkingRequest(bool withSuccess);
     void abortChunkedRequestBody(const err_type error);
     err_type handleChunkedRequestBody(size_t &putSize);
 
     void startPinnedConnectionMonitoring();
     void clientPinnedConnectionRead(const CommIoCbParams &io);
 
     /// parse input buffer prefix into a single transfer protocol request
     /// return NULL to request more header bytes (after checking any limits)
     /// use abortRequestParsing() to handle parsing errors w/o creating request
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver) = 0;
+    virtual ClientSocketContext *parseOneRequest() = 0;
 
     /// start processing a freshly parsed request
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver) = 0;
+    virtual void processParsedRequest(ClientSocketContext *context) = 0;
 
     /// returning N allows a pipeline of 1+N requests (see pipeline_prefetch)
     virtual int pipelinePrefetchMax() const;
 
     /// timeout to use when waiting for the next request
     virtual time_t idleTimeout() const = 0;
 
     BodyPipe::Pointer bodyPipe; ///< set when we are reading request body
 
 private:
     int connFinishedWithConn(int size);
     void clientAfterReadingRequests();
     bool concurrentRequestQueueFilled() const;
 
     void pinNewConnection(const Comm::ConnectionPointer &pinServer, HttpRequest *request, CachePeer *aPeer, bool auth);
 
     /* PROXY protocol functionality */
     bool proxyProtocolValidateClient();
     bool parseProxyProtocolHeader();
     bool parseProxy1p0();
     bool parseProxy2p0();
     bool proxyProtocolError(const char *reason);
 
     /// whether PROXY protocol header is still expected
     bool needProxyProtocolHeader_;
 
 #if USE_AUTH
     /// some user details that can be used to perform authentication on this connection
     Auth::UserRequest::Pointer auth_;
 #endif
 
+    /// the parser state for current HTTP/1.x input buffer processing
+    Http1::RequestParserPointer parser_;
+
 #if USE_OPENSSL
     bool switchedToHttps_;
     /// The SSL server host name appears in CONNECT request or the server ip address for the intercepted requests
     String sslConnectHostOrIp; ///< The SSL server host name as passed in the CONNECT request
     String sslCommonName; ///< CN name for SSL certificate generation
     String sslBumpCertKey; ///< Key to use to store/retrieve generated certificate
 
     /// HTTPS server cert. fetching state for bump-ssl-server-first
     Ssl::ServerBump *sslServerBump;
     Ssl::CertSignAlgorithm signAlgorithm; ///< The signing algorithm to use
 #endif
 
     /// the reason why we no longer write the response or nil
     const char *stoppedSending_;
     /// the reason why we no longer read the request or nil
     const char *stoppedReceiving_;
 
     AsyncCall::Pointer reader; ///< set when we are reading
 
     SBuf connectionTag_; ///< clt_conn_tag=Tag annotation for client connection
@@ -473,25 +476,25 @@
 int varyEvaluateMatch(StoreEntry * entry, HttpRequest * req);
 
 /// accept requests to a given port and inform subCall about them
 void clientStartListeningOn(AnyP::PortCfgPointer &port, const RefCount< CommCbFunPtrCallT<CommAcceptCbPtrFun> > &subCall, const Ipc::FdNoteId noteId);
 
 void clientOpenListenSockets(void);
 void clientConnectionsClose(void);
 void httpRequestFree(void *);
 
 /// decide whether to expect multiple requests on the corresponding connection
 void clientSetKeepaliveFlag(ClientHttpRequest *http);
 
 /* misplaced declaratrions of Stream callbacks provided/used by client side */
 SQUIDCEXTERN CSR clientGetMoreData;
 SQUIDCEXTERN CSS clientReplyStatus;
 SQUIDCEXTERN CSD clientReplyDetach;
 CSCB clientSocketRecipient;
 CSD clientSocketDetach;
 
 /* TODO: Move to HttpServer. Warning: Move requires large code nonchanges! */
-ClientSocketContext *parseHttpRequest(ConnStateData *, HttpParser *, HttpRequestMethod *, Http::ProtocolVersion *);
-void clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *context, const HttpRequestMethod& method, Http::ProtocolVersion http_ver);
-void clientPostHttpsAccept(ConnStateData *connState);
+ClientSocketContext *parseHttpRequest(ConnStateData *, const Http1::RequestParserPointer &);
+void clientProcessRequest(ConnStateData *, const Http1::RequestParserPointer &, ClientSocketContext *);
+void clientPostHttpsAccept(ConnStateData *);
 
 #endif /* SQUID_CLIENTSIDE_H */

=== modified file 'src/htcp.cc'
--- src/htcp.cc	2014-09-29 05:13:17 +0000
+++ src/htcp.cc	2014-10-15 06:31:27 +0000
@@ -132,55 +132,61 @@
     Countstr key_name;
     Countstr signature;
 };
 
 class htcpSpecifier : public StoreClient
 {
 
 public:
     MEMPROXY_CLASS(htcpSpecifier);
 
     void created (StoreEntry *newEntry);
     void checkHit();
     void checkedHit(StoreEntry *e);
 
     void setFrom(Ip::Address &from);
     void setDataHeader(htcpDataHeader *);
     const char *method;
     char *uri;
     char *version;
     char *req_hdrs;
+    size_t reqHdrsSz; ///< size of the req_hdrs content
     HttpRequest *request;
 
 private:
     HttpRequest *checkHitRequest;
 
     Ip::Address from; // was a ptr. return to such IFF needed. otherwise copy should do.
     htcpDataHeader *dhdr;
 };
 
 MEMPROXY_CLASS_INLINE(htcpSpecifier);
 
 struct _htcpDetail {
     char *resp_hdrs;
+    size_t respHdrsSz;
+
     char *entity_hdrs;
+    size_t entityHdrsSz;
+
     char *cache_hdrs;
+    size_t cacheHdrsSz;
 };
 
 struct _htcpStuff {
     int op;
     int rr;
     int f1;
     int response;
     int reason;
     uint32_t msg_id;
     htcpSpecifier S;
     htcpDetail D;
 };
 
 enum {
     HTCP_NOP,
     HTCP_TST,
     HTCP_MON,
     HTCP_SET,
     HTCP_CLR,
     HTCP_END
@@ -216,41 +222,41 @@
 };
 
 static void htcpIncomingConnectionOpened(const Comm::ConnectionPointer &conn, int errNo);
 static uint32_t msg_id_counter = 0;
 
 static Comm::ConnectionPointer htcpOutgoingConn = NULL;
 static Comm::ConnectionPointer htcpIncomingConn = NULL;
 #define N_QUERIED_KEYS 8192
 static uint32_t queried_id[N_QUERIED_KEYS];
 static cache_key queried_keys[N_QUERIED_KEYS][SQUID_MD5_DIGEST_LENGTH];
 
 static Ip::Address queried_addr[N_QUERIED_KEYS];
 static MemAllocator *htcpDetailPool = NULL;
 
 static int old_squid_format = 0;
 
 static ssize_t htcpBuildPacket(char *buf, size_t buflen, htcpStuff * stuff);
 static htcpSpecifier *htcpUnpackSpecifier(char *buf, int sz);
 static htcpDetail *htcpUnpackDetail(char *buf, int sz);
 static ssize_t htcpBuildAuth(char *buf, size_t buflen);
-static ssize_t htcpBuildCountstr(char *buf, size_t buflen, const char *s);
+static ssize_t htcpBuildCountstr(char *buf, size_t buflen, const char *s, size_t len);
 static ssize_t htcpBuildData(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildDetail(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildOpData(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildSpecifier(char *buf, size_t buflen, htcpStuff * stuff);
 static ssize_t htcpBuildTstOpData(char *buf, size_t buflen, htcpStuff * stuff);
 static void htcpFreeSpecifier(htcpSpecifier * s);
 static void htcpFreeDetail(htcpDetail * s);
 
 static void htcpHandleMsg(char *buf, int sz, Ip::Address &from);
 
 static void htcpLogHtcp(Ip::Address &, int, LogTags, const char *);
 static void htcpHandleMon(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleNop(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleSet(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpHandleTst(htcpDataHeader *, char *buf, int sz, Ip::Address &from);
 
 static void htcpRecv(int fd, void *data);
@@ -290,133 +296,126 @@
 
 /*
  * STUFF FOR SENDING HTCP MESSAGES
  */
 
 static ssize_t
 htcpBuildAuth(char *buf, size_t buflen)
 {
     htcpAuthHeader auth;
     size_t copy_sz = 0;
     assert(2 == sizeof(uint16_t));
     auth.length = htons(2);
     copy_sz += 2;
     if (buflen < copy_sz)
         return -1;
     memcpy(buf, &auth, copy_sz);
     return copy_sz;
 }
 
 static ssize_t
-htcpBuildCountstr(char *buf, size_t buflen, const char *s)
+htcpBuildCountstr(char *buf, size_t buflen, const char *s, size_t len)
 {
-    uint16_t length;
-    size_t len;
     int off = 0;
 
     if (buflen - off < 2)
         return -1;
 
-    if (s)
-        len = strlen(s);
-    else
-        len = 0;
-
     debugs(31, 3, "htcpBuildCountstr: LENGTH = " << len);
 
     debugs(31, 3, "htcpBuildCountstr: TEXT = {" << (s ? s : "<NULL>") << "}");
 
-    length = htons((uint16_t) len);
+    uint16_t length = htons((uint16_t) len);
 
     memcpy(buf + off, &length, 2);
 
     off += 2;
 
     if (buflen - off < len)
         return -1;
 
     if (len)
         memcpy(buf + off, s, len);
 
     off += len;
 
     return off;
 }
 
 static ssize_t
 htcpBuildSpecifier(char *buf, size_t buflen, htcpStuff * stuff)
 {
     ssize_t off = 0;
     ssize_t s;
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.method);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.method, (stuff->S.method?strlen(stuff->S.method):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.uri);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.uri, (stuff->S.uri?strlen(stuff->S.uri):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.version);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.version, (stuff->S.version?strlen(stuff->S.version):0));
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.req_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->S.req_hdrs, stuff->S.reqHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
     debugs(31, 3, "htcpBuildSpecifier: size " << off);
 
     return off;
 }
 
 static ssize_t
 htcpBuildDetail(char *buf, size_t buflen, htcpStuff * stuff)
 {
     ssize_t off = 0;
     ssize_t s;
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.resp_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.resp_hdrs, stuff->D.respHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.entity_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.entity_hdrs, stuff->D.entityHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
-    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.cache_hdrs);
+    s = htcpBuildCountstr(buf + off, buflen - off, stuff->D.cache_hdrs, stuff->D.cacheHdrsSz);
 
     if (s < 0)
         return s;
 
     off += s;
 
     return off;
 }
 
 static ssize_t
 htcpBuildTstOpData(char *buf, size_t buflen, htcpStuff * stuff)
 {
     switch (stuff->rr) {
 
     case RR_REQUEST:
         debugs(31, 3, "htcpBuildTstOpData: RR_REQUEST");
         return htcpBuildSpecifier(buf, buflen, stuff);
 
     case RR_RESPONSE:
         debugs(31, 3, "htcpBuildTstOpData: RR_RESPONSE");
@@ -611,40 +610,42 @@
 }
 
 static void
 htcpFreeSpecifier(htcpSpecifier * s)
 {
     HTTPMSGUNLOCK(s->request);
 
     delete s;
 }
 
 static void
 htcpFreeDetail(htcpDetail * d)
 {
     htcpDetailPool->freeOne(d);
 }
 
 /*
  * Unpack an HTCP SPECIFIER in place
  * This will overwrite any following AUTH block
  */
+// XXX: this needs to be turned into an Htcp1::Parser inheriting from Http1::RequestParser
+//   but with different first-line and block unpacking logic.
 static htcpSpecifier *
 htcpUnpackSpecifier(char *buf, int sz)
 {
     htcpSpecifier *s = new htcpSpecifier;
     HttpRequestMethod method;
 
     /* Find length of METHOD */
     uint16_t l = ntohs(*(uint16_t *) buf);
     sz -= 2;
     buf += 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackSpecifier: failed to unpack METHOD");
         htcpFreeSpecifier(s);
         return NULL;
     }
 
     /* Set METHOD */
     s->method = buf;
     buf += l;
@@ -692,135 +693,131 @@
     debugs(31, 6, "htcpUnpackSpecifier: VERSION (" << l << "/" << sz << ") '" << s->version << "'");
 
     /* Find length of REQ-HDRS */
     l = ntohs(*(uint16_t *) buf);
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackSpecifier: failed to unpack REQ-HDRS");
         htcpFreeSpecifier(s);
         return NULL;
     }
 
     /* Add terminating null to URI */
     *buf = '\0';
     buf += 2;
 
     /* Set REQ-HDRS */
     s->req_hdrs = buf;
     buf += l;
     sz -= l;
+    s->reqHdrsSz = l;
     debugs(31, 6, "htcpUnpackSpecifier: REQ-HDRS (" << l << "/" << sz << ") '" << s->req_hdrs << "'");
 
     debugs(31, 3, "htcpUnpackSpecifier: " << sz << " bytes left");
 
     /*
      * Add terminating null to REQ-HDRS. This is possible because we allocated
      * an extra byte when we received the packet. This will overwrite any following
      * AUTH block.
      */
     *buf = '\0';
 
-    /*
-     * Parse the request
-     */
-    method = HttpRequestMethod(s->method, NULL);
+    // Parse the request
+    method.HttpRequestMethodXXX(s->method);
 
     s->request = HttpRequest::CreateFromUrlAndMethod(s->uri, method == Http::METHOD_NONE ? HttpRequestMethod(Http::METHOD_GET) : method);
 
     if (s->request)
         HTTPMSGLOCK(s->request);
 
     return s;
 }
 
 /*
  * Unpack an HTCP DETAIL in place
  * This will overwrite any following AUTH block
  */
 static htcpDetail *
 htcpUnpackDetail(char *buf, int sz)
 {
     htcpDetail *d = static_cast<htcpDetail *>(htcpDetailPool->alloc());
 
     /* Find length of RESP-HDRS */
     uint16_t l = ntohs(*(uint16_t *) buf);
     sz -= 2;
     buf += 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack RESP_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Set RESP-HDRS */
     d->resp_hdrs = buf;
-
     buf += l;
-
+    d->respHdrsSz = l;
     sz -= l;
 
     /* Find length of ENTITY-HDRS */
     l = ntohs(*(uint16_t *) buf);
 
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack ENTITY_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Add terminating null to RESP-HDRS */
     *buf = '\0';
 
     /* Set ENTITY-HDRS */
     buf += 2;
 
     d->entity_hdrs = buf;
-
     buf += l;
-
+    d->entityHdrsSz = l;
     sz -= l;
 
     /* Find length of CACHE-HDRS */
     l = ntohs(*(uint16_t *) buf);
 
     sz -= 2;
 
     if (l > sz) {
         debugs(31, 3, "htcpUnpackDetail: failed to unpack CACHE_HDRS");
         htcpFreeDetail(d);
         return NULL;
     }
 
     /* Add terminating null to ENTITY-HDRS */
     *buf = '\0';
 
     /* Set CACHE-HDRS */
     buf += 2;
 
     d->cache_hdrs = buf;
-
     buf += l;
-
+    d->cacheHdrsSz = l;
     sz -= l;
 
     debugs(31, 3, "htcpUnpackDetail: " << sz << " bytes left");
 
     /*
      * Add terminating null to CACHE-HDRS. This is possible because we allocated
      * an extra byte when we received the packet. This will overwrite any following
      * AUTH block.
      */
     *buf = '\0';
 
     return d;
 }
 
 static bool
 htcpAccessAllowed(acl_access * acl, htcpSpecifier * s, Ip::Address &from)
 {
     /* default deny if no access list present */
     if (!acl)
         return false;
@@ -838,95 +835,102 @@
     static char pkt[8192];
     HttpHeader hdr(hoHtcpReply);
     MemBuf mb;
     Packer p;
     ssize_t pktlen;
     memset(&stuff, '\0', sizeof(stuff));
     stuff.op = HTCP_TST;
     stuff.rr = RR_RESPONSE;
     stuff.f1 = 0;
     stuff.response = e ? 0 : 1;
     debugs(31, 3, "htcpTstReply: response = " << stuff.response);
     stuff.msg_id = dhdr->msg_id;
 
     if (spec) {
         mb.init();
         packerToMemInit(&p, &mb);
         stuff.S.method = spec->method;
         stuff.S.uri = spec->uri;
         stuff.S.version = spec->version;
         stuff.S.req_hdrs = spec->req_hdrs;
+        stuff.S.reqHdrsSz = spec->reqHdrsSz;
         if (e)
             hdr.putInt(HDR_AGE, (e->timestamp <= squid_curtime ? (squid_curtime - e->timestamp) : 0) );
         else
             hdr.putInt(HDR_AGE, 0);
         hdr.packInto(&p);
         stuff.D.resp_hdrs = xstrdup(mb.buf);
+        stuff.D.respHdrsSz = mb.contentSize();
         debugs(31, 3, "htcpTstReply: resp_hdrs = {" << stuff.D.resp_hdrs << "}");
         mb.reset();
         hdr.reset();
 
         if (e && e->expires > -1)
             hdr.putTime(HDR_EXPIRES, e->expires);
 
         if (e && e->lastmod > -1)
             hdr.putTime(HDR_LAST_MODIFIED, e->lastmod);
 
         hdr.packInto(&p);
 
         stuff.D.entity_hdrs = xstrdup(mb.buf);
+        stuff.D.entityHdrsSz = mb.contentSize();
 
         debugs(31, 3, "htcpTstReply: entity_hdrs = {" << stuff.D.entity_hdrs << "}");
 
         mb.reset();
 
         hdr.reset();
 
 #if USE_ICMP
         if (char *host = urlHostname(spec->uri)) {
             int rtt = 0;
             int hops = 0;
             int samp = 0;
             netdbHostData(host, &samp, &rtt, &hops);
 
             if (rtt || hops) {
                 char cto_buf[128];
                 snprintf(cto_buf, 128, "%s %d %f %d",
                          host, samp, 0.001 * rtt, hops);
                 hdr.putExt("Cache-to-Origin", cto_buf);
             }
         }
 #endif /* USE_ICMP */
 
         hdr.packInto(&p);
         stuff.D.cache_hdrs = xstrdup(mb.buf);
+        stuff.D.cacheHdrsSz = mb.contentSize();
         debugs(31, 3, "htcpTstReply: cache_hdrs = {" << stuff.D.cache_hdrs << "}");
         mb.clean();
         hdr.clean();
         packerClean(&p);
     }
 
     pktlen = htcpBuildPacket(pkt, sizeof(pkt), &stuff);
 
     safe_free(stuff.D.resp_hdrs);
+    stuff.D.respHdrsSz = 0;
     safe_free(stuff.D.entity_hdrs);
+    stuff.D.entityHdrsSz = 0;
     safe_free(stuff.D.cache_hdrs);
+    stuff.D.cacheHdrsSz = 0;
 
     if (!pktlen) {
         debugs(31, 3, "htcpTstReply: htcpBuildPacket() failed");
         return;
     }
 
     htcpSend(pkt, (int) pktlen, from);
 }
 
 static void
 
 htcpClrReply(htcpDataHeader * dhdr, int purgeSucceeded, Ip::Address &from)
 {
     htcpStuff stuff;
     static char pkt[8192];
     ssize_t pktlen;
 
     /* If dhdr->F1 == 0, no response desired */
 
     if (dhdr->F1 == 0)
@@ -949,52 +953,49 @@
     pktlen = htcpBuildPacket(pkt, sizeof(pkt), &stuff);
 
     if (pktlen == 0) {
         debugs(31, 3, "htcpClrReply: htcpBuildPacket() failed");
         return;
     }
 
     htcpSend(pkt, (int) pktlen, from);
 }
 
 static void
 
 htcpHandleNop(htcpDataHeader * hdr, char *buf, int sz, Ip::Address &from)
 {
     debugs(31, 3, "htcpHandleNop: Unimplemented");
 }
 
 void
 htcpSpecifier::checkHit()
 {
-    char *blk_end;
     checkHitRequest = request;
 
     if (NULL == checkHitRequest) {
         debugs(31, 3, "htcpCheckHit: NO; failed to parse URL");
         checkedHit(NullStoreEntry::getInstance());
         return;
     }
 
-    blk_end = req_hdrs + strlen(req_hdrs);
-
-    if (!checkHitRequest->header.parse(req_hdrs, blk_end)) {
+    if (!checkHitRequest->header.parse(req_hdrs, reqHdrsSz)) {
         debugs(31, 3, "htcpCheckHit: NO; failed to parse request headers");
         delete checkHitRequest;
         checkHitRequest = NULL;
         checkedHit(NullStoreEntry::getInstance());
         return;
     }
 
     StoreEntry::getPublicByRequest(this, checkHitRequest);
 }
 
 void
 htcpSpecifier::created (StoreEntry *e)
 {
     StoreEntry *hit=NULL;
     assert (e);
 
     if (e->isNull()) {
         debugs(31, 3, "htcpCheckHit: NO; public object not found");
     } else if (!e->validToSend()) {
         debugs(31, 3, "htcpCheckHit: NO; entry not valid to send" );
@@ -1002,53 +1003,50 @@
         debugs(31, 3, "htcpCheckHit: NO; cached response is stale");
     } else {
         debugs(31, 3, "htcpCheckHit: YES!?");
         hit = e;
     }
 
     checkedHit (hit);
 }
 
 static void
 htcpClrStoreEntry(StoreEntry * e)
 {
     debugs(31, 4, "htcpClrStoreEntry: Clearing store for entry: " << e->url()  );
     e->releaseRequest();
 }
 
 static int
 htcpClrStore(const htcpSpecifier * s)
 {
     HttpRequest *request = s->request;
-    char *blk_end;
     StoreEntry *e = NULL;
     int released = 0;
 
     if (request == NULL) {
         debugs(31, 3, "htcpClrStore: failed to parse URL");
         return -1;
     }
 
     /* Parse request headers */
-    blk_end = s->req_hdrs + strlen(s->req_hdrs);
-
-    if (!request->header.parse(s->req_hdrs, blk_end)) {
+    if (!request->header.parse(s->req_hdrs, s->reqHdrsSz)) {
         debugs(31, 2, "htcpClrStore: failed to parse request headers");
         return -1;
     }
 
     /* Lookup matching entries. This matches both GET and HEAD */
     while ((e = storeGetPublicByRequest(request)) != NULL) {
         if (e != NULL) {
             htcpClrStoreEntry(e);
             ++released;
         }
     }
 
     if (released) {
         debugs(31, 4, "htcpClrStore: Cleared " << released << " matching entries");
         return 1;
     } else {
         debugs(31, 4, "htcpClrStore: No matching entry found");
         return 0;
     }
 }
@@ -1109,47 +1107,47 @@
         debugs(31, 2, "htcpHandleTstResponse: error condition, F1/MO == 1");
         return;
     }
 
     htcpReply.msg_id = hdr->msg_id;
     debugs(31, 3, "htcpHandleTstResponse: msg_id = " << htcpReply.msg_id);
     htcpReply.hit = hdr->response ? 0 : 1;
 
     if (hdr->F1) {
         debugs(31, 3, "htcpHandleTstResponse: MISS");
     } else {
         debugs(31, 3, "htcpHandleTstResponse: HIT");
         d = htcpUnpackDetail(buf, sz);
 
         if (d == NULL) {
             debugs(31, 3, "htcpHandleTstResponse: bad DETAIL");
             return;
         }
 
         if ((t = d->resp_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->respHdrsSz);
 
         if ((t = d->entity_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->entityHdrsSz);
 
         if ((t = d->cache_hdrs))
-            htcpReply.hdr.parse(t, t + strlen(t));
+            htcpReply.hdr.parse(t, d->cacheHdrsSz);
     }
 
     debugs(31, 3, "htcpHandleTstResponse: key (" << key << ") " << storeKeyText(key));
     neighborsHtcpReply(key, &htcpReply, from);
     htcpReply.hdr.clean();
 
     if (d)
         htcpFreeDetail(d);
 }
 
 static void
 htcpHandleTstRequest(htcpDataHeader * dhdr, char *buf, int sz, Ip::Address &from)
 {
     /* buf should be a SPECIFIER */
     htcpSpecifier *s;
 
     if (sz == 0) {
         debugs(31, 3, "htcpHandleTst: nothing to do");
         return;
     }

=== modified file 'src/htcp.h'
--- src/htcp.h	2014-09-13 13:59:43 +0000
+++ src/htcp.h	2014-09-14 12:23:03 +0000
@@ -1,39 +1,37 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTCP_H
 #define SQUID_HTCP_H
 
 #if USE_HTCP
 
 #include "HttpHeader.h"
-#include "HttpRequestMethod.h"
+#include "http/forward.h"
 #include "ip/forward.h"
 
-class HttpRequest;
-
 /// \ingroup ServerProtocolHTCP
 class HtcpReplyData
 {
 
 public:
     HtcpReplyData();
     int hit;
     HttpHeader hdr;
     uint32_t msg_id;
     double version;
 
     struct cto_t {
         /* cache-to-origin */
         double rtt;
         int samp;
         int hops;
     } cto;
 };
 
 /// \ingroup ServerProtocolHTCP

=== modified file 'src/http/Makefile.am'
--- src/http/Makefile.am	2014-09-13 13:59:43 +0000
+++ src/http/Makefile.am	2014-09-14 12:23:03 +0000
@@ -1,26 +1,37 @@
 ## Copyright (C) 1996-2014 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
 include $(top_srcdir)/src/Common.am
 include $(top_srcdir)/src/TestHeaders.am
 
+AUTOMAKE_OPTIONS = subdir-objects
+
+SUBDIRS = one
+DIST_SUBDIRS = one
+
 noinst_LTLIBRARIES = libsquid-http.la
 
 libsquid_http_la_SOURCES = \
+	forward.h \
 	MethodType.cc \
 	MethodType.h \
 	ProtocolVersion.h \
+	RegisteredHeaders.h \
+	RequestMethod.cc \
+	RequestMethod.h \
 	StatusCode.cc \
 	StatusCode.h \
 	StatusLine.cc \
 	StatusLine.h
 
+libsquid_http_la_LIBADD= one/libhttp1.la
+
 MethodType.cc: MethodType.h $(top_srcdir)/src/mk-string-arrays.awk
 	($(AWK) -f $(top_srcdir)/src/mk-string-arrays.awk sbuf=1 < $(srcdir)/MethodType.h | \
 		sed -e 's%METHOD_%%' -e 's%_C%-C%' >$@) || ($(RM) -f $@ && exit 1)
 
 CLEANFILES += MethodType.cc

=== added file 'src/http/RegisteredHeaders.h'
--- src/http/RegisteredHeaders.h	1970-01-01 00:00:00 +0000
+++ src/http/RegisteredHeaders.h	2014-08-19 12:14:45 +0000
@@ -0,0 +1,113 @@
+#ifndef SQUID_HTTP_REGISTEREDHEADERS_H
+#define SQUID_HTTP_REGISTEREDHEADERS_H
+
+/// recognized or "known" header fields; and the RFC which defines them (or not)
+/// http://www.iana.org/assignments/message-headers/message-headers.xhtml
+typedef enum {
+    HDR_BAD_HDR = -1,
+    HDR_ACCEPT = 0,                     /**< RFC 7231 */
+    HDR_ACCEPT_CHARSET,                 /**< RFC 7231 */
+    HDR_ACCEPT_ENCODING,                /**< RFC 7231 */
+    /*HDR_ACCEPT_FEATURES,*/            /* RFC 2295 */
+    HDR_ACCEPT_LANGUAGE,                /**< RFC 7231 */
+    HDR_ACCEPT_RANGES,                  /**< RFC 7233 */
+    HDR_AGE,                            /**< RFC 7234 */
+    HDR_ALLOW,                          /**< RFC 7231 */
+    HDR_AUTHENTICATION_INFO,            /**< RFC 2617 */
+    HDR_AUTHORIZATION,                  /**< RFC 7235, 4559 */
+    HDR_CACHE_CONTROL,                  /**< RFC 7234 */
+    HDR_CONNECTION,                     /**< RFC 7230 */
+    HDR_CONTENT_BASE,                   /**< obsoleted RFC 2068 */
+    HDR_CONTENT_DISPOSITION,            /**< RFC 2183, 6266 */
+    HDR_CONTENT_ENCODING,               /**< RFC 7231 */
+    HDR_CONTENT_LANGUAGE,               /**< RFC 7231 */
+    HDR_CONTENT_LENGTH,                 /**< RFC 7230 */
+    HDR_CONTENT_LOCATION,               /**< RFC 7231 */
+    HDR_CONTENT_MD5,                    /**< deprecated, RFC 2616 */
+    HDR_CONTENT_RANGE,                  /**< RFC 7233 */
+    HDR_CONTENT_TYPE,                   /**< RFC 7231 */
+    HDR_COOKIE,                         /**< RFC 6265 header we may need to erase */
+    HDR_COOKIE2,                        /**< obsolete RFC 2965 header we may need to erase */
+    HDR_DATE,                           /**< RFC 7231 */
+    /*HDR_DAV,*/                        /* RFC 2518 */
+    /*HDR_DEPTH,*/                      /* RFC 2518 */
+    /*HDR_DERIVED_FROM,*/               /* deprecated RFC 2068 */
+    /*HDR_DESTINATION,*/                /* RFC 2518 */
+    HDR_ETAG,                           /**< RFC 7232 */
+    HDR_EXPECT,                         /**< RFC 7231 */
+    HDR_EXPIRES,                        /**< RFC 7234 */
+    HDR_FORWARDED,                      /**< RFC 7239 */
+    HDR_FROM,                           /**< RFC 7231 */
+    HDR_HOST,                           /**< RFC 7230 */
+    HDR_HTTP2_SETTINGS,                 /**< HTTP/2.0 upgrade header. see draft-ietf-httpbis-http2-13 */
+    /*HDR_IF,*/                         /* RFC 2518 */
+    HDR_IF_MATCH,                       /**< RFC 7232 */
+    HDR_IF_MODIFIED_SINCE,              /**< RFC 7232 */
+    HDR_IF_NONE_MATCH,                  /**< RFC 7232 */
+    HDR_IF_RANGE,                       /**< RFC 7233 */
+    HDR_IF_UNMODIFIED_SINCE,            /**< RFC 7232 */
+    HDR_KEEP_ALIVE,                     /**< obsoleted RFC 2068 header we may need to erase */
+    HDR_KEY,                            /**< experimental RFC Draft draft-fielding-http-key-02 */
+    HDR_LAST_MODIFIED,                  /**< RFC 7232 */
+    HDR_LINK,                           /**< RFC 5988 */
+    HDR_LOCATION,                       /**< RFC 7231 */
+    /*HDR_LOCK_TOKEN,*/                 /* RFC 2518 */
+    HDR_MAX_FORWARDS,                   /**< RFC 7231 */
+    HDR_MIME_VERSION,                   /**< RFC 2045, 7231 */
+    HDR_NEGOTIATE,                      /**< experimental RFC 2295. Why only this one from 2295? */
+    /*HDR_OVERWRITE,*/                  /* RFC 2518 */
+    HDR_ORIGIN,                         /* CORS Draft specification (see http://www.w3.org/TR/cors/) */
+    HDR_PRAGMA,                         /**< RFC 7234 */
+    HDR_PROXY_AUTHENTICATE,             /**< RFC 7235 */
+    HDR_PROXY_AUTHENTICATION_INFO,      /**< RFC 2617 */
+    HDR_PROXY_AUTHORIZATION,            /**< RFC 7235 */
+    HDR_PROXY_CONNECTION,               /**< obsolete Netscape header we may need to erase. */
+    HDR_PROXY_SUPPORT,                  /**< RFC 4559 */
+    HDR_PUBLIC,                         /**<  RFC 2068 */
+    HDR_RANGE,                          /**< RFC 7233 */
+    HDR_REFERER,                        /**< RFC 7231 */
+    HDR_REQUEST_RANGE,                  /**< some clients use this, sigh */
+    HDR_RETRY_AFTER,                    /**< RFC 7231 */
+    HDR_SERVER,                         /**< RFC 7231 */
+    HDR_SET_COOKIE,                     /**< RFC 6265 header we may need to erase */
+    HDR_SET_COOKIE2,                    /**< obsoleted RFC 2965 header we may need to erase */
+    /*HDR_STATUS_URI,*/                 /* RFC 2518 */
+    /*HDR_TCN,*/                        /* experimental RFC 2295 */
+    HDR_TE,                             /**< RFC 7230 */
+    /*HDR_TIMEOUT,*/                    /* RFC 2518 */
+    HDR_TITLE,                          /* obsolete draft suggested header */
+    HDR_TRAILER,                        /**< RFC 7230 */
+    HDR_TRANSFER_ENCODING,              /**< RFC 7230 */
+    HDR_TRANSLATE,                      /**< IIS custom header we may need to erase */
+    HDR_UNLESS_MODIFIED_SINCE,          /**< IIS custom header we may need to erase */
+    HDR_UPGRADE,                        /**< RFC 7230 */
+    HDR_USER_AGENT,                     /**< RFC 7231 */
+    /*HDR_VARIANT_VARY,*/               /* experimental RFC 2295 */
+    HDR_VARY,                           /**< RFC 7231 */
+    HDR_VIA,                            /**< RFC 7230 */
+    HDR_WARNING,                        /**< RFC 7234 */
+    HDR_WWW_AUTHENTICATE,               /**< RFC 7235, 4559 */
+    HDR_X_CACHE,                        /**< Squid custom header */
+    HDR_X_CACHE_LOOKUP,                 /**< Squid custom header. temporary hack that became de-facto. TODO remove */
+    HDR_X_FORWARDED_FOR,                /**< obsolete Squid custom header, RFC 7239 */
+    HDR_X_REQUEST_URI,                  /**< Squid custom header appended if ADD_X_REQUEST_URI is defined */
+    HDR_X_SQUID_ERROR,                  /**< Squid custom header on generated error responses */
+#if X_ACCELERATOR_VARY
+    HDR_X_ACCELERATOR_VARY,             /**< obsolete Squid custom header. */
+#endif
+#if USE_ADAPTATION
+    HDR_X_NEXT_SERVICES,                /**< Squid custom ICAP header */
+#endif
+    HDR_SURROGATE_CAPABILITY,           /**< Edge Side Includes (ESI) header */
+    HDR_SURROGATE_CONTROL,              /**< Edge Side Includes (ESI) header */
+    HDR_FRONT_END_HTTPS,                /**< MS Exchange custom header we may have to add */
+    HDR_FTP_COMMAND,                    /**< Internal header for FTP command */
+    HDR_FTP_ARGUMENTS,                  /**< Internal header for FTP command arguments */
+    HDR_FTP_PRE,                        /**< Internal header containing leading FTP control response lines */
+    HDR_FTP_STATUS,                     /**< Internal header for FTP reply status */
+    HDR_FTP_REASON,                     /**< Internal header for FTP reply reason */
+    HDR_OTHER,                          /**< internal tag value for "unknown" headers */
+    HDR_ENUM_END
+} http_hdr_type;
+
+#endif /* SQUID_HTTP_REGISTEREDHEADERS_H */

=== renamed file 'src/HttpRequestMethod.cc' => 'src/http/RequestMethod.cc'
--- src/HttpRequestMethod.cc	2014-09-13 13:59:43 +0000
+++ src/http/RequestMethod.cc	2014-10-15 09:48:49 +0000
@@ -1,84 +1,117 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 73    HTTP Request */
 
 #include "squid.h"
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "SquidConfig.h"
 #include "wordlist.h"
 
 static Http::MethodType &
 operator++ (Http::MethodType &aMethod)
 {
     int tmp = (int)aMethod;
     aMethod = (Http::MethodType)(++tmp);
     return aMethod;
 }
 
 /**
- * Construct a HttpRequestMethod from a NULL terminated string such as "GET"
- * or from a range of chars, * such as "GET" from "GETFOOBARBAZ"
- * (pass in pointer to G and pointer to F.)
+ * Construct a HttpRequestMethod from a C-string such as "GET"
+ * Assumes the string is either nul-terminated or contains whitespace
+ *
+ * \deprecated use SBuf constructor instead
  */
-HttpRequestMethod::HttpRequestMethod(char const *begin, char const *end) : theMethod(Http::METHOD_NONE)
+void
+HttpRequestMethod::HttpRequestMethodXXX(char const *begin)
 {
+    // XXX: performance regression due to this method no longer being a constructor
+    // ensure the members are empty/default values before any of the early-return
+    // optimizations can be used.
+    theMethod = Http::METHOD_NONE;
+    theImage.clear();
+
     if (begin == NULL)
         return;
 
-    /*
-     * if e is NULL, b must be NULL terminated and we
-     * make e point to the first whitespace character
-     * after b.
-     */
-    if (NULL == end)
-        end = begin + strcspn(begin, w_space);
+    char const *end = begin + strcspn(begin, w_space);
 
     if (end == begin)
         return;
 
     // TODO: Optimize this linear search.
     for (++theMethod; theMethod < Http::METHOD_ENUM_END; ++theMethod) {
         // RFC 2616 section 5.1.1 - Method names are case-sensitive
         // NP: this is not a HTTP_VIOLATIONS case since there is no MUST/SHOULD involved.
         if (0 == image().caseCmp(begin, end-begin)) {
 
             // relaxed parser allows mixed-case and corrects them on output
             if (Config.onoff.relaxed_header_parser)
                 return;
 
             if (0 == image().cmp(begin, end-begin))
                 return;
         }
     }
 
     // if method not found and method string is not null then it is other method
     theMethod = Http::METHOD_OTHER;
     theImage.assign(begin, end-begin);
 }
 
+/**
+ * Construct a HttpRequestMethod from an SBuf string such as "GET"
+ * or from a range of chars such as "FOO" from buffer "GETFOOBARBAZ"
+ *
+ * Assumes the s parameter contains only the characters representing the method name
+ */
+HttpRequestMethod::HttpRequestMethod(const SBuf &s) : theMethod(Http::METHOD_NONE)
+{
+    if (s.isEmpty())
+        return;
+
+    // TODO: Optimize this linear search.
+    for (++theMethod; theMethod < Http::METHOD_ENUM_END; ++theMethod) {
+        // RFC 2616 section 5.1.1 - Method names are case-sensitive
+        // NP: this is not a HTTP_VIOLATIONS case since there is no MUST/SHOULD involved.
+        if (0 == image().caseCmp(s)) {
+
+            // relaxed parser allows mixed-case and corrects them on output
+            if (Config.onoff.relaxed_header_parser)
+                return;
+
+            if (0 == image().cmp(s))
+                return;
+        }
+    }
+
+    // if method not found and method string is not null then it is other method
+    theMethod = Http::METHOD_OTHER;
+    theImage = s;
+}
+
 const SBuf &
 HttpRequestMethod::image() const
 {
     static const SBuf methodOther("METHOD_OTHER");
     if (Http::METHOD_OTHER != theMethod) {
         return Http::MethodType_sb[theMethod];
     } else {
         if (!theImage.isEmpty()) {
             return theImage;
         } else {
             return methodOther;
         }
     }
 }
 
 bool
 HttpRequestMethod::isHttpSafe() const
 {
     // Only a few methods are defined as safe. All others are "unsafe"
 

=== renamed file 'src/HttpRequestMethod.h' => 'src/http/RequestMethod.h'
--- src/HttpRequestMethod.h	2014-09-13 13:59:43 +0000
+++ src/http/RequestMethod.h	2014-10-15 04:17:38 +0000
@@ -1,61 +1,53 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef SQUID_HTTPREQUESTMETHOD_H
 #define SQUID_HTTPREQUESTMETHOD_H
 
+#include "http/forward.h"
 #include "http/MethodType.h"
 #include "SBuf.h"
 
 class SquidConfig;
 
 #include <iosfwd>
 
 /**
  * This class represents an HTTP Request METHOD
  * - i.e. PUT, POST, GET etc.
  * It has a runtime extension facility to allow it to
  * efficiently support new methods
  */
-class HttpRequestMethod
+class HttpRequestMethod : public RefCountable
 {
-
 public:
-//    static void Configure(SquidConfig &Config);
-
     HttpRequestMethod() : theMethod(Http::METHOD_NONE), theImage() {}
-
     HttpRequestMethod(Http::MethodType const aMethod) : theMethod(aMethod), theImage() {}
+    explicit HttpRequestMethod(const SBuf &);
 
-    /**
-     \param begin    string to convert to request method.
-     \param end      end of the method string (relative to begin). Use NULL if this is unknown.
-     *
-     \note DO NOT give end a default (ie NULL). That will cause silent char* conversion clashes.
-     */
-    HttpRequestMethod(char const * begin, char const * end);
+    void HttpRequestMethodXXX(char const *); // deprecated old c-string to SBuf converter.
 
     HttpRequestMethod & operator = (const HttpRequestMethod& aMethod) {
         theMethod = aMethod.theMethod;
         theImage = aMethod.theImage;
         return *this;
     }
 
     HttpRequestMethod & operator = (Http::MethodType const aMethod) {
         theMethod = aMethod;
         theImage.clear();
         return *this;
     }
 
     bool operator == (Http::MethodType const & aMethod) const { return theMethod == aMethod; }
     bool operator == (HttpRequestMethod const & aMethod) const {
         return theMethod == aMethod.theMethod &&
                (theMethod != Http::METHOD_OTHER || theImage == aMethod.theImage);
     }
 
     bool operator != (Http::MethodType const & aMethod) const { return theMethod != aMethod; }

=== added file 'src/http/forward.h'
--- src/http/forward.h	1970-01-01 00:00:00 +0000
+++ src/http/forward.h	2014-05-20 07:45:55 +0000
@@ -0,0 +1,16 @@
+#ifndef SQUID_SRC_HTTP_FORWARD_H
+#define SQUID_SRC_HTTP_FORWARD_H
+
+#include "http/one/forward.h"
+
+// TODO move these classes into Http namespace
+class HttpRequestMethod;
+typedef RefCount<HttpRequestMethod> HttpRequestMethodPointer;
+
+class HttpRequest;
+typedef RefCount<HttpRequest> HttpRequestPointer;
+
+class HttpReply;
+typedef RefCount<HttpReply> HttpReplyPointer;
+
+#endif /* SQUID_SRC_HTTP_FORWARD_H */

=== added directory 'src/http/one'
=== added file 'src/http/one/Makefile.am'
--- src/http/one/Makefile.am	1970-01-01 00:00:00 +0000
+++ src/http/one/Makefile.am	2014-07-30 07:38:25 +0000
@@ -0,0 +1,11 @@
+include $(top_srcdir)/src/Common.am
+include $(top_srcdir)/src/TestHeaders.am
+
+noinst_LTLIBRARIES = libhttp1.la
+
+libhttp1_la_SOURCES = \
+	forward.h \
+	Parser.cc \
+	Parser.h \
+	RequestParser.cc \
+	RequestParser.h

=== renamed file 'src/HttpParser.cc' => 'src/http/one/Parser.cc'
--- src/HttpParser.cc	2014-09-13 13:59:43 +0000
+++ src/http/one/Parser.cc	2014-09-14 12:23:03 +0000
@@ -1,302 +1,80 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 #include "Debug.h"
-#include "HttpParser.h"
-#include "profiler/Profiler.h"
-#include "SquidConfig.h"
+#include "http/one/Parser.h"
+#include "parser/Tokenizer.h"
 
-void
-HttpParser::clear()
-{
-    state = HTTP_PARSE_NONE;
-    request_parse_status = Http::scNone;
-    buf = NULL;
-    bufsiz = 0;
-    req.start = req.end = -1;
-    hdr_start = hdr_end = -1;
-    req.m_start = req.m_end = -1;
-    req.u_start = req.u_end = -1;
-    req.v_start = req.v_end = -1;
-    req.v_maj = req.v_min = 0;
-}
+/// RFC 7230 section 2.6 - 7 magic octets
+const SBuf Http::One::Parser::Http1magic("HTTP/1.");
 
 void
-HttpParser::reset(const char *aBuf, int len)
+Http::One::Parser::clear()
 {
-    clear(); // empty the state.
-    state = HTTP_PARSE_NEW;
-    buf = aBuf;
-    bufsiz = len;
-    debugs(74, 5, HERE << "Request buffer is " << buf);
+    parsingStage_ = HTTP_PARSE_NONE;
+    buf_ = NULL;
+    msgProtocol_ = AnyP::ProtocolVersion();
+    mimeHeaderBlock_.clear();
 }
 
-int
-HttpParser::parseRequestFirstLine()
+// arbitrary maximum-length for headers which can be found by Http1Parser::getHeaderField()
+#define GET_HDR_SZ	1024
+
+// BUG: returns only the first header line with given name,
+//      ignores multi-line headers and obs-fold headers
+char *
+Http::One::Parser::getHeaderField(const char *name)
 {
-    int second_word = -1; // track the suspected URI start
-    int first_whitespace = -1, last_whitespace = -1; // track the first and last SP byte
-    int line_end = -1; // tracks the last byte BEFORE terminal \r\n or \n sequence
-
-    debugs(74, 5, HERE << "parsing possible request: " << buf);
-
-    // Single-pass parse: (provided we have the whole line anyways)
-
-    req.start = 0;
-    if (Config.onoff.relaxed_header_parser) {
-        if (Config.onoff.relaxed_header_parser < 0 && buf[req.start] == ' ')
-            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
-                   "Whitespace bytes received ahead of method. " <<
-                   "Ignored due to relaxed_header_parser.");
-        // Be tolerant of prefix spaces (other bytes are valid method values)
-        for (; req.start < bufsiz && buf[req.start] == ' '; ++req.start);
-    }
-    req.end = -1;
-    for (int i = 0; i < bufsiz; ++i) {
-        // track first and last whitespace (SP only)
-        if (buf[i] == ' ') {
-            last_whitespace = i;
-            if (first_whitespace < req.start)
-                first_whitespace = i;
-        }
-
-        // track next non-SP/non-HT byte after first_whitespace
-        if (second_word < first_whitespace && buf[i] != ' ' && buf[i] != '\t') {
-            second_word = i;
-        }
-
-        // locate line terminator
-        if (buf[i] == '\n') {
-            req.end = i;
-            line_end = i - 1;
-            break;
-        }
-        if (i < bufsiz - 1 && buf[i] == '\r') {
-            if (Config.onoff.relaxed_header_parser) {
-                if (Config.onoff.relaxed_header_parser < 0 && buf[i + 1] == '\r')
-                    debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
-                           "Series of carriage-return bytes received prior to line terminator. " <<
-                           "Ignored due to relaxed_header_parser.");
-
-                // Be tolerant of invalid multiple \r prior to terminal \n
-                if (buf[i + 1] == '\n' || buf[i + 1] == '\r')
-                    line_end = i - 1;
-                while (i < bufsiz - 1 && buf[i + 1] == '\r')
-                    ++i;
-
-                if (buf[i + 1] == '\n') {
-                    req.end = i + 1;
-                    break;
-                }
-            } else {
-                if (buf[i + 1] == '\n') {
-                    req.end = i + 1;
-                    line_end = i - 1;
-                    break;
-                }
-            }
-
-            // RFC 2616 section 5.1
-            // "No CR or LF is allowed except in the final CRLF sequence"
-            request_parse_status = Http::scBadRequest;
-            return -1;
-        }
-    }
-    if (req.end == -1) {
-        debugs(74, 5, "Parser: retval 0: from " << req.start <<
-               "->" << req.end << ": needs more data to complete first line.");
-        return 0;
-    }
+    if (!headerBlockSize() || !name)
+        return NULL;
 
-    // NP: we have now seen EOL, more-data (0) cannot occur.
-    //     From here on any failure is -1, success is 1
+    LOCAL_ARRAY(char, header, GET_HDR_SZ);
+    const int namelen = name ? strlen(name) : 0;
 
-    // Input Validation:
+    debugs(25, 5, "looking for " << name);
 
-    // Process what we now know about the line structure into field offsets
-    // generating HTTP status for any aborts as we go.
+    // while we can find more LF in the SBuf
+    static CharacterSet iso8859Line = CharacterSet("non-LF",'\0','\n'-1) + CharacterSet(NULL, '\n'+1, (unsigned char)0xFF);
+    ::Parser::Tokenizer tok(mimeHeaderBlock_);
+    SBuf p;
+    static const SBuf crlf("\r\n");
 
-    // First non-whitespace = beginning of method
-    if (req.start > line_end) {
-        request_parse_status = Http::scBadRequest;
-        return -1;
-    }
-    req.m_start = req.start;
+    while (tok.prefix(p, iso8859Line)) {
+        tok.skipOne(CharacterSet::LF); // move tokenizer past the LF
 
-    // First whitespace = end of method
-    if (first_whitespace > line_end || first_whitespace < req.start) {
-        request_parse_status = Http::scBadRequest; // no method
-        return -1;
-    }
-    req.m_end = first_whitespace - 1;
-    if (req.m_end < req.m_start) {
-        request_parse_status = Http::scBadRequest; // missing URI?
-        return -1;
-    }
+        // header lines must start with the name (case insensitive)
+        if (p.substr(0, namelen).caseCmp(name, namelen))
+            continue;
 
-    // First non-whitespace after first SP = beginning of URL+Version
-    if (second_word > line_end || second_word < req.start) {
-        request_parse_status = Http::scBadRequest; // missing URI
-        return -1;
-    }
-    req.u_start = second_word;
+        // then a COLON
+        if (p[namelen] != ':')
+            continue;
 
-    // RFC 1945: SP and version following URI are optional, marking version 0.9
-    // we identify this by the last whitespace being earlier than URI start
-    if (last_whitespace < second_word && last_whitespace >= req.start) {
-        req.v_maj = 0;
-        req.v_min = 9;
-        req.u_end = line_end;
-        request_parse_status = Http::scOkay; // HTTP/0.9
-        return 1;
-    } else {
-        // otherwise last whitespace is somewhere after end of URI.
-        req.u_end = last_whitespace;
-        // crop any trailing whitespace in the area we think of as URI
-        for (; req.u_end >= req.u_start && xisspace(buf[req.u_end]); --req.u_end);
-    }
-    if (req.u_end < req.u_start) {
-        request_parse_status = Http::scBadRequest; // missing URI
-        return -1;
-    }
+        // drop any trailing *CR sequence
+        p.trim(crlf, false, true);
 
-    // Last whitespace SP = before start of protocol/version
-    if (last_whitespace >= line_end) {
-        request_parse_status = Http::scBadRequest; // missing version
-        return -1;
-    }
-    req.v_start = last_whitespace + 1;
-    req.v_end = line_end;
+        debugs(25, 5, "checking " << p);
+        p.consume(namelen + 1);
 
-    // We only accept HTTP protocol requests right now.
-    // TODO: accept other protocols; RFC 2326 (RTSP protocol) etc
-    if ((req.v_end - req.v_start +1) < 5 || strncasecmp(&buf[req.v_start], "HTTP/", 5) != 0) {
-#if USE_HTTP_VIOLATIONS
-        // being lax; old parser accepted strange versions
-        // there is a LOT of cases which are ambiguous, therefore we cannot use relaxed_header_parser here.
-        req.v_maj = 0;
-        req.v_min = 9;
-        req.u_end = line_end;
-        request_parse_status = Http::scOkay; // treat as HTTP/0.9
-        return 1;
-#else
-        // protocol not supported / implemented.
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-#endif
-    }
+        // TODO: optimize SBuf::trim to take CharacterSet directly
+        ::Parser::Tokenizer t(p);
+        t.skipAll(CharacterSet::WSP);
+        p = t.remaining();
 
-    int i = req.v_start + sizeof("HTTP/") -1;
+        // prevent buffer overrun on char header[];
+        p.chop(0, sizeof(header)-1);
 
-    /* next should be 1 or more digits */
-    if (!isdigit(buf[i])) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    int maj = 0;
-    for (; i <= line_end && (isdigit(buf[i])) && maj < 65536; ++i) {
-        maj = maj * 10;
-        maj = maj + (buf[i]) - '0';
+        // return the header field-value
+        xstrncpy(header, p.rawContent(), p.length());
+        debugs(25, 5, "returning " << header);
+        return header;
     }
-    // catch too-big values or missing remainders
-    if (maj >= 65536 || i > line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    req.v_maj = maj;
 
-    /* next should be .; we -have- to have this as we have a whole line.. */
-    if (buf[i] != '.') {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    // catch missing minor part
-    if (++i > line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    /* next should be one or more digits */
-    if (!isdigit(buf[i])) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    int min = 0;
-    for (; i <= line_end && (isdigit(buf[i])) && min < 65536; ++i) {
-        min = min * 10;
-        min = min + (buf[i]) - '0';
-    }
-    // catch too-big values or trailing garbage
-    if (min >= 65536 || i < line_end) {
-        request_parse_status = Http::scHttpVersionNotSupported;
-        return -1;
-    }
-    req.v_min = min;
-
-    /*
-     * Rightio - we have all the schtuff. Return true; we've got enough.
-     */
-    request_parse_status = Http::scOkay;
-    return 1;
-}
-
-int
-HttpParserParseReqLine(HttpParser *hmsg)
-{
-    PROF_start(HttpParserParseReqLine);
-    int retcode = hmsg->parseRequestFirstLine();
-    debugs(74, 5, "Parser: retval " << retcode << ": from " << hmsg->req.start <<
-           "->" << hmsg->req.end << ": method " << hmsg->req.m_start << "->" <<
-           hmsg->req.m_end << "; url " << hmsg->req.u_start << "->" << hmsg->req.u_end <<
-           "; version " << hmsg->req.v_start << "->" << hmsg->req.v_end << " (" << hmsg->req.v_maj <<
-           "/" << hmsg->req.v_min << ")");
-    PROF_stop(HttpParserParseReqLine);
-    return retcode;
-}
-
-#if MSGDODEBUG
-/* XXX This should eventually turn into something inlined or #define'd */
-int
-HttpParserReqSz(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->req.start != -1);
-    assert(hp->req.end != -1);
-    return hp->req.end - hp->req.start + 1;
-}
-
-/*
- * This +1 makes it 'right' but won't make any sense if
- * there's a 0 byte header? This won't happen normally - a valid header
- * is at -least- a blank line (\n, or \r\n.)
- */
-int
-HttpParserHdrSz(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->hdr_start != -1);
-    assert(hp->hdr_end != -1);
-    return hp->hdr_end - hp->hdr_start + 1;
-}
-
-const char *
-HttpParserHdrBuf(HttpParser *hp)
-{
-    assert(hp->state == HTTP_PARSE_NEW);
-    assert(hp->hdr_start != -1);
-    assert(hp->hdr_end != -1);
-    return hp->buf + hp->hdr_start;
+    return NULL;
 }
-
-int
-HttpParserRequestLen(HttpParser *hp)
-{
-    return hp->hdr_end - hp->req.start + 1;
-}
-#endif
-

=== renamed file 'src/HttpParser.h' => 'src/http/one/Parser.h'
--- src/HttpParser.h	2014-09-13 13:59:43 +0000
+++ src/http/one/Parser.h	2014-10-15 08:18:33 +0000
@@ -1,104 +1,110 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
-#ifndef _SQUID_SRC_HTTPPARSER_H
-#define _SQUID_SRC_HTTPPARSER_H
+#ifndef _SQUID_SRC_HTTP_ONE_PARSER_H
+#define _SQUID_SRC_HTTP_ONE_PARSER_H
 
-#include "http/StatusCode.h"
+#include "anyp/ProtocolVersion.h"
+#include "http/one/forward.h"
+#include "SBuf.h"
+
+namespace Http {
+namespace One {
 
 // Parser states
-#define HTTP_PARSE_NONE   0 // nothing. completely unset state.
-#define HTTP_PARSE_NEW    1 // initialized, but nothing usefully parsed yet.
+enum ParseState {
+    HTTP_PARSE_NONE,     ///< initialized, but nothing usefully parsed yet
+    HTTP_PARSE_FIRST,    ///< HTTP/1 message first-line
+    HTTP_PARSE_MIME,     ///< HTTP/1 mime-header block
+    HTTP_PARSE_DONE      ///< parsed a message header, or reached a terminal syntax error
+};
 
-/** HTTP protocol parser.
+/** HTTP/1.x protocol parser
  *
  * Works on a raw character I/O buffer and tokenizes the content into
- * either an error state or, an HTTP procotol request major segments:
- *  1. Request Line (method, URL, protocol, version)
- *  2. Mime header block
+ * the major CRLF delimited segments of an HTTP/1 procotol message:
+ *
+ * \item first-line (request-line / simple-request / status-line)
+ * \item mime-header 0*( header-name ':' SP field-value CRLF)
  */
-class HttpParser
+class Parser : public RefCountable
 {
 public:
-    HttpParser() { clear(); }
+    typedef SBuf::size_type size_type;
 
-    /** Initialize a new parser.
-     * Presenting it a buffer to work on and the current length of available
-     * data.
-     * NOTE: This is *not* the buffer size, just the parse-able data length.
-     * The parse routines may be called again later with more data.
-     */
-    HttpParser(const char *aBuf, int len) { reset(aBuf,len); };
+    Parser() : parsingStage_(HTTP_PARSE_NONE) {}
+    virtual ~Parser() {}
 
     /// Set this parser back to a default state.
     /// Will DROP any reference to a buffer (does not free).
-    void clear();
+    virtual void clear() = 0;
+
+    /// attempt to parse a message from the buffer
+    /// \retval true if a full message was found and parsed
+    /// \retval false if incomplete, invalid or no message was found
+    virtual bool parse(const SBuf &aBuf) = 0;
+
+    /** Whether the parser is waiting on more data to complete parsing a message.
+     * Use to distinguish between incomplete data and error results
+     * when parse() returns false.
+     */
+    bool needsMoreData() const {return parsingStage_!=HTTP_PARSE_DONE;}
+
+    /// size in bytes of the first line including CRLF terminator
+    virtual size_type firstLineSize() const = 0;
 
-    /// Reset the parser for use on a new buffer.
-    void reset(const char *aBuf, int len);
+    /// size in bytes of the message headers including CRLF terminator(s)
+    /// but excluding first-line bytes
+    size_type headerBlockSize() const {return mimeHeaderBlock_.length();}
+
+    /// size in bytes of HTTP message block, includes first-line and mime headers
+    /// excludes any body/entity/payload bytes
+    /// excludes any garbage prefix before the first-line
+    size_type messageHeaderSize() const {return firstLineSize() + headerBlockSize();}
+
+    /// buffer containing HTTP mime headers, excluding message first-line.
+    SBuf mimeHeader() const {return mimeHeaderBlock_;}
+
+    /// the protocol label for this message
+    const AnyP::ProtocolVersion & messageProtocol() const {return msgProtocol_;}
 
     /**
-     * Attempt to parse the first line of a new request message.
+     * Scan the mime header block (badly) for a header with teh given name.
      *
-     * Governed by:
-     *  RFC 1945 section 5.1
-     *  RFC 2616 section 5.1
+     * BUG: omits lines when searching for headers with obs-fold or multiple entries.
      *
-     * Parsing state is stored between calls. However the current implementation
-     * begins parsing from scratch on every call.
-     * The return value tells you whether the parsing state fields are valid or not.
+     * BUG: limits output to just 1KB when Squid accepts up to 64KB line length.
      *
-     * \retval -1  an error occurred. request_parse_status indicates HTTP status result.
-     * \retval  1  successful parse. member fields contain the request-line items
-     * \retval  0  more data is needed to complete the parse
+     * \return A pointer to a field-value of the first matching field-name, or NULL.
      */
-    int parseRequestFirstLine();
+    char *getHeaderField(const char *name);
 
-public:
-    uint8_t state;
-    const char *buf;
-    int bufsiz;
-
-    /// Offsets for pieces of the (HTTP request) Request-Line as per RFC 2616
-    struct request_offsets {
-        int start, end;
-        int m_start, m_end; // method
-        int u_start, u_end; // url
-        int v_start, v_end; // version (full text)
-        int v_maj, v_min;   // version numerics
-    } req;
+    /// the remaining unprocessed section of buffer
+    const SBuf &remaining() const {return buf_;}
 
-    // Offsets for pieces of the MiME Header segment
-    int hdr_start, hdr_end;
+protected:
+    /// RFC 7230 section 2.6 - 7 magic octets
+    static const SBuf Http1magic;
 
-    // TODO: Offsets for pieces of the (HTTP reply) Status-Line as per RFC 2616
+    /// bytes remaining to be parsed
+    SBuf buf_;
 
-    /** HTTP status code to be used on the invalid-request error page
-     * Http::scNone indicates incomplete parse, Http::scOkay indicates no error.
-     */
-    Http::StatusCode request_parse_status;
+    /// what stage the parser is currently up to
+    ParseState parsingStage_;
+
+    /// what protocol label has been found in the first line (if any)
+    AnyP::ProtocolVersion msgProtocol_;
+
+    /// buffer holding the mime headers (if any)
+    SBuf mimeHeaderBlock_;
 };
 
-// Legacy functions
-#define HttpParserInit(h,b,l) (h)->reset((b),(l))
-int HttpParserParseReqLine(HttpParser *hp);
-
-#define MSGDODEBUG 0
-#if MSGDODEBUG
-int HttpParserReqSz(HttpParser *);
-int HttpParserHdrSz(HttpParser *);
-const char * HttpParserHdrBuf(HttpParser *);
-int HttpParserRequestLen(HttpParser *hp);
-#else
-#define HttpParserReqSz(hp)     ( (hp)->req.end - (hp)->req.start + 1 )
-#define HttpParserHdrSz(hp)     ( (hp)->hdr_end - (hp)->hdr_start + 1 )
-#define HttpParserHdrBuf(hp)    ( (hp)->buf + (hp)->hdr_start )
-#define HttpParserRequestLen(hp)        ( (hp)->hdr_end - (hp)->req.start + 1 )
-#endif
+} // namespace One
+} // namespace Http
 
-#endif /*  _SQUID_SRC_HTTPPARSER_H */
+#endif /*  _SQUID_SRC_HTTP_ONE_PARSER_H */

=== added file 'src/http/one/RequestParser.cc'
--- src/http/one/RequestParser.cc	1970-01-01 00:00:00 +0000
+++ src/http/one/RequestParser.cc	2014-10-15 09:32:12 +0000
@@ -0,0 +1,356 @@
+#include "squid.h"
+#include "Debug.h"
+#include "http/one/RequestParser.h"
+#include "http/ProtocolVersion.h"
+#include "mime_header.h"
+#include "profiler/Profiler.h"
+#include "SquidConfig.h"
+
+Http::One::RequestParser::RequestParser() :
+        Parser(),
+        request_parse_status(Http::scNone)
+{
+    req.start = req.end = -1;
+    req.m_start = req.m_end = -1;
+    req.u_start = req.u_end = -1;
+    req.v_start = req.v_end = -1;
+}
+
+/**
+ * Attempt to parse the first line of a new request message.
+ *
+ * Governed by RFC 7230 section 3.5
+ *  "
+ *    In the interest of robustness, a server that is expecting to receive
+ *    and parse a request-line SHOULD ignore at least one empty line (CRLF)
+ *    received prior to the request-line.
+ *  "
+ *
+ * Parsing state is stored between calls to avoid repeating buffer scans.
+ * If garbage is found the parsing offset is incremented.
+ */
+void
+Http::One::RequestParser::skipGarbageLines()
+{
+    if (Config.onoff.relaxed_header_parser) {
+        if (Config.onoff.relaxed_header_parser < 0 && (buf_[0] == '\r' || buf_[0] == '\n'))
+            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                   "CRLF bytes received ahead of request-line. " <<
+                   "Ignored due to relaxed_header_parser.");
+        // Be tolerant of prefix empty lines
+        // ie any series of either \n or \r\n with no other characters and no repeated \r
+        while (!buf_.isEmpty() && (buf_[0] == '\n' || (buf_[0] == '\r' && buf_[1] == '\n'))) {
+            buf_.consume(1);
+        }
+    }
+
+    /* XXX: this is a Squid-specific tolerance
+     * it appears never to have been relevant outside out unit-tests
+     * because the ConnStateData parser loop starts with consumeWhitespace()
+     * which absorbs any SP HTAB VTAB CR LF characters.
+     * But unit-tests called the HttpParser method directly without that pruning.
+     */
+#if USE_HTTP_VIOLATIONS
+    if (Config.onoff.relaxed_header_parser) {
+        if (Config.onoff.relaxed_header_parser < 0 && buf_[0] == ' ')
+            debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                   "Whitespace bytes received ahead of method. " <<
+                   "Ignored due to relaxed_header_parser.");
+        // Be tolerant of prefix spaces (other bytes are valid method values)
+        while (!buf_.isEmpty() && buf_[0] == ' ') {
+            buf_.consume(1);
+        }
+    }
+#endif
+}
+
+/**
+ * Attempt to parse the first line of a new request message.
+ *
+ * Governed by:
+ *  RFC 1945 section 5.1
+ *  RFC 7230 section 3.1 and 3.5
+ *
+ * Parsing state is stored between calls. However the current implementation
+ * begins parsing from scratch on every call.
+ * The return value tells you whether the parsing state fields are valid or not.
+ *
+ * \retval -1  an error occurred. request_parse_status indicates HTTP status result.
+ * \retval  1  successful parse. member fields contain the request-line items
+ * \retval  0  more data is needed to complete the parse
+ */
+int
+Http::One::RequestParser::parseRequestFirstLine()
+{
+    int second_word = -1; // track the suspected URI start
+    int first_whitespace = -1, last_whitespace = -1; // track the first and last SP byte
+    int line_end = -1; // tracks the last byte BEFORE terminal \r\n or \n sequence
+
+    debugs(74, 5, "parsing possible request: buf.length=" << buf_.length());
+    debugs(74, DBG_DATA, buf_);
+
+    // Single-pass parse: (provided we have the whole line anyways)
+
+    req.start = 0;
+    req.end = -1;
+    for (SBuf::size_type i = 0; i < buf_.length(); ++i) {
+        // track first and last whitespace (SP only)
+        if (buf_[i] == ' ') {
+            last_whitespace = i;
+            if (first_whitespace < req.start)
+                first_whitespace = i;
+        }
+
+        // track next non-SP/non-HT byte after first_whitespace
+        if (second_word < first_whitespace && buf_[i] != ' ' && buf_[i] != '\t') {
+            second_word = i;
+        }
+
+        // locate line terminator
+        if (buf_[i] == '\n') {
+            req.end = i;
+            line_end = i - 1;
+            break;
+        }
+        if (i < buf_.length() - 1 && buf_[i] == '\r') {
+            if (Config.onoff.relaxed_header_parser) {
+                if (Config.onoff.relaxed_header_parser < 0 && buf_[i + 1] == '\r')
+                    debugs(74, DBG_IMPORTANT, "WARNING: Invalid HTTP Request: " <<
+                           "Series of carriage-return bytes received prior to line terminator. " <<
+                           "Ignored due to relaxed_header_parser.");
+
+                // Be tolerant of invalid multiple \r prior to terminal \n
+                if (buf_[i + 1] == '\n' || buf_[i + 1] == '\r')
+                    line_end = i - 1;
+                while (i < buf_.length() - 1 && buf_[i + 1] == '\r')
+                    ++i;
+
+                if (buf_[i + 1] == '\n') {
+                    req.end = i + 1;
+                    break;
+                }
+            } else {
+                if (buf_[i + 1] == '\n') {
+                    req.end = i + 1;
+                    line_end = i - 1;
+                    break;
+                }
+            }
+
+            // RFC 7230 section 3.1.1 does not prohibit embeded CR like RFC 2616 used to.
+            // However it does explicitly state an exact syntax which omits un-encoded CR
+            // and defines 400 (Bad Request) as the required action when
+            // handed an invalid request-line.
+            request_parse_status = Http::scBadRequest;
+            return -1;
+        }
+    }
+
+    if (req.end == -1) {
+        // DoS protection against long first-line
+        if ((size_t)buf_.length() >= Config.maxRequestHeaderSize) {
+            debugs(33, 5, "Too large request-line");
+            // RFC 7230 section 3.1.1 mandatory 414 response if URL longer than acceptible.
+            request_parse_status = Http::scUriTooLong;
+            return -1;
+        }
+
+        debugs(74, 5, "Parser: retval 0: from " << req.start <<
+               "->" << req.end << ": needs more data to complete first line.");
+        return 0;
+    }
+
+    // NP: we have now seen EOL, more-data (0) cannot occur.
+    //     From here on any failure is -1, success is 1
+
+    // Input Validation:
+
+    // DoS protection against long first-line
+    if ((size_t)(req.end-req.start) >= Config.maxRequestHeaderSize) {
+        debugs(33, 5, "Too large request-line");
+        request_parse_status = Http::scUriTooLong;
+        return -1;
+    }
+
+    // Process what we now know about the line structure into field offsets
+    // generating HTTP status for any aborts as we go.
+
+    // First non-whitespace = beginning of method
+    if (req.start > line_end) {
+        request_parse_status = Http::scBadRequest;
+        return -1;
+    }
+    req.m_start = req.start;
+
+    // First whitespace = end of method
+    if (first_whitespace > line_end || first_whitespace < req.start) {
+        request_parse_status = Http::scBadRequest; // no method
+        return -1;
+    }
+    req.m_end = first_whitespace - 1;
+    if (req.m_end < req.m_start) {
+        request_parse_status = Http::scBadRequest; // missing URI?
+        return -1;
+    }
+
+    /* Set method_ */
+    const SBuf tmp = buf_.substr(req.m_start, req.m_end - req.m_start + 1);
+    method_ = HttpRequestMethod(tmp);
+
+    // First non-whitespace after first SP = beginning of URL+Version
+    if (second_word > line_end || second_word < req.start) {
+        request_parse_status = Http::scBadRequest; // missing URI
+        return -1;
+    }
+    req.u_start = second_word;
+
+    // RFC 1945: SP and version following URI are optional, marking version 0.9
+    // we identify this by the last whitespace being earlier than URI start
+    if (last_whitespace < second_word && last_whitespace >= req.start) {
+        msgProtocol_ = Http::ProtocolVersion(0,9);
+        req.u_end = line_end;
+        uri_ = buf_.substr(req.u_start, req.u_end - req.u_start + 1);
+        request_parse_status = Http::scOkay; // HTTP/0.9
+        return 1;
+    } else {
+        // otherwise last whitespace is somewhere after end of URI.
+        req.u_end = last_whitespace;
+        // crop any trailing whitespace in the area we think of as URI
+        for (; req.u_end >= req.u_start && xisspace(buf_[req.u_end]); --req.u_end);
+    }
+    if (req.u_end < req.u_start) {
+        request_parse_status = Http::scBadRequest; // missing URI
+        return -1;
+    }
+    uri_ = buf_.substr(req.u_start, req.u_end - req.u_start + 1);
+
+    // Last whitespace SP = before start of protocol/version
+    if (last_whitespace >= line_end) {
+        request_parse_status = Http::scBadRequest; // missing version
+        return -1;
+    }
+    req.v_start = last_whitespace + 1;
+    req.v_end = line_end;
+
+    /* RFC 7230 section 2.6 : handle unsupported HTTP major versions cleanly. */
+    if ((req.v_end - req.v_start +1) < (int)Http1magic.length() || !buf_.substr(req.v_start, SBuf::npos).startsWith(Http1magic)) {
+        // non-HTTP/1 protocols not supported / implemented.
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    // NP: magic octets include the protocol name and major version DIGIT.
+    msgProtocol_.protocol = AnyP::PROTO_HTTP;
+    msgProtocol_.major = 1;
+
+    int i = req.v_start + Http1magic.length() -1;
+
+    // catch missing minor part
+    if (++i > line_end) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    /* next should be one or more digits */
+    if (!isdigit(buf_[i])) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    int min = 0;
+    for (; i <= line_end && (isdigit(buf_[i])) && min < 65536; ++i) {
+        min = min * 10;
+        min = min + (buf_[i]) - '0';
+    }
+    // catch too-big values or trailing garbage
+    if (min >= 65536 || i < line_end) {
+        request_parse_status = Http::scHttpVersionNotSupported;
+        return -1;
+    }
+    msgProtocol_.minor = min;
+
+    /*
+     * Rightio - we have all the schtuff. Return true; we've got enough.
+     */
+    request_parse_status = Http::scOkay;
+    return 1;
+}
+
+bool
+Http::One::RequestParser::parse(const SBuf &aBuf)
+{
+    buf_ = aBuf;
+    debugs(74, DBG_DATA, "Parse buf={length=" << aBuf.length() << ", data='" << aBuf << "'}");
+
+    // stage 1: locate the request-line
+    if (parsingStage_ == HTTP_PARSE_NONE) {
+        skipGarbageLines();
+
+        // if we hit something before EOS treat it as a message
+        if (!buf_.isEmpty())
+            parsingStage_ = HTTP_PARSE_FIRST;
+        else
+            return false;
+    }
+
+    // stage 2: parse the request-line
+    if (parsingStage_ == HTTP_PARSE_FIRST) {
+        PROF_start(HttpParserParseReqLine);
+        const int retcode = parseRequestFirstLine();
+
+        // first-line (or a look-alike) found successfully.
+        if (retcode > 0) {
+            buf_.consume(firstLineSize()); // first line bytes including CRLF terminator are now done.
+            parsingStage_ = HTTP_PARSE_MIME;
+        }
+
+        debugs(74, 5, "request-line: retval " << retcode << ": from " << req.start << "->" << req.end <<
+               " line={" << aBuf.length() << ", data='" << aBuf << "'}");
+        debugs(74, 5, "request-line: method " << req.m_start << "->" << req.m_end << " (" << method_ << ")");
+        debugs(74, 5, "request-line: url " << req.u_start << "->" << req.u_end << " (" << uri_ << ")");
+        debugs(74, 5, "request-line: proto " << req.v_start << "->" << req.v_end << " (" << msgProtocol_ << ")");
+        debugs(74, 5, "Parser: bytes processed=" << (aBuf.length()-buf_.length()));
+        PROF_stop(HttpParserParseReqLine);
+
+        // syntax errors already
+        if (retcode < 0) {
+            parsingStage_ = HTTP_PARSE_DONE;
+            return false;
+        }
+    }
+
+    // stage 3: locate the mime header block
+    if (parsingStage_ == HTTP_PARSE_MIME) {
+        // HTTP/1.x request-line is valid and parsing completed.
+        if (msgProtocol_.major == 1) {
+            /* NOTE: HTTP/0.9 requests do not have a mime header block.
+             *       So the rest of the code will need to deal with '0'-byte headers
+             *       (ie, none, so don't try parsing em)
+             */
+            int64_t mimeHeaderBytes = 0;
+            // XXX: c_str() reallocates. performance regression.
+            if ((mimeHeaderBytes = headersEnd(buf_.c_str(), buf_.length())) == 0) {
+                if (buf_.length()+firstLineSize() >= Config.maxRequestHeaderSize) {
+                    debugs(33, 5, "Too large request");
+                    request_parse_status = Http::scRequestHeaderFieldsTooLarge;
+                    parsingStage_ = HTTP_PARSE_DONE;
+                } else
+                    debugs(33, 5, "Incomplete request, waiting for end of headers");
+                return false;
+            }
+            mimeHeaderBlock_ = buf_.consume(mimeHeaderBytes);
+            debugs(74, 5, "mime header (0-" << mimeHeaderBytes << ") {" << mimeHeaderBlock_ << "}");
+
+        } else
+            debugs(33, 3, "Missing HTTP/1.x identifier");
+
+        // NP: we do not do any further stages here yet so go straight to DONE
+        parsingStage_ = HTTP_PARSE_DONE;
+
+        // Squid could handle these headers, but admin does not want to
+        if (messageHeaderSize() >= Config.maxRequestHeaderSize) {
+            debugs(33, 5, "Too large request");
+            request_parse_status = Http::scRequestHeaderFieldsTooLarge;
+            return false;
+        }
+    }
+
+    return !needsMoreData();
+}

=== added file 'src/http/one/RequestParser.h'
--- src/http/one/RequestParser.h	1970-01-01 00:00:00 +0000
+++ src/http/one/RequestParser.h	2014-10-15 08:19:57 +0000
@@ -0,0 +1,65 @@
+#ifndef _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H
+#define _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H
+
+#include "http/one/Parser.h"
+#include "http/RequestMethod.h"
+#include "http/StatusCode.h"
+
+namespace Http {
+namespace One {
+
+/** HTTP/1.x protocol request parser
+ *
+ * Works on a raw character I/O buffer and tokenizes the content into
+ * the major CRLF delimited segments of an HTTP/1 request message:
+ *
+ * \item request-line (method, URL, protocol, version)
+ * \item mime-header (set of RFC2616 syntax header fields)
+ */
+class RequestParser : public Http1::Parser
+{
+public:
+    RequestParser();
+    virtual ~RequestParser() {}
+
+    /* Http::One::Parser API */
+    virtual void clear() {*this = RequestParser();}
+    virtual Http1::Parser::size_type firstLineSize() const {return req.end - req.start + 1;}
+    virtual bool parse(const SBuf &aBuf);
+
+    /// the HTTP method if this is a request message
+    const HttpRequestMethod & method() const {return method_;}
+
+    /// the request-line URI if this is a request message, or an empty string.
+    const SBuf &requestUri() const {return uri_;}
+
+    /** HTTP status code to be used on the invalid-request error page.
+     * Http::scNone indicates incomplete parse,
+     * Http::scOkay indicates no error.
+     */
+    Http::StatusCode request_parse_status;
+
+private:
+    void skipGarbageLines();
+    int parseRequestFirstLine();
+
+    /// Offsets for pieces of the (HTTP request) Request-Line as per RFC 7230 section 3.1.1.
+    /// only valid before and during parse stage HTTP_PARSE_FIRST
+    struct request_offsets {
+        int start, end;
+        int m_start, m_end; // method
+        int u_start, u_end; // url
+        int v_start, v_end; // version (full text)
+    } req;
+
+    /// what request method has been found on the first line
+    HttpRequestMethod method_;
+
+    /// raw copy of the original client reqeust-line URI field
+    SBuf uri_;
+};
+
+} // namespace One
+} // namespace Http
+
+#endif /*  _SQUID_SRC_HTTP_ONE_REQUESTPARSER_H */

=== added file 'src/http/one/forward.h'
--- src/http/one/forward.h	1970-01-01 00:00:00 +0000
+++ src/http/one/forward.h	2014-07-30 07:38:25 +0000
@@ -0,0 +1,20 @@
+#ifndef SQUID_SRC_HTTP_ONE_FORWARD_H
+#define SQUID_SRC_HTTP_ONE_FORWARD_H
+
+#include "base/RefCount.h"
+
+namespace Http {
+namespace One {
+
+class Parser;
+typedef RefCount<Http::One::Parser> ParserPointer;
+
+class RequestParser;
+typedef RefCount<Http::One::RequestParser> RequestParserPointer;
+
+} // namespace One
+} // namespace Http
+
+namespace Http1 = Http::One;
+
+#endif /* SQUID_SRC_HTTP_ONE_FORWARD_H */

=== modified file 'src/mgr/ActionParams.cc'
--- src/mgr/ActionParams.cc	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionParams.cc	2014-10-15 06:22:51 +0000
@@ -6,41 +6,41 @@
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #include "squid.h"
 #include "base/TextException.h"
 #include "ipc/TypedMsgHdr.h"
 #include "mgr/ActionParams.h"
 
 Mgr::ActionParams::ActionParams(): httpMethod(Http::METHOD_NONE)
 {
 }
 
 Mgr::ActionParams::ActionParams(const Ipc::TypedMsgHdr &msg)
 {
     msg.getString(httpUri);
 
     String method;
     msg.getString(method);
-    httpMethod = HttpRequestMethod(method.termedBuf(), NULL);
+    httpMethod.HttpRequestMethodXXX(method.termedBuf());
 
     msg.getPod(httpFlags);
     msg.getString(httpOrigin);
 
     msg.getString(actionName);
     msg.getString(userName);
     msg.getString(password);
     queryParams.unpack(msg);
 }
 
 void
 Mgr::ActionParams::pack(Ipc::TypedMsgHdr &msg) const
 {
     msg.putString(httpUri);
     String foo(httpMethod.image().toString());
     msg.putString(foo);
     msg.putPod(httpFlags);
     msg.putString(httpOrigin);
 
     msg.putString(actionName);

=== modified file 'src/mgr/ActionParams.h'
--- src/mgr/ActionParams.h	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionParams.h	2014-09-14 12:23:03 +0000
@@ -1,34 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_ACTION_PARAMS_H
 #define SQUID_MGR_ACTION_PARAMS_H
 
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "ipc/forward.h"
 #include "mgr/QueryParams.h"
 #include "RequestFlags.h"
 
 namespace Mgr
 {
 
 /// Cache Manager Action parameters extracted from the user request
 class ActionParams
 {
 public:
     ActionParams();
 
     explicit ActionParams(const Ipc::TypedMsgHdr &msg); ///< load from msg
     void pack(Ipc::TypedMsgHdr &msg) const; ///< store into msg
 
 public:
     /* details of the client HTTP request that caused the action */
     String httpUri; ///< HTTP request URI
     HttpRequestMethod httpMethod; ///< HTTP request method

=== modified file 'src/mgr/ActionWriter.h'
--- src/mgr/ActionWriter.h	2014-09-13 13:59:43 +0000
+++ src/mgr/ActionWriter.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_ACTION_WRITER_H
 #define SQUID_MGR_ACTION_WRITER_H
 
 #include "comm/forward.h"
-#include "HttpRequestMethod.h"
 #include "mgr/StoreToCommWriter.h"
 
 namespace Mgr
 {
 
 /// Creates Store entry, fills it using action's fillEntry(), and
 /// Comm-writes it using parent StoreToCommWriter.
 class ActionWriter: public StoreToCommWriter
 {
 public:
     ActionWriter(const Action::Pointer &anAction, const Comm::ConnectionPointer &conn);
 
 protected:
     /* AsyncJob API */
     virtual void start();
 
 private:
     Action::Pointer action; ///< action that fills the entry
 
     CBDATA_CLASS2(ActionWriter);

=== modified file 'src/mgr/Filler.h'
--- src/mgr/Filler.h	2014-09-13 13:59:43 +0000
+++ src/mgr/Filler.h	2014-09-14 12:23:03 +0000
@@ -1,35 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 16    Cache Manager API */
 
 #ifndef SQUID_MGR_FILLER_H
 #define SQUID_MGR_FILLER_H
 
 #include "comm/forward.h"
-#include "HttpRequestMethod.h"
 #include "mgr/Action.h"
 #include "mgr/StoreToCommWriter.h"
 
 namespace Mgr
 {
 
 /// provides Coordinator with a local cache manager response
 class Filler: public StoreToCommWriter
 {
 public:
     Filler(const Action::Pointer &anAction, const Comm::ConnectionPointer &conn, unsigned int aRequestId);
 
 protected:
     /* AsyncJob API */
     virtual void start();
     virtual void swanSong();
 
 private:
     Action::Pointer action; ///< action that will run() and sendResponse()
     unsigned int requestId; ///< the ID of the Request we are responding to

=== modified file 'src/mime.cc'
--- src/mime.cc	2014-09-13 13:59:43 +0000
+++ src/mime.cc	2014-09-14 12:23:03 +0000
@@ -12,42 +12,40 @@
 #include "disk.h"
 #include "fde.h"
 #include "globals.h"
 #include "HttpHdrCc.h"
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "internal.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "MemObject.h"
 #include "mime.h"
 #include "RequestFlags.h"
 #include "SquidConfig.h"
 #include "Store.h"
 #include "StoreClient.h"
 
 #if HAVE_SYS_STAT_H
 #include <sys/stat.h>
 #endif
 
-#define GET_HDR_SZ 1024
-
 /* forward declarations */
 static void mimeFreeMemory(void);
 static char const *mimeGetIcon(const char *fn);
 
 class MimeIcon : public StoreClient
 {
 public:
     explicit MimeIcon(const char *aName);
     ~MimeIcon();
     void setName(char const *);
     char const * getName() const;
     void load();
     void created(StoreEntry *newEntry);
     MEMPROXY_CLASS(MimeIcon);
 
 private:
     const char *icon_;
     char *url_;
 };
 MEMPROXY_CLASS_INLINE(MimeIcon);

=== modified file 'src/mime_header.cc'
--- src/mime_header.cc	2014-09-13 13:59:43 +0000
+++ src/mime_header.cc	2014-09-14 12:23:03 +0000
@@ -1,116 +1,34 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 25    MiME Header Parsing */
 
 #include "squid.h"
-
-#define GET_HDR_SZ 1024
 #include "Debug.h"
 #include "profiler/Profiler.h"
 
-/*
- * returns a pointer to a field-value of the first matching field-name where
- * field-value matches prefix if any
- */
-char *
-mime_get_header_field(const char *mime, const char *name, const char *prefix)
-{
-    LOCAL_ARRAY(char, header, GET_HDR_SZ);
-    const char *p = NULL;
-    char *q = NULL;
-    char got = 0;
-    const int namelen = name ? strlen(name) : 0;
-    const int preflen = prefix ? strlen(prefix) : 0;
-    int l;
-
-    if (NULL == mime)
-        return NULL;
-
-    assert(NULL != name);
-
-    debugs(25, 5, "mime_get_header: looking for '" << name << "'");
-
-    for (p = mime; *p; p += strcspn(p, "\n\r")) {
-        if (strcmp(p, "\r\n\r\n") == 0 || strcmp(p, "\n\n") == 0)
-            return NULL;
-
-        while (xisspace(*p))
-            ++p;
-
-        if (strncasecmp(p, name, namelen))
-            continue;
-
-        if (!xisspace(p[namelen]) && p[namelen] != ':')
-            continue;
-
-        l = strcspn(p, "\n\r") + 1;
-
-        if (l > GET_HDR_SZ)
-            l = GET_HDR_SZ;
-
-        xstrncpy(header, p, l);
-
-        debugs(25, 5, "mime_get_header: checking '" << header << "'");
-
-        q = header;
-
-        q += namelen;
-
-        if (*q == ':') {
-            ++q;
-            got = 1;
-        }
-
-        while (xisspace(*q)) {
-            ++q;
-            got = 1;
-        }
-
-        if (got && prefix) {
-            /* we could process list entries here if we had strcasestr(). */
-            /* make sure we did not match a part of another field-value */
-            got = !strncasecmp(q, prefix, preflen) && !xisalpha(q[preflen]);
-        }
-
-        if (got) {
-            debugs(25, 5, "mime_get_header: returning '" << q << "'");
-            return q;
-        }
-    }
-
-    return NULL;
-}
-
-/* returns a pointer to a field-value of the first matching field-name */
-char *
-mime_get_header(const char *mime, const char *name)
-{
-    return mime_get_header_field(mime, name, NULL);
-}
-
 size_t
 headersEnd(const char *mime, size_t l)
 {
     size_t e = 0;
     int state = 1;
 
     PROF_start(headersEnd);
 
     while (e < l && state < 3) {
         switch (state) {
 
         case 0:
 
             if ('\n' == mime[e])
                 state = 1;
 
             break;
 
         case 1:
             if ('\r' == mime[e])

=== modified file 'src/mime_header.h'
--- src/mime_header.h	2014-09-13 13:59:43 +0000
+++ src/mime_header.h	2014-09-14 12:23:03 +0000
@@ -1,18 +1,16 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 25    MiME Header Parsing */
 
 #ifndef SQUID_MIME_HEADER_H_
 #define SQUID_MIME_HEADER_H_
 
-char *mime_get_header(const char *mime, const char *header);
-char *mime_get_header_field(const char *mime, const char *name, const char *prefix);
 size_t headersEnd(const char *, size_t);
 
 #endif /* SQUID_MIME_HEADER_H_ */

=== modified file 'src/servers/FtpServer.cc'
--- src/servers/FtpServer.cc	2014-09-29 05:13:17 +0000
+++ src/servers/FtpServer.cc	2014-10-05 10:43:33 +0000
@@ -7,40 +7,41 @@
  */
 
 /* DEBUG: section 33    Transfer protocol servers */
 
 #include "squid.h"
 #include "base/CharacterSet.h"
 #include "base/RefCount.h"
 #include "base/Subscription.h"
 #include "client_side_reply.h"
 #include "client_side_request.h"
 #include "clientStream.h"
 #include "comm/ConnOpener.h"
 #include "comm/Read.h"
 #include "comm/TcpAcceptor.h"
 #include "comm/Write.h"
 #include "errorpage.h"
 #include "fd.h"
 #include "ftp/Elements.h"
 #include "ftp/Parsing.h"
 #include "globals.h"
+#include "http/one/RequestParser.h"
 #include "HttpHdrCc.h"
 #include "ip/tools.h"
 #include "ipc/FdNotes.h"
 #include "parser/Tokenizer.h"
 #include "servers/forward.h"
 #include "servers/FtpServer.h"
 #include "SquidConfig.h"
 #include "StatCounters.h"
 #include "tools.h"
 
 #include <set>
 #include <map>
 
 CBDATA_NAMESPACED_CLASS_INIT(Ftp, Server);
 
 namespace Ftp
 {
 static void PrintReply(MemBuf &mb, const HttpReply *reply, const char *const prefix = "");
 static bool SupportedCommand(const SBuf &name);
 static bool CommandHasPathParameter(const SBuf &cmd);
@@ -123,49 +124,48 @@
 {
     // zero pipelinePrefetchMax() ensures that there is only parsed request
     ClientSocketContext::Pointer context = getCurrentContext();
     Must(context != NULL);
     Must(getConcurrentRequestCount() == 1);
 
     ClientHttpRequest *const http = context->http;
     assert(http != NULL);
 
     HttpRequest *const request = http->request;
     Must(http->storeEntry() || request);
     const bool mayForward = !http->storeEntry() && handleRequest(request);
 
     if (http->storeEntry() != NULL) {
         debugs(33, 4, "got an immediate response");
         clientSetKeepaliveFlag(http);
         context->pullData();
     } else if (mayForward) {
         debugs(33, 4, "forwarding request to server side");
         assert(http->storeEntry() == NULL);
-        clientProcessRequest(this, NULL /*parser*/, context.getRaw(),
-                             request->method, request->http_ver);
+        clientProcessRequest(this, Http1::RequestParserPointer(), context.getRaw());
     } else {
         debugs(33, 4, "will resume processing later");
     }
 }
 
 void
-Ftp::Server::processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &)
+Ftp::Server::processParsedRequest(ClientSocketContext *context)
 {
     Must(getConcurrentRequestCount() == 1);
 
     // Process FTP request asynchronously to make sure FTP
     // data connection accept callback is fired first.
     CallJobHere(33, 4, CbcPointer<Server>(this),
                 Ftp::Server, doProcessRequest);
 }
 
 /// imports more upload data from the data connection
 void
 Ftp::Server::readUploadData(const CommIoCbParams &io)
 {
     debugs(33, 5, io.conn << " size " << io.size);
     Must(reader != NULL);
     reader = NULL;
 
     assert(Comm::IsConnOpen(dataConn));
     assert(io.conn->fd == dataConn->fd);
 
@@ -601,41 +601,41 @@
         // no default so that a compiler can check that we have covered all cases
     }
 
     ClientSocketContext *context = abortRequestParsing(errUri);
     clientStreamNode *node = context->getClientReplyContext();
     Must(node);
     clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
     Must(repContext);
 
     // We cannot relay FTP scode/reason via HTTP-specific ErrorState.
     // TODO: When/if ErrorState can handle native FTP errors, use it instead.
     HttpReply *reply = Ftp::HttpReplyWrapper(scode, reason, Http::scBadRequest, -1);
     repContext->setReplyToReply(reply);
     return context;
 }
 
 /// Parses a single FTP request on the control connection.
 /// Returns a new ClientSocketContext on valid requests and all errors.
 /// Returns NULL on incomplete requests that may still succeed given more data.
 ClientSocketContext *
-Ftp::Server::parseOneRequest(Http::ProtocolVersion &ver)
+Ftp::Server::parseOneRequest()
 {
     flags.readMore = false; // common for all but one case below
 
     // OWS <command> [ RWS <parameter> ] OWS LF
 
     // InlineSpaceChars are isspace(3) or RFC 959 Section 3.1.1.5.2, except
     // for the LF character that we must exclude here (but see FullWhiteSpace).
     static const char * const InlineSpaceChars = " \f\r\t\v";
     static const CharacterSet InlineSpace = CharacterSet("Ftp::Inline", InlineSpaceChars);
     static const CharacterSet FullWhiteSpace = (InlineSpace + CharacterSet::LF).rename("Ftp::FWS");
     static const CharacterSet CommandChars = FullWhiteSpace.complement("Ftp::Command");
     static const CharacterSet TailChars = CharacterSet::LF.complement("Ftp::Tail");
 
     // This set is used to ignore empty commands without allowing an attacker
     // to keep us endlessly busy by feeding us whitespace or empty commands.
     static const CharacterSet &LeadingSpace = FullWhiteSpace;
 
     SBuf cmd;
     SBuf params;
 
@@ -702,43 +702,42 @@
 
     if (!Ftp::SupportedCommand(cmd))
         return earlyError(eekUnsupportedCommand);
 
     const HttpRequestMethod method =
         cmd == cmdAppe() || cmd == cmdStor() || cmd == cmdStou() ?
         Http::METHOD_PUT : Http::METHOD_GET;
 
     const SBuf *path = (params.length() && CommandHasPathParameter(cmd)) ?
                        &params : NULL;
     calcUri(path);
     char *newUri = xstrdup(uri.c_str());
     HttpRequest *const request = HttpRequest::CreateFromUrlAndMethod(newUri, method);
     if (!request) {
         debugs(33, 5, "Invalid FTP URL: " << uri);
         uri.clear();
         safe_free(newUri);
         return earlyError(eekInvalidUri);
     }
 
-    ver = Http::ProtocolVersion(Ftp::ProtocolVersion().major, Ftp::ProtocolVersion().minor);
     request->flags.ftpNative = true;
-    request->http_ver = ver;
+    request->http_ver = Http::ProtocolVersion(Ftp::ProtocolVersion().major, Ftp::ProtocolVersion().minor);
 
     // Our fake Request-URIs are not distinctive enough for caching to work
     request->flags.cachable = false; // XXX: reset later by maybeCacheable()
     request->flags.noCache = true;
 
     request->header.putStr(HDR_FTP_COMMAND, cmd.c_str());
     request->header.putStr(HDR_FTP_ARGUMENTS, params.c_str()); // may be ""
     if (method == Http::METHOD_PUT) {
         request->header.putStr(HDR_EXPECT, "100-continue");
         request->header.putStr(HDR_TRANSFER_ENCODING, "chunked");
     }
 
     ClientHttpRequest *const http = new ClientHttpRequest(this);
     http->request = request;
     HTTPMSGLOCK(http->request);
     http->req_sz = tok.parsedSize();
     http->uri = newUri;
 
     ClientSocketContext *const result =
         new ClientSocketContext(clientConnection, http);

=== modified file 'src/servers/FtpServer.h'
--- src/servers/FtpServer.h	2014-09-13 13:59:43 +0000
+++ src/servers/FtpServer.h	2014-09-14 12:23:03 +0000
@@ -58,42 +58,42 @@
 
     // This is a pointer in hope to minimize future changes when MasterState
     // becomes a part of MasterXaction. Guaranteed not to be nil.
     MasterState::Pointer master; ///< info shared among our FTP client and server jobs
 
 protected:
     friend void StartListening();
 
     // errors detected before it is possible to create an HTTP request wrapper
     typedef enum {
         eekHugeRequest,
         eekMissingLogin,
         eekMissingUsername,
         eekMissingHost,
         eekUnsupportedCommand,
         eekInvalidUri,
         eekMalformedCommand
     } EarlyErrorKind;
 
     /* ConnStateData API */
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver);
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver);
+    virtual ClientSocketContext *parseOneRequest();
+    virtual void processParsedRequest(ClientSocketContext *context);
     virtual void notePeerConnection(Comm::ConnectionPointer conn);
     virtual void clientPinnedConnectionClosed(const CommCloseCbParams &io);
     virtual void handleReply(HttpReply *header, StoreIOBuffer receivedData);
     virtual int pipelinePrefetchMax() const;
     virtual void writeControlMsgAndCall(ClientSocketContext *context, HttpReply *rep, AsyncCall::Pointer &call);
     virtual time_t idleTimeout() const;
 
     /* BodyPipe API */
     virtual void noteMoreBodySpaceAvailable(BodyPipe::Pointer);
     virtual void noteBodyConsumerAborted(BodyPipe::Pointer ptr);
 
     /* AsyncJob API */
     virtual void start();
 
     /* Comm callbacks */
     static void AcceptCtrlConnection(const CommAcceptCbParams &params);
     void acceptDataConnection(const CommAcceptCbParams &params);
     void readUploadData(const CommIoCbParams &io);
     void wroteEarlyReply(const CommIoCbParams &io);
     void wroteReply(const CommIoCbParams &io);

=== modified file 'src/servers/HttpServer.cc'
--- src/servers/HttpServer.cc	2014-09-13 13:59:43 +0000
+++ src/servers/HttpServer.cc	2014-09-14 12:23:03 +0000
@@ -1,71 +1,72 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 /* DEBUG: section 33    Client-side Routines */
 
 #include "squid.h"
 #include "client_side.h"
 #include "client_side_request.h"
 #include "comm/Write.h"
 #include "HttpHeaderTools.h"
+#include "http/one/RequestParser.h"
 #include "profiler/Profiler.h"
 #include "servers/forward.h"
 #include "SquidConfig.h"
 
 namespace Http
 {
 
 /// Manages a connection from an HTTP client.
 class Server: public ConnStateData
 {
 public:
     Server(const MasterXaction::Pointer &xact, const bool beHttpsServer);
     virtual ~Server() {}
 
     void readSomeHttpData();
 
 protected:
     /* ConnStateData API */
-    virtual ClientSocketContext *parseOneRequest(Http::ProtocolVersion &ver);
-    virtual void processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver);
+    virtual ClientSocketContext *parseOneRequest();
+    virtual void processParsedRequest(ClientSocketContext *context);
     virtual void handleReply(HttpReply *rep, StoreIOBuffer receivedData);
     virtual void writeControlMsgAndCall(ClientSocketContext *context, HttpReply *rep, AsyncCall::Pointer &call);
     virtual time_t idleTimeout() const;
 
     /* BodyPipe API */
     virtual void noteMoreBodySpaceAvailable(BodyPipe::Pointer);
     virtual void noteBodyConsumerAborted(BodyPipe::Pointer);
 
     /* AsyncJob API */
     virtual void start();
 
 private:
     void processHttpRequest(ClientSocketContext *const context);
     void handleHttpRequestData();
 
-    HttpParser parser_;
+    Http1::RequestParserPointer parser_;
     HttpRequestMethod method_; ///< parsed HTTP method
 
     /// temporary hack to avoid creating a true HttpsServer class
     const bool isHttpsServer;
 
     CBDATA_CLASS2(Server);
 };
 
 } // namespace Http
 
 CBDATA_NAMESPACED_CLASS_INIT(Http, Server);
 
 Http::Server::Server(const MasterXaction::Pointer &xact, bool beHttpsServer):
         AsyncJob("Http::Server"),
         ConnStateData(xact),
         isHttpsServer(beHttpsServer)
 {
 }
 
 time_t
@@ -92,54 +93,61 @@
     AsyncCall::Pointer timeoutCall =  JobCallback(33, 5,
                                       TimeoutDialer, this, Http::Server::requestTimeout);
     commSetConnTimeout(clientConnection, Config.Timeout.request, timeoutCall);
     readSomeData();
 }
 
 void
 Http::Server::noteMoreBodySpaceAvailable(BodyPipe::Pointer)
 {
     if (!handleRequestBodyData())
         return;
 
     // too late to read more body
     if (!isOpen() || stoppedReceiving())
         return;
 
     readSomeData();
 }
 
 ClientSocketContext *
-Http::Server::parseOneRequest(Http::ProtocolVersion &ver)
+Http::Server::parseOneRequest()
 {
-    ClientSocketContext *context = NULL;
     PROF_start(HttpServer_parseOneRequest);
-    HttpParserInit(&parser_, in.buf.c_str(), in.buf.length());
-    context = parseHttpRequest(this, &parser_, &method_, &ver);
+
+    // parser is incremental. Generate new parser state if we,
+    // a) dont have one already
+    // b) have completed the previous request parsing already
+    if (!parser_ || !parser_->needsMoreData())
+        parser_ = new Http1::RequestParser();
+
+    /* Process request */
+    ClientSocketContext *context = parseHttpRequest(this, parser_);
+
     PROF_stop(HttpServer_parseOneRequest);
     return context;
 }
 
 void
-Http::Server::processParsedRequest(ClientSocketContext *context, const Http::ProtocolVersion &ver)
+Http::Server::processParsedRequest(ClientSocketContext *context)
 {
-    clientProcessRequest(this, &parser_, context, method_, ver);
+    clientProcessRequest(this, parser_, context);
 }
 
 void
 Http::Server::noteBodyConsumerAborted(BodyPipe::Pointer ptr)
 {
     ConnStateData::noteBodyConsumerAborted(ptr);
     stopReceiving("virgin request body consumer aborted"); // closes ASAP
 }
 
 void
 Http::Server::handleReply(HttpReply *rep, StoreIOBuffer receivedData)
 {
     // the caller guarantees that we are dealing with the current context only
     ClientSocketContext::Pointer context = getCurrentContext();
     Must(context != NULL);
     const ClientHttpRequest *http = context->http;
     Must(http != NULL);
 
     // After sending Transfer-Encoding: chunked (at least), always send
     // the last-chunk if there was no error, ignoring responseFinishedOrFailed.

=== renamed file 'src/tests/testHttpParser.cc' => 'src/tests/testHttp1Parser.cc'
--- src/tests/testHttpParser.cc	2014-09-12 23:00:48 +0000
+++ src/tests/testHttp1Parser.cc	2014-10-15 10:14:29 +0000
@@ -1,1108 +1,1442 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 
 #include <cppunit/TestAssert.h>
 
-#include "HttpParser.h"
+#define private public
+#define protected public
+
+#include "testHttp1Parser.h"
+#include "http/one/RequestParser.h"
+#include "http/RequestMethod.h"
 #include "Mem.h"
 #include "MemBuf.h"
 #include "SquidConfig.h"
-#include "testHttpParser.h"
+#include "testHttp1Parser.h"
 
-CPPUNIT_TEST_SUITE_REGISTRATION( testHttpParser );
+CPPUNIT_TEST_SUITE_REGISTRATION( testHttp1Parser );
 
 void
-testHttpParser::globalSetup()
+testHttp1Parser::globalSetup()
 {
     static bool setup_done = false;
     if (setup_done)
         return;
 
     Mem::Init();
     setup_done = true;
+
+    // default to strict parser. set for loose parsing specifically where behaviour differs.
+    Config.onoff.relaxed_header_parser = 0;
+
+    Config.maxRequestHeaderSize = 1024; // XXX: unit test the RequestParser handling of this limit
+}
+
+struct resultSet {
+    bool parsed;
+    bool needsMore;
+    Http1::ParseState parserState;
+    Http::StatusCode status;
+    int msgStart;
+    int msgEnd;
+    SBuf::size_type suffixSz;
+    int methodStart;
+    int methodEnd;
+    HttpRequestMethod method;
+    int uriStart;
+    int uriEnd;
+    const char *uri;
+    int versionStart;
+    int versionEnd;
+    AnyP::ProtocolVersion version;
+};
+
+static void
+testResults(int line, const SBuf &input, Http1::RequestParser &output, struct resultSet &expect)
+{
+#if WHEN_TEST_DEBUG_IS_NEEDED
+    printf("TEST @%d, in=%u: " SQUIDSBUFPH "\n", line, input.length(), SQUIDSBUFPRINT(input));
+#endif
+
+    CPPUNIT_ASSERT_EQUAL(expect.parsed, output.parse(input));
+    CPPUNIT_ASSERT_EQUAL(expect.needsMore, output.needsMoreData());
+    if (output.needsMoreData())
+        CPPUNIT_ASSERT_EQUAL(expect.parserState, output.parsingStage_);
+    CPPUNIT_ASSERT_EQUAL(expect.status, output.request_parse_status);
+    CPPUNIT_ASSERT_EQUAL(expect.msgStart, output.req.start);
+    CPPUNIT_ASSERT_EQUAL(expect.msgEnd, output.req.end);
+    CPPUNIT_ASSERT_EQUAL(expect.suffixSz, output.buf_.length());
+    CPPUNIT_ASSERT_EQUAL(expect.methodStart, output.req.m_start);
+    CPPUNIT_ASSERT_EQUAL(expect.methodEnd, output.req.m_end);
+    CPPUNIT_ASSERT_EQUAL(expect.method, output.method_);
+    CPPUNIT_ASSERT_EQUAL(expect.uriStart, output.req.u_start);
+    CPPUNIT_ASSERT_EQUAL(expect.uriEnd, output.req.u_end);
+    if (expect.uri != NULL)
+        CPPUNIT_ASSERT_EQUAL(0, output.uri_.cmp(expect.uri));
+    CPPUNIT_ASSERT_EQUAL(expect.versionStart, output.req.v_start);
+    CPPUNIT_ASSERT_EQUAL(expect.versionEnd, output.req.v_end);
+    CPPUNIT_ASSERT_EQUAL(expect.version, output.msgProtocol_);
 }
 
 void
-testHttpParser::testParseRequestLineProtocols()
+testHttp1Parser::testParserConstruct()
+{
+    // whether the constructor works
+    {
+        Http1::RequestParser output;
+        CPPUNIT_ASSERT_EQUAL(true, output.needsMoreData());
+        CPPUNIT_ASSERT_EQUAL(Http1::HTTP_PARSE_NONE, output.parsingStage_);
+        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status); // XXX: clear() not being called.
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
+        CPPUNIT_ASSERT(output.buf_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
+        CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), output.method_);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
+        CPPUNIT_ASSERT(output.uri_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
+        CPPUNIT_ASSERT_EQUAL(AnyP::ProtocolVersion(), output.msgProtocol_);
+    }
+
+    // whether new() works
+    {
+        Http1::RequestParser *output = new Http1::RequestParser;
+        CPPUNIT_ASSERT_EQUAL(true, output->needsMoreData());
+        CPPUNIT_ASSERT_EQUAL(Http1::HTTP_PARSE_NONE, output->parsingStage_);
+        CPPUNIT_ASSERT_EQUAL(Http::scNone, output->request_parse_status);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.end);
+        CPPUNIT_ASSERT(output->buf_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.m_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.m_end);
+        CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), output->method_);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.u_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.u_end);
+        CPPUNIT_ASSERT(output->uri_.isEmpty());
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.v_start);
+        CPPUNIT_ASSERT_EQUAL(-1, output->req.v_end);
+        CPPUNIT_ASSERT_EQUAL(AnyP::ProtocolVersion(), output->msgProtocol_);
+        delete output;
+    }
+}
+
+void
+testHttp1Parser::testParseRequestLineProtocols()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // TEST: Do we comply with RFC 1945 section 5.1 ?
     // TEST: Do we comply with RFC 2616 section 5.1 ?
 
     // RFC 1945 : HTTP/0.9 simple-request
     {
         input.append("GET /\r\n", 7);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start], (output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start], (output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 1945 : invalid HTTP/0.9 simple-request (only GET is valid)
-#if 0
+#if WHEN_RFC_COMPLIANT
     {
         input.append("POST /\r\n", 7);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start], (output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start], (output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(Http::METHOD_POST),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 #endif
-
     // RFC 1945 and 2616 : HTTP/1.0 request
     {
         input.append("GET / HTTP/1.0\r\n", 16);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.0\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 2616 : HTTP/1.1 request
     {
         input.append("GET / HTTP/1.1\r\n", 16);
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // RFC 2616 : future version full-request
-    {    input.append("GET / HTTP/1.2\r\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.2\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.2", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.v_min);
-        input.reset();
+    {
+        input.append("GET / HTTP/1.2\r\n", 16);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,2)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RFC 2616 : future version full-request
+    // RFC 7230 : future versions do not use request-line syntax
     {
-        // XXX: IETF HTTPbis WG has made this two-digits format invalid.
         input.append("GET / HTTP/10.12\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/10.12\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(15, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/10.12", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 15,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // This stage of the parser does not yet accept non-HTTP protocol names.
+    // unknown non-HTTP protocol names
     {
-        // violations mode treats them as HTTP/0.9 requests!
         input.append("GET / FOO/1.0\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-#if USE_HTTP_VIOLATIONS
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ FOO/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-#else
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-#endif
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / FOO/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("FOO/1.0", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no version
     {
         input.append("GET / HTTP/\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 10,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no major version
     {
         input.append("GET / HTTP/.1\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no version dot
     {
         input.append("GET / HTTP/11\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/11\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/11", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // negative major version (bug 3062)
     {
         input.append("GET / HTTP/-999999.1\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/-999999.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(19, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/-999999.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 19,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no minor version
     {
         input.append("GET / HTTP/1.\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 12,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // negative major version (bug 3062 corollary)
     {
         input.append("GET / HTTP/1.-999999\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scHttpVersionNotSupported, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.-999999\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(19, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.-999999", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scHttpVersionNotSupported,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 19,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,0)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineStrange()
+testHttp1Parser::testParseRequestLineStrange()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // space padded URL
     {
         input.append("GET  /     HTTP/1.1\r\n", 21);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET  /     HTTP/1.1\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(18, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 11,
+            .versionEnd = 18,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // whitespace inside URI. (nasty but happens)
+    // XXX: depends on tolerant parser...
     {
         input.append("GET /fo o/ HTTP/1.1\n", 20);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0,memcmp("GET /fo o/ HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/fo o/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(18, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 9,
+            .uri = "/fo o/",
+            .versionStart = 11,
+            .versionEnd = 18,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // additional data in buffer
     {
         input.append("GET /     HTTP/1.1\nboo!", 23);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-5, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET /     HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end); // strangeness generated by following RFC
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(17, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-5,
+            .suffixSz = 4, // strlen("boo!")
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 10,
+            .versionEnd = 17,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineTerminators()
+testHttp1Parser::testParseRequestLineTerminators()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // alternative EOL sequence: NL-only
     {
         input.append("GET / HTTP/1.1\n", 15);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // alternative EOL sequence: double-NL-only
     {
         input.append("GET / HTTP/1.1\n\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-2, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED alternative EOL sequence: multi-CR-NL
+    // alternative EOL sequence: multi-CR-NL
     {
         input.append("GET / HTTP/1.1\r\r\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        Config.onoff.relaxed_header_parser = 1;
         // Being tolerant we can ignore and elide these apparently benign CR
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\r\r\r\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(6, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
-    }
+        Config.onoff.relaxed_header_parser = 1;
+        struct resultSet expectRelaxed = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
 
-    // STRICT alternative EOL sequence: multi-CR-NL
-    {
-        input.append("GET / HTTP/1.1\r\r\r\n", 18);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
         // strict mode treats these as several bare-CR in the request line which is explicitly invalid.
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1,
+            .suffixSz = input.length(),
+            .methodStart =-1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
     }
 
     // space padded version
     {
         // RFC 1945 and 2616 specify version is followed by CRLF. No intermediary bytes.
         // NP: the terminal whitespace is a special case: invalid for even HTTP/0.9 with no version tag
         input.append("GET / HTTP/1.1 \n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1 \n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(13, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-    }
-
-    // incomplete line at various positions
-    {
-        input.append("GET", 3);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET ", 4);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET / HT", 8);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
-
-        input.append("GET / HTTP/1.1", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(0, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scNone, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 13,
+            .uri = "/ HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineMethods()
+testHttp1Parser::testParseRequestLineMethods()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // RFC 2616 : . method
     {
         input.append(". / HTTP/1.1\n", 13);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(". / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(".", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod(SBuf(".")),
+            .uriStart = 2,
+            .uriEnd = 2,
+            .uri = "/",
+            .versionStart = 4,
+            .versionEnd = 11,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // OPTIONS with * URL
     {
         input.append("OPTIONS * HTTP/1.1\n", 19);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("OPTIONS * HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(6, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("OPTIONS", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(8, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(8, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("*", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(10, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(17, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 6,
+            .method = HttpRequestMethod(Http::METHOD_OPTIONS),
+            .uriStart = 8,
+            .uriEnd = 8,
+            .uri = "*",
+            .versionStart = 10,
+            .versionEnd = 17,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // unknown method
     {
         input.append("HELLOWORLD / HTTP/1.1\n", 22);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HELLOWORLD / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HELLOWORLD", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(13, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(20, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 9,
+            .method = HttpRequestMethod(SBuf("HELLOWORLD")),
+            .uriStart = 11,
+            .uriEnd = 11,
+            .uri = "/",
+            .versionStart = 13,
+            .versionEnd = 20,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // method-only
     {
         input.append("A\n", 2);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("A\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    input.append("GET\n", 4);
-    {
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+    {
+        input.append("GET\n", 4);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED space padded method (in strict mode SP is reserved so invalid as a method byte)
+    // space padded method (in strict mode SP is reserved so invalid as a method byte)
     {
         input.append(" GET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
+        // RELAXED mode Squid custom tolerance ignores SP
+#if USE_HTTP_VIOLATIONS
         Config.onoff.relaxed_header_parser = 1;
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
-    }
+        struct resultSet expectRelaxed = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
+#endif
 
-    // STRICT space padded method (in strict mode SP is reserved so invalid as a method byte)
-    {
-        input.append(" GET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
+        // STRICT mode obeys RFC syntax
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(" GET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
+    }
+
+    // RFC 2616 defined tolerance: ignore empty line(s) prefix on messages
+#if WHEN_RFC_COMPLIANT
+    {
+        input.append("\r\n\r\n\nGET / HTTP/1.1\r\n", 21);
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 5,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 5,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 4,
+            .uri = "/",
+            .versionStart = 6,
+            .versionEnd = 13,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
+#endif
 
     // tab padded method (NP: tab is not SP so treated as any other binary)
     {
         input.append("\tGET / HTTP/1.1\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\tGET / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\tGET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else // XXX: currently broken
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("\tGET")),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 }
 
 void
-testHttpParser::testParseRequestLineInvalid()
+testHttp1Parser::testParseRequestLineInvalid()
 {
     // ensure MemPools etc exist
     globalSetup();
 
-    MemBuf input;
-    HttpParser output;
-    input.init();
+    SBuf input;
+    Http1::RequestParser output;
 
     // no method (but in a form which is ambiguous with HTTP/0.9 simple-request)
     {
-        // XXX: Bug: HTTP/0.9 requires method to be "GET"
+        // XXX: HTTP/0.9 requires method to be "GET"
         input.append("/ HTTP/1.0\n", 11);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(2, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod(SBuf("/")),
+            .uriStart = 2,
+            .uriEnd = 9,
+            .uri = "HTTP/1.0",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // RELAXED no method (an invalid format)
+    // no method (an invalid format)
     {
         input.append(" / HTTP/1.0\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        // When tolerantly ignoring SP prefix this case becomes ambiguous with HTTP/0.9 simple-request)
+
+        // XXX: squid custom tolerance consumes initial SP.
         Config.onoff.relaxed_header_parser = 1;
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/ HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(3, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(10, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.0", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
-    }
+        struct resultSet expectRelaxed = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-2,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod(SBuf("/")),
+            .uriStart = 2,
+            .uriEnd = 9,
+            .uri = "HTTP/1.0",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expectRelaxed);
 
-    // STRICT no method (an invalid format)
-    {
-        input.append(" / HTTP/1.0\n", 12);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        // When tolerantly ignoring SP prefix this case becomes ambiguous with HTTP/0.9 simple-request)
+        // STRICT detect as invalid
         Config.onoff.relaxed_header_parser = 0;
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp(" / HTTP/1.0\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        // XXX: except Squid does not
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expectStrict = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expectStrict);
+        input.clear();
     }
 
-    // binary code in method (strange but ...)
+    // binary code in method (invalid)
     {
         input.append("GET\x0B / HTTP/1.1\n", 16);
-        //printf("TEST: %d-%d/%d '%.*s'\n", output.req.start, output.req.end, input.contentSize(), 16, input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\x0B / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\x0B", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0, // garbage collection consumes the SP
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("GET\x0B", 4)),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // CR in method
     {
         // RFC 2616 sec 5.1 prohibits CR other than in terminator.
         input.append("GET\r / HTTP/1.1\r\n", 16);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt at the first \r
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // binary code NUL! in method (strange but ...)
     {
         input.append("GET\0 / HTTP/1.1\n", 16);
-        //printf("TEST: %d-%d/%d '%.*s'\n", output.req.start, output.req.end, input.contentSize(), 16, input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\0 / HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(3, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET\0", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("/", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(7, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(14, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.v_start],(output.req.v_end-output.req.v_start+1)));
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(1, output.req.v_min);
-        input.reset();
+#if WHEN_RFC_COMPLIANT
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt at the \0
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+#else
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = true,
+            .parserState = Http1::HTTP_PARSE_MIME,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 3,
+            .method = HttpRequestMethod(SBuf("GET\0",4)),
+            .uriStart = 5,
+            .uriEnd = 5,
+            .uri = "/",
+            .versionStart = 7,
+            .versionEnd = 14,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1)
+        };
+#endif
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
-    // no URL (grammer otherwise correct)
+    // no URL (grammer invalid, ambiguous with RFC 1945 HTTP/0.9 simple-request)
     {
         input.append("GET  HTTP/1.1\n", 14);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET  HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(5, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(12, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 5,
+            .uriEnd = 12,
+            .uri = "HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // no URL (grammer invalid, ambiguous with RFC 1945 HTTP/0.9 simple-request)
     {
         input.append("GET HTTP/1.1\n", 13);
-        //printf("TEST: '%s'\n",input.content());
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scOkay, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET HTTP/1.1\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(2, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("GET", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(4, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(11, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("HTTP/1.1", &output.buf[output.req.u_start],(output.req.u_end-output.req.u_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(9, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = true,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scOkay,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = 0,
+            .methodStart = 0,
+            .methodEnd = 2,
+            .method = HttpRequestMethod(Http::METHOD_GET),
+            .uriStart = 4,
+            .uriEnd = 11,
+            .uri = "HTTP/1.1",
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,0,9)
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // binary line
     {
         input.append("\xB\xC\xE\xF\n", 5);
-        //printf("TEST: binary-line\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\xB\xC\xE\xF\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // mixed whitespace line
     {
         // We accept non-space binary bytes for method so first \t shows up as that
         // but remaining space and tabs are skipped searching for URI-start
         input.append("\t \t \t\n", 6);
-        //printf("TEST: mixed whitespace\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL((int)input.contentSize()-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\t \t \t\n", &output.buf[output.req.start],(output.req.end-output.req.start+1)));
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(0, memcmp("\t", &output.buf[output.req.m_start],(output.req.m_end-output.req.m_start+1)));
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = (int)input.length()-1,
+            .suffixSz = input.length(),
+            .methodStart = 0,
+            .methodEnd = 0,
+            .method = HttpRequestMethod(SBuf("\t")),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
     }
 
     // mixed whitespace line with CR middle
     {
         // CR aborts on sight, so even initial \t method is not marked as above
         // (not when parsing clean with whole line available anyway)
         input.append("\t  \r \n", 6);
-        //printf("TEST: mixed whitespace with CR\n");
-        output.reset(input.content(), input.contentSize());
-        CPPUNIT_ASSERT_EQUAL(-1, HttpParserParseReqLine(&output));
-        CPPUNIT_ASSERT_EQUAL(Http::scBadRequest, output.request_parse_status);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.m_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.u_end);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_start);
-        CPPUNIT_ASSERT_EQUAL(-1, output.req.v_end);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_maj);
-        CPPUNIT_ASSERT_EQUAL(0, output.req.v_min);
-        input.reset();
+        struct resultSet expect = {
+            .parsed = false,
+            .needsMore = false,
+            .parserState = Http1::HTTP_PARSE_DONE,
+            .status = Http::scBadRequest,
+            .msgStart = 0,
+            .msgEnd = -1, // halt on the \r
+            .suffixSz = input.length(),
+            .methodStart = -1,
+            .methodEnd = -1,
+            .method = HttpRequestMethod(),
+            .uriStart = -1,
+            .uriEnd = -1,
+            .uri = NULL,
+            .versionStart = -1,
+            .versionEnd = -1,
+            .version = AnyP::ProtocolVersion()
+        };
+        output.clear();
+        testResults(__LINE__, input, output, expect);
+        input.clear();
+    }
+}
+
+void
+testHttp1Parser::testDripFeed()
+{
+    // Simulate a client drip-feeding Squid a few bytes at a time.
+    // extend the size of the buffer from 0 bytes to full request length
+    // calling the parser repeatedly as visible data grows.
+
+    SBuf data;
+    data.append("            ", 12);
+    SBuf::size_type garbageEnd = data.length();
+    data.append("GET http://example.com/ HTTP/1.1\r\n", 34);
+    SBuf::size_type reqLineEnd = data.length() - 1;
+    data.append("Host: example.com\r\n\r\n", 21);
+    SBuf::size_type mimeEnd = data.length() - 1;
+    data.append("...", 3); // trailer to catch mime EOS errors.
+
+    SBuf ioBuf; // begins empty
+    Http1::RequestParser hp;
+
+    // only relaxed parser accepts the garbage whitespace
+    Config.onoff.relaxed_header_parser = 1;
+
+    // state of things we expect right now
+    struct resultSet expect = {
+        .parsed = false,
+        .needsMore = true,
+        .parserState = Http1::HTTP_PARSE_NONE,
+        .status = Http::scNone,
+        .msgStart = -1,
+        .msgEnd = -1,
+        .suffixSz = 0,
+        .methodStart = -1,
+        .methodEnd = -1,
+        .method = HttpRequestMethod(),
+        .uriStart = -1,
+        .uriEnd = -1,
+        .uri = NULL,
+        .versionStart = -1,
+        .versionEnd = -1,
+        .version = AnyP::ProtocolVersion()
+    };
+
+    Config.maxRequestHeaderSize = 1024; // large enough to hold the test data.
+
+    for (SBuf::size_type pos = 0; pos <= data.length(); ++pos) {
+
+        // simulate reading one more byte
+        ioBuf.append(data.substr(pos,1));
+
+        // when the garbage is passed we expect to start seeing first-line bytes
+        if (pos == garbageEnd) {
+            expect.parserState = Http1::HTTP_PARSE_FIRST;
+            expect.msgStart = 0;
+        }
+
+        // all points after garbage start to see accumulated bytes looking for end of current section
+        if (pos >= garbageEnd)
+            expect.suffixSz = ioBuf.length();
+
+        // at end of request line expect to see method, URI, version details
+        // and switch to seeking Mime header section
+        if (pos == reqLineEnd) {
+            expect.parserState = Http1::HTTP_PARSE_MIME;
+            expect.suffixSz = 0;
+            expect.msgEnd = reqLineEnd-garbageEnd;
+            expect.status = Http::scOkay;
+            expect.methodStart = 0;
+            expect.methodEnd = 2;
+            expect.method = HttpRequestMethod(Http::METHOD_GET);
+            expect.uriStart = 4;
+            expect.uriEnd = 22;
+            expect.uri = "http://example.com/";
+            expect.versionStart = 24;
+            expect.versionEnd = 31;
+            expect.version = AnyP::ProtocolVersion(AnyP::PROTO_HTTP,1,1);
+        }
+
+        // one mime header is done we are expectign a new request
+        // parse results say true and initial data is all gone from the buffer
+        if (pos == mimeEnd) {
+            expect.parsed = true;
+            expect.needsMore = false;
+            expect.suffixSz = 0;
+        }
+
+        testResults(__LINE__, ioBuf, hp, expect);
+
+        // sync the buffers like Squid does
+        ioBuf = hp.remaining();
+
+        // Squid stops using the parser once it has parsed the first message.
+        if (!hp.needsMoreData())
+            break;
     }
 }

=== renamed file 'src/tests/testHttpParser.h' => 'src/tests/testHttp1Parser.h'
--- src/tests/testHttpParser.h	2014-09-12 23:00:48 +0000
+++ src/tests/testHttp1Parser.h	2014-10-11 19:23:50 +0000
@@ -1,35 +1,41 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
-#ifndef SQUID_SRC_TESTS_TESTHTTPPARSER_H
-#define SQUID_SRC_TESTS_TESTHTTPPARSER_H
+#ifndef SQUID_SRC_TESTS_TESTHTTP1PARSER_H
+#define SQUID_SRC_TESTS_TESTHTTP1PARSER_H
 
 #include <cppunit/extensions/HelperMacros.h>
 
-class testHttpParser : public CPPUNIT_NS::TestFixture
+class testHttp1Parser : public CPPUNIT_NS::TestFixture
 {
-    CPPUNIT_TEST_SUITE( testHttpParser );
+    CPPUNIT_TEST_SUITE( testHttp1Parser );
+    CPPUNIT_TEST( testParserConstruct );
     CPPUNIT_TEST( testParseRequestLineTerminators );
     CPPUNIT_TEST( testParseRequestLineMethods );
     CPPUNIT_TEST( testParseRequestLineProtocols );
     CPPUNIT_TEST( testParseRequestLineStrange );
     CPPUNIT_TEST( testParseRequestLineInvalid );
+    CPPUNIT_TEST( testDripFeed );
     CPPUNIT_TEST_SUITE_END();
 
 protected:
     void globalSetup(); // MemPools init etc.
 
+    void testParserConstruct(); // whether the constructor works
+
     // request-line unit tests
     void testParseRequestLineTerminators(); // terminator detection correct
     void testParseRequestLineMethods();     // methoid detection correct
     void testParseRequestLineProtocols();   // protocol tokens handled correctly
     void testParseRequestLineStrange();     // strange but valid lines accepted
     void testParseRequestLineInvalid();     // rejection of invalid lines happens
+
+    void testDripFeed(); // test incremental parse works
 };
 
 #endif

=== modified file 'src/tests/testHttpRequestMethod.cc'
--- src/tests/testHttpRequestMethod.cc	2014-09-12 23:00:48 +0000
+++ src/tests/testHttpRequestMethod.cc	2014-10-15 13:39:59 +0000
@@ -1,67 +1,92 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
 #include <cppunit/TestAssert.h>
 
-#include "HttpRequestMethod.h"
+#include "http/RequestMethod.h"
 #include "Mem.h"
 #include "SquidConfig.h"
 #include "testHttpRequestMethod.h"
 
 #include <sstream>
 
 CPPUNIT_TEST_SUITE_REGISTRATION( testHttpRequestMethod );
 
 /*
  * We should be able to make an HttpRequestMethod straight from a string.
  */
 void
 testHttpRequestMethod::testConstructCharStart()
 {
+    // string in SBuf
+
     /* parse an empty string -> Http::METHOD_NONE */
-    CPPUNIT_ASSERT(HttpRequestMethod(NULL,NULL) == Http::METHOD_NONE);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf()) == Http::METHOD_NONE);
+
+    /* parsing a literal should work */
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf("GET")) == Http::METHOD_GET);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf("QWERTY")) == Http::METHOD_OTHER);
+
+    // string in char*
+
+    /* parse an empty string -> Http::METHOD_NONE */
+    HttpRequestMethod a;
+    a.HttpRequestMethodXXX(NULL);
+    CPPUNIT_ASSERT(a == Http::METHOD_NONE);
+
     /* parsing a literal should work */
-    CPPUNIT_ASSERT(HttpRequestMethod("GET", NULL) == Http::METHOD_GET);
-    CPPUNIT_ASSERT(HttpRequestMethod("QWERTY", NULL) == Http::METHOD_OTHER);
+    HttpRequestMethod b;
+    b.HttpRequestMethodXXX("GET");
+    CPPUNIT_ASSERT(b == Http::METHOD_GET);
+    CPPUNIT_ASSERT_EQUAL(SBuf("GET"), b.image());
+    HttpRequestMethod c;
+    c.HttpRequestMethodXXX("QWERTY");
+    CPPUNIT_ASSERT(c == Http::METHOD_OTHER);
+    CPPUNIT_ASSERT_EQUAL(SBuf("QWERTY"), c.image());
+
+    // parsing error should not leave stale results
+    b.HttpRequestMethodXXX(NULL);
+    CPPUNIT_ASSERT(b == Http::METHOD_NONE);
+    CPPUNIT_ASSERT_EQUAL(SBuf("NONE"), b.image());
 }
 
 /*
- * We can also parse precise ranges of characters
+ * We can also parse precise ranges of characters with SBuf
  */
 void
 testHttpRequestMethod::testConstructCharStartEnd()
 {
     char const * buffer;
     /* parse an empty string -> Http::METHOD_NONE */
-    CPPUNIT_ASSERT(HttpRequestMethod(NULL, NULL) == Http::METHOD_NONE);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf()) == Http::METHOD_NONE);
     /* parsing a literal should work */
-    CPPUNIT_ASSERT(HttpRequestMethod("GET", NULL) == Http::METHOD_GET);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf("GET")) == Http::METHOD_GET);
     /* parsing with an explicit end should work */
     buffer = "POSTPLUS";
-    CPPUNIT_ASSERT(HttpRequestMethod(buffer, buffer + 4) == Http::METHOD_POST);
+    CPPUNIT_ASSERT(HttpRequestMethod(SBuf(buffer, 4)) == Http::METHOD_POST);
 }
 
 /*
  * we should be able to assign a Http::MethodType to a HttpRequestMethod
  */
 void
 testHttpRequestMethod::testAssignFrommethod_t()
 {
     HttpRequestMethod method;
     method = Http::METHOD_NONE;
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), method);
     method = Http::METHOD_POST;
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_POST), method);
 }
 
 /*
  * a default constructed HttpRequestMethod is == Http::METHOD_NONE
  */
 void
 testHttpRequestMethod::testDefaultConstructor()
@@ -73,74 +98,74 @@
 
 /*
  * we should be able to construct a HttpRequestMethod from a Http::MethodType
  */
 void
 testHttpRequestMethod::testConstructmethod_t()
 {
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_NONE), HttpRequestMethod(Http::METHOD_NONE));
     CPPUNIT_ASSERT_EQUAL(HttpRequestMethod(Http::METHOD_POST), HttpRequestMethod(Http::METHOD_POST));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) != HttpRequestMethod(Http::METHOD_POST));
 }
 
 /*
  * we should be able to get a char const * version of the method.
  */
 void
 testHttpRequestMethod::testImage()
 {
     // relaxed RFC-compliance parse HTTP methods are upgraded to correct case
     Config.onoff.relaxed_header_parser = 1;
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("pOsT",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("post",NULL).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod(SBuf("POST")).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod(SBuf("pOsT")).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod(SBuf("post")).image());
 
     // strict RFC-compliance parse HTTP methods are case sensitive
     Config.onoff.relaxed_header_parser = 0;
-    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod("POST",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("pOsT"), HttpRequestMethod("pOsT",NULL).image());
-    CPPUNIT_ASSERT_EQUAL(SBuf("post"), HttpRequestMethod("post",NULL).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("POST"), HttpRequestMethod(SBuf("POST")).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("pOsT"), HttpRequestMethod(SBuf("pOsT")).image());
+    CPPUNIT_ASSERT_EQUAL(SBuf("post"), HttpRequestMethod(SBuf("post")).image());
 }
 
 /*
  * an HttpRequestMethod should be comparable to a Http::MethodType without false
  * matches
  */
 void
 testHttpRequestMethod::testEqualmethod_t()
 {
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) == Http::METHOD_NONE);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_POST) == Http::METHOD_GET));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_GET) == Http::METHOD_GET);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_TRACE) == Http::METHOD_SEARCH));
 }
 
 /*
  * an HttpRequestMethod should testable for inequality without fail maatches
  */
 void
 testHttpRequestMethod::testNotEqualmethod_t()
 {
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_NONE) != Http::METHOD_GET);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_POST) != Http::METHOD_POST));
     CPPUNIT_ASSERT(HttpRequestMethod(Http::METHOD_GET) != Http::METHOD_NONE);
     CPPUNIT_ASSERT(not (HttpRequestMethod(Http::METHOD_SEARCH) != Http::METHOD_SEARCH));
 }
 
 /*
  * we should be able to send it to a stream and get the normalised version
  */
 void
 testHttpRequestMethod::testStream()
 {
     // relaxed RFC-compliance parse HTTP methods are upgraded to correct case
     Config.onoff.relaxed_header_parser = 1;
     std::ostringstream buffer;
-    buffer << HttpRequestMethod("get", NULL);
+    buffer << HttpRequestMethod(SBuf("get"));
     CPPUNIT_ASSERT_EQUAL(String("GET"), String(buffer.str().c_str()));
 
     // strict RFC-compliance parse HTTP methods are case sensitive
     Config.onoff.relaxed_header_parser = 0;
     std::ostringstream buffer2;
-    buffer2 << HttpRequestMethod("get", NULL);
+    buffer2 << HttpRequestMethod(SBuf("get"));
     CPPUNIT_ASSERT_EQUAL(String("get"), String(buffer2.str().c_str()));
 }


From squid3 at treenet.co.nz  Sun Oct 19 21:38:38 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 20 Oct 2014 10:38:38 +1300
Subject: [squid-dev] [RFC] Squid 4.0 ideas
Message-ID: <54442F5E.9070007@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kinkie brought up the idea of a Squid 4.x release in IRC.

I have mentioned to a few clients who asked when 4.0 would be out that
we will probably want it to be a big reason, like changing the
language was between the 2.x to 3.x versions.

I have usually had in mind a change along the lines of:
 - libraries building with Erlang/Ada/Go, or
 - redesigning the whole packaging structure (but we already have
SourceLayout without it), or
 - redesigning the event processing system (but we already did
AsyncJob without it).

Then again, we actually *are* planning a language change in the next
few months.

The C++03 to C++11 transition will bring with it a relatively large
bump in the minimum toolchain and thus OS support. So while it's not a
radical change it is probably worth considering as a good reason for
calling the next series 4.0.

If we do so we would also need to treat 3.5 as somewhat of an LTE
release. That was on the cards anyway for older OS with backports
having the same criteria of building on C++03 compilers. The version
bump would make it somewhat formal though with us needing to take on
the maintenance instead of punting it off to commercial or distro
support teams. Are we prepared as a group to go for that?

We have most of the coming year to think about this. I just thought I
would poke the idea out there early to get maximum length of
consideration.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJURC9eAAoJELJo5wb/XPRj8kIIAL111cmq06tuqPTMMJ/ZQPiJ
G2BGfsNKZrmMc5jXk6NMnXHDbDKAZtoa/UX9dS28vqT740ZVER22G/6gntZKDZ4C
vg1btcpiJReVrIjBZtATKwYmwU+qRNQ2MMsNHixrdgWrj7pL0sEM1Dg667KzBJAX
7a5dv9p64DBfIs4oBepx99Y9BwCRp7WDqct8B3Z5rEfnwZuzkxHj4XzSaAiBznna
aNXyFYricuZpAuV6IWuQIe4a7etZoIhrMgp5z2HGf7WpAGPzybxv4DNKT3QFzWfR
S9bGHqHaa4TkBYVjITfJk3xhD2HiKWHEwPnZjklm7Q3GO+1P1x0gfAz9EF6oC0c=
=yqSv
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Sun Oct 19 23:06:34 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 01:06:34 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #130
In-Reply-To: <828921189.114.1413694262395.JavaMail.hudson@eu.squid-cache.org>
References: <828921189.114.1413694262395.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <921001625.116.1413759994780.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/130/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Sun Oct 19 23:37:26 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 01:37:26 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#195
In-Reply-To: <965828056.113.1413694239536.JavaMail.hudson@eu.squid-cache.org>
References: <965828056.113.1413694239536.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1700207204.117.1413761846456.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/195/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 515
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Sun Oct 19 23:37:52 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 01:37:52 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #131
In-Reply-To: <921001625.116.1413759994780.JavaMail.hudson@eu.squid-cache.org>
References: <921001625.116.1413759994780.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <792567381.118.1413761872604.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/131/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 515
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Mon Oct 20 01:06:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 03:06:37 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #132
In-Reply-To: <792567381.118.1413761872604.JavaMail.hudson@eu.squid-cache.org>
References: <792567381.118.1413761872604.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2129188563.119.1413767197859.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/132/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Mon Oct 20 01:36:44 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 03:36:44 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#196
In-Reply-To: <1700207204.117.1413761846456.JavaMail.hudson@eu.squid-cache.org>
References: <1700207204.117.1413761846456.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1279652644.120.1413769004527.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/196/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 516
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Mon Oct 20 01:37:03 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 03:37:03 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #133
In-Reply-To: <2129188563.119.1413767197859.JavaMail.hudson@eu.squid-cache.org>
References: <2129188563.119.1413767197859.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1530928463.121.1413769023862.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/133/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 516
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Mon Oct 20 07:50:55 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 09:50:55 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#197
In-Reply-To: <1279652644.120.1413769004527.JavaMail.hudson@eu.squid-cache.org>
References: <1279652644.120.1413769004527.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1522932877.122.1413791455453.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/197/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 517
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Mon Oct 20 07:51:17 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 09:51:17 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #134
In-Reply-To: <1530928463.121.1413769023862.JavaMail.hudson@eu.squid-cache.org>
References: <1530928463.121.1413769023862.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1296492874.123.1413791477838.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/134/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 517
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Mon Oct 20 08:06:35 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Mon, 20 Oct 2014 10:06:35 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #135
In-Reply-To: <1296492874.123.1413791477838.JavaMail.hudson@eu.squid-cache.org>
References: <1296492874.123.1413791477838.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2071138946.124.1413792395530.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/135/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From squid3 at treenet.co.nz  Tue Oct 21 11:14:07 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 22 Oct 2014 00:14:07 +1300
Subject: [squid-dev] [PATCH] ConnStateData flexible transport support
In-Reply-To: <535E5337.6060502@treenet.co.nz>
References: <535E5337.6060502@treenet.co.nz>
Message-ID: <54463FFF.1070406@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Applied as trunk rev.13661 with polishing.

I dropped the ssl-bumped flag change since there was no feedback on it
working, and added appropriate resets when the new "splice" bumping
decision leaves the connection as HTTP with opaque payload.

Amos

On 29/04/2014 1:10 a.m., Amos Jeffries wrote:
> We are quickly approaching a time when a client connection can
> freely migrate between protocols or versions of protocols. Already
> we have ssl-bump which can switch a connection from HTTP to HTTPS.
> I am expecting switching HTTP<->HTTPS via Upgrade, and
> HTTP/1<->HTTP/2 via "magic", Upgrade, or ALPN.
> 
> Based on ssl-bump experience with switchedToHttps() and the pain
> that can be predicted when there are several permutations of such
> accessors to test against I am proposing the attached patch.
> 
> 
> * Add a transportVersion member to ConnStateData which holds the
> current protocol to be used over the clientConnection socket. This
> variable can be altered whenever necessary to cause an on-wire
> protocol change. New connections default to the protocol signalled
> in the http(s)_port directive.
> 
> * ssl-bump transforms the transportVersion from whatever it was 
> previously (usually HTTP or HTTPS) to HTTPS. - Also updated
> ssl-bump to set the traffic type flag tunnelSslBumped on 
> non-intercept traffic, which can be assumed to be a CONNECT
> request.
> 
> * transparent and reverse-proxy URL reconstruction is updated to
> use the new member instead of the http(s)_port protocol= setting.
> This removes edge conditions where the URL reconstructor needs to
> figure out ssl-bump existence.
> 
> 
> Christos, I would like some help with two ssl-bump related things
> if you have the time spare:
> 
> 1) testing the new prepareTransparentURL reconstruction works on 
> ssl-bumped traffic.
> 
> 2) finding switchedToHttps() usage that can be replaced. When
> ssl-bump is operating we should now always have one of these 
> conditions being true: a) ConnStateData::port->flags.tunnelSslBump 
> b) ConnStateData::port->intercepted() && 
> ConnStateData::transportVersion.protocol==AnyP::PROTO_HTTPS
> 
> The second one is low-priority even if this patch gets added. We
> will find them later anyway as the code polishing progresses.
> 
> Amos
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJURj/+AAoJELJo5wb/XPRjR6YH/0fkkqt6vgOZg7BFw7E5K6gO
dKG8KoRArLlTwY7yRLRP/+urVYXDc7/Zv4+hKAPreXFUXpW3Ir5gQjO0UEtHZ62S
GQbKaCUIm9sEp43F9mcfVDS/WxRposScQ0akjjisIjzFmIORwI6HEUaO7EUlws8N
Nq+YrPJa3vmTIYtjSM7xpbPFXi1JP/WKyDBXFDoEp5g/Dtovdnnw1RZ3sURMCKqc
aA7MMcjXPVPLMjte3rs4RrefgT+Zp6Rt/WhZeRCC6sYVWd6Kpu7OfPr9dPiNdw+T
zWkPgD5cSidH05SBavrLvptNJLkHozWgFDxuI9owk8yUOwp0Lwbtw3IvAD7tIv4=
=LSyg
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Tue Oct 21 11:37:53 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 13:37:53 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#198
In-Reply-To: <1522932877.122.1413791455453.JavaMail.hudson@eu.squid-cache.org>
References: <1522932877.122.1413791455453.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <260894462.125.1413891473454.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/198/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 518
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/


From noc at squid-cache.org  Tue Oct 21 11:38:17 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 13:38:17 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #136
In-Reply-To: <2071138946.124.1413792395530.JavaMail.hudson@eu.squid-cache.org>
References: <2071138946.124.1413792395530.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2147345304.126.1413891497855.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/136/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 518
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Tue Oct 21 12:06:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 14:06:37 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #137
In-Reply-To: <2147345304.126.1413891497855.JavaMail.hudson@eu.squid-cache.org>
References: <2147345304.126.1413891497855.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <207333243.127.1413893198004.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/137/>

------------------------------------------
Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From noc at squid-cache.org  Tue Oct 21 12:51:40 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 14:51:40 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-FreeBSD-10-clang
	#199
In-Reply-To: <260894462.125.1413891473454.JavaMail.hudson@eu.squid-cache.org>
References: <260894462.125.1413891473454.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1225808849.128.1413895900959.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/199/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 519
originally caused by:
 Started by an SCM change
Building remotely on rs-fbsd-10 (gcc freebsd-10.0-RELEASE farm amd64-freebsd-10.0-RELEASE 10.0-RELEASE clang freebsd amd64-freebsd amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...
Retrying after 10 seconds
Cleaning workspace...
$ bzr branch http://bzr.squid-cache.org/bzr/squid3/trunk/ <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
bzr: ERROR: No such file: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix': [Errno 2] No such file or directory: u'/home/jenkins/.bzr/repository/indices/a03326f958dac7a243300563614fa778.rix'
ERROR: Failed to branch http://bzr.squid-cache.org/bzr/squid3/trunk/
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/>
info result: bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/> returned 3. Command output: "" stderr: "bzr: ERROR: Not a branch: "<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
"
[3.HEAD-amd64-FreeBSD-10-clang] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
bzr: ERROR: Not a branch: "/usr<http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/ws/.bzr/branch/".>
ERROR: Failed to pull
Since BZR itself isn't crash safe, we'll clean the workspace so that on the next try we'll do a clean pull...

From noc at squid-cache.org  Tue Oct 21 12:51:46 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 14:51:46 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #138
In-Reply-To: <207333243.127.1413893198004.JavaMail.hudson@eu.squid-cache.org>
References: <207333243.127.1413893198004.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1623846472.129.1413895906729.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/138/>

------------------------------------------
Started by upstream project "3.HEAD-amd64-centos-6" build number 519
originally caused by:
 Started by an SCM change
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull
Retrying after 10 seconds
$ bzr revision-info -d <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
[3.HEAD-amd64-centos-7] $ bzr pull --overwrite http://bzr.squid-cache.org/bzr/squid3/trunk/
ERROR: Failed to pull


From squid3 at treenet.co.nz  Tue Oct 21 13:29:07 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 22 Oct 2014 02:29:07 +1300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
In-Reply-To: <543EBD3B.40408@users.sourceforge.net>
References: <543EBD3B.40408@users.sourceforge.net>
Message-ID: <54465FA3.5050506@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Sorry I didn't get back to you on this earier.

Please hold off on this until the Parser-NG patch lands. You may
want/need to redesign parts of this based on parser changes already in
that branch, or which will follow in the next stages.
In fact this tunneling behaviour was to *be* one of the following stages.

Some hints follow ...

On 16/10/2014 7:30 a.m., Tsantilas Christos wrote:
> 
> Intercepting proxies often receive non-HTTP connections. Squid cannot
> currently deal with such connections well because it assumes that a
> given port receives HTTP, FTP, or HTTPS traffic exclusively. This patch
> allows Squid to tunnel unexpected connections instead of terminating
> them with an error.
> 
> This patch:
>    -Defines an unexpected connection as a connection that resulted in a
> Squid error during first request parsing. Which errors trigger tunneling
> behavior is configurable by the admin using ACLs.

The new parser will give a definitive fail answer to identify non-HTTP
traffic. Consisting of hp->parse() call returning false, and
hp->request_parse_status == Http::scBadRequest.

You can see the relevant case at the top of client_side.cc
parseHttpRequest() where it emits "error:invalid-request".

I have also just committed the flexible transferProtocol member for
ConnStateData. With this proposed feature we will need to add a
AnyP::PROTO_TCP and set the traffic type to be that when bypassing
opaque data through the proxy.

> 
>   - Adds "on_first_request_error", a new ACL-driven squid.conf directive
> that can be used to establish a blind TCP tunnel which relays all bytes
> from/to the intercepted connection to/from the intended destination
> address. See the sketch above.
> The on_first_request_error directive supports fast ACLs only.
> 

What a nasty name for an access list.


I believe tcp_tunnel or tunnel_transparent would be more descriptive of
the test is *checking* for. Particularly when we fix the missing CONNECT
via peers issue.


The "only checked on first request failure" detail can be left in the
directive documentation. I also suspect that is a false statement since
anything we do with a CONNECT body that fails will need a matching check
applied.

ssl-bump calls its version of tunnelling "ssl_bump splice". So if we are
continuing with the splice vs tunnel terminology the syntax would look
something like this:

 tcp_tunnel deny localhost
 tcp_tunnel splice all


After this change goes in there will undoubtedly be requests to extend
it so that we do not waste time waiting for a parse error and just allow
a transparent port to tunnel selected connections right from accept().
So lets be prepared for that with the right naming and scope from the start.


>   - Adds "squid_error", a new ACL type to match transactions that
> triggered a given Squid error. Squid error IDs are used to configure one
> or more errors to match. This is similar to the existing ssl_error ACL
> type but works with Squid-generated errors rather than SSL library errors.

Note that what you are calling an "error" is just the presented payload
page ID. It is not necessarily one of the registered codes in the
template list since deny_info attached to any ACL can change it and load
custom pages.

> 
>   - Adds "ERR_WRONG_PROTOCOL", a new Squid error triggered for http_port
> connections that start with something that lacks even basic HTTP request
> structure. This error is triggered by the HTTP request parser, and
> probably only when/after the current parsing code detects an error.

There is nothing wrong about the protocol. It is the administrators
"bad" decision to intercept that port which is the problem.

 ERR_UNSUP_PROTOCOL is more correct and even matches the actual template
message you picked.

Also, what HTTP status code are you intending to use for this template?
since scBadRequest maps to ERR_INVALID_REQUEST already.


> 
>   Adds "request_start_timeout", a new squid.conf directive to trigger a
> new Squid ERR_REQUEST_START_TIMEOUT error if no bytes are received from
> the client on a newly established http_port connection during the
> configured time period. Applies to all http_ports (for now).

That was a separate discussion and should be a separate patch IMO.
Please separate the two features.

I know that hanging client connections is *possibly* a sign that they
are trying to use some protocol where the server handshakes first.

However, the times when that was even halfway reliable are long gone.
Browsers implemented "happy eyeballs", Alex implemented standby
connections, IPv4 people block ICMP packet-too-big, etc ... new
connections with long timeout are a very common error in otherwise
perfectly normal HTTP traffic. It is invalid criteria to base a
determination of the "unsupported protocol" status.

Also, allowing a client to bypass the proxy simply by hanging their
connection for some seconds/minutes before using it is an extremely
hazardous action to allow. I would be surprised if any sane admin wanted
this to happen.

In short, I want to see this added separately with a default action on
this timeout to be connection close / TCP_RST or the usual squid error
page (no checking for bypass until someone can provide a rock-solid
reason for it and way to do so reliably).


> 
> No support for tunneling through cache_peers is included. Configurations
> that direct outgoing traffic through a peer may break Squid.
> 
> Configuration sketch:
> 
>    # define what Squid errors indicate receiving non-HTTP traffic:
>    acl foreignProtocol squid_error ERR_WRONG_PROTOCOL ERR_TOO_BIG

TOO_BIG is not correct for this. It appears if the URL field or the mime
headers portions are larger than admin *configured* limits - regardless
of how valid they are in HTTP syntax.

There are a handful of situations where the too-big request happens so
routinely that status codes 414 and 431 got standardized to help
browsers auto-crop their request details and retry.


> 
>    # define what Squid errors indicate receiving nothing:
>    acl serverTalksFirstProtocol squid_error ERR_REQUEST_START_TIMEOUT
> 
>    # tunnel everything that does not look like HTTP:
>    on_first_request_error tunnel foreignProtocol
> 
>    # tunnel if we think the client waits for the server to talk first:
>    on_first_request_error tunnel serverTalksFirstProtocol
> 
>    # in all other error cases, just send an HTTP "error page" response:
>    on_first_request_error respond all
> 
>    # Configure how long to wait for the first byte on the incoming
>    # connection before raising an ERR_REQUEST_START_TIMEOUT error.
>    request_start_timeout 5 seconds
> 
> For more informations please read patch preamble.
> 
> This is a Measurement Factory project
> 

I've had a quick look through the patch. Two major things stood out:

1)  The timeout change being unrelated to the transparent proxy changes,
as mentioned above.

2) All changes in src/tunnel.cc seem to be needless.
 - tunnelStartShovelling() should *always* be the entrypoint to begin
transmit on a tunnel in any direction. At that point there is maybe
client data to send to server ...
 - The socket may not even permit one whole TCP_RCV_BUF worth of bytes
to be written in a single action. comm_write can handle that just fine.
If comm_write is unable to handle all the available conn->in.buf in one
comm_write() call then that would be a bug in comm to fix separate from
all this.
 There is simply no reason to add an extra if
(preReadClientData.length()) conditional in *every* packet I/O cycle.

Cheers
Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJURl+iAAoJELJo5wb/XPRjI2MIAJqSAbdiX08FKrCeXaPn1ZCP
kYSDcLVTBH9FQyHlGwXLlefh9YTaHnCSx+XLGrvqPFOWQtQ7RkECzQD0/VgxxxSt
tkm5Mrt2lNk/jvu153nctfraVvfWWz+yqF6sbcYv9Ufdr/QhVggob3c6kNIYido4
XFvvAqzaeV/g8FkylAcuCnnxIGLQcyzmUmsDg64shIKPx5nzUARxVkrDyHhjYPqU
D+lf4QMoyYuIJOytU++PdL2gkyEfVAtdLWZqfeaxZN89lRkpPGmNWRNOYjW+RqeY
WXGn0ulRlHuJpTOEsB98nGBd/sV51e49OnGo4cNAKXHI3IXK/49b9L4hqWj+rAY=
=4FE+
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Tue Oct 21 14:05:31 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 16:05:31 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #139
In-Reply-To: <1623846472.129.1413895906729.JavaMail.hudson@eu.squid-cache.org>
References: <1623846472.129.1413895906729.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <325277925.130.1413900331466.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/139/>

------------------------------------------
Started by user Francesco Chemolli
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Retrying after 10 seconds
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Retrying after 10 seconds
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)

From noc at squid-cache.org  Tue Oct 21 14:07:46 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 16:07:46 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #140
In-Reply-To: <325277925.130.1413900331466.JavaMail.hudson@eu.squid-cache.org>
References: <325277925.130.1413900331466.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1513738178.131.1413900466886.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/140/>

------------------------------------------
Started by user Francesco Chemolli
Building remotely on rs-centos-7 (gcc farm 7.0.1406 CentOS amd64-CentOS-7.0.1406 clang CentOS-7.0.1406 amd64-CentOS amd64) in workspace <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/>
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Retrying after 10 seconds
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Retrying after 10 seconds
Cleaning workspace...
ERROR: Failed to clean the workspace
java.io.IOException: remote file operation failed: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/> at hudson.remoting.Channel at 24a238fb:rs-centos-7
	at hudson.FilePath.act(FilePath.java:914)
	at hudson.FilePath.act(FilePath.java:896)
	at hudson.FilePath.deleteRecursive(FilePath.java:1092)
	at hudson.plugins.bazaar.BazaarSCM.branch(BazaarSCM.java:429)
	at hudson.plugins.bazaar.BazaarSCM.clone(BazaarSCM.java:416)
	at hudson.plugins.bazaar.BazaarSCM.checkout(BazaarSCM.java:262)
	at hudson.model.AbstractProject.checkout(AbstractProject.java:1253)
	at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:622)
	at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:528)
	at hudson.model.Run.execute(Run.java:1745)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: Remote call on rs-centos-7 failed
	at hudson.remoting.Channel.call(Channel.java:751)
	at hudson.FilePath.act(FilePath.java:907)
	... 13 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class hudson.Util
	at hudson.FilePath$12.invoke(FilePath.java:1095)
	at hudson.FilePath$12.invoke(FilePath.java:1092)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2484)
	at hudson.remoting.UserRequest.perform(UserRequest.java:118)
	at hudson.remoting.UserRequest.perform(UserRequest.java:48)
	at hudson.remoting.Request$2.run(Request.java:328)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)

From noc at squid-cache.org  Tue Oct 21 14:50:13 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 16:50:13 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
 3.HEAD-amd64-FreeBSD-10-clang #201
Message-ID: <1359416011.132.1413903013411.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-FreeBSD-10-clang/201/>


From noc at squid-cache.org  Tue Oct 21 14:57:13 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 21 Oct 2014 16:57:13 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#141
In-Reply-To: <1513738178.131.1413900466886.JavaMail.hudson@eu.squid-cache.org>
References: <1513738178.131.1413900466886.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2083388179.133.1413903433570.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/141/>


From chtsanti at users.sourceforge.net  Tue Oct 21 17:29:56 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Tue, 21 Oct 2014 20:29:56 +0300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
In-Reply-To: <54465FA3.5050506@treenet.co.nz>
References: <543EBD3B.40408@users.sourceforge.net>
 <54465FA3.5050506@treenet.co.nz>
Message-ID: <54469814.8000500@users.sourceforge.net>

On 10/21/2014 04:29 PM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Sorry I didn't get back to you on this earier.
>
> Please hold off on this until the Parser-NG patch lands. You may
> want/need to redesign parts of this based on parser changes already in
> that branch, or which will follow in the next stages.
> In fact this tunneling behaviour was to *be* one of the following stages.

OK.

>
> Some hints follow ...
>
> On 16/10/2014 7:30 a.m., Tsantilas Christos wrote:
>>
>> Intercepting proxies often receive non-HTTP connections. Squid cannot
>> currently deal with such connections well because it assumes that a
>> given port receives HTTP, FTP, or HTTPS traffic exclusively. This patch
>> allows Squid to tunnel unexpected connections instead of terminating
>> them with an error.
>>
>> This patch:
>>     -Defines an unexpected connection as a connection that resulted in a
>> Squid error during first request parsing. Which errors trigger tunneling
>> behavior is configurable by the admin using ACLs.
>
> The new parser will give a definitive fail answer to identify non-HTTP
> traffic. Consisting of hp->parse() call returning false, and
> hp->request_parse_status == Http::scBadRequest.
>
> You can see the relevant case at the top of client_side.cc
> parseHttpRequest() where it emits "error:invalid-request".

Please see my comments bellow....
If required I will make my comments in parser-ng patch discussion too....

>
> I have also just committed the flexible transferProtocol member for
> ConnStateData. With this proposed feature we will need to add a
> AnyP::PROTO_TCP and set the traffic type to be that when bypassing
> opaque data through the proxy.

Yep I saw this change.
I will remake the patch after your patch applied to trunk.


>>
>>    - Adds "on_first_request_error", a new ACL-driven squid.conf directive
>> that can be used to establish a blind TCP tunnel which relays all bytes
>> from/to the intercepted connection to/from the intended destination
>> address. See the sketch above.
>> The on_first_request_error directive supports fast ACLs only.
>>
>
> What a nasty name for an access list.

it is not so bad :-)

>
>
> I believe tcp_tunnel or tunnel_transparent would be more descriptive of
> the test is *checking* for. Particularly when we fix the missing CONNECT
> via peers issue.
>
>
> The "only checked on first request failure" detail can be left in the
> directive documentation. I also suspect that is a false statement since
> anything we do with a CONNECT body that fails will need a matching check
> applied.
>
> ssl-bump calls its version of tunnelling "ssl_bump splice". So if we are
> continuing with the splice vs tunnel terminology the syntax would look
> something like this:
>
>   tcp_tunnel deny localhost
>   tcp_tunnel splice all
>
>
> After this change goes in there will undoubtedly be requests to extend
> it so that we do not waste time waiting for a parse error and just allow
> a transparent port to tunnel selected connections right from accept().
> So lets be prepared for that with the right naming and scope from the start.

The tcp_tunnel is not a bad name.
Lets see if Alex has a different opinion on see...


>>    - Adds "squid_error", a new ACL type to match transactions that
>> triggered a given Squid error. Squid error IDs are used to configure one
>> or more errors to match. This is similar to the existing ssl_error ACL
>> type but works with Squid-generated errors rather than SSL library errors.
>
> Note that what you are calling an "error" is just the presented payload
> page ID. It is not necessarily one of the registered codes in the
> template list since deny_info attached to any ACL can change it and load
> custom pages.

It is the error we are recording to request::errType or the error passed 
directly to FillledChecklist::requestErrorType

The HttpRequest::errType set using the HttpRequest::detailError() method 
which will not update with new error code the errType member it it is 
already set.
So I believe that the deny_info can not change/adjust the 
HttpRequest::errType. This is always the first error.
Am I missing something?

>
>>
>>    - Adds "ERR_WRONG_PROTOCOL", a new Squid error triggered for http_port
>> connections that start with something that lacks even basic HTTP request
>> structure. This error is triggered by the HTTP request parser, and
>> probably only when/after the current parsing code detects an error.
>
> There is nothing wrong about the protocol. It is the administrators
> "bad" decision to intercept that port which is the problem.
>
>   ERR_UNSUP_PROTOCOL is more correct and even matches the actual template
> message you picked.

Actually still I am confused about the correct errors...
Probably the ERR_UNSUP_PROTOCOL is an error triggered where we can read 
the protocol, but we are not support it. For example a request in the 
form:
     GET rtsp://destodomain.com/path/ RTSP/1.1

The wrong protocol menas a completely foreign protocol, for example a 
sequence of binary chars...
But still I am not sure if we need to separate these cases....

>
> Also, what HTTP status code are you intending to use for this template?
> since scBadRequest maps to ERR_INVALID_REQUEST already.

Bad request may include a variety of errors in an HTTP request. But not 
an unknown protocol.

Do you think that these cases can be handled (and needed) in new 
parser-ng patch?


>
>
>>
>>    Adds "request_start_timeout", a new squid.conf directive to trigger a
>> new Squid ERR_REQUEST_START_TIMEOUT error if no bytes are received from
>> the client on a newly established http_port connection during the
>> configured time period. Applies to all http_ports (for now).
>
> That was a separate discussion and should be a separate patch IMO.
> Please separate the two features.

Does it make sense this feature with out the non-http bypass feature?

>
> I know that hanging client connections is *possibly* a sign that they
> are trying to use some protocol where the server handshakes first.
>
> However, the times when that was even halfway reliable are long gone.
> Browsers implemented "happy eyeballs", Alex implemented standby
> connections, IPv4 people block ICMP packet-too-big, etc ... new
> connections with long timeout are a very common error in otherwise
> perfectly normal HTTP traffic. It is invalid criteria to base a
> determination of the "unsupported protocol" status.

Yes! this is true.
Also the browsers may open connections just in case they need them in 
the future.
It is not a prof but it is an indication. Just for special applications.
It can be combined with other acls (ip addresses)

>
> Also, allowing a client to bypass the proxy simply by hanging their
> connection for some seconds/minutes before using it is an extremely
> hazardous action to allow. I would be surprised if any sane admin wanted
> this to happen.

Yes. But we should not consider clients always as enemies.
There are cases where there is trust between admins and users.

>
> In short, I want to see this added separately with a default action on
> this timeout to be connection close / TCP_RST or the usual squid error
> page (no checking for bypass until someone can provide a rock-solid
> reason for it and way to do so reliably).
>
>
>>
>> No support for tunneling through cache_peers is included. Configurations
>> that direct outgoing traffic through a peer may break Squid.
>>
>> Configuration sketch:
>>
>>     # define what Squid errors indicate receiving non-HTTP traffic:
>>     acl foreignProtocol squid_error ERR_WRONG_PROTOCOL ERR_TOO_BIG
>
> TOO_BIG is not correct for this. It appears if the URL field or the mime
> headers portions are larger than admin *configured* limits - regardless
> of how valid they are in HTTP syntax.

It is an example.
I will remove it.


>
> There are a handful of situations where the too-big request happens so
> routinely that status codes 414 and 431 got standardized to help
> browsers auto-crop their request details and retry.
>
>
>>
>>     # define what Squid errors indicate receiving nothing:
>>     acl serverTalksFirstProtocol squid_error ERR_REQUEST_START_TIMEOUT
>>
>>     # tunnel everything that does not look like HTTP:
>>     on_first_request_error tunnel foreignProtocol
>>
>>     # tunnel if we think the client waits for the server to talk first:
>>     on_first_request_error tunnel serverTalksFirstProtocol
>>
>>     # in all other error cases, just send an HTTP "error page" response:
>>     on_first_request_error respond all
>>
>>     # Configure how long to wait for the first byte on the incoming
>>     # connection before raising an ERR_REQUEST_START_TIMEOUT error.
>>     request_start_timeout 5 seconds
>>
>> For more informations please read patch preamble.
>>
>> This is a Measurement Factory project
>>
>
> I've had a quick look through the patch. Two major things stood out:
>
> 1)  The timeout change being unrelated to the transparent proxy changes,
> as mentioned above.
>
> 2) All changes in src/tunnel.cc seem to be needless.
>   - tunnelStartShovelling() should *always* be the entrypoint to begin
> transmit on a tunnel in any direction. At that point there is maybe
> client data to send to server ...
>   - The socket may not even permit one whole TCP_RCV_BUF worth of bytes
> to be written in a single action. comm_write can handle that just fine.
> If comm_write is unable to handle all the available conn->in.buf in one
> comm_write() call then that would be a bug in comm to fix separate from
> all this.
>   There is simply no reason to add an extra if
> (preReadClientData.length()) conditional in *every* packet I/O cycle.

I will review the related changes. I am to tired now to make clear 
thoughts on this...



>
> Cheers
> Amos
>




From squid3 at treenet.co.nz  Wed Oct 22 03:07:40 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 22 Oct 2014 16:07:40 +1300
Subject: [squid-dev] [RFC] Auth design changes
Message-ID: <54471F7C.4020901@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Negotiate auth protocol is a bit nasty since it is a wrapper protocol
around both NTLM and Kerberos.

We are facing issues where Negotiate/NTLM handling differs from plain
NTLM and the negotiate_wrapper helper can fail as a result.

Markus has requested I look into merging the wrapper helper
functionality into the Negotiate auth module itself instead of a
separate helper. It has been a long task trying to figure it out but I
think I may have a way forward finally.


What I would like to do is:

 * adjust the module APIs such that the label they emit on headers was
configurable and could be changed at runtime independent of the type()
name they are configured and indexed by.

 * move most of the existing Negotiate code to a module called
Kerberos. Which would think its native scheme type() was "Kerberos"
[albeit unused], and emit the helper blobs as-is.

 * write a new Negotiate module that has Config::decode() probe the
GSSAPI header for protocol sub-type then generates a Ntlm::UserRequest
or Kerberos::UserRequest object. Calling the new API methods to set
their header label "Negotiate".
 - this would only happen for the sub-protocols which were configured
of course.

 * the Negotiate module would completely lack its own UserRequest and
User objects, and helpers. Emitting the NTLM or Kerberos module
objects instead which use the appropriate other sub-protocol specific
helpers.

 * the Negotiate module configuration would disappear and be
auto-enabled whenever a) the Kerberos scheme was configured, or b) a
flag on NTLM module auth_param was enabled.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJURx98AAoJELJo5wb/XPRjt/4H/iW5TCE43lLln4I80dL3uNxy
R2QjTOYg27usXEi8r3r9tA9jVBPVm+gHb7gbJQxfpGjHOtqgiMvlSUc9nsWcRb4V
6kpG31j4pAqnaRIcOdZaFOoVDyAFE0faIPyarXxdnvzQqVHTt81Mm0jkMxgzmfGO
IO0kRExmyQtzxzMyU1yqsmRQAlisGCCRVpfREtHeevHXDpGUGQ15NkNXGFsYSCVr
LNPYzr9jA7N1wSPQaH21Ybjs+v9eA9VuTAdZV+oyiX3HywEdc1YBKdma3bRUPuuH
AVlmXCPnbVH0h4RcscEZ0MDjxKj6ZlnKCAnhe5Xxnvp/m8NOfIJhUcaMctCZrg8=
=IRbh
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Wed Oct 22 08:12:55 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 22 Oct 2014 11:12:55 +0300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
In-Reply-To: <54465FA3.5050506@treenet.co.nz>
References: <543EBD3B.40408@users.sourceforge.net>
 <54465FA3.5050506@treenet.co.nz>
Message-ID: <54476707.2080204@users.sourceforge.net>

On 10/21/2014 04:29 PM, Amos Jeffries wrote:
> 2) All changes in src/tunnel.cc seem to be needless.

Some changes are required!

>   - tunnelStartShovelling() should *always* be the entrypoint to begin
> transmit on a tunnel in any direction. At that point there is maybe
> client data to send to server ...

Yes.

>   - The socket may not even permit one whole TCP_RCV_BUF worth of bytes
> to be written in a single action. comm_write can handle that just fine.
> If comm_write is unable to handle all the available conn->in.buf in one
> comm_write() call then that would be a bug in comm to fix separate from
> all this.

This is true. However we are using two buffers to read/write to/from 
server/client. The TunnelState::client::buf and TunnelState::server::buf 
which are of size SQUID_TCP_SO_RCVBUF

At early stages of this patch I tried to convert these buffers to SBufs 
, but required many changes in the tunnel.cc code, so I revert the 
changes and finally implemented the  TunnelStateData::copyClientBytes 
member.

>   There is simply no reason to add an extra if
> (preReadClientData.length()) conditional in *every* packet I/O cycle.


As you can see the old code copies the ConnStateData::in->buf data to 
TunnelStateData->client.buf buffer. This is because in the case you are 
read a CONNECT request you can be sure that the extra bytes you read are 
not hugger than the SQUID_TCP_SO_RCVBUF.

But for this patch imagine the case where:
   - Squid configured with:
        request_header_max_size 70kbs
   - Client sends something which looks like an HTTP request eg:
         AMETHOD [spaces]* string [spaces]* ... Other data
     Also assume that this is more than the size of 70k.
   - Squid will read 70k before decide that this is not an HTTP request.
   - The 70k are not fit to TunnelStateData->client.buf

An alternate solution is to add some code to build/fix 
TunnelStateData->client.buf to have the required size.
I need to recheck, but looks a good solution.
Is it ok?

>
> Cheers
> Amos
>


From squid3 at treenet.co.nz  Wed Oct 22 12:44:38 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Oct 2014 01:44:38 +1300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
In-Reply-To: <54476707.2080204@users.sourceforge.net>
References: <543EBD3B.40408@users.sourceforge.net>
 <54465FA3.5050506@treenet.co.nz> <54476707.2080204@users.sourceforge.net>
Message-ID: <5447A6B6.1050904@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 22/10/2014 9:12 p.m., Tsantilas Christos wrote:
> On 10/21/2014 04:29 PM, Amos Jeffries wrote:
>> 2) All changes in src/tunnel.cc seem to be needless.
> 
> Some changes are required!
> 
>> - tunnelStartShovelling() should *always* be the entrypoint to
>> begin transmit on a tunnel in any direction. At that point there
>> is maybe client data to send to server ...
> 
> Yes.
> 
>> - The socket may not even permit one whole TCP_RCV_BUF worth of
>> bytes to be written in a single action. comm_write can handle
>> that just fine. If comm_write is unable to handle all the
>> available conn->in.buf in one comm_write() call then that would
>> be a bug in comm to fix separate from all this.
> 
> This is true. However we are using two buffers to read/write
> to/from server/client. The TunnelState::client::buf and
> TunnelState::server::buf which are of size SQUID_TCP_SO_RCVBUF
> 
> At early stages of this patch I tried to convert these buffers to
> SBufs , but required many changes in the tunnel.cc code, so I
> revert the changes and finally implemented the
> TunnelStateData::copyClientBytes member.

Arg, sorry you are right. I forgot that my previous conversion to SBuf
did not make it through Alex audit requirements.

Is this an urgent need? or can we work on fixing that problem first to
reduce the changes this feature requires?

> 
>> There is simply no reason to add an extra if 
>> (preReadClientData.length()) conditional in *every* packet I/O
>> cycle.
> 
> 
> As you can see the old code copies the ConnStateData::in->buf data
> to TunnelStateData->client.buf buffer. This is because in the case
> you are read a CONNECT request you can be sure that the extra bytes
> you read are not hugger than the SQUID_TCP_SO_RCVBUF.
> 
> But for this patch imagine the case where: - Squid configured
> with: request_header_max_size 70kbs - Client sends something which
> looks like an HTTP request eg: AMETHOD [spaces]* string [spaces]*
> ... Other data Also assume that this is more than the size of 70k. 
> - Squid will read 70k before decide that this is not an HTTP
> request. - The 70k are not fit to TunnelStateData->client.buf
> 
> An alternate solution is to add some code to build/fix 
> TunnelStateData->client.buf to have the required size. I need to
> recheck, but looks a good solution. Is it ok?
> 

Okay. I find it acceptible as a workaround for the buffer limitation.

I would rather see the limit fixed though. Alex and I have now almost
reached agreement on the Comm::Write API needed to SBuf the tunnel I/O
fully. If this bypass feature can wait for a while I will divert my
efforts to getting that completed now.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUR6a1AAoJELJo5wb/XPRjZ4EH+gL4YoDwKFWIzV9FvzYLGE0n
wxY1We5Nk3PqP3YH/BTMnoA0XMdQ9+SPd4sHFVhU3lnx/xUztI83i/2k18+6d4SH
Dl1NHS/pBsIkCvwJ6hc3ZDgG3+LTkHv5A0UuYqU5PbLkU63TPoNkFT6elfXZMNkL
8K/vSw75GpI+0AYGTw7NbqHuuG8XLM1CL8Y7jKug9SiZn9w/9RFsa4BmOZ4LYBa6
nQdjmus5dcdLk0OMF4oAGnR6XytzwjO47TiOywE9FcbzismKO/aRCdq5pV5sLJHe
xDTfcmB9OJiOvPbMLhlilWtc1oveoYtWsyKQy1kPk1tXj+/KPLi8HKEaN2onjg8=
=+Iz9
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Wed Oct 22 13:06:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 22 Oct 2014 15:06:49 +0200 (CEST)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #61
Message-ID: <1556618942.134.1413983209225.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/61/changes>

Changes:

[Amos Jeffries] Drop dead code HttpStateData::ReadReplyWrapper()

------------------------------------------
[...truncated 11240 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/22 13:06:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/22 13:06:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/22 13:06:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/22 13:06:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct 22 14:13:03 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 22 Oct 2014 16:13:03 +0200 (CEST)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #62
In-Reply-To: <1556618942.134.1413983209225.JavaMail.hudson@eu.squid-cache.org>
References: <1556618942.134.1413983209225.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2039041336.135.1413987183878.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/62/>


From chtsanti at users.sourceforge.net  Wed Oct 22 14:15:49 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Wed, 22 Oct 2014 17:15:49 +0300
Subject: [squid-dev] [PATCH] Non-HTTP bypass
In-Reply-To: <5447A6B6.1050904@treenet.co.nz>
References: <543EBD3B.40408@users.sourceforge.net>
 <54465FA3.5050506@treenet.co.nz> <54476707.2080204@users.sourceforge.net>
 <5447A6B6.1050904@treenet.co.nz>
Message-ID: <5447BC15.9000406@users.sourceforge.net>

On 10/22/2014 03:44 PM, Amos Jeffries wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 22/10/2014 9:12 p.m., Tsantilas Christos wrote:
>> On 10/21/2014 04:29 PM, Amos Jeffries wrote:
>>> 2) All changes in src/tunnel.cc seem to be needless.
>>
>> Some changes are required!
>>
>>> - tunnelStartShovelling() should *always* be the entrypoint to
>>> begin transmit on a tunnel in any direction. At that point there
>>> is maybe client data to send to server ...
>>
>> Yes.
>>
>>> - The socket may not even permit one whole TCP_RCV_BUF worth of
>>> bytes to be written in a single action. comm_write can handle
>>> that just fine. If comm_write is unable to handle all the
>>> available conn->in.buf in one comm_write() call then that would
>>> be a bug in comm to fix separate from all this.
>>
>> This is true. However we are using two buffers to read/write
>> to/from server/client. The TunnelState::client::buf and
>> TunnelState::server::buf which are of size SQUID_TCP_SO_RCVBUF
>>
>> At early stages of this patch I tried to convert these buffers to
>> SBufs , but required many changes in the tunnel.cc code, so I
>> revert the changes and finally implemented the
>> TunnelStateData::copyClientBytes member.
>
> Arg, sorry you are right. I forgot that my previous conversion to SBuf
> did not make it through Alex audit requirements.
>
> Is this an urgent need? or can we work on fixing that problem first to
> reduce the changes this feature requires?


I do not know if it worths the required work.
My understanding is that this is requires changes in comm/* code too...

>>
>>> There is simply no reason to add an extra if
>>> (preReadClientData.length()) conditional in *every* packet I/O
>>> cycle.
>>
>>
>> As you can see the old code copies the ConnStateData::in->buf data
>> to TunnelStateData->client.buf buffer. This is because in the case
>> you are read a CONNECT request you can be sure that the extra bytes
>> you read are not hugger than the SQUID_TCP_SO_RCVBUF.
>>
>> But for this patch imagine the case where: - Squid configured
>> with: request_header_max_size 70kbs - Client sends something which
>> looks like an HTTP request eg: AMETHOD [spaces]* string [spaces]*
>> ... Other data Also assume that this is more than the size of 70k.
>> - Squid will read 70k before decide that this is not an HTTP
>> request. - The 70k are not fit to TunnelStateData->client.buf
>>
>> An alternate solution is to add some code to build/fix
>> TunnelStateData->client.buf to have the required size. I need to
>> recheck, but looks a good solution. Is it ok?
>>
>
> Okay. I find it acceptible as a workaround for the buffer limitation.

For now as a temporary solution I will check if ConnStateData::in->buf 
is bigger than SQUID_TCP_SO_RCVBUF and if yes then do a realloc on 
TunnelStateData->client.buf before copy.
It is a rare case so I believe it is not a huge problem...

>
> I would rather see the limit fixed though. Alex and I have now almost
> reached agreement on the Comm::Write API needed to SBuf the tunnel I/O
> fully. If this bypass feature can wait for a while I will divert my
> efforts to getting that completed now.

If you are near to finish it, then I suppose we can wait. But the 
related tunnel.cc code is small, so I believe we are not conflicting.


>
> Amos
>

From squid3 at treenet.co.nz  Wed Oct 22 23:35:39 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Oct 2014 12:35:39 +1300
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <1414002023.5314.1.camel@localhost>
References: <54471F7C.4020901@treenet.co.nz>
 <1414002023.5314.1.camel@localhost>
Message-ID: <54483F4B.9060806@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 23/10/2014 7:20 a.m., Henrik Nordström wrote:
> ons 2014-10-22 klockan 16:07 +1300 skrev Amos Jeffries:
> 
>> * move most of the existing Negotiate code to a module called 
>> Kerberos. Which would think its native scheme type() was
>> "Kerberos" [albeit unused], and emit the helper blobs as-is.
> 
> Note: There is/was also a HTTP "kerberos" auth scheme. Works the
> same as Negotiate but raw kerberos exchanges without the Windows
> negotiate wrapper.

Aye, do you know where I could find any documentation on how it is/was
supposed to work?

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUSD9LAAoJELJo5wb/XPRjaG8H/RDfGs7voGkx4uJs67x/rvTf
Sai63ItE0qeDYrLkl6TU6FeMx6M7RD3kI5/9Vl6vM8Pnr2qw7m0cqx345u71ow6z
pRWHKfL1B7VMEWgXZAzSe1d+He7GAApyVCrAIhWrxZ8oFQugI9mOQMl/kX2356y4
8ov7FSLrzzhuusNal1Shgb+CcPliwzXNZiFKM5Nm1bbI7mXl3ZwR9aq2ItWMowP7
jfal3x0zXmyhdl3skKvrwxBUQ8R0u9imKSa6n5JhS2gKKc3asH9EfBAItAFVPsr9
jpjzOrMPYXz/E+YbEAdN20FDbFfMlVNuemxoez07nRjX5LPgAkbfuF6E6MxgFY4=
=pLu5
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Thu Oct 23 05:12:02 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Oct 2014 18:12:02 +1300
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <1414040734.9490.2.camel@localhost>
References: <54471F7C.4020901@treenet.co.nz>	
 <1414002023.5314.1.camel@localhost> <54483F4B.9060806@treenet.co.nz>
 <1414040734.9490.2.camel@localhost>
Message-ID: <54488E22.2080000@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 23/10/2014 6:05 p.m., Henrik Nordström wrote:
> tor 2014-10-23 klockan 12:35 +1300 skrev Amos Jeffries:
> 
>> Aye, do you know where I could find any documentation on how it
>> is/was supposed to work?
> 
> There is no RFC on it. But it worked the same as Negotiate, just
> using raw GSSAPI blobs without the Microsoft Negotiate SSP
> wrapper.

Okay I think it will fit nicely in the proposed design.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUSI4hAAoJELJo5wb/XPRjm+4IALFb1uSiJd+9LmU7zGkiQwdl
Yktr8kIyG3/mhspNH/dqD/lCu6m/BIKirCXiwVRL+rEOsu3eqDJwUGuRxm0FwdI0
jRJljFPqTwyeC2vGP+O/ANED0ejkOEr9gwx8mVoXQMEKDUtJFmqXLfthSqEY/c2z
+Jbc4gcpt57Y8OhYedI63m/STbcLu0qw/ZjB23aAGHcixOpHEAd1W1uyyAJRpQGg
6WlG1zWv54J5G+G+6H6NA4CQu9eaKMKWxnfr7KSfAG9XcCt0It8ltZQLkdsjCkrO
aouuZ8evZdlDY3HBZim6TpHjDXQJ3cvE8Um711bz9JE4K4Mk2ymoUUEMyQj7kH0=
=dSc7
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Thu Oct 23 11:42:33 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 24 Oct 2014 00:42:33 +1300
Subject: [squid-dev] [REVIEW] SBuf I/O Comm::Write API
Message-ID: <5448E9A9.20600@treenet.co.nz>

This patch is the proposed Comm::Write API update to handle SBuf writes.
It is PREVIEW because I have not yet altered or written any code to
actually use it yet as proof of correct operation. I intend to followup
with this as part of a larger tunnel conversion later if the design is
agreed.


It follows the same model as implented for Comm::Read:

* The code requiring a write(2) uses Comm::Write() to register interest
in writes with a callback.

* When write(2) is possible the registerd callback will be scheduled.

* The recipient of a write callback is permitted to use Comm::WriteNow()
to perform a synchronous write(2) operation (or not, if it chooses).

* The results of Comm::WriteNow() call are:
 - a Comm::Flag indicating OK/ERROR/INPROGRESS - where INPROGRESS
represents delay pool preventing write(2), or some minor error requiring
a retry,
 - the buffer passed for immediate writing is consume()'d by the amount
actually written (which may leave it with remaining bytes).

* Comm::MonitorsWrite(fd) test is provided to check if a specific FD is
already active with a waiting callback.

Amos
-------------- next part --------------
=== modified file 'src/comm/Write.cc'
--- src/comm/Write.cc	2014-09-13 13:59:43 +0000
+++ src/comm/Write.cc	2014-10-23 09:42:40 +0000
@@ -1,162 +1,264 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #include "squid.h"
+#include "comm/comm_internal.h"
 #include "comm/Connection.h"
 #include "comm/IoCallback.h"
+#include "comm/Loops.h"
 #include "comm/Write.h"
 #include "fd.h"
 #include "fde.h"
 #include "globals.h"
 #include "MemBuf.h"
 #include "profiler/Profiler.h"
 #include "SquidTime.h"
 #include "StatCounters.h"
 #if USE_DELAY_POOLS
 #include "ClientInfo.h"
 #endif
 
 #include <cerrno>
 
+// Does comm check this fd for write readiness?
+// Note that when comm is not monitoring, there can be a pending callback
+// call, which may resume comm monitoring once fired.
+bool
+Comm::MonitorsWrite(int fd)
+{
+    assert(isOpen(fd) && COMMIO_FD_WRITECB(fd));
+    // Being active is usually the same as monitoring because we always
+    // start monitoring the FD when we configure Comm::IoCallback for I/O
+    // and we usually configure Comm::IoCallback for I/O when we starting
+    // monitoring a FD for writing.
+    return COMMIO_FD_WRITECB(fd)->active();
+}
+
+static void
+handleWriteNow(int fd, void *)
+{
+    PROF_start(commHandleWrite);
+    ScheduleCallHere(COMMIO_FD_WRITECB(fd)->callback);
+    PROF_stop(commHandleWrite);
+}
+
+void
+Comm::Write(const Comm::ConnectionPointer &conn, AsyncCall::Pointer &callback)
+{
+    debugs(5, 5, conn << ": sz (undefined): asynCall " << callback);
+
+    /* Make sure we are open, not closing, and not writing */
+    assert(fd_table[conn->fd].flags.open);
+    assert(!fd_table[conn->fd].closing());
+    Comm::IoCallback *ccb = COMMIO_FD_WRITECB(conn->fd);
+    assert(!ccb->active());
+
+    fd_table[conn->fd].writeStart = squid_curtime;
+    ccb->conn = conn;
+    /* Queue the write */
+    ccb->setCallback(IOCB_WRITE, callback, NULL, NULL, 0);
+    SetSelect(conn->fd, COMM_SELECT_WRITE, handleWriteNow, NULL, 0);
+}
+
 void
 Comm::Write(const Comm::ConnectionPointer &conn, MemBuf *mb, AsyncCall::Pointer &callback)
 {
     Comm::Write(conn, mb->buf, mb->size, callback, mb->freeFunc());
 }
 
 void
 Comm::Write(const Comm::ConnectionPointer &conn, const char *buf, int size, AsyncCall::Pointer &callback, FREE * free_func)
 {
     debugs(5, 5, HERE << conn << ": sz " << size << ": asynCall " << callback);
 
     /* Make sure we are open, not closing, and not writing */
     assert(fd_table[conn->fd].flags.open);
     assert(!fd_table[conn->fd].closing());
     Comm::IoCallback *ccb = COMMIO_FD_WRITECB(conn->fd);
     assert(!ccb->active());
 
     fd_table[conn->fd].writeStart = squid_curtime;
     ccb->conn = conn;
     /* Queue the write */
     ccb->setCallback(IOCB_WRITE, callback, (char *)buf, free_func, size);
     ccb->selectOrQueueWrite();
 }
 
-/** Write to FD.
- * This function is used by the lowest level of IO loop which only has access to FD numbers.
- * We have to use the comm iocb_table to map FD numbers to waiting data and Comm::Connections.
- * Once the write has been concluded we schedule the waiting call with success/fail results.
+/**
+ * Adjust the amount to write for available delay pool bandwidth.
  */
-void
-Comm::HandleWrite(int fd, void *data)
+static int
+delayPoolAdjustWriteSz(int wanted, int fd)
 {
-    Comm::IoCallback *state = static_cast<Comm::IoCallback *>(data);
-    int len = 0;
-    int nleft;
-
-    assert(state->conn != NULL && state->conn->fd == fd);
-
-    PROF_start(commHandleWrite);
-    debugs(5, 5, HERE << state->conn << ": off " <<
-           (long int) state->offset << ", sz " << (long int) state->size << ".");
-
-    nleft = state->size - state->offset;
-
 #if USE_DELAY_POOLS
     ClientInfo * clientInfo=fd_table[fd].clientInfo;
 
     if (clientInfo && !clientInfo->writeLimitingActive)
         clientInfo = NULL; // we only care about quota limits here
 
     if (clientInfo) {
         assert(clientInfo->selectWaiting);
         clientInfo->selectWaiting = false;
 
         assert(clientInfo->hasQueue());
         assert(clientInfo->quotaPeekFd() == fd);
         clientInfo->quotaDequeue(); // we will write or requeue below
 
-        if (nleft > 0) {
+        if (wanted > 0) {
             const int quota = clientInfo->quotaForDequed();
             if (!quota) {  // if no write quota left, queue this fd
                 state->quotaQueueReserv = clientInfo->quotaEnqueue(fd);
                 clientInfo->kickQuotaQueue();
-                PROF_stop(commHandleWrite);
-                return;
+                return -1;
             }
 
-            const int nleft_corrected = min(nleft, quota);
-            if (nleft != nleft_corrected) {
-                debugs(5, 5, HERE << state->conn << " writes only " <<
-                       nleft_corrected << " out of " << nleft);
-                nleft = nleft_corrected;
+            const int corrected = min(wanted, quota);
+            if (wanted != corrected) {
+                debugs(5, 5, "FD " << fd << " writes only " << corrected << " out of " << wanted);
+                wanted = corrected;
             }
-
         }
     }
 #endif /* USE_DELAY_POOLS */
 
-    /* actually WRITE data */
-    len = FD_WRITE_METHOD(fd, state->buf + state->offset, nleft);
-    debugs(5, 5, HERE << "write() returns " << len);
+    return wanted;
+}
+
+static void
+countWritten(int fd, int len)
+{
+    fd_bytes(fd, len, FD_WRITE);
+    ++statCounter.syscalls.sock.writes;
+    // After each successful partial write,
+    // reset fde::writeStart to the current time.
+    fd_table[fd].writeStart = squid_curtime;
 
 #if USE_DELAY_POOLS
+    ClientInfo * clientInfo=fd_table[fd].clientInfo;
+
+    if (clientInfo && !clientInfo->writeLimitingActive)
+        clientInfo = NULL; // we only care about quota limits here
+
     if (clientInfo) {
         if (len > 0) {
             /* we wrote data - drain them from bucket */
             clientInfo->bucketSize -= len;
             if (clientInfo->bucketSize < 0.0) {
-                debugs(5, DBG_IMPORTANT, HERE << "drained too much"); // should not happen
+                debugs(5, DBG_IMPORTANT, "FD " << fd << " drained too much"); // should not happen
                 clientInfo->bucketSize = 0;
             }
         }
 
         // even if we wrote nothing, we were served; give others a chance
         clientInfo->kickQuotaQueue();
     }
 #endif /* USE_DELAY_POOLS */
+}
 
-    fd_bytes(fd, len, FD_WRITE);
-    ++statCounter.syscalls.sock.writes;
-    // After each successful partial write,
-    // reset fde::writeStart to the current time.
-    fd_table[fd].writeStart = squid_curtime;
+/** Write to FD.
+ * This function is used by the lowest level of IO loop which only has access to FD numbers.
+ * We have to use the comm iocb_table to map FD numbers to waiting data and Comm::Connections.
+ * Once the write has been concluded we schedule the waiting call with success/fail results.
+ */
+void
+Comm::HandleWrite(int fd, void *data)
+{
+    Comm::IoCallback *state = static_cast<Comm::IoCallback *>(data);
+    int len = 0;
+    int nleft;
+
+    assert(state->conn != NULL && state->conn->fd == fd);
+
+    PROF_start(commHandleWrite);
+    debugs(5, 5, HERE << state->conn << ": off " <<
+           (long int) state->offset << ", sz " << (long int) state->size << ".");
+
+    nleft = state->size - state->offset;
+
+    /* For legacy callers : Attempt a write */
+    // Keep in sync with Comm::WriteNow()!
+    nleft = delayPoolAdjustWriteSz(nleft, fd);
+    if (nleft < 0)
+        return;
+
+    /* actually WRITE data */
+    len = FD_WRITE_METHOD(fd, state->buf + state->offset, nleft);
+    debugs(5, 5, HERE << "write() returns " << len);
+    countWritten(fd, len);
 
     if (len == 0) {
         /* Note we even call write if nleft == 0 */
         /* We're done */
         if (nleft != 0)
             debugs(5, DBG_IMPORTANT, "FD " << fd << " write failure: connection closed with " << nleft << " bytes remaining.");
 
         state->finish(nleft ? Comm::COMM_ERROR : Comm::OK, errno);
     } else if (len < 0) {
         /* An error */
-        if (fd_table[fd].flags.socket_eof) {
-            debugs(50, 2, HERE << "FD " << fd << " write failure: " << xstrerror() << ".");
-            state->finish(nleft ? Comm::COMM_ERROR : Comm::OK, errno);
-        } else if (ignoreErrno(errno)) {
+        if (!fd_table[fd].flags.socket_eof && ignoreErrno(errno)) {
             debugs(50, 9, HERE << "FD " << fd << " write failure: " << xstrerror() << ".");
             state->selectOrQueueWrite();
         } else {
             debugs(50, 2, HERE << "FD " << fd << " write failure: " << xstrerror() << ".");
             state->finish(nleft ? Comm::COMM_ERROR : Comm::OK, errno);
         }
     } else {
         /* A successful write, continue */
         state->offset += len;
 
         if (state->offset < state->size) {
             /* Not done, reinstall the write handler and write some more */
             state->selectOrQueueWrite();
         } else {
             state->finish(nleft ? Comm::OK : Comm::COMM_ERROR, errno);
         }
     }
 
     PROF_stop(commHandleWrite);
 }
+
+Comm::Flag
+Comm::WriteNow(CommIoCbParams &params, SBuf &buf)
+{
+    int nleft = delayPoolAdjustWriteSz(buf.length(), params.fd);
+    if (nleft < 0) {
+        return (params.flag = Comm::INPROGRESS);
+    }
+
+    /* actually WRITE data */
+    errno = 0;
+    int len = FD_WRITE_METHOD(params.fd, buf.rawContent(), nleft);
+    params.xerrno = errno;
+    debugs(5, 5, "write() returns " << len);
+    countWritten(params.fd, len);
+
+    if (len == 0) {
+        /* Note we even call write if nleft == 0 */
+        /* We're done */
+        if (nleft != 0)
+            debugs(5, DBG_IMPORTANT, "FD " << params.fd << " write failure: connection closed with " << nleft << " bytes remaining.");
+
+        params.flag = (nleft ? Comm::COMM_ERROR : Comm::OK);
+
+    } else if (len < 0) {
+        /* An error */
+        if (!fd_table[params.fd].flags.socket_eof && ignoreErrno(params.xerrno)) {
+            debugs(50, 9, "FD " << params.fd << " write failure: " << xstrerror() << ".");
+            params.flag = Comm::INPROGRESS;
+        } else {
+            debugs(50, 2, "FD " << params.fd << " write failure: " << xstrerror() << ".");
+            params.flag = (nleft ? Comm::COMM_ERROR : Comm::OK);
+        }
+    } else {
+        /* A successful write, consume buffer content */
+        params.flag = Comm::OK;
+        buf.consume(len);
+    }
+
+    return params.flag;
+}

=== modified file 'src/comm/Write.h'
--- src/comm/Write.h	2014-09-13 13:59:43 +0000
+++ src/comm/Write.h	2014-10-23 04:45:25 +0000
@@ -1,42 +1,70 @@
 /*
  * Copyright (C) 1996-2014 The Squid Software Foundation and contributors
  *
  * Squid software is distributed under GPLv2+ license and includes
  * contributions from numerous individuals and organizations.
  * Please see the COPYING and CONTRIBUTORS files for details.
  */
 
 #ifndef _SQUID_COMM_IOWRITE_H
 #define _SQUID_COMM_IOWRITE_H
 
 #include "base/AsyncCall.h"
+#include "comm/Flag.h"
 #include "comm/forward.h"
 #include "typedefs.h"
 
+class CommIoCbParams;
 class MemBuf;
+class SBuf;
+
 namespace Comm
 {
 
 /**
+ * Start monitoring for write.
+ *
+ * callback is scheduled when the write is possible,
+ * or on file descriptor close.
+ */
+void Write(const Comm::ConnectionPointer &conn, AsyncCall::Pointer &callback);
+
+/// whether the FD socket is being monitored for write
+bool MonitorsWrite(int fd);
+
+/**
+ * Perform a write(2) on a connection immediately.
+ *
+ * The returned flag is also placed in params.flag.
+ *
+ * \retval Comm::OK          data has been written and placed in buf, amount in params.size
+ * \retval Comm::COMM_ERROR  an error occured, the code is placed in params.xerrno
+ * \retval Comm::INPROGRESS  unable to write at this time, or a minor error occured
+ */
+Comm::Flag WriteNow(CommIoCbParams &params, SBuf &buf);
+
+/**
  * Queue a write. callback is scheduled when the write
  * completes, on error, or on file descriptor close.
  *
  * free_func is used to free the passed buffer when the write has completed.
+ * \deprecated use bufferless Comm::Write() API instead.
  */
 void Write(const Comm::ConnectionPointer &conn, const char *buf, int size, AsyncCall::Pointer &callback, FREE *free_func);
 
 /**
  * Queue a write. callback is scheduled when the write
  * completes, on error, or on file descriptor close.
+ * \deprecated use bufferless Comm::Write() API instead.
  */
 void Write(const Comm::ConnectionPointer &conn, MemBuf *mb, AsyncCall::Pointer &callback);
 
 /// Cancel the write pending on FD. No action if none pending.
 void WriteCancel(const Comm::ConnectionPointer &conn, const char *reason);
 
 // callback handler to process an FD which is available for writing.
 extern PF HandleWrite;
 
 } // namespace Comm
 
 #endif /* _SQUID_COMM_IOWRITE_H */


From huaraz at moeller.plus.com  Sun Oct 26 12:07:41 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Sun, 26 Oct 2014 12:07:41 -0000
Subject: [squid-dev] [PATCH] Kerberos improvements
In-Reply-To: <m14gl4$er3$1@ger.gmane.org>
References: <m11odm$ssp$1@ger.gmane.org> <m14gl4$er3$1@ger.gmane.org>
Message-ID: <m2io6f$ujr$1@ger.gmane.org>

Hi

   I have found some minor issues with my patch and here is an updated 
version.

Regards
Markus


"Markus Moeller"  wrote in message news:m14gl4$er3$1 at ger.gmane.org...

Somehow the message didn't get completely through. Here it is again

I have some further improvements for the Kerberos helpers. This includes

1) Option -n for kerberos_ldap_group.   This disables the automated Kerberos
authentication(SASL/GSSAPI) to AD and requires username/password
(SASL/SIMPLE) instead.
2) Improvements in caching Kerberos credentials for setup with low SQUID
cache TTL.
3) Output group= if negotiate_kerberos_auth can retrieve AD groups from
Kerberos ticket for further processing by squid to external helpers ( ones
the helper code supports transfer of the kv pairs as documented here
http://wiki.squid-cache.org/Features/AddonHelpers )


Please review.  As always I appreciate feedback.

Thank you
Markus


"Markus Moeller"  wrote in message news:m11odm$ssp$1 at ger.gmane.org...

Spam detection software, running on the system "master.squid-cache.org",
has identified this incoming email as possible spam.  The original
message has been attached to this so you can view it or label
similar future email.  If you have any questions, see
@@CONTACT_ADDRESS@@ for details.

Content preview:  Hi , I have some further improvments for the Kerberos
helpers.
   This includes 1) Option -n for kerberos_ldap_group. This disables the
automated
   Kerberos authentication(SASL/GSSAPI) to AD and requires username/password
   (SASL/SIMPLE) instead. 2) Improvements in caching Kerberos credentials
for
   setup with low SQUID cache TTL. 3) Output group= if
negotiate_kerberos_auth
   can retrieve AD groups from Kerberos ticket for further processing by
squid
   to external helpers ( ones the helper code supports transfer of the kv
pairs
   as documented here http://wiki.squid-cache.org/Features/AddonHelpers )
[...]


Content analysis details:   (5.7 points, 5.0 required)

pts rule name              description
---- ---------------------- --------------------------------------------------
0.0 URIBL_BLOCKED          ADMINISTRATOR NOTICE: The query to URIBL was
blocked.
                            See
                            http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                             for more information.
                            [URIs: squid-cache.org]
0.9 SPF_FAIL               SPF: sender does not match SPF record (fail)
[SPF failed: Please see
http://www.openspf.org/Why?s=mfrom;id=gcwsd-squid-dev%40m.gmane.org;ip=81.174.172.105;r=master.squid-cache.org]
0.0 T_HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level mail
                            domains are different
0.0 UNPARSEABLE_RELAY      Informational: message has unparseable relay
lines
1.3 RDNS_NONE              Delivered to internal network by a host with no
rDNS
3.5 TO_NO_BRKTS_MSFT       To: misformatted and supposed Microsoft tool

The original message was not completely plain text, and may be unsafe to
open with some email clients; in particular, it may contain a virus,
or confirm that your address can receive spam.  If you wish to view
it, it may be safer to save it to a file and open it with an editor.







_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev


_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: kerberos_improvements_2.patch.gz
Type: application/x-gzip
Size: 7022 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20141026/eec12176/attachment.bin>

From guido.serassio at acmeconsulting.it  Sun Oct 26 16:31:18 2014
From: guido.serassio at acmeconsulting.it (Guido Serassio)
Date: Sun, 26 Oct 2014 16:31:18 +0000
Subject: [squid-dev] R: R:  MinGW build of Squid-3.5
In-Reply-To: <542EF2D6.1090009@treenet.co.nz>
References: <542A50A4.2090305@treenet.co.nz>
 <542A5C99.4000901@treenet.co.nz> <542D943C.80909@treenet.co.nz>
 <0B31416C912584429DC230430752D91C0B9CB0C9@SBS.acmeconsulting.loc>
 <542EF2D6.1090009@treenet.co.nz>
Message-ID: <0B31416C912584429DC230430752D91C0BA358E7@SBS.acmeconsulting.loc>

Hi Amos,

The machine is up again.

Regards

Guido Serassio
Acme Consulting S.r.l.
Microsoft Silver Certified Partner
VMware Professional Partner
Via Carlo Capelli, 28             10146 - Torino (TO) - ITALY
Tel. : +39.011.9530135               Fax. : +39.011.9781115
Email: guido.serassio at acmeconsulting.it
WWW: http://www.acmeconsulting.it

> -----Messaggio originale-----
> Da: Amos Jeffries [mailto:squid3 at treenet.co.nz]
> Inviato: venerdì 3 ottobre 2014 21:03
> A: Guido Serassio; squid-dev at lists.squid-cache.org
> Oggetto: Re: R: [squid-dev] MinGW build of Squid-3.5
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> On 4/10/2014 4:16 a.m., Guido Serassio wrote:
> > Hi Amos,
> >
> > I'm in the way to rebuild my VMware infrastructure, now I'm very short
> > in resources .... Currently the build machine is powered off, when the
> > new VMware host will be ready, I can power on again the build machine,
> > adding more memory and CPU to the VM (now is 1 vCPU with 1 GB memory
> > .... )
> >
> 
> Aha. Okay thank you.
> 
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
> 
> iQEcBAEBAgAGBQJULvLWAAoJELJo5wb/XPRjQ4wIAIYjFEFjvbWIioA3n9Ehj5bU
> Lc1Dlb5oa5UnIiNTzarPgO0xFnpSJDAg7CLf2jzZfel22eeZ1QNeJ1/rsnPLvW63
> jVoJNYeIjHbQH0Jex8jqv0xvKey5Adrum3Lfv/RgDgCp3XBbvwa00Xxc3du8n1qG
> ziHAsusjI64ZlGfqBj52QbTuxNMBAVuOzOceT1+emXM2ZhH4BLXCfuZ3FzOPd/g4
> 35C1ywuLp8Ql6NuvdBx3hV74Rjns70aIq2r9PtXWzm0i5GxZn/PCS2fzmNEhAC7G
> obOOD3RH+/uWA3cFU+aXKZekXT2hAUCV2PvEb1DlsRrckWaI4TqBmwsr3kNR+a
> 0=
> =fkD3
> -----END PGP SIGNATURE-----

From noc at squid-cache.org  Tue Oct 28 03:25:53 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 04:25:53 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #63
Message-ID: <1568869829.137.1414466754139.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/63/changes>

Changes:

[Amos Jeffries] Source Maintenance

[Amos Jeffries] Boilerplate: add copyright blurb to misc files

[Amos Jeffries] Boilerplate: add copyright blurb to doc/Programming-Guide/

------------------------------------------
[...truncated 37382 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/28 03:25:19| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 03:25:19| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 03:25:19| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 03:25:19| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct 28 04:13:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 05:13:49 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-ubuntu-saucy #350
Message-ID: <1243488043.138.1414469629813.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/350/changes>

Changes:

[Amos Jeffries] Source Maintenance

------------------------------------------
[...truncated 64030 lines...]
Making uninstall in ident
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ident'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ident'>
Making uninstall in log
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /bin/rm -f -f /tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 /bin/rm -f -f /tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
 /bin/rm -f -f /tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
/bin/rm -f -f /tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-05-nodeps-esi.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/28 04:13:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 04:13:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 04:13:12| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:13:12| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-12996/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct 28 04:35:24 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 05:35:24 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #146
Message-ID: <1139818849.139.1414470924701.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/146/>

------------------------------------------
[...truncated 37247 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/28 04:35:05| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 04:35:05| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 04:35:05| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 04:35:05| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Tue Oct 28 04:41:41 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 05:41:41 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #64
In-Reply-To: <1568869829.137.1414466754139.JavaMail.hudson@eu.squid-cache.org>
References: <1568869829.137.1414466754139.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1880240252.140.1414471301908.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/64/>


From noc at squid-cache.org  Tue Oct 28 06:48:49 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 07:48:49 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#147
In-Reply-To: <1139818849.139.1414470924701.JavaMail.hudson@eu.squid-cache.org>
References: <1139818849.139.1414470924701.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2099038534.141.1414478929238.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/147/changes>


From noc at squid-cache.org  Tue Oct 28 06:56:12 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 07:56:12 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-ubuntu-saucy #351
In-Reply-To: <1243488043.138.1414469629813.JavaMail.hudson@eu.squid-cache.org>
References: <1243488043.138.1414469629813.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <2015101510.142.1414479372140.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/351/changes>


From noc at squid-cache.org  Tue Oct 28 07:29:32 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Tue, 28 Oct 2014 08:29:32 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #148
Message-ID: <916024960.143.1414481372857.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/148/>

------------------------------------------
[...truncated 38697 lines...]
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f /tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f /tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f /tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f /tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
 ( cd '/tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/28 07:28:23| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 07:28:23| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/28 07:28:23| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/28 07:28:23| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-19904/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From squid3 at treenet.co.nz  Tue Oct 28 08:32:09 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 28 Oct 2014 21:32:09 +1300
Subject: [squid-dev] [RFC] deprecating ICP protocol
Message-ID: <544F5489.7090804@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I would like to deprecate ICP protocol from a first-class citizen to a
second-class. Swapping it for HTCP as the default peer exchange
protocol for Squid-3.6.

ICP protocol was designed for use in HTTP/1.0 and works well for that.
However Squid and most servers are now HTTP/1.1 software.

ICP is not able to produce accurate results for the increasingly
popular HTTP/1.1 Vary objects. It will also have difficulty with
Store-ID adapted objects where header fields (Vary and others) are
used by the Store-ID helper.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUT1SJAAoJELJo5wb/XPRjhIIH/RlpvNb0bAnbn33hEhMnUeGH
408PmFqHKJLFBbuaAJUguhG2gi0dE/96eWlEUax47d57IfxQSe6lrXaA2kMZBsk4
T5z7AdUL7yah7oMDIcen28DeOHWNBKlWF4zTDgeT2hhmVO/CRzJiFvhZ7iyoiWjg
7dIRgELlRWvTWSmDtFe4xVl54+zp3MQGXXM1JOQmxBC4uAnrlL7Y35Q9qeAe3MO2
0dzfJdqqBJtKWsPWqInawXzWzNchJtrn7bZd6zpoZbkb4kmoMppM1q80ralRY4/Z
q6wr9gmILH4nzgCcHxg2OghxdkxQ84BB+7/DMHMPXIvsiZCbd+jyiIwC+SSdat4=
=p5Im
-----END PGP SIGNATURE-----

From gkinkie at gmail.com  Tue Oct 28 10:23:09 2014
From: gkinkie at gmail.com (Kinkie)
Date: Tue, 28 Oct 2014 11:23:09 +0100
Subject: [squid-dev] [RFC] deprecating ICP protocol
In-Reply-To: <544F5489.7090804@treenet.co.nz>
References: <544F5489.7090804@treenet.co.nz>
Message-ID: <CA+Y8hcNSwYy0V5nvuexvsJMcxO3QTdosRvw7fyNd42Kk8ipVZw@mail.gmail.com>

Hi,
  can it be salvaged somehow instead? e.g. having an ICP 2.0 which
includes the information needed in the modern world?

On Tue, Oct 28, 2014 at 9:32 AM, Amos Jeffries <squid3 at treenet.co.nz> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> I would like to deprecate ICP protocol from a first-class citizen to a
> second-class. Swapping it for HTCP as the default peer exchange
> protocol for Squid-3.6.
>
> ICP protocol was designed for use in HTTP/1.0 and works well for that.
> However Squid and most servers are now HTTP/1.1 software.
>
> ICP is not able to produce accurate results for the increasingly
> popular HTTP/1.1 Vary objects. It will also have difficulty with
> Store-ID adapted objects where header fields (Vary and others) are
> used by the Store-ID helper.
>
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUT1SJAAoJELJo5wb/XPRjhIIH/RlpvNb0bAnbn33hEhMnUeGH
> 408PmFqHKJLFBbuaAJUguhG2gi0dE/96eWlEUax47d57IfxQSe6lrXaA2kMZBsk4
> T5z7AdUL7yah7oMDIcen28DeOHWNBKlWF4zTDgeT2hhmVO/CRzJiFvhZ7iyoiWjg
> 7dIRgELlRWvTWSmDtFe4xVl54+zp3MQGXXM1JOQmxBC4uAnrlL7Y35Q9qeAe3MO2
> 0dzfJdqqBJtKWsPWqInawXzWzNchJtrn7bZd6zpoZbkb4kmoMppM1q80ralRY4/Z
> q6wr9gmILH4nzgCcHxg2OghxdkxQ84BB+7/DMHMPXIvsiZCbd+jyiIwC+SSdat4=
> =p5Im
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev



-- 
    Francesco

From squid3 at treenet.co.nz  Tue Oct 28 10:29:20 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 28 Oct 2014 23:29:20 +1300
Subject: [squid-dev] [RFC] deprecating ICP protocol
In-Reply-To: <CA+Y8hcNSwYy0V5nvuexvsJMcxO3QTdosRvw7fyNd42Kk8ipVZw@mail.gmail.com>
References: <544F5489.7090804@treenet.co.nz>
 <CA+Y8hcNSwYy0V5nvuexvsJMcxO3QTdosRvw7fyNd42Kk8ipVZw@mail.gmail.com>
Message-ID: <544F7000.3010000@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/10/2014 11:23 p.m., Kinkie wrote:
> Hi, can it be salvaged somehow instead? e.g. having an ICP 2.0
> which includes the information needed in the modern world?
> 

AFAICT that is what HTCP is. An updated form of ICP which includes
full message headers rather than just URL.

Amos

> On Tue, Oct 28, 2014 at 9:32 AM, Amos Jeffries
> <squid3 at treenet.co.nz> wrote: I would like to deprecate ICP
> protocol from a first-class citizen to a second-class. Swapping it
> for HTCP as the default peer exchange protocol for Squid-3.6.
> 
> ICP protocol was designed for use in HTTP/1.0 and works well for
> that. However Squid and most servers are now HTTP/1.1 software.
> 
> ICP is not able to produce accurate results for the increasingly 
> popular HTTP/1.1 Vary objects. It will also have difficulty with 
> Store-ID adapted objects where header fields (Vary and others) are 
> used by the Store-ID helper.
> 
> Amos
>> _______________________________________________ squid-dev mailing
>> list squid-dev at lists.squid-cache.org 
>> http://lists.squid-cache.org/listinfo/squid-dev
> 
> 
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUT3AAAAoJELJo5wb/XPRjfggIAKdAS1qIriqDDSpJxujlloRR
3fU1NTQ7iPqDENWeWhTTaanaIr32IYXV7g+X9nAzsF4lgSFtnjXC7xJhVscKRqtJ
OvTAaw0KXHavD/HHiw/QOxUky0cy47VmowdCROQnwkAl9N241EfTdyc4TIRI5zep
coip6izkJefO5Ra19CuTRb3FdDCKfO4LKywL1mUDBBwucvqfLyZXra6+sI4/rgEd
bQCZNOVNcU1J8jPpf1drDiEJLiGEQQw3OLYtd+yHUtX9iQYZZKEPGL4DXdmXIWtg
uAvOTg6QeDeacCNyHf2cK+Elnl/0dX1QBUP8pMt4vod1hJSj+UtADwEeskJwDvE=
=7RSi
-----END PGP SIGNATURE-----

From eliezer at ngtech.co.il  Tue Oct 28 11:07:50 2014
From: eliezer at ngtech.co.il (Eliezer Croitoru)
Date: Tue, 28 Oct 2014 13:07:50 +0200
Subject: [squid-dev] [RFC] deprecating ICP protocol
In-Reply-To: <544F5489.7090804@treenet.co.nz>
References: <544F5489.7090804@treenet.co.nz>
Message-ID: <544F7906.2020103@ngtech.co.il>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 10/28/2014 10:32 AM, Amos Jeffries wrote:
> I would like to deprecate ICP protocol from a first-class citizen
> to a second-class. Swapping it for HTCP as the default peer
> exchange protocol for Squid-3.6.
> 
> ICP protocol was designed for use in HTTP/1.0 and works well for
> that. However Squid and most servers are now HTTP/1.1 software.
> 
> ICP is not able to produce accurate results for the increasingly 
> popular HTTP/1.1 Vary objects. It will also have difficulty with 
> Store-ID adapted objects where header fields (Vary and others) are 
> used by the Store-ID helper.
> 
> Amos
Can we leave the ICP support(since it's very simple compared to HTCP)
and use HTCP as default instead?
We might add a warning in the parsing that it's not recommended.

Eliezer


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJUT3kGAAoJENxnfXtQ8ZQUTvUIAJjtmc4JZkF+w5jFshmtrEOT
E/gFFVs0iAZrmifBm5EARBTlJmGqEO18MgmtXu93IxbOB37GeeHIsfmCOceFaa86
+Bd/U/i0VnNkASZr+3bmVs4vqLoLUGSlyJYwRu2uByKG3LtNq5M2Pis6NfZgJXhO
B6vTQ0VsK4F0KDycjaoCwtajra0xGjHFmMttNOsrtyxS8VTKQAhD5M/PiHXiSNqm
d7cxeRcOeyZznTQfoeuTiG5zFNQls/886/OFh826bpmvKgWVcqbLcFM6fdWBpJKd
RFNWNvVTO4JNBww0/93/bwkCmYqIpdxiANhOUZJ9zPNpxrZ0tYpQganLT2CHCUQ=
=bTrn
-----END PGP SIGNATURE-----

From squid3 at treenet.co.nz  Wed Oct 29 04:51:12 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 29 Oct 2014 17:51:12 +1300
Subject: [squid-dev] [PATCH] Kerberos improvements
In-Reply-To: <m2io6f$ujr$1@ger.gmane.org>
References: <m11odm$ssp$1@ger.gmane.org> <m14gl4$er3$1@ger.gmane.org>
 <m2io6f$ujr$1@ger.gmane.org>
Message-ID: <54507240.30508@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 27/10/2014 1:07 a.m., Markus Moeller wrote:
> Hi
> 
> I have found some minor issues with my patch and here is an
> updated version.
> 
> Regards Markus
> 
> 
> "Markus Moeller"  wrote in message
> news:m14gl4$er3$1 at ger.gmane.org...
> 
> Somehow the message didn't get completely through. Here it is
> again
> 
> I have some further improvements for the Kerberos helpers. This
> includes
> 
> 1) Option -n for kerberos_ldap_group.   This disables the
> automated Kerberos authentication(SASL/GSSAPI) to AD and requires
> username/password (SASL/SIMPLE) instead. 2) Improvements in caching
> Kerberos credentials for setup with low SQUID cache TTL. 3) Output
> group= if negotiate_kerberos_auth can retrieve AD groups from 
> Kerberos ticket for further processing by squid to external helpers
> ( ones the helper code supports transfer of the kv pairs as
> documented here http://wiki.squid-cache.org/Features/AddonHelpers
> )
> 
> 
> Please review.  As always I appreciate feedback.
> 
> Thank you Markus
> 

Sorry its taken so long. Applied to trunk as rev.13667 (auth helper)
and rev.13668 (ACL helper)


There are a few coding techinque things to work on;

 * using pre-increment (++i) is better than post-increment (i++), and

 * sizeof(*mem_cache) instead of re-calculating the string lengths for
snprintf()
  - which relies on them not having changed mysteriously during the
(possibly long and interrupted) time malloc can take.

I am accepting anyway since it is at least consistent with the
existing helper code.

Amos


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUUHI/AAoJELJo5wb/XPRj/gAH/3qdIWTL3dalGYcg6BPxX1qi
WHV1O24CA6qLWx8E5jA5KBYaC6hx8W78Qiy4hPiR1dsfKI3L3GzdRt1qNIcs0bE9
INDbOWTo2yqc2LuZ9aBe02j9cNE4vHZPbghqitZoUMQybs7UvUTWgnwQ/T6l+PPD
B/5yL1jfDVx5anz4+Ko09GTgsR0t7co0yr3tOaP4Ifhg/7pQ0mRalyOESUuf55bh
Zfj10VvwAntHWz/jJQN2zIPop5N0jp9DRIVU5AOtX3OZYajkkBEYfvbwnEBIbS0R
acodz3fLaJuBmwPv/WIBzjjOO0mTHKeJrKNo2TNFSThL7KXPZkQlP6HqsWXbnU0=
=Oauf
-----END PGP SIGNATURE-----

From noc at squid-cache.org  Wed Oct 29 05:49:18 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 29 Oct 2014 06:49:18 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#149
In-Reply-To: <916024960.143.1414481372857.JavaMail.hudson@eu.squid-cache.org>
References: <916024960.143.1414481372857.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1117542226.144.1414561758301.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/149/changes>


From noc at squid-cache.org  Wed Oct 29 06:21:37 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 29 Oct 2014 07:21:37 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #66
Message-ID: <1675940999.145.1414563698099.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/66/changes>

Changes:

[Amos Jeffries] ext_kerberos_ldap_group_acl: -n option to disable automated SASL/GSSAPI

The -n option disables the automated Kerberos authentication
(SASL/GSSAPI) to AD and requires username/password (SASL/SIMPLE)
instead.

Also, improvements in caching Kerberos credentials for setup with low
Squid cache TTL.

[Amos Jeffries] negotiate_kerberos_auth: output group= kv-pair

Output group= if negotiate_kerberos_auth can retrieve AD groups from
Kerberos ticket for further processing by squid to external helpers.

------------------------------------------
[...truncated 37366 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/29 06:21:07| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/29 06:21:07| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/29 06:21:07| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/29 06:21:07| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Wed Oct 29 07:16:21 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 29 Oct 2014 08:16:21 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #67
In-Reply-To: <1675940999.145.1414563698099.JavaMail.hudson@eu.squid-cache.org>
References: <1675940999.145.1414563698099.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <475668395.146.1414566981294.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/67/>


From squid3 at treenet.co.nz  Wed Oct 29 09:19:10 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 29 Oct 2014 22:19:10 +1300
Subject: [squid-dev] [RFC] deprecating ICP protocol
In-Reply-To: <544F7906.2020103@ngtech.co.il>
References: <544F5489.7090804@treenet.co.nz> <544F7906.2020103@ngtech.co.il>
Message-ID: <5450B10E.4080107@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 29/10/2014 12:07 a.m., Eliezer Croitoru wrote:
> On 10/28/2014 10:32 AM, Amos Jeffries wrote:
>> I would like to deprecate ICP protocol from a first-class
>> citizen to a second-class. Swapping it for HTCP as the default
>> peer exchange protocol for Squid-3.6.
> 
>> ICP protocol was designed for use in HTTP/1.0 and works well for 
>> that. However Squid and most servers are now HTTP/1.1 software.
> 
>> ICP is not able to produce accurate results for the increasingly
>>  popular HTTP/1.1 Vary objects. It will also have difficulty with
>>  Store-ID adapted objects where header fields (Vary and others)
>> are used by the Store-ID helper.
> 
>> Amos
> Can we leave the ICP support(since it's very simple compared to
> HTCP) and use HTCP as default instead?

That is the proposal.

> We might add a warning in the parsing that it's not recommended.

I'm not intending to go quite that far yet. ICP is still valid as a
protocol, just not efficient anymore.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUULENAAoJELJo5wb/XPRjm14H/29LWIbujbNrIpzF8t2S1ZbQ
8d1gm9I9+IYP5gJJDtmgL5KqrM4cDIYYMf807DR5GjKr7TKT/KfAfKoZ72oClJV/
vH3IzIF+c7pVwyjr6VIZDyCaC/EtU7Sp6aRb4L1ehqZuSHd4Ga/fUYenQas1kOE1
+a/jaXPbCHTzOPWdCO9xjhAEAMB5BClrxiHlNTyoNlT0PDzRJCu31C8f/BCgJ8q+
eEBOXXU8ltnXOwPBEgmdG6AURzfiloXgh7IiqZfRQ354bFxGjG0rDw4L92YwHFrH
NTBE9VFknXoQDWYiu/TFWj2KnObvH2o2Tgq1SdTikNWscQU1Pm83Swc7WdV92Yw=
=8H68
-----END PGP SIGNATURE-----

From huaraz at moeller.plus.com  Wed Oct 29 20:10:14 2014
From: huaraz at moeller.plus.com (Markus Moeller)
Date: Wed, 29 Oct 2014 20:10:14 -0000
Subject: [squid-dev] [PATCH] Kerberos improvements
In-Reply-To: <54507240.30508@treenet.co.nz>
References: <m11odm$ssp$1@ger.gmane.org> <m14gl4$er3$1@ger.gmane.org>
 <m2io6f$ujr$1@ger.gmane.org> <54507240.30508@treenet.co.nz>
Message-ID: <m2rhj7$7ig$1@ger.gmane.org>

Appreciate the feedback

Thank you
Markus 

"Amos Jeffries"  wrote in message news:54507240.30508 at treenet.co.nz... 

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 27/10/2014 1:07 a.m., Markus Moeller wrote:
> Hi
> 
> I have found some minor issues with my patch and here is an
> updated version.
> 
> Regards Markus
> 
> 
> "Markus Moeller"  wrote in message
> news:m14gl4$er3$1 at ger.gmane.org...
> 
> Somehow the message didn't get completely through. Here it is
> again
> 
> I have some further improvements for the Kerberos helpers. This
> includes
> 
> 1) Option -n for kerberos_ldap_group.   This disables the
> automated Kerberos authentication(SASL/GSSAPI) to AD and requires
> username/password (SASL/SIMPLE) instead. 2) Improvements in caching
> Kerberos credentials for setup with low SQUID cache TTL. 3) Output
> group= if negotiate_kerberos_auth can retrieve AD groups from 
> Kerberos ticket for further processing by squid to external helpers
> ( ones the helper code supports transfer of the kv pairs as
> documented here http://wiki.squid-cache.org/Features/AddonHelpers
> )
> 
> 
> Please review.  As always I appreciate feedback.
> 
> Thank you Markus
> 

Sorry its taken so long. Applied to trunk as rev.13667 (auth helper)
and rev.13668 (ACL helper)


There are a few coding techinque things to work on;

* using pre-increment (++i) is better than post-increment (i++), and

* sizeof(*mem_cache) instead of re-calculating the string lengths for
snprintf()
  - which relies on them not having changed mysteriously during the
(possibly long and interrupted) time malloc can take.

I am accepting anyway since it is at least consistent with the
existing helper code.

Amos


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUUHI/AAoJELJo5wb/XPRj/gAH/3qdIWTL3dalGYcg6BPxX1qi
WHV1O24CA6qLWx8E5jA5KBYaC6hx8W78Qiy4hPiR1dsfKI3L3GzdRt1qNIcs0bE9
INDbOWTo2yqc2LuZ9aBe02j9cNE4vHZPbghqitZoUMQybs7UvUTWgnwQ/T6l+PPD
B/5yL1jfDVx5anz4+Ko09GTgsR0t7co0yr3tOaP4Ifhg/7pQ0mRalyOESUuf55bh
Zfj10VvwAntHWz/jJQN2zIPop5N0jp9DRIVU5AOtX3OZYajkkBEYfvbwnEBIbS0R
acodz3fLaJuBmwPv/WIBzjjOO0mTHKeJrKNo2TNFSThL7KXPZkQlP6HqsWXbnU0=
=Oauf
-----END PGP SIGNATURE-----
_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev


From noc at squid-cache.org  Thu Oct 30 06:25:03 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 07:25:03 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-ubuntu-saucy #354
Message-ID: <433880835.147.1414650303915.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/354/>

------------------------------------------
[...truncated 35901 lines...]
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in ssl
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f ssl_crtd )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/ssl'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 /bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
 /bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2 -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:    -g -O2 -std=c++11
cat: ../../src/DiskIO/../../scripts/boilerplate.h: No such file or directory
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/30 06:24:41| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 06:24:41| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 06:24:41| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:24:41| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-02-maximus/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Thu Oct 30 06:31:54 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 07:31:54 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7 #153
Message-ID: <1428130072.148.1414650714497.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/153/>

------------------------------------------
[...truncated 11189 lines...]
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 /usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
./etc/msntauth.conf
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
cat: ../../src/DiskIO/../../scripts/boilerplate.h: No such file or directory
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/30 06:31:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 06:31:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 06:31:33| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 06:31:33| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From chtsanti at users.sourceforge.net  Thu Oct 30 09:03:44 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Thu, 30 Oct 2014 11:03:44 +0200
Subject: [squid-dev] commit on bzr.squid-cache.org problems
Message-ID: <5451FEF0.8090104@users.sourceforge.net>

Hi all,

I am still having problems when trying to use squid bzr repository. 
Currently I am able to get updates but I can not commit on bzr 
repository. I am getting the following error:

bzr commit
bzr: ERROR: Cannot lock 
LockDir(filtered-139935940210576:///bzr/squid3/trunk/.bzr/branch/lock): 
Permission denied: "/bzr/squid3/trunk/.bzr/branch/lock/dts03rzm1k.tmp": 
[Errno 13] Permission denied: 
'/bzr/squid3/trunk/.bzr/branch/lock/dts03rzm1k.tmp'


Regards,
     Christos




From noc at squid-cache.org  Thu Oct 30 12:45:39 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 13:45:39 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal : 3.HEAD-amd64-centos-7
	#154
In-Reply-To: <1428130072.148.1414650714497.JavaMail.hudson@eu.squid-cache.org>
References: <1428130072.148.1414650714497.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <681798644.149.1414673139212.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7/154/changes>


From noc at squid-cache.org  Thu Oct 30 12:56:31 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 13:56:31 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-ubuntu-saucy #355
In-Reply-To: <433880835.147.1414650303915.JavaMail.hudson@eu.squid-cache.org>
References: <433880835.147.1414650303915.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <218135635.150.1414673791411.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/355/changes>


From noc at squid-cache.org  Thu Oct 30 13:00:39 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 14:00:39 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-centos-7-clang #70
Message-ID: <2146115624.151.1414674039691.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/70/changes>

Changes:

[Amos Jeffries] Boilerplate: add copyright blurb to auto-generated files and release notes

[Amos Jeffries] Source Maintenance: Add checks for copyright blurbs

* Check for copyright blurbs in repository files.

* Allow skipping of third-party and binary files.

* Add copyright blurb to auto-generated files created by maintenance
script.

------------------------------------------
[...truncated 12657 lines...]
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /usr/bin/rm -f -f /tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 /usr/bin/rm -f -f /tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /usr/bin/rm -f -f /tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
/usr/bin/rm -f -f /tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
 ( cd '/tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2
cat: ../../src/DiskIO/../../scripts/boilerplate.h: No such file or directory
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/30 12:59:51| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 12:59:51| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 12:59:51| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 12:59:51| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-11996/<http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/ws/btlayer-00-default/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From noc at squid-cache.org  Thu Oct 30 14:08:52 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 15:08:52 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-centos-7-clang #71
In-Reply-To: <2146115624.151.1414674039691.JavaMail.hudson@eu.squid-cache.org>
References: <2146115624.151.1414674039691.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <1637152205.152.1414678132019.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-centos-7-clang/71/>


From squid3 at treenet.co.nz  Thu Oct 30 14:25:39 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 31 Oct 2014 03:25:39 +1300
Subject: [squid-dev] commit on bzr.squid-cache.org problems
In-Reply-To: <5451FEF0.8090104@users.sourceforge.net>
References: <5451FEF0.8090104@users.sourceforge.net>
Message-ID: <54524A63.8040007@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 30/10/2014 10:03 p.m., Tsantilas Christos wrote:
> Hi all,
> 
> I am still having problems when trying to use squid bzr
> repository. Currently I am able to get updates but I can not commit
> on bzr repository. I am getting the following error:
> 
> bzr commit bzr: ERROR: Cannot lock 
> LockDir(filtered-139935940210576:///bzr/squid3/trunk/.bzr/branch/lock):
>
> 
Permission denied: "/bzr/squid3/trunk/.bzr/branch/lock/dts03rzm1k.tmp":
> [Errno 13] Permission denied: 
> '/bzr/squid3/trunk/.bzr/branch/lock/dts03rzm1k.tmp'
> 

I've re-added you to the committers group, so you should have full
permissions when using bzr+ssh with your login.
Can you try again please?

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUUkpjAAoJELJo5wb/XPRjrGAH/0DzfBaaDxHxUguy1D33+fs4
dyZX6nACXiN8fqX87z/COMVigwWK1z+KHtLdUxkm1I7RRkErMmGqcZWtmb/ef6iy
2v4rVTnd+KlkabAWqagR4MTHpJ3qFxJmdAh04lL+wa/y0zpo3uQ4E4RN86+WUP82
reXQk88SPSJdlN0zA9X8RKac6UEZTdzS882akw4vazHmcNluzSB5D4PEaeZBKO0H
EJYTsPPZR5k/llkP+93lJZ7hz9jcQcIHp56UW0+5hNtpYcIsX6X1bWIm5VUaZD3U
lSe2DBcquEqS93wt2tPFyCSQCFZXDTIlwty7k/tuA4ccYtRDtIWKwXAmIGx8jnY=
=rld2
-----END PGP SIGNATURE-----

From chtsanti at users.sourceforge.net  Thu Oct 30 15:19:12 2014
From: chtsanti at users.sourceforge.net (Tsantilas Christos)
Date: Thu, 30 Oct 2014 17:19:12 +0200
Subject: [squid-dev] commit on bzr.squid-cache.org problems
In-Reply-To: <54524A63.8040007@treenet.co.nz>
References: <5451FEF0.8090104@users.sourceforge.net>
 <54524A63.8040007@treenet.co.nz>
Message-ID: <545256F0.8060205@users.sourceforge.net>

On 10/30/2014 04:25 PM, Amos Jeffries wrote:
> I've re-added you to the committers group, so you should have full
> permissions when using bzr+ssh with your login.
> Can you try again please?

Thank you!

>
> Amos

From noc at squid-cache.org  Thu Oct 30 16:58:03 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 30 Oct 2014 17:58:03 +0100 (CET)
Subject: [squid-dev] Build failed in Jenkins: 3.HEAD-amd64-ubuntu-saucy #356
Message-ID: <175941233.153.1414688283550.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/356/changes>

Changes:

[Amos Jeffries] Source Maintenance: bump astyle version to 2.03

[squidadm at squid-cache.org] SourceFormat Enforcement

[Christos Tsantilas] Fix: Unable to open FTP socket during reconfigure

Squid does not close FTP listening ports on reconfigure.

------------------------------------------
[...truncated 64097 lines...]
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ident'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ident'>
Making uninstall in log
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/log'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/log'>
Making uninstall in ipc
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ipc'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/ipc'>
Making uninstall in mgr
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/mgr'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/mgr'>
Making uninstall in snmp
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/snmp'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/snmp'>
Making uninstall in adaptation
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in icap
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Nothing to be done for `uninstall'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation/icap'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
make[4]: Nothing to be done for `uninstall-am'.
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/adaptation'>
Making uninstall in esi
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Nothing to be done for `uninstall'.
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src/esi'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f diskd unlinkd )
 /bin/rm -f -f /tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share'> && rm -f mib.txt )
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f squid.8 )
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/sbin'> && rm -f squid )
 /bin/rm -f -f /tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/squid.conf>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc'> && rm -f squid.conf.default squid.conf.documented mime.conf.default )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/src'>
Making uninstall in tools
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in purge
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/purge'>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/bin'> && rm -f purge )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/purge'>
Making uninstall in squidclient
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[4]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/bin'> && rm -f squidclient )
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man1'> && rm -f squidclient.1 )
make[4]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools/squidclient'>
make[3]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f helper-mux.pl )
 /bin/rm -f -f /tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec'> && rm -f cachemgr.cgi )
/bin/rm -f -f /tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/cachemgr.conf.default>
 ( cd '/tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/man/man8'> && rm -f cachemgr.cgi.8 )
make[3]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/tools'>
Making uninstall in test-suite
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Nothing to be done for `uninstall'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build/test-suite'>
make[2]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[2]: Nothing to be done for `uninstall-am'.
make[2]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make[1]: Entering directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
ERROR: files left after uninstall:
  (check DESTDIR support)
.<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/msntauth.conf>
make[1]: *** [distuninstallcheck] Error 1
make[1]: Leaving directory `<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_build'>
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-05-nodeps-esi.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -Wall -g -O2
configure: BUILD EXTRA C FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
cat: ../../src/DiskIO/../../scripts/boilerplate.h: No such file or directory
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
# XFAIL: 0
# FAIL:  0
2014/10/30 16:57:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 16:57:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
2014/10/30 16:57:25| FATAL ERROR: MIME Config Table <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/mime.conf>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: unlinkd_program <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/unlinkd>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: logfile_daemon <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/libexec/log_file_daemon>: (2) No such file or directory
2014/10/30 16:57:25| FATAL ERROR: Icon Directory <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/share/icons>: (2) No such file or directory
<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/var/logs/cache.log>: No such file or directory
# XFAIL: 0
# FAIL:  0
diff: /tmp/am-dc-18362/<http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/ws/btlayer-05-nodeps-esi/squid-3.HEAD-BZR/_inst/etc/msntauth.conf.default>: No such file or directory
ERROR: files left after uninstall:
make[1]: *** [distuninstallcheck] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure

From eliezer at ngtech.co.il  Fri Oct 31 02:40:24 2014
From: eliezer at ngtech.co.il (Eliezer Croitoru)
Date: Fri, 31 Oct 2014 04:40:24 +0200
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <54488E22.2080000@treenet.co.nz>
References: <54471F7C.4020901@treenet.co.nz>
 <1414002023.5314.1.camel@localhost> <54483F4B.9060806@treenet.co.nz>
 <1414040734.9490.2.camel@localhost> <54488E22.2080000@treenet.co.nz>
Message-ID: <5452F698.40402@ngtech.co.il>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Am I missing something?

I see couple messages in the thread but only from amos.

On 10/23/2014 08:12 AM, Amos Jeffries wrote:
> On 23/10/2014 6:05 p.m., Henrik Nordström wrote:
>>> tor 2014-10-23 klockan 12:35 +1300 skrev Amos Jeffries:
>>> 
>>>>> Aye, do you know where I could find any documentation on
>>>>> how it is/was supposed to work?
>>> 
>>> There is no RFC on it. But it worked the same as Negotiate,
>>> just using raw GSSAPI blobs without the Microsoft Negotiate
>>> SSP wrapper.
> Okay I think it will fit nicely in the proposed design.
> 
> Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJUUvaYAAoJENxnfXtQ8ZQUTB4IAIVU9Nz+AynNkOuSJP65GKMT
SrjbFcWudjpmUiaOYNBt3lBS/du2CZsyexXUOyskikUAOaneVm+bICNBxmSwVaBl
jZZm1Wf+zZYRr5JaSg5rBN1+y7nq6mv02C9g5Mc9kcX+TWjvnoX0liFw3IW+S4Fm
eJAXrdB7bPW1Q6Bngq0z1SCzELVIwxtrqTRw1Q12D3utKkq+3o6CYvP3WgHUeOtN
g0RAMSVIdlG2r9e/VWMOh7JfT8H6VaAoouHlYfeTLIFmJXseDY2FZsT5riss30kG
l8jzJ4ZUmWo5k6znu496dUr26m5Y6gfMhasuv8UhorcOgIRSR2xuBa2GX+wgzoI=
=GPSu
-----END PGP SIGNATURE-----

From scantybabu at gmail.com  Fri Oct 31 05:20:05 2014
From: scantybabu at gmail.com (scanty babu)
Date: Fri, 31 Oct 2014 10:50:05 +0530
Subject: [squid-dev] Issue detected in squid 2.7 version
Message-ID: <CAEg=rBeFOvCY2_5wwXrK3ABDtTgH726O8V9vwKUucWB3O0DYMw@mail.gmail.com>

Hi,

We are using squid 2.7.7 version in our production environment and
recently faced an issue with this version.

The scenario:
1. Slow Client side connection
2. Fast Server side connection
3. Client sends a range request from the end eg. 10000 byte Content
length and the client requests 0-9500 bytes.

Client connection being slow, the server side reads get automatically
stopped when the data to be written to the client is more than the
ReadAhead gap(16KB, default in our case).

The server side reads are resumed when all the data in memory has been
written to the client.
The mechanism of defer and resume keeps occurring during the length of
the download.

This mechanism works properly in most of the cases, except where Range
request are involved.
The client gets the requested range of bytes, but does not flip
DEFER_READ flag on the server side FD. So, server reads wait for about
15 minutes(timeout) and connection is closed. The HTTP object is
released from the store even though the server has sent the complete
object.


The solution:
fwdDeferReadCheck function checks if the server side reads have to be
resumed/deferred. As DEFER_READ flag is still set on the FD reads will
never resume.So, we put a check


-    if (EBIT_TEST(e->flags, ENTRY_DEFER_READ)) {
+       Server-side fd stuck in defer state after client has received
the byte range requested by it.
+       Unblocking the server side connection, if there is no pending
client waiting on a store entry object.
+       If the pending data is more than quick_abort_max, then the
connection will be aborted by squid
+    */
+    if (EBIT_TEST(e->flags, ENTRY_DEFER_READ) &&
+         storePendingNClients(e)!=0 ) {
   commDeferFD(mem->serverfd);
   return 1;
     }

If there is more data to be read from the server, the quick_abort_max
configuration will make sure squid aborts the connection

Just wanted to bring to notice this issue in 2.7 version, so that it
can be fixed in latest squid versions 3.x (if present).

Also, please advise if we are doing it correctly (or if it could be
done otherwise).

Thanks,
scanty

From squid3 at treenet.co.nz  Fri Oct 31 05:40:38 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 31 Oct 2014 18:40:38 +1300
Subject: [squid-dev] Issue detected in squid 2.7 version
In-Reply-To: <CAEg=rBeFOvCY2_5wwXrK3ABDtTgH726O8V9vwKUucWB3O0DYMw@mail.gmail.com>
References: <CAEg=rBeFOvCY2_5wwXrK3ABDtTgH726O8V9vwKUucWB3O0DYMw@mail.gmail.com>
Message-ID: <545320D6.8020701@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 31/10/2014 6:20 p.m., scanty babu wrote:
> Hi,
> 
> We are using squid 2.7.7 version in our production environment and 
> recently faced an issue with this version.

Hi Scanty,
 Squid Project support for 2.7 was dropped several years ago. Are you
able to upgrade to a currently supported version?


> 
> The scenario: 1. Slow Client side connection 2. Fast Server side
> connection 3. Client sends a range request from the end eg. 10000
> byte Content length and the client requests 0-9500 bytes.
> 
> Client connection being slow, the server side reads get
> automatically stopped when the data to be written to the client is
> more than the ReadAhead gap(16KB, default in our case).
> 
> The server side reads are resumed when all the data in memory has
> been written to the client. The mechanism of defer and resume keeps
> occurring during the length of the download.
> 
> This mechanism works properly in most of the cases, except where
> Range request are involved. The client gets the requested range of
> bytes, but does not flip DEFER_READ flag on the server side FD. So,
> server reads wait for about 15 minutes(timeout) and connection is
> closed. The HTTP object is released from the store even though the
> server has sent the complete object.
> 
> 
> The solution: fwdDeferReadCheck function checks if the server side
> reads have to be resumed/deferred. As DEFER_READ flag is still set
> on the FD reads will never resume.So, we put a check
> 
> 
> -    if (EBIT_TEST(e->flags, ENTRY_DEFER_READ)) { +
> Server-side fd stuck in defer state after client has received the
> byte range requested by it. +       Unblocking the server side
> connection, if there is no pending client waiting on a store entry
> object. +       If the pending data is more than quick_abort_max,
> then the connection will be aborted by squid +    */ +    if
> (EBIT_TEST(e->flags, ENTRY_DEFER_READ) && +
> storePendingNClients(e)!=0 ) { commDeferFD(mem->serverfd); return
> 1; }
> 
> If there is more data to be read from the server, the
> quick_abort_max configuration will make sure squid aborts the
> connection
> 
> Just wanted to bring to notice this issue in 2.7 version, so that
> it can be fixed in latest squid versions 3.x (if present).
> 
> Also, please advise if we are doing it correctly (or if it could
> be done otherwise).

Bug reports should be submitted through our bugzilla. But they will
only be accepted if they can be demonstrated to occur in the latest
supported version.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUUyDWAAoJELJo5wb/XPRj5RUIAJPJtw0LUjt6a1sGFzsq4GUv
7oZg6rwWUf81sa76a87Y6MsDDKo4JRZhwGTChlcV8xYNfxLB+oMoqgQoFjORj7fU
e/v2+pVRhlkW8giXG0eBrE6Srp3CGXE69BvBSip9ArtMsDrOmYEvFwiucGWYAo4r
uVt4bBmnYCS30OQ/ZustliZa2+RdW6jKwDJiuMTJs3Kk9o+xkOAzXjICuQVqFj7B
rximbl6J0XZ0QnhmATO3b8wB0JgS0zdCAUylVV2DCs/ARTg3YffaSgy8gIvDa3qq
ZXxA2zaKN2V6sxXlKcJ4HaeIdvQfR2xbR6QKN/+AU5gkWdk1JdA5FfNjs+hwZbE=
=4m3Z
-----END PGP SIGNATURE-----

From scantybabu at gmail.com  Fri Oct 31 06:30:38 2014
From: scantybabu at gmail.com (scanty babu)
Date: Fri, 31 Oct 2014 12:00:38 +0530
Subject: [squid-dev] Issue detected in squid 2.7 version
In-Reply-To: <545320D6.8020701@treenet.co.nz>
References: <CAEg=rBeFOvCY2_5wwXrK3ABDtTgH726O8V9vwKUucWB3O0DYMw@mail.gmail.com>
 <545320D6.8020701@treenet.co.nz>
Message-ID: <CAEg=rBfk6FbRKwBE37fk8umL6f9QMDE3pj4z5vP2wEmjPCut6Q@mail.gmail.com>

Hi Amos,

We are using squid 2.7 version for legacy reasons.
I will try reproducing the issue in 3.x version and  file a bug in bugzilla.

Thanks,
scanty

On Fri, Oct 31, 2014 at 11:10 AM, Amos Jeffries <squid3 at treenet.co.nz> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 31/10/2014 6:20 p.m., scanty babu wrote:
>> Hi,
>>
>> We are using squid 2.7.7 version in our production environment and
>> recently faced an issue with this version.
>
> Hi Scanty,
>  Squid Project support for 2.7 was dropped several years ago. Are you
> able to upgrade to a currently supported version?
>
>
>>
>> The scenario: 1. Slow Client side connection 2. Fast Server side
>> connection 3. Client sends a range request from the end eg. 10000
>> byte Content length and the client requests 0-9500 bytes.
>>
>> Client connection being slow, the server side reads get
>> automatically stopped when the data to be written to the client is
>> more than the ReadAhead gap(16KB, default in our case).
>>
>> The server side reads are resumed when all the data in memory has
>> been written to the client. The mechanism of defer and resume keeps
>> occurring during the length of the download.
>>
>> This mechanism works properly in most of the cases, except where
>> Range request are involved. The client gets the requested range of
>> bytes, but does not flip DEFER_READ flag on the server side FD. So,
>> server reads wait for about 15 minutes(timeout) and connection is
>> closed. The HTTP object is released from the store even though the
>> server has sent the complete object.
>>
>>
>> The solution: fwdDeferReadCheck function checks if the server side
>> reads have to be resumed/deferred. As DEFER_READ flag is still set
>> on the FD reads will never resume.So, we put a check
>>
>>
>> -    if (EBIT_TEST(e->flags, ENTRY_DEFER_READ)) { +
>> Server-side fd stuck in defer state after client has received the
>> byte range requested by it. +       Unblocking the server side
>> connection, if there is no pending client waiting on a store entry
>> object. +       If the pending data is more than quick_abort_max,
>> then the connection will be aborted by squid +    */ +    if
>> (EBIT_TEST(e->flags, ENTRY_DEFER_READ) && +
>> storePendingNClients(e)!=0 ) { commDeferFD(mem->serverfd); return
>> 1; }
>>
>> If there is more data to be read from the server, the
>> quick_abort_max configuration will make sure squid aborts the
>> connection
>>
>> Just wanted to bring to notice this issue in 2.7 version, so that
>> it can be fixed in latest squid versions 3.x (if present).
>>
>> Also, please advise if we are doing it correctly (or if it could
>> be done otherwise).
>
> Bug reports should be submitted through our bugzilla. But they will
> only be accepted if they can be demonstrated to occur in the latest
> supported version.
>
> Amos
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.22 (MingW32)
>
> iQEcBAEBAgAGBQJUUyDWAAoJELJo5wb/XPRj5RUIAJPJtw0LUjt6a1sGFzsq4GUv
> 7oZg6rwWUf81sa76a87Y6MsDDKo4JRZhwGTChlcV8xYNfxLB+oMoqgQoFjORj7fU
> e/v2+pVRhlkW8giXG0eBrE6Srp3CGXE69BvBSip9ArtMsDrOmYEvFwiucGWYAo4r
> uVt4bBmnYCS30OQ/ZustliZa2+RdW6jKwDJiuMTJs3Kk9o+xkOAzXjICuQVqFj7B
> rximbl6J0XZ0QnhmATO3b8wB0JgS0zdCAUylVV2DCs/ARTg3YffaSgy8gIvDa3qq
> ZXxA2zaKN2V6sxXlKcJ4HaeIdvQfR2xbR6QKN/+AU5gkWdk1JdA5FfNjs+hwZbE=
> =4m3Z
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev

From noc at squid-cache.org  Fri Oct 31 08:57:29 2014
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 31 Oct 2014 09:57:29 +0100 (CET)
Subject: [squid-dev] Jenkins build is back to normal :
	3.HEAD-amd64-ubuntu-saucy #357
In-Reply-To: <175941233.153.1414688283550.JavaMail.hudson@eu.squid-cache.org>
References: <175941233.153.1414688283550.JavaMail.hudson@eu.squid-cache.org>
Message-ID: <117189505.154.1414745849103.JavaMail.hudson@eu.squid-cache.org>

See <http://build.squid-cache.org/job/3.HEAD-amd64-ubuntu-saucy/357/changes>


From gkinkie at gmail.com  Fri Oct 31 09:06:36 2014
From: gkinkie at gmail.com (Kinkie)
Date: Fri, 31 Oct 2014 10:06:36 +0100
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <5452F698.40402@ngtech.co.il>
References: <54471F7C.4020901@treenet.co.nz>
 <1414002023.5314.1.camel@localhost>
 <54483F4B.9060806@treenet.co.nz> <1414040734.9490.2.camel@localhost>
 <54488E22.2080000@treenet.co.nz> <5452F698.40402@ngtech.co.il>
Message-ID: <CA+Y8hcOJcm4ELLun9Z5s0rMz+c0nd8B6U2Ow0SWisatFmkH=NA@mail.gmail.com>

I suspect that the mailing list is configured to reply to sender by default.
Please everyone reply all when answering, we'll check and fix the
mailing list configuration asap.

On Fri, Oct 31, 2014 at 3:40 AM, Eliezer Croitoru <eliezer at ngtech.co.il> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Am I missing something?
>
> I see couple messages in the thread but only from amos.
>
> On 10/23/2014 08:12 AM, Amos Jeffries wrote:
>> On 23/10/2014 6:05 p.m., Henrik Nordström wrote:
>>>> tor 2014-10-23 klockan 12:35 +1300 skrev Amos Jeffries:
>>>>
>>>>>> Aye, do you know where I could find any documentation on
>>>>>> how it is/was supposed to work?
>>>>
>>>> There is no RFC on it. But it worked the same as Negotiate,
>>>> just using raw GSSAPI blobs without the Microsoft Negotiate
>>>> SSP wrapper.
>> Okay I think it will fit nicely in the proposed design.
>>
>> Amos
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1
>
> iQEcBAEBAgAGBQJUUvaYAAoJENxnfXtQ8ZQUTB4IAIVU9Nz+AynNkOuSJP65GKMT
> SrjbFcWudjpmUiaOYNBt3lBS/du2CZsyexXUOyskikUAOaneVm+bICNBxmSwVaBl
> jZZm1Wf+zZYRr5JaSg5rBN1+y7nq6mv02C9g5Mc9kcX+TWjvnoX0liFw3IW+S4Fm
> eJAXrdB7bPW1Q6Bngq0z1SCzELVIwxtrqTRw1Q12D3utKkq+3o6CYvP3WgHUeOtN
> g0RAMSVIdlG2r9e/VWMOh7JfT8H6VaAoouHlYfeTLIFmJXseDY2FZsT5riss30kG
> l8jzJ4ZUmWo5k6znu496dUr26m5Y6gfMhasuv8UhorcOgIRSR2xuBa2GX+wgzoI=
> =GPSu
> -----END PGP SIGNATURE-----
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev



-- 
    Francesco

From squid3 at treenet.co.nz  Fri Oct 31 14:01:26 2014
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Sat, 01 Nov 2014 03:01:26 +1300
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <CA+Y8hcOJcm4ELLun9Z5s0rMz+c0nd8B6U2Ow0SWisatFmkH=NA@mail.gmail.com>
References: <54471F7C.4020901@treenet.co.nz>
 <1414002023.5314.1.camel@localhost> <54483F4B.9060806@treenet.co.nz>
 <1414040734.9490.2.camel@localhost> <54488E22.2080000@treenet.co.nz>
 <5452F698.40402@ngtech.co.il>
 <CA+Y8hcOJcm4ELLun9Z5s0rMz+c0nd8B6U2Ow0SWisatFmkH=NA@mail.gmail.com>
Message-ID: <54539636.7080705@treenet.co.nz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 31/10/2014 10:06 p.m., Kinkie wrote:
> I suspect that the mailing list is configured to reply to sender by
> default. Please everyone reply all when answering, we'll check and
> fix the mailing list configuration asap.

Maybe just Henriks subscription or mai lconnection.
I get reply-to-list showing up and he copied both me and the list on
those replies

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUU5Y2AAoJELJo5wb/XPRjIfoIAIUi8ohrBjAFrtplEe1Uje/F
HxlCUXpAa42qtL0HRhnmfKSInl9WKGMHnEptbgCyooXStdSJD3xVor7bT6fz9cD4
5aeqMRkgKJXuljd9n4C+n4Bm7X4XcxBmDe9sizyYlV0iR3OzIL7kAmmIT773g33A
qRCsG5lJIiIhfANoietYrR/f3qYXXQDlBjKfbS8EI90IyTbffv2yhUArIWHKXpJz
xKlvPeOzSRjPRq1py8H1NkYhDBjR+V1tFb4nBRxw1/FRjO+lAJNtv/UMSgDGfLUl
EL5C2L7rgDJB9y+GZaeDbrnB6zuW2APydYzs5OgT18T/eHUy0mYCAUslRIeTorY=
=9x6J
-----END PGP SIGNATURE-----

From hno at squid-cache.org  Fri Oct 31 20:55:51 2014
From: hno at squid-cache.org (Henrik Nordstrom)
Date: Fri, 31 Oct 2014 21:55:51 +0100
Subject: [squid-dev] [RFC] Auth design changes
In-Reply-To: <5452F698.40402@ngtech.co.il>
References: <54471F7C.4020901@treenet.co.nz>
 <1414002023.5314.1.camel@localhost> <54483F4B.9060806@treenet.co.nz>
 <1414040734.9490.2.camel@localhost> <54488E22.2080000@treenet.co.nz>
 <5452F698.40402@ngtech.co.il>
Message-ID: <1414788951.25575.35.camel@localhost>

The listserver now only knows about the primary subscription addresses,
which for some of us it is different than the mail address we normally
write from.

fre 2014-10-31 klockan 04:40 +0200 skrev Eliezer Croitoru:
> Am I missing something?
> 
> I see couple messages in the thread but only from amos.
> 
> On 10/23/2014 08:12 AM, Amos Jeffries wrote:
> > On 23/10/2014 6:05 p.m., Henrik Nordström wrote:
> >>> tor 2014-10-23 klockan 12:35 +1300 skrev Amos Jeffries:
> >>> 
> >>>>> Aye, do you know where I could find any documentation on
> >>>>> how it is/was supposed to work?
> >>> 
> >>> There is no RFC on it. But it worked the same as Negotiate,
> >>> just using raw GSSAPI blobs without the Microsoft Negotiate
> >>> SSP wrapper.
> > Okay I think it will fit nicely in the proposed design.
> > 
> > Amos
> 
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev



