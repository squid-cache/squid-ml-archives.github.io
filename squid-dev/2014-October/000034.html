<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] MinGW build of Squid-3.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20MinGW%20build%20of%20Squid-3.5&In-Reply-To=%3C542D943C.80909%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000069.html">
   <LINK REL="Next"  HREF="000039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] MinGW build of Squid-3.5</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20MinGW%20build%20of%20Squid-3.5&In-Reply-To=%3C542D943C.80909%40treenet.co.nz%3E"
       TITLE="[squid-dev] MinGW build of Squid-3.5">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct  2 18:06:52 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000069.html">[squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
</A></li>
        <LI>Next message: <A HREF="000039.html">[squid-dev] R:  MinGW build of Squid-3.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34">[ date ]</a>
              <a href="thread.html#34">[ thread ]</a>
              <a href="subject.html#34">[ subject ]</a>
              <a href="author.html#34">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

FINALLY!!

As of trunk rev.13623 the last of the build issues in the default
feature set are resolved. Many of the helpers and features
self-disable now, but we get through the full build cycle and end up
with binaries.

Guido,
 can you check up on the Windows native MinGW build node please?

Also, any hints on getting MinGW compiled binaries to run on Windows?

 So far testing with a built helloworld.exe I just get it returning to
command line with no output. Similar to what happens on *nix systems
during a segfault.

Amos

On 30/09/2014 8:32 p.m., Amos Jeffries wrote:
&gt;<i> 
</I>&gt;<i> If anyone is interested, here is how to build Squid-3.HEAD using
</I>&gt;<i> the Debian MinGW cross-compiler.
</I>&gt;<i> 
</I>&gt;<i> There are a lot of bugs in the stable branches making it not worth 
</I>&gt;<i> trying there. But 3.HEAD/trunk has been cleaned up so that it only 
</I>&gt;<i> needs the below ./configure options with a minimum of fancy
</I>&gt;<i> extras.
</I>&gt;<i> 
</I>&lt;snip&gt;
&gt;<i> 
</I>&gt;<i> # Debian Packages Required: # # mingw-w64 #       provides GCC
</I>&gt;<i> cross-compiler. GCC 4.9.1 or later required. # # mingw-w64-tools #
</I>&gt;<i> provides pkg-config and other build-time tools used by autoconf #
</I>&gt;<i> 
</I>&gt;<i> # Build:
</I>&gt;<i> 
</I>&gt;<i> cd tpl/ ../configure \ --host=i686-w64-mingw32 \ 
</I>&gt;<i> CXXFLAGS=&quot;-DWINVER=0x601 -D_WIN32_WINNT=0x601&quot; \ 
</I>&gt;<i> CFLAGS=&quot;-DWINVER=0x601 -D_WIN32_WINNT=0x601&quot; \ BUILDCXX=&quot;g++&quot; \ 
</I>&gt;<i> BUILDCXXFLAGS=&quot;-DFOO&quot; \ --enable-build-info=&quot;Windows (MinGW
</I>&gt;<i> cross-build)&quot;
</I>&gt;<i> 
</I>&gt;<i> make
</I>&gt;<i> 
</I>-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJULZQ8AAoJELJo5wb/XPRj9XYH/048IuBa46yCPpLXDa4chYBh
L2qgF7mH/zjlt6wTCec3POY76Zm/mUAS7MBmnRwUfXiT8tmOdaoXOT8yxxlam9ou
0wHIcVTxySYnYHIZkENL/AkbKYy81JxvWXBQ3jmMeqzY7hAwiw+14aiPb71sP6XB
BhKNxcYbOCN5W5sLYrQPFXLquer5Lrk+PaoR+6v0GM+J/7Nub0GBcUwwvNZijMF9
b/3y3BU7ePXA2hYD/5dh9u5ShqRE0jvD8nq2fz+t5bAWY5i9LE9P9V6DBWGPlqyE
cKE1bJCnzlJXEIM08H9CkwnjMAXxyYiBKqJ1QZDIu31BbCn6Hv6NA1DzHUs02KQ=
=ljYV
-----END PGP SIGNATURE-----
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000069.html">[squid-dev] [PATCH] sslproxy_cert_sign_hash configuration option
</A></li>
	<LI>Next message: <A HREF="000039.html">[squid-dev] R:  MinGW build of Squid-3.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34">[ date ]</a>
              <a href="thread.html#34">[ thread ]</a>
              <a href="subject.html#34">[ subject ]</a>
              <a href="author.html#34">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
