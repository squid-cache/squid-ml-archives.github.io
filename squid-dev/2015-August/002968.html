<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] squid-3.5.6  -- debug missing? and a few others?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20squid-3.5.6%20%20--%20debug%20missing%3F%20and%20a%20few%20others%3F&In-Reply-To=%3C55C91FF1.8040402%40tlinx.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002982.html">
   <LINK REL="Next"  HREF="002972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] squid-3.5.6  -- debug missing? and a few others?</H1>
    <B>Linda A. Walsh</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20squid-3.5.6%20%20--%20debug%20missing%3F%20and%20a%20few%20others%3F&In-Reply-To=%3C55C91FF1.8040402%40tlinx.org%3E"
       TITLE="[squid-dev] squid-3.5.6  -- debug missing? and a few others?">squid-user at tlinx.org
       </A><BR>
    <I>Mon Aug 10 22:04:33 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002982.html">[squid-dev] [WTF] HttpHeader strangenesses
</A></li>
        <LI>Next message: <A HREF="002972.html">[squid-dev] squid-3.5.6 -- debug missing? and a few others?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2968">[ date ]</a>
              <a href="thread.html#2968">[ thread ]</a>
              <a href="subject.html#2968">[ subject ]</a>
              <a href="author.html#2968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I hope this is the right place to send Q's on building squid --
it seems like it's a source issue and not a squid configuration
issue.   BTW, just for clarity.  I also tried turning off all
of the compiler optimization options and just using
&quot;CFLAGS=&quot;-O2 -m64 -march=native -fpie -pipe&quot; -- but that made
no difference.  If I should send this to the user list, let me
know... all forward it there, but it doesn't seem the Q's on there
have so much to do with build issues.

Sorry to bother you guys, but am having problems building squid unless I
disable all 'auth' (then it builds)...  At this point -- I get a couple 
of errors:

I can see where there are references and a definition in
compat/debug.{h,cc}.  Looks like something pulled in the
compat/debug.h header, but the compat/debug.cc module isn't 
getting bound in.. (and of course there are symbols missing
as well.  This look like it is creating a library (libtool) --
wouldn't that imply all the symbols do not have to be present, 
as it isn't a final link?

What am I missing?

options to configure:

--prefix=/ --bindir=/usr/sbin --datadir=/usr/share/squid 
--datarootdir=/usr/share --libexecdir=/usr/sbin 
--sharedstatedir=/var/squid --sysconfdir=/etc/squid --enable-build-info 
--enable-cachemgr-hostname --enable-disk-io --enable-eui --enable-htcp 
--enable-icmp --enable-kill-parent-hack --enable-linux-netfilter 
--enable-ltdl-install --enable-referer-log --enable-removal-policies=lru 
--enable-heap --enable-stacktraces --enable-auth-basic 
--enable-auth-negotiate --enable-auth-ntml --enable-external-acl-helpers 
--enable-storeio --enable-useragent-log --enable-xmalloc-statistics 
--enable-x-accelerator-vary --enable-zph-qos --enable-wccp 
--enable-wccpv2 --disable-ecap --disable-icap-client 
--disable-storeid_rewrite --disable-static --disable-auto-locale 
--disable-ident-lookups --disable-ipv6 --disable-snmp 
--disable-translation --disable-static --with-aufs-threads=72 
--with-logdir=/var/log/squid --with-mandir=/usr/share/man 
--with-pidfile=/run/squid.pid --with-default-user=squid 
--with-large-files --with-included-ltdl --with-openssl


libtool: link: g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments 
-Wshadow -Werror -pipe -D_REENTRANT -m64 -DOPENSSL_LOAD_CONF 
-I/usr/include/p11-kit-1 -O2 -m64 -fasynchronous-unwind-tables 
-fbranch-target-load-optimize -fdelete-null-pointer-checks 
-fgcse-after-reload -fgcse-las -fgcse-sm -fgraphite-identity 
-finline-functions -fipa-pta -fivopts -floop-block -floop-flatten 
-floop-interchange -floop-strip-mine -flto -fmessage-length=0 
-fpredictive-commoning -frename-registers -freorder-blocks-and-partition 
-ftracer -fsched-stalled-insns=1 -fsched-stalled-insns-dep=1 
-ftree-loop-linear -ftree-loop-distribution 
-ftree-loop-distribute-patterns -ftree-loop-im -ftree-loop-ivcanon 
-ftree-vectorize -ftree-slp-vectorize -funswitch-loops -funwind-tables 
-fvariable-expansion-in-unroller -fvect-cost-model -fweb -fwhole-program 
-march=native -fpie -pipe -march=native -std=c++11 -m64 -flto=6 -fpie 
-fuse-linker-plugin -o basic_ldap_auth basic_ldap_auth.o  
../../../lib/.libs/libmiscencoding.a 
../../../compat/.libs/libcompat-squid.a -lldap -llber
/tmp/ccfruVCQ.ltrans0.ltrans.o: In function `checkLDAP(ldap*, char 
const*, char const*, char const*, int)':
ccfruVCQ.ltrans0.o:(.text+0x30d): undefined reference to `debug_enabled'
ccfruVCQ.ltrans0.o:(.text+0x469): undefined reference to `debug_enabled'
ccfruVCQ.ltrans0.o:(.text+0x5ea): undefined reference to `debug_enabled'
ccfruVCQ.ltrans0.o:(.text+0x69d): undefined reference to `debug_enabled'
ccfruVCQ.ltrans0.o:(.text+0x7c0): undefined reference to `debug_enabled'
/tmp/ccfruVCQ.ltrans0.ltrans.o:ccfruVCQ.ltrans0.o:(.text+0x8fc): more 
undefined references to `debug_enabled' follow
/tmp/ccfruVCQ.ltrans0.ltrans.o: In function `main':
ccfruVCQ.ltrans0.o:(.text.startup+0x14a): undefined reference to `xstrdup'
ccfruVCQ.ltrans0.o:(.text.startup+0x1e0): undefined reference to 
`debug_enabled'
ccfruVCQ.ltrans0.o:(.text.startup+0x9e4): undefined reference to `xstrdup'
ccfruVCQ.ltrans0.o:(.text.startup+0xa28): undefined reference to `xstrdup'
../../../lib/.libs/libmiscencoding.a(rfc1738.o): In function `xfree':
rfc1738.c:(.text+0x1b): undefined reference to `free_const'
../../../lib/.libs/libmiscencoding.a(rfc1738.o): In function 
`rfc1738_do_escape':
rfc1738.c:(.text+0xa2): undefined reference to `xcalloc'
collect2: error: ld returned 1 exit status
make[3]: *** [basic_ldap_auth] Error 1
make[3]: Leaving directory 
`/home/tools/squid/squid-3.5.6/helpers/basic_auth/LDAP'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory 
`/home/tools/squid/squid-3.5.6/helpers/basic_auth'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/tools/squid/squid-3.5.6/helpers'
make: *** [all-recursive] Error 1



</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002982.html">[squid-dev] [WTF] HttpHeader strangenesses
</A></li>
	<LI>Next message: <A HREF="002972.html">[squid-dev] squid-3.5.6 -- debug missing? and a few others?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2968">[ date ]</a>
              <a href="thread.html#2968">[ thread ]</a>
              <a href="subject.html#2968">[ subject ]</a>
              <a href="author.html#2968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
