<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] More woes with ubuntu-precise
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20More%20woes%20with%20ubuntu-precise&In-Reply-To=%3C55CD7409.7040005%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003013.html">
   <LINK REL="Next"  HREF="003016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] More woes with ubuntu-precise</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20More%20woes%20with%20ubuntu-precise&In-Reply-To=%3C55CD7409.7040005%40treenet.co.nz%3E"
       TITLE="[squid-dev] More woes with ubuntu-precise">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Aug 14 04:52:25 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="003013.html">[squid-dev] More woes with ubuntu-precise
</A></li>
        <LI>Next message: <A HREF="003016.html">[squid-dev] More woes with ubuntu-precise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3014">[ date ]</a>
              <a href="thread.html#3014">[ thread ]</a>
              <a href="subject.html#3014">[ subject ]</a>
              <a href="author.html#3014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/08/2015 10:18 a.m., Alex Rousskov wrote:
&gt;<i> On 08/13/2015 09:29 AM, Kinkie wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>    EnumIterator has brought out one more issue with ubuntu-precise:
</I>&gt;&gt;<i> since it carries gcc-4.6, it doesn't support std::underlying_type&lt;enum&gt;.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> The options are:
</I>&gt;&gt;<i> - drop support for precise in trunk. We claim to need gcc 4.8 anyway
</I>&gt;<i> 
</I>&gt;<i> I am confused: If GCC v4.8 is required, then why are you asking about a
</I>&gt;<i> Ubuntu release that comes with GCC v4.6? Does it imply that we were only
</I>&gt;<i> pretending to require GCC v4.8 and now may actually have to start
</I>&gt;<i> requiring it?
</I>
My thoughts almost the same.

The published &quot;requirement&quot; I put up was:
&quot;
This series of Squid requires a C++11 capable compiler. The currently
known compilers which meet this criteria and build Squid reliably are
GCC 4.9+, Clang 3.5+, and Intel CC 12.0+
&quot;

So its not even 4.8, more of a soft-ish 4.9+.

If we have an easy way/wrapper/hack to allow compile on older versions
do it still. If Squid happens to build (and work) on 4.8 or 4.6 great.
But they are acceptible casualties if there is no choice.


Note that Ubuntu will not ever support these newer Squid versions on
their LTS anyway. It is entirely our choice and burden whether to
support people who want the latest and greatest Squid software to work
seamlessly when mixed into an ancient environment. IMO its on their
shoulders to see that the dependencies are at least usable.



&gt;<i> 
</I>&gt;&gt;<i> - not to use std::underlying_type and blindly use int.
</I>&gt;&gt;<i> - do template metaprogramming to detect std::underlying_type, fall back
</I>&gt;&gt;<i> to int if not possible
</I>&gt;&gt;<i> - use autoconf
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 3. and 4. are quite crazy IMO but I mentioned them for completeness' sake.
</I>&gt;&gt;<i> Any opinion on 1. and 2.?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If we do not truly require GCC v4.8 yet, then I like #2 because it is
</I>&gt;<i> simple and sufficient.
</I>&gt;<i> 
</I>&gt;<i> [ If you have to replace std::underlying_type&lt;Enum&gt;::type with &quot;int&quot;
</I>&gt;<i> more than once, ] please add a named type so that it is easy to find
</I>&gt;<i> such replacements. Do not just use &quot;int&quot; directly.
</I>&gt;<i> 
</I>&gt;<i>     typedef underlying_enum_type int;
</I>&gt;<i> 
</I>
Agreed.

Amos

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003013.html">[squid-dev] More woes with ubuntu-precise
</A></li>
	<LI>Next message: <A HREF="003016.html">[squid-dev] More woes with ubuntu-precise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3014">[ date ]</a>
              <a href="thread.html#3014">[ thread ]</a>
              <a href="subject.html#3014">[ subject ]</a>
              <a href="author.html#3014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
