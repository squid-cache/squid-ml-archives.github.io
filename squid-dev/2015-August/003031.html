<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] More woes with ubuntu-precise
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20More%20woes%20with%20ubuntu-precise&In-Reply-To=%3C55D2E8A8.3010708%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003016.html">
   <LINK REL="Next"  HREF="003043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] More woes with ubuntu-precise</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20More%20woes%20with%20ubuntu-precise&In-Reply-To=%3C55D2E8A8.3010708%40treenet.co.nz%3E"
       TITLE="[squid-dev] More woes with ubuntu-precise">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Aug 18 08:11:20 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="003016.html">[squid-dev] More woes with ubuntu-precise
</A></li>
        <LI>Next message: <A HREF="003043.html">[squid-dev] More woes with ubuntu-precise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3031">[ date ]</a>
              <a href="thread.html#3031">[ thread ]</a>
              <a href="subject.html#3031">[ subject ]</a>
              <a href="author.html#3031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/08/2015 3:05 a.m., Alex Rousskov wrote:
&gt;<i> On 08/13/2015 10:52 PM, Amos Jeffries wrote:
</I>&gt;&gt;<i> On 14/08/2015 10:18 a.m., Alex Rousskov wrote:
</I>&gt;&gt;&gt;<i> On 08/13/2015 09:29 AM, Kinkie wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>    EnumIterator has brought out one more issue with ubuntu-precise:
</I>&gt;&gt;&gt;&gt;<i> since it carries gcc-4.6, it doesn't support std::underlying_type&lt;enum&gt;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The options are:
</I>&gt;&gt;&gt;&gt;<i> - drop support for precise in trunk. We claim to need gcc 4.8 anyway
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am confused: If GCC v4.8 is required, then why are you asking about a
</I>&gt;&gt;&gt;<i> Ubuntu release that comes with GCC v4.6? Does it imply that we were only
</I>&gt;&gt;&gt;<i> pretending to require GCC v4.8 and now may actually have to start
</I>&gt;&gt;&gt;<i> requiring it?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> My thoughts almost the same.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The published &quot;requirement&quot; I put up was:
</I>&gt;&gt;<i> &quot;
</I>&gt;&gt;<i> This series of Squid requires a C++11 capable compiler. The currently
</I>&gt;&gt;<i> known compilers which meet this criteria and build Squid reliably are
</I>&gt;&gt;<i> GCC 4.9+, Clang 3.5+, and Intel CC 12.0+
</I>&gt;&gt;<i> &quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So its not even 4.8, more of a soft-ish 4.9+.
</I>&gt;<i> 
</I>&gt;<i> I was under impression that we have promised GCC 4.8 support for Squid
</I>&gt;<i> v4.0.
</I>
I dont recalla promise for v4. I did promise C++03 support would stay
for v3.5. I'm trying for maintenance support as long as possible of that
version, but no promise since I can't actually guarantee it will be
possible.


&gt;<i> Perhaps I am missing some deliberations with thoughtful
</I>&gt;<i> justifications, but it feels like we are simply increasing the required
</I>&gt;<i> GCC version number just because it is convenient for developers, without
</I>&gt;<i> balancing admin and developer needs.
</I>
The admin &quot;need&quot; that keeps being put forward is stability. With the
meaning of &quot;non-changing.&quot;. As in; nobody touches the Squid code from
now until 2020 or so.

We already provide versions of Squid that meet that criteria. They are
called version 3.0, 3.1, 3.2, 3.3, and 3.4. Depending on which year and
feature set the admin wants to use. They are supported by the distros
offering guarantees of non-change stability.



We are increasing it for several reasons;

One of which is that the world has already moved on to GCC and Clang
versions where C++11 is the default and actually C++14 the preferred
language now.
NP: That loosely includes Ubuntu and RHEL 7 whose current LTS supply
GCC-4.8 by default and better versions via &quot;unofficial&quot; packages.

Another important reason is the code safety features that are only
available in C++11.

Another is the code simplification which is only available in C++11.
That aids us a LOT with readability. But even more importantly
simplifies the code for attracting new developers.

Another is our decision to move custom algorithms to STL and std:: based
logic. It is all very well using that for performance, but the gains are
mostly through C++11 STL improvements. C++03 builds are somewhat *worse*
as a result.


Amos
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003016.html">[squid-dev] More woes with ubuntu-precise
</A></li>
	<LI>Next message: <A HREF="003043.html">[squid-dev] More woes with ubuntu-precise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3031">[ date ]</a>
              <a href="thread.html#3031">[ thread ]</a>
              <a href="subject.html#3031">[ subject ]</a>
              <a href="author.html#3031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
