<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Coverity(-inspired) fixes part four, HttpHeader refactor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Coverity%28-inspired%29%20fixes%20part%20four%2C%0A%20HttpHeader%20refactor&In-Reply-To=%3C55D7C5EB.20400%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003103.html">
   <LINK REL="Next"  HREF="003107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Coverity(-inspired) fixes part four, HttpHeader refactor</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Coverity%28-inspired%29%20fixes%20part%20four%2C%0A%20HttpHeader%20refactor&In-Reply-To=%3C55D7C5EB.20400%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] Coverity(-inspired) fixes part four, HttpHeader refactor">rousskov at measurement-factory.com
       </A><BR>
    <I>Sat Aug 22 00:44:27 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="003103.html">[squid-dev] [PATCH] Coverity(-inspired) fixes part four, HttpHeader refactor
</A></li>
        <LI>Next message: <A HREF="003107.html">[squid-dev] find-bad-changes.pl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3106">[ date ]</a>
              <a href="thread.html#3106">[ thread ]</a>
              <a href="subject.html#3106">[ subject ]</a>
              <a href="author.html#3106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/21/2015 10:47 AM, Kinkie wrote:

&gt;<i> This is in fact what I have tried to - sometimes not to the letter,
</I>&gt;<i> unfortunately, and I'm sorry for that.
</I>
FWIW, the attached quick-and-dirty find-bad-changes.pl script detects
some offending patch changes, but it is not 100% accurate and is not
meant to replace a human developer examining the patch before posting.

Please note that the script outputs a weird combination of source code
file name and patch file line number as a GCC-style red flag line
address. This should probably be changed to use the patch file name
(while providing the source code file name elsewhere).

For your particular patch, the script raises only 6 red flags. Here are
_unaudited_ results for a few recently posted patches:

&gt;<i> mempools-nozero-v2.patch: red flags: 22
</I>&gt;<i> PackableStream_mk5.patch: red flags: 3
</I>&gt;<i> PayloadFormatter_mk3-2.patch: red flags: 0
</I>&gt;<i> SQUID-99-truncate-aborted-resp-bodies-t6-1.patch: red flags: 0
</I>&gt;<i> coverity-fixes-4-v2.patch: red flags: 6
</I>

HTH,

Alex.


&gt;<i> On Fri, Aug 21, 2015 at 6:46 PM, Alex Rousskov
</I>&gt;<i> &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">rousskov at measurement-factory.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">rousskov at measurement-factory.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     On 08/21/2015 04:37 AM, Kinkie wrote:
</I>&gt;<i>     &gt; I changed that only when something in the vicinity changed so not to
</I>&gt;<i>     &gt; make the patch any more enormous. I can blanket change if that's preferred.
</I>&gt;<i> 
</I>&gt;<i>     IMO, the rule ought to be very simple and precise: Rename NULL if and
</I>&gt;<i>     only if renaming does not add any new lines to the diff.
</I>&gt;<i> 
</I>&gt;<i>     Same for removing HERE. Why it is so hard to follow that rule and avoid
</I>&gt;<i>     unnecessary changes is really beyond me.
</I>&gt;<i> 
</I>&gt;<i>     Alex.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i>     Francesco
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: find-bad-changes.pl
Type: application/x-perl
Size: 4385 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150821/dc0137b3/attachment.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150821/dc0137b3/attachment.bin</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003103.html">[squid-dev] [PATCH] Coverity(-inspired) fixes part four, HttpHeader refactor
</A></li>
	<LI>Next message: <A HREF="003107.html">[squid-dev] find-bad-changes.pl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3106">[ date ]</a>
              <a href="thread.html#3106">[ thread ]</a>
              <a href="subject.html#3106">[ subject ]</a>
              <a href="author.html#3106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
