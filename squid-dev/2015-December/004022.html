<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Bug 4305: Squid reports X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Bug%204305%3A%20Squid%20reports%0A%20X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...&In-Reply-To=%3C565D5C13.9050005%40chtsanti.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   <LINK REL="Next"  HREF="004023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Bug 4305: Squid reports X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...</H1>
    <B>Christos Tsantilas</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Bug%204305%3A%20Squid%20reports%0A%20X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...&In-Reply-To=%3C565D5C13.9050005%40chtsanti.net%3E"
       TITLE="[squid-dev] Bug 4305: Squid reports X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...">christos at chtsanti.net
       </A><BR>
    <I>Tue Dec  1 08:36:35 UTC 2015</I>
    <P><UL>
        
        <LI>Next message: <A HREF="004023.html">[squid-dev] Bug 4305: Squid reports X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4022">[ date ]</a>
              <a href="thread.html#4022">[ thread ]</a>
              <a href="subject.html#4022">[ subject ]</a>
              <a href="author.html#4022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/29/2015 09:00 AM, Amos Jeffries wrote:
&gt;<i> On 28/11/2015 9:35 p.m., Christos Tsantilas wrote:
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>    Sometimes the SSL servers does not send the full chain of intermediate
</I>&gt;&gt;<i> certificates, but instead send a link where the client can download the
</I>&gt;&gt;<i> intermediate certificates.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Currently squid can not handle such cases. Measurement Factory build a
</I>&gt;&gt;<i> patch which provides a workaround for this problem: Allow the users to
</I>&gt;&gt;<i> build a database of intermediate certificates, which can be used by
</I>&gt;&gt;<i> squid to complete certificate chains.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Measurement Factory currently works to implement a full solution for
</I>&gt;&gt;<i> this bug, a downloader for squid which will retrieve missing
</I>&gt;&gt;<i> certificates from the net.
</I>&gt;&gt;<i> However this solution may take some time to test and finish it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is it OK to apply to trunk the workaround patch in bug 4305?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It touches the squid.conf UI so I would rather not at this point.
</I>&gt;<i>
</I>&gt;<i> That said the problem it resolves is rather more important than
</I>&gt;<i> preserving an arbitrary policy. So I am in agreement with it going in
</I>&gt;<i> sooner rather than later provided it works as planned.
</I>
This is means that I should apply it to trunk?

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But please extend the squid.conf documentation to state that self-signed
</I>&gt;<i> (aka root) certificates are not supported by the new option and will be
</I>&gt;<i> ignored. They are ignores silently, so it needs to be stated somewhere
</I>&gt;<i> to avoid confusion.
</I>
The new directive &quot;sslproxy_untrusted_certs&quot; documented as

&quot;Squid uses the intermediate certificates pre-loaded from the specified 
file to validate origin server certificate chains. Squid receives many 
incomplete chains (i.e., chains with intermediate certificates missing). 
The file is expected to contain zero or more PEM-encoded intermediate 
certificates. These certificates are not treated as trusted root 
certificates.&quot;

Isn't it enough the following reference: &quot;These certificates are not 
treated as trusted root certificates.&quot;?
Moreover the name of new directive it should be clear about the purpose 
of these certificates.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="004023.html">[squid-dev] Bug 4305: Squid reports X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4022">[ date ]</a>
              <a href="thread.html#4022">[ thread ]</a>
              <a href="subject.html#4022">[ subject ]</a>
              <a href="author.html#4022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
