<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Ntlm helper child exceeds limit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Ntlm%20helper%20child%20exceeds%20limit&In-Reply-To=%3C1449740569614-4675091.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="004149.html">
   <LINK REL="Next"  HREF="004128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Ntlm helper child exceeds limit</H1>
    <B>manojmaybe</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Ntlm%20helper%20child%20exceeds%20limit&In-Reply-To=%3C1449740569614-4675091.post%40n4.nabble.com%3E"
       TITLE="[squid-dev] Ntlm helper child exceeds limit">manojmaybe000 at gmail.com
       </A><BR>
    <I>Thu Dec 10 09:42:49 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="004149.html">[squid-dev] Jenkins build is back to normal : trunk-matrix » gcc,d-debian-unstable #459
</A></li>
        <LI>Next message: <A HREF="004128.html">[squid-dev] Ntlm helper child exceeds limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4127">[ date ]</a>
              <a href="thread.html#4127">[ thread ]</a>
              <a href="subject.html#4127">[ subject ]</a>
              <a href="author.html#4127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have used squid 3.3 proxy server with NTLM authentication. I have use the
squid config file for  maximum of 3000 children.

auth_param ntlm children 3000 startup=0 idle=0

but when traffic is very high ,found that more than 3000 ntlm helper
children is active (used ps command to get the number of ntlm child process)
and helper child are going to be crash and showing error cache log


read(net): Connection reset by peer
read(net): Connection reset by peer
read(net): Connection reset by peer
read(net): Connection reset by peer
read(net): Connection reset by peer
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication Helper '0x160fa948'
crashed!.
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid2| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid2| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid2| Starting new helpers
2015/12/09 15:01:36 kid2| helperOpenServers: Starting 1/300 'netcat'
processes
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication Helper '0x1615d048'
crashed!.
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid1| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid1| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid1| Starting new helpers
2015/12/09 15:01:36 kid1| helperOpenServers: Starting 1/300 'netcat'
processes
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication Helper '0x162b7dd8'
crashed!.
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid2| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid2| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid2| Starting new helpers
2015/12/09 15:01:36 kid2| helperOpenServers: Starting 1/300 'netcat'
processes
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication Helper '0x15562898'
crashed!.
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid1| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid1| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid1| Starting new helpers
2015/12/09 15:01:36 kid1| helperOpenServers: Starting 1/300 'netcat'
processes
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication Helper '0x168abdf8'
crashed!.
2015/12/09 15:01:36 kid2| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid2| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid2| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid2| Starting new helpers
2015/12/09 15:01:36 kid2| helperOpenServers: Starting 1/300 'netcat'
processes
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication Helper '0x15727ba8'
crashed!.
2015/12/09 15:01:36 kid1| ERROR: NTLM Authentication validating user. Error
returned 'BH Internal error'
2015/12/09 15:01:36 kid1| WARNING: ntlmauthenticator #1 exited
2015/12/09 15:01:36 kid1| Too few ntlmauthenticator processes are running
(need 1/300)
2015/12/09 15:01:36 kid1| Starting new helpers



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Ntlm-helper-child-exceeds-limit-tp4675091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Ntlm-helper-child-exceeds-limit-tp4675091.html</A>
Sent from the Squid - Development mailing list archive at Nabble.com.
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004149.html">[squid-dev] Jenkins build is back to normal : trunk-matrix » gcc,d-debian-unstable #459
</A></li>
	<LI>Next message: <A HREF="004128.html">[squid-dev] Ntlm helper child exceeds limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4127">[ date ]</a>
              <a href="thread.html#4127">[ thread ]</a>
              <a href="subject.html#4127">[ subject ]</a>
              <a href="author.html#4127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
