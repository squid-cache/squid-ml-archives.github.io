<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] TLS NPN updates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20TLS%20NPN%20updates&In-Reply-To=%3C5671848F.6000702%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="004171.html">
   <LINK REL="Next"  HREF="004176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] TLS NPN updates</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20TLS%20NPN%20updates&In-Reply-To=%3C5671848F.6000702%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] TLS NPN updates">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Dec 16 15:34:39 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="004171.html">[squid-dev] [PATCH] TLS NPN updates
</A></li>
        <LI>Next message: <A HREF="004176.html">[squid-dev] [PATCH] TLS NPN updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4174">[ date ]</a>
              <a href="thread.html#4174">[ thread ]</a>
              <a href="subject.html#4174">[ subject ]</a>
              <a href="author.html#4174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/15/2015 10:19 PM, Amos Jeffries wrote:
&gt;<i> This patch is shuffling the TLS NPN gadgetry into libsecurity.
</I>&gt;<i> 
</I>&gt;<i> It would be a non-audit commit except that ...
</I>&gt;<i> 
</I>&gt;<i> * there is a new config option added (tls-no-npn) to fully disable NPN
</I>&gt;<i> on selected peers or ports.
</I>
Please document (in the commit message) why it is sometimes useful to
disable NPN.


&gt;<i> * ICAPS connections are setting that option by default to prevent NPN
</I>&gt;<i> wrongly advertising them as HTTPS connections.
</I>
You could add code to advertise ICAP/1.0 connections correctly instead.
However, that should have been done when NPN support was added and can
be considered out of this patch scope, so I certainly do not insist on
this addition.


&gt;<i> +        /// do not use the TLS NPN extension on these connections
</I>&gt;<i> +        bool noTlsNpn;
</I>
Or use it, depending on the data member value. &quot;Whether to use ...&quot; is
the neutral description variant.

Please do not add negative (&quot;no-something&quot;) booleans to code. It is
difficult to read double negations in initializations
(noSomething=false) and expressions (!noSomething). It is usually
possible to rename to doSomething (and adjust code) or, if necessary, to
avoidSomething (without code adjustments) to mitigate those code
comprehension problems.


Negative options are borderline OK in configuration files (because we
can add the positive &quot;yes-something&quot; version), although they break the
option=value convention by essentially placing the value in front of the
option.


&gt;<i> If there are no objections to those two small changes I would like to
</I>&gt;<i> fast-track this patch and apply in ~48hrs.
</I>
My suggestions above are not blocking objections.


Thank you,

Alex.

</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004171.html">[squid-dev] [PATCH] TLS NPN updates
</A></li>
	<LI>Next message: <A HREF="004176.html">[squid-dev] [PATCH] TLS NPN updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4174">[ date ]</a>
              <a href="thread.html#4174">[ thread ]</a>
              <a href="subject.html#4174">[ subject ]</a>
              <a href="author.html#4174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
