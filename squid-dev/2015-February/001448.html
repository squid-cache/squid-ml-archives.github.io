<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [RFC] Secure ICAP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20Secure%20ICAP&In-Reply-To=%3C54D134FE.1040904%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001446.html">
   <LINK REL="Next"  HREF="001450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [RFC] Secure ICAP</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20Secure%20ICAP&In-Reply-To=%3C54D134FE.1040904%40measurement-factory.com%3E"
       TITLE="[squid-dev] [RFC] Secure ICAP">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Feb  3 20:52:14 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001446.html">[squid-dev] [PREVIEW] CompactTrie
</A></li>
        <LI>Next message: <A HREF="001450.html">[squid-dev] [RFC] Secure ICAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1448">[ date ]</a>
              <a href="thread.html#1448">[ thread ]</a>
              <a href="subject.html#1448">[ subject ]</a>
              <a href="author.html#1448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    We would like to add support for &quot;Secure ICAP&quot; -- ICAP services that
require SSL/TLS encryption for transport connections. Some other popular
proxies support that feature already, I have seen a trickle of admin
requests for it, and the feature often becomes essential when filtering
bumped traffic using external ICAP services (to preserve the overall
security of the entire message delivery chain).

Today, it is possible to emulate Secure ICAP using connection wrappers
like stunnel. Needless to say, that workaround is not a production-
quality solution.


I think Secure ICAP can use configuration knobs and server validation
logic already implemented for secure HTTP peers (the cache_peer
directive with an ssl option).

To mark an ICAP service as secure in squid.conf, we can use an &quot;icaps&quot;
service URI scheme. The industry is using &quot;secure ICAP&quot; term for this
feature,  but &quot;icaps&quot; seems more appropriate/standard for a scheme name
compared to &quot;sicap&quot;.


We will not support dynamic &quot;upgrades&quot; from plain to secure ICAP
connections because:

* there are no ICAP servers that support that (AFAIK);
* there are no ICAP clients that support that (AFAIK);
* such support does not seem to be needed in practice given a rather
tight/long-term bonding between a proxy and an ICAP service (unlike a
relationship between an HTTP client and an origin server);
* such support can be added later, if needed, without redoing much of
the proposed work.

I also do not anticipate changes to the existing ICAP service
_selection_ configuration and related features, implementation of the
ICAP protocol itself, and eCAP.


If there are any objections to adding Secure ICAP support or high-level
suggestions regarding implementation, please let me know!


Thank you,

Alex.
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001446.html">[squid-dev] [PREVIEW] CompactTrie
</A></li>
	<LI>Next message: <A HREF="001450.html">[squid-dev] [RFC] Secure ICAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1448">[ date ]</a>
              <a href="thread.html#1448">[ thread ]</a>
              <a href="subject.html#1448">[ subject ]</a>
              <a href="author.html#1448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
