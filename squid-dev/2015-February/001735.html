<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Digest related question.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Digest%20related%20question.&In-Reply-To=%3C54E9156C.7030505%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001772.html">
   <LINK REL="Next"  HREF="001736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Digest related question.</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Digest%20related%20question.&In-Reply-To=%3C54E9156C.7030505%40ngtech.co.il%3E"
       TITLE="[squid-dev] Digest related question.">eliezer at ngtech.co.il
       </A><BR>
    <I>Sat Feb 21 23:31:56 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001772.html">[squid-dev] [PATCH] Bug 2907: high CPU usage on CONNECT when using delay pools
</A></li>
        <LI>Next message: <A HREF="001736.html">[squid-dev] Digest related question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1735">[ date ]</a>
              <a href="thread.html#1735">[ thread ]</a>
              <a href="subject.html#1735">[ subject ]</a>
              <a href="author.html#1735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> From what I understand, the HTTP protocol and some RFC docs that was 
mentioned in the list allow or provide a way to utilize Digest header 
and\or Link headers which might contain some digest data.

So the first question is about the current md5 hash which is being used 
by the internal index hashing.
Assuming we want to allow the admin change the default md5 hash into 
sha1 or sha256 hash, how complicated will it be? can it be considered a 
wanted feature?

And the second question, about metalinks related integration with squid.
In any scenario I see possible a digest of cache objects from the server 
side would require digest update of any of the in transit objects and 
another index or maybe two.
Another aspect of this thing is the integrity of the src server.
If the origin-server is indeed a hostile one we must not rely on it.
So there is a policy which needs to be implemented in some way to allow 
an origin server which we rely on.

In order to prove this is indeed possible and applicable for what ever 
system there is out-there I was thinking about writing a proof of 
concept of the idea.

I would like to not touch squid code at all in the first steps while 
implementing the proof of concept.

I need your help with the right point of view and ideas about how to 
prove the idea.
What API or what options squid gives that can be used to implement the idea?
What available programming resources are there that can help me with the 
task that you can think might help with the task?(assuming I am not a 
c\c++ programmer)

Another pointer is that I do not have an option(from an outside 
software) to run a lookup at the cache index for cached objects.
The way things are now, when I am trying to access the object with a GET 
request I can get a result which will tell me if the object is in the 
cache using the headers but will force me\UA to fetch the object or ABORT.
If I would use the HEAD method to request an object I will get a 
HIT\MISS but it will not be related at all to the GET object state since 
it's another object.
So, assuming I will need some http interface\API that will allow me to 
run a query on squid index DB, will it make sense to write one?(If I 
missed it and there is a way to do so already..)

I had some time in the past to learn this document:
<A HREF="https://cwiki.apache.org/confluence/display/TS/Metalink">https://cwiki.apache.org/confluence/display/TS/Metalink</A>

which actually describes one approach to the subject.

Eliezer

</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001772.html">[squid-dev] [PATCH] Bug 2907: high CPU usage on CONNECT when using delay pools
</A></li>
	<LI>Next message: <A HREF="001736.html">[squid-dev] Digest related question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1735">[ date ]</a>
              <a href="thread.html#1735">[ thread ]</a>
              <a href="subject.html#1735">[ subject ]</a>
              <a href="author.html#1735">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
