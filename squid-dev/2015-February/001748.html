<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Fake CONNECT exceeds concurrent requests limit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fake%20CONNECT%20exceeds%20concurrent%20requests%20limit&In-Reply-To=%3C54ECE6F4.3060006%40users.sourceforge.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001747.html">
   <LINK REL="Next"  HREF="001749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Fake CONNECT exceeds concurrent requests limit</H1>
    <B>Tsantilas Christos</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fake%20CONNECT%20exceeds%20concurrent%20requests%20limit&In-Reply-To=%3C54ECE6F4.3060006%40users.sourceforge.net%3E"
       TITLE="[squid-dev] [PATCH] Fake CONNECT exceeds concurrent requests limit">chtsanti at users.sourceforge.net
       </A><BR>
    <I>Tue Feb 24 21:02:44 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001747.html">[squid-dev] [PATCH] server_name ACL
</A></li>
        <LI>Next message: <A HREF="001749.html">[squid-dev] [PATCH] Fake CONNECT exceeds concurrent requests	limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1748">[ date ]</a>
              <a href="thread.html#1748">[ thread ]</a>
              <a href="subject.html#1748">[ subject ]</a>
              <a href="author.html#1748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Squid closes the SSL client connection with &quot;Failed to start fake 
CONNECT  request for ssl spliced connection&quot;. This happens especially 
often when the pipeline_prefetch configuration parameter is set to &quot;0&quot; 
(i.e., default).

When a transparent SSL connection is peeked and then spliced in step2, 
we are generating a fake CONNECT request. The fake CONNECT request is 
counted as a new pipelined request and may exceed the configured limit. 
This patch solves this problem by raising the limit for that request.

Needs more work to better identify the requests that need a different limit.

This is a Measurement Factory project.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fake-CONNECT-exceeds-concurrent-requests-limit-v3.patch
Type: text/x-patch
Size: 2339 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150224/1829bc21/attachment.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150224/1829bc21/attachment.bin</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001747.html">[squid-dev] [PATCH] server_name ACL
</A></li>
	<LI>Next message: <A HREF="001749.html">[squid-dev] [PATCH] Fake CONNECT exceeds concurrent requests	limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1748">[ date ]</a>
              <a href="thread.html#1748">[ thread ]</a>
              <a href="subject.html#1748">[ subject ]</a>
              <a href="author.html#1748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
