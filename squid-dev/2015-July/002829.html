<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] suffix parsing and skipping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20suffix%20parsing%20and%20skipping&In-Reply-To=%3C55B01C28.5090802%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002827.html">
   <LINK REL="Next"  HREF="002831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] suffix parsing and skipping</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20suffix%20parsing%20and%20skipping&In-Reply-To=%3C55B01C28.5090802%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] suffix parsing and skipping">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Jul 22 22:41:44 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002827.html">[squid-dev] [PATCH] coverity fixes, round 2
</A></li>
        <LI>Next message: <A HREF="002831.html">[squid-dev] [PATCH] suffix parsing and skipping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2829">[ date ]</a>
              <a href="thread.html#2829">[ thread ]</a>
              <a href="subject.html#2829">[ subject ]</a>
              <a href="author.html#2829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    The attached patch adds SBuf and Tokenizer methods to simplify
suffix parsing and skipping (and to make suffix/reverse APIs more
similar to prefix/forward ones). The new methods are used in another
patch (to be posted shortly) that makes the request line parser simpler
and more robust, but they are useful in other contexts as well IMO.

For consistency sake, I tried to mimic the existing Tokenizer/SBuf
documentation, debugging, and code duplication styles.


One old problem was detected and documented during this project: The
Tokenizer::parsedSize() method does not account for the successfully
parsed and removed suffix/trailing characters in most cases. That method
should be revised or removed. Solving this problem is outside this
project scope.


This and the following patch are based on trunk r14083. I will update to
the current trunk if the patches are approved. Please let me know if you
want to review the updated versions as well.


HTH,

Alex.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: parse-tail-t2.patch
Type: text/x-diff
Size: 14871 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150722/14f89c95/attachment.patch">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150722/14f89c95/attachment.patch</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002827.html">[squid-dev] [PATCH] coverity fixes, round 2
</A></li>
	<LI>Next message: <A HREF="002831.html">[squid-dev] [PATCH] suffix parsing and skipping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2829">[ date ]</a>
              <a href="thread.html#2829">[ thread ]</a>
              <a href="subject.html#2829">[ subject ]</a>
              <a href="author.html#2829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
