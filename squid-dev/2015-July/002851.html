<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] chop() should always clear empty buffers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20chop%28%29%20should%20always%20clear%20empty%20buffers&In-Reply-To=%3C55B2BD94.200%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002842.html">
   <LINK REL="Next"  HREF="002853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] chop() should always clear empty buffers</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20chop%28%29%20should%20always%20clear%20empty%20buffers&In-Reply-To=%3C55B2BD94.200%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] chop() should always clear empty buffers">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Jul 24 22:35:00 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002842.html">[squid-dev] [PATCH] Simpler and more robust request line parser
</A></li>
        <LI>Next message: <A HREF="002853.html">[squid-dev] [PATCH] chop() should always clear empty buffers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2851">[ date ]</a>
              <a href="thread.html#2851">[ thread ]</a>
              <a href="subject.html#2851">[ subject ]</a>
              <a href="author.html#2851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    Triage of another trunk bug (see the next email) led me to a problem
in SBuf::chop() that the attached patch attempts to address.

The old chop() code was trying to make the clearance decision ASAP,
without normalizing parameters first and missed most clearance cases as
the result.


HTH,

Alex.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: chop-should-clear-t1.patch
Type: text/x-diff
Size: 1745 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150724/27a22f07/attachment.patch">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20150724/27a22f07/attachment.patch</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002842.html">[squid-dev] [PATCH] Simpler and more robust request line parser
</A></li>
	<LI>Next message: <A HREF="002853.html">[squid-dev] [PATCH] chop() should always clear empty buffers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2851">[ date ]</a>
              <a href="thread.html#2851">[ thread ]</a>
              <a href="subject.html#2851">[ subject ]</a>
              <a href="author.html#2851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
