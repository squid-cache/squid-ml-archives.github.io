<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] TLS: Disable client-initiated renegotiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20TLS%3A%20Disable%20client-initiated%20renegotiation&In-Reply-To=%3C5571E429.8040008%40ufscar.br%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002409.html">
   <LINK REL="Next"  HREF="002431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation</H1>
    <B>Paulo Matias</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20TLS%3A%20Disable%20client-initiated%20renegotiation&In-Reply-To=%3C5571E429.8040008%40ufscar.br%3E"
       TITLE="[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation">matias at ufscar.br
       </A><BR>
    <I>Fri Jun  5 18:02:17 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002409.html">[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation
</A></li>
        <LI>Next message: <A HREF="002431.html">[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2410">[ date ]</a>
              <a href="thread.html#2410">[ thread ]</a>
              <a href="subject.html#2410">[ subject ]</a>
              <a href="author.html#2410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Christos,

On 05-06-2015 08:16, Tsantilas Christos wrote:
&gt;<i>  Which is the openSSL version in a Debian wheezy system?
</I>
libssl package reports version 1.0.1e-2+deb7u16

&gt;<i> My understanding is that openSSL-0.9.8m and later, by default provides protection against this bug.
</I>
Yes, OpenSSL &gt;0.9.8m seems to provide protection against the insecure
renegotiation bug. However my patch is for a different (although much less
severe) issue.

The issue consists on the fact that enabling client-initiated
renegotiation, although cryptographically secure, eases mounting DoS
attacks against the server, because it reduces the number of connections
to the server needed to conduct such an attack:
<A HREF="https://community.qualys.com/blogs/securitylabs/2011/10/31/tls-renegotiation-and-denial-of-service-attacks">https://community.qualys.com/blogs/securitylabs/2011/10/31/tls-renegotiation-and-denial-of-service-attacks</A>

This is a screenshot of the Qualys SSL test running against unpatched
Squid trunk in Debian wheezy:
<A HREF="https://web.archive.org/web/20150605172653/http://i.imgur.com/uDCNm8s.png">https://web.archive.org/web/20150605172653/http://i.imgur.com/uDCNm8s.png</A>

For the record, it displays:
&quot;Secure Client-Initiated Renegotiation: Supported - DoS DANGER (more
info)&quot;, where the &quot;more info&quot; link points to the blog post referenced
above.

Debian jessie passes the test without issues even without applying the
patch. However we did not investigate if the reason is the OpenSSL
version or if Debian applied some new patch in jessie's package. Just
for the record, the Debian jessie's libssl package version is 1.0.1k-3.

Best regards,
Paulo Matias

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002409.html">[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation
</A></li>
	<LI>Next message: <A HREF="002431.html">[squid-dev] [PATCH] TLS: Disable client-initiated renegotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2410">[ date ]</a>
              <a href="thread.html#2410">[ thread ]</a>
              <a href="subject.html#2410">[ subject ]</a>
              <a href="author.html#2410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
