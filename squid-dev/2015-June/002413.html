<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [RFC] TLS peek by default
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20TLS%20peek%20by%20default&In-Reply-To=%3C557226ED.7010204%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002432.html">
   <LINK REL="Next"  HREF="002418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [RFC] TLS peek by default</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20TLS%20peek%20by%20default&In-Reply-To=%3C557226ED.7010204%40treenet.co.nz%3E"
       TITLE="[squid-dev] [RFC] TLS peek by default">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Jun  5 22:47:09 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002432.html">[squid-dev] [PATCH] TLS: Add support for EECDH
</A></li>
        <LI>Next message: <A HREF="002418.html">[squid-dev] [RFC] TLS peek by default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2413">[ date ]</a>
              <a href="thread.html#2413">[ thread ]</a>
              <a href="subject.html#2413">[ subject ]</a>
              <a href="author.html#2413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In order to support PROXY protocol on HTTPS inbound traffic we will be
needing Squid to &quot;peek&quot; at the initial client connection bytes and
process the PROXY header.

There is no need for the decryption to enter into the picture and in
current trunk Squid the bytes can be relayed in the BIO buffer to
whatever processing is appropriate.

Along these lines, I am wondering why we need to have &quot;ssl_bump peek&quot;
checked for in relation to client peeking. Can we make Squid simply do
that first 'peek' step always for all potential HTTPS connections ?


This would also give SNI and the like up front and make Squid able to
act lot more like what people in squid-users seem to be starting off
assuming it does.

Amos
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002432.html">[squid-dev] [PATCH] TLS: Add support for EECDH
</A></li>
	<LI>Next message: <A HREF="002418.html">[squid-dev] [RFC] TLS peek by default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2413">[ date ]</a>
              <a href="thread.html#2413">[ thread ]</a>
              <a href="subject.html#2413">[ subject ]</a>
              <a href="author.html#2413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
