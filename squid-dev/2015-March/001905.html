<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Digest related question.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Digest%20related%20question.&In-Reply-To=%3C1426667037.7769.26.camel%40henriknordstrom.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001963.html">
   <LINK REL="Next"  HREF="001906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Digest related question.</H1>
    <B>Henrik Nordström</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Digest%20related%20question.&In-Reply-To=%3C1426667037.7769.26.camel%40henriknordstrom.net%3E"
       TITLE="[squid-dev] Digest related question.">henrik at henriknordstrom.net
       </A><BR>
    <I>Wed Mar 18 08:23:57 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001963.html">[squid-dev] Digest related question.
</A></li>
        <LI>Next message: <A HREF="001906.html">[squid-dev] Digest related question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1905">[ date ]</a>
              <a href="thread.html#1905">[ thread ]</a>
              <a href="subject.html#1905">[ subject ]</a>
              <a href="author.html#1905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>mån 2015-03-16 klockan 04:03 +0200 skrev Eliezer Croitoru:

&gt;<i> My main concern until now is that if squid would have the cached object 
</I>&gt;<i> in a digest url form such as:
</I>&gt;<i> <A HREF="http://digest.squid.internal/MD5/xyz123">http://digest.squid.internal/MD5/xyz123</A>&quot;
</I>&gt;<i> 
</I>&gt;<i> Squid would in many cases try to verify against the origin server that 
</I>&gt;<i> the cached object has the same ETAG and MODIFICATION time.
</I>
The Digest alone is only on the body, and says nothing about header
authority. You need to get trusted object headers from somewhere else,
i.e. the requested origin. Once you have the authoritative headers you
can splice in the digest verified response body.

This is in some sense similar to the header merging needed in ETag based
variant handling on a single URL, but even more so as you must not take
headers from one random URL and apply them to another requested URL
without permission unless the requested URL permits this.  Violating
this opens a range of security concerns where headers may be injected
giving a different result than intended by the origin.

Regards
Henrik

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001963.html">[squid-dev] Digest related question.
</A></li>
	<LI>Next message: <A HREF="001906.html">[squid-dev] Digest related question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1905">[ date ]</a>
              <a href="thread.html#1905">[ thread ]</a>
              <a href="subject.html#1905">[ subject ]</a>
              <a href="author.html#1905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
