<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Removing DNS lookups in intercept mode by using client dest IP address
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Removing%20DNS%20lookups%20in%20intercept%20mode%20by%20using%20client%0A%20dest%20IP%20address&In-Reply-To=%3C1432209622698-4671335.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002360.html">
   <LINK REL="Next"  HREF="002362.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Removing DNS lookups in intercept mode by using client dest IP address</H1>
    <B>johndunne</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Removing%20DNS%20lookups%20in%20intercept%20mode%20by%20using%20client%0A%20dest%20IP%20address&In-Reply-To=%3C1432209622698-4671335.post%40n4.nabble.com%3E"
       TITLE="[squid-dev] Removing DNS lookups in intercept mode by using client dest IP address">imirish at alldunne.com
       </A><BR>
    <I>Thu May 21 12:00:22 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002360.html">[squid-dev] [PATCH] Bug 3875 MimeIcon error handling
</A></li>
        <LI>Next message: <A HREF="002362.html">[squid-dev] Removing DNS lookups in intercept mode by using client dest IP address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2361">[ date ]</a>
              <a href="thread.html#2361">[ thread ]</a>
              <a href="subject.html#2361">[ subject ]</a>
              <a href="author.html#2361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm running squid 3.5.4 on a network which caches http and https traffic via
a tproxy redirect on a linux box. The setup runs perfectly, except that a
slight lag is introduced owing to the squid service making DNS lookups for
many of the requests it receives via http and https.

Now, I'm considering patching squid such that it auto adds the destination
IP address of the client connection to its own dns cache, for the hostname
that appears in the http header of that connection. I think this is safe
since the connection is redirected via tproxy i.e. I know that the client
machine got that IP address for the hostname in the HTTP/HTTPS request.

Assuming my logic here isn't flawed, does anyone know if this is sensible
and if any such work has already been done?

Many thanks,
John. 



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Removing-DNS-lookups-in-intercept-mode-by-using-client-dest-IP-address-tp4671335.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Removing-DNS-lookups-in-intercept-mode-by-using-client-dest-IP-address-tp4671335.html</A>
Sent from the Squid - Development mailing list archive at Nabble.com.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002360.html">[squid-dev] [PATCH] Bug 3875 MimeIcon error handling
</A></li>
	<LI>Next message: <A HREF="002362.html">[squid-dev] Removing DNS lookups in intercept mode by using client dest IP address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2361">[ date ]</a>
              <a href="thread.html#2361">[ thread ]</a>
              <a href="subject.html#2361">[ subject ]</a>
              <a href="author.html#2361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
