<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Avoid startup/shutdown crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Avoid%20startup/shutdown%20crashes&In-Reply-To=%3C5705F87D.2040403%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="005559.html">
   <LINK REL="Next"  HREF="005573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Avoid startup/shutdown crashes</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Avoid%20startup/shutdown%20crashes&In-Reply-To=%3C5705F87D.2040403%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] Avoid startup/shutdown crashes">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Apr  7 06:04:45 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005559.html">[squid-dev] Jenkins build is back to normal : trunk-matrix » clang,d-ubuntu-vivid #607
</A></li>
        <LI>Next message: <A HREF="005573.html">[squid-dev] [PATCH] Avoid startup/shutdown crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5552">[ date ]</a>
              <a href="thread.html#5552">[ thread ]</a>
              <a href="subject.html#5552">[ subject ]</a>
              <a href="author.html#5552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    We spent the last few days chasing down trunk startup crashes.
Backtraces pointed to the OpenSSL context management bugs, but the
actual problem was related to the global destruction disorder in the
SBuf statistics code. The attached patch preamble contains the proposed
commit message with more technical details, as usual.


FYI: Since we spent so much time pinpointing this problem and testing
various suspects, we found five more [related] bugs:

&gt;<i> Trunk r14628: Fixed NotNode (!acl) naming: Terminate for strncat(name).
</I>&gt;<i> Bug 4484: tcp access loggers crash clang builds running with ALL,3
</I>&gt;<i> Bug 4485: off-by-one out-of-bounds Tokenizer::int64() read errors
</I>&gt;<i> upcoming patch: Removed ServerOptions &quot;partial copy&quot; copy constructor.
</I>&gt;<i> upcoming patch: Fix and simplify new/delete overloading.
</I>
The &quot;upcoming patches&quot; will be posted shortly, but we hope that somebody
else will fix bugs 4484 and 4485.


HTH,

Alex.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: IP-12713-cleanup-crash-t5.patch
Type: text/x-diff
Size: 6129 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160407/873587bd/attachment.patch">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160407/873587bd/attachment.patch</A>&gt;
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005559.html">[squid-dev] Jenkins build is back to normal : trunk-matrix » clang,d-ubuntu-vivid #607
</A></li>
	<LI>Next message: <A HREF="005573.html">[squid-dev] [PATCH] Avoid startup/shutdown crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5552">[ date ]</a>
              <a href="thread.html#5552">[ thread ]</a>
              <a href="subject.html#5552">[ subject ]</a>
              <a href="author.html#5552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
