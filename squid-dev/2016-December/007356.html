<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Update refresh_pattern	description	regarding 'max' option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20refresh_pattern%0A%09description%09regarding%20%27max%27%20option&In-Reply-To=%3C034a01d24f14%24fd3d7810%24f7b86830%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007355.html">
   <LINK REL="Next"  HREF="007346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Update refresh_pattern	description	regarding 'max' option</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20refresh_pattern%0A%09description%09regarding%20%27max%27%20option&In-Reply-To=%3C034a01d24f14%24fd3d7810%24f7b86830%24%40ngtech.co.il%3E"
       TITLE="[squid-dev] [PATCH] Update refresh_pattern	description	regarding 'max' option">eliezer at ngtech.co.il
       </A><BR>
    <I>Mon Dec  5 16:31:11 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007355.html">[squid-dev] [PATCH] Update refresh_pattern description	regarding 'max' option
</A></li>
        <LI>Next message: <A HREF="007346.html">[squid-dev] [PATCH] auth_schemes directive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7356">[ date ]</a>
              <a href="thread.html#7356">[ thread ]</a>
              <a href="subject.html#7356">[ subject ]</a>
              <a href="author.html#7356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>To produce just open the page:
<A HREF="http://unix.stackexchange.com/questions/28851/iptables-to-block-https-websites">http://unix.stackexchange.com/questions/28851/iptables-to-block-https-websites</A>

Using Firefox.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-dev [mailto:<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev-bounces at lists.squid-cache.org</A>] On Behalf Of Eliezer Croitoru
Sent: Monday, December 5, 2016 5:52 PM
To: 'Amos Jeffries' &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid3 at treenet.co.nz</A>&gt;; <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
Subject: Re: [squid-dev] [PATCH] Update refresh_pattern description regarding 'max' option

I was just reading at stackexchange and I got this nasty error:
2016/12/05 17:47:05 kid1| Accepting HTTP Socket connections at local=[::]:13129 remote=[::] FD 24 flags=9
2016/12/05 17:47:05 kid1| Accepting SSL bumped HTTP Socket connections at local=[::]:3128 remote=[::] FD 25 flags=9
2016/12/05 17:47:05| pinger: Initialising ICMP pinger ...
2016/12/05 17:47:05| pinger: ICMP socket opened.
2016/12/05 17:47:05| pinger: ICMPv6 socket opened
2016/12/05 17:47:05 kid1| WARNING: Cannot retrieve 'qa.sockets.stackexchange.com:80'.
2016/12/05 17:47:05 kid1| assertion failed: ../../squid-4.0.16/src/FwdState.cc:268: &quot;!EBIT_TEST(entry-&gt;flags, ENTRY_FWD_HDR_WAIT)&quot;
2016/12/05 17:47:05| removing PID file: /var/run/squid.pid
2016/12/05 17:47:05| Pinger exiting.
2016/12/05 17:47:15| Pinger exiting.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-dev [mailto:<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev-bounces at lists.squid-cache.org</A>] On Behalf Of Amos Jeffries
Sent: Wednesday, November 30, 2016 1:56 PM
To: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
Subject: Re: [squid-dev] [PATCH] Update refresh_pattern description regarding 'max' option

On 21/11/2016 9:58 a.m., Garri Djavadyan wrote:
&gt;<i> The patch adds description for undocumented behavior related to 'max'
</I>&gt;<i> option of 'refresh_pattern' directive. I mean, 'max' option sets value 
</I>&gt;<i> for 'Cache-Control: max-age' header sent by Squid upstream. Feel free 
</I>&gt;<i> to modify the description. Thanks.
</I>&gt;<i> 
</I>
IIRC it is not supposed to affect just any request. Only;
 a) the revalidation updates to HIT content need max-age, and that is to ensure newer data comes back.
 b) sibling cache requests, because the content retrieved from a sibling cache is supposed to be cacheable (thus within max storable age).

That (b) situation is one we probably should remove. But it needs someone to analyse the use cases and figure out what should be going on now in the HTTP/1.1 era.

Amos

_______________________________________________
squid-dev mailing list
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>

_______________________________________________
squid-dev mailing list
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>

</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007355.html">[squid-dev] [PATCH] Update refresh_pattern description	regarding 'max' option
</A></li>
	<LI>Next message: <A HREF="007346.html">[squid-dev] [PATCH] auth_schemes directive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7356">[ date ]</a>
              <a href="thread.html#7356">[ thread ]</a>
              <a href="subject.html#7356">[ subject ]</a>
              <a href="author.html#7356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
