<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Fix external_acl problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fix%20external_acl%20problems&In-Reply-To=%3C56AF6A60.9050002%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="004973.html">
   <LINK REL="Next"  HREF="004975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Fix external_acl problems</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fix%20external_acl%20problems&In-Reply-To=%3C56AF6A60.9050002%40treenet.co.nz%3E"
       TITLE="[squid-dev] [PATCH] Fix external_acl problems">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Feb  1 14:23:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004973.html">[squid-dev] [PATCH] Fix external_acl problems
</A></li>
        <LI>Next message: <A HREF="004975.html">[squid-dev] [PATCH] Fix external_acl problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4974">[ date ]</a>
              <a href="thread.html#4974">[ thread ]</a>
              <a href="subject.html#4974">[ subject ]</a>
              <a href="author.html#4974">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/02/2016 2:32 a.m., Dave Lewthwaite wrote:
&gt;<i> Hi Christos,
</I>&gt;<i> 
</I>&gt;<i> Sorry my apologies - I had my build env a bit mixed up. Anyway I’ve cleared that down and re-applied the patch - it’s all working now which is excellent news (http_port / CONNECT and https_port / transparent/intercept).
</I>&gt;<i> 
</I>
Hurrah! :-)

&gt;<i> For clarity - 
</I>&gt;<i> 
</I>&gt;<i> Reviewion: squid-4.0.4-20160111-r14487
</I>&gt;<i> Patch applied cleanly with
</I>&gt;<i> patch -p0 &lt; ../cert_subject_gone-t4.patch 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It wouldn’t apply cleanly to the latest nightly.
</I>&gt;<i> 
</I>&gt;<i> May be related - the %&gt;ru field in the ACL is now logged as host:port for http_port/CONNECT and ip:port for https_port/transparent - is the ‘:port’ expected? If so then I will modify our external ACL to strip it off before performing comparison.
</I>&gt;<i> 
</I>
It should show what was received from the client.

CONNECT request is expected to have IP:port or host:port depending on
what info is available. Due to SNI intercepted port 443 traffic may be
either IP:port or sni:port on the synthetic CONNET request.

Other requests with URL <A HREF="scheme://">scheme://</A> are expected to omit the :port if it
is the registered default port for that scheme (ie <A HREF="https://">https://</A> means no
&quot;:443&quot;, <A HREF="http://">http://</A> no &quot;:80&quot;, <A HREF="ftp://">ftp://</A> no &quot;:21&quot;, etc) but otherwise always
include the :port.


&gt;<i> When are you targeting 4.0 to be released?
</I>&gt;<i> 
</I>
The next beta (4.0.5) should be out in the next few days.

4.1 (stable) will be out as soon as we have a 10 day period with no
major bugs existing and no new bugs being found. No certain timeline on
when that will occur.

Amos

</PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004973.html">[squid-dev] [PATCH] Fix external_acl problems
</A></li>
	<LI>Next message: <A HREF="004975.html">[squid-dev] [PATCH] Fix external_acl problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4974">[ date ]</a>
              <a href="thread.html#4974">[ thread ]</a>
              <a href="subject.html#4974">[ subject ]</a>
              <a href="author.html#4974">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
