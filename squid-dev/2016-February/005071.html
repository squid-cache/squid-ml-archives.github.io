<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] String::append assertion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20String%3A%3Aappend%20assertion&In-Reply-To=%3C286417054.752.1454521835942.JavaMail.root%40hscbrasil.com.br%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="005000.html">
   <LINK REL="Next"  HREF="005170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] String::append assertion</H1>
    <B>William Lima</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20String%3A%3Aappend%20assertion&In-Reply-To=%3C286417054.752.1454521835942.JavaMail.root%40hscbrasil.com.br%3E"
       TITLE="[squid-dev] [PATCH] String::append assertion">william.lima at hscbrasil.com.br
       </A><BR>
    <I>Wed Feb  3 17:50:35 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005000.html">[squid-dev] String::append assertion
</A></li>
        <LI>Next message: <A HREF="005170.html">[squid-dev] [PATCH] String::append assertion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5071">[ date ]</a>
              <a href="thread.html#5071">[ thread ]</a>
              <a href="subject.html#5071">[ subject ]</a>
              <a href="author.html#5071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos,

Is it enough just to change the ESICustomParser?

Thanks in advance,

William

----- Mensagem original -----
De: &quot;Amos Jeffries&quot; &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid3 at treenet.co.nz</A>&gt;
Para: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
Enviadas: Ter√ßa-feira, 2 de Fevereiro de 2016 4:12:57
Assunto: Re: [squid-dev] String::append assertion

On 2/02/2016 8:04 a.m., William Lima wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I have an assertion (1) of String::append called from ESICustomParser::parse (2). Is 64K too small in some scenarios?
</I>&gt;<i> 
</I>&gt;<i> 1 - String.cc:204: &quot;len_ + len &lt; 65536&quot;
</I>&gt;<i> 2 - CustomParser.cc:85
</I>&gt;<i> 
</I>
Exactly so. If the expanded ESI template produces an object &gt;= 64KB in
size it will do this.

We now have SBuf storage type to fix these issues. But ESI has not yet
been converted to using it. Any assistance or patches are welcome.

Amos

_______________________________________________
squid-dev mailing list
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ESI_SBuf.patch
Type: text/x-patch
Size: 1217 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160203/a5195c3a/attachment.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160203/a5195c3a/attachment.bin</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005000.html">[squid-dev] String::append assertion
</A></li>
	<LI>Next message: <A HREF="005170.html">[squid-dev] [PATCH] String::append assertion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5071">[ date ]</a>
              <a href="thread.html#5071">[ thread ]</a>
              <a href="subject.html#5071">[ subject ]</a>
              <a href="author.html#5071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
