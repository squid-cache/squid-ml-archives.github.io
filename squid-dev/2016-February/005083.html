<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] implement RFC3986
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20implement%20RFC3986&In-Reply-To=%3C56B8BA7C.9020401%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="005082.html">
   <LINK REL="Next"  HREF="005115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] implement RFC3986</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20implement%20RFC3986&In-Reply-To=%3C56B8BA7C.9020401%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] implement RFC3986">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Feb  8 15:55:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005082.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
        <LI>Next message: <A HREF="005115.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5083">[ date ]</a>
              <a href="thread.html#5083">[ thread ]</a>
              <a href="subject.html#5083">[ subject ]</a>
              <a href="author.html#5083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/07/2016 10:02 PM, Amos Jeffries wrote:

&gt;<i> The desired for-loop cannot be used apparently because SBuf lacks a
</I>&gt;<i> const_iterator definition. That will need to happen before we can apply
</I>&gt;<i> this, or put up with several very nasty const_cast.
</I>
If some code needs it, we should add SBuf::const_iterator.


&gt;&gt;&gt;&gt;<i> +public:
</I>&gt;&gt;&gt;&gt;<i> +    const static CharacterSet
</I>&gt;&gt;&gt;&gt;<i> +        Unsafe,  // RFC 1738 unsafe set
</I>&gt;&gt;&gt;&gt;<i> +        Ctrls,   // control characters (\0x00 to \0x1f)
</I>&gt;&gt;&gt;&gt;<i> +        UnsafeAndCtrls, // RFC 1738 Unsafe and Ctrls
</I>&gt;&gt;&gt;&gt;<i> +        Reserved1738, // RFC 1738 Reserved set
</I>&gt;&gt;&gt;&gt;<i> +        GenDelims,// RFC 3986 gen-delims set
</I>&gt;&gt;&gt;&gt;<i> +        SubDelims,// RFC 3986 sub-delims set
</I>&gt;&gt;&gt;&gt;<i> +        Reserved, // RFC 3986 reserved characters set
</I>&gt;&gt;&gt;&gt;<i> +        Unreserved, // RFC 3986 unreserved characters set
</I>&gt;&gt;&gt;&gt;<i> +        Unescaped,//ctrls and unsafe except for percent symbol
</I>&gt;&gt;&gt;&gt;<i> +        All;
</I>&gt;&gt;&gt;&gt;<i> +
</I>&gt;&gt;&gt;&gt;<i> +};
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This is not a class but a namespace.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Please s/RFC3986/Rfc3986/ for consistency with similar &quot;let's group RFC
</I>&gt;&gt;&gt;<i> concepts in one namespace&quot; SslBump code posted by Christos earlier (IIRC).
</I>

&gt;<i> I was not able to find that posting yet. 
</I>
Look for &quot;namespace Rfc5246&quot; in the PREVIEW patch archived at

<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/2015-December/004297.html">http://lists.squid-cache.org/pipermail/squid-dev/2015-December/004297.html</A>


FWIW, we are considering removing that namespace for the reasons
discussed in the namespace description comment:

&gt;<i> +// TODO: Consider removing this namespace. The idea was to encapsulate various
</I>&gt;<i> +// RFC 5246 types defined using the naming scheme from the RFC rather than
</I>&gt;<i> +// following Squid naming conventions. However, using these names in other code
</I>&gt;<i> +// may make that code inconsistent. Besides, we are running into some C++ naming
</I>&gt;<i> +// limits.
</I>
Nevertheless, my recommendation regarding CamelCase naming for RFC-based
namespaces stands.

The problems mentioned in the patch comment quoted above are not related
to RFC 3986 and RFC 1738 code that you are dealing with. RFC 5246 has
code snippets that we were trying to emulate, but doing so resulted in
inconsistent code style, so that experiment probably failed.


HTH,

Alex.

</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005082.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
	<LI>Next message: <A HREF="005115.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5083">[ date ]</a>
              <a href="thread.html#5083">[ thread ]</a>
              <a href="subject.html#5083">[ subject ]</a>
              <a href="author.html#5083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
