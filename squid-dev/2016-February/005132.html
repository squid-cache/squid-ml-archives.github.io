<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] implement RFC3986
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20implement%20RFC3986&In-Reply-To=%3C56BEED85.3000304%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="005116.html">
   <LINK REL="Next"  HREF="005143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] implement RFC3986</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20implement%20RFC3986&In-Reply-To=%3C56BEED85.3000304%40treenet.co.nz%3E"
       TITLE="[squid-dev] [PATCH] implement RFC3986">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Feb 13 08:47:01 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005116.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
        <LI>Next message: <A HREF="005143.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5132">[ date ]</a>
              <a href="thread.html#5132">[ thread ]</a>
              <a href="subject.html#5132">[ subject ]</a>
              <a href="author.html#5132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/02/2016 5:27 a.m., Alex Rousskov wrote:
&gt;<i> On 02/10/2016 08:59 AM, Amos Jeffries wrote:
</I>&gt;&gt;<i> This is the updated patch implementing RFC 3986 URI coding ('URL-escaping').
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So far all the audit suggestions except Tokenizer usage have been
</I>&gt;&gt;<i> implemented. Tokenizer is omitted because we still want helpers to be
</I>&gt;&gt;<i> able to instantiate these templates functions with std::string.
</I>&gt;<i> 
</I>&gt;<i> I do not think &quot;we&quot; want these templates. If helper code prefers to use
</I>&gt;<i> std::string, that code can call a simple wrapper that converts
</I>&gt;<i> std::string to SBuf or Tokenizer and then calls the non-template Rfc3986
</I>&gt;<i> functions.
</I>&gt;<i> 
</I>&gt;<i> Alex.
</I>&gt;<i> 
</I>
For clarity the &quot;we&quot; I was referring to was Kinkie and myself.

The problem it being a template solves is to prevent the helper needing
to be linked against the whole SBuf infrastructure just to convert
to/from SBuf to std::string for its own use.

As I see it there is no benefit from using both in the same code. The
binary either uses SBuf for zero-copy performance benefit or std::string
for slimline portable binary size. Using both just adds the worst parts
of both designs to the final binary behaviour and paying with bloat to
become that.


What is the big problem with these generic template functions?

Amos

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005116.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
	<LI>Next message: <A HREF="005143.html">[squid-dev] [PATCH] implement RFC3986
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5132">[ date ]</a>
              <a href="thread.html#5132">[ thread ]</a>
              <a href="subject.html#5132">[ subject ]</a>
              <a href="author.html#5132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
