<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [RFC] &quot;Splicing&quot; bumped requests to resolve\workaround WebSockets issues.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20%22Splicing%22%20bumped%20requests%20to%0A%20resolve%5Cworkaround%20WebSockets%20issues.&In-Reply-To=%3C952697db-7c6b-ee88-87ec-8417b0f24281%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="006346.html">
   <LINK REL="Next"  HREF="006360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to resolve\workaround WebSockets issues.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20%22Splicing%22%20bumped%20requests%20to%0A%20resolve%5Cworkaround%20WebSockets%20issues.&In-Reply-To=%3C952697db-7c6b-ee88-87ec-8417b0f24281%40treenet.co.nz%3E"
       TITLE="[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to resolve\workaround WebSockets issues.">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jul 18 06:13:07 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="006346.html">[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to	resolve\workaround WebSockets issues.
</A></li>
        <LI>Next message: <A HREF="006360.html">[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to resolve\workaround WebSockets issues.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6350">[ date ]</a>
              <a href="thread.html#6350">[ thread ]</a>
              <a href="subject.html#6350">[ subject ]</a>
              <a href="author.html#6350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 18/07/2016 8:34 a.m., Eliezer Croitoru wrote:
&gt;<i> Alex thanks for clearing things out.
</I>&gt;<i> I remember something's vaguely and this is why I didn't quote anything.
</I>&gt;<i> I tried searching for something in the squid-dev list or irc but I couldn't
</I>&gt;<i> found it.
</I>&gt;<i> 
</I>&gt;<i> &quot;tunnel after bump&quot; is indeed the right term and despite to what some think
</I>&gt;<i> in many cases the issue is not certificate pinning but...
</I>&gt;<i> A specially crafted binary protocol that cannot be intercepted by an HTTP
</I>&gt;<i> proxy.
</I>&gt;<i> 
</I>&gt;<i> About the on_unsupported_protocol , I am assuming it's part of the:
</I>&gt;<i> <A HREF="http://wiki.squid-cache.org/Squid-4?highlight=%28on_unsupported_protocol%29">http://wiki.squid-cache.org/Squid-4?highlight=%28on_unsupported_protocol%29</A>
</I>&gt;<i> 
</I>&gt;<i> The test cases I can think about are couple:
</I>&gt;<i> - CONNECT of a pinned certificate based connection(MS, SKYPE)
</I>&gt;<i> - CONNECT of a non TLS based connection(SKYPE)
</I>&gt;<i> - CONNECT of a http websocket connection(WHATSAPP?)
</I>&gt;<i> - CONNECT of a HTTPS based connection, non websocket(a simple banking site)
</I>&gt;<i> - CONNECT of a HTTPS based websocket connection(the CentOS\Fedora cockpit
</I>&gt;<i> have these, other suggections are welcome)
</I>&gt;<i> - intercepted connection for each of the cases above
</I>&gt;<i> 
</I>&gt;<i> I think that when we could test each and every one of these
</I>&gt;<i> cases(successfully) then we can move forward from beta to the next release.
</I>&gt;<i> (only for the bump, splice, tunnel, on_unsupported_protocol aspect of squid)
</I>

Well, that would be nice to have. But is not one of the things holding
Squid-4 in beta. The on_unsupported_protocol feature already meets its
original design behaviour (detecting and handling *non-TLS* protocols on
port 443) well enough for release as experimental feature in a stable
Squid release cycle.

We are currently on Stage 3 of the release process and waiting to
achieve the major-bugs criteria listed for reaching Stage 4:
&lt;<A HREF="http://wiki.squid-cache.org/ReleaseProcess#General_Release_Process_Guidelines">http://wiki.squid-cache.org/ReleaseProcess#General_Release_Process_Guidelines</A>&gt;

This time around I'm experimenting with not doing stage-2 (branching)
until Stage-4 is reached.

Amos

</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006346.html">[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to	resolve\workaround WebSockets issues.
</A></li>
	<LI>Next message: <A HREF="006360.html">[squid-dev] [RFC] &quot;Splicing&quot; bumped requests to resolve\workaround WebSockets issues.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6350">[ date ]</a>
              <a href="thread.html#6350">[ thread ]</a>
              <a href="subject.html#6350">[ subject ]</a>
              <a href="author.html#6350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
