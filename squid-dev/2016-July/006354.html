<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Some failed transactions are not logged
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Some%20failed%20transactions%20are%20not%20logged&In-Reply-To=%3C578CD144.1030607%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="006337.html">
   <LINK REL="Next"  HREF="006358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Some failed transactions are not logged</H1>
    <B>Eduard Bagdasaryan</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Some%20failed%20transactions%20are%20not%20logged&In-Reply-To=%3C578CD144.1030607%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] Some failed transactions are not logged">eduard.bagdasaryan at measurement-factory.com
       </A><BR>
    <I>Mon Jul 18 12:53:24 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="006337.html">[squid-dev] [PATCH] Some failed transactions are not logged
</A></li>
        <LI>Next message: <A HREF="006358.html">[squid-dev] [PATCH] Some failed transactions are not logged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6354">[ date ]</a>
              <a href="thread.html#6354">[ thread ]</a>
              <a href="subject.html#6354">[ subject ]</a>
              <a href="author.html#6354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Amos,

2016-07-17 12:34 GMT+03:00 Amos Jeffries &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid3 at treenet.co.nz</A>&gt;:
 &gt;  can these URI be logged with url_regex ACLs on access_log lines?

No because ACLUrlStrategy::requiresRequest() returns true.

 &gt; why is pipeline.back() being checked instead of pipeline.front() ?
 &gt; [not saying its wrong yet, just asking for a good reason.]

Since the pipeline acts as a FIFO we need the last-added pipeline
element to check whether it uses connection. I.e., if we pipelined
several requests, the CONNECT request (if we got it) will be the last,
because it starts using connection.

 &gt; logAcceptError() should use a distinct &quot;error:&quot; URI labeling this as a
 &gt; TCP accept error, since it has nothing to do with HTTP state.
Something like &quot;error:user-connection-establishment&quot; or
&quot;error:open-user-connection&quot;?  What do you think?


Eduard.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006337.html">[squid-dev] [PATCH] Some failed transactions are not logged
</A></li>
	<LI>Next message: <A HREF="006358.html">[squid-dev] [PATCH] Some failed transactions are not logged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6354">[ date ]</a>
              <a href="thread.html#6354">[ thread ]</a>
              <a href="subject.html#6354">[ subject ]</a>
              <a href="author.html#6354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
