<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Broken trunk after r14735, r14726
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Broken%20trunk%20after%20r14735%2C%20r14726&In-Reply-To=%3C578D2968.2040704%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="006397.html">
   <LINK REL="Next"  HREF="006367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Broken trunk after r14735, r14726</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Broken%20trunk%20after%20r14735%2C%20r14726&In-Reply-To=%3C578D2968.2040704%40measurement-factory.com%3E"
       TITLE="[squid-dev] Broken trunk after r14735, r14726">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jul 18 19:09:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="006397.html">[squid-dev] [RFC] [PREVIEW] LockingPointer round 3.
</A></li>
        <LI>Next message: <A HREF="006367.html">[squid-dev] Broken trunk after r14735, r14726
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6362">[ date ]</a>
              <a href="thread.html#6362">[ thread ]</a>
              <a href="subject.html#6362">[ subject ]</a>
              <a href="author.html#6362">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/18/2016 05:12 AM, Christos Tsantilas wrote:

&gt;<i> I must say that I am worrying a lot for all of these changes.
</I>&gt;<i> It is very difficult for me to follow them, and already I have
</I>&gt;<i> difficulties to read and debug squid openSSL relate code.
</I>&gt;<i> 
</I>&gt;<i> We are using our own naming scheme for openSSL structures, eg
</I>&gt;<i> &quot;Security::SessionPtr&quot; instead of &quot;SSL *&quot; or
</I>&gt;<i> &quot;Security::SessionStatePointer&quot; instead of &quot;SSL_SESSION *&quot; and this is
</I>&gt;<i> make it very difficult to follow Squid/openSSL code.
</I>&gt;<i> 
</I>&gt;<i> It is difficult to read an example openSSL code and trying convert it to
</I>&gt;<i> squid, or reading a reference implementation and trying check against
</I>&gt;<i> squid code. Someone is obligated to search for definitions and
</I>&gt;<i> equivalents types all the time.
</I>
&gt;<i> I am just expressing my worries here, I do not want to impose anything
</I>&gt;<i> and if there was a related discussion in squid-dev, sorry that I do not
</I>&gt;<i> participate and I did not express my concerns earlier.
</I>

Thank you for courageously documenting your worries and concerns. I
doubt you have missed any critical discussions -- many TLS changes are
committed without review (at best). Unfortunately, I do not see a
practical solution to this problem because

1. There are not enough hours in the day to review everything that
should be reviewed. We do not have enough developers, but the developers
we do have produce enough code to overwhelm even fewer available reviewers.

2. What should be reviewed is itself difficult to identify because many
critical changes (like naming things and changing class hierarchies) are
often hidden behind innocent &quot;cleanup&quot; or &quot;no logic changes&quot;
descriptions that may not even be posted for review.

3. A large portion of reviews are a waste of time because the reviewer
does not understand the problem being solved, the developer does not
understand the problem being solved, and/or the developer is refusing to
fix anything important unless it crashes Squid. And when an agreement is
miraculously reached, the ridiculous amount of time it took to reach
that agreement often negates the benefits of the fixed code.

These problems are not limited to TLS, of course.


Sometimes I wonder whether suspending the whole review process would
result in less pain and more working code overall, despite the fact that
some reviews do result in serious bugs fixed before deployment. However,
suspending all reviews may just open the floodgate of conflicting
designs and crappy code that does not even reach the review stage now
(and so we do not know about it).


If you have specific ideas on how to fix this, please share them, but I
suspect the pain will continue for the foreseeable future because the
problem does not have a solution given the available tools and parameters.

Alex.

</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006397.html">[squid-dev] [RFC] [PREVIEW] LockingPointer round 3.
</A></li>
	<LI>Next message: <A HREF="006367.html">[squid-dev] Broken trunk after r14735, r14726
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6362">[ date ]</a>
              <a href="thread.html#6362">[ thread ]</a>
              <a href="subject.html#6362">[ subject ]</a>
              <a href="author.html#6362">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
