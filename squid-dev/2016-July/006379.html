<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Fetch missing certificates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fetch%20missing%20certificates&In-Reply-To=%3C45a8868a-a0c2-7328-e027-b4a30ca3d5ad%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="006289.html">
   <LINK REL="Next"  HREF="006380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Fetch missing certificates</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Fetch%20missing%20certificates&In-Reply-To=%3C45a8868a-a0c2-7328-e027-b4a30ca3d5ad%40treenet.co.nz%3E"
       TITLE="[squid-dev] [PATCH] Fetch missing certificates">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul 20 13:42:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="006289.html">[squid-dev] [PATCH] Fetch missing certificates
</A></li>
        <LI>Next message: <A HREF="006380.html">[squid-dev] [PATCH] Fetch missing certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6379">[ date ]</a>
              <a href="thread.html#6379">[ thread ]</a>
              <a href="subject.html#6379">[ subject ]</a>
              <a href="author.html#6379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/07/2016 2:08 a.m., Christos Tsantilas wrote:
&gt;<i> A new patch.
</I>&gt;<i> 
</I>&gt;<i> It also includes the following fixes:
</I>&gt;<i>   - Sets the log_uri for ClientHttpRequest build by Downloader
</I>&gt;<i>   - Removes two XXX comments from PeerConnector class, which are not
</I>&gt;<i> valid any more
</I>&gt;<i>   - Make the Downloader::CbDialer a CallDialer kid.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Please also see my comments bellow.
</I>&gt;<i> 
</I>
&gt;<i> On 07/14/2016 02:16 PM, Amos Jeffries wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   - our coding style places documentation of class 'private' methods in
</I>&gt;&gt;<i> the .cc file not the .h.
</I>&gt;<i> 
</I>&gt;<i> ok, I fixed them, but we should change this style.
</I>&gt;<i> It is easier to have open the .h file and read the documentation for a
</I>&gt;<i> method you are going to use, than searching in the cc file to find the
</I>&gt;<i> documentation.
</I>&gt;<i> 
</I>
The reasoning behind the guideline was that these are *private* methods
of the class.

The only time(s) one should be looking at (or bothered by) their
documentation is when one has the .cc open already. eg, when altering
the class, or when the public API methods are so badly documented, one
has resorted to reading their code.

So we can reduce already large .h files a bit by having the
documentation internal to the .cc for these methods. Away from being a
distraction to anyone just needing to *use* the class.

&gt;&gt;<i>
</I>&gt;&gt;<i>   - why is DER format being used here? I think I know, but it needs to be
</I>&gt;&gt;<i> stated for clarity, Squid normally uses PEM format.
</I>&gt;<i> 
</I>&gt;<i> The DER format is used by RFCs for this and similar cases.
</I>&gt;<i> 
</I>
Sorry if I wasn't clear. I meant that needed documenting in the code.

&quot;Assume that it is in DER format.&quot; is not enough to inform anyone in
future what RFCs etc. are saying that makes this assumption reasonable.


&gt;&gt;<i>
</I>&gt;&gt;<i> in src/ssl/support.h:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * can we use Security::CertPointer for the second parameter of
</I>&gt;&gt;<i> CertsIndexedList ?
</I>&gt;<i> 
</I>&gt;<i> I am not seeing any reason.
</I>&gt;<i> In any case we can do it with an other patch if required.
</I>&gt;<i> 
</I>
Reason being to avoid another patch just for that. Your choice though.

FYI: Alex and I have agreed to steer away from raw-pointer usage now
when we can. And you also mentioned having trouble with the distinction
between Pointer and Ptr in the SSL/TLS code the other day. So I'm
looking to start proactively dropping the Ptr whenever possible now, and
just stick with Pointer.


+1 from me. Apart from the DER comment improvement I think this is ready
to go in unless Alex spots anything.


Thanks

Amos

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006289.html">[squid-dev] [PATCH] Fetch missing certificates
</A></li>
	<LI>Next message: <A HREF="006380.html">[squid-dev] [PATCH] Fetch missing certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6379">[ date ]</a>
              <a href="thread.html#6379">[ thread ]</a>
              <a href="subject.html#6379">[ subject ]</a>
              <a href="author.html#6379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
