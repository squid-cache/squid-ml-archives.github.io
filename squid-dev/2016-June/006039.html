<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Update all stored headers on revalidation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20all%20stored%20headers%20on%20revalidation&In-Reply-To=%3C576D3108.7080008%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="006037.html">
   <LINK REL="Next"  HREF="006041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Update all stored headers on revalidation</H1>
    <B>Eduard Bagdasaryan</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20all%20stored%20headers%20on%20revalidation&In-Reply-To=%3C576D3108.7080008%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] Update all stored headers on revalidation">eduard.bagdasaryan at measurement-factory.com
       </A><BR>
    <I>Fri Jun 24 13:09:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="006037.html">[squid-dev] [PATCH] Retry cache peer DNS failures more	frequently
</A></li>
        <LI>Next message: <A HREF="006041.html">[squid-dev] [PATCH] Update all stored headers on revalidation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6039">[ date ]</a>
              <a href="thread.html#6039">[ thread ]</a>
              <a href="subject.html#6039">[ subject ]</a>
              <a href="author.html#6039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

According to RFC 7234 section 4.3.4. when a proxy receives 304 (Not 
Modified)
response, it should update every header, except Warning headers (which need
special processing). Also RFC 7232 section 4.1. does not prohibit origin 
servers
from sending any headers in 304 responses. That means that Squid now 
should not
ignore headers, which earlier were considered as malicious/faulty.
These changes were originated from another project, which is going to make
collapsing for revalidation requests work.

Regards,
Eduard.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-197-update-right-headers-on-304.patch
Type: text/x-patch
Size: 52991 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160624/84c33d4e/attachment-0001.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20160624/84c33d4e/attachment-0001.bin</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006037.html">[squid-dev] [PATCH] Retry cache peer DNS failures more	frequently
</A></li>
	<LI>Next message: <A HREF="006041.html">[squid-dev] [PATCH] Update all stored headers on revalidation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6039">[ date ]</a>
              <a href="thread.html#6039">[ thread ]</a>
              <a href="subject.html#6039">[ subject ]</a>
              <a href="author.html#6039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
