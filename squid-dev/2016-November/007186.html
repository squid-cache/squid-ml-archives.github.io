<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] ICAP trailer support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20ICAP%20trailer%20support&In-Reply-To=%3C5821DBC5.2080904%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007183.html">
   <LINK REL="Next"  HREF="007188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] ICAP trailer support</H1>
    <B>Eduard Bagdasaryan</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20ICAP%20trailer%20support&In-Reply-To=%3C5821DBC5.2080904%40measurement-factory.com%3E"
       TITLE="[squid-dev] [PATCH] ICAP trailer support">eduard.bagdasaryan at measurement-factory.com
       </A><BR>
    <I>Tue Nov  8 14:05:57 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007183.html">[squid-dev] Build failed in Jenkins: trunk-full-matrix » clang,d-debian-unstable #278
</A></li>
        <LI>Next message: <A HREF="007188.html">[squid-dev] [PATCH] ICAP trailer support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7186">[ date ]</a>
              <a href="thread.html#7186">[ thread ]</a>
              <a href="subject.html#7186">[ subject ]</a>
              <a href="author.html#7186">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

This patch introduces the initial ICAP trailer support. ICAP trailers are
currently specified by
<A HREF="https://datatracker.ietf.org/doc/draft-rousskov-icap-trailers/.">https://datatracker.ietf.org/doc/draft-rousskov-icap-trailers/.</A> For now,
Squid logs and ignores all parsed ICAP header fields.  In future we plan
to add code for using ICAP trailers for transaction annotations and
access logging.

Also refactored HttpHeader parsing methods in order to reuse them for
ICAP trailer parsing.

Also simplified and fixed headers isolating code while dealing with
empty (i.e. zero header fields) headers. Old httpMsgIsolateHeaders()
tried to re-implement header end detection/processing logic that is
actually covered by headersEnd(). Old httpMsgIsolateHeaders() could
return success for some garbage input (e.g., a buffer of several CRs)
even if no end of headers was found.

Regards,
Eduard.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-157-parse-icap-trailer-t8.patch
Type: text/x-patch
Size: 57173 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20161108/2d348076/attachment-0001.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20161108/2d348076/attachment-0001.bin</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007183.html">[squid-dev] Build failed in Jenkins: trunk-full-matrix » clang,d-debian-unstable #278
</A></li>
	<LI>Next message: <A HREF="007188.html">[squid-dev] [PATCH] ICAP trailer support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7186">[ date ]</a>
              <a href="thread.html#7186">[ thread ]</a>
              <a href="subject.html#7186">[ subject ]</a>
              <a href="author.html#7186">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
