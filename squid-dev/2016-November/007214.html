<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Rework acl/RegexData optimization to use	SBufList
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Rework%20acl/RegexData%20optimization%20to%20use%0A%09SBufList&In-Reply-To=%3CCA%2BY8hcNTBj4ZwW9TPKA9_St_EVYRFrdMDq4%2BH_Esid5quadD_A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007224.html">
   <LINK REL="Next"  HREF="007215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Rework acl/RegexData optimization to use	SBufList</H1>
    <B>Kinkie</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Rework%20acl/RegexData%20optimization%20to%20use%0A%09SBufList&In-Reply-To=%3CCA%2BY8hcNTBj4ZwW9TPKA9_St_EVYRFrdMDq4%2BH_Esid5quadD_A%40mail.gmail.com%3E"
       TITLE="[squid-dev] [PATCH] Rework acl/RegexData optimization to use	SBufList">gkinkie at gmail.com
       </A><BR>
    <I>Mon Nov 14 00:11:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007224.html">[squid-dev] [PATCH] Fix for the bug 3533
</A></li>
        <LI>Next message: <A HREF="007215.html">[squid-dev] [PATCH] Rework acl/RegexData optimization to use SBufList
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7214">[ date ]</a>
              <a href="thread.html#7214">[ thread ]</a>
              <a href="subject.html#7214">[ subject ]</a>
              <a href="author.html#7214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
  the attached patch moves away from hand-rolling a c-string onto
joining a SBufList for optimizing regexes in RegexData.cc.

You can find attached as a test case the output of squidclient
mgr:config taken on trunk and on the submitted code. It is slightly
different in that the new code allows for a longer optimized regex.
  The code is expected to cause a small performance regression on
parse and reconfigure due to extra data copies. The regression is
negligible: the attached test cases perform &quot;squid -k parse&quot; in 60
msec in trunk and 62 on the branch on a warm cache on my i5 macbook
air.


[RFC]
The code managing case-insensitivity flags is IMO quite complicated
and not really intuitive: it switches between case-insensitive and
case-sensitive each time it meets a -i flag. I would like to change
the behaviour so that a -i flag makes the whole acl case-insensitive;
this seems to me consistent with the behavior documented in squid.conf
which does not document the case of multiple -i flags in a single
regex-type ACL. I'd like feedback on this proposal.



-- 
    Francesco
-------------- next part --------------
HTTP/1.1 200 OK
Server: squid/5.0.0-BZR
Mime-Version: 1.0
Date: Sun, 13 Nov 2016 23:46:45 GMT
Content-Type: text/plain;charset=utf-8
Expires: Sun, 13 Nov 2016 23:46:45 GMT
Last-Modified: Sun, 13 Nov 2016 23:46:45 GMT
X-Cache: MISS from kair
X-Cache-Lookup: MISS from kair:3128
Via: 1.1 kair (squid/5.0.0-BZR)
Connection: close

workers 1
shared_memory_locking off
authenticate_cache_garbage_interval 3600 seconds
authenticate_ttl 3600 seconds
authenticate_ip_ttl 1 seconds
acl CONNECT method  CONNECT 
acl Safe_ports port  80 21 443 70 210 1025-65535 280 488 591 777 
acl SSL_ports port  443 
acl localhet src  169.254.0.0/16 
acl localnet src  0.0.0.1-0.255.255.255 10.0.0.0/8 100.64.0.0/10 172.16.0.0/12 192.168.0.0/16 fc00::/7 fe80::/10 
acl bigacl dstdom_regex  (kinkie.it)|(localhost)|(pattern1)|(pattern2)|(pattern3)|(pattern4)|(pattern5)|(pattern6)|(pattern7)|(pattern8)|(pattern9)|(pattern10)|(pattern11)|(pattern12)|(pattern13)|(pattern14)|(pattern15)|(pattern16)|(pattern17)|(pattern18)|(pattern19)|(pattern20)|(pattern21)|(pattern22)|(pattern23)|(pattern24)|(pattern25)|(pattern26)|(pattern27)|(pattern28)|(pattern29)|(pattern30)|(pattern31)|(pattern32)|(pattern33)|(pattern34)|(pattern35)|(pattern36)|(pattern37)|(pattern38)|(pattern39)|(pattern40)|(pattern41)|(pattern42)|(pattern43)|(pattern44)|(pattern45)|(pattern46)|(pattern47)|(pattern48)|(pattern49)|(pattern50)|(pattern51)|(pattern52)|(pattern53)|(pattern54)|(pattern55)|(pattern56)|(pattern57)|(pattern58)|(pattern59)|(pattern60)|(pattern61)|(pattern62)|(pattern63)|(pattern64)|(pattern65)|(pattern66)|(pattern67)|(pattern68)|(pattern69)|(pattern70)|(pattern71)|(pattern72)|(pattern73)|(pattern74)|(pattern75)|(pattern76)|(pattern77)|(pattern78)|(pattern79)|(pattern80)|(pattern81)|(pattern82)|(pattern83)|(pattern84)|(pattern85)|(pattern86)|(pattern87)|(pattern88)|(pattern89)|(pattern90)|(pattern91)|(pattern92)|(pattern93)|(pattern94)|(pattern95)|(pattern96)|(pattern97)|(pattern98)|(pattern99)|(pattern100)|(pattern101)|(pattern102)|(pattern103)|(pattern104)|(pattern105)|(pattern106)|(pattern107)|(pattern108)|(pattern109)|(pattern110)|(pattern111)|(pattern112) (pattern114)|(pattern115)|(pattern116)|(pattern117)|(pattern118)|(pattern119)|(pattern120)|(pattern121)|(pattern122)|(pattern123)|(pattern124)|(pattern125)|(pattern126)|(pattern127)|(pattern128)|(pattern129)|(pattern130)|(pattern131)|(pattern132)|(pattern133)|(pattern134)|(pattern135)|(pattern136)|(pattern137)|(pattern138)|(pattern139)|(pattern140)|(pattern141)|(pattern142)|(pattern143)|(pattern144)|(pattern145)|(pattern146)|(pattern147)|(pattern148)|(pattern149)|(pattern150)|(pattern151)|(pattern152)|(pattern153)|(pattern154)|(pattern155)|(pattern156)|(pattern157)|(pattern158)|(pattern159)|(pattern160)|(pattern161)|(pattern162)|(pattern163)|(pattern164)|(pattern165)|(pattern166)|(pattern167)|(pattern168)|(pattern169)|(pattern170)|(pattern171)|(pattern172)|(pattern173)|(pattern174)|(pattern175)|(pattern176)|(pattern177)|(pattern178)|(pattern179)|(pattern180)|(pattern181)|(pattern182)|(pattern183)|(pattern184)|(pattern185)|(pattern186)|(pattern187)|(pattern188)|(pattern189)|(pattern190)|(pattern191)|(pattern192)|(pattern193)|(pattern194)|(pattern195)|(pattern196)|(pattern197)|(pattern198)|(pattern199)|(pattern200)|(pattern201)|(pattern202)|(pattern203)|(pattern204)|(pattern205)|(pattern206)|(pattern207)|(pattern208)|(pattern209)|(pattern210)|(pattern211)|(pattern212)|(pattern213)|(pattern214)|(pattern215)|(pattern216) (pattern218)|(pattern219)|(pattern220)|(pattern221)|(pattern222)|(pattern223)|(pattern224)|(pattern225)|(pattern226)|(pattern227)|(pattern228)|(pattern229)|(pattern230)|(pattern231)|(pattern232)|(pattern233)|(pattern234)|(pattern235)|(pattern236)|(pattern237)|(pattern238)|(pattern239)|(pattern240)|(pattern241)|(pattern242)|(pattern243)|(pattern244)|(pattern245)|(pattern246)|(pattern247)|(pattern248)|(pattern249)|(pattern250)|(pattern251)|(pattern252)|(pattern253)|(pattern254)|(pattern255)|(pattern256)|(pattern257)|(pattern258)|(pattern259)|(pattern260)|(pattern261)|(pattern262)|(pattern263)|(pattern264)|(pattern265)|(pattern266)|(pattern267)|(pattern268)|(pattern269)|(pattern270)|(pattern271)|(pattern272)|(pattern273)|(pattern274)|(pattern275)|(pattern276)|(pattern277)|(pattern278)|(pattern279)|(pattern280)|(pattern281)|(pattern282)|(pattern283)|(pattern284)|(pattern285)|(pattern286)|(pattern287)|(pattern288)|(pattern289)|(pattern290)|(pattern291)|(pattern292)|(pattern293)|(pattern294)|(pattern295)|(pattern296)|(pattern297)|(pattern298)|(pattern299)|(pattern300)|(pattern301)|(pattern302)|(pattern303)|(pattern304)|(pattern305)|(pattern306)|(pattern307)|(pattern308)|(pattern309)|(pattern310)|(pattern311)|(pattern312)|(pattern313)|(pattern314)|(pattern315)|(pattern316)|(pattern317)|(pattern318)|(pattern319)|(pattern320) (pattern322)|(pattern323)|(pattern324)|(pattern325)|(pattern326)|(pattern327)|(pattern328)|(pattern329)|(pattern330)|(pattern331)|(pattern332)|(pattern333)|(pattern334)|(pattern335)|(pattern336)|(pattern337)|(pattern338)|(pattern339)|(pattern340)|(pattern341)|(pattern342)|(pattern343)|(pattern344)|(pattern345)|(pattern346)|(pattern347)|(pattern348)|(pattern349)|(pattern350)|(pattern351)|(pattern352)|(pattern353)|(pattern354)|(pattern355)|(pattern356)|(pattern357)|(pattern358)|(pattern359)|(pattern360)|(pattern361)|(pattern362)|(pattern363)|(pattern364)|(pattern365)|(pattern366)|(pattern367)|(pattern368)|(pattern369)|(pattern370)|(pattern371)|(pattern372)|(pattern373)|(pattern374)|(pattern375)|(pattern376)|(pattern377)|(pattern378)|(pattern379)|(pattern380)|(pattern381)|(pattern382)|(pattern383)|(pattern384)|(pattern385)|(pattern386)|(pattern387)|(pattern388)|(pattern389)|(pattern390)|(pattern391)|(pattern392)|(pattern393)|(pattern394)|(pattern395)|(pattern396)|(pattern397)|(pattern398)|(pattern399)|(pattern400)|(pattern401)|(pattern402)|(pattern403)|(pattern404)|(pattern405)|(pattern406)|(pattern407)|(pattern408)|(pattern409)|(pattern410)|(pattern411)|(pattern412)|(pattern413)|(pattern414)|(pattern415)|(pattern416)|(pattern417)|(pattern418)|(pattern419)|(pattern420)|(pattern421)|(pattern422)|(pattern423)|(pattern424) (pattern426)|(pattern427)|(pattern428)|(pattern429)|(pattern430)|(pattern431)|(pattern432)|(pattern433)|(pattern434)|(pattern435)|(pattern436)|(pattern437)|(pattern438)|(pattern439)|(pattern440)|(pattern441)|(pattern442)|(pattern443)|(pattern444)|(pattern445)|(pattern446)|(pattern447)|(pattern448)|(pattern449)|(pattern450)|(pattern451)|(pattern452)|(pattern453)|(pattern454)|(pattern455)|(pattern456)|(pattern457)|(pattern458)|(pattern459)|(pattern460)|(pattern461)|(pattern462)|(pattern463)|(pattern464)|(pattern465)|(pattern466)|(pattern467)|(pattern468)|(pattern469)|(pattern470)|(pattern471)|(pattern472)|(pattern473)|(pattern474)|(pattern475)|(pattern476)|(pattern477)|(pattern478)|(pattern479)|(pattern480)|(pattern481)|(pattern482)|(pattern483)|(pattern484)|(pattern485)|(pattern486)|(pattern487)|(pattern488)|(pattern489)|(pattern490)|(pattern491)|(pattern492)|(pattern493)|(pattern494)|(pattern495)|(pattern496)|(pattern497)|(pattern498)|(pattern499)|(pattern500)|(pattern501)|(pattern502)|(pattern503)|(pattern504)|(pattern505)|(pattern506)|(pattern507)|(pattern508)|(pattern509)|(pattern510)|(pattern511)|(pattern512)|(pattern513)|(pattern514)|(pattern515)|(pattern516)|(pattern517)|(pattern518)|(pattern519)|(pattern520)|(pattern521)|(pattern522)|(pattern523)|(pattern524)|(pattern525)|(pattern526)|(pattern527)|(pattern528) (pattern530)|(pattern531)|(pattern532)|(pattern533)|(pattern534)|(pattern535)|(pattern536)|(pattern537)|(pattern538)|(pattern539)|(pattern540)|(pattern541)|(pattern542)|(pattern543)|(pattern544)|(pattern545)|(pattern546)|(pattern547)|(pattern548)|(pattern549)|(pattern550)|(pattern551)|(pattern552)|(pattern553)|(pattern554)|(pattern555)|(pattern556)|(pattern557)|(pattern558)|(pattern559)|(pattern560)|(pattern561)|(pattern562)|(pattern563)|(pattern564)|(pattern565)|(pattern566)|(pattern567)|(pattern568)|(pattern569)|(pattern570)|(pattern571)|(pattern572)|(pattern573)|(pattern574)|(pattern575)|(pattern576)|(pattern577)|(pattern578)|(pattern579)|(pattern580)|(pattern581)|(pattern582)|(pattern583)|(pattern584)|(pattern585)|(pattern586)|(pattern587)|(pattern588)|(pattern589)|(pattern590)|(pattern591)|(pattern592)|(pattern593)|(pattern594)|(pattern595)|(pattern596)|(pattern597)|(pattern598)|(pattern599)|(pattern600)|(pattern601)|(pattern602)|(pattern603)|(pattern604)|(pattern605)|(pattern606)|(pattern607)|(pattern608)|(pattern609)|(pattern610)|(pattern611)|(pattern612)|(pattern613)|(pattern614)|(pattern615)|(pattern616)|(pattern617)|(pattern618)|(pattern619)|(pattern620)|(pattern621)|(pattern622)|(pattern623)|(pattern624)|(pattern625)|(pattern626)|(pattern627)|(pattern628)|(pattern629)|(pattern630)|(pattern631)|(pattern632) (pattern634)|(pattern635)|(pattern636)|(pattern637)|(pattern638)|(pattern639)|(pattern640)|(pattern641)|(pattern642)|(pattern643)|(pattern644)|(pattern645)|(pattern646)|(pattern647)|(pattern648)|(pattern649)|(pattern650)|(pattern651)|(pattern652)|(pattern653)|(pattern654)|(pattern655)|(pattern656)|(pattern657)|(pattern658)|(pattern659)|(pattern660)|(pattern661)|(pattern662)|(pattern663)|(pattern664)|(pattern665)|(pattern666)|(pattern667)|(pattern668)|(pattern669)|(pattern670)|(pattern671)|(pattern672)|(pattern673)|(pattern674)|(pattern675)|(pattern676)|(pattern677)|(pattern678)|(pattern679)|(pattern680)|(pattern681)|(pattern682)|(pattern683)|(pattern684)|(pattern685)|(pattern686)|(pattern687)|(pattern688)|(pattern689)|(pattern690)|(pattern691)|(pattern692)|(pattern693)|(pattern694)|(pattern695)|(pattern696)|(pattern697)|(pattern698)|(pattern699)|(pattern700)|(pattern701)|(pattern702)|(pattern703)|(pattern704)|(pattern705)|(pattern706)|(pattern707)|(pattern708)|(pattern709)|(pattern710)|(pattern711)|(pattern712)|(pattern713)|(pattern714)|(pattern715)|(pattern716)|(pattern717)|(pattern718)|(pattern719)|(pattern720)|(pattern721)|(pattern722)|(pattern723)|(pattern724)|(pattern725)|(pattern726)|(pattern727)|(pattern728)|(pattern729)|(pattern730)|(pattern731)|(pattern732)|(pattern733)|(pattern734)|(pattern735)|(pattern736) (pattern738)|(pattern739)|(pattern740)|(pattern741)|(pattern742)|(pattern743)|(pattern744)|(pattern745)|(pattern746)|(pattern747)|(pattern748)|(pattern749)|(pattern750)|(pattern751)|(pattern752)|(pattern753)|(pattern754)|(pattern755)|(pattern756)|(pattern757)|(pattern758)|(pattern759)|(pattern760)|(pattern761)|(pattern762)|(pattern763)|(pattern764)|(pattern765)|(pattern766)|(pattern767)|(pattern768)|(pattern769)|(pattern770)|(pattern771)|(pattern772)|(pattern773)|(pattern774)|(pattern775)|(pattern776)|(pattern777)|(pattern778)|(pattern779)|(pattern780)|(pattern781)|(pattern782)|(pattern783)|(pattern784)|(pattern785)|(pattern786)|(pattern787)|(pattern788)|(pattern789)|(pattern790)|(pattern791)|(pattern792)|(pattern793)|(pattern794)|(pattern795)|(pattern796)|(pattern797)|(pattern798)|(pattern799)|(pattern800)|(pattern801)|(pattern802)|(pattern803)|(pattern804)|(pattern805)|(pattern806)|(pattern807)|(pattern808)|(pattern809)|(pattern810)|(pattern811)|(pattern812)|(pattern813)|(pattern814)|(pattern815)|(pattern816)|(pattern817)|(pattern818)|(pattern819)|(pattern820)|(pattern821)|(pattern822)|(pattern823)|(pattern824)|(pattern825)|(pattern826)|(pattern827)|(pattern828)|(pattern829)|(pattern830)|(pattern831)|(pattern832)|(pattern833)|(pattern834)|(pattern835)|(pattern836)|(pattern837)|(pattern838)|(pattern839)|(pattern840) (pattern842)|(pattern843)|(pattern844)|(pattern845)|(pattern846)|(pattern847)|(pattern848)|(pattern849)|(pattern850)|(pattern851)|(pattern852)|(pattern853)|(pattern854)|(pattern855)|(pattern856)|(pattern857)|(pattern858)|(pattern859)|(pattern860)|(pattern861)|(pattern862)|(pattern863)|(pattern864)|(pattern865)|(pattern866)|(pattern867)|(pattern868)|(pattern869)|(pattern870)|(pattern871)|(pattern872)|(pattern873)|(pattern874)|(pattern875)|(pattern876)|(pattern877)|(pattern878)|(pattern879)|(pattern880)|(pattern881)|(pattern882)|(pattern883)|(pattern884)|(pattern885)|(pattern886)|(pattern887)|(pattern888)|(pattern889)|(pattern890)|(pattern891)|(pattern892)|(pattern893)|(pattern894)|(pattern895)|(pattern896)|(pattern897)|(pattern898)|(pattern899)|(pattern900)|(pattern901)|(pattern902)|(pattern903)|(pattern904)|(pattern905)|(pattern906)|(pattern907)|(pattern908)|(pattern909)|(pattern910)|(pattern911)|(pattern912)|(pattern913)|(pattern914)|(pattern915)|(pattern916)|(pattern917)|(pattern918)|(pattern919)|(pattern920)|(pattern921)|(pattern922)|(pattern923)|(pattern924)|(pattern925)|(pattern926)|(pattern927)|(pattern928)|(pattern929)|(pattern930)|(pattern931)|(pattern932)|(pattern933)|(pattern934)|(pattern935)|(pattern936)|(pattern937)|(pattern938)|(pattern939)|(pattern940)|(pattern941)|(pattern942)|(pattern943)|(pattern944) (pattern946)|(pattern947)|(pattern948)|(pattern949)|(pattern950)|(pattern951)|(pattern952)|(pattern953)|(pattern954)|(pattern955)|(pattern956)|(pattern957)|(pattern958)|(pattern959)|(pattern960)|(pattern961)|(pattern962)|(pattern963)|(pattern964)|(pattern965)|(pattern966)|(pattern967)|(pattern968)|(pattern969)|(pattern970)|(pattern971)|(pattern972)|(pattern973)|(pattern974)|(pattern975)|(pattern976)|(pattern977)|(pattern978)|(pattern979)|(pattern980)|(pattern981)|(pattern982)|(pattern983)|(pattern984)|(pattern985)|(pattern986)|(pattern987)|(pattern988)|(pattern989)|(pattern990)|(pattern991)|(pattern992)|(pattern993)|(pattern994)|(pattern995)|(pattern996)|(pattern997)|(pattern998) 
acl to_localhost dst  ::1 0.0.0.0 127.0.0.0/8 
acl localhost src  ::1 127.0.0.1 
acl manager url_regex  -i (^cache_<A HREF="object://">object://</A>) +i (^https?://[^/]+/squid-internal-mgr/) 
acl all src  ::/0 
acl ssl::certSelfSigned ssl_error  X509_V_ERR_DEPTH_ZERO_SELF_SIGNED_CERT 
acl ssl::certUntrusted ssl_error  X509_V_ERR_CERT_UNTRUSTED X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY X509_V_ERR_INVALID_CA X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT X509_V_ERR_UNABLE_TO_VERIFY_LEAF_SIGNATURE X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN 
acl ssl::certDomainMismatch ssl_error  SQUID_X509_V_ERR_DOMAIN_MISMATCH 
acl ssl::certNotYetValid ssl_error  X509_V_ERR_CERT_NOT_YET_VALID 
acl ssl::certHasExpired ssl_error  X509_V_ERR_CERT_HAS_EXPIRED 
follow_x_forwarded_for deny all 
 
acl_uses_indirect_client on
delay_pool_uses_indirect_client on
log_uses_indirect_client on
http_access allow bigacl 
 http_access allow manager 
 http_access deny all 
 http_access deny !Safe_ports 
 http_access deny CONNECT !SSL_ports 
 http_access allow localhost manager 
 http_access deny manager 
 http_access allow localnet 
 http_access allow localhost 
 http_access deny all 
 
http_port [::]:3128 name=3128 connection-auth=on tls-disable
https_port [::]:3128 name=3128 connection-auth=on tls-disable
��,�host_verify_strict off
client_dst_passthru on
tls_outgoing_options
ssl_unclean_shutdown off
sslproxy_session_ttl 300
sslproxy_session_cache_size 2097152 bytes
sslproxy_cert_sign signUntrusted (sslproxy_cert_sign signUntrusted line) 

sslproxy_cert_sign signSelf (sslproxy_cert_sign signSelf line) 

sslproxy_cert_sign signTrusted (sslproxy_cert_sign signTrusted line) 


sslcrtvalidator_children 32 startup=5 idle=1 concurrency=1
dead_peer_timeout 10 seconds
forward_max_tries 25
cache_mem 268435456 bytes
maximum_object_size_in_memory 524288 bytes
memory_cache_shared off
memory_cache_mode always
memory_replacement_policy lru
cache_replacement_policy lru
minimum_object_size 0 bytes
maximum_object_size 4194304 bytes
store_dir_select_algorithm least-load
max_open_disk_fds 0
cache_swap_low 90
cache_swap_high 95
access_log daemon:/Users/kinkie/tmp/squid/var/logs/access.log logformat=squid(access_log daemon:/Users/kinkie/tmp/squid/var/logs/access.log 

logfile_daemon /Users/kinkie/tmp/squid/libexec/log_file_daemon
logfile_rotate 10
mime_table /Users/kinkie/tmp/squid/etc/mime.conf
log_mime_hdrs off
pid_filename /Users/kinkie/tmp/squid/var/run/squid.pid
client_netmask ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
strip_query_terms on
buffered_logs off
netdb_filename stdio:/Users/kinkie/tmp/squid/var/cache/squid/netdb.state
cache_log /Users/kinkie/tmp/squid/var/logs/cache.log
debug_options ALL,1
coredump_dir /Users/kinkie/tmp/squid/var/cache/squid
ftp_user Squid@
ftp_passive on
ftp_epsv_all off
ftp_eprt on
ftp_sanitycheck on
ftp_telnet_protocol on
diskd_program /Users/kinkie/tmp/squid/libexec/diskd
unlinkd_program /Users/kinkie/tmp/squid/libexec/unlinkd
pinger_program /Users/kinkie/tmp/squid/libexec/pinger
pinger_enable on

url_rewrite_children 20 startup=0 idle=1 concurrency=0
url_rewrite_host_header on
url_rewrite_bypass off
url_rewrite_extras %&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp
url_rewrite_timeout 0 seconds
 on_timeout=bypass
store_id_extras %&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp

store_id_children 20 startup=0 idle=1 concurrency=0
store_id_bypass on
max_stale 604800 seconds
refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern . 0 20% 4320
quick_abort_min 16 KB
quick_abort_max 16 KB
quick_abort_pct 95
read_ahead_gap 16384 bytes
negative_ttl 0 seconds
positive_dns_ttl 21600 seconds
negative_dns_ttl 60 seconds
minimum_expiry_time 60 seconds
store_avg_object_size 13312 bytes
store_objects_per_bucket 20
request_header_max_size 65536 bytes
reply_header_max_size 65536 bytes
request_body_max_size 0 bytes
client_request_buffer_max_size 524288 bytes
adaptation_uses_indirect_client on
via on
vary_ignore_expire off
request_entities off
relaxed_header_parser on
collapsed_forwarding off
collapsed_forwarding_shared_entries_limit 16384
forward_timeout 240 seconds
connect_timeout 60 seconds
peer_connect_timeout 30 seconds
read_timeout 900 seconds
write_timeout 900 seconds
request_timeout 300 seconds
request_start_timeout 300 seconds
client_idle_pconn_timeout 120 seconds
ftp_client_idle_timeout 1800 seconds
client_lifetime 86400 seconds
pconn_lifetime 0 seconds
half_closed_clients off
server_idle_pconn_timeout 60 seconds
ident_timeout 10 seconds
shutdown_lifetime 1 seconds
cache_mgr webmaster
mail_program mail
cache_effective_user nobody
httpd_suppress_version_string off
umask 23
announce_period 31536000 seconds
announce_host tracker.ircache.net
announce_port 3131
httpd_accel_surrogate_id kair
http_accel_surrogate_remote off
esi_parser custom
delay_pools 0
delay_initial_bucket_level 50
client_delay_initial_bucket_level 50
wccp_router ::
wccp_version 4
wccp2_rebuild_wait on
wccp2_forwarding_method gre
wccp2_return_method gre
wccp2_assignment_method hash
wccp2_service standard 0
wccp2_weight 10000
wccp_address 0.0.0.0
wccp2_address 0.0.0.0
client_persistent_connections on
server_persistent_connections on
persistent_connection_after_error on
detect_broken_pconn off
digest_generation on
digest_bits_per_entry 5
digest_rebuild_period 3600 seconds
digest_rewrite_period 3600 seconds
digest_swapout_chunk_size 4096 bytes
digest_rebuild_chunk_percentage 10
snmp_port 0
snmp_incoming_address ::
snmp_outgoing_address ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
icp_port 0
htcp_port 0
log_icp_queries on
udp_incoming_address ::
udp_outgoing_address ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
icp_hit_stale off
minimum_direct_hops 4
minimum_direct_rtt 400
netdb_low 900
netdb_high 1000
netdb_ping_period 300 seconds
query_icmp off
test_reachability off
icp_query_timeout 0
maximum_icp_query_timeout 2000
minimum_icp_query_timeout 5
background_ping_rate 10 seconds
mcast_icp_query_timeout 2000
icon_directory /Users/kinkie/tmp/squid/share/icons
global_internal_static on
short_icon_urls on
error_log_languages on
err_page_stylesheet /Users/kinkie/tmp/squid/etc/errorpage.css
err_html_text 
email_err_data on
nonhierarchical_direct on
prefer_direct off
cache_miss_revalidate on
incoming_udp_average 6
incoming_tcp_average 4
incoming_dns_average 4
min_udp_poll_cnt 8
min_dns_poll_cnt 8
min_tcp_poll_cnt 8
client_ip_max_connections -1
tcp_recv_bufsize 0 bytes
icap_enable off
icap_connect_timeout 0 seconds
icap_io_timeout 0 seconds
icap_service_failure_limit 10
icap_service_revival_delay 180
icap_preview_enable on
icap_preview_size -1
icap_206_enable on
icap_default_options_ttl 60
icap_persistent_connections on
adaptation_send_client_ip off
adaptation_send_username off
icap_client_username_header X-Client-Username
icap_client_username_encode off
adaptation_service_iteration_limit 16
icap_retry deny all 
 
icap_retry_limit 0
check_hostnames off
allow_underscore on
dns_retransmit_interval 5 seconds
dns_timeout 30 seconds
dns_packet_max 0 bytes
dns_defnames off
dns_multicast_local off
hosts_file yes
ignore_unknown_nameservers on
dns_v4_first off
ipcache_size 1024
ipcache_low 90
ipcache_high 95
fqdncache_size 1024
configuration_includes_quoted_values off
memory_pools on
memory_pools_limit 5242880 bytes
forwarded_for on
cachemgr_passwd none all
client_db on
refresh_all_ims off
reload_into_ims off
connect_retries 0
retry_on_error off
as_whois_server whois.ra.net
offline_mode off
uri_whitespace strip
balance_on_multiple_ip off
pipeline_prefetch 0
high_response_time_warning 0
high_page_fault_warning 0
sleep_after_fork 0
eui_lookup on
max_filedescriptors 0
-------------- next part --------------
HTTP/1.1 200 OK
Server: squid/5.0.0-BZR
Mime-Version: 1.0
Date: Sun, 13 Nov 2016 23:47:08 GMT
Content-Type: text/plain;charset=utf-8
Expires: Sun, 13 Nov 2016 23:47:08 GMT
Last-Modified: Sun, 13 Nov 2016 23:47:08 GMT
X-Cache: MISS from kair
X-Cache-Lookup: MISS from kair:3128
Via: 1.1 kair (squid/5.0.0-BZR)
Connection: close

workers 1
shared_memory_locking off
authenticate_cache_garbage_interval 3600 seconds
authenticate_ttl 3600 seconds
authenticate_ip_ttl 1 seconds
acl CONNECT method  CONNECT 
acl Safe_ports port  80 21 443 70 210 1025-65535 280 488 591 777 
acl SSL_ports port  443 
acl localhet src  169.254.0.0/16 
acl localnet src  0.0.0.1-0.255.255.255 10.0.0.0/8 100.64.0.0/10 172.16.0.0/12 192.168.0.0/16 fc00::/7 fe80::/10 
acl bigacl dstdom_regex  (kinkie.it)|(localhost)|(pattern1)|(pattern2)|(pattern3)|(pattern4)|(pattern5)|(pattern6)|(pattern7)|(pattern8)|(pattern9)|(pattern10)|(pattern11)|(pattern12)|(pattern13)|(pattern14)|(pattern15)|(pattern16)|(pattern17)|(pattern18)|(pattern19)|(pattern20)|(pattern21)|(pattern22)|(pattern23)|(pattern24)|(pattern25)|(pattern26)|(pattern27)|(pattern28)|(pattern29)|(pattern30)|(pattern31)|(pattern32)|(pattern33)|(pattern34)|(pattern35)|(pattern36)|(pattern37)|(pattern38)|(pattern39)|(pattern40)|(pattern41)|(pattern42)|(pattern43)|(pattern44)|(pattern45)|(pattern46)|(pattern47)|(pattern48)|(pattern49)|(pattern50)|(pattern51)|(pattern52)|(pattern53)|(pattern54)|(pattern55)|(pattern56)|(pattern57)|(pattern58)|(pattern59)|(pattern60)|(pattern61)|(pattern62)|(pattern63)|(pattern64)|(pattern65)|(pattern66)|(pattern67)|(pattern68)|(pattern69)|(pattern70)|(pattern71)|(pattern72)|(pattern73)|(pattern74)|(pattern75)|(pattern76)|(pattern77)|(pattern78)|(pattern79)|(pattern80)|(pattern81)|(pattern82)|(pattern83)|(pattern84) (pattern86)|(pattern87)|(pattern88)|(pattern89)|(pattern90)|(pattern91)|(pattern92)|(pattern93)|(pattern94)|(pattern95)|(pattern96)|(pattern97)|(pattern98)|(pattern99)|(pattern100)|(pattern101)|(pattern102)|(pattern103)|(pattern104)|(pattern105)|(pattern106)|(pattern107)|(pattern108)|(pattern109)|(pattern110)|(pattern111)|(pattern112)|(pattern113)|(pattern114)|(pattern115)|(pattern116)|(pattern117)|(pattern118)|(pattern119)|(pattern120)|(pattern121)|(pattern122)|(pattern123)|(pattern124)|(pattern125)|(pattern126)|(pattern127)|(pattern128)|(pattern129)|(pattern130)|(pattern131)|(pattern132)|(pattern133)|(pattern134)|(pattern135)|(pattern136)|(pattern137)|(pattern138)|(pattern139)|(pattern140)|(pattern141)|(pattern142)|(pattern143)|(pattern144)|(pattern145)|(pattern146)|(pattern147)|(pattern148)|(pattern149)|(pattern150)|(pattern151)|(pattern152)|(pattern153)|(pattern154)|(pattern155)|(pattern156)|(pattern157)|(pattern158)|(pattern159)|(pattern160)|(pattern161)|(pattern162)|(pattern163)|(pattern164) (pattern166)|(pattern167)|(pattern168)|(pattern169)|(pattern170)|(pattern171)|(pattern172)|(pattern173)|(pattern174)|(pattern175)|(pattern176)|(pattern177)|(pattern178)|(pattern179)|(pattern180)|(pattern181)|(pattern182)|(pattern183)|(pattern184)|(pattern185)|(pattern186)|(pattern187)|(pattern188)|(pattern189)|(pattern190)|(pattern191)|(pattern192)|(pattern193)|(pattern194)|(pattern195)|(pattern196)|(pattern197)|(pattern198)|(pattern199)|(pattern200)|(pattern201)|(pattern202)|(pattern203)|(pattern204)|(pattern205)|(pattern206)|(pattern207)|(pattern208)|(pattern209)|(pattern210)|(pattern211)|(pattern212)|(pattern213)|(pattern214)|(pattern215)|(pattern216)|(pattern217)|(pattern218)|(pattern219)|(pattern220)|(pattern221)|(pattern222)|(pattern223)|(pattern224)|(pattern225)|(pattern226)|(pattern227)|(pattern228)|(pattern229)|(pattern230)|(pattern231)|(pattern232)|(pattern233)|(pattern234)|(pattern235)|(pattern236)|(pattern237)|(pattern238)|(pattern239)|(pattern240)|(pattern241)|(pattern242)|(pattern243) (pattern245)|(pattern246)|(pattern247)|(pattern248)|(pattern249)|(pattern250)|(pattern251)|(pattern252)|(pattern253)|(pattern254)|(pattern255)|(pattern256)|(pattern257)|(pattern258)|(pattern259)|(pattern260)|(pattern261)|(pattern262)|(pattern263)|(pattern264)|(pattern265)|(pattern266)|(pattern267)|(pattern268)|(pattern269)|(pattern270)|(pattern271)|(pattern272)|(pattern273)|(pattern274)|(pattern275)|(pattern276)|(pattern277)|(pattern278)|(pattern279)|(pattern280)|(pattern281)|(pattern282)|(pattern283)|(pattern284)|(pattern285)|(pattern286)|(pattern287)|(pattern288)|(pattern289)|(pattern290)|(pattern291)|(pattern292)|(pattern293)|(pattern294)|(pattern295)|(pattern296)|(pattern297)|(pattern298)|(pattern299)|(pattern300)|(pattern301)|(pattern302)|(pattern303)|(pattern304)|(pattern305)|(pattern306)|(pattern307)|(pattern308)|(pattern309)|(pattern310)|(pattern311)|(pattern312)|(pattern313)|(pattern314)|(pattern315)|(pattern316)|(pattern317)|(pattern318)|(pattern319)|(pattern320)|(pattern321)|(pattern322) (pattern324)|(pattern325)|(pattern326)|(pattern327)|(pattern328)|(pattern329)|(pattern330)|(pattern331)|(pattern332)|(pattern333)|(pattern334)|(pattern335)|(pattern336)|(pattern337)|(pattern338)|(pattern339)|(pattern340)|(pattern341)|(pattern342)|(pattern343)|(pattern344)|(pattern345)|(pattern346)|(pattern347)|(pattern348)|(pattern349)|(pattern350)|(pattern351)|(pattern352)|(pattern353)|(pattern354)|(pattern355)|(pattern356)|(pattern357)|(pattern358)|(pattern359)|(pattern360)|(pattern361)|(pattern362)|(pattern363)|(pattern364)|(pattern365)|(pattern366)|(pattern367)|(pattern368)|(pattern369)|(pattern370)|(pattern371)|(pattern372)|(pattern373)|(pattern374)|(pattern375)|(pattern376)|(pattern377)|(pattern378)|(pattern379)|(pattern380)|(pattern381)|(pattern382)|(pattern383)|(pattern384)|(pattern385)|(pattern386)|(pattern387)|(pattern388)|(pattern389)|(pattern390)|(pattern391)|(pattern392)|(pattern393)|(pattern394)|(pattern395)|(pattern396)|(pattern397)|(pattern398)|(pattern399)|(pattern400)|(pattern401) (pattern403)|(pattern404)|(pattern405)|(pattern406)|(pattern407)|(pattern408)|(pattern409)|(pattern410)|(pattern411)|(pattern412)|(pattern413)|(pattern414)|(pattern415)|(pattern416)|(pattern417)|(pattern418)|(pattern419)|(pattern420)|(pattern421)|(pattern422)|(pattern423)|(pattern424)|(pattern425)|(pattern426)|(pattern427)|(pattern428)|(pattern429)|(pattern430)|(pattern431)|(pattern432)|(pattern433)|(pattern434)|(pattern435)|(pattern436)|(pattern437)|(pattern438)|(pattern439)|(pattern440)|(pattern441)|(pattern442)|(pattern443)|(pattern444)|(pattern445)|(pattern446)|(pattern447)|(pattern448)|(pattern449)|(pattern450)|(pattern451)|(pattern452)|(pattern453)|(pattern454)|(pattern455)|(pattern456)|(pattern457)|(pattern458)|(pattern459)|(pattern460)|(pattern461)|(pattern462)|(pattern463)|(pattern464)|(pattern465)|(pattern466)|(pattern467)|(pattern468)|(pattern469)|(pattern470)|(pattern471)|(pattern472)|(pattern473)|(pattern474)|(pattern475)|(pattern476)|(pattern477)|(pattern478)|(pattern479)|(pattern480) (pattern482)|(pattern483)|(pattern484)|(pattern485)|(pattern486)|(pattern487)|(pattern488)|(pattern489)|(pattern490)|(pattern491)|(pattern492)|(pattern493)|(pattern494)|(pattern495)|(pattern496)|(pattern497)|(pattern498)|(pattern499)|(pattern500)|(pattern501)|(pattern502)|(pattern503)|(pattern504)|(pattern505)|(pattern506)|(pattern507)|(pattern508)|(pattern509)|(pattern510)|(pattern511)|(pattern512)|(pattern513)|(pattern514)|(pattern515)|(pattern516)|(pattern517)|(pattern518)|(pattern519)|(pattern520)|(pattern521)|(pattern522)|(pattern523)|(pattern524)|(pattern525)|(pattern526)|(pattern527)|(pattern528)|(pattern529)|(pattern530)|(pattern531)|(pattern532)|(pattern533)|(pattern534)|(pattern535)|(pattern536)|(pattern537)|(pattern538)|(pattern539)|(pattern540)|(pattern541)|(pattern542)|(pattern543)|(pattern544)|(pattern545)|(pattern546)|(pattern547)|(pattern548)|(pattern549)|(pattern550)|(pattern551)|(pattern552)|(pattern553)|(pattern554)|(pattern555)|(pattern556)|(pattern557)|(pattern558)|(pattern559) (pattern561)|(pattern562)|(pattern563)|(pattern564)|(pattern565)|(pattern566)|(pattern567)|(pattern568)|(pattern569)|(pattern570)|(pattern571)|(pattern572)|(pattern573)|(pattern574)|(pattern575)|(pattern576)|(pattern577)|(pattern578)|(pattern579)|(pattern580)|(pattern581)|(pattern582)|(pattern583)|(pattern584)|(pattern585)|(pattern586)|(pattern587)|(pattern588)|(pattern589)|(pattern590)|(pattern591)|(pattern592)|(pattern593)|(pattern594)|(pattern595)|(pattern596)|(pattern597)|(pattern598)|(pattern599)|(pattern600)|(pattern601)|(pattern602)|(pattern603)|(pattern604)|(pattern605)|(pattern606)|(pattern607)|(pattern608)|(pattern609)|(pattern610)|(pattern611)|(pattern612)|(pattern613)|(pattern614)|(pattern615)|(pattern616)|(pattern617)|(pattern618)|(pattern619)|(pattern620)|(pattern621)|(pattern622)|(pattern623)|(pattern624)|(pattern625)|(pattern626)|(pattern627)|(pattern628)|(pattern629)|(pattern630)|(pattern631)|(pattern632)|(pattern633)|(pattern634)|(pattern635)|(pattern636)|(pattern637)|(pattern638) (pattern640)|(pattern641)|(pattern642)|(pattern643)|(pattern644)|(pattern645)|(pattern646)|(pattern647)|(pattern648)|(pattern649)|(pattern650)|(pattern651)|(pattern652)|(pattern653)|(pattern654)|(pattern655)|(pattern656)|(pattern657)|(pattern658)|(pattern659)|(pattern660)|(pattern661)|(pattern662)|(pattern663)|(pattern664)|(pattern665)|(pattern666)|(pattern667)|(pattern668)|(pattern669)|(pattern670)|(pattern671)|(pattern672)|(pattern673)|(pattern674)|(pattern675)|(pattern676)|(pattern677)|(pattern678)|(pattern679)|(pattern680)|(pattern681)|(pattern682)|(pattern683)|(pattern684)|(pattern685)|(pattern686)|(pattern687)|(pattern688)|(pattern689)|(pattern690)|(pattern691)|(pattern692)|(pattern693)|(pattern694)|(pattern695)|(pattern696)|(pattern697)|(pattern698)|(pattern699)|(pattern700)|(pattern701)|(pattern702)|(pattern703)|(pattern704)|(pattern705)|(pattern706)|(pattern707)|(pattern708)|(pattern709)|(pattern710)|(pattern711)|(pattern712)|(pattern713)|(pattern714)|(pattern715)|(pattern716)|(pattern717) (pattern719)|(pattern720)|(pattern721)|(pattern722)|(pattern723)|(pattern724)|(pattern725)|(pattern726)|(pattern727)|(pattern728)|(pattern729)|(pattern730)|(pattern731)|(pattern732)|(pattern733)|(pattern734)|(pattern735)|(pattern736)|(pattern737)|(pattern738)|(pattern739)|(pattern740)|(pattern741)|(pattern742)|(pattern743)|(pattern744)|(pattern745)|(pattern746)|(pattern747)|(pattern748)|(pattern749)|(pattern750)|(pattern751)|(pattern752)|(pattern753)|(pattern754)|(pattern755)|(pattern756)|(pattern757)|(pattern758)|(pattern759)|(pattern760)|(pattern761)|(pattern762)|(pattern763)|(pattern764)|(pattern765)|(pattern766)|(pattern767)|(pattern768)|(pattern769)|(pattern770)|(pattern771)|(pattern772)|(pattern773)|(pattern774)|(pattern775)|(pattern776)|(pattern777)|(pattern778)|(pattern779)|(pattern780)|(pattern781)|(pattern782)|(pattern783)|(pattern784)|(pattern785)|(pattern786)|(pattern787)|(pattern788)|(pattern789)|(pattern790)|(pattern791)|(pattern792)|(pattern793)|(pattern794)|(pattern795)|(pattern796) (pattern798)|(pattern799)|(pattern800)|(pattern801)|(pattern802)|(pattern803)|(pattern804)|(pattern805)|(pattern806)|(pattern807)|(pattern808)|(pattern809)|(pattern810)|(pattern811)|(pattern812)|(pattern813)|(pattern814)|(pattern815)|(pattern816)|(pattern817)|(pattern818)|(pattern819)|(pattern820)|(pattern821)|(pattern822)|(pattern823)|(pattern824)|(pattern825)|(pattern826)|(pattern827)|(pattern828)|(pattern829)|(pattern830)|(pattern831)|(pattern832)|(pattern833)|(pattern834)|(pattern835)|(pattern836)|(pattern837)|(pattern838)|(pattern839)|(pattern840)|(pattern841)|(pattern842)|(pattern843)|(pattern844)|(pattern845)|(pattern846)|(pattern847)|(pattern848)|(pattern849)|(pattern850)|(pattern851)|(pattern852)|(pattern853)|(pattern854)|(pattern855)|(pattern856)|(pattern857)|(pattern858)|(pattern859)|(pattern860)|(pattern861)|(pattern862)|(pattern863)|(pattern864)|(pattern865)|(pattern866)|(pattern867)|(pattern868)|(pattern869)|(pattern870)|(pattern871)|(pattern872)|(pattern873)|(pattern874)|(pattern875) (pattern877)|(pattern878)|(pattern879)|(pattern880)|(pattern881)|(pattern882)|(pattern883)|(pattern884)|(pattern885)|(pattern886)|(pattern887)|(pattern888)|(pattern889)|(pattern890)|(pattern891)|(pattern892)|(pattern893)|(pattern894)|(pattern895)|(pattern896)|(pattern897)|(pattern898)|(pattern899)|(pattern900)|(pattern901)|(pattern902)|(pattern903)|(pattern904)|(pattern905)|(pattern906)|(pattern907)|(pattern908)|(pattern909)|(pattern910)|(pattern911)|(pattern912)|(pattern913)|(pattern914)|(pattern915)|(pattern916)|(pattern917)|(pattern918)|(pattern919)|(pattern920)|(pattern921)|(pattern922)|(pattern923)|(pattern924)|(pattern925)|(pattern926)|(pattern927)|(pattern928)|(pattern929)|(pattern930)|(pattern931)|(pattern932)|(pattern933)|(pattern934)|(pattern935)|(pattern936)|(pattern937)|(pattern938)|(pattern939)|(pattern940)|(pattern941)|(pattern942)|(pattern943)|(pattern944)|(pattern945)|(pattern946)|(pattern947)|(pattern948)|(pattern949)|(pattern950)|(pattern951)|(pattern952)|(pattern953)|(pattern954) (pattern956)|(pattern957)|(pattern958)|(pattern959)|(pattern960)|(pattern961)|(pattern962)|(pattern963)|(pattern964)|(pattern965)|(pattern966)|(pattern967)|(pattern968)|(pattern969)|(pattern970)|(pattern971)|(pattern972)|(pattern973)|(pattern974)|(pattern975)|(pattern976)|(pattern977)|(pattern978)|(pattern979)|(pattern980)|(pattern981)|(pattern982)|(pattern983)|(pattern984)|(pattern985)|(pattern986)|(pattern987)|(pattern988)|(pattern989)|(pattern990)|(pattern991)|(pattern992)|(pattern993)|(pattern994)|(pattern995)|(pattern996)|(pattern997)|(pattern998) 
acl to_localhost dst  ::1 0.0.0.0 127.0.0.0/8 
acl localhost src  ::1 127.0.0.1 
acl manager url_regex  -i (^cache_<A HREF="object://">object://</A>) +i (^https?://[^/]+/squid-internal-mgr/) 
acl all src  ::/0 
acl ssl::certSelfSigned ssl_error  X509_V_ERR_DEPTH_ZERO_SELF_SIGNED_CERT 
acl ssl::certUntrusted ssl_error  X509_V_ERR_CERT_UNTRUSTED X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY X509_V_ERR_INVALID_CA X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT X509_V_ERR_UNABLE_TO_VERIFY_LEAF_SIGNATURE X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN 
acl ssl::certDomainMismatch ssl_error  SQUID_X509_V_ERR_DOMAIN_MISMATCH 
acl ssl::certNotYetValid ssl_error  X509_V_ERR_CERT_NOT_YET_VALID 
acl ssl::certHasExpired ssl_error  X509_V_ERR_CERT_HAS_EXPIRED 
follow_x_forwarded_for deny all 
 
acl_uses_indirect_client on
delay_pool_uses_indirect_client on
log_uses_indirect_client on
http_access allow bigacl 
 http_access allow manager 
 http_access deny all 
 http_access deny !Safe_ports 
 http_access deny CONNECT !SSL_ports 
 http_access allow localhost manager 
 http_access deny manager 
 http_access allow localnet 
 http_access allow localhost 
 http_access deny all 
 
http_port [::]:3128 name=3128 connection-auth=on tls-disable
https_port [::]:3128 name=3128 connection-auth=on tls-disable
�v��host_verify_strict off
client_dst_passthru on
tls_outgoing_options
ssl_unclean_shutdown off
sslproxy_session_ttl 300
sslproxy_session_cache_size 2097152 bytes
sslproxy_cert_sign signUntrusted (sslproxy_cert_sign signUntrusted line) 

sslproxy_cert_sign signSelf (sslproxy_cert_sign signSelf line) 

sslproxy_cert_sign signTrusted (sslproxy_cert_sign signTrusted line) 


sslcrtvalidator_children 32 startup=5 idle=1 concurrency=1
dead_peer_timeout 10 seconds
forward_max_tries 25
cache_mem 268435456 bytes
maximum_object_size_in_memory 524288 bytes
memory_cache_shared off
memory_cache_mode always
memory_replacement_policy lru
cache_replacement_policy lru
minimum_object_size 0 bytes
maximum_object_size 4194304 bytes
store_dir_select_algorithm least-load
max_open_disk_fds 0
cache_swap_low 90
cache_swap_high 95
access_log daemon:/Users/kinkie/tmp/squid/var/logs/access.log logformat=squid(access_log daemon:/Users/kinkie/tmp/squid/var/logs/access.log 

logfile_daemon /Users/kinkie/tmp/squid/libexec/log_file_daemon
logfile_rotate 10
mime_table /Users/kinkie/tmp/squid/etc/mime.conf
log_mime_hdrs off
pid_filename /Users/kinkie/tmp/squid/var/run/squid.pid
client_netmask ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
strip_query_terms on
buffered_logs off
netdb_filename stdio:/Users/kinkie/tmp/squid/var/cache/squid/netdb.state
cache_log /Users/kinkie/tmp/squid/var/logs/cache.log
debug_options ALL,1
coredump_dir /Users/kinkie/tmp/squid/var/cache/squid
ftp_user Squid@
ftp_passive on
ftp_epsv_all off
ftp_eprt on
ftp_sanitycheck on
ftp_telnet_protocol on
diskd_program /Users/kinkie/tmp/squid/libexec/diskd
unlinkd_program /Users/kinkie/tmp/squid/libexec/unlinkd
pinger_program /Users/kinkie/tmp/squid/libexec/pinger
pinger_enable on

url_rewrite_children 20 startup=0 idle=1 concurrency=0
url_rewrite_host_header on
url_rewrite_bypass off
url_rewrite_extras %&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp
url_rewrite_timeout 0 seconds
 on_timeout=bypass
store_id_extras %&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp

store_id_children 20 startup=0 idle=1 concurrency=0
store_id_bypass on
max_stale 604800 seconds
refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern . 0 20% 4320
quick_abort_min 16 KB
quick_abort_max 16 KB
quick_abort_pct 95
read_ahead_gap 16384 bytes
negative_ttl 0 seconds
positive_dns_ttl 21600 seconds
negative_dns_ttl 60 seconds
minimum_expiry_time 60 seconds
store_avg_object_size 13312 bytes
store_objects_per_bucket 20
request_header_max_size 65536 bytes
reply_header_max_size 65536 bytes
request_body_max_size 0 bytes
client_request_buffer_max_size 524288 bytes
adaptation_uses_indirect_client on
via on
vary_ignore_expire off
request_entities off
relaxed_header_parser on
collapsed_forwarding off
collapsed_forwarding_shared_entries_limit 16384
forward_timeout 240 seconds
connect_timeout 60 seconds
peer_connect_timeout 30 seconds
read_timeout 900 seconds
write_timeout 900 seconds
request_timeout 300 seconds
request_start_timeout 300 seconds
client_idle_pconn_timeout 120 seconds
ftp_client_idle_timeout 1800 seconds
client_lifetime 86400 seconds
pconn_lifetime 0 seconds
half_closed_clients off
server_idle_pconn_timeout 60 seconds
ident_timeout 10 seconds
shutdown_lifetime 1 seconds
cache_mgr webmaster
mail_program mail
cache_effective_user nobody
httpd_suppress_version_string off
umask 23
announce_period 31536000 seconds
announce_host tracker.ircache.net
announce_port 3131
httpd_accel_surrogate_id kair
http_accel_surrogate_remote off
esi_parser custom
delay_pools 0
delay_initial_bucket_level 50
client_delay_initial_bucket_level 50
wccp_router ::
wccp_version 4
wccp2_rebuild_wait on
wccp2_forwarding_method gre
wccp2_return_method gre
wccp2_assignment_method hash
wccp2_service standard 0
wccp2_weight 10000
wccp_address 0.0.0.0
wccp2_address 0.0.0.0
client_persistent_connections on
server_persistent_connections on
persistent_connection_after_error on
detect_broken_pconn off
digest_generation on
digest_bits_per_entry 5
digest_rebuild_period 3600 seconds
digest_rewrite_period 3600 seconds
digest_swapout_chunk_size 4096 bytes
digest_rebuild_chunk_percentage 10
snmp_port 0
snmp_incoming_address ::
snmp_outgoing_address ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
icp_port 0
htcp_port 0
log_icp_queries on
udp_incoming_address ::
udp_outgoing_address ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
icp_hit_stale off
minimum_direct_hops 4
minimum_direct_rtt 400
netdb_low 900
netdb_high 1000
netdb_ping_period 300 seconds
query_icmp off
test_reachability off
icp_query_timeout 0
maximum_icp_query_timeout 2000
minimum_icp_query_timeout 5
background_ping_rate 10 seconds
mcast_icp_query_timeout 2000
icon_directory /Users/kinkie/tmp/squid/share/icons
global_internal_static on
short_icon_urls on
error_log_languages on
err_page_stylesheet /Users/kinkie/tmp/squid/etc/errorpage.css
err_html_text 
email_err_data on
nonhierarchical_direct on
prefer_direct off
cache_miss_revalidate on
incoming_udp_average 6
incoming_tcp_average 4
incoming_dns_average 4
min_udp_poll_cnt 8
min_dns_poll_cnt 8
min_tcp_poll_cnt 8
client_ip_max_connections -1
tcp_recv_bufsize 0 bytes
icap_enable off
icap_connect_timeout 0 seconds
icap_io_timeout 0 seconds
icap_service_failure_limit 10
icap_service_revival_delay 180
icap_preview_enable on
icap_preview_size -1
icap_206_enable on
icap_default_options_ttl 60
icap_persistent_connections on
adaptation_send_client_ip off
adaptation_send_username off
icap_client_username_header X-Client-Username
icap_client_username_encode off
adaptation_service_iteration_limit 16
icap_retry deny all 
 
icap_retry_limit 0
check_hostnames off
allow_underscore on
dns_retransmit_interval 5 seconds
dns_timeout 30 seconds
dns_packet_max 0 bytes
dns_defnames off
dns_multicast_local off
hosts_file yes
ignore_unknown_nameservers on
dns_v4_first off
ipcache_size 1024
ipcache_low 90
ipcache_high 95
fqdncache_size 1024
configuration_includes_quoted_values off
memory_pools on
memory_pools_limit 5242880 bytes
forwarded_for on
cachemgr_passwd none all
client_db on
refresh_all_ims off
reload_into_ims off
connect_retries 0
retry_on_error off
as_whois_server whois.ra.net
offline_mode off
uri_whitespace strip
balance_on_multiple_ip off
pipeline_prefetch 0
high_response_time_warning 0
high_page_fault_warning 0
sleep_after_fork 0
eui_lookup on
max_filedescriptors 0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wordlist-sbuflist-aclregexdata.patch
Type: application/octet-stream
Size: 12604 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20161114/2f8b62cb/attachment-0001.obj">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20161114/2f8b62cb/attachment-0001.obj</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007224.html">[squid-dev] [PATCH] Fix for the bug 3533
</A></li>
	<LI>Next message: <A HREF="007215.html">[squid-dev] [PATCH] Rework acl/RegexData optimization to use SBufList
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7214">[ date ]</a>
              <a href="thread.html#7214">[ thread ]</a>
              <a href="subject.html#7214">[ subject ]</a>
              <a href="author.html#7214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
