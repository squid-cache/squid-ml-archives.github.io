<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] g++ 4.8.x and std::regex poblems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20g%2B%2B%204.8.x%20and%20std%3A%3Aregex%20poblems&In-Reply-To=%3C6487fc27-a51c-cafe-45c3-bd1c35af64bb%40chtsanti.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007304.html">
   <LINK REL="Next"  HREF="007319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] g++ 4.8.x and std::regex poblems</H1>
    <B>Christos Tsantilas</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20g%2B%2B%204.8.x%20and%20std%3A%3Aregex%20poblems&In-Reply-To=%3C6487fc27-a51c-cafe-45c3-bd1c35af64bb%40chtsanti.net%3E"
       TITLE="[squid-dev] g++ 4.8.x and std::regex poblems">christos at chtsanti.net
       </A><BR>
    <I>Wed Nov 30 09:23:39 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007304.html">[squid-dev] g++ 4.8.x and std::regex problems
</A></li>
        <LI>Next message: <A HREF="007319.html">[squid-dev] g++ 4.8.x and std::regex poblems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7313">[ date ]</a>
              <a href="thread.html#7313">[ thread ]</a>
              <a href="subject.html#7313">[ subject ]</a>
              <a href="author.html#7313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29/11/2016 09:46 μμ, Amos Jeffries wrote:
&gt;<i> I'm thinking it might be useful to add a how-to in the release notes for
</I>&gt;<i> v4+ to make the compiler update easier. Would you be able to write that
</I>&gt;<i> now that you have gone through the process?
</I>
I upgraded to newer OS, not just the compiler :-). It is something I 
would have to do in the next months so I decide to do it now.
However major linux distributions still does not provide stable releases 
with gcc-5.x.

&gt;<i>
</I>&gt;<i> It is faster, but also has a different pattern syntax and API. So we
</I>&gt;<i> would need both a config directive to specify what syntax was in use and
</I>&gt;<i> a wrapper layer for portability.
</I>&gt;<i>
</I>&gt;<i> Which is exactly what std::regex provides . Though I have not gone so
</I>&gt;<i> far as to add the config directive for changing the used syntax. It
</I>&gt;<i> makes a lot more sense to go through the transition pain once instead of
</I>&gt;<i> twice (GNURegex -&gt; PCRE -&gt; std::regex).
</I>
My sense is that std::regex is not a wrapper layer. It is just a 
different implementation. Maybe it is the faster implementation, OK.

We are using regex expressions in very few places and actually I believe 
that we should use RegexPattern class instead of direct calls to the 
external regex libraries. A such RegexPattern class can be small and can 
be adjusted to use many regex implementations.

It is not difficult, your patch is a prove for this, you are replaced 
old gnu regex with new std::regex with just replacing calls, without 
huge changes.

The basics regex expressions are the same. There are common flags, and 
there are flags which supported only in one library. The squid manual 
can just provide links, for example, to std::regex, pcre and gnu regex 
manuals.

I know that this is a new project, I am not saying that we should 
implement support for multiple regex libraries right now, but I believe 
that it is something we should have in our mind when we are planning squid.

Christos

&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I></PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007304.html">[squid-dev] g++ 4.8.x and std::regex problems
</A></li>
	<LI>Next message: <A HREF="007319.html">[squid-dev] g++ 4.8.x and std::regex poblems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7313">[ date ]</a>
              <a href="thread.html#7313">[ thread ]</a>
              <a href="subject.html#7313">[ subject ]</a>
              <a href="author.html#7313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
