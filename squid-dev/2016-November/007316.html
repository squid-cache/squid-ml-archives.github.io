<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Update refresh_pattern description regarding 'max' option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20refresh_pattern%20description%0A%20regarding%20%27max%27%20option&In-Reply-To=%3C1d136fb7-352b-6d45-0e3c-af739244c893%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007277.html">
   <LINK REL="Next"  HREF="007280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Update refresh_pattern description regarding 'max' option</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Update%20refresh_pattern%20description%0A%20regarding%20%27max%27%20option&In-Reply-To=%3C1d136fb7-352b-6d45-0e3c-af739244c893%40treenet.co.nz%3E"
       TITLE="[squid-dev] [PATCH] Update refresh_pattern description regarding 'max' option">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov 30 11:56:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007277.html">[squid-dev] [PATCH] Update refresh_pattern description regarding	'max' option
</A></li>
        <LI>Next message: <A HREF="007280.html">[squid-dev] g++ 4.8.x and std::regex problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7316">[ date ]</a>
              <a href="thread.html#7316">[ thread ]</a>
              <a href="subject.html#7316">[ subject ]</a>
              <a href="author.html#7316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/11/2016 9:58 a.m., Garri Djavadyan wrote:
&gt;<i> The patch adds description for undocumented behavior related to 'max'
</I>&gt;<i> option of 'refresh_pattern' directive. I mean, 'max' option sets value
</I>&gt;<i> for 'Cache-Control: max-age' header sent by Squid upstream. Feel free to
</I>&gt;<i> modify the description. Thanks.
</I>&gt;<i> 
</I>
IIRC it is not supposed to affect just any request. Only;
 a) the revalidation updates to HIT content need max-age, and that is to
ensure newer data comes back.
 b) sibling cache requests, because the content retrieved from a sibling
cache is supposed to be cacheable (thus within max storable age).

That (b) situation is one we probably should remove. But it needs
someone to analyse the use cases and figure out what should be going on
now in the HTTP/1.1 era.

Amos

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007277.html">[squid-dev] [PATCH] Update refresh_pattern description regarding	'max' option
</A></li>
	<LI>Next message: <A HREF="007280.html">[squid-dev] g++ 4.8.x and std::regex problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7316">[ date ]</a>
              <a href="thread.html#7316">[ thread ]</a>
              <a href="subject.html#7316">[ subject ]</a>
              <a href="author.html#7316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
