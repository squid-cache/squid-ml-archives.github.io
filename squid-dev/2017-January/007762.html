<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] RFC Sourcelayout for clientStreams
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%20Sourcelayout%20for%20clientStreams&In-Reply-To=%3C022116f0-8072-b148-ac91-d8aa34445ea3%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="007759.html">
   <LINK REL="Next"  HREF="007761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] RFC Sourcelayout for clientStreams</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%20Sourcelayout%20for%20clientStreams&In-Reply-To=%3C022116f0-8072-b148-ac91-d8aa34445ea3%40measurement-factory.com%3E"
       TITLE="[squid-dev] RFC Sourcelayout for clientStreams">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jan  9 17:28:43 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007759.html">[squid-dev] RFC Sourcelayout for clientStreams
</A></li>
        <LI>Next message: <A HREF="007761.html">[squid-dev] [PATCH] External ACL helpers error handling &amp; caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7762">[ date ]</a>
              <a href="thread.html#7762">[ thread ]</a>
              <a href="subject.html#7762">[ subject ]</a>
              <a href="author.html#7762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/09/2017 12:21 AM, Amos Jeffries wrote:
&gt;<i> I've been looking at the clientStreams objects and moving them to a
</I>&gt;<i> library for the SourceLayout project.
</I>&gt;<i> 
</I>&gt;<i> What I would like feedback on before I go and make a namespace and
</I>&gt;<i> library up is whether we want to retain the term &quot;Client Streams&quot; as the
</I>&gt;<i> name for that component or whether there is a better name?
</I>&gt;<i> 
</I>&gt;<i> * Maybe 'Body' from the BodyProducer/Consumer objects which are the two
</I>&gt;<i> main endpoints of a clientstream so far.
</I>&gt;<i> 
</I>&gt;<i> * Maybe 'DataFlow' from the idea that it is for handling opaque data,
</I>&gt;<i> and also the HTTP/2 frame name for the bytes transferred this way is DATA.
</I>&gt;<i> 
</I>&gt;<i> Any other ideas or keep ClientStreams?
</I>

It is difficult to correctly restructure and name an old API that should
not exist in the first place. Do we focus on what ClientStreams are used
for now? On what they can do now? Or should do in the future?

Focusing on what that API should eventually become is enticing but
dangerous, especially since I doubt we agree regarding that future. For
example, the replacement API might already exist (and just needs to be
used, with some adjustments/enhancements, instead of ClientStreams).

* &quot;Body&quot; is too generic to be usable for this purpose. Besides,
ClientStreams transfer not just bodies but entire responses IIRC.

* &quot;DataFlow&quot; is better but is still too general.

* &quot;Client&quot; should actually be &quot;Server&quot;, but the API is more about
response delivery to the Server transaction than it is about the Server
transaction itself.

* &quot;Stream&quot; is already used for so many things that paring it with
something general like Client or Server does not help much.



I suggest punting and leaving ClientStream name as is for now and
dealing with it when that API is replaced.


HTH,

Alex.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007759.html">[squid-dev] RFC Sourcelayout for clientStreams
</A></li>
	<LI>Next message: <A HREF="007761.html">[squid-dev] [PATCH] External ACL helpers error handling &amp; caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7762">[ date ]</a>
              <a href="thread.html#7762">[ thread ]</a>
              <a href="subject.html#7762">[ subject ]</a>
              <a href="author.html#7762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
