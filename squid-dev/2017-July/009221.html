<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] What should we do about these *wrong* wiki articles?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20What%20should%20we%20do%20about%20these%20%2Awrong%2A%20wiki%20articles%3F&In-Reply-To=%3C6eafa589-4c9d-1cca-7873-1bfe2566427c%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009218.html">
   <LINK REL="Next"  HREF="009222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] What should we do about these *wrong* wiki articles?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20What%20should%20we%20do%20about%20these%20%2Awrong%2A%20wiki%20articles%3F&In-Reply-To=%3C6eafa589-4c9d-1cca-7873-1bfe2566427c%40treenet.co.nz%3E"
       TITLE="[squid-dev] What should we do about these *wrong* wiki articles?">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Jul 22 23:20:48 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009218.html">[squid-dev] What should we do about these *wrong* wiki articles?
</A></li>
        <LI>Next message: <A HREF="009222.html">[squid-dev] What should we do about these *wrong* wiki articles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9221">[ date ]</a>
              <a href="thread.html#9221">[ thread ]</a>
              <a href="subject.html#9221">[ subject ]</a>
              <a href="author.html#9221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/07/17 09:22, Eliezer Croitoru wrote:
&gt;<i> As I understood the article the DNAT is from another box ie &quot;the router&quot; to the squid box.
</I>&gt;<i> If I understood it wrong and didn't read properly I will re-read them and see in what I am wrong.
</I>
see the Details section notes.


You are right about the cross-machine DNAT use-case no longer existing. 
We keep them both in the wiki because they still meet other use-cases:


* REDIRECT copes best for machines and black-box situations where one 
never knows in advance what network it will be plugged into. Such as 
products that will be sold as plug-and-play proxy caches, or to minimize 
config delays on VM images that get run up by the dozen and 
automatically assigned IPs.

However it always NAT's the dst-IP to the machines primary-IP. So is 
limited to the ~64K receiving socket numbers that IP can privide. It 
also spends some CPU cycles looking that IP up on each new TCP connection.


* DNAT copes best for high performance and security installations where 
explicit speed or control of the packets outweighs the amount of effort 
needed to configure it properly.

It is not doing any primary-IP stuff so is slightly faster than 
REDIRECT, and multiple DNAT rules can be added for each IP the machine 
has - avoiding the ~64K limit. BUT requires the admin to know in advance 
exactly what the IPs of the proxy will be. And the IP assignment, 
iptables rules and squid.conf settings are locked together - if any 
change they all need to. Lots of work to reconfigure any of it, even if 
automated. But, also lots of certainty about what the packets are doing 
for the security paranoid.


Those properties are generic, not just in relation to Squid.

Amos
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009218.html">[squid-dev] What should we do about these *wrong* wiki articles?
</A></li>
	<LI>Next message: <A HREF="009222.html">[squid-dev] What should we do about these *wrong* wiki articles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9221">[ date ]</a>
              <a href="thread.html#9221">[ thread ]</a>
              <a href="subject.html#9221">[ subject ]</a>
              <a href="author.html#9221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
