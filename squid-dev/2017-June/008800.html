<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] transaction_initiator ACL for detecting various unusual transactions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20transaction_initiator%20ACL%20for%20detecting%20various%0A%20unusual%20transactions&In-Reply-To=%3C7eb2f60a-dbb4-b5fe-197e-82dd30fb8e37%40chtsanti.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="008799.html">
   <LINK REL="Next"  HREF="008834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] transaction_initiator ACL for detecting various unusual transactions</H1>
    <B>Christos Tsantilas</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20transaction_initiator%20ACL%20for%20detecting%20various%0A%20unusual%20transactions&In-Reply-To=%3C7eb2f60a-dbb4-b5fe-197e-82dd30fb8e37%40chtsanti.net%3E"
       TITLE="[squid-dev] [PATCH] transaction_initiator ACL for detecting various unusual transactions">christos at chtsanti.net
       </A><BR>
    <I>Thu Jun  8 10:41:12 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="008799.html">[squid-dev] Jenkins build is back to normal : 5-matrix » gcc,d-ubuntu-wily #195
</A></li>
        <LI>Next message: <A HREF="008834.html">[squid-dev] [PATCH] transaction_initiator ACL for detecting various unusual transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8800">[ date ]</a>
              <a href="thread.html#8800">[ thread ]</a>
              <a href="subject.html#8800">[ subject ]</a>
              <a href="author.html#8800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This ACL is essential in several use cases, including:

* After fetching a missing intermediate certificate, Squid uses the 
regular cache (and regular caching rules) to store the response. Squid 
deployments that do not want to cache regular traffic need to cache 
fetched certificates and only them.

   acl fetched_certificate transaction_initiator certificate-fetching
   cache allow fetched_certificate
   cache deny all

* Many traffic policies and tools assume the existence of an HTTP client 
behind every transaction. Internal Squid requests violate that 
assumption. Identifying internal requests protects external ACLs, log 
analysers, and other mechanisms from the transactions they mishandle.

   acl skip_logging transaction_initiator internal
   access_log ... !skip_logging


The new transaction_initiator ACL classifies transactions based on their 
initiator. Currently supported initiators are esi, certificate-fetching, 
cache-digest, internal, client, and all. In the future, the same ACL 
will be able to identify HTTP/2 push transactions using the &quot;server&quot; 
initiator. See src/cf.data.pre for details.

This is a Measurement Factory project.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-263-ACL-for-Caching-of-Fetched-Certificates-t6.patch
Type: text/x-patch
Size: 122153 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170608/e164acf4/attachment-0001.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170608/e164acf4/attachment-0001.bin</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008799.html">[squid-dev] Jenkins build is back to normal : 5-matrix » gcc,d-ubuntu-wily #195
</A></li>
	<LI>Next message: <A HREF="008834.html">[squid-dev] [PATCH] transaction_initiator ACL for detecting various unusual transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8800">[ date ]</a>
              <a href="thread.html#8800">[ thread ]</a>
              <a href="subject.html#8800">[ subject ]</a>
              <a href="author.html#8800">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
