<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] Collapse security_file_certgen requests.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Collapse%20security_file_certgen%20requests.&In-Reply-To=%3Cdd83d2cf-dcd8-c037-4faf-b0087a6f29e8%40chtsanti.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009004.html">
   <LINK REL="Next"  HREF="008833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] Collapse security_file_certgen requests.</H1>
    <B>Christos Tsantilas</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20Collapse%20security_file_certgen%20requests.&In-Reply-To=%3Cdd83d2cf-dcd8-c037-4faf-b0087a6f29e8%40chtsanti.net%3E"
       TITLE="[squid-dev] [PATCH] Collapse security_file_certgen requests.">christos at chtsanti.net
       </A><BR>
    <I>Thu Jun  8 14:52:19 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009004.html">[squid-dev] SMP scaling in no_daemon mode?
</A></li>
        <LI>Next message: <A HREF="008833.html">[squid-dev] [PATCH] Collapse security_file_certgen requests.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8802">[ date ]</a>
              <a href="thread.html#8802">[ thread ]</a>
              <a href="subject.html#8802">[ subject ]</a>
              <a href="author.html#8802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Concurrent identical same-worker security_file_certgen (a.k.a. ssl_crtd) 
requests are collapsed: The first such request goes through to one of 
the helpers while others wait for that first request to complete, 
successfully or otherwise. This optimization helps dealing with flash 
crowds that suddenly send a large number of HTTPS requests to a small 
group of origin servers.

Two certificate generation requests are considered identical if their 
on-the-wire images are identical. This simple and fast approach covers 
all certificate generation parameters, including all mimicked 
certificate properties, and avoids hash collisions and poisoning. 
Compared to collision- or poisoning-sensitive approaches that store raw 
certificates and compare their signatures or fingerprints, storing 
helper queries costs a few extra KB per pending helper request. That 
extra RAM cost is worth the advantages and will be eliminated when 
helper code switches from c-strings to SBufs.

This is a Measurement Factory project
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID306-collapse-crtd-requests-t5.patch
Type: text/x-patch
Size: 7785 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170608/94494597/attachment.bin">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170608/94494597/attachment.bin</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009004.html">[squid-dev] SMP scaling in no_daemon mode?
</A></li>
	<LI>Next message: <A HREF="008833.html">[squid-dev] [PATCH] Collapse security_file_certgen requests.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8802">[ date ]</a>
              <a href="thread.html#8802">[ thread ]</a>
              <a href="subject.html#8802">[ subject ]</a>
              <a href="author.html#8802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
