From eliezer at ngtech.co.il  Wed Mar  1 01:10:21 2017
From: eliezer at ngtech.co.il (Eliezer  Croitoru)
Date: Wed, 1 Mar 2017 03:10:21 +0200
Subject: [squid-dev] Valid document was not found in the cache and
	only-if-cached directive was specified. what does it mean?
Message-ID: <7b4a01d29228$99aa55f0$ccff01d0$@ngtech.co.il>

I am receiving this error page when a cache_peer is defined as a sibling on
each of the 2 proxies:
ERROR
The requested URL could not be retrieved
________________________________________
The following error was encountered while trying to retrieve the
URL: http://a7.org/Resize/pictures/187x113/757412.jpg
Valid document was not found in the cache and only-if-cached directive was
specified.
You have issued a request with a only-if-cached cache control directive. The
document was not found in the cache, or it required revalidation prohibited
by the only-if-cached directive.
Your cache administrator
is mailto:webmaster?subject=CacheErrorInfo%20-%20ERR_ONLY_IF_CACHED_MISS&bod
y=CacheHost%3A%20filter%0D%0AErrPage%3A%20ERR_ONLY_IF_CACHED_MISS%0D%0AErr%3
A%20%5Bnone%5D%0D%0ATimeStamp%3A%20Wed,%2001%20Mar%202017%2000%3A57%3A25%20G
MT%0D%0A%0D%0AClientIP%3A%2010.0.0.28%0D%0A%0D%0AHTTP%20Request%3A%0D%0AGET%
20%2FResize%2Fpictures%2F187x113%2F757412.jpg%20HTTP%2F1.1%0AUpgrade-Insecur
e-Requests%3A%201%0D%0AUser-Agent%3A%20Mozilla%2F5.0%20(Windows%20NT%2010.0%
3B%20WOW64)%20AppleWebKit%2F537.36%20(KHTML,%20like%20Gecko)%20Chrome%2F55.0
.2883.95%20YaBrowser%2F17.1.1.1004%20Yowser%2F2.5%20Safari%2F537.36%0D%0AAcc
ept%3A%20text%2Fhtml,application%2Fxhtml+xml,application%2Fxml%3Bq%3D0.9,ima
ge%2Fwebp,*%2F*%3Bq%3D0.8%0D%0AAccept-Encoding%3A%20gzip,%20deflate,%20sdch%
0D%0AAccept-Language%3A%20en,he%3Bq%3D0.8%0D%0ACache-Control%3A%20max-age%3D
259200,%20only-if-cached%0D%0AConnection%3A%20keep-alive%0D%0AHost%3A%20a7.o
rg%0D%0A%0D%0A%0D%0A.

________________________________________
Generated Wed, 01 Mar 2017 00:57:25 GMT by filter (squid/3.5.24)
##END OF PAGE

When I am removing the cache_peer line the file is being fetched.
I am not sure what should have happen and what went wrong.
This is a part of a test I am running to vetify  how would a clustered set
of squid will work with a load balancer infront of them and also to verify
how would the proxies would communicate via ICP and HTCP.
The cache proxy are using a glusterfs nfs mount and rock cache_dir.
In theory and by glusterfs benchmarks(I ran) the proxy should be able to
read faster over the glusterfs and in speeds above 10Gbps.
There is a split of a second theoretical slow down but in practice I have
yet to feel it on small scale.

I need your help to understand if this is a bug and if so what should be
done with it.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: eliezer at ngtech.co.il




From noc at squid-cache.org  Wed Mar  1 01:12:36 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 1 Mar 2017 01:12:36 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23293?=
In-Reply-To: <1344085765.186.1488303709185.JavaMail.jenkins@buildmaster>
References: <1344085765.186.1488303709185.JavaMail.jenkins@buildmaster>
Message-ID: <54564097.188.1488330756780.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/293/display/redirect>

------------------------------------------
[...truncated 954.96 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for fgrep... .././test-suite/../configure: line 8227: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From rousskov at measurement-factory.com  Wed Mar  1 04:46:33 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 28 Feb 2017 21:46:33 -0700
Subject: [squid-dev] Valid document was not found in the cache and
 only-if-cached directive was specified. what does it mean?
In-Reply-To: <7b4a01d29228$99aa55f0$ccff01d0$@ngtech.co.il>
References: <7b4a01d29228$99aa55f0$ccff01d0$@ngtech.co.il>
Message-ID: <3317d5ac-e7cd-9fb8-85da-9ec09952204b@measurement-factory.com>

On 02/28/2017 06:10 PM, Eliezer  Croitoru wrote:
> I am receiving this error page when a cache_peer is defined as a sibling on
> each of the 2 proxies:

> The requested URL could not be retrieved
> Valid document was not found in the cache and only-if-cached directive was
> specified.

> When I am removing the cache_peer line the file is being fetched.
> I am not sure what should have happen and what went wrong.

This is probably a bug we are trying to fix. You can track our progress
at http://bugs.squid-cache.org/show_bug.cgi?id=4223

Alex.


From noc at squid-cache.org  Wed Mar  1 09:32:30 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 1 Mar 2017 09:32:30 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23294?=
In-Reply-To: <54564097.188.1488330756780.JavaMail.jenkins@buildmaster>
References: <54564097.188.1488330756780.JavaMail.jenkins@buildmaster>
Message-ID: <1296895256.189.1488360750659.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/294/display/redirect>

------------------------------------------
[...truncated 954.84 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From squid3 at treenet.co.nz  Wed Mar  1 17:14:20 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 2 Mar 2017 06:14:20 +1300
Subject: [squid-dev] url_rewrite_program doesn't work,
 redirector helpers are crashing
In-Reply-To: <1487921912730-4681608.post@n4.nabble.com>
References: <1487685877867-4681590.post@n4.nabble.com>
 <1487876297887-4681603.post@n4.nabble.com>
 <1487921912730-4681608.post@n4.nabble.com>
Message-ID: <5bef3787-28c5-4e49-19ae-c8c57b481ead@treenet.co.nz>

On 24/02/2017 8:38 p.m., Rallph wrote:
> According to
> http://www.squid-cache.org/Versions/v3/3.5/cfgman/url_rewrite_children.html,
> when the concurrency is >=1, Squid add an ID in front of the response and
> this is the 0 here (in fact I parse it with my C program and of course I
> printf the parsed value, not '0')

Nod. 0 is one of the possible values. So be sure to return the
channel-ID if any numeric at all is in that position.

The error Squid was logging seems to indicate that your helper was being
given an ID and not returning it (perhapse it was "0 ..." from Squid?)

Amos


From noc at squid-cache.org  Wed Mar  1 17:34:04 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 1 Mar 2017 17:34:04 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23295?=
In-Reply-To: <1296895256.189.1488360750659.JavaMail.jenkins@buildmaster>
References: <1296895256.189.1488360750659.JavaMail.jenkins@buildmaster>
Message-ID: <606982027.190.1488389644412.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/295/display/redirect>

------------------------------------------
[...truncated 954.94 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for fgrep... ../../configure: line 8227: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Thu Mar  2 01:40:20 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 2 Mar 2017 01:40:20 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23296?=
In-Reply-To: <606982027.190.1488389644412.JavaMail.jenkins@buildmaster>
References: <606982027.190.1488389644412.JavaMail.jenkins@buildmaster>
Message-ID: <1703051372.191.1488418820550.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/296/display/redirect>

------------------------------------------
[...truncated 954.98 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From eliezer at ngtech.co.il  Thu Mar  2 21:52:30 2017
From: eliezer at ngtech.co.il (Eliezer  Croitoru)
Date: Thu, 2 Mar 2017 23:52:30 +0200
Subject: [squid-dev] Valid document was not found in the cache and
	only-if-cached directive was specified. what does it mean?
In-Reply-To: <3317d5ac-e7cd-9fb8-85da-9ec09952204b@measurement-factory.com>
References: <7b4a01d29228$99aa55f0$ccff01d0$@ngtech.co.il>
 <3317d5ac-e7cd-9fb8-85da-9ec09952204b@measurement-factory.com>
Message-ID: <7bb701d2939f$4a32ebe0$de98c3a0$@ngtech.co.il>

Thanks.

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: eliezer at ngtech.co.il


-----Original Message-----
From: Alex Rousskov [mailto:rousskov at measurement-factory.com] 
Sent: Wednesday, March 1, 2017 6:47 AM
To: 'Squid Developers' <squid-dev at lists.squid-cache.org>
Cc: Eliezer Croitoru <eliezer at ngtech.co.il>
Subject: Re: [squid-dev] Valid document was not found in the cache and only-if-cached directive was specified. what does it mean?

On 02/28/2017 06:10 PM, Eliezer  Croitoru wrote:
> I am receiving this error page when a cache_peer is defined as a 
> sibling on each of the 2 proxies:

> The requested URL could not be retrieved Valid document was not found 
> in the cache and only-if-cached directive was specified.

> When I am removing the cache_peer line the file is being fetched.
> I am not sure what should have happen and what went wrong.

This is probably a bug we are trying to fix. You can track our progress at http://bugs.squid-cache.org/show_bug.cgi?id=4223

Alex.



From noc at squid-cache.org  Fri Mar  3 12:46:57 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 3 Mar 2017 12:46:57 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23297?=
In-Reply-To: <1703051372.191.1488418820550.JavaMail.jenkins@buildmaster>
References: <1703051372.191.1488418820550.JavaMail.jenkins@buildmaster>
Message-ID: <727941568.192.1488545217843.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/297/display/redirect>

------------------------------------------
[...truncated 955.00 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From eduard.bagdasaryan at measurement-factory.com  Fri Mar  3 15:30:13 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Fri, 3 Mar 2017 18:30:13 +0300
Subject: [squid-dev] [PATCH] Case-insensitive URI schemes
In-Reply-To: <5899E367.5060102@measurement-factory.com>
References: <586EB9A4.8090303@measurement-factory.com>
 <23c730b91294cecb5d78b59c2120fa27@treenet.co.nz>
 <586FC8C5.2030708@measurement-factory.com>
 <be7d4732-6499-0ade-a7e1-d9af0f4643a3@treenet.co.nz>
 <cc6338a9-502f-542c-b8f9-4b2e14a51cb2@measurement-factory.com>
 <58908EC2.8020904@measurement-factory.com>
 <98670e2c-a34e-e4cb-4757-191ceca32a35@treenet.co.nz>
 <58932BB3.1030702@measurement-factory.com>
 <36160f9f-6976-abbc-c96f-c52301b710d3@measurement-factory.com>
 <5899E367.5060102@measurement-factory.com>
Message-ID: <514e591a-e797-ef52-d143-0c25320de974@measurement-factory.com>

Any more suggestions/remarks here before this patch
can be applied?


Thanks,
Eduard.


On 07.02.2017 18:10, Eduard Bagdasaryan wrote:
>
> Checked that it is ok to move AnyP::UriScheme::Init() as
> you suggested. Re-attached the patch (v5 r15037).
>
>
> Eduard.
>
> On 02.02.2017 22:12, Alex Rousskov wrote:
>
> > We should avoid this code duplication [...]
> > However, please check whether we can move the
> > call up, to place it above storeFsInit().
> > Both of the above changes can be done during commit.
>
>
>
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170303/d2ad23d4/attachment.html>

From rousskov at measurement-factory.com  Fri Mar  3 23:21:20 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 3 Mar 2017 16:21:20 -0700
Subject: [squid-dev] [PATCH] Case-insensitive URI schemes
In-Reply-To: <514e591a-e797-ef52-d143-0c25320de974@measurement-factory.com>
References: <586EB9A4.8090303@measurement-factory.com>
 <23c730b91294cecb5d78b59c2120fa27@treenet.co.nz>
 <586FC8C5.2030708@measurement-factory.com>
 <be7d4732-6499-0ade-a7e1-d9af0f4643a3@treenet.co.nz>
 <cc6338a9-502f-542c-b8f9-4b2e14a51cb2@measurement-factory.com>
 <58908EC2.8020904@measurement-factory.com>
 <98670e2c-a34e-e4cb-4757-191ceca32a35@treenet.co.nz>
 <58932BB3.1030702@measurement-factory.com>
 <36160f9f-6976-abbc-c96f-c52301b710d3@measurement-factory.com>
 <5899E367.5060102@measurement-factory.com>
 <514e591a-e797-ef52-d143-0c25320de974@measurement-factory.com>
Message-ID: <e69580ef-0565-9b07-1e81-f76cd39fdc8a@measurement-factory.com>

On 03/03/2017 08:30 AM, Eduard Bagdasaryan wrote:
> Any more suggestions/remarks here before this patch can be applied?

Just one: The patch breaks "make check" because some test cases use URI
schemes and, hence, require the new AnyP::UriScheme::Init() call. [I
cannot wait when we finally automate these mechanical checks but
thankfully we are making good progress towards that automation now.]

I fixed "make check" and committed to v5 (r15088).


Thank you,

Alex.



> On 07.02.2017 18:10, Eduard Bagdasaryan wrote:
>>
>> Checked that it is ok to move AnyP::UriScheme::Init() as
>> you suggested. Re-attached the patch (v5 r15037).
>>
>>
>> Eduard.
>>
>> On 02.02.2017 22:12, Alex Rousskov wrote:
>>
>> > We should avoid this code duplication [...]
>> > However, please check whether we can move the
>> > call up, to place it above storeFsInit().
>> > Both of the above changes can be done during commit.
>>
>>
>>
>> _______________________________________________
>> squid-dev mailing list
>> squid-dev at lists.squid-cache.org
>> http://lists.squid-cache.org/listinfo/squid-dev
> 
> 
> 
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
> 


From noc at squid-cache.org  Sat Mar  4 01:18:27 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Mar 2017 01:18:27 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23298?=
In-Reply-To: <727941568.192.1488545217843.JavaMail.jenkins@buildmaster>
References: <727941568.192.1488545217843.JavaMail.jenkins@buildmaster>
Message-ID: <1494781004.193.1488590307331.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/298/display/redirect>

------------------------------------------
[...truncated 955.09 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for egrep... ../../configure: line 7180: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar  4 08:39:58 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Mar 2017 08:39:58 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_5-matrix_=C2=BB_?=
	=?utf-8?q?clang=2Crs-fbsd-10_=23128?=
Message-ID: <1967867426.194.1488616798673.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/128/display/redirect>

------------------------------------------
[...truncated 304.28 KB...]
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl -DLTDLOPEN=libltdlc "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT libltdlc_la-slist.lo -MD -MP -MF .deps/libltdlc_la-slist.Tpo -c ../../libltdl/slist.c  -fPIC -DPIC -o .libs/libltdlc_la-slist.o
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT argz.lo -MD -MP -MF .deps/argz.Tpo -c ../../libltdl/argz.c  -fPIC -DPIC -o .libs/argz.o
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl -DLTDLOPEN=libltdlc "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT libltdlc_la-slist.lo -MD -MP -MF .deps/libltdlc_la-slist.Tpo -c ../../libltdl/slist.c -o libltdlc_la-slist.o >/dev/null 2>&1
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT argz.lo -MD -MP -MF .deps/argz.Tpo -c ../../libltdl/argz.c -o argz.o >/dev/null 2>&1
mv -f .deps/libltdlc_la-slist.Tpo .deps/libltdlc_la-slist.Plo
/bin/sh ./libtool --tag=CC   --mode=link ccache clang  -g -O2 -module -avoid-version  -o dlopen.la  dlopen.lo  
mv -f .deps/argz.Tpo .deps/argz.Plo
libtool: link: ar cru .libs/dlopen.a .libs/dlopen.o 
libtool: link: ranlib .libs/dlopen.a
libtool: link: ( cd ".libs" && rm -f "dlopen.la" && ln -s "../dlopen.la" "dlopen.la" )
/bin/sh ./libtool --tag=CC   --mode=link ccache clang  -g -O2 -no-undefined -dlpreopen dlopen.la   -o libltdlc.la  libltdlc_la-preopen.lo libltdlc_la-lt__alloc.lo libltdlc_la-lt_dlloader.lo libltdlc_la-lt_error.lo libltdlc_la-ltdl.lo libltdlc_la-slist.lo argz.lo 
libtool: link: rm -f .libs/libltdlc.nm .libs/libltdlc.nmS .libs/libltdlc.nmT
libtool: link: (cd .libs && ccache clang -g -O2 -c -fno-builtin -fno-rtti -fno-exceptions  -fPIC -DPIC "libltdlcS.c")
libtool: link: rm -f ".libs/libltdlcS.c" ".libs/libltdlc.nm" ".libs/libltdlc.nmS" ".libs/libltdlc.nmT"
libtool: link: (cd .libs/libltdlc.lax/dlopen.a && ar x "/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl/./.libs/dlopen.a")>
libtool: link: ar cru .libs/libltdlc.a .libs/libltdlc_la-preopen.o .libs/libltdlc_la-lt__alloc.o .libs/libltdlc_la-lt_dlloader.o .libs/libltdlc_la-lt_error.o .libs/libltdlc_la-ltdl.o .libs/libltdlc_la-slist.o .libs/argz.o .libs/libltdlcS.o  .libs/libltdlc.lax/dlopen.a/dlopen.o 
libtool: link: ranlib .libs/libltdlc.a
libtool: link: rm -fr .libs/libltdlc.lax
libtool: link: ( cd ".libs" && rm -f "libltdlc.la" && ln -s "../libltdlc.la" "libltdlc.la" )
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl'>
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl'>
Making all in scripts
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/scripts'>
gmake[2]: Nothing to be done for `all'.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/scripts'>
Making all in icons
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/icons'>
gmake[2]: Nothing to be done for `all'.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/icons'>
Making all in errors
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/errors'>
case "off" in \
off) \
    echo "WARNING: Translation is disabled."; \
    ;; \
""|no) \
    echo "WARNING: Translation toolkit was not detected."; \
    ;; \
esac; \
touch translate-warn
WARNING: Translation is disabled.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/errors'>
Making all in doc
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
Making all in manuals
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/manuals'>
gmake[3]: Nothing to be done for `all'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/manuals'>
Making all in release-notes
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/release-notes'>
gmake[3]: Nothing to be done for `all'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/release-notes'>
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
gmake[3]: Nothing to be done for `all-am'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
Making all in src
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
nawk -f ../../src/cf_gen_defines <../../src/cf.data.pre >cf_gen_defines.cci || (/bin/rm -f -f cf_gen_defines.cci && exit 1)
sed \
-e "s%[@]DEFAULT_HTTP_PORT[@]%3128%g" \
-e "s%[@]DEFAULT_ICP_PORT[@]%3130%g" \
-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%nobody%g" \
-e "s%[@]DEFAULT_MIME_TABLE[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/etc/mime.conf%g"> \
-e "s%[@]DEFAULT_SSL_CRTD[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> security_file_certgen | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_UNLINKD[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> unlinkd | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_PINGER[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> pinger | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_DISKD[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> diskd | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_LOGFILED[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> log_file_daemon | sed 's,x,x,;s/$//'`%g;" \
-e "s%[@]DEFAULT_CACHE_LOG[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/cache.log%g"> \
-e "s%[@]DEFAULT_ACCESS_LOG[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/access.log%g"> \
-e "s%[@]DEFAULT_STORE_LOG[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/store.log%g"> \
-e "s%[@]DEFAULT_PID_FILE[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/run/@SERVICE_NAME at .pid%g"> \
-e "s%[@]DEFAULT_NETDB_FILE[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid/netdb.state%g"> \
-e "s%[@]DEFAULT_SWAP_DIR[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid%g"> \
-e "s%[@]DEFAULT_SSL_DB_DIR[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid/ssl_db%g"> \
-e "s%[@]DEFAULT_ICON_DIR[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/share/icons%g"> \
-e "s%[@]DEFAULT_CONFIG_DIR[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/etc%g"> \
-e "s%[@]DEFAULT_ERROR_DIR[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/share/errors%g"> \
-e "s%[@]DEFAULT_PREFIX[@]%/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst%g"> \
-e "s%[@]DEFAULT_HOSTS[@]%/etc/hosts%g" \
-e "s%[@]SQUID[@]%SQUID\ 5.0.0-BZR%g" \
-f ../../src/cf.data.sed \
< ../../src/cf.data.pre >cf.data
nawk -f ../../src/mk-string-arrays.awk < ../../src/err_type.h > err_type.cc || (/bin/rm -f -f err_type.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/err_detail_type.h | sed 's/ERR_DETAIL_//' > err_detail_type.cc || (/bin/rm -f -f err_detail_type.cc && exit 1)
nawk -f ../../src/mk-globals-c.awk < ../../src/globals.h > globals.cc || (/bin/rm -f -f globals.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/hier_code.h > hier_code.cc || (/bin/rm -f -f hier_code.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/icp_opcode.h > icp_opcode.cc || (/bin/rm -f -f icp_opcode.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/lookup_t.h > lookup_t.cc || (/bin/rm -f -f lookup_t.cc && exit 1)
/bin/sh ../../src/repl_modules.sh lru > repl_modules.cc
ccache clang++ -g -O2 -std=c++11 -I/usr/local/include -o cf_gen ../../src/cf_gen.cc -I../../src -I../include/ -I../src
../../src/cf_gen.cc:261:21: warning: enumeration value 'sEXIT' not handled in switch [-Wswitch]
            switch (state) {
                    ^
1 warning generated.
./cf_gen cf.data ../../src/cf.data.depend
gmake  all-recursive
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
Making all in mem
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/mem'>
depbase=`echo AllocatorProxy.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF $depbase.Tpo -c -o AllocatorProxy.lo ../../../src/mem/AllocatorProxy.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo old_api.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF $depbase.Tpo -c -o old_api.lo ../../../src/mem/old_api.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF .deps/AllocatorProxy.Tpo -c ../../../src/mem/AllocatorProxy.cc  -fPIC -DPIC -o .libs/AllocatorProxy.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF .deps/old_api.Tpo -c ../../../src/mem/old_api.cc  -fPIC -DPIC -o .libs/old_api.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF .deps/AllocatorProxy.Tpo -c ../../../src/mem/AllocatorProxy.cc -o AllocatorProxy.o >/dev/null 2>&1
depbase=`echo Pool.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF $depbase.Tpo -c -o Pool.lo ../../../src/mem/Pool.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF .deps/Pool.Tpo -c ../../../src/mem/Pool.cc  -fPIC -DPIC -o .libs/Pool.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF .deps/Pool.Tpo -c ../../../src/mem/Pool.cc -o Pool.o >/dev/null 2>&1
depbase=`echo PoolChunked.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF $depbase.Tpo -c -o PoolChunked.lo ../../../src/mem/PoolChunked.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF .deps/PoolChunked.Tpo -c ../../../src/mem/PoolChunked.cc  -fPIC -DPIC -o .libs/PoolChunked.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF .deps/PoolChunked.Tpo -c ../../../src/mem/PoolChunked.cc -o PoolChunked.o >/dev/null 2>&1
depbase=`echo PoolMalloc.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF $depbase.Tpo -c -o PoolMalloc.lo ../../../src/mem/PoolMalloc.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF .deps/PoolMalloc.Tpo -c ../../../src/mem/PoolMalloc.cc  -fPIC -DPIC -o .libs/PoolMalloc.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF .deps/PoolMalloc.Tpo -c ../../../src/mem/PoolMalloc.cc -o PoolMalloc.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF .deps/old_api.Tpo -c ../../../src/mem/old_api.cc -o old_api.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libmem.la  AllocatorProxy.lo old_api.lo Pool.lo PoolChunked.lo PoolMalloc.lo  
libtool: link: /usr/bin/ar cru .libs/libmem.a .libs/AllocatorProxy.o .libs/old_api.o .libs/Pool.o .libs/PoolChunked.o .libs/PoolMalloc.o 
libtool: link: ranlib .libs/libmem.a
libtool: link: ( cd ".libs" && rm -f "libmem.la" && ln -s "../libmem.la" "libmem.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/mem'>
Making all in base
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/base'>
depbase=`echo AsyncCall.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF $depbase.Tpo -c -o AsyncCall.lo ../../../src/base/AsyncCall.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo AsyncJob.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF $depbase.Tpo -c -o AsyncJob.lo ../../../src/base/AsyncJob.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc  -fPIC -DPIC -o .libs/AsyncCall.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc  -fPIC -DPIC -o .libs/AsyncJob.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc -o AsyncCall.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc -o AsyncJob.o >/dev/null 2>&1
depbase=`echo AsyncCallQueue.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF $depbase.Tpo -c -o AsyncCallQueue.lo ../../../src/base/AsyncCallQueue.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo CharacterSet.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF $depbase.Tpo -c -o CharacterSet.lo ../../../src/base/CharacterSet.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc  -fPIC -DPIC -o .libs/AsyncCallQueue.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc  -fPIC -DPIC -o .libs/CharacterSet.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc -o AsyncCallQueue.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc -o CharacterSet.o >/dev/null 2>&1
depbase=`echo RegexPattern.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF $depbase.Tpo -c -o RegexPattern.lo ../../../src/base/RegexPattern.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo RunnersRegistry.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF $depbase.Tpo -c -o RunnersRegistry.lo ../../../src/base/RunnersRegistry.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF .deps/RegexPattern.Tpo -c ../../../src/base/RegexPattern.cc  -fPIC -DPIC -o .libs/RegexPattern.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc  -fPIC -DPIC -o .libs/RunnersRegistry.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF .deps/RegexPattern.Tpo -c ../../../src/base/RegexPattern.cc -o RegexPattern.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc -o RunnersRegistry.o >/dev/null 2>&1
depbase=`echo TextException.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF $depbase.Tpo -c -o TextException.lo ../../../src/base/TextException.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc  -fPIC -DPIC -o .libs/TextException.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc -o TextException.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libbase.la  AsyncCall.lo AsyncJob.lo AsyncCallQueue.lo CharacterSet.lo RegexPattern.lo RunnersRegistry.lo TextException.lo  
libtool: link: /usr/bin/ar cru .libs/libbase.a .libs/AsyncCall.o .libs/AsyncJob.o .libs/AsyncCallQueue.o .libs/CharacterSet.o .libs/RegexPattern.o .libs/RunnersRegistry.o .libs/TextException.o 
libtool: link: ranlib .libs/libbase.a
libtool: link: ( cd ".libs" && rm -f "libbase.la" && ln -s "../libbase.la" "libbase.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/base'>
Making all in anyp
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/anyp'>
depbase=`echo PortCfg.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF $depbase.Tpo -c -o PortCfg.lo ../../../src/anyp/PortCfg.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ProtocolType.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF $depbase.Tpo -c -o ProtocolType.lo ../../../src/anyp/ProtocolType.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc  -fPIC -DPIC -o .libs/PortCfg.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc  -fPIC -DPIC -o .libs/ProtocolType.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc -o ProtocolType.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc -o PortCfg.o >/dev/null 2>&1
depbase=`echo UriScheme.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT UriScheme.lo -MD -MP -MF $depbase.Tpo -c -o UriScheme.lo ../../../src/anyp/UriScheme.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT UriScheme.lo -MD -MP -MF .deps/UriScheme.Tpo -c ../../../src/anyp/UriScheme.cc  -fPIC -DPIC -o .libs/UriScheme.o
In file included from ../../../src/anyp/UriScheme.cc:12:
../../../src/anyp/UriScheme.h:26:18: error: no type named 'vector' in namespace 'std'; did you mean 'hecto'?
    typedef std::vector<SBuf> LowercaseSchemeNames;
            ~~~~~^~~~~~
                 hecto
/usr/include/c++/v1/ratio:265:43: note: 'hecto' declared here
typedef ratio<                100LL, 1LL> hecto;
                                          ^
In file included from ../../../src/anyp/UriScheme.cc:12:
../../../src/anyp/UriScheme.h:26:24: error: expected member name or ';' after declaration specifiers
    typedef std::vector<SBuf> LowercaseSchemeNames;
    ~~~~~~~~~~~~~~~~~~~^
../../../src/anyp/UriScheme.h:59:12: error: unknown type name 'LowercaseSchemeNames'
    static LowercaseSchemeNames LowercaseSchemeNames_;
           ^
../../../src/anyp/UriScheme.cc:14:18: error: no type named 'LowercaseSchemeNames' in 'AnyP::UriScheme'
AnyP::UriScheme::LowercaseSchemeNames AnyP::UriScheme::LowercaseSchemeNames_;
~~~~~~~~~~~~~~~~~^
4 errors generated.
gmake[4]: *** [UriScheme.lo] Error 1
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/anyp'>
gmake[3]: *** [all-recursive] Error 1
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[2]: *** [all] Error 2
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build'>
gmake: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
../../../src/anyp/UriScheme.h:26:18: error: no type named 'vector' in namespace 'std'; did you mean 'hecto'?
../../../src/anyp/UriScheme.h:26:24: error: expected member name or ';' after declaration specifiers
../../../src/anyp/UriScheme.h:59:12: error: unknown type name 'LowercaseSchemeNames'
../../../src/anyp/UriScheme.cc:14:18: error: no type named 'LowercaseSchemeNames' in 'AnyP::UriScheme'
gmake[4]: *** [UriScheme.lo] Error 1
gmake[3]: *** [all-recursive] Error 1
gmake[2]: *** [all] Error 2
gmake[1]: *** [all-recursive] Error 1
gmake: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar  4 11:22:10 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Mar 2017 11:22:10 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23299?=
In-Reply-To: <1494781004.193.1488590307331.JavaMail.jenkins@buildmaster>
References: <1494781004.193.1488590307331.JavaMail.jenkins@buildmaster>
Message-ID: <637041370.195.1488626530128.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/299/display/redirect>

------------------------------------------
[...truncated 955.13 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for fgrep... ../../configure: line 8227: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar  4 12:05:25 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 4 Mar 2017 12:05:25 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Crs-fbsd-10_=23299?=
Message-ID: <1304900770.196.1488629125208.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/299/display/redirect>

------------------------------------------
[...truncated 307.49 KB...]
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl -DLTDLOPEN=libltdlc "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT libltdlc_la-slist.lo -MD -MP -MF .deps/libltdlc_la-slist.Tpo -c ../../libltdl/slist.c  -fPIC -DPIC -o .libs/libltdlc_la-slist.o
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT argz.lo -MD -MP -MF .deps/argz.Tpo -c ../../libltdl/argz.c  -fPIC -DPIC -o .libs/argz.o
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl -DLTDLOPEN=libltdlc "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT libltdlc_la-slist.lo -MD -MP -MF .deps/libltdlc_la-slist.Tpo -c ../../libltdl/slist.c -o libltdlc_la-slist.o >/dev/null 2>&1
libtool: compile:  ccache clang -DHAVE_CONFIG_H -I. -I../../libltdl "-DLT_CONFIG_H=<config.h>" -DLTDL -I. -I../../libltdl -Ilibltdl -I../../libltdl/libltdl -I../../libltdl/libltdl -g -O2 -MT argz.lo -MD -MP -MF .deps/argz.Tpo -c ../../libltdl/argz.c -o argz.o >/dev/null 2>&1
mv -f .deps/libltdlc_la-slist.Tpo .deps/libltdlc_la-slist.Plo
/bin/sh ./libtool --tag=CC   --mode=link ccache clang  -g -O2 -module -avoid-version  -o dlopen.la  dlopen.lo  
mv -f .deps/argz.Tpo .deps/argz.Plo
libtool: link: ar cru .libs/dlopen.a .libs/dlopen.o 
libtool: link: ranlib .libs/dlopen.a
libtool: link: ( cd ".libs" && rm -f "dlopen.la" && ln -s "../dlopen.la" "dlopen.la" )
/bin/sh ./libtool --tag=CC   --mode=link ccache clang  -g -O2 -no-undefined -dlpreopen dlopen.la   -o libltdlc.la  libltdlc_la-preopen.lo libltdlc_la-lt__alloc.lo libltdlc_la-lt_dlloader.lo libltdlc_la-lt_error.lo libltdlc_la-ltdl.lo libltdlc_la-slist.lo argz.lo 
libtool: link: rm -f .libs/libltdlc.nm .libs/libltdlc.nmS .libs/libltdlc.nmT
libtool: link: (cd .libs && ccache clang -g -O2 -c -fno-builtin -fno-rtti -fno-exceptions  -fPIC -DPIC "libltdlcS.c")
libtool: link: rm -f ".libs/libltdlcS.c" ".libs/libltdlc.nm" ".libs/libltdlc.nmS" ".libs/libltdlc.nmT"
libtool: link: (cd .libs/libltdlc.lax/dlopen.a && ar x "/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl/./.libs/dlopen.a")>
libtool: link: ar cru .libs/libltdlc.a .libs/libltdlc_la-preopen.o .libs/libltdlc_la-lt__alloc.o .libs/libltdlc_la-lt_dlloader.o .libs/libltdlc_la-lt_error.o .libs/libltdlc_la-ltdl.o .libs/libltdlc_la-slist.o .libs/argz.o .libs/libltdlcS.o  .libs/libltdlc.lax/dlopen.a/dlopen.o 
libtool: link: ranlib .libs/libltdlc.a
libtool: link: rm -fr .libs/libltdlc.lax
libtool: link: ( cd ".libs" && rm -f "libltdlc.la" && ln -s "../libltdlc.la" "libltdlc.la" )
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl'>
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/libltdl'>
Making all in scripts
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/scripts'>
gmake[2]: Nothing to be done for `all'.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/scripts'>
Making all in icons
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/icons'>
gmake[2]: Nothing to be done for `all'.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/icons'>
Making all in errors
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/errors'>
case "off" in \
off) \
    echo "WARNING: Translation is disabled."; \
    ;; \
""|no) \
    echo "WARNING: Translation toolkit was not detected."; \
    ;; \
esac; \
touch translate-warn
WARNING: Translation is disabled.
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/errors'>
Making all in doc
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
Making all in manuals
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/manuals'>
gmake[3]: Nothing to be done for `all'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/manuals'>
Making all in release-notes
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/release-notes'>
gmake[3]: Nothing to be done for `all'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc/release-notes'>
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
gmake[3]: Nothing to be done for `all-am'.
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/doc'>
Making all in src
gmake[2]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
nawk -f ../../src/cf_gen_defines <../../src/cf.data.pre >cf_gen_defines.cci || (/bin/rm -f -f cf_gen_defines.cci && exit 1)
sed \
-e "s%[@]DEFAULT_HTTP_PORT[@]%3128%g" \
-e "s%[@]DEFAULT_ICP_PORT[@]%3130%g" \
-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%nobody%g" \
-e "s%[@]DEFAULT_MIME_TABLE[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/etc/mime.conf%g"> \
-e "s%[@]DEFAULT_SSL_CRTD[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> security_file_certgen | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_UNLINKD[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> unlinkd | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_PINGER[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> pinger | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_DISKD[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> diskd | sed 's,x,x,;s/$//'`%g" \
-e "s%[@]DEFAULT_LOGFILED[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/libexec/`echo> log_file_daemon | sed 's,x,x,;s/$//'`%g;" \
-e "s%[@]DEFAULT_CACHE_LOG[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/cache.log%g"> \
-e "s%[@]DEFAULT_ACCESS_LOG[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/access.log%g"> \
-e "s%[@]DEFAULT_STORE_LOG[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/logs/store.log%g"> \
-e "s%[@]DEFAULT_PID_FILE[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/run/@SERVICE_NAME at .pid%g"> \
-e "s%[@]DEFAULT_NETDB_FILE[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid/netdb.state%g"> \
-e "s%[@]DEFAULT_SWAP_DIR[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid%g"> \
-e "s%[@]DEFAULT_SSL_DB_DIR[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/cache/squid/ssl_db%g"> \
-e "s%[@]DEFAULT_ICON_DIR[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/share/icons%g"> \
-e "s%[@]DEFAULT_CONFIG_DIR[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/etc%g"> \
-e "s%[@]DEFAULT_ERROR_DIR[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/share/errors%g"> \
-e "s%[@]DEFAULT_PREFIX[@]%/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst%g"> \
-e "s%[@]DEFAULT_HOSTS[@]%/etc/hosts%g" \
-e "s%[@]SQUID[@]%SQUID\ 5.0.0-BZR%g" \
-f ../../src/cf.data.sed \
< ../../src/cf.data.pre >cf.data
nawk -f ../../src/mk-string-arrays.awk < ../../src/err_type.h > err_type.cc || (/bin/rm -f -f err_type.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/err_detail_type.h | sed 's/ERR_DETAIL_//' > err_detail_type.cc || (/bin/rm -f -f err_detail_type.cc && exit 1)
nawk -f ../../src/mk-globals-c.awk < ../../src/globals.h > globals.cc || (/bin/rm -f -f globals.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/hier_code.h > hier_code.cc || (/bin/rm -f -f hier_code.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/icp_opcode.h > icp_opcode.cc || (/bin/rm -f -f icp_opcode.cc && exit 1)
nawk -f ../../src/mk-string-arrays.awk < ../../src/lookup_t.h > lookup_t.cc || (/bin/rm -f -f lookup_t.cc && exit 1)
/bin/sh ../../src/repl_modules.sh lru > repl_modules.cc
ccache clang++ -g -O2 -std=c++11 -I/usr/local/include -o cf_gen ../../src/cf_gen.cc -I../../src -I../include/ -I../src
../../src/cf_gen.cc:261:21: warning: enumeration value 'sEXIT' not handled in switch [-Wswitch]
            switch (state) {
                    ^
1 warning generated.
./cf_gen cf.data ../../src/cf.data.depend
gmake  all-recursive
gmake[3]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
Making all in mem
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/mem'>
depbase=`echo AllocatorProxy.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF $depbase.Tpo -c -o AllocatorProxy.lo ../../../src/mem/AllocatorProxy.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo old_api.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF $depbase.Tpo -c -o old_api.lo ../../../src/mem/old_api.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF .deps/AllocatorProxy.Tpo -c ../../../src/mem/AllocatorProxy.cc  -fPIC -DPIC -o .libs/AllocatorProxy.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF .deps/old_api.Tpo -c ../../../src/mem/old_api.cc  -fPIC -DPIC -o .libs/old_api.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AllocatorProxy.lo -MD -MP -MF .deps/AllocatorProxy.Tpo -c ../../../src/mem/AllocatorProxy.cc -o AllocatorProxy.o >/dev/null 2>&1
depbase=`echo Pool.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF $depbase.Tpo -c -o Pool.lo ../../../src/mem/Pool.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF .deps/Pool.Tpo -c ../../../src/mem/Pool.cc  -fPIC -DPIC -o .libs/Pool.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Pool.lo -MD -MP -MF .deps/Pool.Tpo -c ../../../src/mem/Pool.cc -o Pool.o >/dev/null 2>&1
depbase=`echo PoolChunked.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF $depbase.Tpo -c -o PoolChunked.lo ../../../src/mem/PoolChunked.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF .deps/PoolChunked.Tpo -c ../../../src/mem/PoolChunked.cc  -fPIC -DPIC -o .libs/PoolChunked.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolChunked.lo -MD -MP -MF .deps/PoolChunked.Tpo -c ../../../src/mem/PoolChunked.cc -o PoolChunked.o >/dev/null 2>&1
depbase=`echo PoolMalloc.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF $depbase.Tpo -c -o PoolMalloc.lo ../../../src/mem/PoolMalloc.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF .deps/PoolMalloc.Tpo -c ../../../src/mem/PoolMalloc.cc  -fPIC -DPIC -o .libs/PoolMalloc.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PoolMalloc.lo -MD -MP -MF .deps/PoolMalloc.Tpo -c ../../../src/mem/PoolMalloc.cc -o PoolMalloc.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT old_api.lo -MD -MP -MF .deps/old_api.Tpo -c ../../../src/mem/old_api.cc -o old_api.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libmem.la  AllocatorProxy.lo old_api.lo Pool.lo PoolChunked.lo PoolMalloc.lo  
libtool: link: /usr/bin/ar cru .libs/libmem.a .libs/AllocatorProxy.o .libs/old_api.o .libs/Pool.o .libs/PoolChunked.o .libs/PoolMalloc.o 
libtool: link: ranlib .libs/libmem.a
libtool: link: ( cd ".libs" && rm -f "libmem.la" && ln -s "../libmem.la" "libmem.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/mem'>
Making all in base
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/base'>
depbase=`echo AsyncCall.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF $depbase.Tpo -c -o AsyncCall.lo ../../../src/base/AsyncCall.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo AsyncJob.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF $depbase.Tpo -c -o AsyncJob.lo ../../../src/base/AsyncJob.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc  -fPIC -DPIC -o .libs/AsyncJob.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc  -fPIC -DPIC -o .libs/AsyncCall.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncJob.lo -MD -MP -MF .deps/AsyncJob.Tpo -c ../../../src/base/AsyncJob.cc -o AsyncJob.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCall.lo -MD -MP -MF .deps/AsyncCall.Tpo -c ../../../src/base/AsyncCall.cc -o AsyncCall.o >/dev/null 2>&1
depbase=`echo AsyncCallQueue.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF $depbase.Tpo -c -o AsyncCallQueue.lo ../../../src/base/AsyncCallQueue.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo CharacterSet.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF $depbase.Tpo -c -o CharacterSet.lo ../../../src/base/CharacterSet.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc  -fPIC -DPIC -o .libs/AsyncCallQueue.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc  -fPIC -DPIC -o .libs/CharacterSet.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AsyncCallQueue.lo -MD -MP -MF .deps/AsyncCallQueue.Tpo -c ../../../src/base/AsyncCallQueue.cc -o AsyncCallQueue.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT CharacterSet.lo -MD -MP -MF .deps/CharacterSet.Tpo -c ../../../src/base/CharacterSet.cc -o CharacterSet.o >/dev/null 2>&1
depbase=`echo RegexPattern.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF $depbase.Tpo -c -o RegexPattern.lo ../../../src/base/RegexPattern.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo RunnersRegistry.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF $depbase.Tpo -c -o RunnersRegistry.lo ../../../src/base/RunnersRegistry.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF .deps/RegexPattern.Tpo -c ../../../src/base/RegexPattern.cc  -fPIC -DPIC -o .libs/RegexPattern.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc  -fPIC -DPIC -o .libs/RunnersRegistry.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RegexPattern.lo -MD -MP -MF .deps/RegexPattern.Tpo -c ../../../src/base/RegexPattern.cc -o RegexPattern.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT RunnersRegistry.lo -MD -MP -MF .deps/RunnersRegistry.Tpo -c ../../../src/base/RunnersRegistry.cc -o RunnersRegistry.o >/dev/null 2>&1
depbase=`echo TextException.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF $depbase.Tpo -c -o TextException.lo ../../../src/base/TextException.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc  -fPIC -DPIC -o .libs/TextException.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TextException.lo -MD -MP -MF .deps/TextException.Tpo -c ../../../src/base/TextException.cc -o TextException.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libbase.la  AsyncCall.lo AsyncJob.lo AsyncCallQueue.lo CharacterSet.lo RegexPattern.lo RunnersRegistry.lo TextException.lo  
libtool: link: /usr/bin/ar cru .libs/libbase.a .libs/AsyncCall.o .libs/AsyncJob.o .libs/AsyncCallQueue.o .libs/CharacterSet.o .libs/RegexPattern.o .libs/RunnersRegistry.o .libs/TextException.o 
libtool: link: ranlib .libs/libbase.a
libtool: link: ( cd ".libs" && rm -f "libbase.la" && ln -s "../libbase.la" "libbase.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/base'>
Making all in anyp
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/anyp'>
depbase=`echo PortCfg.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF $depbase.Tpo -c -o PortCfg.lo ../../../src/anyp/PortCfg.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ProtocolType.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF $depbase.Tpo -c -o ProtocolType.lo ../../../src/anyp/ProtocolType.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc  -fPIC -DPIC -o .libs/PortCfg.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc  -fPIC -DPIC -o .libs/ProtocolType.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ProtocolType.lo -MD -MP -MF .deps/ProtocolType.Tpo -c ../../../src/anyp/ProtocolType.cc -o ProtocolType.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT PortCfg.lo -MD -MP -MF .deps/PortCfg.Tpo -c ../../../src/anyp/PortCfg.cc -o PortCfg.o >/dev/null 2>&1
depbase=`echo UriScheme.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT UriScheme.lo -MD -MP -MF $depbase.Tpo -c -o UriScheme.lo ../../../src/anyp/UriScheme.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT UriScheme.lo -MD -MP -MF .deps/UriScheme.Tpo -c ../../../src/anyp/UriScheme.cc  -fPIC -DPIC -o .libs/UriScheme.o
In file included from ../../../src/anyp/UriScheme.cc:12:
../../../src/anyp/UriScheme.h:26:18: error: no type named 'vector' in namespace 'std'; did you mean 'hecto'?
    typedef std::vector<SBuf> LowercaseSchemeNames;
            ~~~~~^~~~~~
                 hecto
/usr/include/c++/v1/ratio:265:43: note: 'hecto' declared here
typedef ratio<                100LL, 1LL> hecto;
                                          ^
In file included from ../../../src/anyp/UriScheme.cc:12:
../../../src/anyp/UriScheme.h:26:24: error: expected member name or ';' after declaration specifiers
    typedef std::vector<SBuf> LowercaseSchemeNames;
    ~~~~~~~~~~~~~~~~~~~^
../../../src/anyp/UriScheme.h:59:12: error: unknown type name 'LowercaseSchemeNames'
    static LowercaseSchemeNames LowercaseSchemeNames_;
           ^
../../../src/anyp/UriScheme.cc:14:18: error: no type named 'LowercaseSchemeNames' in 'AnyP::UriScheme'
AnyP::UriScheme::LowercaseSchemeNames AnyP::UriScheme::LowercaseSchemeNames_;
~~~~~~~~~~~~~~~~~^
4 errors generated.
gmake[4]: *** [UriScheme.lo] Error 1
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/anyp'>
gmake[3]: *** [all-recursive] Error 1
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[2]: *** [all] Error 2
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build'>
gmake: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
../../../src/anyp/UriScheme.h:26:18: error: no type named 'vector' in namespace 'std'; did you mean 'hecto'?
../../../src/anyp/UriScheme.h:26:24: error: expected member name or ';' after declaration specifiers
../../../src/anyp/UriScheme.h:59:12: error: unknown type name 'LowercaseSchemeNames'
../../../src/anyp/UriScheme.cc:14:18: error: no type named 'LowercaseSchemeNames' in 'AnyP::UriScheme'
gmake[4]: *** [UriScheme.lo] Error 1
gmake[3]: *** [all-recursive] Error 1
gmake[2]: *** [all] Error 2
gmake[1]: *** [all-recursive] Error 1
gmake: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sun Mar  5 01:40:06 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Mar 2017 01:40:06 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23300?=
In-Reply-To: <637041370.195.1488626530128.JavaMail.jenkins@buildmaster>
References: <637041370.195.1488626530128.JavaMail.jenkins@buildmaster>
Message-ID: <248509449.197.1488678006643.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/300/display/redirect>

------------------------------------------
[...truncated 955.10 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for egrep... ../../configure: line 7180: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sun Mar  5 02:07:12 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Mar 2017 02:07:12 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_templat?=
 =?utf-8?q?e-full-matrix_=C2=BB_clang=2Crs-fbsd-10_=23300?=
In-Reply-To: <1304900770.196.1488629125208.JavaMail.jenkins@buildmaster>
References: <1304900770.196.1488629125208.JavaMail.jenkins@buildmaster>
Message-ID: <1422884855.198.1488679632556.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/300/display/redirect>


From noc at squid-cache.org  Sun Mar  5 04:22:11 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 5 Mar 2017 04:22:11 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_5-matri?=
 =?utf-8?q?x_=C2=BB_clang=2Crs-fbsd-10_=23129?=
In-Reply-To: <1967867426.194.1488616798673.JavaMail.jenkins@buildmaster>
References: <1967867426.194.1488616798673.JavaMail.jenkins@buildmaster>
Message-ID: <1835606005.199.1488687731791.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/129/display/redirect>


From eduard.bagdasaryan at measurement-factory.com  Sun Mar  5 17:02:33 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Sun, 5 Mar 2017 20:02:33 +0300
Subject: [squid-dev] [PATCH] Detail swapfile header inconsistencies
Message-ID: <c0dfab38-9a9e-4179-ce6d-ffa8af6a7f3d@measurement-factory.com>

Hello,

This patch improves Squid to better distinguish error cases when loading
cache entry metadata is failed. Knowing the exact failure reason may
help triage and guide development.  Refactoring also reduced code
duplication and  fixed a null pointer dereference inside ufsdump.cc (but
ufsdump does not even build right now for reasons unrelated to
these changes).

This patch applies to both v4 and v5.


Regards,

Eduard.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-171-detail-swapfile-header-inconsistencies-t3.patch
Type: text/x-patch
Size: 12070 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170305/4219ba43/attachment.bin>

From eduard.bagdasaryan at measurement-factory.com  Sun Mar  5 19:28:43 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Sun, 5 Mar 2017 22:28:43 +0300
Subject: [squid-dev] [PATCH] Fix broken build for ufsdump
Message-ID: <06ac1eca-fb48-2336-d884-f6e501cae68f@measurement-factory.com>

Hello,

ufsdump build is broken now and seems that it became broken quite a long
time ago (though I have not tested when exactly), probably because is
not built by default. This patch fixes this, however I am not sure that
does it in a best possible way. For example, someone may argue that
inlining storeKeyText() is wrong. I am posting it in hope that somebody
else will polish and apply it.

BTW, running ufsdump produces an error:

FATAL: StoreMeta.cc required for use of Factory

Looks like it requires StoreMeta.cc instead of stub_StoreMeta.cc,
currently used.

Thanks,

Eduard.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-171-ufsdump-linkage-fix-t1.patch
Type: text/x-patch
Size: 5750 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170305/3084019c/attachment.bin>

From rousskov at measurement-factory.com  Mon Mar  6 02:54:27 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Sun, 5 Mar 2017 19:54:27 -0700
Subject: [squid-dev] [PATCH] Fix broken build for ufsdump
In-Reply-To: <06ac1eca-fb48-2336-d884-f6e501cae68f@measurement-factory.com>
References: <06ac1eca-fb48-2336-d884-f6e501cae68f@measurement-factory.com>
Message-ID: <b997dc02-0eeb-91ff-80a5-7cd7690e4d81@measurement-factory.com>

On 03/05/2017 12:28 PM, Eduard Bagdasaryan wrote:

> ufsdump build is broken now [...]
> This patch fixes this, however I am not sure that
> does it in a best possible way. For example, someone may argue that
> inlining storeKeyText() is wrong.

Yeah, I would argue that such inlining is "wrong".


> I am posting it in hope that somebody
> else will polish and apply it.

This preliminary patch may be very helpful if somebody decides to fix
ufsdump. Thank you!

Alex.


From heiler.bemerguy at cinbesa.com.br  Tue Mar  7 15:40:22 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Tue, 7 Mar 2017 12:40:22 -0300
Subject: [squid-dev] Rock store stopped accessing discs
Message-ID: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>

I'm using squid 4.0.18

And noticed something: (iostat -x 5)

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s 
avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
sda               0,00     0,00    0,00    0,25     0,00 28,00   
224,00     0,00    8,00    0,00    8,00   8,00   0,20
sdc               0,00     0,00    0,00    0,00     0,00 0,00     
0,00     0,00    0,00    0,00    0,00   0,00   0,00
sdb               0,00     0,00    0,00    0,00     0,00 0,00     
0,00     0,00    0,00    0,00    0,00   0,00   0,00
sdd               0,00     0,00    0,00    0,00     0,00 0,00     
0,00     0,00    0,00    0,00    0,00   0,00   0,00

No hds are being accessed, only the main (SDA) one (which logs are 
saved). Btw squid is sending 80mbit/s to the network, as iftop told me.

cache.log:

2017/03/07 05:23:59 kid5| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo5.206991w9
2017/03/07 05:24:10 kid5| WARNING: communication with /cache4/rock may 
be too slow or disrupted for about 7.00s; rescued 304 out of 304 I/Os
2017/03/07 08:00:30 kid5| WARNING: abandoning 1 /cache2/rock I/Os after 
at least 7.00s timeout
2017/03/07 10:50:45 kid5| WARNING: abandoning 1 /cache2/rock I/Os after 
at least 7.00s timeout

squid.conf:

cache_dir rock /cache2 110000 min-size=0 max-size=65536 
max-swap-rate=200 swap-timeout=360
cache_dir rock /cache3 110000 min-size=65537 max-size=262144 
max-swap-rate=200 swap-timeout=380
cache_dir rock /cache4 110000 min-size=262145 max-swap-rate=200 
swap-timeout=500

Should I raise any values? tweak something? please advise..

-- 
Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


From rousskov at measurement-factory.com  Tue Mar  7 16:14:48 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 7 Mar 2017 09:14:48 -0700
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
Message-ID: <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>

On 03/07/2017 08:40 AM, Heiler Bemerguy wrote:
> I'm using squid 4.0.18
> 
> And noticed something: (iostat -x 5)
> 
> Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s
> avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
> sda               0,00     0,00    0,00    0,25     0,00 28,00 224,00     0,00    8,00    0,00    8,00   8,00   0,20
> sdc               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
> sdb               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
> sdd               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
> 
> No hds are being accessed, only the main (SDA) one (which logs are
> saved). Btw squid is sending 80mbit/s to the network, as iftop told me.
> 
> cache.log:
> 
> 2017/03/07 05:23:59 kid5| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo5.206991w9
> 2017/03/07 05:24:10 kid5| WARNING: communication with /cache4/rock may be too slow or disrupted for about 7.00s; rescued 304 out of 304 I/Os
> 2017/03/07 08:00:30 kid5| WARNING: abandoning 1 /cache2/rock I/Os after at least 7.00s timeout
> 2017/03/07 10:50:45 kid5| WARNING: abandoning 1 /cache2/rock I/Os after at least 7.00s timeout

I presume your iostat output covers 5 seconds. The cache.log output
spans 5 hours. Were there no cache disk traffic during those 5 hours? Do
those iostat 5 seconds match the timestamp of any single cache.log WARNING?


> squid.conf:
> 
> cache_dir rock /cache2 110000 min-size=0 max-size=65536 max-swap-rate=200 swap-timeout=360
> cache_dir rock /cache3 110000 min-size=65537 max-size=262144 max-swap-rate=200 swap-timeout=380
> cache_dir rock /cache4 110000 min-size=262145 max-swap-rate=200 swap-timeout=500
> 
> Should I raise any values? tweak something?

Yes, but it is not yet clear what. If you suspect that your disks cannot
handle the load, decrease max-swap-rate. However, there is currently no
firm evidence that your disks cannot handle the load. It could be
something else like insufficient IPC RAM or Squid bugs.

Any Squid kid crashes? How many Squid workers do you use?

Can you collect enough iostat 5-second outputs to correlate with
long-term cache.log messages? I would also collect other system activity
during those hours. The "atop" tool may be useful for collecting
everything in one place.

Alex.


From heiler.bemerguy at cinbesa.com.br  Tue Mar  7 17:58:17 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Tue, 7 Mar 2017 14:58:17 -0300
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
Message-ID: <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>


Em 07/03/2017 13:14, Alex Rousskov escreveu:
> On 03/07/2017 08:40 AM, Heiler Bemerguy wrote:
>> I'm using squid 4.0.18
>>
>> And noticed something: (iostat -x 5)
>>
>> Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s
>> avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
>> sda               0,00     0,00    0,00    0,25     0,00 28,00 224,00     0,00    8,00    0,00    8,00   8,00   0,20
>> sdc               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
>> sdb               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
>> sdd               0,00     0,00    0,00    0,00     0,00 0,00    0,00     0,00    0,00    0,00    0,00   0,00   0,00
>>
>> No hds are being accessed, only the main (SDA) one (which logs are
>> saved). Btw squid is sending 80mbit/s to the network, as iftop told me.
>>
>> cache.log:
>>
>> 2017/03/07 05:23:59 kid5| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo5.206991w9
>> 2017/03/07 05:24:10 kid5| WARNING: communication with /cache4/rock may be too slow or disrupted for about 7.00s; rescued 304 out of 304 I/Os
>> 2017/03/07 08:00:30 kid5| WARNING: abandoning 1 /cache2/rock I/Os after at least 7.00s timeout
>> 2017/03/07 10:50:45 kid5| WARNING: abandoning 1 /cache2/rock I/Os after at least 7.00s timeout
> I presume your iostat output covers 5 seconds. The cache.log output
> spans 5 hours. Were there no cache disk traffic during those 5 hours? Do
> those iostat 5 seconds match the timestamp of any single cache.log WARNING?

No. I used iostat to check if "right now" the hds were being accessed. A 
lot of minutes passed and all writes/reads remained Zero. With a 
80mbit/s traffic going on, how could nothing be written nor read from 
disc? It's like squid stopped using the cache_dirs for some reason, then 
I greped the cache.log for the word 'rock", and that's what it outputted

>> squid.conf:
>>
>> cache_dir rock /cache2 110000 min-size=0 max-size=65536 max-swap-rate=200 swap-timeout=360
>> cache_dir rock /cache3 110000 min-size=65537 max-size=262144 max-swap-rate=200 swap-timeout=380
>> cache_dir rock /cache4 110000 min-size=262145 max-swap-rate=200 swap-timeout=500
>>
>> Should I raise any values? tweak something?
> Yes, but it is not yet clear what. If you suspect that your disks cannot
> handle the load, decrease max-swap-rate. However, there is currently no
> firm evidence that your disks cannot handle the load. It could be
> something else like insufficient IPC RAM or Squid bugs.

How can I check IPC RAM? I've never tweaked it.

> Any Squid kid crashes? How many Squid workers do you use?
>
> Can you collect enough iostat 5-second outputs to correlate with
> long-term cache.log messages? I would also collect other system activity
> during those hours. The "atop" tool may be useful for collecting
> everything in one place.
Couldn't find any crashes on the log file. 6 workers and 3 cache_dirs.
I've just noticed that squid was running since feb/18 (Start Time:     
Sat, 18 Feb 2017 15:38:44 GMT) and since the beginning there were a lot 
of warnings on cache.log.. (The logs I pasted on the earlier email was 
from today's usage only..)
I think since then, it stopped using the cache stores..

2017/02/18 13:48:19 kid3| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo3.9082w9
2017/02/18 13:48:42 kid4| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo4.3371w9
2017/02/18 14:06:01 kid9| WARNING: /cache4/rock delays I/O requests for 
9.97 seconds to obey 200/sec rate limit
2017/02/18 14:06:34 kid9| WARNING: /cache4/rock delays I/O requests for 
21.82 seconds to obey 200/sec rate limit
2017/02/18 14:06:42 kid4| WARNING: abandoning 1 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:06:47 kid3| WARNING: abandoning 1 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:06:48 kid1| WARNING: abandoning 1 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:06:49 kid4| WARNING: abandoning 4 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:06:54 kid3| WARNING: abandoning 2 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:07:55 kid9| WARNING: /cache4/rock delays I/O requests for 
68.64 seconds to obey 200/sec rate limit
2017/02/18 14:08:03 kid5| WARNING: abandoning 511 /cache4/rock I/Os 
after at least 7.00s timeout
2017/02/18 14:08:47 kid2| WARNING: abandoning 20 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:08:51 kid3| WARNING: abandoning 41 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 14:08:54 kid1| WARNING: abandoning 41 /cache4/rock I/Os after 
at least 7.00s timeout
2017/02/18 15:26:35 kid5| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo5.31404w9
2017/02/18 15:29:00 kid9| WARNING: /cache4/rock delays I/O requests for 
9.92 seconds to obey 200/sec rate limit
2017/02/18 15:29:13 kid9| WARNING: /cache4/rock delays I/O requests for 
8.23 seconds to obey 200/sec rate limit
2017/02/18 15:29:45 kid9| WARNING: /cache4/rock delays I/O requests for 
8.86 seconds to obey 200/sec rate limit
2017/02/18 15:30:06 kid9| WARNING: /cache4/rock delays I/O requests for 
7.34 seconds to obey 200/sec rate limit
2017/02/18 15:30:27 kid9| WARNING: /cache4/rock delays I/O requests for 
7.65 seconds to obey 200/sec rate limit
2017/02/18 15:30:48 kid9| WARNING: /cache4/rock delays I/O requests for 
8.97 seconds to obey 200/sec rate limit
2017/02/18 15:31:09 kid9| WARNING: /cache4/rock delays I/O requests for 
8.52 seconds to obey 200/sec rate limit
2017/02/18 15:31:22 kid9| WARNING: /cache4/rock delays I/O requests for 
10.61 seconds to obey 200/sec rate limit
2017/02/18 17:19:40 kid9| WARNING: /cache4/rock delays I/O requests for 
10.22 seconds to obey 200/sec rate limit


Cache information for squid:
         Hits as % of all requests:      5min: 6.4%, 60min: 6.1%
         Hits as % of bytes sent:        5min: -0.5%, 60min: 1.5%
         Memory hits as % of hit requests:       5min: 33.4%, 60min: 34.1%
*        Disk hits as % of hit requests: 5min: 0.0%, 60min: 0.0%*
         Store Disk files open:                   3
Internal Data Structures:
         117119 StoreEntries
         117119 StoreEntries with MemObjects
         280701 Hot Object Cache Items
         2788823 on-disk objects

-- 
Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170307/74a681e0/attachment.html>

From rousskov at measurement-factory.com  Tue Mar  7 18:22:08 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 7 Mar 2017 11:22:08 -0700
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
Message-ID: <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>

On 03/07/2017 10:58 AM, Heiler Bemerguy wrote:

> I used iostat to check if "right now" the hds were being accessed. A
> lot of minutes passed and all writes/reads remained Zero. 

Understood.


> With a 80mbit/s traffic going on, how could nothing be written nor read from
> disc? 

I can come up with several possible explanations, but more information
is needed to minimize guessing. See below for some suggestions.


> How can I check IPC RAM? I've never tweaked it.

Search Squid wiki for SMP troubleshooting hints and/or ask your local
sysadmin. If you cannot find anything relevant, ask here again and,
hopefully somebody will be able to guide you.


> I've just noticed that squid was running since feb/18 (Start Time:    
> Sat, 18 Feb 2017 15:38:44 GMT) and since the beginning there were a lot
> of warnings on cache.log.. (The logs I pasted on the earlier email was
> from today's usage only..)
> I think since then, it stopped using the cache stores..

I assume "then" means "today's usage" not "feb/18".

> 2017/02/18 13:48:19 kid3| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo3.9082w9
> 2017/02/18 13:48:42 kid4| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo4.3371w9
> 2017/02/18 14:06:01 kid9| WARNING: /cache4/rock delays I/O requests for 9.97 seconds to obey 200/sec rate limit
> 2017/02/18 14:06:34 kid9| WARNING: /cache4/rock delays I/O requests for 21.82 seconds to obey 200/sec rate limit
> 2017/02/18 14:06:42 kid4| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:06:47 kid3| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:06:48 kid1| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:06:49 kid4| WARNING: abandoning 4 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:06:54 kid3| WARNING: abandoning 2 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:07:55 kid9| WARNING: /cache4/rock delays I/O requests for 68.64 seconds to obey 200/sec rate limit
> 2017/02/18 14:08:03 kid5| WARNING: abandoning 511 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:08:47 kid2| WARNING: abandoning 20 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:08:51 kid3| WARNING: abandoning 41 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 14:08:54 kid1| WARNING: abandoning 41 /cache4/rock I/Os after at least 7.00s timeout
> 2017/02/18 15:26:35 kid5| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo5.31404w9
> 2017/02/18 15:29:00 kid9| WARNING: /cache4/rock delays I/O requests for 9.92 seconds to obey 200/sec rate limit
> 2017/02/18 15:29:13 kid9| WARNING: /cache4/rock delays I/O requests for 8.23 seconds to obey 200/sec rate limit
> 2017/02/18 15:29:45 kid9| WARNING: /cache4/rock delays I/O requests for 8.86 seconds to obey 200/sec rate limit
> 2017/02/18 15:30:06 kid9| WARNING: /cache4/rock delays I/O requests for 7.34 seconds to obey 200/sec rate limit
> 2017/02/18 15:30:27 kid9| WARNING: /cache4/rock delays I/O requests for 7.65 seconds to obey 200/sec rate limit
> 2017/02/18 15:30:48 kid9| WARNING: /cache4/rock delays I/O requests for 8.97 seconds to obey 200/sec rate limit
> 2017/02/18 15:31:09 kid9| WARNING: /cache4/rock delays I/O requests for 8.52 seconds to obey 200/sec rate limit
> 2017/02/18 15:31:22 kid9| WARNING: /cache4/rock delays I/O requests for 10.61 seconds to obey 200/sec rate limit
> 2017/02/18 17:19:40 kid9| WARNING: /cache4/rock delays I/O requests for 10.22 seconds to obey 200/sec rate limit

There is a Squid bug and/or your cache disks could not keep up with the
I/O load. Please note that I/O load during initial cache index rebuild
is higher.

There are several ways to proceed IMO:

1. Figure out why your Squid is not using the disk cache _now_. This
will require enabling debugging, at least for a few seconds, and then
analyzing cache.log. I recommend enabling debugging in one worker kid
only (i.e., sending its process the right signal instead of running
"squid -k debug"). See Squid wiki for debugging details. Do not restart
or reconfigure Squid until you collect those debugging logs! Please note
that the logs may contain private user info.

2. Reducing max-swap-rate from 200 to, say, 20. If your disks cannot
keep up _and_ there is a Squid bug that screws something up when your
disks cannot keep up, then this blind configuration change may avoid
triggering that bug.

3. Collect enough iostat 5-second outputs (or equivalent) to correlate
system performance with cache.log messages. I would also collect other
system activity during those hours. The "atop" tool may be useful for
collecting everything in one place. You will probably want to restart
Squid for a clean experiment/collection.


HTH,

Alex.


From heiler.bemerguy at cinbesa.com.br  Tue Mar  7 20:08:39 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Tue, 7 Mar 2017 17:08:39 -0300
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
Message-ID: <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>



Em 07/03/2017 15:22, Alex Rousskov escreveu:
>
>> 2017/02/18 13:48:19 kid3| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo3.9082w9
>> 2017/02/18 13:48:42 kid4| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo4.3371w9
>> 2017/02/18 14:06:01 kid9| WARNING: /cache4/rock delays I/O requests for 9.97 seconds to obey 200/sec rate limit
>> 2017/02/18 14:06:34 kid9| WARNING: /cache4/rock delays I/O requests for 21.82 seconds to obey 200/sec rate limit
>> 2017/02/18 14:06:42 kid4| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:06:47 kid3| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:06:48 kid1| WARNING: abandoning 1 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:06:49 kid4| WARNING: abandoning 4 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:06:54 kid3| WARNING: abandoning 2 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:07:55 kid9| WARNING: /cache4/rock delays I/O requests for 68.64 seconds to obey 200/sec rate limit
>> 2017/02/18 14:08:03 kid5| WARNING: abandoning 511 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:08:47 kid2| WARNING: abandoning 20 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:08:51 kid3| WARNING: abandoning 41 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 14:08:54 kid1| WARNING: abandoning 41 /cache4/rock I/Os after at least 7.00s timeout
>> 2017/02/18 15:26:35 kid5| ERROR: worker I/O push queue for /cache4/rock overflow: ipcIo5.31404w9
>> 2017/02/18 15:29:00 kid9| WARNING: /cache4/rock delays I/O requests for 9.92 seconds to obey 200/sec rate limit
>> 2017/02/18 15:29:13 kid9| WARNING: /cache4/rock delays I/O requests for 8.23 seconds to obey 200/sec rate limit
>> 2017/02/18 15:29:45 kid9| WARNING: /cache4/rock delays I/O requests for 8.86 seconds to obey 200/sec rate limit
>> 2017/02/18 15:30:06 kid9| WARNING: /cache4/rock delays I/O requests for 7.34 seconds to obey 200/sec rate limit
>> 2017/02/18 15:30:27 kid9| WARNING: /cache4/rock delays I/O requests for 7.65 seconds to obey 200/sec rate limit
>> 2017/02/18 15:30:48 kid9| WARNING: /cache4/rock delays I/O requests for 8.97 seconds to obey 200/sec rate limit
>> 2017/02/18 15:31:09 kid9| WARNING: /cache4/rock delays I/O requests for 8.52 seconds to obey 200/sec rate limit
>> 2017/02/18 15:31:22 kid9| WARNING: /cache4/rock delays I/O requests for 10.61 seconds to obey 200/sec rate limit
>> 2017/02/18 17:19:40 kid9| WARNING: /cache4/rock delays I/O requests for 10.22 seconds to obey 200/sec rate limit
> There is a Squid bug and/or your cache disks could not keep up with the
> I/O load. Please note that I/O load during initial cache index rebuild
> is higher.
>
> There are several ways to proceed IMO:
>
> 1. Figure out why your Squid is not using the disk cache _now_. This
> will require enabling debugging, at least for a few seconds, and then
> analyzing cache.log. I recommend enabling debugging in one worker kid
> only (i.e., sending its process the right signal instead of running
> "squid -k debug"). See Squid wiki for debugging details. Do not restart
> or reconfigure Squid until you collect those debugging logs! Please note
> that the logs may contain private user info.

Some log from right now...

2017/03/07 15:53:05.255 kid6| 19,4| MemObject.cc(431) isContiguous: 
MemObject::isContiguous: Returning true
2017/03/07 15:53:05.255 kid6| 73,3| HttpRequest.cc(658) storeId: sent 
back effectiveRequestUrl: http://www.agenciabelem.com.br/signalr/hubs
2017/03/07 15:53:05.255 kid6| 20,3| store_swapmeta.cc(52) 
storeSwapMetaBuild: storeSwapMetaBuild URL: 
http://www.agenciabelem.com.br/signalr/hubs
2017/03/07 15:53:05.255 kid6| 54,2| ../../../src/ipc/Queue.h(490) 
findOldest: peeking from 7 to 6 at 1
2017/03/07 15:53:05.255 kid6| 47,2| IpcIoFile.cc(415) canWait: cannot 
wait: 1136930911 oldest: ipcIo6.381049w7
2017/03/07 15:53:05.255 kid6| 20,2| store_io.cc(38) storeCreate: 
storeCreate: no swapdirs for e:=sw1p2RDV/0x206e17d0*4
2017/03/07 15:53:05.255 kid6| 90,3| store_client.cc(729) invokeHandlers: 
InvokeHandlers: 69538C9E111C077214004DE73D0F257B
2017/03/07 15:53:05.255 kid6| 90,3| store_client.cc(735) invokeHandlers: 
StoreEntry::InvokeHandlers: checking client #0
2017/03/07 15:53:05.255 kid6| 90,3| store_client.cc(755) 
storePendingNClients: storePendingNClients: returning 1
2017/03/07 15:53:05.255 kid6| 20,3| store.cc(494) unlock: Client 
unlocking key 69538C9E111C077214004DE73D0F257B e:=sp2RDV/0x206e17d0*4
2017/03/07 15:53:05.255 kid6| 17,3| FwdState.cc(274) ~FwdState: FwdState 
destructor start
--
2017/03/07 15:53:05.302 kid6| 90,3| store_client.cc(661) 
storeUnregister: storeUnregister: called for 
'C8303E098834088226809BF615D12C51'
2017/03/07 15:53:05.302 kid6| 19,4| MemObject.cc(431) isContiguous: 
MemObject::isContiguous: Returning true
2017/03/07 15:53:05.302 kid6| 20,3| store_swapmeta.cc(52) 
storeSwapMetaBuild: storeSwapMetaBuild URL: 
http://www.ormnews.com.br/library/bootstrap/css/bootstrap.min.css
2017/03/07 15:53:05.302 kid6| 54,2| ../../../src/ipc/Queue.h(490) 
findOldest: peeking from 8 to 6 at 1
2017/03/07 15:53:05.302 kid6| 47,2| IpcIoFile.cc(415) canWait: cannot 
wait: 1136930958 oldest: ipcIo6.153009r8
2017/03/07 15:53:05.302 kid6| 20,2| store_io.cc(38) storeCreate: 
storeCreate: no swapdirs for e:=msw1DV/0x3a4d5870*2
2017/03/07 15:53:05.302 kid6| 20,3| store.cc(457) lock: storeUnregister 
locked key C8303E098834088226809BF615D12C51 e:=msDV/0x3a4d5870*3
2017/03/07 15:53:05.302 kid6| 90,3| store_client.cc(755) 
storePendingNClients: storePendingNClients: returning 0
2017/03/07 15:53:05.302 kid6| 20,3| store.cc(494) unlock: 
storeUnregister unlocking key C8303E098834088226809BF615D12C51 
e:=msDV/0x3a4d5870*3
2017/03/07 15:53:05.302 kid6| 20,3| store.cc(494) unlock: 
clientReplyContext::removeStoreReference unlocking key 
C8303E098834088226809BF615D12C51 e:=msDV/0x3a4d5870*2
2017/03/07 15:53:05.302 kid6| 33,3| Pipeline.cc(69) popMe: Pipeline 
0xc8a25a0 drop 0x1b8b2cd0*3
--
2017/03/07 15:53:05.318 kid6| 20,3| store_swapout.cc(377) 
mayStartSwapOut: already allowed
2017/03/07 15:53:05.318 kid6| 73,3| HttpRequest.cc(658) storeId: sent 
back effectiveRequestUrl: 
http://img.olx.com.br/images/31/310706022882854.jpg
2017/03/07 15:53:05.318 kid6| 20,3| store_swapmeta.cc(52) 
storeSwapMetaBuild: storeSwapMetaBuild URL: 
http://img.olx.com.br/images/31/310706022882854.jpg
2017/03/07 15:53:05.318 kid6| 54,2| ../../../src/ipc/Queue.h(490) 
findOldest: peeking from 7 to 6 at 1
2017/03/07 15:53:05.318 kid6| 47,2| IpcIoFile.cc(415) canWait: cannot 
wait: 1136930974 oldest: ipcIo6.381049w7
2017/03/07 15:53:05.318 kid6| 20,2| store_io.cc(38) storeCreate: 
storeCreate: no swapdirs for e:m381432=w1p2DV/0x3ace6740*4
2017/03/07 15:53:05.318 kid6| 90,3| store_client.cc(729) invokeHandlers: 
InvokeHandlers: 5E66A439D7F0C1ED9A6B0742518C59B6
2017/03/07 15:53:05.318 kid6| 90,3| store_client.cc(735) invokeHandlers: 
StoreEntry::InvokeHandlers: checking client #0
2017/03/07 15:53:05.318 kid6| 11,3| http.cc(1090) persistentConnStatus: 
local=10.1.10.9:59284 remote=104.113.39.233:80 FD 612 flags=1 eof=0
2017/03/07 15:53:05.318 kid6| 5,3| comm.cc(559) commSetConnTimeout: 
local=10.1.10.9:59284 remote=104.113.39.233:80 FD 612 flags=1 timeout 600
2017/03/07 15:53:05.318 kid6| 5,4| AsyncCallQueue.cc(55) fireNext: 
entering TunnelBlindCopyReadHandler(local=10.1.10.9:54832 
remote=201.57.89.205:443 FD 144 flags=1, data=0x2d04
83d8, size=4344, buf=0x207b41b0)
--
2017/03/07 15:53:05.793 kid6| 20,3| store.cc(1342) validLength: 
storeEntryValidLength: Checking '96501FC1CC75A4D3B9B6BA8A2D899B45'
2017/03/07 15:53:05.793 kid6| 19,4| MemObject.cc(431) isContiguous: 
MemObject::isContiguous: Returning true
2017/03/07 15:53:05.793 kid6| 20,3| store_swapmeta.cc(52) 
storeSwapMetaBuild: storeSwapMetaBuild URL: 
http://globoesporte.globo.com/busca/?q=gabriel+jesus&ps=on
2017/03/07 15:53:05.793 kid6| 54,2| ../../../src/ipc/Queue.h(490) 
findOldest: peeking from 7 to 6 at 1
2017/03/07 15:53:05.793 kid6| 47,2| IpcIoFile.cc(415) canWait: cannot 
wait: 1136931448 oldest: ipcIo6.381049w7
2017/03/07 15:53:05.793 kid6| 20,2| store_io.cc(38) storeCreate: 
storeCreate: no swapdirs for e:=sw1V/0x206e17d0*1
2017/03/07 15:53:05.793 kid6| 90,3| store_client.cc(729) invokeHandlers: 
InvokeHandlers: 96501FC1CC75A4D3B9B6BA8A2D899B45
2017/03/07 15:53:05.793 kid6| 20,3| store.cc(494) unlock: 
StoreEntry::forcePublicKey+Vary unlocking key 
96501FC1CC75A4D3B9B6BA8A2D899B45 e:=sV/0x206e17d0*1
2017/03/07 15:53:05.793 kid6| 90,3| store_client.cc(755) 
storePendingNClients: storePendingNClients: returning 0
2017/03/07 15:53:05.793 kid6| 20,3| store.cc(396) destroyStoreEntry: 
destroyStoreEntry: destroying 0x206e17d8
2017/03/07 15:53:05.793 kid6| 20,3| store.cc(378) destroyMemObject: 
destroyMemObject 0x354a3970

> 2. Reducing max-swap-rate from 200 to, say, 20. If your disks cannot
> keep up _and_ there is a Squid bug that screws something up when your
> disks cannot keep up, then this blind configuration change may avoid
> triggering that bug.

I'll try to use this on a last resort attempt...

> 3. Collect enough iostat 5-second outputs (or equivalent) to correlate
> system performance with cache.log messages. I would also collect other
> system activity during those hours. The "atop" tool may be useful for
> collecting everything in one place. You will probably want to restart
> Squid for a clean experiment/collection.
>

Trying to figure out how to use atop information...

-- 
Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


From rousskov at measurement-factory.com  Tue Mar  7 23:26:23 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 7 Mar 2017 16:26:23 -0700
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
Message-ID: <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>

On 03/07/2017 01:08 PM, Heiler Bemerguy wrote:

> Some log from right now...

Here is my analysis:

> 15:53:05.255| ipc/Queue.h findOldest: peeking from 7 to 6 at 1

Squid worker (kid6) is looking at the queue of disker (kid7) responses.
There is just one response in the queue.


> IpcIoFile.cc canWait: cannot wait: 1136930911 oldest: ipcIo6.381049w7

Squid worker is trying to estimate whether it has enough time to queue
(and eventually perform) more disk I/O. The expected wait is
1'136'930'911 milliseconds or ~13 days. That is longer than the
configured cache_dir swap-timeout (a few hundred milliseconds) so Squid
refuses to queue this disk I/O request:

> store_io.cc storeCreate: no swapdirs for e:=sw1p2RDV/0x206e17d0*4


The same story happens in your other log snippets AFAICT:

> 15:53:05.302| ipc/Queue.h findOldest: peeking from 8 to 6 at 1
> IpcIoFile.cc canWait: cannot wait: 1136930958 oldest: ipcIo6.153009r8
> store_io.cc storeCreate: no swapdirs for e:=msw1DV/0x3a4d5870*2

and

> 15:53:05.318| ipc/Queue.h findOldest: peeking from 7 to 6 at 1
> IpcIoFile.cc canWait: cannot wait: 1136930974 oldest: ipcIo6.381049w7
> store_io.cc storeCreate: no swapdirs for e:m381432=w1p2DV/0x3ace6740*4

and

> 15:53:05.793| ipc/Queue.h findOldest: peeking from 7 to 6 at 1
> IpcIoFile.cc canWait: cannot wait: 1136931448 oldest: ipcIo6.381049w7
> store_io.cc storeCreate: no swapdirs for e:=sw1V/0x206e17d0*1


Focusing on one disker (kid7), we can see that the oldest response does
not change: It is always ipcIo6.381049w7. This stuck response results in
gradual increment of the expected wait time with every check, matching
wall clock time increment:

> 15:53:05.255| cannot wait: 1136930911
> 15:53:05.318| cannot wait: 1136930974
> 15:53:05.793| cannot wait: 1136931448

These stuck disker responses probably explain why your disks do not
receive any traffic. It is potentially important that both disker
responses shown in your logs got stuck at approximately the same
absolute time ~13 days ago (around 2017-02-22, give or take a day;
subtract 1136930911 milliseconds from 15:53:05.255 in your Squid time
zone to know the "exact" time when those stuck requests were queued).

How can a disker response get stuck? Most likely, something unusual
happened ~13 days ago. This could be a Squid bug and/or a kid restart.

* Do all currently running Squid kid processes have about the same start
time? [1]

* Do you see ipcIo6.381049w7 or ipcIo6.153009r8 mentioned in any old
non-debugging messages/warnings?

[1]
http://stackoverflow.com/questions/5731234/how-to-get-the-start-time-of-a-long-running-linux-process


Thank you,

Alex.


From eliezer at ngtech.co.il  Wed Mar  8 01:12:25 2017
From: eliezer at ngtech.co.il (Eliezer  Croitoru)
Date: Wed, 8 Mar 2017 03:12:25 +0200
Subject: [squid-dev] [RFC] The right path\way to use Host header forgery on
	intercepted connections
Message-ID: <00d901d297a9$0f7b9430$2e72bc90$@ngtech.co.il>

Hey Amos and Squid-Dev,

I have discussed with Alex about couple things at bug 4514 - Windows Update
works via interception proxy on 3.5.17, and no works via transparent proxy
on Squid 4.x.:
http://bugs.squid-cache.org/show_bug.cgi?id=4514#c27

The root cause of the bug is the Host header forgery test that squid does
which should not affect many connections but still does.

I have created a testing patch based on the bug report and couple ideas
emerged on a way to treat Intercepted connections compared to
non-intercepted.
Please join Alex and I in the bug report and move the discussion into this
thread.

Thanks,
Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: eliezer at ngtech.co.il




From noc at squid-cache.org  Wed Mar  8 18:23:48 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 8 Mar 2017 18:23:48 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23301?=
In-Reply-To: <248509449.197.1488678006643.JavaMail.jenkins@buildmaster>
References: <248509449.197.1488678006643.JavaMail.jenkins@buildmaster>
Message-ID: <1790489968.0.1488997428579.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/301/display/redirect>

------------------------------------------
[...truncated 954.99 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From squid3 at treenet.co.nz  Thu Mar  9 19:25:06 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 10 Mar 2017 08:25:06 +1300
Subject: [squid-dev] [RFC] The right path\way to use Host header forgery
 on intercepted connections
In-Reply-To: <00d901d297a9$0f7b9430$2e72bc90$@ngtech.co.il>
References: <00d901d297a9$0f7b9430$2e72bc90$@ngtech.co.il>
Message-ID: <147dd92e-ce58-8a91-e3e7-b0ef105cd2cd@treenet.co.nz>

On 8/03/2017 2:12 p.m., Eliezer  Croitoru wrote:
> Hey Amos and Squid-Dev,
> 
> I have discussed with Alex about couple things at bug 4514 - Windows Update
> works via interception proxy on 3.5.17, and no works via transparent proxy
> on Squid 4.x.:
> http://bugs.squid-cache.org/show_bug.cgi?id=4514#c27
> 
> The root cause of the bug is the Host header forgery test that squid does
> which should not affect many connections but still does.
> 
> I have created a testing patch based on the bug report and couple ideas
> emerged on a way to treat Intercepted connections compared to
> non-intercepted.
> Please join Alex and I in the bug report and move the discussion into this
> thread.

Thanks for looking into this. I have replied in bug report.

Amos


From squid3 at treenet.co.nz  Fri Mar 10 01:51:35 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 10 Mar 2017 14:51:35 +1300
Subject: [squid-dev] [PATCH] Detail swapfile header inconsistencies
In-Reply-To: <c0dfab38-9a9e-4179-ce6d-ffa8af6a7f3d@measurement-factory.com>
References: <c0dfab38-9a9e-4179-ce6d-ffa8af6a7f3d@measurement-factory.com>
Message-ID: <67da52ea-9dcf-f281-5141-8b88ffab2655@treenet.co.nz>

On 6/03/2017 6:02 a.m., Eduard Bagdasaryan wrote:
> Hello,
> 
> This patch improves Squid to better distinguish error cases when loading
> cache entry metadata is failed. Knowing the exact failure reason may
> help triage and guide development.  Refactoring also reduced code
> duplication and  fixed a null pointer dereference inside ufsdump.cc (but
> ufsdump does not even build right now for reasons unrelated to
> these changes).
> 
> This patch applies to both v4 and v5.

+1 from me.

Alex if you have no objections I expect to apply this in the next day or so.

Amos


From rousskov at measurement-factory.com  Fri Mar 10 06:03:35 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 9 Mar 2017 23:03:35 -0700
Subject: [squid-dev] [PATCH] Detail swapfile header inconsistencies
In-Reply-To: <67da52ea-9dcf-f281-5141-8b88ffab2655@treenet.co.nz>
References: <c0dfab38-9a9e-4179-ce6d-ffa8af6a7f3d@measurement-factory.com>
 <67da52ea-9dcf-f281-5141-8b88ffab2655@treenet.co.nz>
Message-ID: <07c5c13d-cb69-4418-e726-cc587e645b9c@measurement-factory.com>

On 03/09/2017 06:51 PM, Amos Jeffries wrote:
> On 6/03/2017 6:02 a.m., Eduard Bagdasaryan wrote:
>> This patch improves Squid to better distinguish error cases when loading
>> cache entry metadata is failed. Knowing the exact failure reason may
>> help triage and guide development.  Refactoring also reduced code
>> duplication and  fixed a null pointer dereference inside ufsdump.cc (but
>> ufsdump does not even build right now for reasons unrelated to
>> these changes).
>>
>> This patch applies to both v4 and v5.
> 
> +1 from me.
> 
> Alex if you have no objections I expect to apply this in the next day or so.


Please do.

Alex.


From noc at squid-cache.org  Fri Mar 10 22:50:27 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 10 Mar 2017 22:50:27 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23303?=
In-Reply-To: <1790489968.0.1488997428579.JavaMail.jenkins@buildmaster>
References: <1790489968.0.1488997428579.JavaMail.jenkins@buildmaster>
Message-ID: <348961626.0.1489186227723.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/303/display/redirect>

------------------------------------------
[...truncated 954.99 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sun Mar 12 02:11:51 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sun, 12 Mar 2017 02:11:51 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23304?=
In-Reply-To: <348961626.0.1489186227723.JavaMail.jenkins@buildmaster>
References: <348961626.0.1489186227723.JavaMail.jenkins@buildmaster>
Message-ID: <1277074540.1.1489284712294.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/304/display/redirect>

------------------------------------------
[...truncated 955.02 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From khaled.belhout at gmail.com  Sun Mar 12 07:59:05 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Sun, 12 Mar 2017 08:59:05 +0100
Subject: [squid-dev] introducing
Message-ID: <CABcULUvP-7KTncSRBrLY2yUuRtK1-GJRh3wv7v_UrKDBvcepXg@mail.gmail.com>

hello everybody.
 my name is Khaled and I am from Algeria, north of Africa.
squid helped me a lot and i want to contribute to development of this
wonderful software.
i am interested in area of tooling and automated code review.
the tools that am using : clang-format and clang-tidy.

English is not my native language sorry about any grammar mistakes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170312/d6441842/attachment.html>

From khaled.belhout at gmail.com  Sun Mar 12 13:45:13 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Sun, 12 Mar 2017 14:45:13 +0100
Subject: [squid-dev] [PATCH] for loops modernization
Message-ID: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>

hello ,
this patch modernize for loops using c++11 Range-based for loop
-------------- next part --------------
A non-text attachment was scrubbed...
Name: loop.patch
Type: text/x-patch
Size: 42991 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170312/d8f71c3f/attachment-0001.bin>

From rousskov at measurement-factory.com  Sun Mar 12 15:31:34 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Sun, 12 Mar 2017 09:31:34 -0600
Subject: [squid-dev] [PATCH] for loops modernization
In-Reply-To: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
Message-ID: <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>

On 03/12/2017 07:45 AM, khaled belhout wrote:

> this patch modernize for loops using c++11 Range-based for loop

Please use "const auto" where possible and avoid using "i" for naming
the current iteration object.

I am curious why did you decide to change all these loops? How did you
select the loops to change? Normally, we avoid wide-spread polishing
touches to minimize the price developers working with older code have to
pay when porting back various bug fixes and features. I am trying to
decide whether the advantages of changing these loops outweigh those
costs in this case.


Thank you,

Alex.


From eduard.bagdasaryan at measurement-factory.com  Sun Mar 12 21:50:13 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Mon, 13 Mar 2017 00:50:13 +0300
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
Message-ID: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>

Hello,

This patch fixes two bugs with tunneling CONNECT requests (or equivalent
traffic) through a cache_peer:

1. Not detecting dead cache_peers due to missing code to count peer
    connect failures. SSL-level failures were detected (for "tls"
    cache_peers) but TCP/IP connect(2) failures were not (for all peers).

2. Origin server connect_timeout used instead of peer_connect_timeout or
    a peer-specific connect-timeout=N (where configured).

The regular forwarding code path does not have the above bugs. This
change reduces code duplication across the two code paths (that
duplication probably caused these bugs in the first place), but a lot
more work is needed in that direction.

This patch applies to v5 r15094. I assume v4 should be fixed as well:
the same patch applies to v4 r14999.


Thanks,
Eduard.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-279-honor-peer-timeouts-connect-fwd-t1.patch
Type: text/x-patch
Size: 58320 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170313/a3de1557/attachment-0001.bin>

From khaled.belhout at gmail.com  Mon Mar 13 02:42:45 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Mon, 13 Mar 2017 03:42:45 +0100
Subject: [squid-dev] Fwd:  [PATCH] for loops modernization
In-Reply-To: <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
Message-ID: <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>

---------- Forwarded message ----------
From: khaled belhout <khaled.belhout at gmail.com>
Date: 2017-03-13 3:41 GMT+01:00
Subject: Re: [squid-dev] [PATCH] for loops modernization
To: Alex Rousskov <rousskov at measurement-factory.com>


hello Alex
I used clang-tidy tool to modernize all these loops.
http://clang.llvm.org/extra/clang-tidy/
the tool change only the loops where it safe to change with  c++11
Range-based for loop without changing the semantics .
the tool try to generate a name for current iteration object from the
container name like "options ---> option" and use the old iterator it
fail
we can take the advantage of the tool by selecting the changes that
make code more readable understandable and maintainable.
"decide whether the advantages of changing these loops outweigh those
costs in this case"
Thank you,
Khaled.

2017-03-12 16:31 GMT+01:00 Alex Rousskov <rousskov at measurement-factory.com>:
> On 03/12/2017 07:45 AM, khaled belhout wrote:
>
>> this patch modernize for loops using c++11 Range-based for loop
>
> Please use "const auto" where possible and avoid using "i" for naming
> the current iteration object.
>
> I am curious why did you decide to change all these loops? How did you
> select the loops to change? Normally, we avoid wide-spread polishing
> touches to minimize the price developers working with older code have to
> pay when porting back various bug fixes and features. I am trying to
> decide whether the advantages of changing these loops outweigh those
> costs in this case.
>
>
> Thank you,
>
> Alex.
>

From rousskov at measurement-factory.com  Mon Mar 13 13:45:11 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Mon, 13 Mar 2017 07:45:11 -0600
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
Message-ID: <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>

On 03/12/2017 08:42 PM, khaled belhout wrote:
> I used clang-tidy tool to modernize all these loops.
> http://clang.llvm.org/extra/clang-tidy/

It looks like that tool is not ready for fully automated use. If you
want to fix its results, please use "const auto" where possible and
avoid using "i" for naming the current iteration object.


> we can take the advantage of the tool by selecting the changes that
> make code more readable understandable and maintainable.

Please do not misinterpret my earlier comments as an argument against
range loops. Range loops are good and new code should use them!

However, I doubt the advantages of changing those old loops outweigh
cross-branch development costs right now. Others may disagree, and, if
they do, I would not object to a polished patch being committed.


Thank you,

Alex.


> 2017-03-12 16:31 GMT+01:00 Alex Rousskov:
>> On 03/12/2017 07:45 AM, khaled belhout wrote:
>>
>>> this patch modernize for loops using c++11 Range-based for loop
>>
>> Please use "const auto" where possible and avoid using "i" for naming
>> the current iteration object.
>>
>> I am curious why did you decide to change all these loops? How did you
>> select the loops to change? Normally, we avoid wide-spread polishing
>> touches to minimize the price developers working with older code have to
>> pay when porting back various bug fixes and features. I am trying to
>> decide whether the advantages of changing these loops outweigh those
>> costs in this case.


From eduard.bagdasaryan at measurement-factory.com  Mon Mar 13 14:25:48 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Mon, 13 Mar 2017 17:25:48 +0300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
Message-ID: <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>


On 14.02.2017 04:22, Amos Jeffries wrote:
> The problem is with proxy where the admin has configured large headers
> to be allowed, and receives a Via just under the 6KB liit. Our append
> pushing it over by even one byte would assert.

I am attaching a patch using SBuf instead of String for Via
accumulating, as you previously suggested. I am not
sure this is a much better solution since we have to do an
extra copy into SBuf.

 > The older bbuf code
 > cropping at 1KB was nasty but would not crash Squid.

I don't see the code preventing Squid from String overflow
there. The bbuf you are talking about was appended to via string
by strListAdd() without any checks...


Thanks,
Eduard.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170313/18fb7655/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-73-de-duplicate-hdr-via-t3.patch
Type: text/x-patch
Size: 16300 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170313/18fb7655/attachment.bin>

From heiler.bemerguy at cinbesa.com.br  Mon Mar 13 15:38:03 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Mon, 13 Mar 2017 12:38:03 -0300
Subject: [squid-dev] my kids are dying :( Squid Cache: Version 4.0.18
Message-ID: <12fc0310-1b76-57e5-22b7-b917f1d86ad1@cinbesa.com.br>


root at proxy:/var/log/squid# cat cache.log |grep assertion
2017/03/13 07:50:54 kid6| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 08:17:46 kid4| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 08:45:32 kid4| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 11:49:57 kid1| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 11:59:30 kid4| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 12:06:59 kid3| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 12:08:47 kid4| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 12:25:59 kid1| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"
2017/03/13 12:33:02 kid6| assertion failed: client_side_reply.cc:1167: 
"http->storeEntry()->objectLen() >= headers_sz"

Maybe this explains why I have a lot of "SIZE MISMATCH" messages while 
rebuilding rockstore cache?

-- 
Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


From rousskov at measurement-factory.com  Mon Mar 13 15:53:47 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Mon, 13 Mar 2017 09:53:47 -0600
Subject: [squid-dev] my kids are dying :( Squid Cache: Version 4.0.18
In-Reply-To: <12fc0310-1b76-57e5-22b7-b917f1d86ad1@cinbesa.com.br>
References: <12fc0310-1b76-57e5-22b7-b917f1d86ad1@cinbesa.com.br>
Message-ID: <672dd94b-24b2-b1f5-6671-6ac0e666a1c7@measurement-factory.com>

On 03/13/2017 09:38 AM, Heiler Bemerguy wrote:
> 
> root at proxy:/var/log/squid# cat cache.log |grep assertion
> 2017/03/13 07:50:54 kid6| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 08:17:46 kid4| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 08:45:32 kid4| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 11:49:57 kid1| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 11:59:30 kid4| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 12:06:59 kid3| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 12:08:47 kid4| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 12:25:59 kid1| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"
> 2017/03/13 12:33:02 kid6| assertion failed: client_side_reply.cc:1167:
> "http->storeEntry()->objectLen() >= headers_sz"

This old comment might still be useful if you decide to investigate this
assertion: http://bugs.squid-cache.org/show_bug.cgi?id=3369#c11


> Maybe this explains why I have a lot of "SIZE MISMATCH" messages while
> rebuilding rockstore cache?

Yes, assertions (and any other Squid restarts) may result in many size
mismatches, especially if Squid was busy at the time of a restart.

Alex.


From rousskov at measurement-factory.com  Mon Mar 13 16:24:16 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Mon, 13 Mar 2017 10:24:16 -0600
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
Message-ID: <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>

On 03/13/2017 08:25 AM, Eduard Bagdasaryan wrote:
> On 14.02.2017 04:22, Amos Jeffries wrote:
>> The problem is with proxy where the admin has configured large headers
>> to be allowed, and receives a Via just under the 6KB liit. Our append
>> pushing it over by even one byte would assert.

Yes, except s/6/64/ and no special configuration is probably needed:
reply_header_max_size is 64KB by default (and so is String::SizeMax_).


> I am attaching a patch using SBuf instead of String for Via
> accumulating, as you previously suggested. I am not
> sure this is a much better solution since we have to do an
> extra copy into SBuf.

Will this new patch assert in String::setBuffer(?) when the final Via
value exceeds String::SizeMax_ and putStr() is called with a 64KB+1 or
longer value string?


>> The older bbuf code
>> cropping at 1KB was nasty but would not crash Squid.

1KB cropping of the additional Via component before strListAdd() is
pretty much irrelevant to String overflows discussed here -- the size of
the added value is usually not the problem (the resulting total size
is). The reason strListAdd() is better than String::append() when
assembling the Via header is because the former throws and the latter
asserts.


> I don't see the code preventing Squid from String overflow
> there. The bbuf you are talking about was appended to via string
> by strListAdd() without any checks...

strListAdd() has Must(str->canGrowBy(itemSize)). This protection is far
from perfect or even good, but better than an assert.

See trunk r14552 for details.


Wondering how much more time will be wasted on what used to be a simple
and useful code de-duplication patch,

Alex.


From gary.wang at canonical.com  Tue Mar 14 14:44:33 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Tue, 14 Mar 2017 22:44:33 +0800
Subject: [squid-dev] To make squid works in snap world.
Message-ID: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>

Hi guys
    I'm sorry that I'm here so late. :(
    Generally, regarding the purpose of this MP.
    https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714

    I'd like to make squid snap works as a confined
<https://snapcraft.io/docs/reference/confinement>snap in snap world. So
that we can ship this snap in ubuntu-core.
    The reason why I need to add compile option to enable to customize IPC
prefix at compiling time is that in order to use shared memory in an app
which released as a snap package the only allowed file path will be like
this  <https://bugs.launchpad.net/snappy/+bug/1653955>(in the following
namespace)
 /dev/shm/sem.snap.@{SNAP_NAME}.*

    Hence in our case, the shared memory file path should be
    /dev/shm/sem.snap.squid-snap.{random-string}
    Otherwise, you will get the following error when running the squid in
snap world
    http://paste.ubuntu.com/24175840/

    @Amos
    About your suggestions, I could add "-n sem.snap.squid-snap" in the
command line to launch snap.
    However, If I do it like this, I will receive the following error.
    http://paste.ubuntu.com/24175793/
    I suppose it's caused by the '.' separator.

    @Alex
    About the DEFAULT_STATEDIR,
    ...
    DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
    ...
    According to the above share memory namespace in snap world, it
couldn't help on this either.

    Hopefully, I made it clear on this MP. :)
    If there is sth wrong on the usage of your suggestions or any other
compiler options I can use, please let me know.
    I'd like to hear your guys feedbacks.
    Thanks in advance.

-- 
Br
Gary.Wzl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170314/6de20844/attachment.html>

From rousskov at measurement-factory.com  Tue Mar 14 15:49:51 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 14 Mar 2017 09:49:51 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
Message-ID: <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>

On 03/14/2017 08:44 AM, Gary Wang wrote:
>     About the DEFAULT_STATEDIR,
>     ...
>     DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"    
>     ...
>     According to the above share memory namespace in snap world, it
> couldn't help on this either.

Here is how I [mis]interpret the above:

1. Squid has a DEFAULT_STATEDIR compile-time constant that provides the
right control knob you need but uses the wrong hard-coded value.

2. You are adding a compile-time variable DEFAULT_IPC_PREFIX that does
what DEFAULT_STATEDIR does but can be changed at ./configure time.

This raises an obvious question: Why not make DEFAULT_STATEDIR
configurable instead?  (If we do make it configurable, we may need to
renamed it to STATEDIR, IPCDIR, or something like that but that is a
separate and minor issue.)


AFAICT, DEFAULT_STATEDIR is also used for IPC communications in
src/ipc/Port.cc. Your patch does not change that code. This means that

* either you forgot to change src/ipc/Port.cc to honor the new
DEFAULT_IPC_PREFIX

* or src/ipc/Port.cc cannot use DEFAULT_IPC_PREFIX for some reason (and,
hence, DEFAULT_IPC_PREFIX is the wrong name because the parameter does
not apply to some of the IPC code).

Alex.



> === modified file 'configure.ac'
> --- configure.ac	2017-01-28 03:54:15 +0000
> +++ configure.ac	2017-03-02 03:51:46 +0000
> @@ -311,6 +311,15 @@
>  ])
>  AC_SUBST(DEFAULT_SWAP_DIR)
>  
> +DEFAULT_IPC_PREFIX=""
> +AC_ARG_WITH(ipcprefix,
> +  AS_HELP_STRING([--with-ipcprefix=NAME],
> +    [Default namespace prefix for shared memory object for ipc communication. 
> +     Default is empty string and the share memory object name will be specified by squid. ]), [
> +   DEFAULT_IPC_PREFIX="$withval"
> +])
> +AC_SUBST(DEFAULT_IPC_PREFIX)
> +
>  if test "$squid_cv_compiler" = "gcc"; then
>    GCCVER=`$CC -v 2>&1 | awk '$2 ==  "version" {print $3}'`
>    GCCVER2=`echo $GCCVER | awk '{print $1 * 100}'`
> 
> === modified file 'src/ipc/Makefile.am'
> --- src/ipc/Makefile.am	2017-01-01 00:16:45 +0000
> +++ src/ipc/Makefile.am	2017-03-02 03:51:46 +0000
> @@ -68,7 +68,7 @@
>  	mem/Segment.cc \
>  	mem/Segment.h
>  
> -DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> +DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\" -DDEFAULT_IPC_PREFIX=\"$(DEFAULT_IPC_PREFIX)\"
>  
>  install-data-local:
>  	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
> 
> === modified file 'src/ipc/mem/Segment.cc'
> --- src/ipc/mem/Segment.cc	2017-01-01 00:16:45 +0000
> +++ src/ipc/mem/Segment.cc	2017-03-02 03:51:46 +0000
> @@ -30,6 +30,8 @@
>  #include <unistd.h>
>  #endif
>  
> +#define DEFAULT_SQUID_IPC_PREFIX  "/" DEFAULT_IPC_PREFIX
> +
>  // test cases change this
>  const char *Ipc::Mem::Segment::BasePath = DEFAULT_STATEDIR;
>  
> @@ -229,9 +231,9 @@
>      if (nameIsPath) {
>          name.append(BasePath);
>          if (name[name.size()-1] != '/')
> -            name.append('/');
> +            name.append(DEFAULT_SQUID_IPC_PREFIX);
>      } else {
> -        name.append('/');
> +        name.append(DEFAULT_SQUID_IPC_PREFIX);
>          name.append(service_name.c_str());
>          name.append('-');
>      }


From heiler.bemerguy at cinbesa.com.br  Tue Mar 14 16:43:48 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Tue, 14 Mar 2017 13:43:48 -0300
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
Message-ID: <043c4245-ecbd-41c0-98f9-50fd10b84be9@cinbesa.com.br>


Em 07/03/2017 20:26, Alex Rousskov escreveu:
> These stuck disker responses probably explain why your disks do not
> receive any traffic. It is potentially important that both disker
> responses shown in your logs got stuck at approximately the same
> absolute time ~13 days ago (around 2017-02-22, give or take a day;
> subtract 1136930911 milliseconds from 15:53:05.255 in your Squid time
> zone to know the "exact" time when those stuck requests were queued).
>
> How can a disker response get stuck? Most likely, something unusual
> happened ~13 days ago. This could be a Squid bug and/or a kid restart.
>
> * Do all currently running Squid kid processes have about the same start
> time? [1]
>
> * Do you see ipcIo6.381049w7 or ipcIo6.153009r8 mentioned in any old
> non-debugging messages/warnings?

I searched the log files from those days, nothing unusual, "grep" 
returns nothing for ipcIo6.381049w7 or ipcIo6.153009r8.

On that day I couldn't verify if the kids were still with the same 
uptime, I've reformatted those /cache2 /cache3 and /cache4 partitions 
and started fresh with squid -z, but looking at the PS right now, I feel 
I can answer that question:

root at proxy:~# ps auxw |grep squid-
proxy    10225  0.0  0.0 13964224 21708 ?      S    Mar10   0:10 
(squid-coord-10) -s
proxy    10226  0.1 12.5 14737524 8268056 ?    S    Mar10   7:14 
(squid-disk-9) -s
proxy    10227  0.0 11.6 14737524 7686564 ?    S    Mar10   3:08 
(squid-disk-8) -s
proxy    10228  0.1 14.9 14737540 9863652 ?    S    Mar10   7:30 
(squid-disk-7) -s
proxy    18348  3.5 10.3 17157560 6859904 ?    S    Mar13  48:44 
(squid-6) -s
proxy    18604  2.8  9.0 16903948 5977728 ?    S    Mar13  37:28 
(squid-4) -s
proxy    18637  1.7 10.8 16836872 7163392 ?    R    Mar13  23:03 
(squid-1) -s
proxy    20831 15.3 10.3 17226652 6838372 ?    S    08:50  39:51 
(squid-2) -s
proxy    21189  5.3  2.8 16538064 1871788 ?    S    12:29   2:12 
(squid-5) -s
proxy    21214  3.8  1.5 16448972 1012720 ?    S    12:43   1:03 
(squid-3) -s

Diskers aren't dying but workers are, a lot.. with that "assertion 
failed: client_side_reply.cc:1167: http->storeEntry()->objectLen() >= 
headers_sz" thing.

Viewing DF and IOSTAT, it seems right now /cache3 isn't being accessed 
anymore. (I think it is the disk-8 above, look at the CPU time usage..)

Another weird thing: lots of timeouts and overflows are happening on 
non-active hours.. From 0h to 7h we have like 1-2% of the clients we 
usually have from 8h to 17h.. (commercial time)

2017/03/14 00:26:50 kid3| WARNING: abandoning 23 /cache4/rock I/Os after 
at least 7.00s timeout
2017/03/14 00:26:53 kid1| WARNING: abandoning 1 /cache4/rock I/Os after 
at least 7.00s timeout
2017/03/14 02:14:48 kid5| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo5.68259w9
2017/03/14 06:33:43 kid3| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo3.55919w9
2017/03/14 06:57:53 kid3| ERROR: worker I/O push queue for /cache4/rock 
overflow: ipcIo3.58130w9

This cache4 partition is where huge files would be stored:
maximum_object_size 4 GB
cache_dir rock /cache2 110000 min-size=0 max-size=65536 
max-swap-rate=150 swap-timeout=360
cache_dir rock /cache3 110000 min-size=65537 max-size=262144 
max-swap-rate=150 swap-timeout=380
cache_dir rock /cache4 110000 min-size=262145 max-swap-rate=150 
swap-timeout=500

Still don't know how /cache3 stopped and /cache4 is still active, even 
with all those warnings and errors.. :/

-- 
Atenciosamente / Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


From rousskov at measurement-factory.com  Tue Mar 14 19:41:33 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 14 Mar 2017 13:41:33 -0600
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <043c4245-ecbd-41c0-98f9-50fd10b84be9@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
 <043c4245-ecbd-41c0-98f9-50fd10b84be9@cinbesa.com.br>
Message-ID: <cf61b60c-9a29-3a50-901a-e8681ee9a0d8@measurement-factory.com>

On 03/14/2017 10:43 AM, Heiler Bemerguy wrote:
> Em 07/03/2017 20:26, Alex Rousskov escreveu:
>> How can a disker response get stuck? Most likely, something unusual
>> happened ~13 days ago. This could be a Squid bug and/or a kid restart.


> root at proxy:~# ps auxw |grep squid-
> proxy    10225  0.0  0.0 13964224 21708 ?      S    Mar10   0:10 (squid-coord-10) -s
> proxy    10226  0.1 12.5 14737524 8268056 ?    S    Mar10   7:14 (squid-disk-9) -s
> proxy    10227  0.0 11.6 14737524 7686564 ?    S    Mar10   3:08 (squid-disk-8) -s
> proxy    10228  0.1 14.9 14737540 9863652 ?    S    Mar10   7:30 (squid-disk-7) -s
> proxy    18348  3.5 10.3 17157560 6859904 ?    S    Mar13  48:44 (squid-6) -s
> proxy    18604  2.8  9.0 16903948 5977728 ?    S    Mar13  37:28 (squid-4) -s
> proxy    18637  1.7 10.8 16836872 7163392 ?    R    Mar13  23:03 (squid-1) -s
> proxy    20831 15.3 10.3 17226652 6838372 ?    S    08:50  39:51 (squid-2) -s
> proxy    21189  5.3  2.8 16538064 1871788 ?    S    12:29   2:12 (squid-5) -s
> proxy    21214  3.8  1.5 16448972 1012720 ?    S    12:43   1:03 (squid-3) -s

> Diskers aren't dying but workers are, a lot.. 

I suspect that worker deaths may cause SMP queues to get stuck, but I
have not validated that theory. We probably need to add more code to SMP
queues so that they can recover from untimely kid deaths.


> Another weird thing: lots of timeouts and overflows are happening on
> non-active hours.. From 0h to 7h we have like 1-2% of the clients we
> usually have from 8h to 17h.. (commercial time)

If a queue is stuck, you will see these errors and warnings as long as
there is some need for disk I/O. The volume is not important.


> Still don't know how /cache3 stopped and /cache4 is still active, even
> with all those warnings and errors.. :/

Do you expect Squid to function well in the presence of assertions and
to explain what went wrong while asserting? Unfortunately, we are very
far from that kind of robustness and self-diagnosis nirvana!

I have not studied your error messages in detail, but it is possible
that there are not-yet-stuck queues that feed cache4 while all cache3
queues are stuck. There is one SMP queue for each worker:disker pair.

Alex.


From gary.wang at canonical.com  Wed Mar 15 03:52:07 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Wed, 15 Mar 2017 11:52:07 +0800
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
Message-ID: <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>

Thanks Alex for your quick response.


On Tue, Mar 14, 2017 at 11:49 PM, Alex Rousskov <
rousskov at measurement-factory.com> wrote:

> On 03/14/2017 08:44 AM, Gary Wang wrote:
> >     About the DEFAULT_STATEDIR,
> >     ...
> >     DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> >     ...
> >     According to the above share memory namespace in snap world, it
> > couldn't help on this either.
>
> Here is how I [mis]interpret the above:
>
> 1. Squid has a DEFAULT_STATEDIR compile-time constant that provides the
> right control knob you need but uses the wrong hard-coded value.
>
> 2. You are adding a compile-time variable DEFAULT_IPC_PREFIX that does
> what DEFAULT_STATEDIR does but can be changed at ./configure time.
>
> This raises an obvious question: Why not make DEFAULT_STATEDIR
> configurable instead?  (If we do make it configurable, we may need to
> renamed it to STATEDIR, IPCDIR, or something like that but that is a
> separate and minor issue.)
>
>    A: Actually, DEFAULT_IPC_PREFIX only changes the shared memory file name
       not the file path. So the usage of these two options are different.
       Meanwhile, DEFAULT_STATEDIR only helps the case that the segment
name is path.
       It can't help this situation where segment name is not path e.g.
 shared memory is created
       in /dev/shm folder on Ubuntu.

http://bazaar.launchpad.net/~gary-wzl77/squid/ipc_prefix/view/head:/src/ipc/mem/Segment.cc#L229

       Another concern is that even though we make DEFAULT_STATEDIR
configurable instead of introducing new option, STATEDIR, IPCDIR is not
suitable as
end-user might specify the dir path for these options however the purpose
of DEFAULT_IPC_PREFIX
is only add prefix to shared memory file name

>
> AFAICT, DEFAULT_STATEDIR is also used for IPC communications in
> src/ipc/Port.cc. Your patch does not change that code. This means that
>
> * either you forgot to change src/ipc/Port.cc to honor the new
> DEFAULT_IPC_PREFIX
>
   A: I will change src/ipc/Port.cc in the next commit once we reach an
agreement
       on the usage of compiler option.


>
> * or src/ipc/Port.cc cannot use DEFAULT_IPC_PREFIX for some reason (and,
> hence, DEFAULT_IPC_PREFIX is the wrong name because the parameter does
> not apply to some of the IPC code).
>
> Alex.
>
>
>
> > === modified file 'configure.ac'
> > --- configure.ac      2017-01-28 03:54:15 +0000
> > +++ configure.ac      2017-03-02 03:51:46 +0000
> > @@ -311,6 +311,15 @@
> >  ])
> >  AC_SUBST(DEFAULT_SWAP_DIR)
> >
> > +DEFAULT_IPC_PREFIX=""
> > +AC_ARG_WITH(ipcprefix,
> > +  AS_HELP_STRING([--with-ipcprefix=NAME],
> > +    [Default namespace prefix for shared memory object for ipc
> communication.
> > +     Default is empty string and the share memory object name will be
> specified by squid. ]), [
> > +   DEFAULT_IPC_PREFIX="$withval"
> > +])
> > +AC_SUBST(DEFAULT_IPC_PREFIX)
> > +
> >  if test "$squid_cv_compiler" = "gcc"; then
> >    GCCVER=`$CC -v 2>&1 | awk '$2 ==  "version" {print $3}'`
> >    GCCVER2=`echo $GCCVER | awk '{print $1 * 100}'`
> >
> > === modified file 'src/ipc/Makefile.am'
> > --- src/ipc/Makefile.am       2017-01-01 00:16:45 +0000
> > +++ src/ipc/Makefile.am       2017-03-02 03:51:46 +0000
> > @@ -68,7 +68,7 @@
> >       mem/Segment.cc \
> >       mem/Segment.h
> >
> > -DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> > +DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> -DDEFAULT_IPC_PREFIX=\"$(DEFAULT_IPC_PREFIX)\"
> >
> >  install-data-local:
> >       $(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
> >
> > === modified file 'src/ipc/mem/Segment.cc'
> > --- src/ipc/mem/Segment.cc    2017-01-01 00:16:45 +0000
> > +++ src/ipc/mem/Segment.cc    2017-03-02 03:51:46 +0000
> > @@ -30,6 +30,8 @@
> >  #include <unistd.h>
> >  #endif
> >
> > +#define DEFAULT_SQUID_IPC_PREFIX  "/" DEFAULT_IPC_PREFIX
> > +
> >  // test cases change this
> >  const char *Ipc::Mem::Segment::BasePath = DEFAULT_STATEDIR;
> >
> > @@ -229,9 +231,9 @@
> >      if (nameIsPath) {
> >          name.append(BasePath);
> >          if (name[name.size()-1] != '/')
> > -            name.append('/');
> > +            name.append(DEFAULT_SQUID_IPC_PREFIX);
> >      } else {
> > -        name.append('/');
> > +        name.append(DEFAULT_SQUID_IPC_PREFIX);
> >          name.append(service_name.c_str());
> >          name.append('-');
> >      }
>
>


-- 
Br
Gary.Wzl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170315/594b3944/attachment-0001.html>

From squid3 at treenet.co.nz  Wed Mar 15 04:42:50 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 15 Mar 2017 17:42:50 +1300
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
Message-ID: <7a1a7db4-9822-1b86-3272-7fa4e8780e8a@treenet.co.nz>

On 15/03/2017 3:44 a.m., Gary Wang wrote:
> Hi guys
>     I'm sorry that I'm here so late. :(
>     Generally, regarding the purpose of this MP.
>     https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714
> 
>     I'd like to make squid snap works as a confined
> <https://snapcraft.io/docs/reference/confinement>snap in snap world. So
> that we can ship this snap in ubuntu-core.
>     The reason why I need to add compile option to enable to customize IPC
> prefix at compiling time is that in order to use shared memory in an app
> which released as a snap package the only allowed file path will be like
> this  <https://bugs.launchpad.net/snappy/+bug/1653955>(in the following
> namespace)
>  /dev/shm/sem.snap.@{SNAP_NAME}.*
> 
>     Hence in our case, the shared memory file path should be
>     /dev/shm/sem.snap.squid-snap.{random-string}
>     Otherwise, you will get the following error when running the squid in
> snap world
>     http://paste.ubuntu.com/24175840/
> 

Having looked at this a lot more now I think the patch is based on an
incorrect assumption.

You see Squid complaining of /dev/shm Permissions error. Other people
getting that error in snap world were using semaphores and fixed it by
using snap /dev/shm/sem.* names. So you fixed the /dev/shm naming to
match snap semaphore naming.

... but Squid does *not* use semaphores.

Simply making Squid pretend to be doing semaphores to bypass the
security is not the right way forward.

The real question is why the permissions error is occuring?

What in snap world is refusing permission?

Amos


From rousskov at measurement-factory.com  Wed Mar 15 04:48:12 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 14 Mar 2017 22:48:12 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
Message-ID: <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>

On 03/14/2017 09:52 PM, Gary Wang wrote:
> On Tue, Mar 14, 2017 at 11:49 PM, Alex Rousskov wrote:
>>     On 03/14/2017 08:44 AM, Gary Wang wrote:
>>     >     About the DEFAULT_STATEDIR,
>>     >     ...
>>     >     DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
>>     >     ...
>>     >     According to the above share memory namespace in snap world, it
>>     > couldn't help on this either.

>>     Why not make DEFAULT_STATEDIR configurable instead?

>    A: Actually, DEFAULT_IPC_PREFIX only changes the shared memory file name
>        not the file path. So the usage of these two options are different. 

You are describing your implementation. I am asking why not support the
same functionality using a _different_ general implementation that
avoids adding a yet another option that controls IPC-related file names.
You added an option that changes the "middle" part of the full file
name. Why not make the existing constant that controls the "prefix" part
of the full file name configurable instead?

I understand that the two approaches result in [slightly] different
code, but if a single option can accomplish the desired outcome and
supports more use cases, then using that single option may be a better
approach.


> DEFAULT_STATEDIR only helps the case that the segment name is path.

Can the updated/renamed DEFAULT_STATEDIR be interpreted as

 <path> / <filename prefix>

where the first component is used if and only when nameIsPath is true
and the second component is optional? AFAICT, such an implementation
would cover the already supported use cases and your new use case.

For snap environments, the option could be set to something like:

  $(localstatedir)/run/squid/sem.snap.squid.



> Another concern is that even though we make DEFAULT_STATEDIR
> configurable instead of introducing new option, STATEDIR, IPCDIR is not
> suitable as end-user might specify the dir path for these options however the
> purpose of DEFAULT_IPC_PREFIX is only add prefix to shared memory file name

I am not sure I understand the above concern, but perhaps my suggestion
to ignore the path component (as needed) would address it?


>>     AFAICT, DEFAULT_STATEDIR is also used for IPC communications in
>>     src/ipc/Port.cc. Your patch does not change that code. This means that
>> 
>>     * either you forgot to change src/ipc/Port.cc to honor the new
>>     DEFAULT_IPC_PREFIX

> A: I will change src/ipc/Port.cc in the next commit once we reach an
> agreement on the usage of compiler option.

For Squid to work in a snap world, will you need the same
sem.snap.@{SNAP_NAME}. prefix for Unix Domain Sockets as for shared
memory segments?

* If yes, then using a single option for both ipc/mem/Segment.cc and
ipc/Port.cc may work.

* Otherwise, we would have to add two different options, one for shared
memory segment names and one for UDS names.


Cheers,

Alex.


>     * or src/ipc/Port.cc cannot use DEFAULT_IPC_PREFIX for some reason (and,
>     hence, DEFAULT_IPC_PREFIX is the wrong name because the parameter does
>     not apply to some of the IPC code).
> 
>     Alex.
> 
> 
> 
>     > === modified file 'configure.ac <http://configure.ac>'
>     > --- configure.ac <http://configure.ac>      2017-01-28 03:54:15 +0000
>     > +++ configure.ac <http://configure.ac>      2017-03-02 03:51:46 +0000
>     > @@ -311,6 +311,15 @@
>     >  ])
>     >  AC_SUBST(DEFAULT_SWAP_DIR)
>     >
>     > +DEFAULT_IPC_PREFIX=""
>     > +AC_ARG_WITH(ipcprefix,
>     > +  AS_HELP_STRING([--with-ipcprefix=NAME],
>     > +    [Default namespace prefix for shared memory object for ipc
>     communication.
>     > +     Default is empty string and the share memory object name
>     will be specified by squid. ]), [
>     > +   DEFAULT_IPC_PREFIX="$withval"
>     > +])
>     > +AC_SUBST(DEFAULT_IPC_PREFIX)
>     > +
>     >  if test "$squid_cv_compiler" = "gcc"; then
>     >    GCCVER=`$CC -v 2>&1 | awk '$2 ==  "version" {print $3}'`
>     >    GCCVER2=`echo $GCCVER | awk '{print $1 * 100}'`
>     >
>     > === modified file 'src/ipc/Makefile.am'
>     > --- src/ipc/Makefile.am       2017-01-01 00:16:45 +0000
>     > +++ src/ipc/Makefile.am       2017-03-02 03:51:46 +0000
>     > @@ -68,7 +68,7 @@
>     >       mem/Segment.cc \
>     >       mem/Segment.h
>     >
>     > -DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
>     > +DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
>     -DDEFAULT_IPC_PREFIX=\"$(DEFAULT_IPC_PREFIX)\"
>     >
>     >  install-data-local:
>     >       $(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
>     >
>     > === modified file 'src/ipc/mem/Segment.cc'
>     > --- src/ipc/mem/Segment.cc    2017-01-01 00:16:45 +0000
>     > +++ src/ipc/mem/Segment.cc    2017-03-02 03:51:46 +0000
>     > @@ -30,6 +30,8 @@
>     >  #include <unistd.h>
>     >  #endif
>     >
>     > +#define DEFAULT_SQUID_IPC_PREFIX  "/" DEFAULT_IPC_PREFIX
>     > +
>     >  // test cases change this
>     >  const char *Ipc::Mem::Segment::BasePath = DEFAULT_STATEDIR;
>     >
>     > @@ -229,9 +231,9 @@
>     >      if (nameIsPath) {
>     >          name.append(BasePath);
>     >          if (name[name.size()-1] != '/')
>     > -            name.append('/');
>     > +            name.append(DEFAULT_SQUID_IPC_PREFIX);
>     >      } else {
>     > -        name.append('/');
>     > +        name.append(DEFAULT_SQUID_IPC_PREFIX);
>     >          name.append(service_name.c_str());
>     >          name.append('-');
>     >      }



From eliezer at ngtech.co.il  Wed Mar 15 08:31:12 2017
From: eliezer at ngtech.co.il (Eliezer  Croitoru)
Date: Wed, 15 Mar 2017 10:31:12 +0200
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <7a1a7db4-9822-1b86-3272-7fa4e8780e8a@treenet.co.nz>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <7a1a7db4-9822-1b86-3272-7fa4e8780e8a@treenet.co.nz>
Message-ID: <165501d29d66$815fcd10$841f6730$@ngtech.co.il>

+1

How can I reproduce he error?
Is there a bug report open for this issue?

Thanks,
Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: eliezer at ngtech.co.il


-----Original Message-----
From: squid-dev [mailto:squid-dev-bounces at lists.squid-cache.org] On Behalf Of Amos Jeffries
Sent: Wednesday, March 15, 2017 6:43 AM
To: squid-dev at lists.squid-cache.org
Subject: Re: [squid-dev] To make squid works in snap world.

On 15/03/2017 3:44 a.m., Gary Wang wrote:
> Hi guys
>     I'm sorry that I'm here so late. :(
>     Generally, regarding the purpose of this MP.
>     
> https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714
> 
>     I'd like to make squid snap works as a confined 
> <https://snapcraft.io/docs/reference/confinement>snap in snap world. 
> So that we can ship this snap in ubuntu-core.
>     The reason why I need to add compile option to enable to customize 
> IPC prefix at compiling time is that in order to use shared memory in 
> an app which released as a snap package the only allowed file path 
> will be like this  <https://bugs.launchpad.net/snappy/+bug/1653955>(in 
> the following
> namespace)
>  /dev/shm/sem.snap.@{SNAP_NAME}.*
> 
>     Hence in our case, the shared memory file path should be
>     /dev/shm/sem.snap.squid-snap.{random-string}
>     Otherwise, you will get the following error when running the squid 
> in snap world
>     http://paste.ubuntu.com/24175840/
> 

Having looked at this a lot more now I think the patch is based on an incorrect assumption.

You see Squid complaining of /dev/shm Permissions error. Other people getting that error in snap world were using semaphores and fixed it by using snap /dev/shm/sem.* names. So you fixed the /dev/shm naming to match snap semaphore naming.

... but Squid does *not* use semaphores.

Simply making Squid pretend to be doing semaphores to bypass the security is not the right way forward.

The real question is why the permissions error is occuring?

What in snap world is refusing permission?

Amos

_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev


From gary.wang at canonical.com  Wed Mar 15 09:24:13 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Wed, 15 Mar 2017 17:24:13 +0800
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
Message-ID: <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>

Regarding the confinement of usage of shared memory in snap world,
       Please take a look at the bug
       https://bugs.launchpad.net/snappy/+bug/1653955
       And Jamie's reply can be fuond in snapcraft maillist
       https://www.mail-archive.com/snapcraft at lists.snapcraft.io/
msg02465.html

"sem_open() is https://bugs.launchpad.net/snappy/+bug/1653955 and
<https://bugs.launchpad.net/snappy/+bug/1653955%C2%A0and> snapd 2.21

added support to allow /{dev,run}/shm/sem.snap.@{SNAP_NAME}.*. This is

sufficient to make use of sem_open() possible."

On Wed, Mar 15, 2017 at 12:48 PM, Alex Rousskov <
rousskov at measurement-factory.com> wrote:

> On 03/14/2017 09:52 PM, Gary Wang wrote:
> > On Tue, Mar 14, 2017 at 11:49 PM, Alex Rousskov wrote:
> >>     On 03/14/2017 08:44 AM, Gary Wang wrote:
> >>     >     About the DEFAULT_STATEDIR,
> >>     >     ...
> >>     >     DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> >>     >     ...
> >>     >     According to the above share memory namespace in snap world,
> it
> >>     > couldn't help on this either.
>
> >>     Why not make DEFAULT_STATEDIR configurable instead?
>
> >    A: Actually, DEFAULT_IPC_PREFIX only changes the shared memory file
> name
> >        not the file path. So the usage of these two options are
> different.
>
> You are describing your implementation. I am asking why not support the
> same functionality using a _different_ general implementation that
> avoids adding a yet another option that controls IPC-related file names.
> You added an option that changes the "middle" part of the full file
> name. Why not make the existing constant that controls the "prefix" part
> of the full file name configurable instead?
>
> I understand that the two approaches result in [slightly] different
> code, but if a single option can accomplish the desired outcome and
> supports more use cases, then using that single option may be a better
> approach.
>
>
> > DEFAULT_STATEDIR only helps the case that the segment name is path.
>
> Can the updated/renamed DEFAULT_STATEDIR be interpreted as
>
>  <path> / <filename prefix>
>
> where the first component is used if and only when nameIsPath is true
> and the second component is optional? AFAICT, such an implementation
> would cover the already supported use cases and your new use case.
>
> For snap environments, the option could be set to something like:
>
>   $(localstatedir)/run/squid/sem.snap.squid.
>
>   A: I understood your point that a single option can keep clean code base.
      But interpreting  DEFAULT_STATEDIR  as <path> / <filename prefix>
      is more like a trick. Wihout snap-related knowledge, normal developer
will
      treat the the option as an absolute path instead of combination
      of <path>/<filename prefix>

      I can make a change to fix it based on your comment.
      But please double-check if it's the right implementation.

      Meanwhile, according to shared memory file namespace
           /dev/shm/sem.snap.@{SNAP_NAME}.*
      If we use the option in the following way
          $(localstatedir)/run/squid/sem.snap.squid,
      which means SNAP_NAME would be "squid",
     I have a quick look at ubuntu store and found that "squid" snap name
is registered by
     other developers. To avoid name disputes, there're two options
     1. change
          $(localstatedir)/run/squid/sem.snap.squid.
         to
          $(localstatedir)/run/squid/sem.snap.squid-snap.
     2. make STATEDIR configurable so developer can customize it.
     I perfer the latter one.

>
> > Another concern is that even though we make DEFAULT_STATEDIR
> > configurable instead of introducing new option, STATEDIR, IPCDIR is not
> > suitable as end-user might specify the dir path for these options
> however the
> > purpose of DEFAULT_IPC_PREFIX is only add prefix to shared memory file
> name
>
> I am not sure I understand the above concern, but perhaps my suggestion
> to ignore the path component (as needed) would address it?
>
>
> >>     AFAICT, DEFAULT_STATEDIR is also used for IPC communications in
> >>     src/ipc/Port.cc. Your patch does not change that code. This means
> that
> >>
> >>     * either you forgot to change src/ipc/Port.cc to honor the new
> >>     DEFAULT_IPC_PREFIX
>
> > A: I will change src/ipc/Port.cc in the next commit once we reach an
> > agreement on the usage of compiler option.
>
> For Squid to work in a snap world, will you need the same
> sem.snap.@{SNAP_NAME}. prefix for Unix Domain Sockets as for shared
> memory segments?
>
> * If yes, then using a single option for both ipc/mem/Segment.cc and
> ipc/Port.cc may work.
>
> * Otherwise, we would have to add two different options, one for shared
> memory segment names and one for UDS names.
>
>    A: No, I don't need the same prefix for UDS names. As you said, we might
       need two different options.

>
> Cheers,
>
> Alex.
>
>
> >     * or src/ipc/Port.cc cannot use DEFAULT_IPC_PREFIX for some reason
> (and,
> >     hence, DEFAULT_IPC_PREFIX is the wrong name because the parameter
> does
> >     not apply to some of the IPC code).
> >
> >     Alex.
> >
> >
> >
> >     > === modified file 'configure.ac <http://configure.ac>'
> >     > --- configure.ac <http://configure.ac>      2017-01-28 03:54:15
> +0000
> >     > +++ configure.ac <http://configure.ac>      2017-03-02 03:51:46
> +0000
> >     > @@ -311,6 +311,15 @@
> >     >  ])
> >     >  AC_SUBST(DEFAULT_SWAP_DIR)
> >     >
> >     > +DEFAULT_IPC_PREFIX=""
> >     > +AC_ARG_WITH(ipcprefix,
> >     > +  AS_HELP_STRING([--with-ipcprefix=NAME],
> >     > +    [Default namespace prefix for shared memory object for ipc
> >     communication.
> >     > +     Default is empty string and the share memory object name
> >     will be specified by squid. ]), [
> >     > +   DEFAULT_IPC_PREFIX="$withval"
> >     > +])
> >     > +AC_SUBST(DEFAULT_IPC_PREFIX)
> >     > +
> >     >  if test "$squid_cv_compiler" = "gcc"; then
> >     >    GCCVER=`$CC -v 2>&1 | awk '$2 ==  "version" {print $3}'`
> >     >    GCCVER2=`echo $GCCVER | awk '{print $1 * 100}'`
> >     >
> >     > === modified file 'src/ipc/Makefile.am'
> >     > --- src/ipc/Makefile.am       2017-01-01 00:16:45 +0000
> >     > +++ src/ipc/Makefile.am       2017-03-02 03:51:46 +0000
> >     > @@ -68,7 +68,7 @@
> >     >       mem/Segment.cc \
> >     >       mem/Segment.h
> >     >
> >     > -DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> >     > +DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
> >     -DDEFAULT_IPC_PREFIX=\"$(DEFAULT_IPC_PREFIX)\"
> >     >
> >     >  install-data-local:
> >     >       $(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
> >     >
> >     > === modified file 'src/ipc/mem/Segment.cc'
> >     > --- src/ipc/mem/Segment.cc    2017-01-01 00:16:45 +0000
> >     > +++ src/ipc/mem/Segment.cc    2017-03-02 03:51:46 +0000
> >     > @@ -30,6 +30,8 @@
> >     >  #include <unistd.h>
> >     >  #endif
> >     >
> >     > +#define DEFAULT_SQUID_IPC_PREFIX  "/" DEFAULT_IPC_PREFIX
> >     > +
> >     >  // test cases change this
> >     >  const char *Ipc::Mem::Segment::BasePath = DEFAULT_STATEDIR;
> >     >
> >     > @@ -229,9 +231,9 @@
> >     >      if (nameIsPath) {
> >     >          name.append(BasePath);
> >     >          if (name[name.size()-1] != '/')
> >     > -            name.append('/');
> >     > +            name.append(DEFAULT_SQUID_IPC_PREFIX);
> >     >      } else {
> >     > -        name.append('/');
> >     > +        name.append(DEFAULT_SQUID_IPC_PREFIX);
> >     >          name.append(service_name.c_str());
> >     >          name.append('-');
> >     >      }
>
>
>


-- 
Br
Gary.Wzl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170315/7fef1db5/attachment-0001.html>

From khaled.belhout at gmail.com  Wed Mar 15 10:43:28 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Wed, 15 Mar 2017 11:43:28 +0100
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
Message-ID: <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>

hello Alex
I fixed the naming of the current iteration object, limited the
changes to "src/adaptation" sub tree and replaced NULL macro by
nullptr keyword.



2017-03-13 14:45 GMT+01:00 Alex Rousskov <rousskov at measurement-factory.com>:
> On 03/12/2017 08:42 PM, khaled belhout wrote:
>> I used clang-tidy tool to modernize all these loops.
>> http://clang.llvm.org/extra/clang-tidy/
>
> It looks like that tool is not ready for fully automated use. If you
> want to fix its results, please use "const auto" where possible and
> avoid using "i" for naming the current iteration object.
>
>
>> we can take the advantage of the tool by selecting the changes that
>> make code more readable understandable and maintainable.
>
> Please do not misinterpret my earlier comments as an argument against
> range loops. Range loops are good and new code should use them!
>
> However, I doubt the advantages of changing those old loops outweigh
> cross-branch development costs right now. Others may disagree, and, if
> they do, I would not object to a polished patch being committed.
>
>
> Thank you,
>
> Alex.
>
>
>> 2017-03-12 16:31 GMT+01:00 Alex Rousskov:
>>> On 03/12/2017 07:45 AM, khaled belhout wrote:
>>>
>>>> this patch modernize for loops using c++11 Range-based for loop
>>>
>>> Please use "const auto" where possible and avoid using "i" for naming
>>> the current iteration object.
>>>
>>> I am curious why did you decide to change all these loops? How did you
>>> select the loops to change? Normally, we avoid wide-spread polishing
>>> touches to minimize the price developers working with older code have to
>>> pay when porting back various bug fixes and features. I am trying to
>>> decide whether the advantages of changing these loops outweigh those
>>> costs in this case.
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: adaptation_range_for_and_nulptr_auto.patch
Type: text/x-patch
Size: 79201 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170315/1bb0465a/attachment-0001.bin>

From amajer at suse.de  Wed Mar 15 12:57:14 2017
From: amajer at suse.de (Adam Majer)
Date: Wed, 15 Mar 2017 13:57:14 +0100
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
Message-ID: <8712fb53-0105-a207-ea09-1590a0e50e38@suse.de>

On 03/15/2017 11:43 AM, khaled belhout wrote:
> hello Alex
> I fixed the naming of the current iteration object, limited the
> changes to "src/adaptation" sub tree and replaced NULL macro by
> nullptr keyword.

I don't want to be too critical about this, but these types of changes
do not add anything. They actually make the code more difficult to maintain.

For example,

-    if (HttpRequest *r = dynamic_cast<HttpRequest*>(theMsg)) {
+    if (auto *r = dynamic_cast<HttpRequest*>(theMsg)) {

Nothing is gained here. On the contrary, it is not immediately known to
the reader what this `auto` type actually is until they look to the
right. So what are we saving?


-Adaptation::Message::Message(): header(NULL)
+Adaptation::Message::Message(): header(nullptr)

NULL and nullptr are the same thing for these purposes. Actually, the
most likely implementation of NULL macro in C++11 is just

#define NULL nullptr

I have no problem in using either, but changing this just for the same
of changing it....

Another example,

     typedef Master::Extensions::const_iterator MECI;
-    for (MECI i = master.extensions.begin(); i !=
master.extensions.end(); ++i) {
-        if (name == i->first)
-            return Area(i->second.data(), i->second.size());
+    for (const auto & extension : master.extensions) {
+        if (name == extension.first)
+            return Area(extension.second.data(), extension.second.size());
     }

In this example, you've not even removed MECI typedef. But basically the
point here is this makes is even more complicated to know the type you
are referring to. The compiler knows, but the developer? I have no idea.
master.extentions can be anything with iterator.

If you really want to fix this, avoid `auto` in code people actually
want to maintain. The only place it is actually useful is in heavily
templated code and that is the main reason it was introduced. It was not
introduced so you can avoid typing the name of POS (plain old
structures) or types or classes.

This is where you *may* want to use auto, like

std::vector<std::pair<int, std::unique<Something>>> my_awesome_vector;
for (const auto &p : my_awesome_vector) {
    ....
}

But if you have,

std::vector<Something> some_vector;
for (const Something &thing : some_vector) {
   ...
}

because using

for (const auto &thing : some_vector) {
   ...
}

doesn't really save you anything, it just makes it worse.

These are just my personal opinions. Others may disagree.

- Adam


From squid3 at treenet.co.nz  Wed Mar 15 14:17:48 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 03:17:48 +1300
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
Message-ID: <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>

On 15/03/2017 11:43 p.m., khaled belhout wrote:
> hello Alex
> I fixed the naming of the current iteration object, limited the
> changes to "src/adaptation" sub tree and replaced NULL macro by
> nullptr keyword.
> 

Hi Khaled,

Thanks for the proposals and especially for identifying a tool to detect
the changes automatically.

I would *love* to have all this change away in the past, but I am
(reluctantly) in agreement with Alex regarding these patches.


For several reasons (in no particular order):

2) We have had a lot of discussions about large cleanup like this. While
I am personally in favour of them, there are some very good reasons -
specifically around backporting as Alex metioned.

The current compromise we have in the team is to include this type of
cleanup in all patches - code which gets changed for other reasons gets
polished as well. And in a somewhat slow drip of maintenance changes
done for the C++ conversion which is ongoing since 3.0.

That said, there are points in the lifecycle which are more friendly to
bg changes. The next one I expect these C++11 changes can even have a
chance is after 3.5 ceases to be a supported version. Until that
milestone is reached we have a lot of people relying on 3.5 backports
being reliable and older compilers building the code. Yes that does
cramp the C++11 conversion a bit.


1) Size versus content of the patches.

In a large codebase like Squid there are a lot of hidden dependencies
and logic nobody has read for decades.

In these conditions it is better to isolate each specific polishing task
in its own patch. That way the big changes have a singular, explicit and
clear effect on the code behaviour which can be described in the merge
comment. The audit for large patches is already mind-numbing and not
having to check multiple effects at a time helps a LOT.


3) Not matching our actual needs.

We already have a pretty good idea of what we want the cleanup up code
to look like. It is just the above situations get in the way. The
changes this tool is doing do not go far enough to be what we consider
clean code. There are extra actions which appear to still be manual and
necessary to get that end product.

For example;  running sed -e 's/NULL/nullptr/g' is easy, and the reverse
can be done on 3.5 patches. If that were what we wanted the v4+ code to
look like it would have happened already. We want to do better.

For code to be accepted into Squid nowdays NULL is sometimes replaced
with nullptr, but usually in boolean conditions involving a pointer (or
Pointer object) the equivalence should be dropped entirely.
 if (x == NULL) becomes if (!x), etc.

We have a history of getting constructor initialization lists overly
verbose or incomplete, sometimes both at once. So with C++11 I am also
working towards default initialization for classes which adds another
complication for NULL removal.  That cleanup change means moving the
location of the nullptr (and other trivial types) to the .h definition
and then deciding whether the constructor can be dropped entirey, or
remains as inline (or not) and/or with much shortened initializer list.


* There are some things like HERE macro which are obsolete and should be
simply erased.

Although again with HERE a manual analysis of each code block is needed
to make sure they still make sense. Most can be dropped but certain
messages need changing to use MYNAME instead. And many debugs() texts
predate even the HERE macro itself and need string edits to remove
explicit nameing of a function (which might not be the function/method's
current name! yuck).

... and some other projects cleaning up the code style as much as we can
and removing outdated C object types.


So we have the current policy of when code is touched it gets polished
up according to all the waiting 'cleanup' requirements.

Plus an additional stream of small targeted cleanup patches is going in
all the time in a way that can be audited relatively quickly (if
necessary) and issues identified quickly if there are any.
 You will mostly see these by me at present and mentioning "Cleanup:" or
C++11 in the patch descriptions.



Getting back to your patch submission specifically:

Theoretically range-for loops should allow multi-threaded CPU to run
those loops a bit faster. If that can be demonstrated using a tool like
polygraph you have a good argument for a patch containing that change to
go in as a pure performance change.

Without that evidence or if testing shows no speed gain because compiler
optimization is good - then it is just a very large polish patch and we
have to treat it as such with a "sorry, not now".


Amos


From rousskov at measurement-factory.com  Wed Mar 15 14:32:16 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 08:32:16 -0600
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
Message-ID: <c29d384c-185b-15c5-b1a9-168cb3b21fc7@measurement-factory.com>

On 03/15/2017 04:43 AM, khaled belhout wrote:

> I fixed the naming of the current iteration object, 

Thank you. FWIW, it is not necessary to add _ptr and similar suffixes to
object names when the fact that it is a pointer (or a reference, or a
copy) is unimportant.


> limited the changes to "src/adaptation" sub tree

Why?!


> and replaced NULL macro by nullptr keyword.

You should not have:

* Due to the same porting overhead concerns that I was trying to explain
earlier, we only replace NULLs when the code needs to be changed for
other reasons.

* Mixing benign NULL and potentially deadly (for performance or
const-correctness) auto changes complicates review.


BTW, I am not sure, but I believe the updated patch still seems to be
missing "const" in at least one "auto" conversion case. I did not check
all of them because of the NULL replacement noise.


In summary: I still do not think these changes are desirable (even in
their polished variant), but if others overrule me on that, my comments
about the quality of the current changes still apply.


Thank you,

Alex.


> 2017-03-13 14:45 GMT+01:00 Alex Rousskov <rousskov at measurement-factory.com>:
>> On 03/12/2017 08:42 PM, khaled belhout wrote:
>>> I used clang-tidy tool to modernize all these loops.
>>> http://clang.llvm.org/extra/clang-tidy/
>>
>> It looks like that tool is not ready for fully automated use. If you
>> want to fix its results, please use "const auto" where possible and
>> avoid using "i" for naming the current iteration object.
>>
>>
>>> we can take the advantage of the tool by selecting the changes that
>>> make code more readable understandable and maintainable.
>>
>> Please do not misinterpret my earlier comments as an argument against
>> range loops. Range loops are good and new code should use them!
>>
>> However, I doubt the advantages of changing those old loops outweigh
>> cross-branch development costs right now. Others may disagree, and, if
>> they do, I would not object to a polished patch being committed.
>>
>>
>> Thank you,
>>
>> Alex.
>>
>>
>>> 2017-03-12 16:31 GMT+01:00 Alex Rousskov:
>>>> On 03/12/2017 07:45 AM, khaled belhout wrote:
>>>>
>>>>> this patch modernize for loops using c++11 Range-based for loop
>>>>
>>>> Please use "const auto" where possible and avoid using "i" for naming
>>>> the current iteration object.
>>>>
>>>> I am curious why did you decide to change all these loops? How did you
>>>> select the loops to change? Normally, we avoid wide-spread polishing
>>>> touches to minimize the price developers working with older code have to
>>>> pay when porting back various bug fixes and features. I am trying to
>>>> decide whether the advantages of changing these loops outweigh those
>>>> costs in this case.
>>


From rousskov at measurement-factory.com  Wed Mar 15 14:40:14 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 08:40:14 -0600
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
Message-ID: <e9fa0565-0fb4-73e2-81d6-0edb5e2e31df@measurement-factory.com>

On 03/15/2017 08:17 AM, Amos Jeffries wrote:

> That said, there are points in the lifecycle which are more friendly to
> bg changes. The next one I expect these C++11 changes can even have a
> chance is after 3.5 ceases to be a supported version.

I agree, especially if "supported" includes "we still have to do a lot
of backporting even if the Squid Project itself no longer does that".


> Theoretically range-for loops should allow multi-threaded CPU to run
> those loops a bit faster. If that can be demonstrated using a tool like
> polygraph you have a good argument for a patch containing that change to
> go in as a pure performance change.

I may agree with the second/non-theoretical part: If changing a loop
makes Squid noticeably faster, then it is a valid reason for the change.
IIRC, some of the changes belong to the non-critical performance paths,
but we might be willing to overlook that if critical path performance is
improved.

Alex.


From amajer at suse.de  Wed Mar 15 14:43:16 2017
From: amajer at suse.de (Adam Majer)
Date: Wed, 15 Mar 2017 15:43:16 +0100
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
Message-ID: <b77b460c-cc90-6625-c931-545f688c80a9@suse.de>

On 03/15/2017 03:17 PM, Amos Jeffries wrote:
> Theoretically range-for loops should allow multi-threaded CPU to run
> those loops a bit faster. If that can be demonstrated using a tool like
> polygraph you have a good argument for a patch containing that change to
> go in as a pure performance change.

No. That would break many many things. There are special directives that
allow this to happen with things like OpenMPI compilers, but that's not
what we are talking about here.

And theoretically, if you blindly allow compilers to optimize loops like
that, you are just as likely to introduce hardware stalls that will
result in slower execution of the overall loop. The only way to look at
these,

    for (TYPE _i : _c )

is syntactic sugar.


Best regards,
- Adam

PS. And if you are talking about vertorization of these loops, that
already happens with regular loops. See,

    https://gcc.gnu.org/projects/tree-ssa/vectorization.html


From rousskov at measurement-factory.com  Wed Mar 15 15:38:28 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 09:38:28 -0600
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <8712fb53-0105-a207-ea09-1590a0e50e38@suse.de>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <8712fb53-0105-a207-ea09-1590a0e50e38@suse.de>
Message-ID: <0c4e72ef-f6ae-ba03-85a2-217beff65002@measurement-factory.com>

On 03/15/2017 06:57 AM, Adam Majer wrote:
> these types of changes
> do not add anything. They actually make the code more difficult to maintain.

I disagree.

> For example,
> 
> -    if (HttpRequest *r = dynamic_cast<HttpRequest*>(theMsg)) {
> +    if (auto *r = dynamic_cast<HttpRequest*>(theMsg)) {
> 
> Nothing is gained here. On the contrary, it is not immediately known to
> the reader what this `auto` type actually is until they look to the
> right. So what are we saving?

While we do have to "look to the right" and that is indeed a drawback,
auto advantages, collectively, outweigh that negative:

* Auto may reduce explicit code duplication. Saying HttpRequest twice is
code duplication. Code duplication is one of the greatest evils we have
to deal with on a daily basis. It causes functionality bugs and
significantly increases code maintenance overheads.

* Auto reduces implicit code duplication: Saying HttpRequest just
because the type returned by the expression on the right is currently
HttpRequest.

* Auto eliminates implicit type conversions. Some of those conversions
have very undesirable effects, including serious performance degradation.

* In most cases, you either do not need to look to the right (because
you do not care about the actual type specifics) or you have to look to
the right for other reasons (because you care about the code details
after "auto" so you have to keep reading anyway).

More on that below, after the nil pointer discussion (including a
reference to an "authoritative" analysis of your readability argument).


> -Adaptation::Message::Message(): header(NULL)
> +Adaptation::Message::Message(): header(nullptr)
> 
> NULL and nullptr are the same thing for these purposes.

They may or may not be (depending on the header declaration). Since NULL
and nullptr may have different types, they are not identical. More at
http://stackoverflow.com/questions/13816385/what-are-the-advantages-of-using-nullptr


> Actually, the
> most likely implementation of NULL macro in C++11 is just
> 
> #define NULL nullptr

According to the comments at the above URL, that would be illegal
because nullptr is not an integral type and NULL has to have an integral
type.


> I have no problem in using either, but changing this just for the same
> of changing it....

Yes, please do not misinterpret my comments as a disagreement on that
very important point: Nullptr is better than NULL, but the negatives in
just changing lots of old working (and needed to be supported across
various branches) code to nullptr outweigh the advantages.


> -    for (MECI i = master.extensions.begin(); i != master.extensions.end(); ++i) {
> +    for (const auto & extension : master.extensions) {

> [...] this makes is even more complicated to know the type you
> are referring to. The compiler knows, but the developer? I have no idea.
> master.extentions can be anything with iterator.

That is usually a good thing: You do _not_ want to know the exact type
in most cases.


> If you really want to fix this, avoid `auto` in code people actually
> want to maintain. The only place it is actually useful is in heavily
> templated code and that is the main reason it was introduced. It was not
> introduced so you can avoid typing the name of POS (plain old
> structures) or types or classes.

I disagree on all counts. Auto is much more nuanced. The web has a lot
more pro- and cons- arguments about auto, including advice from C++
gurus. For example:
https://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/

We should not repeat those debates here IMO. What would be the point? We
are unlikely to come up with better or new arguments... For example, the
above page already discusses your very own readability argument at length!

In my personal experience, going against Sutter and Mayers advice
usually ends up in long-term regrets. They are sometimes wrong, but it
is usually much easier to fix their wrongs than mine. (Just like with
Squid or any other development, it is often about making good mistakes
versus the bad ones.)


Cheers,

Alex.


From amajer at suse.de  Wed Mar 15 16:03:37 2017
From: amajer at suse.de (Adam Majer)
Date: Wed, 15 Mar 2017 17:03:37 +0100
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <0c4e72ef-f6ae-ba03-85a2-217beff65002@measurement-factory.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <8712fb53-0105-a207-ea09-1590a0e50e38@suse.de>
 <0c4e72ef-f6ae-ba03-85a2-217beff65002@measurement-factory.com>
Message-ID: <36947704-0a49-eeae-9ff3-815e6e0f881f@suse.de>

On 03/15/2017 04:38 PM, Alex Rousskov wrote:
> On 03/15/2017 06:57 AM, Adam Majer wrote:
>> If you really want to fix this, avoid `auto` in code people actually
>> want to maintain. The only place it is actually useful is in heavily
>> templated code and that is the main reason it was introduced. It was not
>> introduced so you can avoid typing the name of POS (plain old
>> structures) or types or classes.
> 
> I disagree on all counts. Auto is much more nuanced. The web has a lot
> more pro- and cons- arguments about auto, including advice from C++
> gurus. For example:
> https://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/

I would disagree with you on these accounts and with Mayers (if that is
actually his position) auto has its place and that place is generally
when dealing with templates, and especially in templates where types are
not fixed in the definition. So auto simplifies boilerplate. It's a very
good feature.

Sure, you are more than welcome to replace every instance of type with
auto, but don't be very surprised when few weeks from now you are
looking at a piece of code and want to know what structure something
comes from and then tracing things through the code just because you
wanted to use auto instead of `Foo`.

But arguing this kind of reminds of trying to argue with someone that
for loops are not dead because you can now do everything with
std::algorithm and lambdas. It's not very productive.

C++ is a statically typed language and auto does not make that go away.

> In my personal experience, going against Sutter and Mayers advice
> usually ends up in long-term regrets. They are sometimes wrong, but it
> is usually much easier to fix their wrongs than mine. (Just like with
> Squid or any other development, it is often about making good mistakes
> versus the bad ones.)

Let's just say just because someone is famous and knows a few things
does not imply others don't know things. I've learned on my own skin
that hiding types can cause serious problems, but maybe it's just me.

Cheers,
Adam


From rousskov at measurement-factory.com  Wed Mar 15 16:33:43 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 10:33:43 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
Message-ID: <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>

On 03/15/2017 03:24 AM, Gary Wang wrote:
> Regarding the confinement of usage of shared memory in snap world,
>        Please take a look at the bug
>        https://bugs.launchpad.net/snappy/+bug/1653955

The above bug is about semaphores. Squid does not use semaphores (our
implementation of shared memory objects is lockless). Squid uses shared
memory segments created by shm_open(), not sem_open() system calls.

The above bug description appears to imply that snap allows
/dev/shm/snap.@{SNAP_NAME}.* names, which are not the names used in your
prior examples (IIRC). The sem.* pattern you used confused reviewers
into thinking that you are trying to solve the wrong problem. The actual
problem you are trying to solve (AFAICT) is valid and is not about the
"sem." prefix but about the "snap." prefix.


>        And Jamie's reply can be fuond in snapcraft maillist      
>  https://www.mail-archive.com/snapcraft at lists.snapcraft.io/msg02465.html

Again, that feels like an irrelevant piece of information here because
it is specific to semaphores that Squid does not use.


If I am right, then your argument should be something like this:

1. Snap does not allow arbitrary names in /dev/shm/.
2. Snap allows names matching /dev/shm/snap.@{SNAP_NAME}.* (and others)
3. I need to make Squid names for /dev/shm/ files configurable
   so that they can be forced to match one of the snap-allowed patterns.


Please note that it is theoretically possible that OS shm_open()
implementation (in Squid context) creates some secret temporary files
just like sem_open() does in Python context. That would mean that other
names/patterns may be in play here as well. However, since you know that
your patch "works", my argument sketch above remains valid even if there
are other OS-created names that we do not know about.


HTH,

Alex.


From gary.wang at canonical.com  Wed Mar 15 17:03:47 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Thu, 16 Mar 2017 01:03:47 +0800
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
Message-ID: <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>

On Thu, Mar 16, 2017 at 12:33 AM, Alex Rousskov <
rousskov at measurement-factory.com> wrote:

> On 03/15/2017 03:24 AM, Gary Wang wrote:
> > Regarding the confinement of usage of shared memory in snap world,
> >        Please take a look at the bug
> >        https://bugs.launchpad.net/snappy/+bug/1653955
>
> The above bug is about semaphores. Squid does not use semaphores (our
> implementation of shared memory objects is lockless). Squid uses shared
> memory segments created by shm_open(), not sem_open() system calls.
> A: Sorry about that, I need to make it clear at this point.



> The above bug description appears to imply that snap allows
> /dev/shm/snap.@{SNAP_NAME}.* names, which are not the names used in your
> prior examples (IIRC). The sem.* pattern you used confused reviewers
> into thinking that you are trying to solve the wrong problem. The actual
> problem you are trying to solve (AFAICT) is valid and is not about the
> "sem." prefix but about the "snap." prefix.
> A: Yes, We finally see it the same way. Just a little correction.

        In snap world, only the following name pattern is allowed
            /dev/shm/sem.snap.@{SNAP_NAME}.*
       not

>         /dev/shm/snap.@{SNAP_NAME}.*



>
> >        And Jamie's reply can be fuond in snapcraft maillist
> >  https://www.mail-archive.com/snapcraft at lists.snapcraft.io/msg02465.html
>
> Again, that feels like an irrelevant piece of information here because
> it is specific to semaphores that Squid does not use.
>
>
> If I am right, then your argument should be something like this:
>
> 1. Snap does not allow arbitrary names in /dev/shm/.
> 2. Snap allows names matching /dev/shm/snap.@{SNAP_NAME}.* (and others)

3. I need to make Squid names for /dev/shm/ files configurable
>    so that they can be forced to match one of the snap-allowed patterns.
> A: Right, but again snap-allowed name pattern

         /dev/shm/snap.@{SNAP_NAME}.*
       should be
         /dev/shm/sem.snap.@{SNAP_NAME}.*

>
> Please note that it is theoretically possible that OS shm_open()
> implementation (in Squid context) creates some secret temporary files
> just like sem_open() does in Python context. That would mean that other
> names/patterns may be in play here as well. However, since you know that
> your patch "works", my argument sketch above remains valid even if there
> are other OS-created names that we do not know about.
>
>
> HTH,
>
> Alex.
>
>


-- 
Br
Gary.Wzl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170316/4d7b7b65/attachment.html>

From heiler.bemerguy at cinbesa.com.br  Wed Mar 15 17:57:37 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Wed, 15 Mar 2017 14:57:37 -0300
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
Message-ID: <592d435a-9c87-d463-d23b-60b868fa20d1@cinbesa.com.br>


Hello list,

I've made a simple test here.

cache_dir rock /cache2 110000 min-size=0 max-size=65536
#max-swap-rate=150 swap-timeout=360
cache_dir rock /cache3 110000 min-size=65537 max-size=262144
#max-swap-rate=150 swap-timeout=380
cache_dir rock /cache4 110000 min-size=262145
#max-swap-rate=150 swap-timeout=500

Commented out all the max-swap-rate and swap-timeout. Guess what? No 
more errors on cache.log..

before:
root at proxy:/var/log/squid# cat cache.log.2 |grep overflow |wc -l
53

now:
root at proxy:/var/log/squid# cat cache.log |grep overflow |wc -l
1

before:
root at proxy:/var/log/squid# cat cache.log.2 |grep "7.00s timeout" |wc -l
86

now:
root at proxy:/var/log/squid# cat cache.log |grep "7.00s timeout" |wc -l
0

It seems the code that "shapes" the rockstore I/Os is kinda buggy. 
Version 4.0.18

-- 
Atenciosamente / Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


Em 07/03/2017 20:26, Alex Rousskov escreveu:
> On 03/07/2017 01:08 PM, Heiler Bemerguy wrote:
>
>> Some log from right now...
> Here is my analysis:
>
>> 15:53:05.255| ipc/Queue.h findOldest: peeking from 7 to 6 at 1
> Squid worker (kid6) is looking at the queue of disker (kid7) responses.
> There is just one response in the queue.
>
>
>> IpcIoFile.cc canWait: cannot wait: 1136930911 oldest: ipcIo6.381049w7
> Squid worker is trying to estimate whether it has enough time to queue
> (and eventually perform) more disk I/O. The expected wait is
> 1'136'930'911 milliseconds or ~13 days. That is longer than the
> configured cache_dir swap-timeout (a few hundred milliseconds) so Squid
> refuses to queue this disk I/O request:
>
>> store_io.cc storeCreate: no swapdirs for e:=sw1p2RDV/0x206e17d0*4
>
> The same story happens in your other log snippets AFAICT:
>
>> 15:53:05.302| ipc/Queue.h findOldest: peeking from 8 to 6 at 1
>> IpcIoFile.cc canWait: cannot wait: 1136930958 oldest: ipcIo6.153009r8
>> store_io.cc storeCreate: no swapdirs for e:=msw1DV/0x3a4d5870*2
> and
>
>> 15:53:05.318| ipc/Queue.h findOldest: peeking from 7 to 6 at 1
>> IpcIoFile.cc canWait: cannot wait: 1136930974 oldest: ipcIo6.381049w7
>> store_io.cc storeCreate: no swapdirs for e:m381432=w1p2DV/0x3ace6740*4
> and
>
>> 15:53:05.793| ipc/Queue.h findOldest: peeking from 7 to 6 at 1
>> IpcIoFile.cc canWait: cannot wait: 1136931448 oldest: ipcIo6.381049w7
>> store_io.cc storeCreate: no swapdirs for e:=sw1V/0x206e17d0*1
>
> Focusing on one disker (kid7), we can see that the oldest response does
> not change: It is always ipcIo6.381049w7. This stuck response results in
> gradual increment of the expected wait time with every check, matching
> wall clock time increment:
>
>> 15:53:05.255| cannot wait: 1136930911
>> 15:53:05.318| cannot wait: 1136930974
>> 15:53:05.793| cannot wait: 1136931448
> These stuck disker responses probably explain why your disks do not
> receive any traffic. It is potentially important that both disker
> responses shown in your logs got stuck at approximately the same
> absolute time ~13 days ago (around 2017-02-22, give or take a day;
> subtract 1136930911 milliseconds from 15:53:05.255 in your Squid time
> zone to know the "exact" time when those stuck requests were queued).
>
> How can a disker response get stuck? Most likely, something unusual
> happened ~13 days ago. This could be a Squid bug and/or a kid restart.
>
> * Do all currently running Squid kid processes have about the same start
> time? [1]
>
> * Do you see ipcIo6.381049w7 or ipcIo6.153009r8 mentioned in any old
> non-debugging messages/warnings?
>
> [1]
> http://stackoverflow.com/questions/5731234/how-to-get-the-start-time-of-a-long-running-linux-process
>
>
> Thank you,
>
> Alex.
>


From rousskov at measurement-factory.com  Wed Mar 15 18:49:18 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 12:49:18 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
 <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
Message-ID: <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>

On 03/15/2017 11:03 AM, Gary Wang wrote:
> On Thu, Mar 16, 2017 at 12:33 AM, Alex Rousskov wrote:
>>     On 03/15/2017 03:24 AM, Gary Wang wrote:
>>     > Regarding the confinement of usage of shared memory in snap world,
>>     >        Please take a look at the bug
>>     >        https://bugs.launchpad.net/snappy/+bug/1653955

>>     The above bug description appears to imply that snap allows
>>     /dev/shm/snap.@{SNAP_NAME}.* names, which are not the names used in your
>>     prior examples (IIRC). The sem.* pattern you used confused reviewers
>>     into thinking that you are trying to solve the wrong problem. The actual
>>     problem you are trying to solve (AFAICT) is valid and is not about the
>>     "sem." prefix but about the "snap." prefix.



>     A: Yes, We finally see it the same way.

IIRC, until now, there was no disagreement among you and me regarding
this aspect of your submission. You need to convince Amos that you are
solving the right problem.


>        In snap world, only the following name pattern is allowed
>             /dev/shm/sem.snap.@{SNAP_NAME}.*
>        not 
>             /dev/shm/snap.@{SNAP_NAME}.*


That statement appears to contradict bug/1653955 description and, if
true, sounds like a snap bug, but, fortunately, it has no significant
effect on the proposed argument sketch. Here is a revised version:

1. Snap does not allow arbitrary names in /dev/shm/.
2. Snap allows names matching /dev/shm/<SpecialPatternHere>.*
3. I need to make Squid names for /dev/shm/ files configurable
   so that they can be forced to match the snap-allowed pattern.

Alex.
P.S. If there is something you can do to your email application to fix
quoting in the plain text version of the messages it sends, please do so.

From rousskov at measurement-factory.com  Wed Mar 15 19:02:13 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 15 Mar 2017 13:02:13 -0600
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <592d435a-9c87-d463-d23b-60b868fa20d1@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
 <592d435a-9c87-d463-d23b-60b868fa20d1@cinbesa.com.br>
Message-ID: <81bd52cb-5a45-621e-aeda-9b2fd785ae8a@measurement-factory.com>

On 03/15/2017 11:57 AM, Heiler Bemerguy wrote:

> Commented out all the max-swap-rate and swap-timeout. Guess what? No
> more errors on cache.log..

> It seems the code that "shapes" the rockstore I/Os is kinda buggy.

I have not checked the code, but I suspect that

* You see no timeout errors because you disabled timeouts.

* You see no I/O delay warnings because you disabled I/O delays.

Said that, I would not be surprised if disabling max-swap-rate reduces
the probability of an I/O message getting stuck in the queue because
without artificial message delays, the probability of a kid dying with a
pending message is naturally lower.

There are probably some bugs in the code even when no kids are dying,
but there is currently no information warranting an investigation AFAICT.

Alex.


From noc at squid-cache.org  Wed Mar 15 19:41:56 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 15 Mar 2017 19:41:56 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23305?=
In-Reply-To: <1277074540.1.1489284712294.JavaMail.jenkins@buildmaster>
References: <1277074540.1.1489284712294.JavaMail.jenkins@buildmaster>
Message-ID: <760359003.0.1489606916733.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/305/display/redirect>

------------------------------------------
[...truncated 954.98 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From squid3 at treenet.co.nz  Thu Mar 16 05:10:19 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 18:10:19 +1300
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <36947704-0a49-eeae-9ff3-815e6e0f881f@suse.de>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <8712fb53-0105-a207-ea09-1590a0e50e38@suse.de>
 <0c4e72ef-f6ae-ba03-85a2-217beff65002@measurement-factory.com>
 <36947704-0a49-eeae-9ff3-815e6e0f881f@suse.de>
Message-ID: <4b7c27d9-bd06-9eff-9ad4-fb60730ecd51@treenet.co.nz>

On 16/03/2017 5:03 a.m., Adam Majer wrote:
> On 03/15/2017 04:38 PM, Alex Rousskov wrote:
>> On 03/15/2017 06:57 AM, Adam Majer wrote:
>>> If you really want to fix this, avoid `auto` in code people actually
>>> want to maintain. The only place it is actually useful is in heavily
>>> templated code and that is the main reason it was introduced. It was not
>>> introduced so you can avoid typing the name of POS (plain old
>>> structures) or types or classes.
>>

IMO, and since I'm mostly the one doing these changes will probably be
the usual way going forward - is that if the type being used is complex
enough to actually have/need a typedef to make the type name simpler,
then auto is appropriate.

Specifically the way we historically have acronyms as typedef labels
means one often has to lookup or pay specific attention to what the
definition was anyway. So looking up an auto is no worse and at least
auto does not pretend to be a class name somewhere.

I also find (so far, and specifically with Squid code) that with
range-for loops the name of the variable/getter function/method on the
RHS of the range-for first line is usually more important to know how
its best used than exact iterator type. If that name is not
self-documenting what the object being handled is we have a larger
problem to fix first which may change whether range-for is appropriate
at all.

Other uses of auto are context-specific, but yes it can be less useful
than one would extect from the hype.

Amos


From squid3 at treenet.co.nz  Thu Mar 16 05:34:33 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 18:34:33 +1300
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <b77b460c-cc90-6625-c931-545f688c80a9@suse.de>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
 <b77b460c-cc90-6625-c931-545f688c80a9@suse.de>
Message-ID: <7950f15f-7e87-126e-42d4-0277fb46ddc0@treenet.co.nz>

On 16/03/2017 3:43 a.m., Adam Majer wrote:
> On 03/15/2017 03:17 PM, Amos Jeffries wrote:
>> Theoretically range-for loops should allow multi-threaded CPU to run
>> those loops a bit faster. If that can be demonstrated using a tool like
>> polygraph you have a good argument for a patch containing that change to
>> go in as a pure performance change.
> 
> No. That would break many many things. There are special directives that
> allow this to happen with things like OpenMPI compilers, but that's not
> what we are talking about here.
> 
> And theoretically, if you blindly allow compilers to optimize loops like
> that, you are just as likely to introduce hardware stalls that will
> result in slower execution of the overall loop. The only way to look at
> these,
> 
>     for (TYPE _i : _c )
> 
> is syntactic sugar.
> 
> 
> Best regards,
> - Adam
> 
> PS. And if you are talking about vertorization of these loops, that
> already happens with regular loops. See,
> 
>     https://gcc.gnu.org/projects/tree-ssa/vectorization.html

I mean tricks like compiler with CPU-specific knowledge being able to
emit assembly that helps pre-fetch the address pointers for all objects
in the container, and/or if it can prove the objects are read-only can
have hyper-threads pre-load the container contents into L1/L2 cache in
time for the main thread to run the business logic faster without much
loading delays.

AFAIK the range-for does allow certain code flow guarantees (like
full-length container iteration) being known without any analysis. So
not completely syntactic sugar. Yes compiler could do the same with
traditional loops, but only after extra analysis which might be turned off.

I'm not sure if thus would have any visible effect at all. We might be
unlucky in that these things are not supportable, or the data sizes
Squid handles blow the benefits away. Thus the request for proof.

Amos


From squid3 at treenet.co.nz  Thu Mar 16 07:15:57 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 20:15:57 +1300
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
In-Reply-To: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
References: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
Message-ID: <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>

On 13/03/2017 10:50 a.m., Eduard Bagdasaryan wrote:
> Hello,
> 
> This patch fixes two bugs with tunneling CONNECT requests (or equivalent
> traffic) through a cache_peer:
> 
> 1. Not detecting dead cache_peers due to missing code to count peer
>    connect failures. SSL-level failures were detected (for "tls"
>    cache_peers) but TCP/IP connect(2) failures were not (for all peers).
> 
> 2. Origin server connect_timeout used instead of peer_connect_timeout or
>    a peer-specific connect-timeout=N (where configured).
> 
> The regular forwarding code path does not have the above bugs. This
> change reduces code duplication across the two code paths (that
> duplication probably caused these bugs in the first place), but a lot
> more work is needed in that direction.
> 
> This patch applies to v5 r15094. I assume v4 should be fixed as well:
> the same patch applies to v4 r14999.
> 

Yay. Thank you.

FYI: From the changes in tunnel.cc I suspect that this also fixes some
bugs in TOS/MARK on tunnels. The two code paths now calling
startConnecting() used to update one or other detail but not both - the
new method updates both always.
  I have not dug into the implications of that.



in src/neighbours.cc:

* peerConnectTimeout() should be a member of the CachePeer class yes?
 - the parameter is mandatory non-nil and it essentially produces a
property of that class state.
 - with the connect_timeout member a private this method would be its
accessor.
 - when this is done the tunnel.cc inclusion of neighbours.h can be
removed again.


in src/CachePeer.*:

* aftre teh above peerConnectTimeout() change we no longer need this
member to be public, so it can become provate and retain its exisign name.
 - the dump_peer_options() access to the member could check the
peerConnectTimeout() replacement accessor [see neighbours.cc below]
output was != the global Config value skip dispay if they match.
 - adding a setter as well would be necessary for the parse logic. (for
now, later a parser function would be better - maybe mark that as TODO).


in src/tunnel.cc:

* "start" is an action name and we use it (almost?) exclusively for Job
initiation. By comparison "started" means/implies more clearly a state
or time point. The Tunnel member stores a time point.
 - IMO both are bad, but "started" is better than "start". Better still
would be a name that actually describes *what* has been start(ed).


in src/PeerPoolMgr.cc:

* in PeerPoolMgr::handleOpenedConnection() I see a line doing max(1,
(peerTimeout - timeUsed)); just like the code in FwdState.cc
FwdState::connectDone().
 BUT, this PoolMgr is (wrongly) using int instead of time_t. Perhapse
that should be changed and something de-duplicate that max(1, x) usage?


in src/comm/Connection.cc:

* I dont see why EnoughTimeToReForward() should be in the Comm::
namespace. It is about messageing layer timing. So is more appropriate
to be in FwdState:: or maybe SquidTime.h/time.cc.
 - if you pick time.cc that would also mean the fairly generic time_t
static functions it calls would move to time.cc where they seem more
appropriate.


Cheers
Amos

From squid3 at treenet.co.nz  Thu Mar 16 07:38:47 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 20:38:47 +1300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
Message-ID: <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>

On 14/03/2017 5:24 a.m., Alex Rousskov wrote:
> On 03/13/2017 08:25 AM, Eduard Bagdasaryan wrote:
>> On 14.02.2017 04:22, Amos Jeffries wrote:
>>> The problem is with proxy where the admin has configured large headers
>>> to be allowed, and receives a Via just under the 6KB liit. Our append
>>> pushing it over by even one byte would assert.
> 
> Yes, except s/6/64/ and no special configuration is probably needed:
> reply_header_max_size is 64KB by default (and so is String::SizeMax_).
> 
> 
>> I am attaching a patch using SBuf instead of String for Via
>> accumulating, as you previously suggested. I am not
>> sure this is a much better solution since we have to do an
>> extra copy into SBuf.
> 
> Will this new patch assert in String::setBuffer(?) when the final Via
> value exceeds String::SizeMax_ and putStr() is called with a 64KB+1 or
> longer value string?

Yes I think it still misses the size check there.

Any objections to applying this with this added:

  // XXX: putStr() still has String 64KB limits
  Must(strVia.length() < 64*1024);

Amos


From squid3 at treenet.co.nz  Thu Mar 16 07:43:26 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 20:43:26 +1300
Subject: [squid-dev] [PATCH] Fix broken build for ufsdump
In-Reply-To: <b997dc02-0eeb-91ff-80a5-7cd7690e4d81@measurement-factory.com>
References: <06ac1eca-fb48-2336-d884-f6e501cae68f@measurement-factory.com>
 <b997dc02-0eeb-91ff-80a5-7cd7690e4d81@measurement-factory.com>
Message-ID: <a82c6227-5944-fbcc-648d-f640053c9c11@treenet.co.nz>

On 6/03/2017 3:54 p.m., Alex Rousskov wrote:
> On 03/05/2017 12:28 PM, Eduard Bagdasaryan wrote:
> 
>> ufsdump build is broken now [...]
>> This patch fixes this, however I am not sure that
>> does it in a best possible way. For example, someone may argue that
>> inlining storeKeyText() is wrong.
> 
> Yeah, I would argue that such inlining is "wrong".
> 

Any particular reason(s) beyond the static local variable?


Amos


From squid3 at treenet.co.nz  Thu Mar 16 07:53:05 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 16 Mar 2017 20:53:05 +1300
Subject: [squid-dev] [PATCH] Update refresh_pattern description
 regarding 'max' option
In-Reply-To: <1480571230.27321.10.camel@comnet.uz>
References: <c6d299bb492cdcc82ca55612ac68c8c5@comnet.uz>
 <1d136fb7-352b-6d45-0e3c-af739244c893@treenet.co.nz>
 <1480571230.27321.10.camel@comnet.uz>
Message-ID: <d987c96d-ccaf-24d0-e883-4b1554d648d6@treenet.co.nz>

On 1/12/2016 6:47 p.m., Garri Djavadyan wrote:
> On Thu, 2016-12-01 at 00:56 +1300, Amos Jeffries wrote:
>> On 21/11/2016 9:58 a.m., Garri Djavadyan wrote:
>>>
>>> The patch adds description for undocumented behavior related to
>>> 'max'
>>> option of 'refresh_pattern' directive. I mean, 'max' option sets
>>> value
>>> for 'Cache-Control: max-age' header sent by Squid upstream. Feel
>>> free to
>>> modify the description. Thanks.
>>>

Sorry this got lost in my audit queue. Applied now.

Amos


From eduard.bagdasaryan at measurement-factory.com  Thu Mar 16 10:03:46 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Thu, 16 Mar 2017 13:03:46 +0300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
Message-ID: <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>

If throwing when String exceeds its 64K limit is
acceptable then why not just use my previous t2 patch?
HttpHeader::addVia() calls strListAdd() similarly as the old
did: it throws if str->canGrowBy(itemSize) returns false.


Eduard.

On 16.03.2017 10:38, Amos Jeffries wrote:
> On 14/03/2017 5:24 a.m., Alex Rousskov wrote:
>> On 03/13/2017 08:25 AM, Eduard Bagdasaryan wrote:
>>> On 14.02.2017 04:22, Amos Jeffries wrote:
>>>> The problem is with proxy where the admin has configured large headers
>>>> to be allowed, and receives a Via just under the 6KB liit. Our append
>>>> pushing it over by even one byte would assert.
>> Yes, except s/6/64/ and no special configuration is probably needed:
>> reply_header_max_size is 64KB by default (and so is String::SizeMax_).
>>
>>
>>> I am attaching a patch using SBuf instead of String for Via
>>> accumulating, as you previously suggested. I am not
>>> sure this is a much better solution since we have to do an
>>> extra copy into SBuf.
>> Will this new patch assert in String::setBuffer(?) when the final Via
>> value exceeds String::SizeMax_ and putStr() is called with a 64KB+1 or
>> longer value string?
> Yes I think it still misses the size check there.
>
> Any objections to applying this with this added:
>
>    // XXX: putStr() still has String 64KB limits
>    Must(strVia.length() < 64*1024);
>
> Amos
>
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev


From squid3 at treenet.co.nz  Thu Mar 16 11:15:45 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 17 Mar 2017 00:15:45 +1300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
Message-ID: <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>

On 16/03/2017 11:03 p.m., Eduard Bagdasaryan wrote:
> If throwing when String exceeds its 64K limit is
> acceptable then why not just use my previous t2 patch?
> HttpHeader::addVia() calls strListAdd() similarly as the old
> did: it throws if str->canGrowBy(itemSize) returns false.
> 

I was hoping not to need a Must() at all. We still have the option of
passing buf instead of strVia to putStr().


Also, compare the information content of the exception messages:

Exception: str->canGrowBy(2)

Exception: str->canGrowBy(itemSize)

Exception: strVia.length() > 64*1024


If one was presented with only one of them. How would one go about
replicating the traffic to debug and fix it?

Only the latter offers the chance of a few minutes turnaround on a fix
if the Must() is acually hit in production traffic.

(I kind of hate those low-level operations with Must() and assert() like
the former - far too little context to be useful debugging with such big
impact when they are triggered.)

Amos


From eduard.bagdasaryan at measurement-factory.com  Thu Mar 16 11:46:34 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Thu, 16 Mar 2017 14:46:34 +0300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
 <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
Message-ID: <1a91c89e-414b-a11f-ef46-5f4453697b04@measurement-factory.com>

I would avoid using magic numbers like 64*1024.
If you are sure that this check is much better/informative,
consider making String::SizeMax_ public and use it instead.


Eduard.

On 16.03.2017 14:15, Amos Jeffries wrote:
> On 16/03/2017 11:03 p.m., Eduard Bagdasaryan wrote:
>> If throwing when String exceeds its 64K limit is
>> acceptable then why not just use my previous t2 patch?
>> HttpHeader::addVia() calls strListAdd() similarly as the old
>> did: it throws if str->canGrowBy(itemSize) returns false.
>>
> I was hoping not to need a Must() at all. We still have the option of
> passing buf instead of strVia to putStr().
>
>
> Also, compare the information content of the exception messages:
>
> Exception: str->canGrowBy(2)
>
> Exception: str->canGrowBy(itemSize)
>
> Exception: strVia.length() > 64*1024
>
>
> If one was presented with only one of them. How would one go about
> replicating the traffic to debug and fix it?
>
> Only the latter offers the chance of a few minutes turnaround on a fix
> if the Must() is acually hit in production traffic.
>
> (I kind of hate those low-level operations with Must() and assert() like
> the former - far too little context to be useful debugging with such big
> impact when they are triggered.)
>
> Amos
>
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev


From eduard.bagdasaryan at measurement-factory.com  Thu Mar 16 13:11:17 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Thu, 16 Mar 2017 16:11:17 +0300
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
In-Reply-To: <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
References: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
 <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
Message-ID: <f5ebb36f-7663-4ff4-96c7-ab741b2d3f1c@measurement-factory.com>

On 16.03.2017 10:15, Amos Jeffries wrote:

 >in src/neighbours.cc:
 >
 > * peerConnectTimeout() should be a member of the CachePeer class yes?

The initial patch version did as you suggest, but then we decided
to use separate method instead, to avoid 'heavy' dependency on
SquidConfig.h (which periodically causes linkage problems, IIRC).


 > in src/tunnel.cc:
 >
 > * "start" is an action name and we use it (almost?) exclusively for Job
 > initiation. By comparison "started" means/implies more clearly a state
 > or time point. The Tunnel member stores a time point.
 >  - IMO both are bad, but "started" is better than "start". Better still
 > would be a name that actually describes *what* has been start(ed).

I do not mind renaming it, e.g., into 'creationTime'.


 > in src/PeerPoolMgr.cc:
 >
 > * in PeerPoolMgr::handleOpenedConnection() I see a line doing max(1,
 > (peerTimeout - timeUsed)); just like the code in FwdState.cc
 > FwdState::connectDone().
 >  BUT, this PoolMgr is (wrongly) using int instead of time_t. Perhapse
 > that should be changed and something de-duplicate that max(1, x) usage?

I am not against changing int to time_t there. As for 'max', how about
creating inside neighbors.cc a helper method:
time_t PositiveTimeout(const time_t timeout) { return max(1, timeout); }


 > in src/comm/Connection.cc:
 >
 > * I dont see why EnoughTimeToReForward() should be in the Comm::
 > namespace. It is about messageing layer timing. So is more appropriate
 > to be in FwdState:: or maybe SquidTime.h/time.cc.
 >  - if you pick time.cc that would also mean the fairly generic time_t
 > static functions it calls would move to time.cc where they seem more
 > appropriate.

Again, I am not against moving this method and ForwardTimeout() into
FwdState.cc (keeping related '*Forward' methods there makes some sense).



Eduard.


From rousskov at measurement-factory.com  Thu Mar 16 15:36:50 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 16 Mar 2017 09:36:50 -0600
Subject: [squid-dev] [PATCH] Fix broken build for ufsdump
In-Reply-To: <a82c6227-5944-fbcc-648d-f640053c9c11@treenet.co.nz>
References: <06ac1eca-fb48-2336-d884-f6e501cae68f@measurement-factory.com>
 <b997dc02-0eeb-91ff-80a5-7cd7690e4d81@measurement-factory.com>
 <a82c6227-5944-fbcc-648d-f640053c9c11@treenet.co.nz>
Message-ID: <af200244-9c31-720d-cf5d-db2fddb54652@measurement-factory.com>

On 03/16/2017 01:43 AM, Amos Jeffries wrote:
> On 6/03/2017 3:54 p.m., Alex Rousskov wrote:
>> On 03/05/2017 12:28 PM, Eduard Bagdasaryan wrote:
>>> ufsdump build is broken now [...]
>>> This patch fixes this, however I am not sure that
>>> does it in a best possible way. For example, someone may argue that
>>> inlining storeKeyText() is wrong.

>> Yeah, I would argue that such inlining is "wrong".


> Any particular reason(s) beyond the static local variable?

* explicit inlining of a non-trivial function that should not be used on
a performance sensitive path

* exposing a "heavy" external interface: snprintf()

* exposing an external interface: SQUID_MD5_DIGEST_LENGTH

* local static

Alex.


From khaled.belhout at gmail.com  Thu Mar 16 17:00:11 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Thu, 16 Mar 2017 18:00:11 +0100
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <7950f15f-7e87-126e-42d4-0277fb46ddc0@treenet.co.nz>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
 <b77b460c-cc90-6625-c931-545f688c80a9@suse.de>
 <7950f15f-7e87-126e-42d4-0277fb46ddc0@treenet.co.nz>
Message-ID: <CABcULUu2jtoyhsx_2=fmyMWo7rtd16vSnLytSwuL1AQHYChuBw@mail.gmail.com>

thank you guys for the feedback.
also the tool can do an amazing job about static analysis and diagnostics.
i want to use the tool for null pointer propagation and null pointer
dereference diagnostics.
but we need to annotate the some functions with [[noreturn]] attribute like :
void fatal(const char *message);
void fatalf(const char *fmt,...);
void fatal_dump(const char *message);
void xassert(const char *msg, const char *file, int line);
but i hit a problem with xassert
the function was defined in two places with two different behaviors.
the first one in : compat/assert.cc
print the error massage and never return
the second one in: src/debug.cc
print the debug massage ,never return if shutting_down flag is clear
and return if shutting_down flag is set!
isn't that an ODR rule violation!
Thank you,
khaled.

2017-03-16 6:34 GMT+01:00 Amos Jeffries <squid3 at treenet.co.nz>:
> On 16/03/2017 3:43 a.m., Adam Majer wrote:
>> On 03/15/2017 03:17 PM, Amos Jeffries wrote:
>>> Theoretically range-for loops should allow multi-threaded CPU to run
>>> those loops a bit faster. If that can be demonstrated using a tool like
>>> polygraph you have a good argument for a patch containing that change to
>>> go in as a pure performance change.
>>
>> No. That would break many many things. There are special directives that
>> allow this to happen with things like OpenMPI compilers, but that's not
>> what we are talking about here.
>>
>> And theoretically, if you blindly allow compilers to optimize loops like
>> that, you are just as likely to introduce hardware stalls that will
>> result in slower execution of the overall loop. The only way to look at
>> these,
>>
>>     for (TYPE _i : _c )
>>
>> is syntactic sugar.
>>
>>
>> Best regards,
>> - Adam
>>
>> PS. And if you are talking about vertorization of these loops, that
>> already happens with regular loops. See,
>>
>>     https://gcc.gnu.org/projects/tree-ssa/vectorization.html
>
> I mean tricks like compiler with CPU-specific knowledge being able to
> emit assembly that helps pre-fetch the address pointers for all objects
> in the container, and/or if it can prove the objects are read-only can
> have hyper-threads pre-load the container contents into L1/L2 cache in
> time for the main thread to run the business logic faster without much
> loading delays.
>
> AFAIK the range-for does allow certain code flow guarantees (like
> full-length container iteration) being known without any analysis. So
> not completely syntactic sugar. Yes compiler could do the same with
> traditional loops, but only after extra analysis which might be turned off.
>
> I'm not sure if thus would have any visible effect at all. We might be
> unlucky in that these things are not supportable, or the data sizes
> Squid handles blow the benefits away. Thus the request for proof.
>
> Amos
>
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev

From rousskov at measurement-factory.com  Thu Mar 16 17:17:36 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 16 Mar 2017 11:17:36 -0600
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
 <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
Message-ID: <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>

On 03/16/2017 05:15 AM, Amos Jeffries wrote:


> Any objections to applying this with this added:
> 
>   // XXX: putStr() still has String 64KB limits
>   Must(strVia.length() < 64*1024);

No objections from me if you replace the magic constant with a new
inlined String::MaxSizeXXX() method. The slightly misleading source code
comment above becomes unnecessary after that. Why XXX()? Because no
correct caller code should know about internal String limits (but it may
catch exceptions, including exceptions due to those limits).


> (I kind of hate those low-level operations with Must() and assert() like
> the former - far too little context to be useful debugging with such big
> impact when they are triggered.)

While it is indeed tempting to hate those Must(), we must keep in mind
that low-level assert-replacing Must()s are not meant for debugging or
even traditional error handling. Their purpose is to (hopefully) prevent
Squid death.

When the crash avoidance project completes, we will have a way to dump
stack traces for specific Must()s, which will provide the same level of
triage info as an assert() would, but (hopefully) without killing Squid
in environments where such functionality is supported.


HTH,

Alex.


From rousskov at measurement-factory.com  Thu Mar 16 17:39:41 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 16 Mar 2017 11:39:41 -0600
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
In-Reply-To: <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
References: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
 <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
Message-ID: <536d704e-fb9f-95d1-86f7-1f453df5fa51@measurement-factory.com>

On 03/16/2017 01:15 AM, Amos Jeffries wrote:
> * "start" is an action name and we use it (almost?) exclusively for Job
> initiation. By comparison "started" means/implies more clearly a state
> or time point. The Tunnel member stores a time point.
>  - IMO both are bad, but "started" is better than "start". Better still
> would be a name that actually describes *what* has been start(ed).

IIRC, I renamed started to start. I did that because start can be a noun
while started is a past tense verb, and we use such verbs for boolean
flags indicating past occurrence of some event.


> I do not mind renaming it, e.g., into 'creationTime'. 

startTime would probably work better mid-term. And when TunnelStateData
becomes a proper job, managing its own start() time, we can rename this
to start_ to avoid a type-like suffix.

On the other hand, whatever you two can agree on regarding this name
will work. I do not plan to post about this minor issue again. I only
posted because the current name was probably not Eduard's fault.


HTH,

Alex.


From rousskov at measurement-factory.com  Thu Mar 16 18:07:45 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 16 Mar 2017 12:07:45 -0600
Subject: [squid-dev] Fwd: [PATCH] for loops modernization
In-Reply-To: <CABcULUu2jtoyhsx_2=fmyMWo7rtd16vSnLytSwuL1AQHYChuBw@mail.gmail.com>
References: <CABcULUvuZFw2CJK4V1wV0iiM5d7UhGoNWcWOf9_qTLfGCZ-OCQ@mail.gmail.com>
 <216e6fdf-ef36-5eaf-2990-8891a0e3ea6b@measurement-factory.com>
 <CABcULUtsecJ4Mb0pbnBfOQgE9C82xigOpsqa6Adi1_38SZn-YQ@mail.gmail.com>
 <CABcULUscg12jtwQXP0jpFrGF=KO+ktFnAVngXACyqT7pssxqNw@mail.gmail.com>
 <f0d22293-5bf3-1bc7-2592-57209640d056@measurement-factory.com>
 <CABcULUsNUxhc+iZZhuNEOMLeCmaPUW_3q3SsOCS=z8X9=SC3yw@mail.gmail.com>
 <662a3594-d7ad-01b4-eda0-b769774cec8a@treenet.co.nz>
 <b77b460c-cc90-6625-c931-545f688c80a9@suse.de>
 <7950f15f-7e87-126e-42d4-0277fb46ddc0@treenet.co.nz>
 <CABcULUu2jtoyhsx_2=fmyMWo7rtd16vSnLytSwuL1AQHYChuBw@mail.gmail.com>
Message-ID: <582ac1f4-0da1-1111-45d3-e5a12229da4a@measurement-factory.com>

On 03/16/2017 11:00 AM, khaled belhout wrote:
> but we need to annotate the some functions with [[noreturn]] attribute like :

I do not think such annotations belong to the source code. If we add
various annotations for various tools, the code readability and
maintainability will suffer.

AFAIK, Coverity can be told which functions never return without
changing source code. Perhaps your tool supports that as well? If not,
request that essential tool feature (meanwhile consider automatically
patching your annotations in before running your code analysis; there
are not so many of them...).


> i hit a problem with xassert in: src/debug.cc
> print the debug massage ,never return if shutting_down flag is clear
> and return if shutting_down flag is set!

FWIW, I have been bitten by this shutting_down exception in xassert() as
well during triage. While I am sure it is helpful in some situations, I
think that special condition is a bug that should be removed so that
Squid always aborts when an assertion fails.

Alex.



> 2017-03-16 6:34 GMT+01:00 Amos Jeffries <squid3 at treenet.co.nz>:
>> On 16/03/2017 3:43 a.m., Adam Majer wrote:
>>> On 03/15/2017 03:17 PM, Amos Jeffries wrote:
>>>> Theoretically range-for loops should allow multi-threaded CPU to run
>>>> those loops a bit faster. If that can be demonstrated using a tool like
>>>> polygraph you have a good argument for a patch containing that change to
>>>> go in as a pure performance change.
>>>
>>> No. That would break many many things. There are special directives that
>>> allow this to happen with things like OpenMPI compilers, but that's not
>>> what we are talking about here.
>>>
>>> And theoretically, if you blindly allow compilers to optimize loops like
>>> that, you are just as likely to introduce hardware stalls that will
>>> result in slower execution of the overall loop. The only way to look at
>>> these,
>>>
>>>     for (TYPE _i : _c )
>>>
>>> is syntactic sugar.
>>>
>>>
>>> Best regards,
>>> - Adam
>>>
>>> PS. And if you are talking about vertorization of these loops, that
>>> already happens with regular loops. See,
>>>
>>>     https://gcc.gnu.org/projects/tree-ssa/vectorization.html
>>
>> I mean tricks like compiler with CPU-specific knowledge being able to
>> emit assembly that helps pre-fetch the address pointers for all objects
>> in the container, and/or if it can prove the objects are read-only can
>> have hyper-threads pre-load the container contents into L1/L2 cache in
>> time for the main thread to run the business logic faster without much
>> loading delays.
>>
>> AFAIK the range-for does allow certain code flow guarantees (like
>> full-length container iteration) being known without any analysis. So
>> not completely syntactic sugar. Yes compiler could do the same with
>> traditional loops, but only after extra analysis which might be turned off.
>>
>> I'm not sure if thus would have any visible effect at all. We might be
>> unlucky in that these things are not supportable, or the data sizes
>> Squid handles blow the benefits away. Thus the request for proof.
>>
>> Amos
>>
>> _______________________________________________
>> squid-dev mailing list
>> squid-dev at lists.squid-cache.org
>> http://lists.squid-cache.org/listinfo/squid-dev
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
> 


From gary.wang at canonical.com  Thu Mar 16 23:30:39 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Fri, 17 Mar 2017 07:30:39 +0800
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
 <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
 <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>
Message-ID: <CAHFd1HB=K4rkinuE-hQDLbyq16oqNXQ-6cwEVjRptvyZdM5YLw@mail.gmail.com>

On Thu, Mar 16, 2017 at 2:49 AM, Alex Rousskov
<rousskov at measurement-factory.com> wrote:
> On 03/15/2017 11:03 AM, Gary Wang wrote:
>> On Thu, Mar 16, 2017 at 12:33 AM, Alex Rousskov wrote:
>>>     On 03/15/2017 03:24 AM, Gary Wang wrote:
>>>     > Regarding the confinement of usage of shared memory in snap world,
>>>     >        Please take a look at the bug
>>>     >        https://bugs.launchpad.net/snappy/+bug/1653955
>
>>>     The above bug description appears to imply that snap allows
>>>     /dev/shm/snap.@{SNAP_NAME}.* names, which are not the names used in your
>>>     prior examples (IIRC). The sem.* pattern you used confused reviewers
>>>     into thinking that you are trying to solve the wrong problem. The actual
>>>     problem you are trying to solve (AFAICT) is valid and is not about the
>>>     "sem." prefix but about the "snap." prefix.
>
>
>
>>     A: Yes, We finally see it the same way.
>
> IIRC, until now, there was no disagreement among you and me regarding
> this aspect of your submission. You need to convince Amos that you are
> solving the right problem.
   A: Amos, could you take another look?
       Thanks.

>
>
>>        In snap world, only the following name pattern is allowed
>>             /dev/shm/sem.snap.@{SNAP_NAME}.*
>>        not
>>             /dev/shm/snap.@{SNAP_NAME}.*
>
>
> That statement appears to contradict bug/1653955 description and, if
> true, sounds like a snap bug, but, fortunately, it has no significant
> effect on the proposed argument sketch. Here is a revised version:
   A: It's not a snap bug, actaully.
       It's been confirmed and verified that only the following name
pattern is allowed
   in snap world.
       /dev/shm/sem.snap.@{SNAP_NAME}.*

>
> 1. Snap does not allow arbitrary names in /dev/shm/.
> 2. Snap allows names matching /dev/shm/<SpecialPatternHere>.*
> 3. I need to make Squid names for /dev/shm/ files configurable
>    so that they can be forced to match the snap-allowed pattern.
>
> Alex.
> P.S. If there is something you can do to your email application to fix
> quoting in the plain text version of the messages it sends, please do so.



-- 
Br
Gary.Wzl

From rousskov at measurement-factory.com  Thu Mar 16 23:40:15 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 16 Mar 2017 17:40:15 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HB=K4rkinuE-hQDLbyq16oqNXQ-6cwEVjRptvyZdM5YLw@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
 <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
 <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>
 <CAHFd1HB=K4rkinuE-hQDLbyq16oqNXQ-6cwEVjRptvyZdM5YLw@mail.gmail.com>
Message-ID: <13a1b11a-1cb7-7026-f970-08ead56c2849@measurement-factory.com>

On 03/16/2017 05:30 PM, Gary Wang wrote:
> On Thu, Mar 16, 2017 at 2:49 AM, Alex Rousskov wrote:
>> On 03/15/2017 11:03 AM, Gary Wang wrote:
>>>        In snap world, only the following name pattern is allowed
>>>             /dev/shm/sem.snap.@{SNAP_NAME}.*
>>>        not
>>>             /dev/shm/snap.@{SNAP_NAME}.*


>> That statement, if
>> true, sounds like a snap bug, but, fortunately, it has no significant
>> effect on the proposed argument sketch.

>    A: It's not a snap bug, actaully.
>       It's been confirmed and verified that only the following name
>       pattern is allowed in snap world.
>        /dev/shm/sem.snap.@{SNAP_NAME}.*

How is "forcing an application that does not utilize semaphores to use
sem.* as a filename prefix" is not a bug is beyond me, but this snap
issue classification (bug, feature, problem, whatever) is not important
for Squid. Once you make the filename prefix configurable, any prefix
would work, including the weird one that snap apparently insists on.

Thank you,

Alex.


From richard.qian at magicwifi.com.cn  Fri Mar 17 07:06:23 2017
From: richard.qian at magicwifi.com.cn (=?utf-8?B?6ZKx5Zu95q2j?=)
Date: Fri, 17 Mar 2017 15:06:23 +0800
Subject: [squid-dev] Support forward unknown protocol using http port which
	redirected to squid
Message-ID: <tencent_13CD03F13051F93B54B7517A@qq.com>

Hi Squid-Devs:


I have play with squid for a long tine, but still can not get into its world deeply, that's make me annoying.
Recently, I have encountered a problem when using squid.
It is that I am using squid as a transparent proxy in Router, redirecting data which destination port is 80 to squid,
and it work fine for a long time, just days before, I found there is one case that will not make the mobile app not
work.


The case is the mobile app using 80 port with non-http nor https protocol.


I have searched a lot on that and found an on_unsupported_protocol, but apparently, not for this case.
So, I am wondering if I can get started to work on that, to process such things.


My thoughts is that when accept the connection and if it can not parsing the request (with enough data, at least contain
the method length of HTTP) just send to the destination (before redirect to squid its an public_ip:port, int squid we can
get it).  And the later case, I can not imagine how to do, and whether the thought of mine can be realized ?


Anyone can give some introduction about that or the squid working-model?  anything helpful would be appreciate.
Thanks in advance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170317/2393c28c/attachment.html>

From noc at squid-cache.org  Fri Mar 17 07:20:33 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Mar 2017 07:20:33 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23307?=
In-Reply-To: <760359003.0.1489606916733.JavaMail.jenkins@buildmaster>
References: <760359003.0.1489606916733.JavaMail.jenkins@buildmaster>
Message-ID: <1053740860.1.1489735233775.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/307/display/redirect>

------------------------------------------
[...truncated 955.11 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for egrep... .././test-suite/../configure: line 7180: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From gary.wang at canonical.com  Fri Mar 17 08:05:09 2017
From: gary.wang at canonical.com (Gary Wang)
Date: Fri, 17 Mar 2017 16:05:09 +0800
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <13a1b11a-1cb7-7026-f970-08ead56c2849@measurement-factory.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
 <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
 <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>
 <CAHFd1HB=K4rkinuE-hQDLbyq16oqNXQ-6cwEVjRptvyZdM5YLw@mail.gmail.com>
 <13a1b11a-1cb7-7026-f970-08ead56c2849@measurement-factory.com>
Message-ID: <CAHFd1HBNERRFj0N+Q=jpys+7kaRiUGCKwZ-65QopAk=PTv9SbQ@mail.gmail.com>

On Fri, Mar 17, 2017 at 7:40 AM, Alex Rousskov
<rousskov at measurement-factory.com> wrote:
> On 03/16/2017 05:30 PM, Gary Wang wrote:
>> On Thu, Mar 16, 2017 at 2:49 AM, Alex Rousskov wrote:
>>> On 03/15/2017 11:03 AM, Gary Wang wrote:
>>>>        In snap world, only the following name pattern is allowed
>>>>             /dev/shm/sem.snap.@{SNAP_NAME}.*
>>>>        not
>>>>             /dev/shm/snap.@{SNAP_NAME}.*
>
>
>>> That statement, if
>>> true, sounds like a snap bug, but, fortunately, it has no significant
>>> effect on the proposed argument sketch.
>
>>    A: It's not a snap bug, actaully.
>>       It's been confirmed and verified that only the following name
>>       pattern is allowed in snap world.
>>        /dev/shm/sem.snap.@{SNAP_NAME}.*
>
> How is "forcing an application that does not utilize semaphores to use
> sem.* as a filename prefix" is not a bug is beyond me, but this snap
> issue classification (bug, feature, problem, whatever) is not important
> for Squid. Once you make the filename prefix configurable, any prefix
> would work, including the weird one that snap apparently insists on.
>
   A: Yes, I think that's the reason why I submit the MP to support configurable
       prefix filename.
       Thanks for your comment Alex.
       Meanwhile, I made another change to keep new DEFAULT_IPC_PREFIX
consistent in src/ipc/Port.cc file.
       Could you guys help review the MP?
       https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714

      Thanks.

> Thank you,
>
> Alex.
>



-- 
Br
Gary.Wzl

From noc at squid-cache.org  Fri Mar 17 11:46:35 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Mar 2017 11:46:35 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_5-matrix_=C2=BB_?=
 =?utf-8?q?gcc=2Cd-ubuntu-vivid_=23136?=
Message-ID: <21047901.2.1489751195492.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/136/display/redirect>

------------------------------------------
[...truncated 2.44 MB...]
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT ReadRequest.lo -MD -MP -MF $depbase.Tpo -c -o ReadRequest.lo ../../../src/DiskIO/ReadRequest.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo WriteRequest.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT WriteRequest.lo -MD -MP -MF $depbase.Tpo -c -o WriteRequest.lo ../../../src/DiskIO/WriteRequest.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT WriteRequest.lo -MD -MP -MF .deps/WriteRequest.Tpo -c ../../../src/DiskIO/WriteRequest.cc -o WriteRequest.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT DiskIOModule.lo -MD -MP -MF .deps/DiskIOModule.Tpo -c ../../../src/DiskIO/DiskIOModule.cc -o DiskIOModule.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT ReadRequest.lo -MD -MP -MF .deps/ReadRequest.Tpo -c ../../../src/DiskIO/ReadRequest.cc -o ReadRequest.o
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libdiskio.la  DiskIOModule.lo ReadRequest.lo WriteRequest.lo        
libtool: link: /usr/bin/ar cru .libs/libdiskio.a  DiskIOModule.o ReadRequest.o WriteRequest.o
libtool: link: ranlib .libs/libdiskio.a
libtool: link: ( cd ".libs" && rm -f "libdiskio.la" && ln -s "../libdiskio.la" "libdiskio.la" )
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/DiskIO'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/DiskIO'>
Making all in http
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http'>
Making all in one
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/one'>
depbase=`echo Parser.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Parser.lo -MD -MP -MF $depbase.Tpo -c -o Parser.lo ../../../../src/http/one/Parser.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo RequestParser.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT RequestParser.lo -MD -MP -MF $depbase.Tpo -c -o RequestParser.lo ../../../../src/http/one/RequestParser.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ResponseParser.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT ResponseParser.lo -MD -MP -MF $depbase.Tpo -c -o ResponseParser.lo ../../../../src/http/one/ResponseParser.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo TeChunkedParser.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT TeChunkedParser.lo -MD -MP -MF $depbase.Tpo -c -o TeChunkedParser.lo ../../../../src/http/one/TeChunkedParser.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT RequestParser.lo -MD -MP -MF .deps/RequestParser.Tpo -c ../../../../src/http/one/RequestParser.cc -o RequestParser.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Parser.lo -MD -MP -MF .deps/Parser.Tpo -c ../../../../src/http/one/Parser.cc -o Parser.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT TeChunkedParser.lo -MD -MP -MF .deps/TeChunkedParser.Tpo -c ../../../../src/http/one/TeChunkedParser.cc -o TeChunkedParser.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT ResponseParser.lo -MD -MP -MF .deps/ResponseParser.Tpo -c ../../../../src/http/one/ResponseParser.cc -o ResponseParser.o
depbase=`echo Tokenizer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Tokenizer.lo -MD -MP -MF $depbase.Tpo -c -o Tokenizer.lo ../../../../src/http/one/Tokenizer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Tokenizer.lo -MD -MP -MF .deps/Tokenizer.Tpo -c ../../../../src/http/one/Tokenizer.cc -o Tokenizer.o
/bin/bash ../../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libhttp1.la  Parser.lo RequestParser.lo ResponseParser.lo TeChunkedParser.lo Tokenizer.lo  
libtool: link: /usr/bin/ar cru .libs/libhttp1.a  Parser.o RequestParser.o ResponseParser.o TeChunkedParser.o Tokenizer.o
libtool: link: ranlib .libs/libhttp1.a
libtool: link: ( cd ".libs" && rm -f "libhttp1.la" && ln -s "../libhttp1.la" "libhttp1.la" )
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/one'>
Making all in url_rewriters
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/url_rewriters'>
make[6]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/url_rewriters'>
make[6]: Nothing to be done for 'all-am'.
make[6]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/url_rewriters'>
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/url_rewriters'>
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http'>
depbase=`echo ContentLengthInterpreter.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT ContentLengthInterpreter.lo -MD -MP -MF $depbase.Tpo -c -o ContentLengthInterpreter.lo ../../../src/http/ContentLengthInterpreter.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Message.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Message.lo -MD -MP -MF $depbase.Tpo -c -o Message.lo ../../../src/http/Message.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo MethodType.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT MethodType.lo -MD -MP -MF $depbase.Tpo -c -o MethodType.lo ../../../src/http/MethodType.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo RegisteredHeaders.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT RegisteredHeaders.lo -MD -MP -MF $depbase.Tpo -c -o RegisteredHeaders.lo ../../../src/http/RegisteredHeaders.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT ContentLengthInterpreter.lo -MD -MP -MF .deps/ContentLengthInterpreter.Tpo -c ../../../src/http/ContentLengthInterpreter.cc -o ContentLengthInterpreter.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT RegisteredHeaders.lo -MD -MP -MF .deps/RegisteredHeaders.Tpo -c ../../../src/http/RegisteredHeaders.cc -o RegisteredHeaders.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT MethodType.lo -MD -MP -MF .deps/MethodType.Tpo -c ../../../src/http/MethodType.cc -o MethodType.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Message.lo -MD -MP -MF .deps/Message.Tpo -c ../../../src/http/Message.cc -o Message.o
depbase=`echo RequestMethod.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT RequestMethod.lo -MD -MP -MF $depbase.Tpo -c -o RequestMethod.lo ../../../src/http/RequestMethod.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT RequestMethod.lo -MD -MP -MF .deps/RequestMethod.Tpo -c ../../../src/http/RequestMethod.cc -o RequestMethod.o
depbase=`echo StatusCode.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT StatusCode.lo -MD -MP -MF $depbase.Tpo -c -o StatusCode.lo ../../../src/http/StatusCode.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo StatusLine.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT StatusLine.lo -MD -MP -MF $depbase.Tpo -c -o StatusLine.lo ../../../src/http/StatusLine.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT StatusCode.lo -MD -MP -MF .deps/StatusCode.Tpo -c ../../../src/http/StatusCode.cc -o StatusCode.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT StatusLine.lo -MD -MP -MF .deps/StatusLine.Tpo -c ../../../src/http/StatusLine.cc -o StatusLine.o
depbase=`echo Stream.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Stream.lo -MD -MP -MF $depbase.Tpo -c -o Stream.lo ../../../src/http/Stream.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Stream.lo -MD -MP -MF .deps/Stream.Tpo -c ../../../src/http/Stream.cc -o Stream.o
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libhttp.la  ContentLengthInterpreter.lo Message.lo MethodType.lo RegisteredHeaders.lo RequestMethod.lo StatusCode.lo StatusLine.lo Stream.lo one/libhttp1.la 
libtool: link: (cd .libs/libhttp.lax/libhttp1.a && /usr/bin/ar x "<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http/one/.libs/libhttp1.a")>
libtool: link: /usr/bin/ar cru .libs/libhttp.a  ContentLengthInterpreter.o Message.o MethodType.o RegisteredHeaders.o RequestMethod.o StatusCode.o StatusLine.o Stream.o  .libs/libhttp.lax/libhttp1.a/Parser.o .libs/libhttp.lax/libhttp1.a/RequestParser.o .libs/libhttp.lax/libhttp1.a/ResponseParser.o .libs/libhttp.lax/libhttp1.a/TeChunkedParser.o .libs/libhttp.lax/libhttp1.a/Tokenizer.o 
libtool: link: ranlib .libs/libhttp.a
libtool: link: rm -fr .libs/libhttp.lax
libtool: link: ( cd ".libs" && rm -f "libhttp.la" && ln -s "../libhttp.la" "libhttp.la" )
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/http'>
Making all in ip
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/ip'>
depbase=`echo Address.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Address.lo -MD -MP -MF $depbase.Tpo -c -o Address.lo ../../../src/ip/Address.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Intercept.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Intercept.lo -MD -MP -MF $depbase.Tpo -c -o Intercept.lo ../../../src/ip/Intercept.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo QosConfig.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT QosConfig.lo -MD -MP -MF $depbase.Tpo -c -o QosConfig.lo ../../../src/ip/QosConfig.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo tools.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT tools.lo -MD -MP -MF $depbase.Tpo -c -o tools.lo ../../../src/ip/tools.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT tools.lo -MD -MP -MF .deps/tools.Tpo -c ../../../src/ip/tools.cc -o tools.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Address.lo -MD -MP -MF .deps/Address.Tpo -c ../../../src/ip/Address.cc -o Address.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT QosConfig.lo -MD -MP -MF .deps/QosConfig.Tpo -c ../../../src/ip/QosConfig.cc -o QosConfig.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Intercept.lo -MD -MP -MF .deps/Intercept.Tpo -c ../../../src/ip/Intercept.cc -o Intercept.o
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libip.la  Address.lo Intercept.lo QosConfig.lo tools.lo  
libtool: link: /usr/bin/ar cru .libs/libip.a  Address.o Intercept.o QosConfig.o tools.o
libtool: link: ranlib .libs/libip.a
libtool: link: ( cd ".libs" && rm -f "libip.la" && ln -s "../libip.la" "libip.la" )
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/ip'>
Making all in icmp
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/icmp'>
depbase=`echo Icmp.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Icmp.lo -MD -MP -MF $depbase.Tpo -c -o Icmp.lo ../../../src/icmp/Icmp.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo IcmpConfig.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT IcmpConfig.lo -MD -MP -MF $depbase.Tpo -c -o IcmpConfig.lo ../../../src/icmp/IcmpConfig.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo IcmpSquid.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT IcmpSquid.lo -MD -MP -MF $depbase.Tpo -c -o IcmpSquid.lo ../../../src/icmp/IcmpSquid.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo net_db.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT net_db.lo -MD -MP -MF $depbase.Tpo -c -o net_db.lo ../../../src/icmp/net_db.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT IcmpSquid.lo -MD -MP -MF .deps/IcmpSquid.Tpo -c ../../../src/icmp/IcmpSquid.cc -o IcmpSquid.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT IcmpConfig.lo -MD -MP -MF .deps/IcmpConfig.Tpo -c ../../../src/icmp/IcmpConfig.cc -o IcmpConfig.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT net_db.lo -MD -MP -MF .deps/net_db.Tpo -c ../../../src/icmp/net_db.cc -o net_db.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=NULL -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Icmp.lo -MD -MP -MF .deps/Icmp.Tpo -c ../../../src/icmp/Icmp.cc -o Icmp.o
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libicmpcore.la  Icmp.lo  
libtool: link: /usr/bin/ar cru .libs/libicmpcore.a  Icmp.o
libtool: link: ranlib .libs/libicmpcore.a
libtool: link: ( cd ".libs" && rm -f "libicmpcore.la" && ln -s "../libicmpcore.la" "libicmpcore.la" )
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libicmp.la  IcmpConfig.lo IcmpSquid.lo net_db.lo libicmpcore.la 
libtool: link: (cd .libs/libicmp.lax/libicmpcore.a && /usr/bin/ar x "<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/icmp/./.libs/libicmpcore.a")>
libtool: link: /usr/bin/ar cru .libs/libicmp.a  IcmpConfig.o IcmpSquid.o net_db.o  .libs/libicmp.lax/libicmpcore.a/Icmp.o 
libtool: link: ranlib .libs/libicmp.a
libtool: link: rm -fr .libs/libicmp.lax
libtool: link: ( cd ".libs" && rm -f "libicmp.la" && ln -s "../libicmp.la" "libicmp.la" )
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/icmp'>
Making all in ident
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/ident'>
depbase=`echo AclIdent.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT AclIdent.lo -MD -MP -MF $depbase.Tpo -c -o AclIdent.lo ../../../src/ident/AclIdent.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Ident.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Ident.lo -MD -MP -MF $depbase.Tpo -c -o Ident.lo ../../../src/ident/Ident.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Ident.lo -MD -MP -MF .deps/Ident.Tpo -c ../../../src/ident/Ident.cc -o Ident.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT AclIdent.lo -MD -MP -MF .deps/AclIdent.Tpo -c ../../../src/ident/AclIdent.cc -o AclIdent.o
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o libident.la  AclIdent.lo Ident.lo  
libtool: link: /usr/bin/ar cru .libs/libident.a  AclIdent.o Ident.o
libtool: link: ranlib .libs/libident.a
libtool: link: ( cd ".libs" && rm -f "libident.la" && ln -s "../libident.la" "libident.la" )
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/ident'>
Making all in log
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log'>
Making all in DB
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log/DB'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../src/log/DB/log_db_daemon.pl.in >log_db_daemon || (/bin/rm -f -f log_db_daemon ; exit 1)
pod2man --section=8 log_db_daemon log_db_daemon.8
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log/DB'>
Making all in file
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log/file'>
depbase=`echo log_file_daemon.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache g++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT log_file_daemon.o -MD -MP -MF $depbase.Tpo -c -o log_file_daemon.o ../../../../src/log/file/log_file_daemon.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../../../libtool  --tag=CXX   --mode=link ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11  -g -o log_file_daemon log_file_daemon.o ../../../compat/libcompatsquid.la  -lm -lnsl -lresolv -lcap -lrt -ldl -ldl 
libtool: link: ccache g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -g -o log_file_daemon log_file_daemon.o  ../../../compat/.libs/libcompatsquid.a -lm -lnsl -lresolv -lcap -lrt -ldl
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log'>
depbase=`echo access_log.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT access_log.lo -MD -MP -MF $depbase.Tpo -c -o access_log.lo ../../../src/log/access_log.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Config.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT Config.lo -MD -MP -MF $depbase.Tpo -c -o Config.lo ../../../src/log/Config.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo File.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT File.lo -MD -MP -MF $depbase.Tpo -c -o File.lo ../../../src/log/File.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo FormatHttpdCombined.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT FormatHttpdCombined.lo -MD -MP -MF $depbase.Tpo -c -o FormatHttpdCombined.lo ../../../src/log/FormatHttpdCombined.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT File.lo -MD -MP -MF .deps/File.Tpo -c ../../../src/log/File.cc -o File.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/log/Config.cc -o Config.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT FormatHttpdCombined.lo -MD -MP -MF .deps/FormatHttpdCombined.Tpo -c ../../../src/log/FormatHttpdCombined.cc -o FormatHttpdCombined.o
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT access_log.lo -MD -MP -MF .deps/access_log.Tpo -c ../../../src/log/access_log.cc -o access_log.o
depbase=`echo FormatHttpdCommon.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT FormatHttpdCommon.lo -MD -MP -MF $depbase.Tpo -c -o FormatHttpdCommon.lo ../../../src/log/FormatHttpdCommon.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT FormatHttpdCommon.lo -MD -MP -MF .deps/FormatHttpdCommon.Tpo -c ../../../src/log/FormatHttpdCommon.cc -o FormatHttpdCommon.o
depbase=`echo FormatSquidCustom.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT FormatSquidCustom.lo -MD -MP -MF $depbase.Tpo -c -o FormatSquidCustom.lo ../../../src/log/FormatSquidCustom.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT FormatSquidCustom.lo -MD -MP -MF .deps/FormatSquidCustom.Tpo -c ../../../src/log/FormatSquidCustom.cc -o FormatSquidCustom.o
depbase=`echo FormatSquidIcap.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT FormatSquidIcap.lo -MD -MP -MF $depbase.Tpo -c -o FormatSquidIcap.lo ../../../src/log/FormatSquidIcap.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT FormatSquidIcap.lo -MD -MP -MF .deps/FormatSquidIcap.Tpo -c ../../../src/log/FormatSquidIcap.cc -o FormatSquidIcap.o
depbase=`echo FormatSquidNative.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache g++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include     -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g  -std=c++11 -MT FormatSquidNative.lo -MD -MP -MF $depbase.Tpo -c -o FormatSquidNative.lo ../../../src/log/FormatSquidNative.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache g++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Woverloaded-virtual -Werror -Wno-deprecated-register -pipe -g -std=c++11 -MT FormatSquidNative.lo -MD -MP -MF .deps/FormatSquidNative.Tpo -c ../../../src/log/FormatSquidNative.cc -o FormatSquidNative.o
../../../src/log/FormatSquidNative.cc:11:19: fatal error: squid.h: No such file or directory
 #include "squid.h"
                   ^
compilation terminated.
Makefile:878: recipe for target 'FormatSquidNative.lo' failed
make[5]: *** [FormatSquidNative.lo] Error 1
make[5]: *** Waiting for unfinished jobs....
g++: error: ../../../src/log/FormatSquidIcap.cc: No such file or directory
g++: fatal error: no input files
compilation terminated.
Makefile:878: recipe for target 'FormatSquidIcap.lo' failed
make[5]: *** [FormatSquidIcap.lo] Error 1
g++: error: ../../../src/log/FormatSquidCustom.cc: No such file or directory
g++: fatal error: no input files
compilation terminated.
Makefile:878: recipe for target 'FormatSquidCustom.lo' failed
make[5]: *** [FormatSquidCustom.lo] Error 1
g++: error: ../../../src/log/FormatHttpdCommon.cc: No such file or directory
g++: fatal error: no input files
compilation terminated.
Makefile:878: recipe for target 'FormatHttpdCommon.lo' failed
make[5]: *** [FormatHttpdCommon.lo] Error 1
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log'>
Makefile:898: recipe for target 'all-recursive' failed
make[4]: *** [all-recursive] Error 1
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src/log'>
Makefile:6959: recipe for target 'all-recursive' failed
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src'>
Makefile:5970: recipe for target 'all' failed
make[2]: *** [all] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build/src'>
Makefile:570: recipe for target 'all-recursive' failed
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/ws/btlayer-01-minimal/squid-5.0.0-BZR/_build'>
Makefile:778: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
grep: btlayer-01-minimal.log: No such file or directory
grep: btlayer-01-minimal.log: No such file or directory
grep: btlayer-01-minimal.log: No such file or directory
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Fri Mar 17 13:21:17 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Mar 2017 13:21:17 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23308?=
In-Reply-To: <1053740860.1.1489735233775.JavaMail.jenkins@buildmaster>
References: <1053740860.1.1489735233775.JavaMail.jenkins@buildmaster>
Message-ID: <397186014.3.1489756878106.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/308/display/redirect>

------------------------------------------
[...truncated 955.10 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for egrep... ../../configure: line 7180: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From rousskov at measurement-factory.com  Fri Mar 17 14:55:13 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 17 Mar 2017 08:55:13 -0600
Subject: [squid-dev] Support forward unknown protocol using http port
 which redirected to squid
In-Reply-To: <tencent_13CD03F13051F93B54B7517A@qq.com>
References: <tencent_13CD03F13051F93B54B7517A@qq.com>
Message-ID: <c6a44747-90bd-8a3c-831b-1ba6e647c412@measurement-factory.com>

On 03/17/2017 01:06 AM, 钱国正 wrote:
> I am using squid as a transparent proxy in Router,
> redirecting data which destination port is 80 to squid,
> and it work fine for a long time, just days before, I found there is one
> case that will not make the mobile app not work.
> 
> The case is the mobile app using 80 port with non-http nor https protocol.
> 
> I have searched a lot on that and found an on_unsupported_protocol, but
> apparently, not for this case.

According to documentation, on_unsupported_protocol does support your
use case. If that support is broken, please consider fixing it (since
you are now posting to squid-dev and not squid-users).

The ConnStateData::mayTunnelUnsupportedProto() method may be relevant
here -- make sure it returns true for your use case (without breaking
other use cases). I suspect the condition in that method is currently
buggy because it does not seem to cover intercepted plain HTTP
connections where Squid ought to know the intended destination address:

> bool
> ConnStateData::mayTunnelUnsupportedProto()
> {
>     return Config.accessList.on_unsupported_protocol
> #if USE_OPENSSL
>            &&
>            ((port->flags.isIntercepted() && port->flags.tunnelSslBumping)
>             || (serverBump() && pinning.serverConnection))
> #endif
>            ;
> }

Alex.


From noc at squid-cache.org  Fri Mar 17 14:58:06 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Mar 2017 14:58:06 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_5-matri?=
 =?utf-8?q?x_=C2=BB_gcc=2Cd-ubuntu-vivid_=23137?=
In-Reply-To: <21047901.2.1489751195492.JavaMail.jenkins@buildmaster>
References: <21047901.2.1489751195492.JavaMail.jenkins@buildmaster>
Message-ID: <641177825.4.1489762686331.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=gcc,label=d-ubuntu-vivid/137/display/redirect>


From rousskov at measurement-factory.com  Fri Mar 17 15:04:20 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 17 Mar 2017 09:04:20 -0600
Subject: [squid-dev] To make squid works in snap world.
In-Reply-To: <CAHFd1HBNERRFj0N+Q=jpys+7kaRiUGCKwZ-65QopAk=PTv9SbQ@mail.gmail.com>
References: <CAHFd1HAppf3VAeGJEWVNStQPfQWa6YAK48jaEzjjvCC76skSBQ@mail.gmail.com>
 <90e38b47-5ea5-03ec-d2ac-47b53a46b7eb@measurement-factory.com>
 <CAHFd1HC04cFYJ=DoNx9Rapuz=dzMmJ4OV476c0d57TmWozcF8g@mail.gmail.com>
 <5b4c1d97-0c38-07ae-657c-bb925891f934@measurement-factory.com>
 <CAHFd1HBmG3ES51AWYLLgzDMbRuJUCucWdFYdYczoLCGxuwAUrQ@mail.gmail.com>
 <1e036458-637e-db91-2efb-797787ae7910@measurement-factory.com>
 <CAHFd1HAqnDqT+DFiaaTfLjhx0MeR-oUUu6D2-UF_DHYKUxVR7A@mail.gmail.com>
 <5a16769d-cab1-9f35-6766-b11f32d3e894@measurement-factory.com>
 <CAHFd1HB=K4rkinuE-hQDLbyq16oqNXQ-6cwEVjRptvyZdM5YLw@mail.gmail.com>
 <13a1b11a-1cb7-7026-f970-08ead56c2849@measurement-factory.com>
 <CAHFd1HBNERRFj0N+Q=jpys+7kaRiUGCKwZ-65QopAk=PTv9SbQ@mail.gmail.com>
Message-ID: <09ea14c2-88bb-1a17-6f9c-b726aea45519@measurement-factory.com>

On 03/17/2017 02:05 AM, Gary Wang wrote:

> I made another change to keep new DEFAULT_IPC_PREFIX
> consistent in src/ipc/Port.cc file.
>        Could you guys help review the MP?
>        https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714

I can only repeat what I have already said:

> Why not make DEFAULT_STATEDIR configurable instead?  (If we do make
> it configurable, we may need to renamed it to STATEDIR, IPCDIR, or
> something like that but that is a separate and minor issue.)

and, later, a design sketch detailing the above suggestion:

> Can the updated/renamed DEFAULT_STATEDIR be interpreted as
> 
>  <path> / <filename prefix>
> 
> where the first component is used if and only when nameIsPath is true
> and the second component is optional? AFAICT, such an implementation
> would cover the already supported use cases and your new use case.
> 
> For snap environments, the option could be set to something like:
> 
>   $(localstatedir)/run/squid/sem.snap.squid.

I do not know whether you consider the above design broken or inferior
to yours -- AFAIK, you have not addressed these comments/concerns.

Alex.


From heiler.bemerguy at cinbesa.com.br  Fri Mar 17 15:48:01 2017
From: heiler.bemerguy at cinbesa.com.br (Heiler Bemerguy)
Date: Fri, 17 Mar 2017 12:48:01 -0300
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <81bd52cb-5a45-621e-aeda-9b2fd785ae8a@measurement-factory.com>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
 <592d435a-9c87-d463-d23b-60b868fa20d1@cinbesa.com.br>
 <81bd52cb-5a45-621e-aeda-9b2fd785ae8a@measurement-factory.com>
Message-ID: <a02bc65a-ab8e-ac27-0797-74bdab13f4be@cinbesa.com.br>


> I have not checked the code, but I suspect that
>
> * You see no timeout errors because you disabled timeouts.
>
> * You see no I/O delay warnings because you disabled I/O delays.
>
> Said that, I would not be surprised if disabling max-swap-rate reduces
> the probability of an I/O message getting stuck in the queue because
> without artificial message delays, the probability of a kid dying with a
> pending message is naturally lower.
>
> There are probably some bugs in the code even when no kids are dying,
> but there is currently no information warranting an investigation AFAICT.

Sadly the same thing occurred again. It seems the hole is deeper lol.. 
max-swap-rate/swap-timeout are still disabled...
I couldn't find any previous messages that could give a clue why this is 
happening.. :/

2017/03/15 16:18:07 kid6| urlParse: Illegal hostname 'static..unocdn.com'
2017/03/15 16:18:07 kid4| urlParse: Illegal hostname 'static..unocdn.com'
2017/03/15 16:19:07 kid6| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 16:19:07 kid6| http://177.105.192.70:9000/oliberalcbn.mp3
2017/03/15 16:19:58 kid1| Weak ETags are not allowed in If-Range: 
"8083-1488088507000" ? "8083-1488088507000"
2017/03/15 16:20:02 kid1| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 16:20:02 kid1|       http://45.43.200.26:27388/;
2017/03/15 16:20:51 kid6| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 16:20:51 kid6|       http://45.43.200.26:27388/;
2017/03/15 16:22:43 kid1| ctx: enter level  0: 
'http://storage.mais.uol.com.br/11848044.flv'
2017/03/15 16:22:43 kid1| WARNING: Malformed Content-Length[1]=-
2017/03/15 16:23:03 kid1| ctx: exit level  0
2017/03/15 16:23:03 kid1| ctx: enter level  0: 
'http://storage.mais.uol.com.br/11848044.flv'
2017/03/15 16:23:03 kid1| WARNING: Malformed Content-Length[1]=-
2017/03/15 16:28:45 kid1| ctx: exit level  0
2017/03/15 16:28:45 kid1| SECURITY ALERT: Missing hostname in URL 
'http://'. see access.log for details.
2017/03/15 16:33:26 kid2| SECURITY ALERT: Missing hostname in URL 
'http://'. see access.log for details.
2017/03/15 16:33:27 kid3| SECURITY ALERT: Missing hostname in URL 
'http://'. see access.log for details.
2017/03/15 16:37:44 kid4| ipcacheParse No Address records in response to 
'a.sitemeter.com'
2017/03/15 16:37:44 kid4| ipcacheParse No Address records in response to 
'a.sitemeter.com'
2017/03/15 16:43:17 kid3| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 16:43:17 kid3| 
http://www.superclipping.com.br/Uploads/video/15.03.2017/f17f8022f44148f4bc53d75db766b154.mp4
2017/03/15 16:46:44 kid4| local=10.1.10.9:3080 remote=10.1.3.242:54705 
FD 1958 flags=1: read/write failure: (113) No route to host
2017/03/15 16:46:54 kid1| local=10.1.10.9:3080 remote=10.1.3.242:49770 
FD 539 flags=1: read/write failure: (113) No route to host
2017/03/15 16:47:01 kid6| local=10.1.10.9:3080 remote=10.1.3.242:62607 
FD 2158 flags=1: read/write failure: (113) No route to host
2017/03/15 16:47:47 kid6| local=10.1.10.9:3080 remote=10.1.3.242:62605 
FD 2141 flags=1: read/write failure: (113) No route to host
2017/03/15 16:52:52 kid6| Starting new store_id helpers...
2017/03/15 16:52:52 kid6| helperOpenServers: Starting 1/50 'store-id.pl' 
processes
2017/03/15 16:52:52 kid6| Starting new store_id helpers...
2017/03/15 16:52:52 kid6| helperOpenServers: Starting 1/50 'store-id.pl' 
processes
2017/03/15 16:54:21 kid1| Weak ETags are not allowed in If-Range: "0" ? "0"
2017/03/15 16:55:31 kid1| Weak ETags are not allowed in If-Range: 
"54133-1387455809000" ? "54133-1387455809000"
2017/03/15 16:57:21 kid1| SECURITY ALERT: Missing hostname in URL 
'http://'. see access.log for details.
2017/03/15 17:03:15 kid4| Weak ETags are not allowed in If-Range: 
"5878dd6c-4363" ? "5878dd6c-4363"
2017/03/15 17:30:03 kid1| SECURITY ALERT: Missing hostname in URL 
'http://'. see access.log for details.
2017/03/15 17:57:31 kid1| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 17:57:31 kid1| 
http://liveupdate.gocyberlink.com/bigbang/ap/query_xml.jsp
2017/03/15 18:09:30 kid1| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 18:09:30 kid1| 
http://cloudav.downloads.pandasecurity.com/nano/pavsignano/nano_1/av_1/plug_0100000000/plug_0100000000_20170315_014235.rar
2017/03/15 18:20:49 kid1| urlParse: URL too large (10319 bytes)
2017/03/15 18:35:57 kid1| Weak ETags are not allowed in If-Range: "0" ? "0"
2017/03/15 18:36:50 kid4| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 18:36:50 kid4| 
http://au.ff.avast.com/android/avast-android-vps-v4-release.apk
2017/03/15 18:50:07 kid1| ipcacheParse No Address records in response to 
'www.portaldoartesanato.com.br'
2017/03/15 18:50:07 kid1| ipcacheParse No Address records in response to 
'www.portaldoartesanato.com.br'
2017/03/15 18:50:07 kid1| ipcacheParse No Address records in response to 
'www.portaldoartesanato.com.br'
2017/03/15 18:50:07 kid1| ipcacheParse No Address records in response to 
'www.portaldoartesanato.com.br'
2017/03/15 19:01:29 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:15:05 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:18:02 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:22:27 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:26:19 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:43:52 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:44:25 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:44:54 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:48:25 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 19:51:03 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:02:08 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:02:22 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:03:13 kid1| WARNING: Closing client connection due to 
lifetime timeout
2017/03/15 20:03:13 kid1| 
http://static.bn-static.com/css-45023/desktop/page_home.css
2017/03/15 20:05:05 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:11:31 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:15:08 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:16:51 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:18:55 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:28:52 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:30:06 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 2 out of 2 I/Os
2017/03/15 20:31:21 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:33:32 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:33:51 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:42:33 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:43:33 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:47:54 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:49:29 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:50:29 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:51:28 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 2 out of 2 I/Os
2017/03/15 20:51:57 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:57:09 kid2| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
2017/03/15 20:58:44 kid1| WARNING: communication with /cache2/rock may 
be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os


-- 
Atenciosamente / Best Regards,

Heiler Bemerguy
Network Manager - CINBESA
55 91 98151-4894/3184-1751


From rousskov at measurement-factory.com  Fri Mar 17 16:18:59 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 17 Mar 2017 10:18:59 -0600
Subject: [squid-dev] Rock store stopped accessing discs
In-Reply-To: <a02bc65a-ab8e-ac27-0797-74bdab13f4be@cinbesa.com.br>
References: <e3f2c66d-c89d-173a-81ae-a981aaf81a63@cinbesa.com.br>
 <408da60f-d09d-cb0f-cdef-f16307791e97@measurement-factory.com>
 <fef177a3-bde1-6579-0a73-5ebd64ac8a76@cinbesa.com.br>
 <f4e35bf6-1fc1-9bfd-2189-3bc9be07627a@measurement-factory.com>
 <84ff13b8-2960-4b90-20c8-2919c158ac78@cinbesa.com.br>
 <39957979-cb44-d62e-b15a-6335da79f993@measurement-factory.com>
 <592d435a-9c87-d463-d23b-60b868fa20d1@cinbesa.com.br>
 <81bd52cb-5a45-621e-aeda-9b2fd785ae8a@measurement-factory.com>
 <a02bc65a-ab8e-ac27-0797-74bdab13f4be@cinbesa.com.br>
Message-ID: <11a0be08-b3f4-4a39-ae5c-52ad78254b89@measurement-factory.com>

On 03/17/2017 09:48 AM, Heiler Bemerguy wrote:
> Sadly the same thing occurred again. It seems the hole is deeper lol..

Most likely, it is the same hole. However, the more we panic and jump to
conclusions, the deeper that hole below us may look...

> I couldn't find any previous messages that could give a clue why this is happening..

> 2017/03/15 19:01:29 kid2| WARNING: communication with /cache2/rock may be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
> 2017/03/15 19:15:05 kid2| WARNING: communication with /cache2/rock may be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
> 2017/03/15 19:18:02 kid2| WARNING: communication with /cache2/rock may be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
> 2017/03/15 19:22:27 kid2| WARNING: communication with /cache2/rock may be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os
> 2017/03/15 19:26:19 kid2| WARNING: communication with /cache2/rock may be too slow or disrupted for about 7.00s; rescued 1 out of 1 I/Os

In general, such semi-periodic problems without any other serious error
messages could be due to missing max-swap-rate which is designed to
prevent disk overload and associated process blockage by the OS. I doubt
that is what happening in your particular case because I would expect
more I/Os to be affected (but you can validate that theory by following
my original recommendation).

Can you reproduce this problem if you increase logging levels? If yes, I
suggest configuring each kid to log to its own cache-N.log file and then
use "-k debug" (or equivalent) to collect detailed logs containing a few
of these WARNINGs.


Cheers,

Alex.


From noc at squid-cache.org  Fri Mar 17 19:19:23 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 17 Mar 2017 19:19:23 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23309?=
In-Reply-To: <397186014.3.1489756878106.JavaMail.jenkins@buildmaster>
References: <397186014.3.1489756878106.JavaMail.jenkins@buildmaster>
Message-ID: <796562320.5.1489778363299.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/309/display/redirect>

------------------------------------------
[...truncated 954.99 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar 18 10:57:25 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 10:57:25 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23310?=
In-Reply-To: <796562320.5.1489778363299.JavaMail.jenkins@buildmaster>
References: <796562320.5.1489778363299.JavaMail.jenkins@buildmaster>
Message-ID: <824357431.6.1489834645741.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/310/display/redirect>

------------------------------------------
[...truncated 955.10 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for egrep... .././test-suite/../configure: line 7180: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar 18 11:46:37 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 11:46:37 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_5-matrix_=C2=BB_?=
 =?utf-8?q?clang=2Cd-debian-jessie_=23138?=
Message-ID: <1931347631.7.1489837597572.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/138/display/redirect>

------------------------------------------
[...truncated 4.05 MB...]
Making all in fake
make[6]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security/cert_validators/fake'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../../src/security/cert_validators/fake/security_fake_certverify.pl.in >security_fake_certverify || (/bin/rm -f -f security_fake_certverify ; exit 1)
pod2man --section=8 security_fake_certverify security_fake_certverify.8
make[6]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security/cert_validators/fake'>
make[6]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security/cert_validators'>
make[6]: Nothing to be done for 'all-am'.
make[6]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security/cert_validators'>
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security/cert_validators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security'>
depbase=`echo BlindPeerConnector.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT BlindPeerConnector.lo -MD -MP -MF $depbase.Tpo -c -o BlindPeerConnector.lo ../../../src/security/BlindPeerConnector.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo EncryptorAnswer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT EncryptorAnswer.lo -MD -MP -MF $depbase.Tpo -c -o EncryptorAnswer.lo ../../../src/security/EncryptorAnswer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Handshake.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Handshake.lo -MD -MP -MF $depbase.Tpo -c -o Handshake.lo ../../../src/security/Handshake.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo NegotiationHistory.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT NegotiationHistory.lo -MD -MP -MF $depbase.Tpo -c -o NegotiationHistory.lo ../../../src/security/NegotiationHistory.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Handshake.lo -MD -MP -MF .deps/Handshake.Tpo -c ../../../src/security/Handshake.cc  -fPIC -DPIC -o .libs/Handshake.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT BlindPeerConnector.lo -MD -MP -MF .deps/BlindPeerConnector.Tpo -c ../../../src/security/BlindPeerConnector.cc  -fPIC -DPIC -o .libs/BlindPeerConnector.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT NegotiationHistory.lo -MD -MP -MF .deps/NegotiationHistory.Tpo -c ../../../src/security/NegotiationHistory.cc  -fPIC -DPIC -o .libs/NegotiationHistory.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT EncryptorAnswer.lo -MD -MP -MF .deps/EncryptorAnswer.Tpo -c ../../../src/security/EncryptorAnswer.cc  -fPIC -DPIC -o .libs/EncryptorAnswer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT NegotiationHistory.lo -MD -MP -MF .deps/NegotiationHistory.Tpo -c ../../../src/security/NegotiationHistory.cc  -fPIC -DPIC -o NegotiationHistory.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT EncryptorAnswer.lo -MD -MP -MF .deps/EncryptorAnswer.Tpo -c ../../../src/security/EncryptorAnswer.cc  -fPIC -DPIC -o EncryptorAnswer.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Handshake.lo -MD -MP -MF .deps/Handshake.Tpo -c ../../../src/security/Handshake.cc  -fPIC -DPIC -o Handshake.o >/dev/null 2>&1
depbase=`echo PeerConnector.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF $depbase.Tpo -c -o PeerConnector.lo ../../../src/security/PeerConnector.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo PeerOptions.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT PeerOptions.lo -MD -MP -MF $depbase.Tpo -c -o PeerOptions.lo ../../../src/security/PeerOptions.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ServerOptions.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT ServerOptions.lo -MD -MP -MF $depbase.Tpo -c -o ServerOptions.lo ../../../src/security/ServerOptions.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c ../../../src/security/PeerConnector.cc  -fPIC -DPIC -o .libs/PeerConnector.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT PeerOptions.lo -MD -MP -MF .deps/PeerOptions.Tpo -c ../../../src/security/PeerOptions.cc  -fPIC -DPIC -o .libs/PeerOptions.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ServerOptions.lo -MD -MP -MF .deps/ServerOptions.Tpo -c ../../../src/security/ServerOptions.cc  -fPIC -DPIC -o .libs/ServerOptions.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT PeerOptions.lo -MD -MP -MF .deps/PeerOptions.Tpo -c ../../../src/security/PeerOptions.cc  -fPIC -DPIC -o PeerOptions.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT PeerConnector.lo -MD -MP -MF .deps/PeerConnector.Tpo -c ../../../src/security/PeerConnector.cc  -fPIC -DPIC -o PeerConnector.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ServerOptions.lo -MD -MP -MF .deps/ServerOptions.Tpo -c ../../../src/security/ServerOptions.cc  -fPIC -DPIC -o ServerOptions.o >/dev/null 2>&1
depbase=`echo Session.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF $depbase.Tpo -c -o Session.lo ../../../src/security/Session.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF .deps/Session.Tpo -c ../../../src/security/Session.cc  -fPIC -DPIC -o .libs/Session.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT BlindPeerConnector.lo -MD -MP -MF .deps/BlindPeerConnector.Tpo -c ../../../src/security/BlindPeerConnector.cc  -fPIC -DPIC -o BlindPeerConnector.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF .deps/Session.Tpo -c ../../../src/security/Session.cc  -fPIC -DPIC -o Session.o >/dev/null 2>&1
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache clang++ -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o libsecurity.la  BlindPeerConnector.lo EncryptorAnswer.lo Handshake.lo NegotiationHistory.lo PeerConnector.lo PeerOptions.lo ServerOptions.lo Session.lo  
libtool: link: /usr/bin/ar cru .libs/libsecurity.a .libs/BlindPeerConnector.o .libs/EncryptorAnswer.o .libs/Handshake.o .libs/NegotiationHistory.o .libs/PeerConnector.o .libs/PeerOptions.o .libs/ServerOptions.o .libs/Session.o 
libtool: link: ranlib .libs/libsecurity.a
libtool: link: ( cd ".libs" && rm -f "libsecurity.la" && ln -s "../libsecurity.la" "libsecurity.la" )
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/security'>
Making all in snmp
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/snmp'>
depbase=`echo Forwarder.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF $depbase.Tpo -c -o Forwarder.lo ../../../src/snmp/Forwarder.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Inquirer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF $depbase.Tpo -c -o Inquirer.lo ../../../src/snmp/Inquirer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Pdu.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Pdu.lo -MD -MP -MF $depbase.Tpo -c -o Pdu.lo ../../../src/snmp/Pdu.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Request.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF $depbase.Tpo -c -o Request.lo ../../../src/snmp/Request.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/snmp/Forwarder.cc  -fPIC -DPIC -o .libs/Forwarder.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/snmp/Request.cc  -fPIC -DPIC -o .libs/Request.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Pdu.lo -MD -MP -MF .deps/Pdu.Tpo -c ../../../src/snmp/Pdu.cc  -fPIC -DPIC -o .libs/Pdu.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/snmp/Inquirer.cc  -fPIC -DPIC -o .libs/Inquirer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Inquirer.lo -MD -MP -MF .deps/Inquirer.Tpo -c ../../../src/snmp/Inquirer.cc  -fPIC -DPIC -o Inquirer.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Request.lo -MD -MP -MF .deps/Request.Tpo -c ../../../src/snmp/Request.cc  -fPIC -DPIC -o Request.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Forwarder.lo -MD -MP -MF .deps/Forwarder.Tpo -c ../../../src/snmp/Forwarder.cc  -fPIC -DPIC -o Forwarder.o >/dev/null 2>&1
depbase=`echo Response.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF $depbase.Tpo -c -o Response.lo ../../../src/snmp/Response.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Session.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF $depbase.Tpo -c -o Session.lo ../../../src/snmp/Session.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Var.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Var.lo -MD -MP -MF $depbase.Tpo -c -o Var.lo ../../../src/snmp/Var.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/snmp/Response.cc  -fPIC -DPIC -o .libs/Response.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Var.lo -MD -MP -MF .deps/Var.Tpo -c ../../../src/snmp/Var.cc  -fPIC -DPIC -o .libs/Var.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF .deps/Session.Tpo -c ../../../src/snmp/Session.cc  -fPIC -DPIC -o .libs/Session.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Pdu.lo -MD -MP -MF .deps/Pdu.Tpo -c ../../../src/snmp/Pdu.cc  -fPIC -DPIC -o Pdu.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Session.lo -MD -MP -MF .deps/Session.Tpo -c ../../../src/snmp/Session.cc  -fPIC -DPIC -o Session.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Response.lo -MD -MP -MF .deps/Response.Tpo -c ../../../src/snmp/Response.cc  -fPIC -DPIC -o Response.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Var.lo -MD -MP -MF .deps/Var.Tpo -c ../../../src/snmp/Var.cc  -fPIC -DPIC -o Var.o >/dev/null 2>&1
/bin/bash ../../libtool  --tag=CXX   --mode=link ccache clang++ -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o libsnmp.la  Forwarder.lo Inquirer.lo Pdu.lo Request.lo Response.lo Session.lo Var.lo  
libtool: link: /usr/bin/ar cru .libs/libsnmp.a .libs/Forwarder.o .libs/Inquirer.o .libs/Pdu.o .libs/Request.o .libs/Response.o .libs/Session.o .libs/Var.o 
libtool: link: ranlib .libs/libsnmp.a
libtool: link: ( cd ".libs" && rm -f "libsnmp.la" && ln -s "../libsnmp.la" "libsnmp.la" )
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/snmp'>
Making all in adaptation
make[4]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation'>
Making all in icap
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation/icap'>
depbase=`echo Client.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Client.lo -MD -MP -MF $depbase.Tpo -c -o Client.lo ../../../../src/adaptation/icap/Client.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Config.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF $depbase.Tpo -c -o Config.lo ../../../../src/adaptation/icap/Config.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Elements.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Elements.lo -MD -MP -MF $depbase.Tpo -c -o Elements.lo ../../../../src/adaptation/icap/Elements.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Options.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Options.lo -MD -MP -MF $depbase.Tpo -c -o Options.lo ../../../../src/adaptation/icap/Options.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../../src/adaptation/icap/Elements.cc  -fPIC -DPIC -o .libs/Elements.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Options.lo -MD -MP -MF .deps/Options.Tpo -c ../../../../src/adaptation/icap/Options.cc  -fPIC -DPIC -o .libs/Options.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Client.lo -MD -MP -MF .deps/Client.Tpo -c ../../../../src/adaptation/icap/Client.cc  -fPIC -DPIC -o .libs/Client.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../../src/adaptation/icap/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Client.lo -MD -MP -MF .deps/Client.Tpo -c ../../../../src/adaptation/icap/Client.cc  -fPIC -DPIC -o Client.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../../src/adaptation/icap/Elements.cc  -fPIC -DPIC -o Elements.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../../src/adaptation/icap/Config.cc  -fPIC -DPIC -o Config.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Options.lo -MD -MP -MF .deps/Options.Tpo -c ../../../../src/adaptation/icap/Options.cc  -fPIC -DPIC -o Options.o >/dev/null 2>&1
depbase=`echo ServiceRep.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT ServiceRep.lo -MD -MP -MF $depbase.Tpo -c -o ServiceRep.lo ../../../../src/adaptation/icap/ServiceRep.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Launcher.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Launcher.lo -MD -MP -MF $depbase.Tpo -c -o Launcher.lo ../../../../src/adaptation/icap/Launcher.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo OptXact.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT OptXact.lo -MD -MP -MF $depbase.Tpo -c -o OptXact.lo ../../../../src/adaptation/icap/OptXact.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Xaction.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Xaction.lo -MD -MP -MF $depbase.Tpo -c -o Xaction.lo ../../../../src/adaptation/icap/Xaction.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ServiceRep.lo -MD -MP -MF .deps/ServiceRep.Tpo -c ../../../../src/adaptation/icap/ServiceRep.cc  -fPIC -DPIC -o .libs/ServiceRep.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT OptXact.lo -MD -MP -MF .deps/OptXact.Tpo -c ../../../../src/adaptation/icap/OptXact.cc  -fPIC -DPIC -o .libs/OptXact.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Launcher.lo -MD -MP -MF .deps/Launcher.Tpo -c ../../../../src/adaptation/icap/Launcher.cc  -fPIC -DPIC -o .libs/Launcher.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Xaction.lo -MD -MP -MF .deps/Xaction.Tpo -c ../../../../src/adaptation/icap/Xaction.cc  -fPIC -DPIC -o .libs/Xaction.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT OptXact.lo -MD -MP -MF .deps/OptXact.Tpo -c ../../../../src/adaptation/icap/OptXact.cc  -fPIC -DPIC -o OptXact.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ServiceRep.lo -MD -MP -MF .deps/ServiceRep.Tpo -c ../../../../src/adaptation/icap/ServiceRep.cc  -fPIC -DPIC -o ServiceRep.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Launcher.lo -MD -MP -MF .deps/Launcher.Tpo -c ../../../../src/adaptation/icap/Launcher.cc  -fPIC -DPIC -o Launcher.o >/dev/null 2>&1
depbase=`echo ModXact.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT ModXact.lo -MD -MP -MF $depbase.Tpo -c -o ModXact.lo ../../../../src/adaptation/icap/ModXact.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo icap_log.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT icap_log.lo -MD -MP -MF $depbase.Tpo -c -o icap_log.lo ../../../../src/adaptation/icap/icap_log.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo History.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT History.lo -MD -MP -MF $depbase.Tpo -c -o History.lo ../../../../src/adaptation/icap/History.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ModXact.lo -MD -MP -MF .deps/ModXact.Tpo -c ../../../../src/adaptation/icap/ModXact.cc  -fPIC -DPIC -o .libs/ModXact.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT icap_log.lo -MD -MP -MF .deps/icap_log.Tpo -c ../../../../src/adaptation/icap/icap_log.cc  -fPIC -DPIC -o .libs/icap_log.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT History.lo -MD -MP -MF .deps/History.Tpo -c ../../../../src/adaptation/icap/History.cc  -fPIC -DPIC -o .libs/History.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Xaction.lo -MD -MP -MF .deps/Xaction.Tpo -c ../../../../src/adaptation/icap/Xaction.cc  -fPIC -DPIC -o Xaction.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT History.lo -MD -MP -MF .deps/History.Tpo -c ../../../../src/adaptation/icap/History.cc  -fPIC -DPIC -o History.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT icap_log.lo -MD -MP -MF .deps/icap_log.Tpo -c ../../../../src/adaptation/icap/icap_log.cc  -fPIC -DPIC -o icap_log.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../../.. -I../../../../include -I../../../../lib -I../../../../src -I../../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT ModXact.lo -MD -MP -MF .deps/ModXact.Tpo -c ../../../../src/adaptation/icap/ModXact.cc  -fPIC -DPIC -o ModXact.o >/dev/null 2>&1
/bin/bash ../../../libtool  --tag=CXX   --mode=link ccache clang++ -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o libicap.la  Client.lo Config.lo Elements.lo Options.lo ServiceRep.lo Launcher.lo OptXact.lo Xaction.lo ModXact.lo icap_log.lo History.lo  
libtool: link: /usr/bin/ar cru .libs/libicap.a .libs/Client.o .libs/Config.o .libs/Elements.o .libs/Options.o .libs/ServiceRep.o .libs/Launcher.o .libs/OptXact.o .libs/Xaction.o .libs/ModXact.o .libs/icap_log.o .libs/History.o 
libtool: link: ranlib .libs/libicap.a
libtool: link: ( cd ".libs" && rm -f "libicap.la" && ln -s "../libicap.la" "libicap.la" )
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation/icap'>
make[5]: Entering directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation'>
depbase=`echo AccessCheck.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT AccessCheck.lo -MD -MP -MF $depbase.Tpo -c -o AccessCheck.lo ../../../src/adaptation/AccessCheck.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo AccessRule.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT AccessRule.lo -MD -MP -MF $depbase.Tpo -c -o AccessRule.lo ../../../src/adaptation/AccessRule.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Answer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Answer.lo -MD -MP -MF $depbase.Tpo -c -o Answer.lo ../../../src/adaptation/Answer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Config.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/bash ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include    -I/usr/include/libxml2  -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF $depbase.Tpo -c -o Config.lo ../../../src/adaptation/Config.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/adaptation/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT Answer.lo -MD -MP -MF .deps/Answer.Tpo -c ../../../src/adaptation/Answer.cc  -fPIC -DPIC -o .libs/Answer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT AccessRule.lo -MD -MP -MF .deps/AccessRule.Tpo -c ../../../src/adaptation/AccessRule.cc  -fPIC -DPIC -o .libs/AccessRule.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/include/libxml2 -I/usr/include/libxml2 -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -MT AccessCheck.lo -MD -MP -MF .deps/AccessCheck.Tpo -c ../../../src/adaptation/AccessCheck.cc  -fPIC -DPIC -o .libs/AccessCheck.o
../../../src/adaptation/Answer.cc:11:10: fatal error: 'squid.h' file not found
#include "squid.h"
         ^
error: unable to open output file '.libs/AccessCheck.o': 'Error opening output file '.libs/AccessCheck.o': No such file or directory'
1 error generated.
Makefile:885: recipe for target 'AccessCheck.lo' failed
make[5]: *** [AccessCheck.lo] Error 1
make[5]: *** Waiting for unfinished jobs....
error: unable to open output file '.libs/Config.o': 'Error opening output file '.libs/Config.o': No such file or directory'
1 error generated.
Makefile:885: recipe for target 'Config.lo' failed
make[5]: *** [Config.lo] Error 1
error: unable to open output file '.libs/AccessRule.o': 'Error opening output file '.libs/AccessRule.o': No such file or directory'
1 error generated.
Makefile:885: recipe for target 'AccessRule.lo' failed
make[5]: *** [AccessRule.lo] Error 1
1 error generated.
Makefile:885: recipe for target 'Answer.lo' failed
make[5]: *** [Answer.lo] Error 1
make[5]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation'>
Makefile:905: recipe for target 'all-recursive' failed
make[4]: *** [all-recursive] Error 1
make[4]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src/adaptation'>
Makefile:6959: recipe for target 'all-recursive' failed
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src'>
Makefile:5970: recipe for target 'all' failed
make[2]: *** [all] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build/src'>
Makefile:570: recipe for target 'all-recursive' failed
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/ws/btlayer-02-maximus/squid-5.0.0-BZR/_build'>
Makefile:778: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-02-maximus.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:   -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -ldl -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS: -I/usr/include/libxml2  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:   -g -O2 -std=c++11
../../../src/adaptation/Answer.cc:11:10: fatal error: 'squid.h' file not found
error: unable to open output file '.libs/AccessCheck.o': 'Error opening output file '.libs/AccessCheck.o': No such file or directory'
make[5]: *** [AccessCheck.lo] Error 1
error: unable to open output file '.libs/Config.o': 'Error opening output file '.libs/Config.o': No such file or directory'
make[5]: *** [Config.lo] Error 1
error: unable to open output file '.libs/AccessRule.o': 'Error opening output file '.libs/AccessRule.o': No such file or directory'
make[5]: *** [AccessRule.lo] Error 1
make[5]: *** [Answer.lo] Error 1
make[4]: *** [all-recursive] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar 18 12:54:44 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 12:54:44 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23311?=
In-Reply-To: <824357431.6.1489834645741.JavaMail.jenkins@buildmaster>
References: <824357431.6.1489834645741.JavaMail.jenkins@buildmaster>
Message-ID: <324238197.8.1489841684918.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/311/display/redirect>

------------------------------------------
[...truncated 955.03 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Sat Mar 18 13:10:36 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 13:10:36 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_templat?=
 =?utf-8?q?e-full-matrix_=C2=BB_clang=2Cd-opensuse-13=2E2_=23311?=
Message-ID: <396745970.9.1489842636915.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-opensuse-13.2/311/display/redirect>


From noc at squid-cache.org  Sat Mar 18 15:58:06 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 15:58:06 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_templat?=
 =?utf-8?q?e-full-matrix_=C2=BB_gcc=2Cd-ubuntu-vivid_=23311?=
Message-ID: <1591161179.10.1489852686379.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=gcc,label=d-ubuntu-vivid/311/display/redirect>


From noc at squid-cache.org  Sat Mar 18 18:12:16 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Sat, 18 Mar 2017 18:12:16 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Jenkins_build_is_back_to_normal_=3A_5-matri?=
 =?utf-8?q?x_=C2=BB_clang=2Cd-debian-jessie_=23139?=
In-Reply-To: <1931347631.7.1489837597572.JavaMail.jenkins@buildmaster>
References: <1931347631.7.1489837597572.JavaMail.jenkins@buildmaster>
Message-ID: <1913135438.11.1489860736441.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=clang,label=d-debian-jessie/139/display/redirect>


From khaled.belhout at gmail.com  Sun Mar 19 10:49:52 2017
From: khaled.belhout at gmail.com (khaled belhout)
Date: Sun, 19 Mar 2017 11:49:52 +0100
Subject: [squid-dev] configure failed on msys2 mingw32
Message-ID: <CABcULUtQz901cottBH0o4NLo3ib9dZCSUUCwCPROV+nO4u3dfQ@mail.gmail.com>

hello,
configure sricpt failed on my windows 7 box
./configure: line 39488: syntax error near unexpected token
`as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`'
./configure: line 39488: `  as_ac_var=`$as_echo "ac_cv_func_$ac_func"
| $as_tr_sh`'
-------------- next part --------------
A non-text attachment was scrubbed...
Name: config.log.gz
Type: application/x-gzip
Size: 47361 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170319/5bc43a0e/attachment-0001.bin>

From rousskov at measurement-factory.com  Tue Mar 21 21:27:25 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Tue, 21 Mar 2017 15:27:25 -0600
Subject: [squid-dev] [RFC] Do not use idle dead peers
Message-ID: <77d75b8c-95d4-11e9-eba4-6213fa854c65@measurement-factory.com>

Hello,

    This Request For Comments proposes to remove a subtle Squid
(mis)feature. If you happen to use the corresponding feature, please
speak up to protect it! If nobody defends this feature, we may remove it
(in order to get rid of its bad side effects).

The feature can be summarized as follows: Since 2004 (trunk r6631),
Squid may forward an HTTP request to a dead peer that was idle for some
time. If there were no failures for a while then perhaps the peer is not
dead anymore? Let's try using it for the current HTTP transaction and
see what happens. If we are lucky, we will start using the peer sooner!..


The details of the feature, its negative side effects, and expected
removal impact, are all discussed on squid-users:

http://lists.squid-cache.org/pipermail/squid-users/2017-March/014785.html


Here, I can post the gist of the proposed change for those who want to
look at the affected code:

>  /// OK to add this peer to the list of possible request destinations?
>  bool
>  neighborUp(const CachePeer *p)
>  {
>      if (!p->tcp_up) { // the peer is DEAD
> -        if (!peerProbeConnect(p))
> +        peerProbeConnect(p);
>              return false;
>      }
>  
>      if (p->options.no_query)
>          return true; // yes, add this peer


The above diff is just a sketch and more code polishing is needed to
fully remove this feature, of course.

Does anybody need this "use idle dead peers" feature?


Thank you,

Alex.
P.S. Please resist the temptation to discuss other peering problems on
this thread, including other problems associated with detection and
revival of dead peers. Let's focus on this specific feature proposed for
removal.

From squid3 at treenet.co.nz  Wed Mar 22 04:27:06 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 22 Mar 2017 17:27:06 +1300
Subject: [squid-dev] [RFC] Do not use idle dead peers
In-Reply-To: <77d75b8c-95d4-11e9-eba4-6213fa854c65@measurement-factory.com>
References: <77d75b8c-95d4-11e9-eba4-6213fa854c65@measurement-factory.com>
Message-ID: <91b481f5-7933-6cfc-b7b1-93361d518b56@treenet.co.nz>

On 22/03/2017 10:27 a.m., Alex Rousskov wrote:
> Hello,
> 
>     This Request For Comments proposes to remove a subtle Squid
> (mis)feature. If you happen to use the corresponding feature, please
> speak up to protect it! If nobody defends this feature, we may remove it
> (in order to get rid of its bad side effects).

FYI: I dont intend to defend this feature. Just to indicate that it is
still actively used - however buggy it may be. So fixing the probe
behaviour would be useful, complete removal is not an option (yet).


>From squid-users traffic is appears still quite common for
administrators to disable all of ICP, HTCP, netDB, digests, and ICMP.
Particularly for originserver peers. Without the monitor features from
Squid-2.7 the probes in question are the only way of the peer to be
detected as alive again.
 - that said, sending an active request which might be serviced better
by other peers is very dodgy.


IFAIK touching this feature will result in changes to what status code
and/or error page Squid produces.

It currently should (modulo bugs) result in connection-failed or timeout
types of final error going to the client as the victum requests actively
fail to be forwarded to the truely-dead peer.

After the change I would expect to see more being successful trnsactions
- but only in the presence of other live peers or DIRECT being
permitted. The ones which remain unsuccessful to become
no-forwarding-path errors since now no paths would be detected as usable.
 That remaining error case needs to be checked for exact status code and
how it impacts on caching hierarchies and retry logic.

Since the proposed change is so small has any of that behaviour been
tested already?


Other possibilities (if we have to) would be;
 a) to flag the situation in the FwdServer object used to construct the
destination list and ensure these peers are put as absolute last-resort
destinations instead of where they would normally be placed.

Or maybe simpler;
 b) a new peer select algorithm to find only this type of peer and add
them only if all other algorithms fail to produce a list.


> 
> Does anybody need this "use idle dead peers" feature?

I expect everyone who has explicitly disabled all other types of
peer-ALIVE detection and where never_direct forbids bypassing the peer.

HTH
Amos


From squid3 at treenet.co.nz  Wed Mar 22 05:43:08 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 22 Mar 2017 18:43:08 +1300
Subject: [squid-dev] [PATCH] Fix ext_session_acl to handle - when no
	argument is passed
In-Reply-To: <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
References: <d9b72ff4-523d-7f72-3b53-061d17c09d35@middleearth.sapphiresunday.org>
 <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
Message-ID: <d7ed0ac9-02dc-8610-81ef-37014885e60f@treenet.co.nz>

On 21/03/2017 3:36 a.m., Trever L. Adams wrote:
> On 03/20/2017 05:47 AM, Trever L. Adams wrote:
>> This is pull #1 on github if that is the correct place to do this.
>>
>> Thank you.
>>
>> Trever
>>
> I am sorry, I sent the wrong patch. Pull request has been corrected as well.
> 


Hi Trever,
 Can you explain the problem and intended behaviour change? the title of
the PR does not tell much.


FYI: the current contents of github are experiments which will be remove
or replaced shortly. AFAIK the plan is that the 'squid' repository name
will be the one used in future, however the current contents are going
to be replaced shortly. Please do not rely on them until an announcement
comes out about the migration. Apologies for the inconvenience.

Amos

PS. for squid-dev the patch submission was:

ext_session_acl_no_argument.patch

diff --git a/src/acl/external/session/ext_session_acl.cc
b/src/acl/external/session/ext_session_acl.cc
index 09ff163..e252165 100644
--- a/src/acl/external/session/ext_session_acl.cc
+++ b/src/acl/external/session/ext_session_acl.cc
@@ -202,15 +202,13 @@ int main(int argc, char **argv)
         char *lastdetail = strrchr(detail, ' ');
         size_t detail_len = strlen(detail);
         if (lastdetail) {
+            detail_len = (size_t)(lastdetail-detail);
             if (strcmp(lastdetail, " LOGIN") == 0) {
                 action = 1;
-                detail_len = (size_t)(lastdetail-detail);
-                *lastdetail = '\0';
             } else if (strcmp(lastdetail, " LOGOUT") == 0) {
                 action = -1;
-                detail_len = (size_t)(lastdetail-detail);
-                *lastdetail = '\0';
             }
+            *lastdetail = '\0';
         }
         if (action == -1) {
             session_logout(detail, detail_len);


From noc at squid-cache.org  Wed Mar 22 08:05:53 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Wed, 22 Mar 2017 08:05:53 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23312?=
In-Reply-To: <324238197.8.1489841684918.JavaMail.jenkins@buildmaster>
References: <324238197.8.1489841684918.JavaMail.jenkins@buildmaster>
Message-ID: <2136059918.0.1490169953201.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/312/display/redirect>

------------------------------------------
[...truncated 954.98 KB...]
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NCSA'>
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From squid3 at treenet.co.nz  Wed Mar 22 12:44:55 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 01:44:55 +1300
Subject: [squid-dev] [PATCH] Fix ext_session_acl to handle - when no
 argument is passed
In-Reply-To: <0d2f1f37-c922-2a6c-0182-68a16cc40fad@middleearth.sapphiresunday.org>
References: <d9b72ff4-523d-7f72-3b53-061d17c09d35@middleearth.sapphiresunday.org>
 <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
 <d7ed0ac9-02dc-8610-81ef-37014885e60f@treenet.co.nz>
 <0d2f1f37-c922-2a6c-0182-68a16cc40fad@middleearth.sapphiresunday.org>
Message-ID: <c5d695ad-5255-bd5c-ed5f-90808b0485f5@treenet.co.nz>

On 22/03/2017 11:04 p.m., Trever L. Adams wrote:
> Amos,
> 
> Sure. I am using squid-4.0.17-1.fc25.x86_64. If you follow the
> directions in http://wiki.squid-cache.org/ConfigExamples/Portal/Splash,
> they do not work. This is because Squid is sending the following for query:
> "# IP -" (I am using %SRC not %LOGIN, the example shows this, other uses
> and examples use %LOGIN, which doesn't apply in my case.). The plugin
> does not work because for this to work it would expect "# IP - LOGIN"
> for the login. My patch addresses this by ignoring anything after the "
> " if it doesn't match expected data.
> 
> I have done this by testing my directly calling ext_session_acl and strace.
> 
> The down side of the patch is it may break installations where people
> are working around this by adding the - before the LOGIN in the acl
> lines in their configuration.
> 
> I believe my patch applies to all versions of the tree on github
> provided that the location is appropriate (the code doesn't seem to have
> changed).

Ah. This is a side effect of the change to using logformat tokens. The
%DATA field is always present now.

We cannot simply ignore any value in the lastdetail field since when the
helper is in passive mode it might be part of the session ID.

At best we need the helper to check for the exact string " -" and drop
that if it occurs. That should be safe enough with both modes because an
empty last parameter will be a unique match in both anyway - it might as
well be missing as " -" string. The DB entry will be different from what
one might expect, but have a consistent value for passsive mode.

> 
> If you can point me to the appropriate repository, I can redo the patch
> if desired.

No need. With the above change I'm re-writing the fix entirely.

Are you able to test the below patch works for you?
it passes my basic tests.

Cheers
Amos

=== modified file 'src/acl/external/session/ext_session_acl.cc'
--- src/acl/external/session/ext_session_acl.cc 2017-01-01 00:12:22 +0000
+++ src/acl/external/session/ext_session_acl.cc 2017-03-22 12:41:55 +0000
@@ -193,41 +193,47 @@
         int action = 0;
         const char *channel_id = strtok(request, " ");
         char *detail = strtok(NULL, "\n");
         if (detail == NULL) {
             // Only 1 paramater supplied. We are expecting at least 2
(including the channel ID)
             fprintf(stderr, "FATAL: %s is concurrent and requires the
concurrency option to be specified.\n", program_name);
             shutdown_db();
             exit(1);
         }
         char *lastdetail = strrchr(detail, ' ');
         size_t detail_len = strlen(detail);
         if (lastdetail) {
             if (strcmp(lastdetail, " LOGIN") == 0) {
                 action = 1;
                 detail_len = (size_t)(lastdetail-detail);
                 *lastdetail = '\0';
             } else if (strcmp(lastdetail, " LOGOUT") == 0) {
                 action = -1;
                 detail_len = (size_t)(lastdetail-detail);
                 *lastdetail = '\0';
+            } else if (!default_action && strcmp(lastdetail, " -") == 0) {
+                // no action; LOGIN/LOGOUT not supplied
+                // but truncate the '-' %DATA value given by Squid-4
and later
+                detail_len = (size_t)(lastdetail-detail);
+                *lastdetail = '\0';
             }
+            // else do nothing
         }
         if (action == -1) {
             session_logout(detail, detail_len);
             printf("%s OK message=\"Bye\"\n", channel_id);
         } else if (action == 1) {
             session_login(detail, detail_len);
             printf("%s OK message=\"Welcome\"\n", channel_id);
         } else if (session_active(detail, detail_len)) {
             if (fixed_timeout == 0) {
                 session_login(detail, detail_len);
             }
             printf("%s OK\n", channel_id);
         } else if (default_action == 1) {
             session_login(detail, detail_len);
             printf("%s ERR message=\"Welcome\"\n", channel_id);
         } else {
             printf("%s ERR message=\"No session available\"\n",
channel_id);
         }
     }
     shutdown_db();



From squid3 at treenet.co.nz  Wed Mar 22 12:58:22 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 01:58:22 +1300
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
In-Reply-To: <f5ebb36f-7663-4ff4-96c7-ab741b2d3f1c@measurement-factory.com>
References: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
 <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
 <f5ebb36f-7663-4ff4-96c7-ab741b2d3f1c@measurement-factory.com>
Message-ID: <90146b36-5e90-7943-eb8c-0f0a434ff4b5@treenet.co.nz>

On 17/03/2017 2:11 a.m., Eduard Bagdasaryan wrote:
> On 16.03.2017 10:15, Amos Jeffries wrote:
> 
>>in src/neighbours.cc:
>>
>> * peerConnectTimeout() should be a member of the CachePeer class yes?
> 
> The initial patch version did as you suggest, but then we decided
> to use separate method instead, to avoid 'heavy' dependency on
> SquidConfig.h (which periodically causes linkage problems, IIRC).
> 

Hmm. Okay for now, but please add a TODO or XXX about that to the function.

> 
>> in src/tunnel.cc:
>>
>> * "start" is an action name and we use it (almost?) exclusively for Job
>> initiation. By comparison "started" means/implies more clearly a state
>> or time point. The Tunnel member stores a time point.
>>  - IMO both are bad, but "started" is better than "start". Better still
>> would be a name that actually describes *what* has been start(ed).
> 
> I do not mind renaming it, e.g., into 'creationTime'.
> 

Sounds good to me.

> 
>> in src/PeerPoolMgr.cc:
>>
>> * in PeerPoolMgr::handleOpenedConnection() I see a line doing max(1,
>> (peerTimeout - timeUsed)); just like the code in FwdState.cc
>> FwdState::connectDone().
>>  BUT, this PoolMgr is (wrongly) using int instead of time_t. Perhapse
>> that should be changed and something de-duplicate that max(1, x) usage?
> 
> I am not against changing int to time_t there. As for 'max', how about
> creating inside neighbors.cc a helper method:
> time_t PositiveTimeout(const time_t timeout) { return max(1, timeout); }
> 

Sounds good. I did a few tests to see if we could also avoid the
static_cast, but it seems not in any simple way. So dont forget that in
the new function.


> 
>> in src/comm/Connection.cc:
>>
>> * I dont see why EnoughTimeToReForward() should be in the Comm::
>> namespace. It is about messageing layer timing. So is more appropriate
>> to be in FwdState:: or maybe SquidTime.h/time.cc.
>>  - if you pick time.cc that would also mean the fairly generic time_t
>> static functions it calls would move to time.cc where they seem more
>> appropriate.
> 
> Again, I am not against moving this method and ForwardTimeout() into
> FwdState.cc (keeping related '*Forward' methods there makes some sense).
> 

Okay, I can live with that.

Amos


From squid3 at treenet.co.nz  Wed Mar 22 13:20:01 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 02:20:01 +1300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
 <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
 <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>
Message-ID: <763637b0-c942-a37a-540e-27dd3b3ff6e0@treenet.co.nz>

On 17/03/2017 6:17 a.m., Alex Rousskov wrote:
> On 03/16/2017 05:15 AM, Amos Jeffries wrote:
> 
> 
>> Any objections to applying this with this added:
>>
>>   // XXX: putStr() still has String 64KB limits
>>   Must(strVia.length() < 64*1024);
> 
> No objections from me if you replace the magic constant with a new
> inlined String::MaxSizeXXX() method. The slightly misleading source code
> comment above becomes unnecessary after that. Why XXX()? Because no
> correct caller code should know about internal String limits (but it may
> catch exceptions, including exceptions due to those limits).

Okay.


If you dont mind spending a bit more time to chew that philosophical
point over, I am in slight disagreement that the need for XXX after
avoiding the magic number.

Your argument is good for the case where it is using magic numbers, even
when hidden behind a macro name. That is certainly a slippery slope to
bad news.

However, it seems reasonable for a caller to expect there to be _a_
limit. It is also reasonable for the caller to be aware of some API way
to find it out.

The safety in the latter comes from there being no knowledge of it being
a specific fixed value. For instance it could be changed each lookup or
depend on the currently stored String contents for all the caller knows
or cares - at the needed instant of lookup it is the value provided by
the API, that is all that matters to the caller.
 By using a member which does not require recompiling the caller if it
changes we move from the former bad situation to the latter safe(r) one.


> 
>> (I kind of hate those low-level operations with Must() and assert() like
>> the former - far too little context to be useful debugging with such big
>> impact when they are triggered.)
> 
> While it is indeed tempting to hate those Must(), we must keep in mind
> that low-level assert-replacing Must()s are not meant for debugging or
> even traditional error handling. Their purpose is to (hopefully) prevent
> Squid death.
> 
> When the crash avoidance project completes, we will have a way to dump
> stack traces for specific Must()s, which will provide the same level of
> triage info as an assert() would, but (hopefully) without killing Squid
> in environments where such functionality is supported.
> 

Any kind of estimate on that?

Amos


From rousskov at measurement-factory.com  Wed Mar 22 15:08:10 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 22 Mar 2017 09:08:10 -0600
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <763637b0-c942-a37a-540e-27dd3b3ff6e0@treenet.co.nz>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
 <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
 <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>
 <763637b0-c942-a37a-540e-27dd3b3ff6e0@treenet.co.nz>
Message-ID: <4642e8d0-482a-df2e-c795-646c69a66422@measurement-factory.com>

On 03/22/2017 07:20 AM, Amos Jeffries wrote:
> On 17/03/2017 6:17 a.m., Alex Rousskov wrote:
>> On 03/16/2017 05:15 AM, Amos Jeffries wrote:
>>
>>
>>> Any objections to applying this with this added:
>>>
>>>   // XXX: putStr() still has String 64KB limits
>>>   Must(strVia.length() < 64*1024);
>>
>> No objections from me if you replace the magic constant with a new
>> inlined String::MaxSizeXXX() method. The slightly misleading source code
>> comment above becomes unnecessary after that. Why XXX()? Because no
>> correct caller code should know about internal String limits (but it may
>> catch exceptions, including exceptions due to those limits).


> it seems reasonable for a caller to expect there to be _a_ limit.

Yes, although it is easy to misinterpret "expect" in this context. Any
concatenation or append operation may fail because it hits some kind of
a limit. We should go even further: Almost any operation may fail. This
is a fact. This fact should be common knowledge, and the code should
"expect" such failures. However, "expect" here usually does not imply
"prevent". It usually means "handle". The critical difference becomes
important in the second part of my answer to your question(**).

Moreover, since almost everything can fail, good programs written in
modern languages do not handle failures the same way programs written in
C do. The old (and failed)

C: "check each return value for being invalid and immediately treat an
invalid value as an error"

approach becomes

C++: "only return valid values but anticipate exceptions and catch them
where it is convenient"

or

Rust: "do not return raw values and unwrap either-value-or-error bundles
(and handle errors) where it is necessary to access the raw value" (AFAIK)


> It is also reasonable for the caller to be aware of some API way
> to find it out.

It is certainly tempting but usually wrong. The exact limit, which
operations it applies to, and how exactly it is applied is an internal
implementation detail. In the case of a SomeString class, for example,
the fact that some String classes always append the null terminator,
some never do, and some append under certain conditions may affect how
the limit is applied. Burdening the caller with all that internal String
knowledge is clearly wrong.

As mentioned earlier(**), the correct approach is to handle the
situation where the caller has hit some limit and the called operation
has thrown an exception. Since we do not want to (and often cannot
reliably) prevent our actions from hitting limits, exposing some limit
is unnecessary, and the code using such an exposed limit is likely to be
or become buggy. This is why we should add and XXX suffix to the
limit-returning method that encourages writing such code.

Various buggy versions of the patch in question (and earlier Squid code
suffering from similar crashes) illustrate the advantages of the "do not
try to prevent errors because you will fail; throw and handle exceptions
instead" approach well.

There are certainly exceptional situations where these general
approaches either do not apply at all or cannot be applied until the
code is restructured/fixed. In the latter cases, we add XXXs in attempt
to mark bad code (even if that code is currently necessary) and slow
down the propagation of that bad code or its bad idea.


>>> (I kind of hate those low-level operations with Must() and assert() like
>>> the former - far too little context to be useful debugging with such big
>>> impact when they are triggered.)
>>
>> While it is indeed tempting to hate those Must(), we must keep in mind
>> that low-level assert-replacing Must()s are not meant for debugging or
>> even traditional error handling. Their purpose is to (hopefully) prevent
>> Squid death.
>>
>> When the crash avoidance project completes, we will have a way to dump
>> stack traces for specific Must()s, which will provide the same level of
>> triage info as an assert() would, but (hopefully) without killing Squid
>> in environments where such functionality is supported.
>>
> 
> Any kind of estimate on that?

2017 or so. No sponsor gives this work high priority so it is currently
a barely moving background project.


Cheers,

Alex.


From squid3 at treenet.co.nz  Wed Mar 22 15:25:10 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 04:25:10 +1300
Subject: [squid-dev] [PATCH] Detail swapfile header inconsistencies
In-Reply-To: <07c5c13d-cb69-4418-e726-cc587e645b9c@measurement-factory.com>
References: <c0dfab38-9a9e-4179-ce6d-ffa8af6a7f3d@measurement-factory.com>
 <67da52ea-9dcf-f281-5141-8b88ffab2655@treenet.co.nz>
 <07c5c13d-cb69-4418-e726-cc587e645b9c@measurement-factory.com>
Message-ID: <8b348077-ea9e-95e5-aa3c-2cebf1051e8a@treenet.co.nz>

On 10/03/2017 7:03 p.m., Alex Rousskov wrote:
> On 03/09/2017 06:51 PM, Amos Jeffries wrote:
>> On 6/03/2017 6:02 a.m., Eduard Bagdasaryan wrote:
>>> This patch improves Squid to better distinguish error cases when loading
>>> cache entry metadata is failed. Knowing the exact failure reason may
>>> help triage and guide development.  Refactoring also reduced code
>>> duplication and  fixed a null pointer dereference inside ufsdump.cc (but
>>> ufsdump does not even build right now for reasons unrelated to
>>> these changes).
>>>
>>> This patch applies to both v4 and v5.
>>
>> +1 from me.
>>
>> Alex if you have no objections I expect to apply this in the next day or so.
> 
> 
> Please do.
> 

FTR; this was merged a few days ago as squid-5-15098.

Amos


From rousskov at measurement-factory.com  Wed Mar 22 16:01:20 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 22 Mar 2017 10:01:20 -0600
Subject: [squid-dev] [RFC] Do not use idle dead peers
In-Reply-To: <91b481f5-7933-6cfc-b7b1-93361d518b56@treenet.co.nz>
References: <77d75b8c-95d4-11e9-eba4-6213fa854c65@measurement-factory.com>
 <91b481f5-7933-6cfc-b7b1-93361d518b56@treenet.co.nz>
Message-ID: <f80791f0-e199-eedb-8331-ef1d659241f3@measurement-factory.com>

On 03/21/2017 10:27 PM, Amos Jeffries wrote:
> On 22/03/2017 10:27 a.m., Alex Rousskov wrote:
>>     This Request For Comments proposes to remove a subtle Squid
>> (mis)feature. If you happen to use the corresponding feature, please
>> speak up to protect it! If nobody defends this feature, we may remove it
>> (in order to get rid of its bad side effects).


> FYI: fixing the probe
> behaviour would be useful, complete removal is not an option (yet).

I suspect your "not an option" opinion is based on incorrect assumption
about what I propose to remove (it is not the probing!) and/or what
probes remain after the proposed changes (all of them remain unchanged!).


> From squid-users traffic is appears still quite common for
> administrators to disable all of ICP, HTCP, netDB, digests, and ICMP.

Agreed.


> the probes in question are the only way of the peer to be
> detected as alive again.

This is incorrect. TCP probes (which cannot be disabled) are the primary
mechanism for dead peer revival. I do not propose to remove them (or any
other probe). This RFC does not even propose to change them. TCP probes
are initiated in peerProbeConnect(). That function does not go anywhere;
at the end of this email, I have re-quoted the summary diff showing that
function call for your reference.


> IFAIK touching this feature will result in changes to what status code
> and/or error page Squid produces.

Yes, an individual transaction outcome might change in some cases
(usually for the better). No, the set of possible status codes/errors
across all cases remains exactly the same as before the change. That set
will continue to contain "cannot find a way to forward" and various "I
tried to forward but failed" errors.


> It currently should (modulo bugs) result in connection-failed or timeout
> types of final error going to the client as the victum requests actively
> fail to be forwarded to the truely-dead peer.

Yes, for the first failure (or a few first concurrent failures) after
the dead peer becomes "idle". After the first failure (with an idle dead
peer), the dead peer is no longer considered idle, and Squid stops using
it for a while (until the peer becomes idle again). To paraphrase the
current code:

  const time_t ctimeout = peerConnectTimeout(p);
  const bool thisDeadPeerIsIdle =
    (squid_curtime - p->stats.last_connect_failure) > 10*ctimeout;


> After the change I would expect to see more being successful trnsactions
> - but only in the presence of other live peers or DIRECT being
> permitted.

Yes. The exact preconditions for "more successful transactions" are more
complex than summarized above, but I do not think those details are
important for this discussion.


> The ones which remain unsuccessful
> no-forwarding-path errors since now no paths would be detected as usable.
>  That remaining error case needs to be checked for exact status code and
> how it impacts on caching hierarchies and retry logic.

The set of possible errors for unsuccessful transactions does not
change: Some will try to connect and fail (because the peer died after
it was selected), and some will fail because there is still no
forwarding path left (because all peers are dead). Only the number of
each error in specific use cases may change, and even that change in
numbers should be minor in most use cases because only the first failure
(or the first few concurrent failures) when talking to an idle dead peer
are affected.


> Since the proposed change is so small has any of that behaviour been
> tested already?

The change has not been implemented or tested (I would have posted a
PATCH instead of an RFC if it were), but the expected behavior already
happens everyday in unpatched Squid.


> Other possibilities (if we have to) would be;
>  a) to flag the situation in the FwdServer object used to construct the
> destination list and ensure these peers are put as absolute last-resort
> destinations instead of where they would normally be placed.

IMO, it is conceptually wrong to use dead peers just because they are
"idle". While we can indeed add dead peers as "last resort", doing so
should not depend on the dead peer being "idle". Thus, this kind of
feature is outside this RFC scope (but it will become easier to
implement if the proposed change is committed).


> Or maybe simpler;
>  b) a new peer select algorithm to find only this type of peer and add
> them only if all other algorithms fail to produce a list.

Yes, this is how the "use dead peers as last resort" idea in (a) should
be implemented if it is implemented. It is outside this RFC scope though.


>> Does anybody need this "use idle dead peers" feature?

> I expect everyone who has explicitly disabled all other types of
> peer-ALIVE detection and where never_direct forbids bypassing the peer.

Does the fact that TCP checks cannot be disabled and remain the primary
way of reviving dead peers change your answer?


Thank you,

Alex.


>  /// OK to add this peer to the list of possible request destinations?
>  bool
>  neighborUp(const CachePeer *p)
>  {
>      if (!p->tcp_up) { // the peer is DEAD
> -        if (!peerProbeConnect(p))
> +        peerProbeConnect(p);
>              return false;
>      }
>  
>      if (p->options.no_query)
>          return true; // yes, add this peer



From rousskov at measurement-factory.com  Wed Mar 22 18:10:55 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Wed, 22 Mar 2017 12:10:55 -0600
Subject: [squid-dev] [PATCH] Fix ext_session_acl to handle - when no
 argument is passed
In-Reply-To: <c5d695ad-5255-bd5c-ed5f-90808b0485f5@treenet.co.nz>
References: <d9b72ff4-523d-7f72-3b53-061d17c09d35@middleearth.sapphiresunday.org>
 <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
 <d7ed0ac9-02dc-8610-81ef-37014885e60f@treenet.co.nz>
 <0d2f1f37-c922-2a6c-0182-68a16cc40fad@middleearth.sapphiresunday.org>
 <c5d695ad-5255-bd5c-ed5f-90808b0485f5@treenet.co.nz>
Message-ID: <5a1650f9-e3c7-98c0-681f-90ba3d79d8e9@measurement-factory.com>

On 03/22/2017 06:44 AM, Amos Jeffries wrote:

> This is a side effect of the change to using logformat tokens. The
> %DATA field is always present now.

My understanding is that, after the logformat changes, Squid started
appending "-" to the helper query when an external ACL has no
parameters. The examples use parameterless ACLs to indicate that no or
default action is to be taken (depending on active/passive mode). We now
need to adjust the helper code to _expect_ that dash.


> +            } else if (!default_action && strcmp(lastdetail, " -") == 0) {
> +                // no action; LOGIN/LOGOUT not supplied
> +                // but truncate the '-' %DATA value given by Squid-4 and later
> +                detail_len = (size_t)(lastdetail-detail);
> +                *lastdetail = '\0';
>              }
> +            // else do nothing

s/truncate/remove/?

It is not clear why we need to remove the dash only when default_action
is zero (i.e., in active mode). The dash is going to be present in both
modes, right? I am not saying the patch is wrong; only that it is not
clear why the code does what it does.

I would expect something along these lines instead (pseudo code):

  // What action was requested (including no/default action)?
  if (... LOGIN ...) action = 1;
  else if (... LOGOUT ...) action = -1;
  else if (... - ...) action = default_action;
  else { ... BH unexpected query format ...; continue; }

  // remove the action field: it is not a part of the db key(?)
  detail_len = (size_t)(lastdetail-detail);
  lastdetail = '\0';

  ... do what the action says ...


HTH,

Alex.


From squid3 at treenet.co.nz  Thu Mar 23 01:53:54 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 14:53:54 +1300
Subject: [squid-dev] [PATCH] Fix ext_session_acl to handle - when no
 argument is passed
In-Reply-To: <5a1650f9-e3c7-98c0-681f-90ba3d79d8e9@measurement-factory.com>
References: <d9b72ff4-523d-7f72-3b53-061d17c09d35@middleearth.sapphiresunday.org>
 <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
 <d7ed0ac9-02dc-8610-81ef-37014885e60f@treenet.co.nz>
 <0d2f1f37-c922-2a6c-0182-68a16cc40fad@middleearth.sapphiresunday.org>
 <c5d695ad-5255-bd5c-ed5f-90808b0485f5@treenet.co.nz>
 <5a1650f9-e3c7-98c0-681f-90ba3d79d8e9@measurement-factory.com>
Message-ID: <e3a76609-1139-0c16-b893-e687ba5f9f0d@treenet.co.nz>

On 23/03/2017 7:10 a.m., Alex Rousskov wrote:
> On 03/22/2017 06:44 AM, Amos Jeffries wrote:
> 
>> This is a side effect of the change to using logformat tokens. The
>> %DATA field is always present now.
> 
> My understanding is that, after the logformat changes, Squid started
> appending "-" to the helper query when an external ACL has no
> parameters. The examples use parameterless ACLs to indicate that no or
> default action is to be taken (depending on active/passive mode). We now
> need to adjust the helper code to _expect_ that dash.

Yes, that matches my understanding of the situation.

> 
>> +            } else if (!default_action && strcmp(lastdetail, " -") == 0) {
>> +                // no action; LOGIN/LOGOUT not supplied
>> +                // but truncate the '-' %DATA value given by Squid-4 and later
>> +                detail_len = (size_t)(lastdetail-detail);
>> +                *lastdetail = '\0';
>>              }
>> +            // else do nothing
> 
> s/truncate/remove/?
> 

Okay. Will do.

> It is not clear why we need to remove the dash only when default_action
> is zero (i.e., in active mode). The dash is going to be present in both
> modes, right? I am not saying the patch is wrong; only that it is not
> clear why the code does what it does.

This helpers' passive mode does not need to care what the input is, so
long as it is consistent. The !default_action makes it avoid the extra
work if we dont need to care about it.

The admin may still use %DATA in either mode, so not touching the input
seems to be the better way to go except where there is no choice.

> 
> I would expect something along these lines instead (pseudo code):
> 
>   // What action was requested (including no/default action)?
>   if (... LOGIN ...) action = 1;
>   else if (... LOGOUT ...) action = -1;
>   else if (... - ...) action = default_action;
>   else { ... BH unexpected query format ...; continue; }
> 

That will result in BH for passive mode when the admin wants to use
%DATA in the format string (unless it is last).

The "// else do nothing" is explicitly added by my patch to document
that the case of unknown other values is valid/expected and to not touch
the contents of 'detail' when it happens.


Amos


From squid3 at treenet.co.nz  Thu Mar 23 02:20:56 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Thu, 23 Mar 2017 15:20:56 +1300
Subject: [squid-dev] configure failed on msys2 mingw32
In-Reply-To: <CABcULUtQz901cottBH0o4NLo3ib9dZCSUUCwCPROV+nO4u3dfQ@mail.gmail.com>
References: <CABcULUtQz901cottBH0o4NLo3ib9dZCSUUCwCPROV+nO4u3dfQ@mail.gmail.com>
Message-ID: <9efb41a9-d224-6710-58f5-e1a3367f4708@treenet.co.nz>

On 19/03/2017 11:49 p.m., khaled belhout wrote:
> hello,
> configure sricpt failed on my windows 7 box
> ./configure: line 39488: syntax error near unexpected token
> `as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`'
> ./configure: line 39488: `  as_ac_var=`$as_echo "ac_cv_func_$ac_func"
> | $as_tr_sh`'
> 

Hi khaled,


FYI: I gave up on mingw32 builds when it became clear the GCC version
was not going to work on current releases of Squid nor be updated. If
that has changed it is great news, otherwise you may have to move to
mingw-w64 to build a native Squid for Windows.


As to the problem:

 was that the latest 3.5 or v5 coded being built?
  the latter is definitely expected to fail due to the above GCC issues.

 did you run ./bootstrap.sh or autoreconf at any point before the build?

 can you identify what configure.ac line ./configure is trying to
perform when that happens?


Amos


From rousskov at measurement-factory.com  Thu Mar 23 14:46:03 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Thu, 23 Mar 2017 08:46:03 -0600
Subject: [squid-dev] [PATCH] Fix ext_session_acl to handle - when no
 argument is passed
In-Reply-To: <e3a76609-1139-0c16-b893-e687ba5f9f0d@treenet.co.nz>
References: <d9b72ff4-523d-7f72-3b53-061d17c09d35@middleearth.sapphiresunday.org>
 <8847bffb-15c9-9084-2eb9-6ee37a5d1ea8@middleearth.sapphiresunday.org>
 <d7ed0ac9-02dc-8610-81ef-37014885e60f@treenet.co.nz>
 <0d2f1f37-c922-2a6c-0182-68a16cc40fad@middleearth.sapphiresunday.org>
 <c5d695ad-5255-bd5c-ed5f-90808b0485f5@treenet.co.nz>
 <5a1650f9-e3c7-98c0-681f-90ba3d79d8e9@measurement-factory.com>
 <e3a76609-1139-0c16-b893-e687ba5f9f0d@treenet.co.nz>
Message-ID: <08fa4706-b998-33de-d9af-26026caf4d56@measurement-factory.com>

On 03/22/2017 07:53 PM, Amos Jeffries wrote:

> This helpers' passive mode does not need to care what the input is, so
> long as it is consistent.

I do not recommend ignoring input format in hope that ignored input is
consistent/acceptable/compatible/etc. However, I am not going to object
to any changes to this helper, even if they violate that general
principle, so feel free to commit whatever you think is the best. I do
not plan on following this thread further.


> The admin may still use %DATA in either mode, so not touching the input
> seems to be the better way to go except where there is no choice.

Using %DATA explicitly at the expected location (i.e., last) is not a
problem. Using it in unexpected and possibly unsupported places is.


>> I would expect something along these lines instead (pseudo code):
>>
>>   // What action was requested (including no/default action)?
>>   if (... LOGIN ...) action = 1;
>>   else if (... LOGOUT ...) action = -1;
>>   else if (... - ...) action = default_action;
>>   else { ... BH unexpected query format ...; continue; }
>>
> 
> That will result in BH for passive mode when the admin wants to use
> %DATA in the format string (unless it is last).

Yes, and I think that would be the right behavior for the helper.

The only counter argument that I can think of is that undocumented(?)
passive helper functionality correctly uses (not just tolerates/ignores
but _uses_) arbitrary query input past the source address. It is
difficult for me to imagine a good helper design that would allow for
such a thing but that does not mean it cannot exist. Please note that
this counter argument does not apply to the active helper where the
action ought to be required even when arbitrary query input is used.


> The "// else do nothing" is explicitly added by my patch to document
> that the case of unknown other values is valid/expected and to not touch
> the contents of 'detail' when it happens.

The comment does not explain _why_ we should do nothing so it is 50%
useless because it just retells what the code is already saying. The 50%
usefulness comes from relaying the fact that the developer actually
thought about the non-obvious "else" case (but then decided to hide his
reasons for doing nothing in that case).


Cheers,

Alex.


From noc at squid-cache.org  Thu Mar 23 21:08:24 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Thu, 23 Mar 2017 21:08:24 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Cd-ubuntu-wily_=23313?=
In-Reply-To: <2136059918.0.1490169953201.JavaMail.jenkins@buildmaster>
References: <2136059918.0.1490169953201.JavaMail.jenkins@buildmaster>
Message-ID: <1387511228.0.1490303304408.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/313/display/redirect>

------------------------------------------
[...truncated 955.09 KB...]
Making dvi in NIS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/NIS'>
Making dvi in POP3
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/POP3'>
Making dvi in RADIUS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/RADIUS'>
Making dvi in SMB
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/SMB'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/fake'>
Making dvi in getpwnam
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic/getpwnam'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/basic'>
Making dvi in digest
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in file
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest/file'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/digest'>
Making dvi in negotiate
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in wrapper
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate/wrapper'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/negotiate'>
Making dvi in ntlm
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth/ntlm'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/auth'>
Making dvi in http
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in one
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/one'>
Making dvi in url_rewriters
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
Making dvi in LFS
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/LFS'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http/url_rewriters'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/http'>
Making dvi in ip
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ip'>
Making dvi in icmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/icmp'>
Making dvi in ident
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ident'>
Making dvi in log
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in DB
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/DB'>
Making dvi in file
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log/file'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/log'>
Making dvi in ipc
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/ipc'>
Making dvi in mgr
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/mgr'>
Making dvi in security
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in cert_generators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_generators'>
Making dvi in cert_validators
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
Making dvi in fake
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Nothing to be done for 'dvi'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators/fake'>
make[5]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[5]: Nothing to be done for 'dvi-am'.
make[5]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security/cert_validators'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/security'>
Making dvi in snmp
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/snmp'>
Making dvi in adaptation
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
Making dvi in icap
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Nothing to be done for 'dvi'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation/icap'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src/adaptation'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/src'>
Making dvi in tools
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in helper-mux
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/helper-mux'>
Making dvi in purge
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/purge'>
Making dvi in squidclient
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[4]: Nothing to be done for 'dvi-am'.
make[4]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/squidclient'>
Making dvi in systemd
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/systemd'>
Making dvi in sysvinit
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Nothing to be done for 'dvi'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools/sysvinit'>
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[3]: Nothing to be done for 'dvi-am'.
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/tools'>
Making dvi in test-suite
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Nothing to be done for 'dvi'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/test-suite'>
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[2]: Nothing to be done for 'dvi-am'.
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
make[1]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Making check in compat
make[2]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
make  testPreCompiler
make[3]: Entering directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
depbase=`echo testPreCompiler.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../include     -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11 -MT testPreCompiler.o -MD -MP -MF $depbase.Tpo -c -o testPreCompiler.o ../../../compat/testPreCompiler.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/bash ../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT -g -O2 -std=c++11  -g -o testPreCompiler testPreCompiler.o -lcppunit  
libtool: link: ccache clang++ -Werror -Qunused-arguments -Wno-deprecated-register -D_REENTRANT -g -O2 -std=c++11 -g -o testPreCompiler testPreCompiler.o  -lcppunit
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Makefile:871: recipe for target 'testPreCompiler' failed
make[3]: *** [testPreCompiler] Error 1
make[3]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:1213: recipe for target 'check-am' failed
make[2]: *** [check-am] Error 2
make[2]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub/compat'>
Makefile:580: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=d-ubuntu-wily/ws/btlayer-00-default/squid-5.0.0-BZR/_build/sub'>
Makefile:788: recipe for target 'distcheck' failed
make: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm -lnsl -lresolv -lcap -lrt -ldl -ldl
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments -Wno-deprecated-register  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11
checking for fgrep... .././test-suite/../configure: line 8227: echo: write error: Broken pipe
testPreCompiler.o:(.rodata._ZTVN7CppUnit10TestCallerI15testPreCompilerEE[_ZTVN7CppUnit10TestCallerI15testPreCompilerEE]+0x40): undefined reference to `CppUnit::TestCase::getName() const'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [testPreCompiler] Error 1
make[2]: *** [check-am] Error 2
make[1]: *** [check-recursive] Error 1
make: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From richard.qian at magicwifi.com.cn  Fri Mar 24 10:54:28 2017
From: richard.qian at magicwifi.com.cn (=?utf-8?B?6ZKx5Zu95q2j?=)
Date: Fri, 24 Mar 2017 18:54:28 +0800
Subject: [squid-dev] on_unsupported_protocol rewrite to support tcp
	connection relay
In-Reply-To: <mailman.12251.1490169981.20516.squid-dev@lists.squid-cache.org>
References: <mailman.12251.1490169981.20516.squid-dev@lists.squid-cache.org>
Message-ID: <tencent_561FB1141A3AF48E6D476F7D@qq.com>

Hi gurus:
For below code in client_side.cc, I want to know what's the pinning.serverConnection mean? and what it is used for?


I want to rewrite the on_unsupported_protocol to support tcp connection (non-http protocol, called httpdns not readable, no http header) and relay it the server.
Except here, I need assign the server's address and port, where shold I moidify ? the receive part logic ?
could anyone give me some advisement, thanks.
bool ConnStateData::initiateTunneledRequest(HttpRequest::Pointer const &cause, Http::MethodType const method, const char *reason, const SBuf &payload) {     // fake a CONNECT request to force connState to tunnel     SBuf connectHost;     unsigned short connectPort = 0; 
     if (pinning.serverConnection != nullptr) {         static char ip[MAX_IPSTRLEN];         connectHost.assign(pinning.serverConnection->remote.toStr(ip, sizeof(ip)));         connectPort = pinning.serverConnection->remote.port();     } else if (cause && cause->method == Http::METHOD_CONNECT) {         // We are inside a (not fully established) CONNECT request         connectHost = cause->url.host();         connectPort = cause->url.port();     } else {         debugs(33, 2, "Not able to compute URL, abort request tunneling for " << reason);         return false;     } 
     debugs(33, 2, "Request tunneling for " << reason);     ClientHttpRequest *http = buildFakeRequest(method, connectHost, connectPort, payload);     HttpRequest::Pointer request = http->request;     request->flags.forceTunnel = true;     http->calloutContext = new ClientRequestContext(http);     http->doCallouts();     clientProcessRequestFinished(this, request);     return true; }
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170324/6186df89/attachment.html>

From rousskov at measurement-factory.com  Fri Mar 24 14:01:13 2017
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 24 Mar 2017 08:01:13 -0600
Subject: [squid-dev] on_unsupported_protocol rewrite to support tcp
 connection relay
In-Reply-To: <tencent_561FB1141A3AF48E6D476F7D@qq.com>
References: <mailman.12251.1490169981.20516.squid-dev@lists.squid-cache.org>
 <tencent_561FB1141A3AF48E6D476F7D@qq.com>
Message-ID: <d0c3afc9-6189-a659-37a4-69fb40586543@measurement-factory.com>

On 03/24/2017 04:54 AM, 钱国正 wrote:

> I want to know what's the
> pinning.serverConnection mean? and what it is used for?

Before we dive into low-level details, please allow me to ask an
important high-level question. Your answer may render those low-level
detail irrelevant:

> I want to rewrite the on_unsupported_protocol to support tcp connection
> (non-http protocol, called httpdns not readable, no http header) and
> relay it the server. [...] I need assign the server's address and port

Where will your code get the server address and port from? If the answer
is "from the received httpdns message header", then please do not abuse
on_unsupported_protocol to support "httpdns". Instead, add proper
support for httpdns (which may be limited to forwarding httpdns queries
to the right server if such blind forwarding makes sense).

BTW, can you post a link to the "httpdns" protocol specification (not
API)? And what do you mean by "not readable"?


Thank you,

Alex.


From eduard.bagdasaryan at measurement-factory.com  Sat Mar 25 21:04:52 2017
From: eduard.bagdasaryan at measurement-factory.com (Eduard Bagdasaryan)
Date: Sun, 26 Mar 2017 00:04:52 +0300
Subject: [squid-dev] [PATCH] Honor peer timeouts when forwarding CONNECTs
In-Reply-To: <90146b36-5e90-7943-eb8c-0f0a434ff4b5@treenet.co.nz>
References: <ae970f75-c064-bf91-9935-630ce25126c6@measurement-factory.com>
 <d1b0751d-8a40-e0f4-17ab-68ebb3952119@treenet.co.nz>
 <f5ebb36f-7663-4ff4-96c7-ab741b2d3f1c@measurement-factory.com>
 <90146b36-5e90-7943-eb8c-0f0a434ff4b5@treenet.co.nz>
Message-ID: <8f5dde69-e3f1-03a3-bc88-4e24213f1320@measurement-factory.com>

Adjusted the patch accordingly.


Eduard.


On 22.03.2017 15:58, Amos Jeffries wrote:
> On 17/03/2017 2:11 a.m., Eduard Bagdasaryan wrote:
>> On 16.03.2017 10:15, Amos Jeffries wrote:
>>
>>> in src/neighbours.cc:
>>>
>>> * peerConnectTimeout() should be a member of the CachePeer class yes?
>> The initial patch version did as you suggest, but then we decided
>> to use separate method instead, to avoid 'heavy' dependency on
>> SquidConfig.h (which periodically causes linkage problems, IIRC).
>>
> Hmm. Okay for now, but please add a TODO or XXX about that to the function.
>
>>> in src/tunnel.cc:
>>>
>>> * "start" is an action name and we use it (almost?) exclusively for Job
>>> initiation. By comparison "started" means/implies more clearly a state
>>> or time point. The Tunnel member stores a time point.
>>>   - IMO both are bad, but "started" is better than "start". Better still
>>> would be a name that actually describes *what* has been start(ed).
>> I do not mind renaming it, e.g., into 'creationTime'.
>>
> Sounds good to me.
>
>>> in src/PeerPoolMgr.cc:
>>>
>>> * in PeerPoolMgr::handleOpenedConnection() I see a line doing max(1,
>>> (peerTimeout - timeUsed)); just like the code in FwdState.cc
>>> FwdState::connectDone().
>>>   BUT, this PoolMgr is (wrongly) using int instead of time_t. Perhapse
>>> that should be changed and something de-duplicate that max(1, x) usage?
>> I am not against changing int to time_t there. As for 'max', how about
>> creating inside neighbors.cc a helper method:
>> time_t PositiveTimeout(const time_t timeout) { return max(1, timeout); }
>>
> Sounds good. I did a few tests to see if we could also avoid the
> static_cast, but it seems not in any simple way. So dont forget that in
> the new function.
>
>
>>> in src/comm/Connection.cc:
>>>
>>> * I dont see why EnoughTimeToReForward() should be in the Comm::
>>> namespace. It is about messageing layer timing. So is more appropriate
>>> to be in FwdState:: or maybe SquidTime.h/time.cc.
>>>   - if you pick time.cc that would also mean the fairly generic time_t
>>> static functions it calls would move to time.cc where they seem more
>>> appropriate.
>> Again, I am not against moving this method and ForwardTimeout() into
>> FwdState.cc (keeping related '*Forward' methods there makes some sense).
>>
> Okay, I can live with that.
>
> Amos
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-279-honor-peer-timeouts-connect-fwd-t2.patch
Type: text/x-patch
Size: 60199 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170326/a1d7d8fd/attachment-0001.bin>

From squid3 at treenet.co.nz  Mon Mar 27 02:12:34 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 27 Mar 2017 15:12:34 +1300
Subject: [squid-dev] [PATCH] VIA creation code duplication
In-Reply-To: <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>
References: <589349E8.2040907@measurement-factory.com>
 <17361b6f-fc89-dfe7-af96-de2bf1c58478@treenet.co.nz>
 <589F685D.70709@measurement-factory.com>
 <5f930ae6-9006-b674-5890-3b55ae70a724@treenet.co.nz>
 <0cd136d0-077b-8fd9-8e07-98d99d711283@measurement-factory.com>
 <4c5ca6b2-dfc7-a1c3-be01-973373ae3b89@treenet.co.nz>
 <1b37f0dc-9f8f-3cfe-d990-7d652c9bf3c7@measurement-factory.com>
 <b626d007-c324-d9a2-f840-de44d6576234@measurement-factory.com>
 <4eee0662-afe4-5e53-4ccd-8e787964784c@treenet.co.nz>
 <2a1415c2-7062-133d-2096-4777f9756244@measurement-factory.com>
 <46246492-598c-35b7-66c6-b5557bf8551b@treenet.co.nz>
 <4aa2317e-d6a0-e451-7367-07c54f670a7a@measurement-factory.com>
Message-ID: <3fb9f537-839d-8261-eb7b-7951b679e49a@treenet.co.nz>

On 17/03/2017 6:17 a.m., Alex Rousskov wrote:
> On 03/16/2017 05:15 AM, Amos Jeffries wrote:
> 
> 
>> Any objections to applying this with this added:
>>
>>   // XXX: putStr() still has String 64KB limits
>>   Must(strVia.length() < 64*1024);
> 
> No objections from me if you replace the magic constant with a new
> inlined String::MaxSizeXXX() method. The slightly misleading source code
> comment above becomes unnecessary after that. Why XXX()? Because no
> correct caller code should know about internal String limits (but it may
> catch exceptions, including exceptions due to those limits).
> 
> 
>> (I kind of hate those low-level operations with Must() and assert() like
>> the former - far too little context to be useful debugging with such big
>> impact when they are triggered.)
> 
> While it is indeed tempting to hate those Must(), we must keep in mind
> that low-level assert-replacing Must()s are not meant for debugging or
> even traditional error handling. Their purpose is to (hopefully) prevent
> Squid death.
> 
> When the crash avoidance project completes, we will have a way to dump
> stack traces for specific Must()s, which will provide the same level of
> triage info as an assert() would, but (hopefully) without killing Squid
> in environments where such functionality is supported.
> 
> 
> HTH,
> 
> Alex.
> 

Applied with the above changes as rev.15104

Amos


From richard.qian at magicwifi.com.cn  Mon Mar 27 02:15:50 2017
From: richard.qian at magicwifi.com.cn (=?utf-8?B?6ZKx5Zu95q2j?=)
Date: Mon, 27 Mar 2017 10:15:50 +0800
Subject: [squid-dev] squid-dev Digest, Vol 31, Issue 47
In-Reply-To: <mailman.1.1490443201.17707.squid-dev@lists.squid-cache.org>
References: <mailman.1.1490443201.17707.squid-dev@lists.squid-cache.org>
Message-ID: <tencent_4355E0F70C4780223495C284@qq.com>

>> I want to know what's the
>> pinning.serverConnection mean? and what it is used for?

>Before we dive into low-level details, please allow me to ask an
>important high-level question. Your answer may render those low-level
>detail irrelevant:

>> I want to rewrite the on_unsupported_protocol to support tcp connection
>>(non-http protocol, called httpdns not readable, no http header) and
>> relay it the server. [...] I need assign the server's address and port

>Where will your code get the server address and port from? If the answer
>is "from the received httpdns message header", then please do not abuse
>on_unsupported_protocol to support "httpdns". Instead, add proper
>support for httpdns (which may be limited to forwarding httpdns queries
>to the right server if such blind forwarding makes sense).

No, I got it from `clientConnection->local`, the httpdns is just a tcp connection to server with
specified protocol, not known to me, it is designed by its user, use 80 port to transfer dns request.

>BTW, can you post a link to the "httpdns" protocol specification (not
>API)? And what do you mean by "not readable"?



It is not a standard protocol in RFC or some standard specification, just some company use 
80 (default for http protocol) port to transfer dns request, they do this because in China many 
ISP would use they own dns server in different places which makes it slow 
or unreachable to the some company's service.


 
 
 
------------------ Original ------------------
From:  "squid-dev-request"<squid-dev-request at lists.squid-cache.org>;
Date:  Sat, Mar 25, 2017 08:00 PM
To:  "squid-dev"<squid-dev at lists.squid-cache.org>; 

Subject:  squid-dev Digest, Vol 31, Issue 47

 
Send squid-dev mailing list submissions to
	squid-dev at lists.squid-cache.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://lists.squid-cache.org/listinfo/squid-dev
or, via email, send a message with subject or body 'help' to
	squid-dev-request at lists.squid-cache.org

You can reach the person managing the list at
	squid-dev-owner at lists.squid-cache.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of squid-dev digest..."


Today's Topics:

   1. Re: on_unsupported_protocol rewrite to support tcp connection
      relay (Alex Rousskov)


----------------------------------------------------------------------

Message: 1
Date: Fri, 24 Mar 2017 08:01:13 -0600
From: Alex Rousskov <rousskov at measurement-factory.com>
To: 钱国正 <richard.qian at magicwifi.com.cn>, squid-dev
	<squid-dev at lists.squid-cache.org>
Subject: Re: [squid-dev] on_unsupported_protocol rewrite to support
	tcp connection relay
Message-ID:
	<d0c3afc9-6189-a659-37a4-69fb40586543 at measurement-factory.com>
Content-Type: text/plain; charset=utf-8

On 03/24/2017 04:54 AM, 钱国正 wrote:

> I want to know what's the
> pinning.serverConnection mean? and what it is used for?

Before we dive into low-level details, please allow me to ask an
important high-level question. Your answer may render those low-level
detail irrelevant:

> I want to rewrite the on_unsupported_protocol to support tcp connection
> (non-http protocol, called httpdns not readable, no http header) and
> relay it the server. [...] I need assign the server's address and port

Where will your code get the server address and port from? If the answer
is "from the received httpdns message header", then please do not abuse
on_unsupported_protocol to support "httpdns". Instead, add proper
support for httpdns (which may be limited to forwarding httpdns queries
to the right server if such blind forwarding makes sense).

BTW, can you post a link to the "httpdns" protocol specification (not
API)? And what do you mean by "not readable"?


Thank you,

Alex.



------------------------------

Subject: Digest Footer

_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev


------------------------------

End of squid-dev Digest, Vol 31, Issue 47
*****************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170327/f19b77bc/attachment.html>

From squid3 at treenet.co.nz  Mon Mar 27 03:20:36 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 27 Mar 2017 16:20:36 +1300
Subject: [squid-dev] Squid-4 status update
Message-ID: <d03e4106-8287-e943-0b73-2243b6bb030b@treenet.co.nz>

Hi all,

I am looking at the current state of Squid-4 with a (slim) hope of
finishing the beta cycles.


Below are the bugs which are currently preventing a "stable" release:


4464 - assertion failed: http.cc:1537:
"!Comm::MonitorsRead(serverConnection->fd)"
 	2016-06-18 	2016-03-10

 * stuck waiting for someone to identify exactly how the assertion is
being encountered.
 - Had quite a few testers hit this one, so AFAICT it is the worst
currently.


4574 - on startup assertion failed: ../src/base/CbcPointer.h:159: "c"

 * stuck waiting for someone to identify exactly how the assertion is
being encountered.
 - only seems to have affected a few testers. so most critical part is
finding out what leads to it.


4659 - sslproxy_foreign_intermediate_certs does not work any more

 * waiting for someone to identify what part of the Downloader code
breaks this directive behaviour.



Below seem to be only affecting Yuri, we think these are fixed but
waiting on feedback still. So these wont delay release in their present
state:

4661 - 4.0.17 compile error 'warning: _XPG4_2 redefined' with GCC on
Solaris 10
	- waiting feedback since 2017-02-05

4497 - CloudFlare and hosted sites cannot be connected via SSL\TLS(with
DH) with NONE/503
 	- waiting feedback since 2016-12-05


Below are planned to ignore for release purposes. If they can be fixed
great, but I'm not holding for them:

4662 - build errors with LibreSSL 2.4.4

 * stuck waiting for someone to add feature detection to all the code
using OPENSSL_VERSION macros. Then to find any other places LibreSSL
differ and fix those too.
 - this kind of requires someone who actually use LibreSSL to do the
testing.


4505 - Memory hits shadow disk entries and vice versa

 * AFAIK, still nobody working on this. Requires a fair bit of redesign
in store code.


4631 - security_file_certgen drops request due to a full queue

 * seems to be an expected but undesirable consequence of being helper
API. The effects are major, but the fix is technically a feature
enhancement AFAICT.


Any other issues that dont have bug reports I should wait for?

Keep in mind that bugs affecting the Squid-3.x versions are not relevant
to the v4 release decision.

Amos

From squid3 at treenet.co.nz  Mon Mar 27 03:59:10 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 27 Mar 2017 16:59:10 +1300
Subject: [squid-dev] on_unsupported_protocol rewrite to support tcp
	connection, relay
In-Reply-To: <tencent_4355E0F70C4780223495C284@qq.com>
References: <mailman.1.1490443201.17707.squid-dev@lists.squid-cache.org>
 <tencent_4355E0F70C4780223495C284@qq.com>
Message-ID: <4056dda5-6519-f217-cf29-ae59e93bf4e9@treenet.co.nz>

On 27/03/2017 3:15 p.m., 钱国正 wrote:
>>> I want to know what's the
>>> pinning.serverConnection mean? and what it is used for?
> 
>> Before we dive into low-level details, please allow me to ask an
>> important high-level question. Your answer may render those low-level
>> detail irrelevant:
> 
>>> I want to rewrite the on_unsupported_protocol to support tcp connection
>>> (non-http protocol, called httpdns not readable, no http header) and
>>> relay it the server. [...] I need assign the server's address and port
> 
>> Where will your code get the server address and port from? If the answer
>> is "from the received httpdns message header", then please do not abuse
>> on_unsupported_protocol to support "httpdns". Instead, add proper
>> support for httpdns (which may be limited to forwarding httpdns queries
>> to the right server if such blind forwarding makes sense).
> 
> No, I got it from `clientConnection->local`, the httpdns is just a tcp connection to server with
> specified protocol, not known to me, it is designed by its user, use 80 port to transfer dns request.
> 

If you want port 80 to just be relayed through - dont send it to Squid.

You will probably be able to identify the DNS packets with your firewall
rules easier than Squid can tell it apart from a mangled HTTP message.


>> BTW, can you post a link to the "httpdns" protocol specification (not
>> API)? And what do you mean by "not readable"?
> 
> 
> 
> It is not a standard protocol in RFC or some standard specification, just some company use 
> 80 (default for http protocol) port to transfer dns request, they do this because in China many 
> ISP would use they own dns server in different places which makes it slow 
> or unreachable to the some company's service.
> 

Then please stop calling it "httpdns". It is "DNS". Calling it "httpdns"
implies some relationship to HTTP other than just stealing the port number.

There is actually a protocol called HTTPDNS being designed
(<https://tools.ietf.org/html/draft-ietf-dnsop-dns-wireformat-http-00>).
Squid supports relaying that already because it uses real HTTP messages
on port 80.

Amos


From richard.qian at magicwifi.com.cn  Mon Mar 27 06:35:18 2017
From: richard.qian at magicwifi.com.cn (=?utf-8?B?6ZKx5Zu95q2j?=)
Date: Mon, 27 Mar 2017 14:35:18 +0800
Subject: [squid-dev] on_unsupported_protocol rewrite to support tcp
	connection, relay
In-Reply-To: <4056dda5-6519-f217-cf29-ae59e93bf4e9@treenet.co.nz>
References: <mailman.1.1490443201.17707.squid-dev@lists.squid-cache.org>
 <tencent_4355E0F70C4780223495C284@qq.com>
 <4056dda5-6519-f217-cf29-ae59e93bf4e9@treenet.co.nz>
Message-ID: <tencent_6D1963DE3C849E556AB06803@qq.com>

>If you want port 80 to just be relayed through - dont send it to Squid.

>You will probably be able to identify the DNS packets with your firewall
>rules easier than Squid can tell it apart from a mangled HTTP message.



What I want to do is to use Squid ecap adaptation to modify some http response.
But during the running time, I found that some famous mobile app using 80 port
transport some unknown protocol (not http).


What if the protocol is not http, but using 80 port, can squid relay it to its target server?




 
 
 
------------------ Original ------------------
From:  "Amos Jeffries"<squid3 at treenet.co.nz>;
Date:  Mon, Mar 27, 2017 11:59 AM
To:  "钱国正"<richard.qian at magicwifi.com.cn>; "squid-dev"<squid-dev at lists.squid-cache.org>; 

Subject:  Re: on_unsupported_protocol rewrite to support tcp connection, relay

 
On 27/03/2017 3:15 p.m., 钱国正 wrote:
>>> I want to know what's the
>>> pinning.serverConnection mean? and what it is used for?
> 
>> Before we dive into low-level details, please allow me to ask an
>> important high-level question. Your answer may render those low-level
>> detail irrelevant:
> 
>>> I want to rewrite the on_unsupported_protocol to support tcp connection
>>> (non-http protocol, called httpdns not readable, no http header) and
>>> relay it the server. [...] I need assign the server's address and port
> 
>> Where will your code get the server address and port from? If the answer
>> is "from the received httpdns message header", then please do not abuse
>> on_unsupported_protocol to support "httpdns". Instead, add proper
>> support for httpdns (which may be limited to forwarding httpdns queries
>> to the right server if such blind forwarding makes sense).
> 
> No, I got it from `clientConnection->local`, the httpdns is just a tcp connection to server with
> specified protocol, not known to me, it is designed by its user, use 80 port to transfer dns request.
> 

If you want port 80 to just be relayed through - dont send it to Squid.

You will probably be able to identify the DNS packets with your firewall
rules easier than Squid can tell it apart from a mangled HTTP message.


>> BTW, can you post a link to the "httpdns" protocol specification (not
>> API)? And what do you mean by "not readable"?
> 
> 
> 
> It is not a standard protocol in RFC or some standard specification, just some company use 
> 80 (default for http protocol) port to transfer dns request, they do this because in China many 
> ISP would use they own dns server in different places which makes it slow 
> or unreachable to the some company's service.
> 

Then please stop calling it "httpdns". It is "DNS". Calling it "httpdns"
implies some relationship to HTTP other than just stealing the port number.

There is actually a protocol called HTTPDNS being designed
(<https://tools.ietf.org/html/draft-ietf-dnsop-dns-wireformat-http-00>).
Squid supports relaying that already because it uses real HTTP messages
on port 80.

Amos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170327/51adb759/attachment-0001.html>

From squid3 at treenet.co.nz  Mon Mar 27 10:56:08 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 27 Mar 2017 23:56:08 +1300
Subject: [squid-dev] on_unsupported_protocol rewrite to support tcp
	connection, relay
In-Reply-To: <tencent_6D1963DE3C849E556AB06803@qq.com>
References: <mailman.1.1490443201.17707.squid-dev@lists.squid-cache.org>
 <tencent_4355E0F70C4780223495C284@qq.com>
 <4056dda5-6519-f217-cf29-ae59e93bf4e9@treenet.co.nz>
 <tencent_6D1963DE3C849E556AB06803@qq.com>
Message-ID: <ed68efb4-dfdd-6ced-1437-46fde817ef4e@treenet.co.nz>

On 27/03/2017 7:35 p.m., 钱国正 wrote:
>> If you want port 80 to just be relayed through - dont send it to Squid.
> 
>> You will probably be able to identify the DNS packets with your firewall
>> rules easier than Squid can tell it apart from a mangled HTTP message.
> 
> 
> 
> What I want to do is to use Squid ecap adaptation to modify some http response.
> But during the running time, I found that some famous mobile app using 80 port
> transport some unknown protocol (not http).

As you indicated in your last email there is no HTTP in this traffic
received. One of the things that means is that eCAP has nothing to work
with. There is definitely no HTTP response coming out of DNS servers.

Even if we let it through Squid you would still not be able to do
anything. You would barely even be able to see it happening in the logs.

As you may have noticed, the on_unsupported_protocol only has the
options of tunnel and reject ('respond' with an HTTP-format rejection),
nothing else - and those have to be decided before anything actually
happens with the traffic. The ACLs which it offers are also very limited
to the IP:port details and not much else.


> 
> What if the protocol is not http, but using 80 port, can squid relay it to its target server?
> 

That is the job of a TCP relay, Squid is an HTTP proxy. It is designed
in part to reject non-HTTP protocols.

Port 80 is a "reserved port". Like all such ports (0-1024) there is a
defined set of things which are possible, and the remainder is not. For
something to be possible on port 80 it has to have a structure and
behaviour matching HTTP/0.9, HTTP/1 or HTTP/2.

I'm aware that almost no software coming out of China these days works
properly when faced with real Internet networks - just because of how
they ignore reserved ports existing protocols. The solution to that is
*not* to make other software ignore the problem.

Amos


From squid3 at treenet.co.nz  Mon Mar 27 13:57:46 2017
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Tue, 28 Mar 2017 02:57:46 +1300
Subject: [squid-dev] [PATCH] configure.ac cleanup of BerkleyDB related checks
Message-ID: <3c391550-e509-7d89-d381-7d73cf0e9acb@treenet.co.nz>

While looking into the last remaining bits of bug 4610 I have found that
most of what we were doing for libdb / -ldb is not necessary any longer.

Most of the logic seems to be hangovers from when session helper was
using the BerkleyDB v1.85 compatibility interface. Some of it is
possibly still necessary for the time_quota helper, but that helper has
not been using it so far and needs an upgrade to match what happened to
session helper.

Changes:

* The helpers needing -ldb will not be built unless the library and
headers are available. So we can drop the Makefile LIB_DB substitutions
and always just link -ldb explicitly to these helpers.

NP: Anyone who needs small minimal binaries, can build with the
--as-needed linker flag, or without these helpers. This change has no
effect on other helpers or the main squid binary.

* Since we no longer need to check if -ldb is necessary, we can drop the
configure.ac and acinclude logic detecting that.

* Remove unused AC_CHECK_DECL(dbopen, ...)
 - resolves one "FIXME"

* Fix the time_quota helper check to only scan db.h header file contents
if that file is existing, and if the db_185.h file is not being used
instead.

* Fix the session helper check to only try compiling with the db.h
header if that header actually exists.

* De-duplicate the library header file detection shared by configure.ac
and the helpers required.m4 files (after the above two changes).

* Remove unused DBLIB variable from configure.ac.

Amos

-------------- next part --------------
=== modified file 'acinclude/lib-checks.m4'
--- acinclude/lib-checks.m4	2017-01-01 00:12:22 +0000
+++ acinclude/lib-checks.m4	2017-03-27 12:39:53 +0000
@@ -1,54 +1,27 @@
 ## Copyright (C) 1996-2017 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
-dnl checks whether dbopen needs -ldb to be added to libs
-dnl sets ac_cv_dbopen_libdb to either "yes" or "no"
-
-AC_DEFUN([SQUID_CHECK_DBOPEN_NEEDS_LIBDB],[
-  AC_CACHE_CHECK(if dbopen needs -ldb,ac_cv_dbopen_libdb, [
-    SQUID_STATE_SAVE(dbopen_libdb)
-    LIBS="$LIBS -ldb"
-    AC_LINK_IFELSE([AC_LANG_PROGRAM([[
-#if HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-#if HAVE_LIMITS_H
-#include <limits.h>
-#endif
-#if HAVE_DB_185_H
-#include <db_185.h>
-#elif HAVE_DB_H
-#include <db.h>
-#endif]], 
-[[dbopen("", 0, 0, DB_HASH, (void *)0L)]])],
-    [ac_cv_dbopen_libdb="yes"],
-    [ac_cv_dbopen_libdb="no"])
-    SQUID_STATE_ROLLBACK(dbopen_libdb)
-  ])
-])
-
-
 dnl check whether regex works by actually compiling one
 dnl sets squid_cv_regex_works to either yes or no
 
 AC_DEFUN([SQUID_CHECK_REGEX_WORKS],[
   AC_CACHE_CHECK([if the system-supplied regex lib actually works],squid_cv_regex_works,[
     AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
 #if HAVE_SYS_TYPES_H
 #include <sys/types.h>
 #endif
 #if HAVE_REGEX_H
 #include <regex.h> 
 #endif
 ]], [[
 regex_t t; regcomp(&t,"",0);]])],
     [ squid_cv_regex_works=yes ],
     [ squid_cv_regex_works=no ])
   ])
 ])
 
 

=== modified file 'configure.ac'
--- configure.ac	2017-01-13 05:14:03 +0000
+++ configure.ac	2017-03-27 12:16:04 +0000
@@ -2794,42 +2794,40 @@
   sys/shm.h \
   sys/socket.h \
   sys/stat.h \
   syscall.h \
   sys/syscall.h \
   sys/time.h \
   sys/types.h \
   sys/uio.h \
   sys/un.h \
   sys/vfs.h \
   sys/wait.h \
   syslog.h \
   time.h \
   unistd.h \
   utime.h \
   varargs.h \
   byteswap.h \
   glib.h \
   stdint.h \
   inttypes.h \
-  db.h \
-  db_185.h \
   wchar.h
 )
 
 AC_CHECK_HEADERS( \
   linux/netfilter_ipv4.h \
   linux/netfilter_ipv6/ip6_tables.h \
 ,,,
 SQUID_DEFAULT_INCLUDES
 #if HAVE_LIMITS_H
 #include <limits.h>
 #endif
 /* Netfilter ip(6)tables v1.4.0 has broken headers */
 #if HAVE_NETINET_IN_H
 #include <netinet/in.h>
 #endif
 )
 
 dnl *BSD dont include the dependencies for all their net/ and netinet/ files
 dnl We must include a few basic type headers for them to work.
 AC_CHECK_HEADERS( \
@@ -3129,66 +3127,40 @@
   SQUID_CHECK_SIN6_LEN_IN_SAI
 fi
 SQUID_CHECK_SS_LEN_IN_SOCKADDR_STORAGE
 SQUID_CHECK_SIN_LEN_IN_SOCKADDR_IN
 
 
 dnl Check for libdl, used by auth_modules/PAM
 if test "x$with_dl" = "xyes"; then
     AC_CHECK_LIB(dl, dlopen)
 fi
 
 dnl -lintl is needed on SCO version 3.2v4.2 for strftime()
 dnl Robert Side <rside at aiinc.bc.ca>
 dnl Mon, 18 Jan 1999 17:48:00 GMT
 case "$host" in
 	*-pc-sco3.2*)
 		AC_CHECK_LIB(intl, strftime)
 		;;
 esac
 
-dnl Check for libdb
-dnl this is not fully functional if db.h is for a differend db version
-DBLIB=
-
-dnl check that dbopen is actually defined in the header
-dnl FIXME: in case of failure undef db-related includes etc.
-AC_CHECK_DECL(dbopen,,,[
-#if HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-#if HAVE_LIMITS_H
-#include <limits.h>
-#endif
-#if HAVE_DB_185_H
-#include <db_185.h>
-#elif HAVE_DB_H
-#include <db.h>
-#endif])
-
-dnl 1.85
-SQUID_CHECK_DBOPEN_NEEDS_LIBDB
-if test "x$ac_cv_dbopen_libdb" = "xyes"; then
-    LIB_DB="-ldb"
-fi
-AC_SUBST(LIB_DB)
-
 dnl System-specific library modifications
 dnl
 case "$host" in
   i386-*-solaris2.*)
     if test "x$GCC" = "xyes"; then
       AC_MSG_NOTICE([Removing -O for gcc on $host])
       CFLAGS="`echo $CFLAGS | sed -e 's/-O[[0-9g]]*//'`"
     fi
   ;;
 
   *-sgi-irix*)
     AC_MSG_NOTICE([Removing -lsocket for IRIX...])
     LIBS=`echo $LIBS | sed -e s/-lsocket//`
     AC_MSG_NOTICE([Removing -lnsl for IRIX...])
     LIBS=`echo $LIBS | sed -e s/-lnsl//`
     ac_cv_lib_nsl_main=no
     AC_MSG_NOTICE([Removing -lbsd for IRIX...])
     LIBS=`echo $LIBS | sed -e s/-lbsd//`
   ;;
 dnl From: c0032033 at ws.rz.tu-bs.de (Joerg Schumacher)

=== modified file 'src/acl/external/session/Makefile.am'
--- src/acl/external/session/Makefile.am	2017-01-01 00:12:22 +0000
+++ src/acl/external/session/Makefile.am	2017-03-27 12:38:33 +0000
@@ -1,19 +1,19 @@
 ## Copyright (C) 1996-2017 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
 include $(top_srcdir)/src/Common.am
 
 libexec_PROGRAMS= ext_session_acl
 man_MANS= ext_session_acl.8
 
 ext_session_acl_SOURCES= \
 	ext_session_acl.cc
 ext_session_acl_LDADD = \
 	$(COMPAT_LIB) \
-	$(LIB_DB)
+	-ldb
 
 EXTRA_DIST= ext_session_acl.8 required.m4

=== modified file 'src/acl/external/session/required.m4'
--- src/acl/external/session/required.m4	2017-01-01 00:12:22 +0000
+++ src/acl/external/session/required.m4	2017-03-27 12:41:08 +0000
@@ -1,8 +1,15 @@
 ## Copyright (C) 1996-2017 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
-AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <db.h>]],[[DB_ENV *db_env = NULL; db_env_create(&db_env, 0);]])],[BUILD_HELPER="session"],[])
+AC_CHECK_HEADERS(db.h,[
+  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <db.h>]],[[
+    DB_ENV *db_env = nullptr;
+    db_env_create(&db_env, 0);
+  ]])],[
+    BUILD_HELPER="session"
+  ],[])
+])

=== modified file 'src/acl/external/time_quota/Makefile.am'
--- src/acl/external/time_quota/Makefile.am	2017-01-01 00:12:22 +0000
+++ src/acl/external/time_quota/Makefile.am	2017-03-27 12:40:40 +0000
@@ -1,21 +1,21 @@
 ## Copyright (C) 1996-2017 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
 include $(top_srcdir)/src/Common.am
 
 libexec_PROGRAMS= ext_time_quota_acl
 man_MANS= ext_time_quota_acl.8
 
 DEFS += -DDEFAULT_QUOTA_DB=\"$(localstatedir)/ext_time_quota.db\"
 
 ext_time_quota_acl_SOURCES= \
 	ext_time_quota_acl.cc
 ext_time_quota_acl_LDADD = \
 	$(COMPAT_LIB) \
-	$(LIB_DB)
+	-ldb
 
 EXTRA_DIST= ext_time_quota_acl.8 required.m4

=== modified file 'src/acl/external/time_quota/required.m4'
--- src/acl/external/time_quota/required.m4	2017-01-01 00:12:22 +0000
+++ src/acl/external/time_quota/required.m4	2017-03-27 12:39:29 +0000
@@ -1,9 +1,12 @@
 ## Copyright (C) 1996-2017 The Squid Software Foundation and contributors
 ##
 ## Squid software is distributed under GPLv2+ license and includes
 ## contributions from numerous individuals and organizations.
 ## Please see the COPYING and CONTRIBUTORS files for details.
 ##
 
-AC_CHECK_HEADERS([db_185.h],[BUILD_HELPER="time_quota"])
-AC_EGREP_HEADER([dbopen],[/usr/include/db.h],[BUILD_HELPER="time_quota"])
+AC_CHECK_HEADERS(db_185.h,[BUILD_HELPER="time_quota"],[
+  AC_CHECK_HEADERS(db.h,[
+    AC_EGREP_HEADER([dbopen],[/usr/include/db.h],[BUILD_HELPER="time_quota"])
+  ])
+])


From gkinkie at gmail.com  Mon Mar 27 14:08:05 2017
From: gkinkie at gmail.com (Kinkie)
Date: Mon, 27 Mar 2017 15:08:05 +0100
Subject: [squid-dev] [PATCH] configure.ac cleanup of BerkleyDB related
	checks
In-Reply-To: <3c391550-e509-7d89-d381-7d73cf0e9acb@treenet.co.nz>
References: <3c391550-e509-7d89-d381-7d73cf0e9acb@treenet.co.nz>
Message-ID: <CA+Y8hcOyBZ5H8izczpsNnvyQK6LbTvYoAS7RFLy-5iTbko2r2w@mail.gmail.com>

+1.

On Mon, Mar 27, 2017 at 2:57 PM, Amos Jeffries <squid3 at treenet.co.nz> wrote:
> While looking into the last remaining bits of bug 4610 I have found that
> most of what we were doing for libdb / -ldb is not necessary any longer.
>
> Most of the logic seems to be hangovers from when session helper was
> using the BerkleyDB v1.85 compatibility interface. Some of it is
> possibly still necessary for the time_quota helper, but that helper has
> not been using it so far and needs an upgrade to match what happened to
> session helper.
>
> Changes:
>
> * The helpers needing -ldb will not be built unless the library and
> headers are available. So we can drop the Makefile LIB_DB substitutions
> and always just link -ldb explicitly to these helpers.
>
> NP: Anyone who needs small minimal binaries, can build with the
> --as-needed linker flag, or without these helpers. This change has no
> effect on other helpers or the main squid binary.
>
> * Since we no longer need to check if -ldb is necessary, we can drop the
> configure.ac and acinclude logic detecting that.
>
> * Remove unused AC_CHECK_DECL(dbopen, ...)
>  - resolves one "FIXME"
>
> * Fix the time_quota helper check to only scan db.h header file contents
> if that file is existing, and if the db_185.h file is not being used
> instead.
>
> * Fix the session helper check to only try compiling with the db.h
> header if that header actually exists.
>
> * De-duplicate the library header file detection shared by configure.ac
> and the helpers required.m4 files (after the above two changes).
>
> * Remove unused DBLIB variable from configure.ac.
>
> Amos
>
>
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev
>



-- 
    Francesco

From eliezer at ngtech.co.il  Fri Mar 31 01:56:26 2017
From: eliezer at ngtech.co.il (Eliezer  Croitoru)
Date: Fri, 31 Mar 2017 04:56:26 +0300
Subject: [squid-dev] [PATCH] configure.ac cleanup of BerkleyDB related
	checks
In-Reply-To: <3c391550-e509-7d89-d381-7d73cf0e9acb@treenet.co.nz>
References: <3c391550-e509-7d89-d381-7d73cf0e9acb@treenet.co.nz>
Message-ID: <0b0f01d2a9c2$01a70bc0$04f52340$@ngtech.co.il>

+1..

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: eliezer at ngtech.co.il



-----Original Message-----
From: squid-dev [mailto:squid-dev-bounces at lists.squid-cache.org] On Behalf Of Amos Jeffries
Sent: Monday, March 27, 2017 4:58 PM
To: Squid Developers <squid-dev at lists.squid-cache.org>
Subject: [squid-dev] [PATCH] configure.ac cleanup of BerkleyDB related checks

While looking into the last remaining bits of bug 4610 I have found that most of what we were doing for libdb / -ldb is not necessary any longer.

Most of the logic seems to be hangovers from when session helper was using the BerkleyDB v1.85 compatibility interface. Some of it is possibly still necessary for the time_quota helper, but that helper has not been using it so far and needs an upgrade to match what happened to session helper.

Changes:

* The helpers needing -ldb will not be built unless the library and headers are available. So we can drop the Makefile LIB_DB substitutions and always just link -ldb explicitly to these helpers.

NP: Anyone who needs small minimal binaries, can build with the --as-needed linker flag, or without these helpers. This change has no effect on other helpers or the main squid binary.

* Since we no longer need to check if -ldb is necessary, we can drop the configure.ac and acinclude logic detecting that.

* Remove unused AC_CHECK_DECL(dbopen, ...)
 - resolves one "FIXME"

* Fix the time_quota helper check to only scan db.h header file contents if that file is existing, and if the db_185.h file is not being used instead.

* Fix the session helper check to only try compiling with the db.h header if that header actually exists.

* De-duplicate the library header file detection shared by configure.ac and the helpers required.m4 files (after the above two changes).

* Remove unused DBLIB variable from configure.ac.

Amos



From christos at chtsanti.net  Fri Mar 31 13:21:13 2017
From: christos at chtsanti.net (Christos Tsantilas)
Date: Fri, 31 Mar 2017 16:21:13 +0300
Subject: [squid-dev] [PATCH] Second adaptation missing for CONNECTs
Message-ID: <fb0c8d8c-6651-bdcd-8b53-dad5e872013c@chtsanti.net>

Hi all,

Squid does not send CONNECT request to adaptation services if the 
"ssl_bump splice" rule matched at step 2. This adaptation is important 
because the CONNECT request gains SNI information during the second 
SslBump step. This is a regression bug, possibly caused by the Squid bug 
4529 fix (trunk commits r14913 and r14914).

Notes
=====

Transparent interception vs normal proxy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   For transparent CONNECT requests, the second request sent to the 
adaptation service (and url-rewriter etc), uses the SNI name as hostname 
in request url and Host header. This is is not true for normal CONNECT 
requests.

However the user still is able to gain SNI information using 
adaptation_meta. For example the following configuration line:

     adaptation_meta X-SNI-Info "%ssl::>sni" all

Will send the SNI info using the X-SI-Info header to the ICAP service.


Avoid sending second CONNECT request to adaptation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The users may not want to send the second request to the adaptation 
services. In this case they can use acls as follows:

acl step1 at_step  SslBump1
acl step2 at_step  SslBump2
acl markSpliced annotate_client spliced=true

ssl_bump peek step1
ssl_bump splice step2 markSpliced

acl markedSpliced note spliced true

adaptation_access class_reqmodifing deny markSpliced
adaptation_access class_reqmodifing allow all




This is a Measurement Factory project.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: SQUID-289-Second-adaptation-missing-for-CONNECTS-t4.patch
Type: text/x-patch
Size: 7193 bytes
Desc: not available
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20170331/179ec299/attachment.bin>

From noc at squid-cache.org  Fri Mar 31 22:03:51 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 31 Mar 2017 22:03:51 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_template-full-ma?=
 =?utf-8?q?trix_=C2=BB_clang=2Crs-fbsd-10_=23314?=
Message-ID: <382648419.1.1490997831850.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/314/display/redirect>

------------------------------------------
[...truncated 346.53 KB...]
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc2671.lo -MD -MP -MF .deps/rfc2671.Tpo -c ../../../src/dns/rfc2671.cc -o rfc2671.o >/dev/null 2>&1
depbase=`echo rfc3596.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF $depbase.Tpo -c -o rfc3596.lo ../../../src/dns/rfc3596.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF .deps/rfc3596.Tpo -c ../../../src/dns/rfc3596.cc  -fPIC -DPIC -o .libs/rfc3596.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF .deps/rfc3596.Tpo -c ../../../src/dns/rfc3596.cc -o rfc3596.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libdns.la  LookupDetails.lo rfc1035.lo rfc2671.lo rfc3596.lo  
libtool: link: /usr/bin/ar cru .libs/libdns.a .libs/LookupDetails.o .libs/rfc1035.o .libs/rfc2671.o .libs/rfc3596.o 
libtool: link: ranlib .libs/libdns.a
libtool: link: ( cd ".libs" && rm -f "libdns.la" && ln -s "../libdns.la" "libdns.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/dns'>
Making all in ftp
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/ftp'>
depbase=`echo Elements.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF $depbase.Tpo -c -o Elements.lo ../../../src/ftp/Elements.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Parsing.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF $depbase.Tpo -c -o Parsing.lo ../../../src/ftp/Parsing.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF .deps/Parsing.Tpo -c ../../../src/ftp/Parsing.cc  -fPIC -DPIC -o .libs/Parsing.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../src/ftp/Elements.cc  -fPIC -DPIC -o .libs/Elements.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF .deps/Parsing.Tpo -c ../../../src/ftp/Parsing.cc -o Parsing.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../src/ftp/Elements.cc -o Elements.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libftp.la  Elements.lo Parsing.lo  
libtool: link: /usr/bin/ar cru .libs/libftp.a .libs/Elements.o .libs/Parsing.o 
libtool: link: ranlib .libs/libftp.a
libtool: link: ( cd ".libs" && rm -f "libftp.la" && ln -s "../libftp.la" "libftp.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/ftp'>
Making all in parser
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/parser'>
depbase=`echo BinaryTokenizer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF $depbase.Tpo -c -o BinaryTokenizer.lo ../../../src/parser/BinaryTokenizer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Tokenizer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF $depbase.Tpo -c -o Tokenizer.lo ../../../src/parser/Tokenizer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF .deps/BinaryTokenizer.Tpo -c ../../../src/parser/BinaryTokenizer.cc  -fPIC -DPIC -o .libs/BinaryTokenizer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF .deps/Tokenizer.Tpo -c ../../../src/parser/Tokenizer.cc  -fPIC -DPIC -o .libs/Tokenizer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF .deps/BinaryTokenizer.Tpo -c ../../../src/parser/BinaryTokenizer.cc -o BinaryTokenizer.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF .deps/Tokenizer.Tpo -c ../../../src/parser/Tokenizer.cc -o Tokenizer.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libparser.la  BinaryTokenizer.lo Tokenizer.lo  
libtool: link: /usr/bin/ar cru .libs/libparser.a .libs/BinaryTokenizer.o .libs/Tokenizer.o 
libtool: link: ranlib .libs/libparser.a
libtool: link: ( cd ".libs" && rm -f "libparser.la" && ln -s "../libparser.la" "libparser.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/parser'>
Making all in comm
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/comm'>
depbase=`echo AcceptLimiter.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF $depbase.Tpo -c -o AcceptLimiter.lo ../../../src/comm/AcceptLimiter.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ConnOpener.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF $depbase.Tpo -c -o ConnOpener.lo ../../../src/comm/ConnOpener.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF .deps/AcceptLimiter.Tpo -c ../../../src/comm/AcceptLimiter.cc  -fPIC -DPIC -o .libs/AcceptLimiter.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF .deps/ConnOpener.Tpo -c ../../../src/comm/ConnOpener.cc  -fPIC -DPIC -o .libs/ConnOpener.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF .deps/ConnOpener.Tpo -c ../../../src/comm/ConnOpener.cc -o ConnOpener.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF .deps/AcceptLimiter.Tpo -c ../../../src/comm/AcceptLimiter.cc -o AcceptLimiter.o >/dev/null 2>&1
depbase=`echo Connection.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF $depbase.Tpo -c -o Connection.lo ../../../src/comm/Connection.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF .deps/Connection.Tpo -c ../../../src/comm/Connection.cc  -fPIC -DPIC -o .libs/Connection.o
depbase=`echo IoCallback.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF $depbase.Tpo -c -o IoCallback.lo ../../../src/comm/IoCallback.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF .deps/IoCallback.Tpo -c ../../../src/comm/IoCallback.cc  -fPIC -DPIC -o .libs/IoCallback.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF .deps/Connection.Tpo -c ../../../src/comm/Connection.cc -o Connection.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF .deps/IoCallback.Tpo -c ../../../src/comm/IoCallback.cc -o IoCallback.o >/dev/null 2>&1
depbase=`echo ModDevPoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF $depbase.Tpo -c -o ModDevPoll.lo ../../../src/comm/ModDevPoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF .deps/ModDevPoll.Tpo -c ../../../src/comm/ModDevPoll.cc  -fPIC -DPIC -o .libs/ModDevPoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF .deps/ModDevPoll.Tpo -c ../../../src/comm/ModDevPoll.cc -o ModDevPoll.o >/dev/null 2>&1
depbase=`echo ModEpoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF $depbase.Tpo -c -o ModEpoll.lo ../../../src/comm/ModEpoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF .deps/ModEpoll.Tpo -c ../../../src/comm/ModEpoll.cc  -fPIC -DPIC -o .libs/ModEpoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF .deps/ModEpoll.Tpo -c ../../../src/comm/ModEpoll.cc -o ModEpoll.o >/dev/null 2>&1
depbase=`echo ModKqueue.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF $depbase.Tpo -c -o ModKqueue.lo ../../../src/comm/ModKqueue.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF .deps/ModKqueue.Tpo -c ../../../src/comm/ModKqueue.cc  -fPIC -DPIC -o .libs/ModKqueue.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF .deps/ModKqueue.Tpo -c ../../../src/comm/ModKqueue.cc -o ModKqueue.o >/dev/null 2>&1
depbase=`echo ModPoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF $depbase.Tpo -c -o ModPoll.lo ../../../src/comm/ModPoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF .deps/ModPoll.Tpo -c ../../../src/comm/ModPoll.cc  -fPIC -DPIC -o .libs/ModPoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF .deps/ModPoll.Tpo -c ../../../src/comm/ModPoll.cc -o ModPoll.o >/dev/null 2>&1
depbase=`echo ModSelect.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF $depbase.Tpo -c -o ModSelect.lo ../../../src/comm/ModSelect.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF .deps/ModSelect.Tpo -c ../../../src/comm/ModSelect.cc  -fPIC -DPIC -o .libs/ModSelect.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF .deps/ModSelect.Tpo -c ../../../src/comm/ModSelect.cc -o ModSelect.o >/dev/null 2>&1
depbase=`echo ModSelectWin32.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF $depbase.Tpo -c -o ModSelectWin32.lo ../../../src/comm/ModSelectWin32.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF .deps/ModSelectWin32.Tpo -c ../../../src/comm/ModSelectWin32.cc  -fPIC -DPIC -o .libs/ModSelectWin32.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF .deps/ModSelectWin32.Tpo -c ../../../src/comm/ModSelectWin32.cc -o ModSelectWin32.o >/dev/null 2>&1
depbase=`echo Read.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF $depbase.Tpo -c -o Read.lo ../../../src/comm/Read.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF .deps/Read.Tpo -c ../../../src/comm/Read.cc  -fPIC -DPIC -o .libs/Read.o
depbase=`echo TcpAcceptor.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF $depbase.Tpo -c -o TcpAcceptor.lo ../../../src/comm/TcpAcceptor.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF .deps/TcpAcceptor.Tpo -c ../../../src/comm/TcpAcceptor.cc  -fPIC -DPIC -o .libs/TcpAcceptor.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF .deps/Read.Tpo -c ../../../src/comm/Read.cc -o Read.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF .deps/TcpAcceptor.Tpo -c ../../../src/comm/TcpAcceptor.cc -o TcpAcceptor.o >/dev/null 2>&1
depbase=`echo Write.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF $depbase.Tpo -c -o Write.lo ../../../src/comm/Write.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF .deps/Write.Tpo -c ../../../src/comm/Write.cc  -fPIC -DPIC -o .libs/Write.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF .deps/Write.Tpo -c ../../../src/comm/Write.cc -o Write.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libcomm.la  AcceptLimiter.lo ConnOpener.lo Connection.lo IoCallback.lo ModDevPoll.lo ModEpoll.lo ModKqueue.lo ModPoll.lo ModSelect.lo ModSelectWin32.lo Read.lo TcpAcceptor.lo Write.lo  
libtool: link: /usr/bin/ar cru .libs/libcomm.a .libs/AcceptLimiter.o .libs/ConnOpener.o .libs/Connection.o .libs/IoCallback.o .libs/ModDevPoll.o .libs/ModEpoll.o .libs/ModKqueue.o .libs/ModPoll.o .libs/ModSelect.o .libs/ModSelectWin32.o .libs/Read.o .libs/TcpAcceptor.o .libs/Write.o 
libtool: link: ranlib .libs/libcomm.a
libtool: link: ( cd ".libs" && rm -f "libcomm.la" && ln -s "../libcomm.la" "libcomm.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/comm'>
Making all in eui
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/eui'>
depbase=`echo Config.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF $depbase.Tpo -c -o Config.lo ../../../src/eui/Config.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Eui48.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF $depbase.Tpo -c -o Eui48.lo ../../../src/eui/Eui48.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF .deps/Eui48.Tpo -c ../../../src/eui/Eui48.cc  -fPIC -DPIC -o .libs/Eui48.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/eui/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/eui/Config.cc -o Config.o >/dev/null 2>&1
depbase=`echo Eui64.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF $depbase.Tpo -c -o Eui64.lo ../../../src/eui/Eui64.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF .deps/Eui64.Tpo -c ../../../src/eui/Eui64.cc  -fPIC -DPIC -o .libs/Eui64.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF .deps/Eui48.Tpo -c ../../../src/eui/Eui48.cc -o Eui48.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF .deps/Eui64.Tpo -c ../../../src/eui/Eui64.cc -o Eui64.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libeui.la  Config.lo Eui48.lo Eui64.lo  
libtool: link: /usr/bin/ar cru .libs/libeui.a .libs/Config.o .libs/Eui48.o .libs/Eui64.o 
libtool: link: ranlib .libs/libeui.a
libtool: link: ( cd ".libs" && rm -f "libeui.la" && ln -s "../libeui.la" "libeui.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/eui'>
Making all in acl
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl'>
Making all in external
gmake[5]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external'>
Making all in SQL_session
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/SQL_session'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../../src/acl/external/SQL_session/ext_sql_session_acl.pl.in >ext_sql_session_acl || (/bin/rm -f -f ext_sql_session_acl ; exit 1)
pod2man --section=8 ext_sql_session_acl ext_sql_session_acl.8
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/SQL_session'>
Making all in delayer
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/delayer'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../../src/acl/external/delayer/ext_delayer_acl.pl.in >ext_delayer_acl || (/bin/rm -f -f ext_delayer_acl ; exit 1)
pod2man --section=8 ext_delayer_acl ext_delayer_acl.8
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/delayer'>
Making all in file_userip
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/file_userip'>
depbase=`echo ext_file_userip_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ext_file_userip_acl.o -MD -MP -MF $depbase.Tpo -c -o ext_file_userip_acl.o ../../../../../src/acl/external/file_userip/ext_file_userip_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_file_userip_acl ext_file_userip_acl.o ../../../../lib/libmiscencoding.la ../../../../compat/libcompatsquid.la  -lm 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_file_userip_acl ext_file_userip_acl.o  -L/usr/local/lib ../../../../lib/.libs/libmiscencoding.a ../../../../compat/.libs/libcompatsquid.a -lm -pthread
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/file_userip'>
Making all in kerberos_ldap_group
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/kerberos_ldap_group'>
depbase=`echo kerberos_ldap_group.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT kerberos_ldap_group.o -MD -MP -MF $depbase.Tpo -c -o kerberos_ldap_group.o ../../../../../src/acl/external/kerberos_ldap_group/kerberos_ldap_group.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_group.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_group.o -MD -MP -MF $depbase.Tpo -c -o support_group.o ../../../../../src/acl/external/kerberos_ldap_group/support_group.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_netbios.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_netbios.o -MD -MP -MF $depbase.Tpo -c -o support_netbios.o ../../../../../src/acl/external/kerberos_ldap_group/support_netbios.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_member.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_member.o -MD -MP -MF $depbase.Tpo -c -o support_member.o ../../../../../src/acl/external/kerberos_ldap_group/support_member.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_krb5.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_krb5.o -MD -MP -MF $depbase.Tpo -c -o support_krb5.o ../../../../../src/acl/external/kerberos_ldap_group/support_krb5.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_ldap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_ldap.o -MD -MP -MF $depbase.Tpo -c -o support_ldap.o ../../../../../src/acl/external/kerberos_ldap_group/support_ldap.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_sasl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_sasl.o -MD -MP -MF $depbase.Tpo -c -o support_sasl.o ../../../../../src/acl/external/kerberos_ldap_group/support_sasl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_resolv.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_resolv.o -MD -MP -MF $depbase.Tpo -c -o support_resolv.o ../../../../../src/acl/external/kerberos_ldap_group/support_resolv.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_lserver.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_lserver.o -MD -MP -MF $depbase.Tpo -c -o support_lserver.o ../../../../../src/acl/external/kerberos_ldap_group/support_lserver.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_log.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_log.o -MD -MP -MF $depbase.Tpo -c -o support_log.o ../../../../../src/acl/external/kerberos_ldap_group/support_log.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_kerberos_ldap_group_acl kerberos_ldap_group.o support_group.o support_netbios.o support_member.o support_krb5.o support_ldap.o support_sasl.o support_resolv.o support_lserver.o support_log.o ../../../../lib/libmiscencoding.la ../../../../compat/libcompatsquid.la     -L/usr/lib -lgssapi -lheimntlm -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -pthread -L/usr/lib -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -pthread  -lm 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_kerberos_ldap_group_acl kerberos_ldap_group.o support_group.o support_netbios.o support_member.o support_krb5.o support_ldap.o support_sasl.o support_resolv.o support_lserver.o support_log.o -pthread -pthread  -L/usr/local/lib ../../../../lib/.libs/libmiscencoding.a ../../../../compat/.libs/libcompatsquid.a -L/usr/lib -lgssapi -lheimntlm -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -lm -pthread
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/kerberos_ldap_group'>
Making all in time_quota
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/time_quota'>
depbase=`echo ext_time_quota_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H -DDEFAULT_QUOTA_DB=\"/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/ext_time_quota.db\">   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ext_time_quota_acl.o -MD -MP -MF $depbase.Tpo -c -o ext_time_quota_acl.o ../../../../../src/acl/external/time_quota/ext_time_quota_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_time_quota_acl ext_time_quota_acl.o ../../../../compat/libcompatsquid.la  -ldb 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_time_quota_acl ext_time_quota_acl.o  -L/usr/local/lib ../../../../compat/.libs/libcompatsquid.a -ldb -pthread
/usr/bin/ld: cannot find -ldb
clang++: error: linker command failed with exit code 1 (use -v to see invocation)
gmake[6]: *** [ext_time_quota_acl] Error 1
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/time_quota'>
gmake[5]: *** [all-recursive] Error 1
gmake[5]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external'>
gmake[4]: *** [all-recursive] Error 1
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl'>
gmake[3]: *** [all-recursive] Error 1
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[2]: *** [all] Error 2
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/usr<https://build.squid-cache.org/job/template-full-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build'>
gmake: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
clang++: error: linker command failed with exit code 1 (use -v to see invocation)
gmake[6]: *** [ext_time_quota_acl] Error 1
gmake[5]: *** [all-recursive] Error 1
gmake[4]: *** [all-recursive] Error 1
gmake[3]: *** [all-recursive] Error 1
gmake[2]: *** [all] Error 2
gmake[1]: *** [all-recursive] Error 1
gmake: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

From noc at squid-cache.org  Fri Mar 31 22:05:45 2017
From: noc at squid-cache.org (noc at squid-cache.org)
Date: Fri, 31 Mar 2017 22:05:45 +0000 (UTC)
Subject: [squid-dev] =?utf-8?q?Build_failed_in_Jenkins=3A_5-matrix_=C2=BB_?=
	=?utf-8?q?clang=2Crs-fbsd-10_=23142?=
Message-ID: <514215847.2.1490997946013.JavaMail.jenkins@buildmaster>

See <https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/142/display/redirect>

------------------------------------------
[...truncated 342.77 KB...]
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF $depbase.Tpo -c -o rfc3596.lo ../../../src/dns/rfc3596.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc2671.lo -MD -MP -MF .deps/rfc2671.Tpo -c ../../../src/dns/rfc2671.cc  -fPIC -DPIC -o .libs/rfc2671.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc2671.lo -MD -MP -MF .deps/rfc2671.Tpo -c ../../../src/dns/rfc2671.cc -o rfc2671.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF .deps/rfc3596.Tpo -c ../../../src/dns/rfc3596.cc  -fPIC -DPIC -o .libs/rfc3596.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT rfc3596.lo -MD -MP -MF .deps/rfc3596.Tpo -c ../../../src/dns/rfc3596.cc -o rfc3596.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libdns.la  LookupDetails.lo rfc1035.lo rfc2671.lo rfc3596.lo  
libtool: link: /usr/bin/ar cru .libs/libdns.a .libs/LookupDetails.o .libs/rfc1035.o .libs/rfc2671.o .libs/rfc3596.o 
libtool: link: ranlib .libs/libdns.a
libtool: link: ( cd ".libs" && rm -f "libdns.la" && ln -s "../libdns.la" "libdns.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/dns'>
Making all in ftp
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/ftp'>
depbase=`echo Elements.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF $depbase.Tpo -c -o Elements.lo ../../../src/ftp/Elements.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Parsing.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF $depbase.Tpo -c -o Parsing.lo ../../../src/ftp/Parsing.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../src/ftp/Elements.cc  -fPIC -DPIC -o .libs/Elements.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF .deps/Parsing.Tpo -c ../../../src/ftp/Parsing.cc  -fPIC -DPIC -o .libs/Parsing.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Parsing.lo -MD -MP -MF .deps/Parsing.Tpo -c ../../../src/ftp/Parsing.cc -o Parsing.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Elements.lo -MD -MP -MF .deps/Elements.Tpo -c ../../../src/ftp/Elements.cc -o Elements.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libftp.la  Elements.lo Parsing.lo  
libtool: link: /usr/bin/ar cru .libs/libftp.a .libs/Elements.o .libs/Parsing.o 
libtool: link: ranlib .libs/libftp.a
libtool: link: ( cd ".libs" && rm -f "libftp.la" && ln -s "../libftp.la" "libftp.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/ftp'>
Making all in parser
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/parser'>
depbase=`echo BinaryTokenizer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF $depbase.Tpo -c -o BinaryTokenizer.lo ../../../src/parser/BinaryTokenizer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Tokenizer.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF $depbase.Tpo -c -o Tokenizer.lo ../../../src/parser/Tokenizer.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF .deps/Tokenizer.Tpo -c ../../../src/parser/Tokenizer.cc  -fPIC -DPIC -o .libs/Tokenizer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF .deps/BinaryTokenizer.Tpo -c ../../../src/parser/BinaryTokenizer.cc  -fPIC -DPIC -o .libs/BinaryTokenizer.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Tokenizer.lo -MD -MP -MF .deps/Tokenizer.Tpo -c ../../../src/parser/Tokenizer.cc -o Tokenizer.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT BinaryTokenizer.lo -MD -MP -MF .deps/BinaryTokenizer.Tpo -c ../../../src/parser/BinaryTokenizer.cc -o BinaryTokenizer.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libparser.la  BinaryTokenizer.lo Tokenizer.lo  
libtool: link: /usr/bin/ar cru .libs/libparser.a .libs/BinaryTokenizer.o .libs/Tokenizer.o 
libtool: link: ranlib .libs/libparser.a
libtool: link: ( cd ".libs" && rm -f "libparser.la" && ln -s "../libparser.la" "libparser.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/parser'>
Making all in comm
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/comm'>
depbase=`echo AcceptLimiter.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF $depbase.Tpo -c -o AcceptLimiter.lo ../../../src/comm/AcceptLimiter.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ConnOpener.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF $depbase.Tpo -c -o ConnOpener.lo ../../../src/comm/ConnOpener.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF .deps/ConnOpener.Tpo -c ../../../src/comm/ConnOpener.cc  -fPIC -DPIC -o .libs/ConnOpener.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF .deps/AcceptLimiter.Tpo -c ../../../src/comm/AcceptLimiter.cc  -fPIC -DPIC -o .libs/AcceptLimiter.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ConnOpener.lo -MD -MP -MF .deps/ConnOpener.Tpo -c ../../../src/comm/ConnOpener.cc -o ConnOpener.o >/dev/null 2>&1
depbase=`echo Connection.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF $depbase.Tpo -c -o Connection.lo ../../../src/comm/Connection.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF .deps/Connection.Tpo -c ../../../src/comm/Connection.cc  -fPIC -DPIC -o .libs/Connection.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Connection.lo -MD -MP -MF .deps/Connection.Tpo -c ../../../src/comm/Connection.cc -o Connection.o >/dev/null 2>&1
depbase=`echo IoCallback.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF $depbase.Tpo -c -o IoCallback.lo ../../../src/comm/IoCallback.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF .deps/IoCallback.Tpo -c ../../../src/comm/IoCallback.cc  -fPIC -DPIC -o .libs/IoCallback.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT AcceptLimiter.lo -MD -MP -MF .deps/AcceptLimiter.Tpo -c ../../../src/comm/AcceptLimiter.cc -o AcceptLimiter.o >/dev/null 2>&1
depbase=`echo ModDevPoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF $depbase.Tpo -c -o ModDevPoll.lo ../../../src/comm/ModDevPoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF .deps/ModDevPoll.Tpo -c ../../../src/comm/ModDevPoll.cc  -fPIC -DPIC -o .libs/ModDevPoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModDevPoll.lo -MD -MP -MF .deps/ModDevPoll.Tpo -c ../../../src/comm/ModDevPoll.cc -o ModDevPoll.o >/dev/null 2>&1
depbase=`echo ModEpoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF $depbase.Tpo -c -o ModEpoll.lo ../../../src/comm/ModEpoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF .deps/ModEpoll.Tpo -c ../../../src/comm/ModEpoll.cc  -fPIC -DPIC -o .libs/ModEpoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModEpoll.lo -MD -MP -MF .deps/ModEpoll.Tpo -c ../../../src/comm/ModEpoll.cc -o ModEpoll.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT IoCallback.lo -MD -MP -MF .deps/IoCallback.Tpo -c ../../../src/comm/IoCallback.cc -o IoCallback.o >/dev/null 2>&1
depbase=`echo ModKqueue.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF $depbase.Tpo -c -o ModKqueue.lo ../../../src/comm/ModKqueue.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF .deps/ModKqueue.Tpo -c ../../../src/comm/ModKqueue.cc  -fPIC -DPIC -o .libs/ModKqueue.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModKqueue.lo -MD -MP -MF .deps/ModKqueue.Tpo -c ../../../src/comm/ModKqueue.cc -o ModKqueue.o >/dev/null 2>&1
depbase=`echo ModPoll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF $depbase.Tpo -c -o ModPoll.lo ../../../src/comm/ModPoll.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF .deps/ModPoll.Tpo -c ../../../src/comm/ModPoll.cc  -fPIC -DPIC -o .libs/ModPoll.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModPoll.lo -MD -MP -MF .deps/ModPoll.Tpo -c ../../../src/comm/ModPoll.cc -o ModPoll.o >/dev/null 2>&1
depbase=`echo ModSelect.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF $depbase.Tpo -c -o ModSelect.lo ../../../src/comm/ModSelect.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo ModSelectWin32.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF $depbase.Tpo -c -o ModSelectWin32.lo ../../../src/comm/ModSelectWin32.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF .deps/ModSelect.Tpo -c ../../../src/comm/ModSelect.cc  -fPIC -DPIC -o .libs/ModSelect.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelect.lo -MD -MP -MF .deps/ModSelect.Tpo -c ../../../src/comm/ModSelect.cc -o ModSelect.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF .deps/ModSelectWin32.Tpo -c ../../../src/comm/ModSelectWin32.cc  -fPIC -DPIC -o .libs/ModSelectWin32.o
depbase=`echo Read.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF $depbase.Tpo -c -o Read.lo ../../../src/comm/Read.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ModSelectWin32.lo -MD -MP -MF .deps/ModSelectWin32.Tpo -c ../../../src/comm/ModSelectWin32.cc -o ModSelectWin32.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF .deps/Read.Tpo -c ../../../src/comm/Read.cc  -fPIC -DPIC -o .libs/Read.o
depbase=`echo TcpAcceptor.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF $depbase.Tpo -c -o TcpAcceptor.lo ../../../src/comm/TcpAcceptor.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Read.lo -MD -MP -MF .deps/Read.Tpo -c ../../../src/comm/Read.cc -o Read.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF .deps/TcpAcceptor.Tpo -c ../../../src/comm/TcpAcceptor.cc  -fPIC -DPIC -o .libs/TcpAcceptor.o
depbase=`echo Write.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF $depbase.Tpo -c -o Write.lo ../../../src/comm/Write.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT TcpAcceptor.lo -MD -MP -MF .deps/TcpAcceptor.Tpo -c ../../../src/comm/TcpAcceptor.cc -o TcpAcceptor.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF .deps/Write.Tpo -c ../../../src/comm/Write.cc  -fPIC -DPIC -o .libs/Write.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Write.lo -MD -MP -MF .deps/Write.Tpo -c ../../../src/comm/Write.cc -o Write.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libcomm.la  AcceptLimiter.lo ConnOpener.lo Connection.lo IoCallback.lo ModDevPoll.lo ModEpoll.lo ModKqueue.lo ModPoll.lo ModSelect.lo ModSelectWin32.lo Read.lo TcpAcceptor.lo Write.lo  
libtool: link: /usr/bin/ar cru .libs/libcomm.a .libs/AcceptLimiter.o .libs/ConnOpener.o .libs/Connection.o .libs/IoCallback.o .libs/ModDevPoll.o .libs/ModEpoll.o .libs/ModKqueue.o .libs/ModPoll.o .libs/ModSelect.o .libs/ModSelectWin32.o .libs/Read.o .libs/TcpAcceptor.o .libs/Write.o 
libtool: link: ranlib .libs/libcomm.a
libtool: link: ( cd ".libs" && rm -f "libcomm.la" && ln -s "../libcomm.la" "libcomm.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/comm'>
Making all in eui
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/eui'>
depbase=`echo Config.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF $depbase.Tpo -c -o Config.lo ../../../src/eui/Config.cc &&\
mv -f $depbase.Tpo $depbase.Plo
depbase=`echo Eui48.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF $depbase.Tpo -c -o Eui48.lo ../../../src/eui/Eui48.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF .deps/Eui48.Tpo -c ../../../src/eui/Eui48.cc  -fPIC -DPIC -o .libs/Eui48.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/eui/Config.cc  -fPIC -DPIC -o .libs/Config.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui48.lo -MD -MP -MF .deps/Eui48.Tpo -c ../../../src/eui/Eui48.cc -o Eui48.o >/dev/null 2>&1
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Config.lo -MD -MP -MF .deps/Config.Tpo -c ../../../src/eui/Config.cc -o Config.o >/dev/null 2>&1
depbase=`echo Eui64.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
/bin/sh ../../libtool  --tag=CXX   --mode=compile ccache clang++ -DHAVE_CONFIG_H   -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF $depbase.Tpo -c -o Eui64.lo ../../../src/eui/Eui64.cc &&\
mv -f $depbase.Tpo $depbase.Plo
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF .deps/Eui64.Tpo -c ../../../src/eui/Eui64.cc  -fPIC -DPIC -o .libs/Eui64.o
libtool: compile:  ccache clang++ -DHAVE_CONFIG_H -I../../.. -I../../../include -I../../../lib -I../../../src -I../../include -I/usr/local/include -I/usr/include -I/usr/include -I../../../libltdl -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT Eui64.lo -MD -MP -MF .deps/Eui64.Tpo -c ../../../src/eui/Eui64.cc -o Eui64.o >/dev/null 2>&1
/bin/sh ../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o libeui.la  Config.lo Eui48.lo Eui64.lo  
libtool: link: /usr/bin/ar cru .libs/libeui.a .libs/Config.o .libs/Eui48.o .libs/Eui64.o 
libtool: link: ranlib .libs/libeui.a
libtool: link: ( cd ".libs" && rm -f "libeui.la" && ln -s "../libeui.la" "libeui.la" )
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/eui'>
Making all in acl
gmake[4]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl'>
Making all in external
gmake[5]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external'>
Making all in SQL_session
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/SQL_session'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../../src/acl/external/SQL_session/ext_sql_session_acl.pl.in >ext_sql_session_acl || (/bin/rm -f -f ext_sql_session_acl ; exit 1)
pod2man --section=8 ext_sql_session_acl ext_sql_session_acl.8
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/SQL_session'>
Making all in delayer
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/delayer'>
sed -e 's,[@]PERL[@],/usr/bin/perl,g' <../../../../../src/acl/external/delayer/ext_delayer_acl.pl.in >ext_delayer_acl || (/bin/rm -f -f ext_delayer_acl ; exit 1)
pod2man --section=8 ext_delayer_acl ext_delayer_acl.8
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/delayer'>
Making all in file_userip
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/file_userip'>
depbase=`echo ext_file_userip_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ext_file_userip_acl.o -MD -MP -MF $depbase.Tpo -c -o ext_file_userip_acl.o ../../../../../src/acl/external/file_userip/ext_file_userip_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_file_userip_acl ext_file_userip_acl.o ../../../../lib/libmiscencoding.la ../../../../compat/libcompatsquid.la  -lm 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_file_userip_acl ext_file_userip_acl.o  -L/usr/local/lib ../../../../lib/.libs/libmiscencoding.a ../../../../compat/.libs/libcompatsquid.a -lm -pthread
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/file_userip'>
Making all in kerberos_ldap_group
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/kerberos_ldap_group'>
depbase=`echo kerberos_ldap_group.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT kerberos_ldap_group.o -MD -MP -MF $depbase.Tpo -c -o kerberos_ldap_group.o ../../../../../src/acl/external/kerberos_ldap_group/kerberos_ldap_group.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_group.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_group.o -MD -MP -MF $depbase.Tpo -c -o support_group.o ../../../../../src/acl/external/kerberos_ldap_group/support_group.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_netbios.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_netbios.o -MD -MP -MF $depbase.Tpo -c -o support_netbios.o ../../../../../src/acl/external/kerberos_ldap_group/support_netbios.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_member.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_member.o -MD -MP -MF $depbase.Tpo -c -o support_member.o ../../../../../src/acl/external/kerberos_ldap_group/support_member.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_krb5.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_krb5.o -MD -MP -MF $depbase.Tpo -c -o support_krb5.o ../../../../../src/acl/external/kerberos_ldap_group/support_krb5.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_ldap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_ldap.o -MD -MP -MF $depbase.Tpo -c -o support_ldap.o ../../../../../src/acl/external/kerberos_ldap_group/support_ldap.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_sasl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_sasl.o -MD -MP -MF $depbase.Tpo -c -o support_sasl.o ../../../../../src/acl/external/kerberos_ldap_group/support_sasl.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_resolv.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_resolv.o -MD -MP -MF $depbase.Tpo -c -o support_resolv.o ../../../../../src/acl/external/kerberos_ldap_group/support_resolv.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_lserver.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_lserver.o -MD -MP -MF $depbase.Tpo -c -o support_lserver.o ../../../../../src/acl/external/kerberos_ldap_group/support_lserver.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo support_log.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl -I../../../../../src/acl/external/kerberos_ldap_group  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT support_log.o -MD -MP -MF $depbase.Tpo -c -o support_log.o ../../../../../src/acl/external/kerberos_ldap_group/support_log.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_kerberos_ldap_group_acl kerberos_ldap_group.o support_group.o support_netbios.o support_member.o support_krb5.o support_ldap.o support_sasl.o support_resolv.o support_lserver.o support_log.o ../../../../lib/libmiscencoding.la ../../../../compat/libcompatsquid.la     -L/usr/lib -lgssapi -lheimntlm -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -pthread -L/usr/lib -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -pthread  -lm 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_kerberos_ldap_group_acl kerberos_ldap_group.o support_group.o support_netbios.o support_member.o support_krb5.o support_ldap.o support_sasl.o support_resolv.o support_lserver.o support_log.o -pthread -pthread  -L/usr/local/lib ../../../../lib/.libs/libmiscencoding.a ../../../../compat/.libs/libcompatsquid.a -L/usr/lib -lgssapi -lheimntlm -lkrb5 -lhx509 -lcom_err -lcrypto -lasn1 -lwind -lheimbase -lroken -lcrypt -lm -pthread
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/kerberos_ldap_group'>
Making all in time_quota
gmake[6]: Entering directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/time_quota'>
depbase=`echo ext_time_quota_acl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
ccache clang++ -DHAVE_CONFIG_H -DDEFAULT_QUOTA_DB=\"/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_inst/var/ext_time_quota.db\">   -I../../../../.. -I../../../../../include -I../../../../../lib -I../../../../../src -I../../../../include -I/usr/local/include   -I/usr/include  -I/usr/include  -I../../../../../libltdl  -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -MT ext_time_quota_acl.o -MD -MP -MF $depbase.Tpo -c -o ext_time_quota_acl.o ../../../../../src/acl/external/time_quota/ext_time_quota_acl.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ../../../../libtool  --tag=CXX   --mode=link ccache clang++ -Werror -Qunused-arguments  -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include  -g -L/usr/local/lib -Wl,-R/usr/local/lib -pthread -o ext_time_quota_acl ext_time_quota_acl.o ../../../../compat/libcompatsquid.la  -ldb 
libtool: link: ccache clang++ -Werror -Qunused-arguments -D_REENTRANT -g -O2 -std=c++11 -I/usr/local/include -g -Wl,-R/usr/local/lib -pthread -o ext_time_quota_acl ext_time_quota_acl.o  -L/usr/local/lib ../../../../compat/.libs/libcompatsquid.a -ldb -pthread
/usr/bin/ld: cannot find -ldb
clang++: error: linker command failed with exit code 1 (use -v to see invocation)
gmake[6]: *** [ext_time_quota_acl] Error 1
gmake[6]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external/time_quota'>
gmake[5]: *** [all-recursive] Error 1
gmake[5]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl/external'>
gmake[4]: *** [all-recursive] Error 1
gmake[4]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src/acl'>
gmake[3]: *** [all-recursive] Error 1
gmake[3]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[2]: *** [all] Error 2
gmake[2]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build/src'>
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/usr<https://build.squid-cache.org/job/5-matrix/compiler=clang,label=rs-fbsd-10/ws/btlayer-00-default/squid-5.0.0-BZR/_build'>
gmake: *** [distcheck] Error 1
buildtest.sh result is 2
BUILD: .././test-suite/buildtests/layer-00-default.opts
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD LIBRARIES: 
configure: BUILD EXTRA LIBRARIES: -lm
configure: BUILD OBJECTS: 
configure: BUILD EXTRA OBJECTS: 
configure: BUILD C FLAGS: -g -O2 -I/usr/local/include
configure: BUILD EXTRA C FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD C++ FLAGS: -g -O2 -std=c++11 -I/usr/local/include
configure: BUILD EXTRA C++ FLAGS:  -Werror -Qunused-arguments  -D_REENTRANT
configure: BUILD Tools C++ FLAGS:  -g -O2 -std=c++11 -I/usr/local/include
clang++: error: linker command failed with exit code 1 (use -v to see invocation)
gmake[6]: *** [ext_time_quota_acl] Error 1
gmake[5]: *** [all-recursive] Error 1
gmake[4]: *** [all-recursive] Error 1
gmake[3]: *** [all-recursive] Error 1
gmake[2]: *** [all] Error 2
gmake[1]: *** [all-recursive] Error 1
gmake: *** [distcheck] Error 1
Build FAILED.
Build step 'Execute shell' marked build as failure
[description-setter] Description set: 

