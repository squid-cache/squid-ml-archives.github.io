<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Fwd: [PATCH] for loops modernization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Fwd%3A%20%5BPATCH%5D%20for%20loops%20modernization&In-Reply-To=%3Cb77b460c-cc90-6625-c931-545f688c80a9%40suse.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="008263.html">
   <LINK REL="Next"  HREF="008274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Fwd: [PATCH] for loops modernization</H1>
    <B>Adam Majer</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Fwd%3A%20%5BPATCH%5D%20for%20loops%20modernization&In-Reply-To=%3Cb77b460c-cc90-6625-c931-545f688c80a9%40suse.de%3E"
       TITLE="[squid-dev] Fwd: [PATCH] for loops modernization">amajer at suse.de
       </A><BR>
    <I>Wed Mar 15 14:43:16 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="008263.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
        <LI>Next message: <A HREF="008274.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8264">[ date ]</a>
              <a href="thread.html#8264">[ thread ]</a>
              <a href="subject.html#8264">[ subject ]</a>
              <a href="author.html#8264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/15/2017 03:17 PM, Amos Jeffries wrote:
&gt;<i> Theoretically range-for loops should allow multi-threaded CPU to run
</I>&gt;<i> those loops a bit faster. If that can be demonstrated using a tool like
</I>&gt;<i> polygraph you have a good argument for a patch containing that change to
</I>&gt;<i> go in as a pure performance change.
</I>
No. That would break many many things. There are special directives that
allow this to happen with things like OpenMPI compilers, but that's not
what we are talking about here.

And theoretically, if you blindly allow compilers to optimize loops like
that, you are just as likely to introduce hardware stalls that will
result in slower execution of the overall loop. The only way to look at
these,

    for (TYPE _i : _c )

is syntactic sugar.


Best regards,
- Adam

PS. And if you are talking about vertorization of these loops, that
already happens with regular loops. See,

    <A HREF="https://gcc.gnu.org/projects/tree-ssa/vectorization.html">https://gcc.gnu.org/projects/tree-ssa/vectorization.html</A>

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008263.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
	<LI>Next message: <A HREF="008274.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8264">[ date ]</a>
              <a href="thread.html#8264">[ thread ]</a>
              <a href="subject.html#8264">[ subject ]</a>
              <a href="author.html#8264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
