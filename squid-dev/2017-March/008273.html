<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Fwd: [PATCH] for loops modernization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Fwd%3A%20%5BPATCH%5D%20for%20loops%20modernization&In-Reply-To=%3C4b7c27d9-bd06-9eff-9ad4-fb60730ecd51%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="008266.html">
   <LINK REL="Next"  HREF="008261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Fwd: [PATCH] for loops modernization</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Fwd%3A%20%5BPATCH%5D%20for%20loops%20modernization&In-Reply-To=%3C4b7c27d9-bd06-9eff-9ad4-fb60730ecd51%40treenet.co.nz%3E"
       TITLE="[squid-dev] Fwd: [PATCH] for loops modernization">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Mar 16 05:10:19 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="008266.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
        <LI>Next message: <A HREF="008261.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8273">[ date ]</a>
              <a href="thread.html#8273">[ thread ]</a>
              <a href="subject.html#8273">[ subject ]</a>
              <a href="author.html#8273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/03/2017 5:03 a.m., Adam Majer wrote:
&gt;<i> On 03/15/2017 04:38 PM, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 03/15/2017 06:57 AM, Adam Majer wrote:
</I>&gt;&gt;&gt;<i> If you really want to fix this, avoid `auto` in code people actually
</I>&gt;&gt;&gt;<i> want to maintain. The only place it is actually useful is in heavily
</I>&gt;&gt;&gt;<i> templated code and that is the main reason it was introduced. It was not
</I>&gt;&gt;&gt;<i> introduced so you can avoid typing the name of POS (plain old
</I>&gt;&gt;&gt;<i> structures) or types or classes.
</I>&gt;&gt;<i>
</I>
IMO, and since I'm mostly the one doing these changes will probably be
the usual way going forward - is that if the type being used is complex
enough to actually have/need a typedef to make the type name simpler,
then auto is appropriate.

Specifically the way we historically have acronyms as typedef labels
means one often has to lookup or pay specific attention to what the
definition was anyway. So looking up an auto is no worse and at least
auto does not pretend to be a class name somewhere.

I also find (so far, and specifically with Squid code) that with
range-for loops the name of the variable/getter function/method on the
RHS of the range-for first line is usually more important to know how
its best used than exact iterator type. If that name is not
self-documenting what the object being handled is we have a larger
problem to fix first which may change whether range-for is appropriate
at all.

Other uses of auto are context-specific, but yes it can be less useful
than one would extect from the hype.

Amos

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008266.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
	<LI>Next message: <A HREF="008261.html">[squid-dev] Fwd: [PATCH] for loops modernization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8273">[ date ]</a>
              <a href="thread.html#8273">[ thread ]</a>
              <a href="subject.html#8273">[ subject ]</a>
              <a href="author.html#8273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
