<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [PATCH] fix escaping errors in manual pages causing information loss
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20fix%20escaping%20errors%20in%20manual%20pages%20causing%0A%20information%20loss&In-Reply-To=%3CCA%2BY8hcNqC%2B85iE7hEfq1JzFbGGq9uPjxjzOakc5mfL%2BN-7ziyw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="008590.html">
   <LINK REL="Next"  HREF="008592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [PATCH] fix escaping errors in manual pages causing information loss</H1>
    <B>Kinkie</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BPATCH%5D%20fix%20escaping%20errors%20in%20manual%20pages%20causing%0A%20information%20loss&In-Reply-To=%3CCA%2BY8hcNqC%2B85iE7hEfq1JzFbGGq9uPjxjzOakc5mfL%2BN-7ziyw%40mail.gmail.com%3E"
       TITLE="[squid-dev] [PATCH] fix escaping errors in manual pages causing information loss">gkinkie at gmail.com
       </A><BR>
    <I>Thu May 11 21:07:56 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="008590.html">[squid-dev] [PATCH] fix escaping errors in manual pages causing	information loss
</A></li>
        <LI>Next message: <A HREF="008592.html">[squid-dev] Build failed in Jenkins: template-full-matrix » gcc,d-fedora-22 #340
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8591">[ date ]</a>
              <a href="thread.html#8591">[ thread ]</a>
              <a href="subject.html#8591">[ subject ]</a>
              <a href="author.html#8591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ingo,
  I've merged your changes as Squid-5 revno 15135.
Thanks for your contribution!

On Thu, May 11, 2017 at 6:22 PM, Ingo Schwarze &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">schwarze at usta.de</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> while auditing manual pages in the OpenBSD ports tree, i noticed
</I>&gt;<i> serious escaping errors in four of the squid manuals that cause
</I>&gt;<i> information loss, in most cases loss of important information in
</I>&gt;<i> the SYNOPSIS.
</I>&gt;<i>
</I>&gt;<i> The following patch against bazaar trunk fixes those issues.
</I>&gt;<i>
</I>&gt;<i> Stuart Henderson, who is maintaining the OpenBSD port of squid,
</I>&gt;<i> advised that sending the patch to this list would be appropriate.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The reasons why the escaping is wrong are:
</I>&gt;<i>
</I>&gt;<i>  1) In the roff language, \&quot; introduces a comment,
</I>&gt;<i>     hence the rest of the input line is discarded by
</I>&gt;<i>     all formatters.
</I>&gt;<i>
</I>&gt;<i>  2) In the roff language, \\ does *not* produce a printable
</I>&gt;<i>     backslash but merely delays expansion of the escape sequence
</I>&gt;<i>     (which is practically never what you want, unless you are
</I>&gt;<i>     programming a new macro package).  Consequently, &quot;\\n'&quot; ends
</I>&gt;<i>     up being interpreted as an access to the number register with
</I>&gt;<i>     the name &quot;'&quot; (yes, roff does allow identifiers consisting of
</I>&gt;<i>     special characters in some contexts), which doesn't exist and
</I>&gt;<i>     hence yields the output string &quot;0&quot;.
</I>&gt;<i>
</I>&gt;<i> Thanks for developing squid!
</I>&gt;<i>
</I>&gt;<i> Yours,
</I>&gt;<i>   Ingo
</I>&gt;<i>
</I>&gt;<i> P.S.
</I>&gt;<i> I'm not attempting to fix all manual page syntax errors that cause
</I>&gt;<i> misformatting (that would cause a very serious amount of work), but
</I>&gt;<i> only those that cause information loss.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ingo Schwarze &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">schwarze at usta.de</A>&gt;
</I>&gt;<i> <A HREF="http://www.openbsd.org/">http://www.openbsd.org/</A>   &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">schwarze at openbsd.org</A>&gt;
</I>&gt;<i> <A HREF="http://mdocml.bsd.lv/">http://mdocml.bsd.lv/</A>     &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">schwarze at mdocml.bsd.lv</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> === modified file 'src/acl/external/file_userip/ext_file_userip_acl.8'
</I>&gt;<i> --- src/acl/external/file_userip/ext_file_userip_acl.8  2017-01-01 00:14:42 +0000
</I>&gt;<i> +++ src/acl/external/file_userip/ext_file_userip_acl.8  2017-05-11 16:49:06 +0000
</I>&gt;<i> @@ -68,7 +68,7 @@
</I>&gt;<i>  .B ALL
</I>&gt;<i>  and
</I>&gt;<i>  .B NONE
</I>&gt;<i> -, which mean \&quot;any user on this IP address may authenticate\&quot; or \&quot;no user on this IP address may authenticate\&quot;.
</I>&gt;<i> +, which mean \(dqany user on this IP address may authenticate\(dq or \(dqno user on this IP address may authenticate\(dq.
</I>&gt;<i>  .
</I>&gt;<i>  .SH AUTHOR
</I>&gt;<i>  This program was written by
</I>&gt;<i>
</I>&gt;<i> === modified file 'src/auth/basic/LDAP/basic_ldap_auth.8'
</I>&gt;<i> --- src/auth/basic/LDAP/basic_ldap_auth.8       2017-03-31 08:57:46 +0000
</I>&gt;<i> +++ src/auth/basic/LDAP/basic_ldap_auth.8       2017-05-11 16:44:30 +0000
</I>&gt;<i> @@ -5,9 +5,9 @@
</I>&gt;<i>  .
</I>&gt;<i>  .SH SYNOPSIS
</I>&gt;<i>  .if !'po4a'hide' .B basic_ldap_auth
</I>&gt;<i> -.if !'po4a'hide' .B \-b\ \&quot;
</I>&gt;<i> +.if !'po4a'hide' .B \-b\ \(dq
</I>&gt;<i>  base DN
</I>&gt;<i> -.if !'po4a'hide' .B \&quot;\ [\-u
</I>&gt;<i> +.if !'po4a'hide' .B \(dq\ [\-u
</I>&gt;<i>  attribute
</I>&gt;<i>  .if !'po4a'hide' .B ]\ [
</I>&gt;<i>  options
</I>&gt;<i> @@ -20,11 +20,11 @@
</I>&gt;<i>  .if !'po4a'hide' .B ]...
</I>&gt;<i>  .br
</I>&gt;<i>  .if !'po4a'hide' .B basic_ldap_auth
</I>&gt;<i> -.if !'po4a'hide' .B \-b\ \&quot;
</I>&gt;<i> +.if !'po4a'hide' .B \-b\ \(dq
</I>&gt;<i>  base DN
</I>&gt;<i> -.if !'po4a'hide' .B \&quot;\ \-f\ \&quot;
</I>&gt;<i> +.if !'po4a'hide' .B \(dq\ \-f\ \(dq
</I>&gt;<i>  LDAP search filter
</I>&gt;<i> -.if !'po4a'hide' .B \&quot;\ [
</I>&gt;<i> +.if !'po4a'hide' .B \(dq\ [
</I>&gt;<i>  options
</I>&gt;<i>  .if !'po4a'hide' .B ]\ [
</I>&gt;<i>  LDAP server name
</I>&gt;<i> @@ -74,7 +74,7 @@
</I>&gt;<i>  The search filter can contain up to 15 occurrences of
</I>&gt;<i>  .B %s
</I>&gt;<i>  which will be replaced by the username, as in
</I>&gt;<i> -.B &quot;\&quot;uid\=%s\&quot;&quot;
</I>&gt;<i> +.B &quot;\(dquid\=%s\(dq&quot;
</I>&gt;<i>  for RFC2037 directories. For a detailed description of LDAP search
</I>&gt;<i>  filter syntax see RFC2254.
</I>&gt;<i>  .br
</I>&gt;<i>
</I>&gt;<i> === modified file 'src/auth/basic/RADIUS/basic_radius_auth.8'
</I>&gt;<i> --- src/auth/basic/RADIUS/basic_radius_auth.8   2017-01-01 00:14:42 +0000
</I>&gt;<i> +++ src/auth/basic/RADIUS/basic_radius_auth.8   2017-05-11 16:47:05 +0000
</I>&gt;<i> @@ -9,9 +9,9 @@
</I>&gt;<i>  config file
</I>&gt;<i>  .br
</I>&gt;<i>  .if !'po4a'hide' .B basic_radius_auth
</I>&gt;<i> -.if !'po4a'hide' .B &quot;\-h \&quot;&quot;
</I>&gt;<i> +.if !'po4a'hide' .B &quot;\-h \(dq&quot;
</I>&gt;<i>  server name
</I>&gt;<i> -.if !'po4a'hide' .B &quot;\&quot; [\-p &quot;
</I>&gt;<i> +.if !'po4a'hide' .B &quot;\(dq [\-p &quot;
</I>&gt;<i>  port
</I>&gt;<i>  .if !'po4a'hide' .B &quot;] [\-i &quot;
</I>&gt;<i>  identifier
</I>&gt;<i>
</I>&gt;<i> === modified file 'tools/squidclient/squidclient.1'
</I>&gt;<i> --- tools/squidclient/squidclient.1     2017-01-01 00:14:42 +0000
</I>&gt;<i> +++ tools/squidclient/squidclient.1     2017-05-11 16:51:31 +0000
</I>&gt;<i> @@ -86,7 +86,7 @@
</I>&gt;<i>  .if !'po4a'hide' .TP
</I>&gt;<i>  .if !'po4a'hide' .B &quot;\-H 'string'&quot;
</I>&gt;<i>  Extra headers to send. Use
</I>&gt;<i> -.B '\\n'
</I>&gt;<i> +.B '\en'
</I>&gt;<i>  for new lines.
</I>&gt;<i>  .
</I>&gt;<i>  .if !'po4a'hide' .TP
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-dev mailing list
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>
</I>


-- 
    Francesco
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008590.html">[squid-dev] [PATCH] fix escaping errors in manual pages causing	information loss
</A></li>
	<LI>Next message: <A HREF="008592.html">[squid-dev] Build failed in Jenkins: template-full-matrix » gcc,d-fedora-22 #340
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8591">[ date ]</a>
              <a href="thread.html#8591">[ thread ]</a>
              <a href="subject.html#8591">[ subject ]</a>
              <a href="author.html#8591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
