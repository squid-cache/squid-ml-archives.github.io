<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] OpenSSL 1.1 regression
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20OpenSSL%201.1%20regression&In-Reply-To=%3C20170518172025.GD76402%40athene.usta.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="008642.html">
   <LINK REL="Next"  HREF="008631.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] OpenSSL 1.1 regression</H1>
    <B>Ingo Schwarze</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20OpenSSL%201.1%20regression&In-Reply-To=%3C20170518172025.GD76402%40athene.usta.de%3E"
       TITLE="[squid-dev] OpenSSL 1.1 regression">schwarze at usta.de
       </A><BR>
    <I>Thu May 18 17:20:25 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="008642.html">[squid-dev] OpenSSL 1.1 regression
</A></li>
        <LI>Next message: <A HREF="008631.html">[squid-dev] OpenSSL 1.1 regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8643">[ date ]</a>
              <a href="thread.html#8643">[ thread ]</a>
              <a href="subject.html#8643">[ subject ]</a>
              <a href="author.html#8643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Alex Rousskov wrote on Thu, May 18, 2017 at 10:48:15AM -0600:
&gt;<i> On 05/18/2017 10:23 AM, Christos Tsantilas wrote:
</I>
&gt;&gt;<i> However is not easy to always use this method. The OpenSSL-1.1.0 put
</I>&gt;&gt;<i> many API changes trying to hide structure members from user and replace
</I>&gt;&gt;<i> with API calls instead. Also has many API changes, I suppose to make API
</I>&gt;&gt;<i> more consistent.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This is resulted to many changes and it will not be easy to check
</I>&gt;&gt;<i> availability for each of the investigated functions and API changes.
</I>
That is indeed very true.

Basically, OpenSSL-1.0.x and OpenSSL-1.1.x are two quite different
APIs, and it is impossible to support both in the same application
program without either littering the code with lots of #ifdefs (no
matter whether testing for version numbers or features) or defining
large numbers of private wrappers.  Both solutions are hard to
maintain, cause a lot of work, and both are problematic from a
security perspective because both substantially hinder code auditing.
OpenSSL does not offer any kind of migration path from OpenSSL-1.0.x
to OpenSSL-1.1.x but dumps the maintenance cost of having to support
both APIs in parallel on each and every application software project.

That is exactly why - just as an example - OpenSSH decided to not
support the OpenSSL-1.1.x API at all, for now.  Of course, i don't
have the slightest idea whether that would be viable for squid.

&gt;<i> Individual feature tests are not panacea. When dealing with a large
</I>&gt;<i> across-the-board change like the one you are describing above, [...]
</I>
FTR, i fully agree that *individual* feature tests are not a good
fit for *large-scale* API changes, and well-designed feature group
tests can occasionally help.  But even with those, supporting two
very different APIs in the same program tends to get messy no matter
what and will usually obfuscate the code.

Yours,
  Ingo
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008642.html">[squid-dev] OpenSSL 1.1 regression
</A></li>
	<LI>Next message: <A HREF="008631.html">[squid-dev] OpenSSL 1.1 regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8643">[ date ]</a>
              <a href="thread.html#8643">[ thread ]</a>
              <a href="subject.html#8643">[ subject ]</a>
              <a href="author.html#8643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
