<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] New patches and squid-v4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20New%20patches%20and%20squid-v4&In-Reply-To=%3C12125429-372b-4e4b-77f8-844c7f1212d5%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009328.html">
   <LINK REL="Next"  HREF="009330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] New patches and squid-v4</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20New%20patches%20and%20squid-v4&In-Reply-To=%3C12125429-372b-4e4b-77f8-844c7f1212d5%40measurement-factory.com%3E"
       TITLE="[squid-dev] New patches and squid-v4">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Nov 17 17:45:34 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009328.html">[squid-dev] New patches and squid-v4
</A></li>
        <LI>Next message: <A HREF="009330.html">[squid-dev] New patches and squid-v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9329">[ date ]</a>
              <a href="thread.html#9329">[ thread ]</a>
              <a href="subject.html#9329">[ subject ]</a>
              <a href="author.html#9329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/17/2017 10:06 AM, Christos Tsantilas wrote:

&gt;<i> For any mew patch, we are building a git-PR for merging it to
</I>&gt;<i> squid-5/master. Should we make a git-PR for squid-4 too (and squid-3.5)?
</I>&gt;<i> Or the squid-4 maintainer is responsible to extract the patch from
</I>&gt;<i> squid-5 and merge it to squid-4?
</I>
Amos is the primary decision maker on this, but I would suggest a simple
procedure that mimics closely the pre-GitHub procedure:

1. The maintainer is responsible for committing backports. To get the
benefits of automated testing, he or she may open GitHub PRs (one for
each backported feature for each branch), but there is currently no
requirement to do so.

2. Anybody can backport. The backporter can post a patch, but opening a
dedicated PR (as described in #1) reduces maintainer's load and offers
automated tests. Naturally, the less work the maintainer has to do and
the more confidence they have in the patch, the more likely he or she
will commit the backport. Thus, backporting PRs should be encouraged.

3. I failed to find a _standard_ way to do this, but backport PRs should
reference the original/master commit (where available), at the bottom of
the commit message. For example:

-----------
Fixed %&lt;Hs, %&lt;pt, %&lt;tt, %&lt;bs calculation bugs for error responses (#90)

Backports commit d81657759f3ac9f3e688b4b2e8051166a23f01e1
-----------

One alternative is to reuse a single GitHub PR for all backports, but in
my experience this is difficult to do correctly. It also prohibits
concurrent backports of the same feature to multiple branches. GitHub is
not just designed for that AFAICT.

Another alternative is to commit backported patches without a PR. Item
#1 allows for that.


HTH,

Alex.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009328.html">[squid-dev] New patches and squid-v4
</A></li>
	<LI>Next message: <A HREF="009330.html">[squid-dev] New patches and squid-v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9329">[ date ]</a>
              <a href="thread.html#9329">[ thread ]</a>
              <a href="subject.html#9329">[ subject ]</a>
              <a href="author.html#9329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
