<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Online Translator interface for Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Online%20Translator%20interface%20for%20Squid&In-Reply-To=%3Cc2e4b0f1-f03f-09b2-dd2f-c8b8a40474da%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009287.html">
   <LINK REL="Next"  HREF="009289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Online Translator interface for Squid</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Online%20Translator%20interface%20for%20Squid&In-Reply-To=%3Cc2e4b0f1-f03f-09b2-dd2f-c8b8a40474da%40measurement-factory.com%3E"
       TITLE="[squid-dev] Online Translator interface for Squid">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Sep 14 05:50:28 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009287.html">[squid-dev] Online Translator interface for Squid
</A></li>
        <LI>Next message: <A HREF="009289.html">[squid-dev] Online Translator interface for Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9288">[ date ]</a>
              <a href="thread.html#9288">[ thread ]</a>
              <a href="subject.html#9288">[ subject ]</a>
              <a href="author.html#9288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/13/2017 11:25 PM, Jeffrey Merkey wrote:

&gt;<i> It will allow me to translate any web content read through such a
</I>&gt;<i> cache to downstream clients.  I need to know where to hook into your
</I>&gt;<i> cache at the layer it is reading html pages to insert the translator.
</I>

Hello Jeffrey,

    You should not hook this inside Squid. Implement an ICAP or eCAP
service instead: <A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A>


&gt;<i> Is there a neat and clean interface where I can get the pages being
</I>&gt;<i> read from the cache, and translate them, then send them to the
</I>&gt;<i> downstream clients.
</I>
Not really. Squid does not even have a concept of a &quot;page&quot;; it operates
on the level of HTTP messages. Adaptation services also have to work
with HTTP messages, not pages, but at least you will not have to deal
with Squid code (changes). As an added bonus, your service will work
with any proxy that supports ICAP (most production proxies do) or eCAP
(I am not aware of any production proxy that does, but that may change).


Please note that due to the &quot;success&quot; of the &quot;TLS everywhere&quot; campaign,
you will most likely have to attack and bump user TLS traffic in order
to translate most pages on the fly. This opens up a big can of worms.
<A HREF="http://wiki.squid-cache.org/Features/SslPeekAndSplice">http://wiki.squid-cache.org/Features/SslPeekAndSplice</A>

At the end of the day, you may want to write browser plugins instead,
although that option also comes with its own set of serious problems. In
theory, you can even write a browser plugin that will talk to an ICAP or
eCAP service, so that you can cover all possible deployment vectors with
a single adaptation service, but that is even more work, and I have not
heard of anybody doing that.


HTH,

Alex.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009287.html">[squid-dev] Online Translator interface for Squid
</A></li>
	<LI>Next message: <A HREF="009289.html">[squid-dev] Online Translator interface for Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9288">[ date ]</a>
              <a href="thread.html#9288">[ thread ]</a>
              <a href="subject.html#9288">[ subject ]</a>
              <a href="author.html#9288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
