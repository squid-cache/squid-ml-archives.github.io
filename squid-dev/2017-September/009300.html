<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] [RFC] The final phase of 3.5 testing/
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20The%20final%20phase%20of%203.5%20testing/&In-Reply-To=%3Cc312fc4a-f849-a6a6-4160-7c37d8f26dfd%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009298.html">
   <LINK REL="Next"  HREF="009301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] [RFC] The final phase of 3.5 testing/</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20%5BRFC%5D%20The%20final%20phase%20of%203.5%20testing/&In-Reply-To=%3Cc312fc4a-f849-a6a6-4160-7c37d8f26dfd%40treenet.co.nz%3E"
       TITLE="[squid-dev] [RFC] The final phase of 3.5 testing/">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Sep 19 16:13:43 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009298.html">[squid-dev] [RFC] The final phase of 3.5 testing/
</A></li>
        <LI>Next message: <A HREF="009301.html">[squid-dev] [RFC] The final phase of 3.5 testing/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9300">[ date ]</a>
              <a href="thread.html#9300">[ thread ]</a>
              <a href="subject.html#9300">[ subject ]</a>
              <a href="author.html#9300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/09/17 12:45, Eliezer Croitoru wrote:
&gt;<i> Hey All,
</I>&gt;<i> 
</I>&gt;<i> In the last 2 year I have tested Squid-Cache 3.5 and for general purposes
</I>&gt;<i> and it's stable.
</I>&gt;<i> The basic challenge is a simple internal traffic but there are couple other
</I>&gt;<i> challenges which I would like to verify.
</I>&gt;<i> The first thing is a test of squid against a very hostile environment like
</I>&gt;<i> the public Internet.
</I>&gt;<i> By testing on the public Internet I mean that it will sit in intercept or
</I>&gt;<i> trproxy mode ontop of a &quot;VPN&quot; service.
</I>&gt;<i> I believe that such a test would benefit us with more details about the
</I>&gt;<i> stability of the 3.5 branch and later maybe test the 4.x branch.
</I>&gt;<i> There are some legal issues in running such a setup and I would not be able
</I>&gt;<i> to run such a setup without some valid usage agreement.
</I>&gt;<i> 
</I>&gt;<i> First what do you all think about the idea in general?
</I>
We have various people actively using the latest code of both the v5 and 
v4 series. So Squid code of all branches is already being run in various 
production situations. Its just that since they are commercially 
sensitive we do not get feedback unless things actually go wrong.


&gt;<i> Second, would we be able to somehow list the known 3.5 bugs?
</I>
Each Squid series wiki page links to the bugzilla report listing all 
bugs which are still open and affecting that release.
eg &lt;<A HREF="https://wiki.squid-cache.org/Squid-3.5#Open_Bugs">https://wiki.squid-cache.org/Squid-3.5#Open_Bugs</A>&gt;


&gt;<i> I believe that such a list will help the admins to decide if Squid-Cache is
</I>&gt;<i> for them or not.
</I>&gt;<i> Currently there are 574 open bugs on the Bugzilla and maybe some of these
</I>&gt;<i> are not even relevant to 3.5.
</I>&gt;<i> -
</I>&gt;<i> <A HREF="http://bugs.squid-cache.org/buglist.cgi?bug_status=__open__&amp;content=&amp;limit=0">http://bugs.squid-cache.org/buglist.cgi?bug_status=__open__&amp;content=&amp;limit=0</A>
</I>&gt;<i> &amp;no_redirect=1&amp;order=priority%2Cbug_severity&amp;product=Squid&amp;query_format=spec
</I>&gt;<i> ific
</I>&gt;<i> 
</I>&gt;<i> Amos, You have suggested to walk me through some of the bugs to make our
</I>&gt;<i> lives much easier.
</I>&gt;<i> And I was thinking for example this bug: 3.2.1 SEGFAULT while freeing
</I>&gt;<i> ipcache_entry
</I>&gt;<i> <A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=3644">http://bugs.squid-cache.org/show_bug.cgi?id=3644</A>
</I>&gt;<i> 
</I>&gt;<i> It's a Solaris based squid which appeared in 3.2 and was confirmed by the
</I>&gt;<i> reported as &quot;works for me&quot; but never been marked this way.
</I>&gt;<i> If I'm not wrong Yuri also works or worked with solaris and can verify if
</I>&gt;<i> this kind of a bug exists or not on 3.5 can then we can close it as &quot;works
</I>&gt;<i> for me&quot;.
</I>
More correctly it disappeared without anyone making changes. So may 
recur at any time.

There have been some major changes to the memory management and safety 
since that version, but not so much in terms of ipcache improvements 
except indirectly through libmem / MEMPROXY pool changes.

The uncertainty there means leaving it open until more certainty happens 
just in case it does recur.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Also this bug: PURGE not purging hot objects (TCP_MEM_HIT ) with
</I>&gt;<i> memory_cache_shared on
</I>&gt;<i> <A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=3888">http://bugs.squid-cache.org/show_bug.cgi?id=3888</A>
</I>&gt;<i> 
</I>&gt;<i> Which I have seen that some work is being done on github  to resolve this
</I>&gt;<i> bug(3888)
</I>&gt;<i> It's there for at-least 3 years but nobody changed the milestone to what so
</I>&gt;<i> version.
</I>&gt;<i> I upped up the milestone to 3.5 since any patch will not be created by the
</I>&gt;<i> squid project itself to older versions then 3.5 ie .3.4 and down.
</I>&gt;<i> If you think that the milestone is 5 or 4 please change accordingly.
</I>
The milestone needs to be set to the oldest version where the bug is 
known to be *fixed*. So the report in the wiki page can accurately list; 
for example that this bug is still affecting Squid-4.

If we do not have a) a patch applied to the code master branch and 
working its way down to whatever old version, or b) a confirmation that 
the bug is gone in latest code; then the milestone should stay unset.

Eduards patch is expected to get to v4 but not older, so it will 
eventually be milestone of v4 not v3.5.

Amos
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009298.html">[squid-dev] [RFC] The final phase of 3.5 testing/
</A></li>
	<LI>Next message: <A HREF="009301.html">[squid-dev] [RFC] The final phase of 3.5 testing/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9300">[ date ]</a>
              <a href="thread.html#9300">[ thread ]</a>
              <a href="subject.html#9300">[ subject ]</a>
              <a href="author.html#9300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
