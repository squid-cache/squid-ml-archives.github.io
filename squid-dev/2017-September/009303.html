<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Online Translator interface for Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Online%20Translator%20interface%20for%20Squid&In-Reply-To=%3CCA%2BekxPU1VEj%2BPnSLbhajPPPag5QR2jZwL7S9dkebAVk6mxeAjw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009293.html">
   <LINK REL="Next"  HREF="009295.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Online Translator interface for Squid</H1>
    <B>Jeffrey Merkey</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Online%20Translator%20interface%20for%20Squid&In-Reply-To=%3CCA%2BekxPU1VEj%2BPnSLbhajPPPag5QR2jZwL7S9dkebAVk6mxeAjw%40mail.gmail.com%3E"
       TITLE="[squid-dev] Online Translator interface for Squid">jeffmerkey at gmail.com
       </A><BR>
    <I>Mon Sep 25 04:34:58 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="009293.html">[squid-dev] Online Translator interface for Squid
</A></li>
        <LI>Next message: <A HREF="009295.html">[squid-dev] Changed SSL bump event ordering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9303">[ date ]</a>
              <a href="thread.html#9303">[ thread ]</a>
              <a href="subject.html#9303">[ subject ]</a>
              <a href="author.html#9303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/13/17, Alex Rousskov &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">rousskov at measurement-factory.com</A>&gt; wrote:
&gt;<i> On 09/13/2017 11:25 PM, Jeffrey Merkey wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> It will allow me to translate any web content read through such a
</I>&gt;&gt;<i> cache to downstream clients.  I need to know where to hook into your
</I>&gt;&gt;<i> cache at the layer it is reading html pages to insert the translator.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello Jeffrey,
</I>&gt;<i>
</I>&gt;<i>     You should not hook this inside Squid. Implement an ICAP or eCAP
</I>&gt;<i> service instead: <A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Is there a neat and clean interface where I can get the pages being
</I>&gt;&gt;<i> read from the cache, and translate them, then send them to the
</I>&gt;&gt;<i> downstream clients.
</I>&gt;<i>
</I>&gt;<i> Not really. Squid does not even have a concept of a &quot;page&quot;; it operates
</I>&gt;<i> on the level of HTTP messages. Adaptation services also have to work
</I>&gt;<i> with HTTP messages, not pages, but at least you will not have to deal
</I>&gt;<i> with Squid code (changes). As an added bonus, your service will work
</I>&gt;<i> with any proxy that supports ICAP (most production proxies do) or eCAP
</I>&gt;<i> (I am not aware of any production proxy that does, but that may change).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Please note that due to the &quot;success&quot; of the &quot;TLS everywhere&quot; campaign,
</I>&gt;<i> you will most likely have to attack and bump user TLS traffic in order
</I>&gt;<i> to translate most pages on the fly. This opens up a big can of worms.
</I>&gt;<i> <A HREF="http://wiki.squid-cache.org/Features/SslPeekAndSplice">http://wiki.squid-cache.org/Features/SslPeekAndSplice</A>
</I>&gt;<i>
</I>&gt;<i> At the end of the day, you may want to write browser plugins instead,
</I>&gt;<i> although that option also comes with its own set of serious problems. In
</I>&gt;<i> theory, you can even write a browser plugin that will talk to an ICAP or
</I>&gt;<i> eCAP service, so that you can cover all possible deployment vectors with
</I>&gt;<i> a single adaptation service, but that is even more work, and I have not
</I>&gt;<i> heard of anybody doing that.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i>
</I>&gt;<i> Alex.
</I>&gt;<i>
</I>
Hi Alex,

Just wanted to let you know that got squid running perfectly with ssl
bumping and created a c-icap services module that loads under c-icap,
and I got that working too.  I am now focusing on the actual
translation code and everything is working well and I am translating
web pages into Cherokee on the fly..

Thanks for pointing me i the right direction.  I am somewhat amazed at
how well written both squid and c-icap are since the interface they
use under icap is incredibly easy to use.  Unlike squid, c-icap has
very sparse documentation so you have to go through their code.

Thanks for helping me out with this project.  Instead of taking months
it is only taking days to get everything running.  Now I have to focus
on the full translation matrix and language issues rather then having
to reinvent the proxy server.

Thanks so much.

Jeff
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009293.html">[squid-dev] Online Translator interface for Squid
</A></li>
	<LI>Next message: <A HREF="009295.html">[squid-dev] Changed SSL bump event ordering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9303">[ date ]</a>
              <a href="thread.html#9303">[ thread ]</a>
              <a href="subject.html#9303">[ subject ]</a>
              <a href="author.html#9303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
