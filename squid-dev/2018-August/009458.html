<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Squid supports two-ssl auth as mated squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Squid%20supports%20two-ssl%20auth%20as%20mated%20squid%20proxy&In-Reply-To=%3Cab12b76f-c2d5-03db-b5fa-618d0d9a0c39%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009457.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Squid supports two-ssl auth as mated squid proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Squid%20supports%20two-ssl%20auth%20as%20mated%20squid%20proxy&In-Reply-To=%3Cab12b76f-c2d5-03db-b5fa-618d0d9a0c39%40treenet.co.nz%3E"
       TITLE="[squid-dev] Squid supports two-ssl auth as mated squid proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Aug 12 18:31:05 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009457.html">[squid-dev] Squid supports two-ssl auth as mated squid proxy
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9458">[ date ]</a>
              <a href="thread.html#9458">[ thread ]</a>
              <a href="subject.html#9458">[ subject ]</a>
              <a href="author.html#9458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/08/18 05:02, rahman wrote:
&gt;<i> Hi ,Please let me know squid supports two way ssl authentication.Please
</I>&gt;<i> confirm if we can have an application server connection to remote server via
</I>&gt;<i> NATed squid proxy. The remote server requires client authentication
</I>&gt;<i> (SSLMutual Auth)? If yes, please guide on how to set it up.
</I>

No.

Squid does/should support two-way TLS authentication.

However, when NAT is involved the clients very likely do not permit it
to happen for all the exact same reasons that NAT breaks all types of
authentication:

 * the client does not know that it is talking to the proxy.

NAT is interception and TLS is explicitly designed to prevent
interception. Two-way authentication is even more strictly forbidding
than regular one-way authentication in TLS.


Any client worth using *will not* send security credentials at any level
to a upstream proxy which is not supposed to be there. The client
connected to origin server and will only send credentials appropriate
for that origin.
 The proxy does not have access to private key(s) of the origin. So
cannot generate nor verify any authentication token (ie client
certificate) which requires that private key.

The best a proxy can do is replace the origin keys with proxy keys and
hope the client is a) not verifying properly, or b) trusts the proxy
based on those new keys alone. (This what SSL-Bump does).

Amos
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009457.html">[squid-dev] Squid supports two-ssl auth as mated squid proxy
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9458">[ date ]</a>
              <a href="thread.html#9458">[ thread ]</a>
              <a href="subject.html#9458">[ subject ]</a>
              <a href="author.html#9458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
