<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Introduction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Introduction&In-Reply-To=%3Ca7550999-3315-66ed-8c0f-25a014ca01ec%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009347.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Introduction</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Introduction&In-Reply-To=%3Ca7550999-3315-66ed-8c0f-25a014ca01ec%40treenet.co.nz%3E"
       TITLE="[squid-dev] Introduction">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jan 22 15:29:23 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009347.html">[squid-dev] [squid-announce] RFC: Squid ESI processor changes
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9353">[ date ]</a>
              <a href="thread.html#9353">[ thread ]</a>
              <a href="subject.html#9353">[ subject ]</a>
              <a href="author.html#9353">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/12/17 02:11, Daniel Berredo wrote:
&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> My name is Daniel Santos and I am a DevOps in Brazil. I am working on a
</I>&gt;<i> Hotspot Captive Portal project using Squid and need to be to able to
</I>&gt;<i> evict an user from the Auth Cache before its ttl expired.
</I>&gt;<i> What would be the best way to start on a proper PR? Is there any dev
</I>&gt;<i> guidelines I should be aware of?
</I>&gt;<i> 
</I>&gt;<i> I am thinking about adding a new method to the CredentialsCache class
</I>&gt;<i> (&quot;evict&quot;, for example) and somehow make squid able to respond to a
</I>&gt;<i> variation of the &quot;PURGE&quot; method. Than I would be able to use squid
</I>&gt;<i> client to evict users from Auth Cache.
</I>&gt;<i> 
</I>&gt;<i> Is there anyone that could give me some directions on how to do this?
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance,
</I>&gt;<i> Daniel
</I>&gt;<i> 
</I>
Hi Daniel,

 Sorry for the delay your post got stuck in our moderation queue. Please
note that this list now has a normal mailing list subscription process.
You subscribe with the form at
&lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>&gt; and follow the bots
instructions.


Information for developers about Squid and the processes used by the
Squid Project is all linked from
&lt;<A HREF="https://wiki.squid-cache.org/DeveloperResources">https://wiki.squid-cache.org/DeveloperResources</A>&gt;.


A feature similar to what you describe has been on the wishlist for a
very long time now. Do not go to the effort of a whole new HTTP method,
or anything like PURGE. The CacheMgr interface already has most of the
HTTP message functionality in place to do this type of thing through GET
or POST.

It looks like the external ACL cache is still using the old C-style
dump() code. So it will first need converting into an class inheriting
from Mgr::Action. Then processing added to parse &quot;user=X&quot; tokens from
the URL query-string, and to act on the value found.


Before you go to too much trouble, is there a specific reason why you
are considering this approach instead of just setting shorter TTLs on
the details the helper is supplying Squid?
Be aware the TTL in Squid is simply how often it asks the helper for
updates on the validity. It does *not* relate to when those credentials
expire except as a _maximum_ time until Squid notices actual expiry.


Amos Jeffries
The Squid Software Foundation
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009347.html">[squid-dev] [squid-announce] RFC: Squid ESI processor changes
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9353">[ date ]</a>
              <a href="thread.html#9353">[ thread ]</a>
              <a href="subject.html#9353">[ subject ]</a>
              <a href="author.html#9353">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
