<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] squid to assign dedicated ip to clients behind same network/router
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20squid%20to%20assign%20dedicated%20ip%20to%20clients%20behind%20same%0A%20network/router&In-Reply-To=%3C1fe541ce-798a-7949-7ca4-d9acd76a6b26%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009415.html">
   <LINK REL="Next"  HREF="009410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] squid to assign dedicated ip to clients behind same network/router</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20squid%20to%20assign%20dedicated%20ip%20to%20clients%20behind%20same%0A%20network/router&In-Reply-To=%3C1fe541ce-798a-7949-7ca4-d9acd76a6b26%40treenet.co.nz%3E"
       TITLE="[squid-dev] squid to assign dedicated ip to clients behind same network/router">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jun 18 04:57:43 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009415.html">[squid-dev] squid to assign dedicated ip to clients behind same network/router
</A></li>
        <LI>Next message: <A HREF="009410.html">[squid-dev] Squid test-suite / benchmarks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9412">[ date ]</a>
              <a href="thread.html#9412">[ thread ]</a>
              <a href="subject.html#9412">[ subject ]</a>
              <a href="author.html#9412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[ this dev list is not appropriate for proxy usage questions. Please
address questions and requests for help using Squid to the squid-users
mailign list. ]


On 12/06/18 07:48, desis wrote:
&gt;<i> 
</I>&gt;<i> I have successfully installed squid server (On Centos) .. My servers has
</I>
Which version of Squid on what version of CentOS.

Squid versions older than the 3.5 series are not supported by us. AFAIK
the problem you describe does not happen with a correctly configured
Squid-3.5.


&gt;<i> five ip addresses . I have configured all 5 ip addresses for squid... so
</I>&gt;<i> clients can connect with any ip address and with tcp_outgoing_address client
</I>&gt;<i> will get same ip address from which ip address he is connecting.
</I>&gt;<i> 
</I>&gt;<i> But the problem is all my clients are behind a same router and having the
</I>&gt;<i> same public ip address.
</I>
The joys of NAT and IPv4-only networks.

The only real solution to that is to upgrade your network such that it
does not NAT clients into the same IP address. You may require IPv6 to
achieve that.


&gt;<i> 
</I>&gt;<i> Now the problem is .. Let see client one use server 1.1.1.0 ip address to
</I>&gt;<i> connect squid first, he is getting server 1.1.1.0 ip address for his public
</I>&gt;<i> ip.
</I>&gt;<i> 
</I>&gt;<i> Now Client two using server 2.2.2.0 ip address to connect squid , he is
</I>&gt;<i> getting server 2.2.2.0 ip adddress for his public ip ...
</I>&gt;<i> 
</I>&gt;<i> But at this moment client's one public ip address is changing to 2.2.2.0 .
</I>
There is nothing Squid can do about a *client* IP address. All it can do
it *request* the OS to use certain outgoing IP on its own connections.


Going forward you need to be aware that HTTP is a multiplexing protocol.
Any connection between proxy and a server can be used by any client who
needs content from that server.

This is how HTTP is designed to work. To multiplex connections and
maximize pipeline efficiencies, in order to reduce the pressures of port
number consumption. Without it proxies can flood the network with
short-lived TCP connections and consume all available ports on every
machine along the traffic path.


Amos
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009415.html">[squid-dev] squid to assign dedicated ip to clients behind same network/router
</A></li>
	<LI>Next message: <A HREF="009410.html">[squid-dev] Squid test-suite / benchmarks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9412">[ date ]</a>
              <a href="thread.html#9412">[ thread ]</a>
              <a href="subject.html#9412">[ subject ]</a>
              <a href="author.html#9412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
