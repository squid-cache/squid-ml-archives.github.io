<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Block users dynamically
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Block%20users%20dynamically&In-Reply-To=%3C6dc0ee6a5e7498404e390abbfd8580bf%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009413.html">
   <LINK REL="Next"  HREF="009418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Block users dynamically</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Block%20users%20dynamically&In-Reply-To=%3C6dc0ee6a5e7498404e390abbfd8580bf%40ngtech.co.il%3E"
       TITLE="[squid-dev] Block users dynamically">eliezer at ngtech.co.il
       </A><BR>
    <I>Fri Jun 22 10:33:11 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009413.html">[squid-dev] PROXY protocol and TPROXY, can they go together?
</A></li>
        <LI>Next message: <A HREF="009418.html">[squid-dev] Support lower case http/ spn format for realmd/adcli	join support.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9414">[ date ]</a>
              <a href="thread.html#9414">[ thread ]</a>
              <a href="subject.html#9414">[ subject ]</a>
              <a href="author.html#9414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am pretty sure it was pointed towards Dean and the top\tip of thread.

But well also for ufdbGuard, have you ever considered using an external 
ACL helper api?
Or maybe an ICAP one?

..I can try to look at the ufdbGuard helper code and compile an ICAP 
service based on this but... only if someone needs or wants it.

Eliezer

On 2018-05-30 15:01, Marcus Kool wrote:
&gt;<i> On 30/05/18 08:55, Daniel Berredo wrote:
</I>&gt;&gt;<i> Have you ever considered using an external ACL helper?
</I>&gt;<i> 
</I>&gt;<i> eh, for what ?
</I>&gt;<i> 
</I>&gt;&gt;<i> On Tue, May 29, 2018, 9:57 PM Marcus Kool &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">marcus.kool at urlfilterdb.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">marcus.kool at urlfilterdb.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     On 28/05/18 15:10, dean wrote:
</I>&gt;&gt;<i>      &gt; I am implementing modifications to Squid 3.5.27 for a thesis 
</I>&gt;&gt;<i> job. At some point in the code, I need to block a user. What I'm doing 
</I>&gt;&gt;<i> is writing to an external file that is used in the
</I>&gt;&gt;<i>     configuration,
</I>&gt;&gt;<i>      &gt; like Squish does. But it does not block the user, however when 
</I>&gt;&gt;<i> I reconfigure Squid if it blocks it. Is there something I do not know? 
</I>&gt;&gt;<i> When I change the file, should I reconfigure Squid? Is there
</I>&gt;&gt;<i>      &gt; another way to block users dynamically from the Squid code?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     You can use ufdbGuard for this purpose.Â  ufdbGuard is a free URL 
</I>&gt;&gt;<i> redirector for Squid which can be configured to read lists of 
</I>&gt;&gt;<i> usernames or list of IP addresses every X minutes (default for X is 
</I>&gt;&gt;<i> 15).
</I>&gt;&gt;<i>     So if you control a blacklist with usernames and write the name of 
</I>&gt;&gt;<i> the user to a defined file, ufdbguardd will block these users.
</I>&gt;&gt;<i>     If the user must be blocked immediately you need to reload 
</I>&gt;&gt;<i> ufdbguardd, otherwise you wait until the configured time interval to 
</I>&gt;&gt;<i> reread the userlist expires and so after a few minutes the user gets
</I>&gt;&gt;<i>     blocked.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     Note that reloading ufdbguardd does not interfere with Squid and 
</I>&gt;&gt;<i> all activity by browsers and squid continues normally.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     Marcus
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     _______________________________________________
</I>&gt;&gt;<i>     squid-dev mailing list
</I>&gt;&gt;<i>     <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>&gt;
</I>&gt;&gt;<i>     <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-dev mailing list
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>
</I>
-- 
----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">eliezer at ngtech.co.il</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009413.html">[squid-dev] PROXY protocol and TPROXY, can they go together?
</A></li>
	<LI>Next message: <A HREF="009418.html">[squid-dev] Support lower case http/ spn format for realmd/adcli	join support.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9414">[ date ]</a>
              <a href="thread.html#9414">[ thread ]</a>
              <a href="subject.html#9414">[ subject ]</a>
              <a href="author.html#9414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
