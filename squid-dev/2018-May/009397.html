<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Block users dynamically
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Block%20users%20dynamically&In-Reply-To=%3C426b96c9-e209-170f-0b96-251a39fed27d%40urlfilterdb.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009396.html">
   <LINK REL="Next"  HREF="009399.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Block users dynamically</H1>
    <B>Marcus Kool</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Block%20users%20dynamically&In-Reply-To=%3C426b96c9-e209-170f-0b96-251a39fed27d%40urlfilterdb.com%3E"
       TITLE="[squid-dev] Block users dynamically">marcus.kool at urlfilterdb.com
       </A><BR>
    <I>Wed May 30 00:56:58 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009396.html">[squid-dev] Block users dynamically
</A></li>
        <LI>Next message: <A HREF="009399.html">[squid-dev] Block users dynamically
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9397">[ date ]</a>
              <a href="thread.html#9397">[ thread ]</a>
              <a href="subject.html#9397">[ subject ]</a>
              <a href="author.html#9397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 28/05/18 15:10, dean wrote:
&gt;<i> I am implementing modifications to Squid 3.5.27 for a thesis job. At some point in the code, I need to block a user. What I'm doing is writing to an external file that is used in the configuration, 
</I>&gt;<i> like Squish does. But it does not block the user, however when I reconfigure Squid if it blocks it. Is there something I do not know? When I change the file, should I reconfigure Squid? Is there 
</I>&gt;<i> another way to block users dynamically from the Squid code?
</I>
You can use ufdbGuard for this purpose.  ufdbGuard is a free URL redirector for Squid which can be configured to read lists of usernames or list of IP addresses every X minutes (default for X is 15).
So if you control a blacklist with usernames and write the name of the user to a defined file, ufdbguardd will block these users.
If the user must be blocked immediately you need to reload ufdbguardd, otherwise you wait until the configured time interval to reread the userlist expires and so after a few minutes the user gets 
blocked.

Note that reloading ufdbguardd does not interfere with Squid and all activity by browsers and squid continues normally.

Marcus

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009396.html">[squid-dev] Block users dynamically
</A></li>
	<LI>Next message: <A HREF="009399.html">[squid-dev] Block users dynamically
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9397">[ date ]</a>
              <a href="thread.html#9397">[ thread ]</a>
              <a href="subject.html#9397">[ subject ]</a>
              <a href="author.html#9397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
