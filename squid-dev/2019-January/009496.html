<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Securtiy_file_gen in a server format development
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Securtiy_file_gen%20in%20a%20server%20format%20development&In-Reply-To=%3C00b301d4ade1%249b7722b0%24d2656810%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009495.html">
   <LINK REL="Next"  HREF="009497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Securtiy_file_gen in a server format development</H1>
    <B>eliezer at ngtech.co.il</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Securtiy_file_gen%20in%20a%20server%20format%20development&In-Reply-To=%3C00b301d4ade1%249b7722b0%24d2656810%24%40ngtech.co.il%3E"
       TITLE="[squid-dev] Securtiy_file_gen in a server format development">eliezer at ngtech.co.il
       </A><BR>
    <I>Wed Jan 16 21:22:38 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="009495.html">[squid-dev] PVS Studio
</A></li>
        <LI>Next message: <A HREF="009497.html">[squid-dev] Securtiy_file_gen in a server format development
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9496">[ date ]</a>
              <a href="thread.html#9496">[ thread ]</a>
              <a href="subject.html#9496">[ subject ]</a>
              <a href="author.html#9496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK.

So I would try to run a test of three squid 4.4 instances with a NFS share for /var/squid/ssl_db ontop of NFSv3 and NFSv4.
If the network speed is fast then it's a nice thing to have on a busy cluster to reduce the load of encryption &quot;part&quot; of the CPU (if it's worth something).

The use case of logging certificate generation and couple other related features is security &quot;auditing&quot;.
Like SELinux has audit log that can help to decide on specific actions, in a similar way some organizations.

If security auditing is not enough to allow investigation of content leakage or some other scenario I cannot think about another option.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-dev &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Alex Rousskov
Sent: Sunday, December 30, 2018 19:08
To: <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
Subject: Re: [squid-dev] Securtiy_file_gen in a server format development

On 12/29/18 11:45 PM, Eliezer Croitoru wrote:

&gt;<i> From what I understood until now it seems that the current ssl_db
</I>&gt;<i> directory structure is simple enough that it might be possible to share
</I>&gt;<i> it across a NFS store.
</I>
I would expect NFS store to work in environments that support file
locking over NFS. For example, NFS flock(2) does not work with Linux
kernels up to v2.6.11. For the list of environment-specific file locking
system calls used by the certificate generator, see Ssl::Lock::lock().


&gt;<i> Since squid is being used in couple locations as a security software it
</I>&gt;<i> would be good for security admins to be able to have some history logs.
</I>
The generated certificate database is just an optimization/cache.
Logging certificate cache operations would probably be as useful/useless
as store.log is for the HTTP cache. It would be good to discuss and
target some specific use cases before designing where and how to log
certificate operations.

Alex.

_______________________________________________
squid-dev mailing list
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">squid-dev at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">http://lists.squid-cache.org/listinfo/squid-dev</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009495.html">[squid-dev] PVS Studio
</A></li>
	<LI>Next message: <A HREF="009497.html">[squid-dev] Securtiy_file_gen in a server format development
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9496">[ date ]</a>
              <a href="thread.html#9496">[ thread ]</a>
              <a href="subject.html#9496">[ subject ]</a>
              <a href="author.html#9496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
