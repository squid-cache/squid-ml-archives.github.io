From josepjones at expediagroup.com  Tue Jun 18 12:40:26 2019
From: josepjones at expediagroup.com (Joseph Jones)
Date: Tue, 18 Jun 2019 12:40:26 +0000
Subject: [squid-dev] Self Introduction
Message-ID: <CY4PR02MB2725C10245CED2055F648BD0B0EA0@CY4PR02MB2725.namprd02.prod.outlook.com>

Hello Squid Developers.

I'm a Software Engineer for Expedia Group.

The team I work on uses Squid as a url filter for egress traffic for all our applications and we are looking to use it more in the future. We thought it would be a good idea to gain a deeper knowledge of squid and contribute back to the community, so I've been allowed to start spending at least some of my development time working on squid. However I haven't done any C/C++ since college so I'm a bit rusty.

My current plans are to ramp up my skills by improving unit test while I re-learn C/C++ and the squid code base.

I do have an interest in contributing to the following features in the future:
https://wiki.squid-cache.org/Features/Socks

Features/Socks - Squid Web Proxy Wiki<https://wiki.squid-cache.org/Features/Socks>
wiki.squid-cache.org
Extra additions: there seems to also be a system configuration setting and config file(s) for setting a parent SOCKSv5 proxy. It may be useful to pull this in as a possible automatic cache_peer entry.





--


Joseph M Jones


Sr Software Engineer, Cloud

EPS - Expedia Group

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.squid-cache.org/pipermail/squid-dev/attachments/20190618/104f2712/attachment.html>

From summaiya at amazon.co.uk  Fri Jun 21 10:45:33 2019
From: summaiya at amazon.co.uk (summaiya)
Date: Fri, 21 Jun 2019 05:45:33 -0500 (CDT)
Subject: [squid-dev] How to enable proxy protocol v2 on squid version 4.6.1,
	and NLB
Message-ID: <1561113933803-0.post@n4.nabble.com>

Hi All, 

I have deployed EC2 Egress URL Filtering Squid Proxy solution, I have used
AWS PrivateLink to centralize web filtering in explicit mode. Squid proxy
farm is implemented by a Network Load Balancer which distributes TCP
requests across multiple Target Squid proxy instances, running in separate
Availability Zones

My setup is similar to that mentioned in this blog :-
https://aws.amazon.com/blogs/networking-and-content-delivery/how-to-use-aws-privatelink-to-secure-and-scale-web-filtering-using-explicit-proxy/

I have installed Squid version 4.6.1, but the access log do not show the
client ip address, even though I added the below rules:- 
http_port 3128 require-proxy-header
http_port 3128
proxy_protocol_access allow localnet

The proxy settings at the client are below :-
[root at ip-172-16-1-99 ~]# export | grep proxy
declare -x
http_proxy="http://vpce-05a51748abb0bfd68-4e77o32h.vpce-svc-070d1304cc7cc5b5f.eu-west-2.vpce.amazonaws.com:3128"
declare -x
https_proxy="http://vpce-05a51748abb0bfd68-4e77o32h.vpce-svc-070d1304cc7cc5b5f.eu-west-2.vpce.amazonaws.com:3128"
declare -x no_proxy="169.254.169.254

But still the access logs do not show the client ip address, am I missing
something in the solution.Do I have to enable the proxy protocol v2 at NLB
level as welll, will it break the application? 
I checked most of the similar blogs, but I did not find any proper solution.

Squid Access logs :- showing ip address of NLB not client ip address 

[root at ip-10-0-0-193 squid]# cat access.log
1560426278.960      0 10.0.0.17 TAG_NONE/400 4546 NONE error:invalid-request
- HIER_NONE/- text/html
1560426279.647      0 10.0.0.17 TAG_NONE/400 4546 NONE error:invalid-request
- HIER_NONE/- text/html

Kindly provide some steps which I need to take care at squid servers conf
file and at client instance.

Regards
Summaiya 



--
Sent from: http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Development-f1042840.html

From squid3 at treenet.co.nz  Fri Jun 28 09:05:50 2019
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Fri, 28 Jun 2019 21:05:50 +1200
Subject: [squid-dev] HTTP body/payload Digest mechanism
Message-ID: <55377df2-00c7-8de2-66d3-5b4afb0ee617@treenet.co.nz>

Hi all,

The HTTPbis Working Group has adopted the following feature
specification for delivering resource/representation Digest checksums
into HTTP.

<https://tools.ietf.org/html/draft-polli-resource-digests-http-00>

I know some of you were interested earlier in relation to Content-MD5
(being formally retired by this feature) or similar Digests. Now would
be a good time to chime in on the HTTPbis mailing list or start with
implementation experiments based on the Draft to see how it works / fails.


Cheers
Amos

