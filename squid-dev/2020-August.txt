From squid3 at treenet.co.nz  Wed Aug  5 01:26:40 2020
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Wed, 5 Aug 2020 13:26:40 +1200
Subject: [squid-dev] Jenkins situation
Message-ID: <66851d99-e1e1-5d77-00ad-669339e858f8@treenet.co.nz>

Hi all,

With the recent Jenkins randomly failing builds due to git pull / fetch
failures I am having to selectively disable the PR Jenkins block on PR
merging for some hrs.

Please do not mark any PRs with "M-cleared-for-merge" until further
notice. I will do this myself with coordination on Jenkins results. You
can use the "waiting-for-committer" instead if necessary.

Thank you all.

Amos

From rousskov at measurement-factory.com  Fri Aug  7 15:35:17 2020
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Fri, 7 Aug 2020 11:35:17 -0400
Subject: [squid-dev] Jenkins situation
In-Reply-To: <66851d99-e1e1-5d77-00ad-669339e858f8@treenet.co.nz>
References: <66851d99-e1e1-5d77-00ad-669339e858f8@treenet.co.nz>
Message-ID: <0b1ee6f1-8f48-a3bb-3924-5cb4ca072ed0@measurement-factory.com>

On 8/4/20 9:26 PM, Amos Jeffries wrote:

> With the recent Jenkins randomly failing builds due to git pull / fetch
> failures I am having to selectively disable the PR Jenkins block on PR
> merging for some hrs.
> 
> Please do not mark any PRs with "M-cleared-for-merge" until further
> notice. I will do this myself with coordination on Jenkins results. You
> can use the "waiting-for-committer" instead if necessary.

I will cooperate until the end of August, but I consider the suggested
procedure excessively restrictive and not precedent-setting.

If Jenkins build testing does not become stable enough by the end of
August, we should make it optional (until it becomes stable again).


@kinkie, I do not know enough about the root cause of Jenkins failures
to suggest any specific fixes, but, if you have not already, please
consider (temporary) removing some of the Jenkins tests/nodes _if_ doing
so would bring the overall Jenkins stability to acceptable levels. IMHO,
it is better to have one working build test node than ten frequently
failing ones.


Thank you,

Alex.

From squid3 at treenet.co.nz  Sun Aug  9 14:10:03 2020
From: squid3 at treenet.co.nz (Amos Jeffries)
Date: Mon, 10 Aug 2020 02:10:03 +1200
Subject: [squid-dev] Jenkins situation
In-Reply-To: <66851d99-e1e1-5d77-00ad-669339e858f8@treenet.co.nz>
References: <66851d99-e1e1-5d77-00ad-669339e858f8@treenet.co.nz>
Message-ID: <1644d13b-857c-6ed4-f020-63cc8ee3a66b@treenet.co.nz>

On 5/08/20 1:26 pm, Amos Jeffries wrote:
> Hi all,
> 
> With the recent Jenkins randomly failing builds due to git pull / fetch
> failures I am having to selectively disable the PR Jenkins block on PR
> merging for some hrs.


Previous "normal" situation appears to be resuming. I am returning to
regular merge actions. Luckily only one 30min override was needed in
total and Anubis seems to have coped well enough.

Jenkins still has some issues doing git operations when the relevant
repository branch is being touched (eg more commits pushed by the time
Jenkins gets to testing). But those have been resolved with regular
Jenkins API kicks.

Amos

