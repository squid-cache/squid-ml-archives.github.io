<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Efficient FD annotations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Efficient%20FD%20annotations&In-Reply-To=%3C124619a7-7401-5619-3c83-c8dd7b6d7767%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009527.html">
   <LINK REL="Next"  HREF="009529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Efficient FD annotations</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Efficient%20FD%20annotations&In-Reply-To=%3C124619a7-7401-5619-3c83-c8dd7b6d7767%40treenet.co.nz%3E"
       TITLE="[squid-dev] Efficient FD annotations">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jan  7 06:39:21 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="009527.html">[squid-dev] Efficient FD annotations
</A></li>
        <LI>Next message: <A HREF="009529.html">[squid-dev] Efficient FD annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9528">[ date ]</a>
              <a href="thread.html#9528">[ thread ]</a>
              <a href="subject.html#9528">[ subject ]</a>
              <a href="author.html#9528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/01/20 4:28 am, Alex Rousskov wrote:
&gt;<i> For the record: The ideas below are superseded by the concept of the
</I>&gt;<i> code context introduced in commit ccfbe8f, including the
</I>&gt;<i> fde::codeContext field. --Alex
</I>&gt;<i> 
</I>
If you want to go that way (replace fde:note with fde:codeContext) we
are going to have to do a security audit on the values displayed by the
CodeContext objects. That is due to how the fde::note are sent over the
public network in clear-text transactions for mgr:filedescriptors report.


In regards to PR 70;
  Most of the notes which are dynamically created are coming from the
URL field of HttpRequest which has become an SBuf while this PR was on hold.
 So the performance hit is much reduced from what worried you in the
earlier review. In fact we are about to gain the removal of a c_str() in
the common path and a xstrndup() on all SMP worker shared FDs.


Amos
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009527.html">[squid-dev] Efficient FD annotations
</A></li>
	<LI>Next message: <A HREF="009529.html">[squid-dev] Efficient FD annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9528">[ date ]</a>
              <a href="thread.html#9528">[ thread ]</a>
              <a href="subject.html#9528">[ subject ]</a>
              <a href="author.html#9528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
