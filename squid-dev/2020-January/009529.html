<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Efficient FD annotations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Efficient%20FD%20annotations&In-Reply-To=%3C651fb68b-fd93-3bb3-70f1-dfb0eba9924e%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009528.html">
   <LINK REL="Next"  HREF="009532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Efficient FD annotations</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Efficient%20FD%20annotations&In-Reply-To=%3C651fb68b-fd93-3bb3-70f1-dfb0eba9924e%40measurement-factory.com%3E"
       TITLE="[squid-dev] Efficient FD annotations">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Jan  7 14:39:20 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="009528.html">[squid-dev] Efficient FD annotations
</A></li>
        <LI>Next message: <A HREF="009532.html">[squid-dev] Efficient FD annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9529">[ date ]</a>
              <a href="thread.html#9529">[ thread ]</a>
              <a href="subject.html#9529">[ subject ]</a>
              <a href="author.html#9529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/7/20 1:39 AM, Amos Jeffries wrote:
&gt;<i> On 7/01/20 4:28 am, Alex Rousskov wrote:
</I>&gt;&gt;<i> For the record: The ideas below are superseded by the concept of the
</I>&gt;&gt;<i> code context introduced in commit ccfbe8f, including the
</I>&gt;&gt;<i> fde::codeContext field. --Alex
</I>
&gt;<i> If you want to go that way (replace fde:note with fde:codeContext)
</I>
I would not replace fde::note with fde::codeContext. I would keep
fde::note as a basic indication of the current FD purpose/scope. This
can be done cheaply using string literals or constant SBufs.


&gt;<i> we are going to have to do a security audit on the values displayed
</I>&gt;<i> by the CodeContext objects. That is due to how the fde::note are sent
</I>&gt;<i> over the public network in clear-text transactions for
</I>&gt;<i> mgr:filedescriptors report.
</I>
Overall, I doubt such an audit is a good idea -- only the Squid admin
can correctly decide whether it is OK to expose transaction information
in cache manager responses[1,2]. If there is demand for limiting that
exposure, I would rather add a configuration directive that would allow
the admin to control whether Squid is allowed to report context in cache
manager responses, error pages, etc.

Alex.

[1] Some of the transaction context is already exposed in the current
cache manager responses. We may want to add more details or report fewer
details, but there is no paradigm shift here.

[2] In some deployment environments, cache manager responses are
delivered over secure channels.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009528.html">[squid-dev] Efficient FD annotations
</A></li>
	<LI>Next message: <A HREF="009532.html">[squid-dev] Efficient FD annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9529">[ date ]</a>
              <a href="thread.html#9529">[ thread ]</a>
              <a href="subject.html#9529">[ subject ]</a>
              <a href="author.html#9529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
