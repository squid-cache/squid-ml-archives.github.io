<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] cppunit -&gt; googletest / gmock?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20cppunit%20-%3E%20googletest%20/%20gmock%3F&In-Reply-To=%3Cafe9a500-c2b9-2f03-7e45-d08122b313a7%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009581.html">
   <LINK REL="Next"  HREF="009585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] cppunit -&gt; googletest / gmock?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20cppunit%20-%3E%20googletest%20/%20gmock%3F&In-Reply-To=%3Cafe9a500-c2b9-2f03-7e45-d08122b313a7%40measurement-factory.com%3E"
       TITLE="[squid-dev] cppunit -&gt; googletest / gmock?">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun May 31 15:18:40 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009581.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
        <LI>Next message (by thread): <A HREF="009585.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9584">[ date ]</a>
              <a href="thread.html#9584">[ thread ]</a>
              <a href="subject.html#9584">[ subject ]</a>
              <a href="author.html#9584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/30/20 2:36 PM, Amos Jeffries wrote:
&gt;<i> On 31/05/20 5:27 am, Francesco Chemolli wrote:
</I>&gt;&gt;<i> starting from a PR in a conversation with Alex about our current
</I>&gt;&gt;<i> approach to unit testing being painful, I've checked what alternatives
</I>&gt;&gt;<i> would we have and how practical would they be.
</I>
FWIW, I would start from the other end -- trying to understand what the
primary problems are. What unit testing problems do we want to solve?


&gt;&gt;<i> - googlemock promises to be vastly superior to our current approach
</I>
&gt;<i> Where are you seeing evidence of this?
</I>
I too would appreciate a brief/summary answer to this question -- what
are the primary advantages? If this is already listed on the web
somewhere, a reference is enough, of course.


&gt;<i> The main issue we have with cppunit itself is that when a test fails it
</I>&gt;<i> is not clear from the output which assertion occurred, nor why.
</I>
FWIW, the above problem is only a minor issue for me.

The main issue for me is the amount of time spent on keeping &quot;make
check&quot; operational compared to the actual benefits of those unit tests.
I speculate that Squid would be in an overall better place today if all
those tests were simply deleted ten years ago.


&gt;<i> IIRC Alex an I have different ideas about the ideal focus of testing;
</I>&gt;<i>  * I prefer the micro-test approach to demonstrate a high quality proof
</I>&gt;<i> of code reliability.
</I>&gt;<i>  * Alex has stated a preference for high level black-box testing of
</I>&gt;<i> behaviour vs design requirements.
</I>
The above summary does not accurately reflect my position. And the
juxtaposition of &quot;reliability&quot; and &quot;satisfying design requirements&quot; is
misleading at best.

Any test, including any micro- and macro-test, can be valuable or a
waste of time. The &quot;level&quot; of the test is not what determines its value.
The focus should be on tests that, over the long term, maximize return
on investment. In the ideal world, that approach would result in a
_combination_ of micro/unit/macro/white/black/etc. tests, each applied
to problems where its effectiveness is maximized.

In our current situation, we can discuss, among other things, whether
the continued investment in unit tests is the right thing to do, and
whether that investment (if any) should be conditional on significantly
reducing maintenance overheads. It is a difficult discussion, especially
when there is a lack of agreed upon testing principles and goals.


HTH,

Alex.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009581.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
	<LI>Next message (by thread): <A HREF="009585.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9584">[ date ]</a>
              <a href="thread.html#9584">[ thread ]</a>
              <a href="subject.html#9584">[ subject ]</a>
              <a href="author.html#9584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
