<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] cppunit -&gt; googletest / gmock?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20cppunit%20-%3E%20googletest%20/%20gmock%3F&In-Reply-To=%3Cebad6eea-3e0d-d260-6422-dd381c1cdba8%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009585.html">
   <LINK REL="Next"  HREF="009583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] cppunit -&gt; googletest / gmock?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20cppunit%20-%3E%20googletest%20/%20gmock%3F&In-Reply-To=%3Cebad6eea-3e0d-d260-6422-dd381c1cdba8%40measurement-factory.com%3E"
       TITLE="[squid-dev] cppunit -&gt; googletest / gmock?">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun May 31 19:43:46 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009585.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
        <LI>Next message (by thread): <A HREF="009583.html">[squid-dev] RFC: Modernizing sources using clang-tidy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9586">[ date ]</a>
              <a href="thread.html#9586">[ thread ]</a>
              <a href="subject.html#9586">[ subject ]</a>
              <a href="author.html#9586">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/31/20 3:05 PM, Francesco Chemolli wrote:

&gt;<i> - <A HREF="https://stackoverflow.com/questions/7922289/googletest-vs-cppun">https://stackoverflow.com/questions/7922289/googletest-vs-cppun</A>
</I>&gt;<i> it-the-facts
</I>&gt;<i> - trivial but it builds up: not generally necessary to have .h and .cc
</I>&gt;<i> for simple cases
</I>&gt;<i> - comparison
</I>&gt;<i> table: <A HREF="https://socialcompare.com/en/comparison/c-unit-testing-framework">https://socialcompare.com/en/comparison/c-unit-testing-framework</A>
</I>&gt;<i> - gmock/gtest is used in broadly-used projects (e.g. chromium) - I'm not
</I>&gt;<i> sure 
</I>

&gt;<i> So far I'm basing on documentation, found
</I>&gt;<i> at <A HREF="https://github.com/google/googletest/blob/master/googlemock/docs/cook_book.md&#194;&#160;.">https://github.com/google/googletest/blob/master/googlemock/docs/cook_book.md .</A>
</I>&gt;<i> I see: 
</I>&gt;<i> - a more structured approach to mocking, and more infrastructure to do it
</I>&gt;<i> - ON_CALL and EXPECT_CALL patterns to define actions and expectations on
</I>&gt;<i> class methods (method called once / called multiple times). This can
</I>&gt;<i> also allow to change the behaviour of a mocked object on different tests
</I>&gt;<i> without having to remock it all
</I>&gt;<i> - matchers on called methods
</I>&gt;<i> - moched methods can different return values depending on arguments, and
</I>&gt;<i> check for complex sequences of calls to methods (call a() with some
</I>&gt;<i> arguments, then either b() or c(), if it's c() must be followe by d() 
</I>&gt;<i> - for object, the concept of &quot;uninteresting calls&quot; that get ignored, and
</I>&gt;<i> can be defaulted
</I>
Thank you for summarizing this info!

FWIW, if you and Amos decide to switch to another unit test platform, I
will not object to such a switch, provided the transition is instant. We
do not have enough resources to properly write and maintain unit tests
using one platform IMO. We certainly do not have enough resources for
two platforms.


&gt;<i> TBH I favour unit tests as well.
</I>
TBH, I am against test discrimination ;-).

Alex.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009585.html">[squid-dev] cppunit -&gt; googletest / gmock?
</A></li>
	<LI>Next message (by thread): <A HREF="009583.html">[squid-dev] RFC: Modernizing sources using clang-tidy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9586">[ date ]</a>
              <a href="thread.html#9586">[ thread ]</a>
              <a href="subject.html#9586">[ subject ]</a>
              <a href="author.html#9586">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
