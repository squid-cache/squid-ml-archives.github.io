<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Any code pointers to get sending certificate chain from squid reverse proxy with gnutls?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Any%20code%20pointers%20to%20get%20sending%20certificate%20chain%20from%0A%20squid%20reverse%20proxy%20with%20gnutls%3F&In-Reply-To=%3CCABWAcDuVUKkxkUGZUmvRhWANtWZ0nvScHYjPCOoG1vYe5s%2BWbA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="009669.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Any code pointers to get sending certificate chain from squid reverse proxy with gnutls?</H1>
    <B>dsuh</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Any%20code%20pointers%20to%20get%20sending%20certificate%20chain%20from%0A%20squid%20reverse%20proxy%20with%20gnutls%3F&In-Reply-To=%3CCABWAcDuVUKkxkUGZUmvRhWANtWZ0nvScHYjPCOoG1vYe5s%2BWbA%40mail.gmail.com%3E"
       TITLE="[squid-dev] Any code pointers to get sending certificate chain from squid reverse proxy with gnutls?">dsuhpublic at gmail.com
       </A><BR>
    <I>Thu Apr 29 06:09:57 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009669.html">[squid-dev] Strategy about build farm nodes
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9670">[ date ]</a>
              <a href="thread.html#9670">[ thread ]</a>
              <a href="subject.html#9670">[ subject ]</a>
              <a href="author.html#9670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have hit a wall as I want to listen on one https_port for 3 different
server key/cert chains.
Previous message about 2 years ago says this has not been implemented yet.
<A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/sending-certificate-chain-from-squid-reverse-proxy-td4687986.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/sending-certificate-chain-from-squid-reverse-proxy-td4687986.html</A>

I am looking at what it would take to get cert chains working.
I think the credentials are set for gnutls TLS handshake
with gnutls_credentials_set() call in CreateSession() in Session.cc
So, I think that ctx is used for session data for gnutls and also for
context data for openssl?
I think I kind of got lost on how I can make sure a cert chain (instead of
just the server cert) is set in ctx.
Any direction on where the server cert chain should be set for gnutls TLS
handshake would be appreciated.

David Suh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-dev/attachments/20210428/a27f50af/attachment.htm">http://lists.squid-cache.org/pipermail/squid-dev/attachments/20210428/a27f50af/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009669.html">[squid-dev] Strategy about build farm nodes
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9670">[ date ]</a>
              <a href="thread.html#9670">[ thread ]</a>
              <a href="subject.html#9670">[ subject ]</a>
              <a href="author.html#9670">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
