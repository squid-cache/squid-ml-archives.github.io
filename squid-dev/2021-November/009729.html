<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] request for change handling hostStrictVerify
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20request%20for%20change%20handling%20hostStrictVerify&In-Reply-To=%3C854f5273-1c87-c97f-53b2-f82e409fcfac%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009728.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] request for change handling hostStrictVerify</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20request%20for%20change%20handling%20hostStrictVerify&In-Reply-To=%3C854f5273-1c87-c97f-53b2-f82e409fcfac%40measurement-factory.com%3E"
       TITLE="[squid-dev] request for change handling hostStrictVerify">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Nov  2 15:26:47 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009728.html">[squid-dev]  request for change handling hostStrictVerify
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9729">[ date ]</a>
              <a href="thread.html#9729">[ thread ]</a>
              <a href="subject.html#9729">[ subject ]</a>
              <a href="author.html#9729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/2/21 4:25 AM, <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">kk at sudo-i.net</A> wrote:
&gt;<i> 
</I>&gt;<i> On Monday, November 01, 2021 14:58 GMT, Alex Rousskov
</I>&gt;<i> &lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-dev">rousskov at measurement-factory.com</A>&gt; wrote:
</I>&gt;<i> &#160;
</I>&gt;&gt;<i> On 11/1/21 3:59 AM, <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">kk at sudo-i.net</A> wrote:
</I>&gt;&gt;<i> &gt; On Saturday, October 30, 2021 01:14 GMT, Alex Rousskov wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; AFAICT, in the majority of deployments, the mismatch between the
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; intended IP address and the SNI/Host header can be correctly handled
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; automatically and without creating serious problems for the
</I>&gt;&gt;<i> user. Squid
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; already does the right thing in some cases. Somebody should
</I>&gt;&gt;<i> carefully
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; expand that coverage to intercepted traffic. Frankly, I am somewhat
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; surprised nobody has done that yet given the number of complaints!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Not sure what do you mean with &quot;Somebody should carefully expand that
</I>&gt;&gt;<i> &gt; coverage to intercepted traffic&quot;?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I meant that somebody should create a high-quality pull request that
</I>&gt;&gt;<i> modifies Squid source code to properly address the problem you, AFAICT,
</I>&gt;&gt;<i> are suffering from. There is already code that handles similar
</I>&gt;&gt;<i> situations correctly.
</I>

&gt;<i> I will try to implement it.
</I>
Please note that implementing correct changes in this area may be
difficult, especially if you are not familiar with relevant Squid code
and the invariants it is trying to uphold. Please do not expect the
changes to be officially accepted just because they &quot;work&quot; in your use case.

It is your call whether or how to approach this task, but if you find
yourself modifying a lot of Squid code, especially code that seems
mysterious, you might want to pause and sketch a solution for the
discussion here on squid-dev or via a Draft PR on GitHub.


HTH,

Alex.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009728.html">[squid-dev]  request for change handling hostStrictVerify
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9729">[ date ]</a>
              <a href="thread.html#9729">[ thread ]</a>
              <a href="subject.html#9729">[ subject ]</a>
              <a href="author.html#9729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
