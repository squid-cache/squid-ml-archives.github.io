<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] request for change handling hostStrictVerify
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20request%20for%20change%20handling%20hostStrictVerify&In-Reply-To=%3C025483dc-d7b6-b0fc-438d-f08429c4a781%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009717.html">
   <LINK REL="Next"  HREF="009723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] request for change handling hostStrictVerify</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20request%20for%20change%20handling%20hostStrictVerify&In-Reply-To=%3C025483dc-d7b6-b0fc-438d-f08429c4a781%40measurement-factory.com%3E"
       TITLE="[squid-dev] request for change handling hostStrictVerify">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Oct 29 22:09:31 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009717.html">[squid-dev] request for change handling hostStrictVerify
</A></li>
        <LI>Next message (by thread): <A HREF="009723.html">[squid-dev] request for change handling hostStrictVerify
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9722">[ date ]</a>
              <a href="thread.html#9722">[ thread ]</a>
              <a href="subject.html#9722">[ subject ]</a>
              <a href="author.html#9722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/26/21 5:46 PM, <A HREF="http://lists.squid-cache.org/listinfo/squid-dev">kk at sudo-i.net</A> wrote:

&gt;<i> - Squid enforces the Client to use SNI
</I>&gt;<i> - Squid lookup IP for SNI (DNS resolution).
</I>&gt;<i> - Squid forces the client to go to the resolved IP
</I>
AFAICT, the above strategy is in conflict with the &quot;SECURITY NOTE&quot;
paragraph in host_verify_strict documentation: If Squid strays from the
intended IP using client-supplied destination info, then malicious
applets will escape browser IP-based protections. Also, SNI obfuscation
or encryption may make this strategy ineffective or short-lived.

AFAICT, in the majority of deployments, the mismatch between the
intended IP address and the SNI/Host header can be correctly handled
automatically and without creating serious problems for the user. Squid
already does the right thing in some cases. Somebody should carefully
expand that coverage to intercepted traffic. Frankly, I am somewhat
surprised nobody has done that yet given the number of complaints!


HTH,

Alex.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009717.html">[squid-dev] request for change handling hostStrictVerify
</A></li>
	<LI>Next message (by thread): <A HREF="009723.html">[squid-dev] request for change handling hostStrictVerify
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9722">[ date ]</a>
              <a href="thread.html#9722">[ thread ]</a>
              <a href="subject.html#9722">[ subject ]</a>
              <a href="author.html#9722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
