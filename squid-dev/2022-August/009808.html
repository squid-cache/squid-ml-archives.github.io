<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] RFC submodule repositories
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%20submodule%20repositories&In-Reply-To=%3C26048d32-4ec9-b23a-f50b-0f40e10f3001%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="009809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] RFC submodule repositories</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%20submodule%20repositories&In-Reply-To=%3C26048d32-4ec9-b23a-f50b-0f40e10f3001%40treenet.co.nz%3E"
       TITLE="[squid-dev] RFC submodule repositories">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Aug  2 02:32:26 UTC 2022</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="009809.html">[squid-dev] RFC submodule repositories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9808">[ date ]</a>
              <a href="thread.html#9808">[ thread ]</a>
              <a href="subject.html#9808">[ subject ]</a>
              <a href="author.html#9808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/08/22 03:09, Alex Rousskov wrote:
&gt;<i> On 7/31/22 00:29, Amos Jeffries wrote:
</I>&gt;&gt;<i> When PR #937 merges we will have the ability to shuffle old helpers 
</I>&gt;&gt;<i> into a separate repository that users can import as a submodule to 
</I>&gt;&gt;<i> build with their Squid as-needed.
</I>&gt;<i> 
</I>&gt;<i> In my experience, git submodules are a powerful feature that is rather 
</I>&gt;<i> difficult to use correctly. Some of submodule aspects do not feel 
</I>&gt;<i> &quot;natural&quot; to many humans. I am pretty sure that proper introduction of 
</I>&gt;<i> submodules will require a lot of our time and nerve cells. What will we 
</I>&gt;<i> optimize by introducing such a significant complication as git submodules?
</I>&gt;<i> 
</I>

( So every change to Squid has to be justified as an optimization now. 
Right... )

We &quot;optimize&quot; future code maintenance workload with the ability to drop 
outdated helpers which are still required by a small group of users but 
no longer want to be actively developed by the core dev team.

Case in point being CERN who still require our bundled LanManager 
helper(s) for some internal needs. That requires a lot of deprecated and 
rarely touched code being maintained for only one (albeit important) 
user case.
  That code could all be shuffled to a separate repository outside the 
official Squid release, but maintained by developers that support CERN 
needs.


&gt;<i> 
</I>&gt;&gt;<i> What (if any) updates do we need to make to Anubis and other 
</I>&gt;&gt;<i> infrastructure so support git submodules ?
</I>&gt;<i> 
</I>&gt;<i> That answer probably depends, in part, on what support guarantees we are 
</I>&gt;<i> going to issue for those submodules and on what our submodule update 
</I>&gt;<i> policy will be. Integrating two or more git repositories together is a 
</I>&gt;<i> complicated issue...
</I>&gt;<i> 
</I>
IMO we should maintain at least one helper officially as a submodule to 
ensure the git submodule mechanisms remain viable for distributors as a 
modern replacement for the old squid-2 way of building their custom helpers.


Cheers
Amos
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="009809.html">[squid-dev] RFC submodule repositories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9808">[ date ]</a>
              <a href="thread.html#9808">[ thread ]</a>
              <a href="subject.html#9808">[ subject ]</a>
              <a href="author.html#9808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
