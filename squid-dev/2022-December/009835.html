<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] RFC: Switch to C++17
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%3A%20Switch%20to%20C%2B%2B17&In-Reply-To=%3Cb712dadd-73a8-71f6-9d64-852d83c887e6%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009834.html">
   <LINK REL="Next"  HREF="009836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] RFC: Switch to C++17</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%3A%20Switch%20to%20C%2B%2B17&In-Reply-To=%3Cb712dadd-73a8-71f6-9d64-852d83c887e6%40measurement-factory.com%3E"
       TITLE="[squid-dev] RFC: Switch to C++17">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Dec  5 14:31:39 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009834.html">[squid-dev] RFC: Switch to C++17
</A></li>
        <LI>Next message (by thread): <A HREF="009836.html">[squid-dev] RFC: Reject repeated same-name annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9835">[ date ]</a>
              <a href="thread.html#9835">[ thread ]</a>
              <a href="subject.html#9835">[ subject ]</a>
              <a href="author.html#9835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/5/22 06:18, Amos Jeffries wrote:
&gt;<i> I support the switch.
</I>
Great, I will start working on a PR. If anybody reading this will be 
seriously inconvenienced by future Squid v6 requiring C++17, please 
speak up!


&gt;<i> Caveat details below...
</I>
&gt;&gt;<i> On Sun, 4 Dec 2022 at 16:18, Alex Rousskov wrote:
</I>&gt;&gt;<i> &#160;&#160;&#160; * GCC v5 supports most C++17 features.
</I>&gt;&gt;<i> &#160;&#160;&#160; * GCC v8 supports all relevant C++17 features.
</I>&gt;&gt;<i> &#160;&#160;&#160; * Clang v5 supports nearly all C++17 features.
</I>&gt;&gt;<i> &#160;&#160;&#160; * Clang v8 supports all relevant C++17 features.
</I>

&gt;<i> non-RHEL distros shipping Squid are almost all providing at lease GCC 
</I>&gt;<i> v8. In many cases even their recently refreshed (Nov 2022) LTS have it.
</I>
&gt;<i> The RHEL family distros (CentOS 7 in particular, but also many others) 
</I>&gt;<i> LTS versions only provide LLVM/clang v7 from the C++17 compilers.
</I>

I believe the key here is not what distros ship by default, but how 
difficult it is, for an old distro user, to get the compiler Squid 
needs. For example, AFAICT, RHEL users are supposed to use Red Hat 
Developer Toolset or GCC Toolset to get modern compilers.


&gt;<i> It has been a while since I had any info about the RedHat developer 
</I>&gt;<i> toolset. Do you know if GCC 8+ or LLVM/clang 8+ are in there? if so, 
</I>&gt;<i> then bump to v8 for both compilers and full speed ahead :-)
</I>
AFAICT[1], Red Hat Developer Toolset &quot;delivers the latest stable GCC 
version&quot; for RHEL7. For example, Toolset v10 has GCC v10[2].

RHEL8 has GCC Toolset with characteristics similar to Red Hat Developer 
Toolset for RHEL7. For example, GCC Toolset v10 provides GCC v10[3], 
while GCC Toolset v12 provides GCC v12[4].

[1] <A HREF="https://developers.redhat.com/products/developertoolset/overview">https://developers.redhat.com/products/developertoolset/overview</A>

[2] 
<A HREF="https://access.redhat.com/documentation/en-us/red_hat_developer_toolset/10/html/user_guide/chap-red_hat_developer_toolset#sect-Red_Hat_Developer_Toolset-About">https://access.redhat.com/documentation/en-us/red_hat_developer_toolset/10/html/user_guide/chap-red_hat_developer_toolset#sect-Red_Hat_Developer_Toolset-About</A>

[3] 
<A HREF="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/developing_c_and_cpp_applications_in_rhel_8/additional-toolsets-for-development_developing-applications#tools-and-versions-provided-by-gcc-toolset-10_gcc-toolset-10">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/developing_c_and_cpp_applications_in_rhel_8/additional-toolsets-for-development_developing-applications#tools-and-versions-provided-by-gcc-toolset-10_gcc-toolset-10</A>

[4] 
<A HREF="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/developing_c_and_cpp_applications_in_rhel_8/additional-toolsets-for-development_developing-applications#tools-and-versions-provided-by-gcc-toolset-12_gcc-toolset-12">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/developing_c_and_cpp_applications_in_rhel_8/additional-toolsets-for-development_developing-applications#tools-and-versions-provided-by-gcc-toolset-12_gcc-toolset-12</A>


Thank you,

Alex.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009834.html">[squid-dev] RFC: Switch to C++17
</A></li>
	<LI>Next message (by thread): <A HREF="009836.html">[squid-dev] RFC: Reject repeated same-name annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9835">[ date ]</a>
              <a href="thread.html#9835">[ thread ]</a>
              <a href="subject.html#9835">[ subject ]</a>
              <a href="author.html#9835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
