<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] RFC: Adding a new line to a regex
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%3A%20Adding%20a%20new%20line%20to%20a%20regex&In-Reply-To=%3C3720978f-b3dd-8583-01bf-aa20cf3a5823%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009755.html">
   <LINK REL="Next"  HREF="009756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] RFC: Adding a new line to a regex</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20RFC%3A%20Adding%20a%20new%20line%20to%20a%20regex&In-Reply-To=%3C3720978f-b3dd-8583-01bf-aa20cf3a5823%40measurement-factory.com%3E"
       TITLE="[squid-dev] RFC: Adding a new line to a regex">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Jan 21 18:10:31 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009755.html">[squid-dev] RFC: Adding a new line to a regex
</A></li>
        <LI>Next message (by thread): <A HREF="009756.html">[squid-dev] RFC: Adding a new line to a regex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9757">[ date ]</a>
              <a href="thread.html#9757">[ thread ]</a>
              <a href="subject.html#9757">[ subject ]</a>
              <a href="author.html#9757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/21/22 12:16 PM, Amos Jeffries wrote:
&gt;<i> On 21/01/22 07:27, Eduard Bagdasaryan wrote:
</I>&gt;&gt;<i> I would concur with Alex that (4) is preferable: It does not break old
</I>&gt;&gt;<i> configurations, re-uses existing mechanisms and allows to apply it
</I>&gt;&gt;<i> only when/where required. I have one more option for your
</I>&gt;&gt;<i> consideration: escaping with a backtick (e.g., `n) instead of a
</I>&gt;&gt;<i> backslash. This approach is used, e.g., in PowerShell.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 5a. Recognize just `n escape sequence in squid.conf regexes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 5b. Recognize all '`'-based escape sequences in squid.conf regexes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Pros:&#160; Easier upgrade: backtick is rare in regular expressions
</I>&gt;&gt;<i> (compared to '%' or '/'), probably there is no need to convert old
</I>&gt;&gt;<i> regexes at all.
</I>&gt;&gt;<i> Pros:&#160; Simplicity: no double-escaping is required (as in (1b)).
</I>&gt;&gt;<i> Cons: Though it should be straightforward to specify common escape
</I>&gt;&gt;<i> sequences, such as `n, `r or `t, we still need to devise a way of
</I>&gt;&gt;<i> providing arbitrary character (i.e., its code) in this way.
</I>

&gt;<i> You are mixing up different features offered by several of the *many*
</I>&gt;<i> different languages people call &quot;regex&quot;.
</I>
Yes, to solve the problem, we should be (and are) considering both
applicable features from other languages/libraries and our own/bespoke
suggestions.


&gt;<i> Squid regex patterns are written in GNU Regular Expression language.
</I>&gt;<i> None of those commonly expected things are features in that ancient
</I>&gt;<i> language.
</I>
We cannot modify POSIX regex syntax, and we are not trying to do that.
We can modify how regexes are configured in squid.conf. We need a
solution that works with the existing POSIX regex syntax or on top of
it. Various solutions have been posted and analyzed.

If you want to help, please correct significant analysis mistakes (if
any) and/or add new option(s) to the list, for similar consideration.


Thank you,

Alex.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009755.html">[squid-dev] RFC: Adding a new line to a regex
</A></li>
	<LI>Next message (by thread): <A HREF="009756.html">[squid-dev] RFC: Adding a new line to a regex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9757">[ date ]</a>
              <a href="thread.html#9757">[ thread ]</a>
              <a href="subject.html#9757">[ subject ]</a>
              <a href="author.html#9757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
