From ngtech1ltd at gmail.com  Sun May  1 22:27:46 2022
From: ngtech1ltd at gmail.com (Eliezer Croitoru)
Date: Mon, 2 May 2022 01:27:46 +0300
Subject: [squid-dev] [squid-users] squid-6.0.0-20220412-rb706999c1
 cannot be built
In-Reply-To: <efa02d28-6ac0-540f-cfc8-c33be2dac546@treenet.co.nz>
References: <001701d85d95$5ce8f1b0$16bad510$@gmail.com>
 <efa02d28-6ac0-540f-cfc8-c33be2dac546@treenet.co.nz>
Message-ID: <001e01d85daa$afd49e00$0f7dda00$@gmail.com>

Moving to Squid-Dev.

>From my tests this issue with the latest daily autogenerated sources package
is the same:
http://master.squid-cache.org/Versions/v6/squid-6.0.0-20220501-re899e0c27.ta
r.bz2
## START
n -fPIC -c -o DelayBucket.o DelayBucket.cc
AclRegs.cc: In lambda function:
AclRegs.cc:165:50: error: unused parameter 'name' [-Werror=unused-parameter]
RegisterMaker("clientside_mark", [](TypeName name)->ACL* { return new
Acl::ConnMark; });
                                         ~~~~~~~~~^~~~
AclRegs.cc: In lambda function:
AclRegs.cc:166:57: error: unused parameter 'name' [-Werror=unused-parameter]
     RegisterMaker("client_connection_mark", [](TypeName name)->ACL* {
return new Acl::ConnMark; });
~~~~~~~~~^~~~
g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
-DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
-DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
-I../src -I../include
-I../libltdl -I../src -I../libltdl  -I/usr/include/libxml2  -Wextra
-Wno-unused-private-field -Wimplicit-fallthrough=2 -Wpointer-arith
-Wwrite-strings -Wcomments -Wshadow -Wmissing-declarations
-Woverloaded-virtual -Werror -pipe -D_REENTRANT -I/usr/include/libxml2
-I/usr/include/p11-kit-1   -O2 -g -pipe -Wall -Werror=format-security
-Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions
-fstack-protector-strong -grecord-gcc-switches
-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
-specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
-fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
-c -o DelayConfig.o DelayConfig.cc
g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
-DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
-DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
-I../src -I../include   -I../libltdl -I../src -I../libltdl
-I/usr/include/libxml2  -Wextra -Wno-unused-private-field
-Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow
-Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
-I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
-Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
-fexceptions -fstack-protector-strong -grecord-gcc-switches
-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
-specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
-fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
-c -o DelayPool.o DelayPool.cc
g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
-DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
-DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
-I../src -I../include   -I../libltdl -I../src -I../libltdl
-I/usr/include/libxml2  -Wextra -Wno-unused-private-field
-Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow
-Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
-I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
-Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
-fexceptions -fstack-protector-strong -grecord-gcc-switches
-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
-specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
-fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
-c -o DelaySpec.o DelaySpec.cc
At global scope:
cc1plus: error: unrecognized command line option '-Wno-unused-private-field'
[-Werror]
cc1plus: all warnings being treated as errors

## END

I will try to publish my podman build later on.

----
Eliezer Croitoru
NgTech, Tech Support
Mobile: +972-5-28704261
Email: ngtech1ltd at gmail.com

-----Original Message-----
From: squid-users <squid-users-bounces at lists.squid-cache.org> On Behalf Of
Amos Jeffries
Sent: Monday, May 2, 2022 00:32
To: squid-users at lists.squid-cache.org
Subject: Re: [squid-users] squid-6.0.0-20220412-rb706999c1 cannot be built

On 2/05/22 07:55, Eliezer Croitoru wrote:
> I have tried to build couple RPMs for the V6 beta but found that the 
> current daily autogenerated releases cannot be built.
> 
> Is there any specific git commit I should try to use?
> 

There is a new daily tarball out now. can you try wit that one please?


Also, squid-dev for beta and experimental code issues.


Cheers
Amos
_______________________________________________
squid-users mailing list
squid-users at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-users


From rousskov at measurement-factory.com  Mon May  2 18:53:36 2022
From: rousskov at measurement-factory.com (Alex Rousskov)
Date: Mon, 2 May 2022 14:53:36 -0400
Subject: [squid-dev] [squid-users] squid-6.0.0-20220412-rb706999c1
 cannot be built
In-Reply-To: <001e01d85daa$afd49e00$0f7dda00$@gmail.com>
References: <001701d85d95$5ce8f1b0$16bad510$@gmail.com>
 <efa02d28-6ac0-540f-cfc8-c33be2dac546@treenet.co.nz>
 <001e01d85daa$afd49e00$0f7dda00$@gmail.com>
Message-ID: <a9f932cc-f3a4-5c37-dc1e-51ccb67d00a7@measurement-factory.com>

On 5/1/22 18:27, Eliezer Croitoru wrote:

>>From my tests this issue with the latest daily autogenerated sources package
> is the same:
> http://master.squid-cache.org/Versions/v6/squid-6.0.0-20220501-re899e0c27.ta
> r.bz2
> AclRegs.cc:165:50: error: unused parameter 'name' [-Werror=unused-parameter]
> RegisterMaker("clientside_mark", [](TypeName name)->ACL* { return new
> Acl::ConnMark; });

Please test https://github.com/squid-cache/squid/pull/1042


Thank you,

Alex.


>                                           ~~~~~~~~~^~~~
> AclRegs.cc: In lambda function:
> AclRegs.cc:166:57: error: unused parameter 'name' [-Werror=unused-parameter]
>       RegisterMaker("client_connection_mark", [](TypeName name)->ACL* {
> return new Acl::ConnMark; });
> ~~~~~~~~~^~~~
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include
> -I../libltdl -I../src -I../libltdl  -I/usr/include/libxml2  -Wextra
> -Wno-unused-private-field -Wimplicit-fallthrough=2 -Wpointer-arith
> -Wwrite-strings -Wcomments -Wshadow -Wmissing-declarations
> -Woverloaded-virtual -Werror -pipe -D_REENTRANT -I/usr/include/libxml2
> -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall -Werror=format-security
> -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions
> -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
> -c -o DelayConfig.o DelayConfig.cc
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include   -I../libltdl -I../src -I../libltdl
> -I/usr/include/libxml2  -Wextra -Wno-unused-private-field
> -Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow
> -Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
> -I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
> -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
> -fexceptions -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
> -c -o DelayPool.o DelayPool.cc
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include   -I../libltdl -I../src -I../libltdl
> -I/usr/include/libxml2  -Wextra -Wno-unused-private-field
> -Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow
> -Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
> -I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
> -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
> -fexceptions -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fPIC
> -c -o DelaySpec.o DelaySpec.cc
> At global scope:
> cc1plus: error: unrecognized command line option '-Wno-unused-private-field'
> [-Werror]
> cc1plus: all warnings being treated as errors
> 
> ## END
> 
> I will try to publish my podman build later on.
> 
> ----
> Eliezer Croitoru
> NgTech, Tech Support
> Mobile: +972-5-28704261
> Email: ngtech1ltd at gmail.com
> 
> -----Original Message-----
> From: squid-users <squid-users-bounces at lists.squid-cache.org> On Behalf Of
> Amos Jeffries
> Sent: Monday, May 2, 2022 00:32
> To: squid-users at lists.squid-cache.org
> Subject: Re: [squid-users] squid-6.0.0-20220412-rb706999c1 cannot be built
> 
> On 2/05/22 07:55, Eliezer Croitoru wrote:
>> I have tried to build couple RPMs for the V6 beta but found that the
>> current daily autogenerated releases cannot be built.
>>
>> Is there any specific git commit I should try to use?
>>
> 
> There is a new daily tarball out now. can you try wit that one please?
> 
> 
> Also, squid-dev for beta and experimental code issues.
> 
> 
> Cheers
> Amos
> _______________________________________________
> squid-users mailing list
> squid-users at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-users
> 
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev


From ngtech1ltd at gmail.com  Tue May  3 07:41:19 2022
From: ngtech1ltd at gmail.com (Eliezer Croitoru)
Date: Tue, 3 May 2022 10:41:19 +0300
Subject: [squid-dev] [squid-users] squid-6.0.0-20220412-rb706999c1
 cannot be built
In-Reply-To: <a9f932cc-f3a4-5c37-dc1e-51ccb67d00a7@measurement-factory.com>
References: <001701d85d95$5ce8f1b0$16bad510$@gmail.com>
 <efa02d28-6ac0-540f-cfc8-c33be2dac546@treenet.co.nz>
 <001e01d85daa$afd49e00$0f7dda00$@gmail.com>
 <a9f932cc-f3a4-5c37-dc1e-51ccb67d00a7@measurement-factory.com>
Message-ID: <009501d85ec1$2e12c230$8a384690$@gmail.com>

Tested for all RPM builds and seem to build.
I am releasing now the 6.0.1 RPMS at:
https://www.ngtech.co.il/repo/fedora/33/beta/

https://www.ngtech.co.il/repo/fedora/35/beta/

https://www.ngtech.co.il/repo/centos/7/beta/

https://www.ngtech.co.il/repo/centos/8/beta/

https://www.ngtech.co.il/repo/oracle/7/beta/

https://www.ngtech.co.il/repo/oracle/8/beta/


It will take some time to deploy but it's based on the latest daily auto
generated sources package from yesterday (02/05/2022).

I hope to start test this version next week.

Thanks,
Eliezer

* 5.5 works great!

----
Eliezer Croitoru
NgTech, Tech Support
Mobile: +972-5-28704261
Email: ngtech1ltd at gmail.com

-----Original Message-----
From: squid-dev <squid-dev-bounces at lists.squid-cache.org> On Behalf Of Alex
Rousskov
Sent: Monday, May 2, 2022 21:54
To: squid-dev at lists.squid-cache.org
Subject: Re: [squid-dev] [squid-users] squid-6.0.0-20220412-rb706999c1
cannot be built

On 5/1/22 18:27, Eliezer Croitoru wrote:

>>From my tests this issue with the latest daily autogenerated sources
package
> is the same:
>
http://master.squid-cache.org/Versions/v6/squid-6.0.0-20220501-re899e0c27.ta
> r.bz2
> AclRegs.cc:165:50: error: unused parameter 'name'
[-Werror=unused-parameter]
> RegisterMaker("clientside_mark", [](TypeName name)->ACL* { return new
> Acl::ConnMark; });

Please test https://github.com/squid-cache/squid/pull/1042


Thank you,

Alex.


>                                           ~~~~~~~~~^~~~
> AclRegs.cc: In lambda function:
> AclRegs.cc:166:57: error: unused parameter 'name'
[-Werror=unused-parameter]
>       RegisterMaker("client_connection_mark", [](TypeName name)->ACL* {
> return new Acl::ConnMark; });
> ~~~~~~~~~^~~~
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include
> -I../libltdl -I../src -I../libltdl  -I/usr/include/libxml2  -Wextra
> -Wno-unused-private-field -Wimplicit-fallthrough=2 -Wpointer-arith
> -Wwrite-strings -Wcomments -Wshadow -Wmissing-declarations
> -Woverloaded-virtual -Werror -pipe -D_REENTRANT -I/usr/include/libxml2
> -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall -Werror=format-security
> -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions
> -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection
-fPIC
> -c -o DelayConfig.o DelayConfig.cc
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include   -I../libltdl -I../src -I../libltdl
> -I/usr/include/libxml2  -Wextra -Wno-unused-private-field
> -Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments
-Wshadow
> -Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
> -I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
> -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
> -fexceptions -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection
-fPIC
> -c -o DelayPool.o DelayPool.cc
> g++ -DHAVE_CONFIG_H -DDEFAULT_CONFIG_FILE=\"/etc/squid/squid.conf\"
> -DDEFAULT_SQUID_DATA_DIR=\"/usr/share/squid\"
> -DDEFAULT_SQUID_CONFIG_DIR=\"/etc/squid\"   -I.. -I../include -I../lib
> -I../src -I../include   -I../libltdl -I../src -I../libltdl
> -I/usr/include/libxml2  -Wextra -Wno-unused-private-field
> -Wimplicit-fallthrough=2 -Wpointer-arith -Wwrite-strings -Wcomments
-Wshadow
> -Wmissing-declarations -Woverloaded-virtual -Werror -pipe -D_REENTRANT
> -I/usr/include/libxml2  -I/usr/include/p11-kit-1   -O2 -g -pipe -Wall
> -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS
> -fexceptions -fstack-protector-strong -grecord-gcc-switches
> -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1
> -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic
> -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection
-fPIC
> -c -o DelaySpec.o DelaySpec.cc
> At global scope:
> cc1plus: error: unrecognized command line option
'-Wno-unused-private-field'
> [-Werror]
> cc1plus: all warnings being treated as errors
> 
> ## END
> 
> I will try to publish my podman build later on.
> 
> ----
> Eliezer Croitoru
> NgTech, Tech Support
> Mobile: +972-5-28704261
> Email: ngtech1ltd at gmail.com
> 
> -----Original Message-----
> From: squid-users <squid-users-bounces at lists.squid-cache.org> On Behalf Of
> Amos Jeffries
> Sent: Monday, May 2, 2022 00:32
> To: squid-users at lists.squid-cache.org
> Subject: Re: [squid-users] squid-6.0.0-20220412-rb706999c1 cannot be built
> 
> On 2/05/22 07:55, Eliezer Croitoru wrote:
>> I have tried to build couple RPMs for the V6 beta but found that the
>> current daily autogenerated releases cannot be built.
>>
>> Is there any specific git commit I should try to use?
>>
> 
> There is a new daily tarball out now. can you try wit that one please?
> 
> 
> Also, squid-dev for beta and experimental code issues.
> 
> 
> Cheers
> Amos
> _______________________________________________
> squid-users mailing list
> squid-users at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-users
> 
> _______________________________________________
> squid-dev mailing list
> squid-dev at lists.squid-cache.org
> http://lists.squid-cache.org/listinfo/squid-dev

_______________________________________________
squid-dev mailing list
squid-dev at lists.squid-cache.org
http://lists.squid-cache.org/listinfo/squid-dev


