<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-dev] Drop cache_object protocol support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Drop%20cache_object%20protocol%20support&In-Reply-To=%3Ccee466ca-564c-6358-7327-44be19f00a5f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009852.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-dev] Drop cache_object protocol support</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-dev%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-dev%5D%20Drop%20cache_object%20protocol%20support&In-Reply-To=%3Ccee466ca-564c-6358-7327-44be19f00a5f%40measurement-factory.com%3E"
       TITLE="[squid-dev] Drop cache_object protocol support">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Jan 26 15:01:00 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009852.html">[squid-dev] Drop cache_object protocol support
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9853">[ date ]</a>
              <a href="thread.html#9853">[ thread ]</a>
              <a href="subject.html#9853">[ subject ]</a>
              <a href="author.html#9853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/26/23 04:12, Amos Jeffries wrote:
&gt;<i> On 26/01/2023 3:30 am, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 1/25/23 07:29, Amos Jeffries wrote:
</I>&gt;&gt;&gt;<i> On 25/01/2023 5:34 pm, Alex Rousskov wrote:
</I>&gt;&gt;&gt;&gt;<i> IMO, we should not keep any code that is only needed for Squid v3.1 
</I>&gt;&gt;&gt;&gt;<i> and earlier. Squid v3.2 and later should http-based cache manager 
</I>&gt;&gt;&gt;&gt;<i> access, right? More code always means more maintenance overheads and 
</I>&gt;&gt;&gt;&gt;<i> higher change costs. Given our lack of resources, we should start 
</I>&gt;&gt;&gt;&gt;<i> ignoring Squid v3 needs.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In sentiment I agree. In practicality we have to cope with &quot;LTS&quot; from 
</I>&gt;&gt;&gt;<i> vendors, and Squid bugs in the manager.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> IMO, LTS vendors and old Squid bugs do not prevent us from removing 
</I>&gt;&gt;<i> cache_object support from cachemgr.cgi: The number of admins that 
</I>&gt;&gt;<i> match _all_ of the conditions listed below at the same time is 
</I>&gt;&gt;<i> negligible.
</I>
&gt;<i> Evidence needed.
</I>
It would be nice to back up my reasoning with hard evidence, but I do 
not think it is _required_ in this case. It is impractical to prove 
negligibly low count of X when there is no way to enumerate all 
instances where X might exist. These kind of decisions require a 
judgement call.

Circumstantial evidence does exist -- the Project does not see a 
constant stream of complaints, bug reports, and improvements related to 
cachemgr.cgi despite its many shortcomings. We also do not see a lot of 
complaints about v3.2 or a lot of examples where v3 users cannot 
upgrade. To avoid misunderstanding, I am not claiming that evidence 
proves my point beyond reasonable doubt. It is only partial and 
circumstantial.


&gt;&gt;<i> We should not spend our resources &quot;coping&quot; with those esoteric cases.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. Use Squid v3.
</I>&gt;&gt;<i> 2. Use Squid v7.
</I>&gt;&gt;<i> 3. Use cachemgr.cgi to manage both Squid versions.
</I>&gt;&gt;<i> 4. Cannot use cachemgr.cgi from Squid v6.
</I>&gt;&gt;<i> 5. Cannot patch cachemgr.cgi v7 to restore cache_object support.
</I>&gt;<i> 
</I>&gt;<i> Declaring groups of users &quot;negligible&quot; or &quot;esoteric&quot; without evidence 
</I>&gt;<i> just to push your preferred decision is not a valid line of argument.
</I>
First of all, I am not declaring groups of users &quot;negligible&quot; or 
&quot;esoteric&quot;. I am speculating about the number of certain use cases and 
classifying those use cases.

I believe my line of argument is valid, even though it is not (and, 
given existing Project limitations, cannot be) backed by hard evidence. 
We will never know how many use cases match all 5 criteria. In fact, we 
will never know how many Squid use cases are out there today!

If you have hard evidence that illustrates that relevant use cases are 
common, please present it. Needless to say, I am not aware of such evidence.


&gt;&gt;&gt;<i> v3.2 has http: but the https:, ftp:, whois:, gopher: schemes were 
</I>&gt;&gt;&gt;<i> broken until late in the v3.5 series backports.
</I>&gt;&gt;&gt;<i> So going by [1] LTS systems still using v3.2 are still a pain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We can stop that pain any time we want. All it takes is for us to stop 
</I>&gt;&gt;<i> mentioning v3 releases when making design decisions like this one. We 
</I>&gt;&gt;<i> _choose_ to prolong that pain and to spend scarce resources on a 
</I>&gt;&gt;<i> negligible percentage of unimportant use cases instead of spending 
</I>&gt;&gt;<i> those resources on popular and important use cases.
</I>
&gt;<i> We are making decisions which affect other peoples lives and employment. 
</I>&gt;<i> The &quot;pain&quot; I have been mentioning is _their_ pain, not ours.
</I>
When making a decision, we should take into account the &quot;lives and 
employment&quot; and &quot;pains&quot; of all affected people. We cannot make everybody 
happy, and if we try, we are likely to increase the overall level of 
unhappiness. Making (few) v3 users happier at the expense of hurting 
(many more) v5 users is the wrong balance IMO, and that is what we often 
end up doing when it comes to this kind of decisions.


&gt;<i> It is appropriate to keep the human aspect in mind for this decision and 
</I>&gt;<i> utilize the data we do have available.
</I>
Agreed. That is exactly what I am doing.


&gt;<i> That data I have says v3.2 and v3.5 are still relevant factors for this 
</I>&gt;<i> change.
</I>
Their relevance is not being disputed. What we disagree on is whether 
those (real) v3 user needs are enough to hurt other (also real) users.


&gt;&gt;&gt;<i> The longer we wait on removal from the CGI and CLI tools (only) the 
</I>&gt;&gt;&gt;<i> more seamless it goes. So I am inclined to be very conservative on 
</I>&gt;&gt;&gt;<i> the tools capability removal and proactive on ensuring they can cope 
</I>&gt;&gt;&gt;<i> with the squid capability loss.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And since there is no way to actually measure &quot;more seamless&quot; or to 
</I>&gt;&gt;<i> prove that we are wasting resources on rare unimportant use cases, we 
</I>&gt;&gt;<i> end up doing what we do best -- increasing and prolonging pain.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> We do have at least one measure. I use the count of Vendors distributing 
</I>&gt;<i> each problematic release.
</I>&gt;<i> Over time their old versions reach EOL, or LTS get updated to new Squid 
</I>&gt;<i> versions etc.
</I>&gt;<i> We can reasonably expect admin to be using a currently supported version 
</I>&gt;<i> of their OS packages.
</I>
The proposed measure is just too coarse to be applicable here because 
the proposal does _not_ inconvenience users of problematic releases. In 
fact, the proposal does _not_  inconvenience users of _any_ given Squid 
release in existence! It only inconvenience users that match a long list 
of very special criteria. For example, it requires a user to use _both_ 
v3 and v7 releases, at the same time.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009852.html">[squid-dev] Drop cache_object protocol support
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9853">[ date ]</a>
              <a href="thread.html#9853">[ thread ]</a>
              <a href="subject.html#9853">[ subject ]</a>
              <a href="author.html#9853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.squid-cache.org/listinfo/squid-dev">More information about the squid-dev
mailing list</a><br>
</body></html>
