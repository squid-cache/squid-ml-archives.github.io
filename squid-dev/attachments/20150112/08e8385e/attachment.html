<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=windows-1252&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;smarttemplateinserted=&quot;true&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dear&nbsp;Sirs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;tried&nbsp;compiling&nbsp;squid-3.5.0.4-20150106-r13714&nbsp;running&nbsp;under<br>
&nbsp;&nbsp;&nbsp;&nbsp;windows&nbsp;with&nbsp;wingw&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;still&nbsp;had&nbsp;a&nbsp;few&nbsp;bugs.&nbsp;I&nbsp;fixed&nbsp;them&nbsp;and&nbsp;now&nbsp;it&nbsp;compiles&nbsp;and&nbsp;runs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;still&nbsp;can't&nbsp;resolve&nbsp;addresses&nbsp;(I&nbsp;have&nbsp;correctly&nbsp;specified&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;servers).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;get:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; WARNING:&nbsp;Reply&nbsp;from&nbsp;unknown&nbsp;nameserver&nbsp;[::]:53&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;don't&nbsp;have&nbsp;more&nbsp;time&nbsp;to&nbsp;work&nbsp;it&nbsp;further.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;contribute&nbsp;with&nbsp;the&nbsp;fixes&nbsp;I&nbsp;wrote.&nbsp;Here&nbsp;are&nbsp;them.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Obs.:&nbsp;the&nbsp;diff&nbsp;shows&nbsp;squid-3.5.0.4&nbsp;against<br>
&nbsp;&nbsp;&nbsp;&nbsp;squid-3.5.0.4-20150106-r13714,&nbsp;but&nbsp;it&nbsp;is&nbsp;actually&nbsp;my<br>
&nbsp;&nbsp;&nbsp;&nbsp;squid-3.5.0.4-20150106-r13714&nbsp;against&nbsp;squid-3.5.0.4-20150106-r13714<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;configure&nbsp;command&nbsp;used:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;./configure&nbsp;--enable-default-hostsfile=none<br>
&nbsp;&nbsp;&nbsp;&nbsp;--prefix=C:/msys/1.0/squid&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;mingw&nbsp;version:&nbsp;latest&nbsp;32&nbsp;bit.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diffs:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\compat\os\mswindows.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\compat\os\mswindows.h&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;625,630c624,629&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;/*&nbsp;commen&nbsp;out&nbsp;this&nbsp;function&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;inline&nbsp;char&nbsp;*&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;inet_ntop(int&nbsp;af,&nbsp;const&nbsp;void&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;return&nbsp;(char*)InetNtopA(af,&nbsp;const_cast&lt;void*&gt;(src),<br>
&nbsp;&nbsp;&nbsp;&nbsp;dst,&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;inet_ntop(a,s,d,l)&nbsp;Squid::inet_ntop(a,s,d,l)&nbsp;*/&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inline&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inet_ntop(int&nbsp;af,&nbsp;const&nbsp;void&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;return&nbsp;(char*)InetNtopA(af,&nbsp;const_cast&lt;void*&gt;(src),<br>
&nbsp;&nbsp;&nbsp;&nbsp;dst,&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;#define&nbsp;inet_ntop(a,s,d,l)&nbsp;Squid::inet_ntop(a,s,d,l)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;***************************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4\helpers\basic_auth\SSPI\valid.h<br>
C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\helpers\basic_auth\SSPI\valid.h&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;41d40&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;typedef&nbsp;HANDLE&nbsp;SERVICE_STATUS_HANDLE;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;74c73&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*__foo;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;char&nbsp;*__foo;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;95d93&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;int&nbsp;Valid_User(char&nbsp;*,char&nbsp;*,&nbsp;char&nbsp;*);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;****************************  &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r<br>
C:\msys\1.0\var\squid-3.5.0.4\helpers\external_acl\LM_group\ext_lm_group_acl.ccC:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\helpers\external_acl\LM_group\ext_lm_group_acl.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;95d94&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;typedef&nbsp;HANDLE&nbsp;SERVICE_STATUS_HANDLE;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;**************************************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4\helpers\ntlm_auth\SSPI\ntlm_sspi_auth.cc<br>
C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\helpers\ntlm_auth\SSPI\ntlm_sspi_auth.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;82d81&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;typedef&nbsp;HANDLE&nbsp;SERVICE_STATUS_HANDLE;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*********************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;squid-3.5.0.4-20150106-r13714&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;getaddrinfo.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;26d25&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#include&nbsp;&quot;../src/debug.h&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;85c84&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;ret&nbsp;=&nbsp;(addrinfo*)&nbsp;malloc&nbsp;(sizeof&nbsp;(struct&nbsp;addrinfo));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;ret&nbsp;=&nbsp;malloc&nbsp;(sizeof&nbsp;(struct&nbsp;addrinfo));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;89c88&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;ret-&gt;ai_addr&nbsp;=&nbsp;(sockaddr*)&nbsp;malloc&nbsp;(addrlen);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;ret-&gt;ai_addr&nbsp;=&nbsp;malloc&nbsp;(addrlen);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;180c179&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;if&nbsp;(inet_pton(result.ai_family,&nbsp;nodename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;sin.sin_addr)&nbsp;!=&nbsp;1)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;if&nbsp;(inet_pton(result.ai_family,&nbsp;nodename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;sin.sin_addr))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;281c280&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;sai-&gt;ai_canonname&nbsp;=&nbsp;(char&nbsp;*)&nbsp;malloc&nbsp;(strlen<br>
&nbsp;&nbsp;&nbsp;&nbsp;(hp-&gt;h_name)&nbsp;+&nbsp;1);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;sai-&gt;ai_canonname&nbsp;=&nbsp;malloc&nbsp;(strlen&nbsp;(hp-&gt;h_name)&nbsp;+<br>
&nbsp;&nbsp;&nbsp;&nbsp;1);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*****************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\compat\getnameinfo.cc<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\compat\getnameinfo.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;151c151,159&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;int&nbsp;xgetnameinfo(const&nbsp;struct&nbsp;sockaddr&nbsp;*sa,&nbsp;socklen_t&nbsp;salen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*host,&nbsp;size_t&nbsp;hostlen,&nbsp;char&nbsp;*serv,&nbsp;size_t&nbsp;servlen,&nbsp;int&nbsp;flags)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;int&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;xgetnameinfo(sa,&nbsp;salen,&nbsp;host,&nbsp;hostlen,&nbsp;serv,&nbsp;servlen,&nbsp;flags)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;struct&nbsp;sockaddr&nbsp;*sa;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;socklen_t&nbsp;salen;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;char&nbsp;*host;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;size_t&nbsp;hostlen;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;char&nbsp;*serv;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;size_t&nbsp;servlen;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;int&nbsp;flags;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;******************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\compat\inet_ntop.cc<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\compat\inet_ntop.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;97,98c97,98&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*inet_ntop4&nbsp;(const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t<br>
&nbsp;&nbsp;&nbsp;&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*inet_ntop6&nbsp;(const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t<br>
&nbsp;&nbsp;&nbsp;&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*inet_ntop4&nbsp;(const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*inet_ntop6&nbsp;(const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;size);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;107,112c108,113&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;xinet_ntop(af,&nbsp;src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;int&nbsp;af;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;void&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;xinet_ntop(af,&nbsp;src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;int&nbsp;af;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;void&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;114d113&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*&nbsp;xinet_ntop(int&nbsp;af,&nbsp;const&nbsp;void&nbsp;*src,&nbsp;char&nbsp;*&nbsp;dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;118c117&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;return&nbsp;(inet_ntop4((const&nbsp;u_char*)&nbsp;src,&nbsp;dst,&nbsp;size));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;return&nbsp;(inet_ntop4(src,&nbsp;dst,&nbsp;size));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;120c119&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;return&nbsp;(inet_ntop6((const&nbsp;u_char*)&nbsp;src,&nbsp;dst,&nbsp;size));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;return&nbsp;(inet_ntop6(src,&nbsp;dst,&nbsp;size));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;138,142c138,142&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;inet_ntop4(src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;u_char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inet_ntop4(src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;u_char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;144d142&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*&nbsp;inet_ntop4(&nbsp;const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t<br>
&nbsp;&nbsp;&nbsp;&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;149c147&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;if&nbsp;((size_t)&nbsp;snprintf(tmp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;min(sizeof(&quot;255.255.255.255&quot;),size),&nbsp;fmt,&nbsp;src[0],&nbsp;src[1],&nbsp;src[2],<br>
&nbsp;&nbsp;&nbsp;&nbsp;src[3])&nbsp;&gt;=&nbsp;size)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;if&nbsp;(snprintf(tmp,&nbsp;min(sizeof(&quot;255.255.255.255&quot;),size),&nbsp;fmt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;src[0],&nbsp;src[1],&nbsp;src[2],&nbsp;src[3])&nbsp;&gt;=&nbsp;size)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;162,166c161,165&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;inet_ntop6(src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;u_char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;const&nbsp;char&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inet_ntop6(src,&nbsp;dst,&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;u_char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;size_t&nbsp;size;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;168d165&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;const&nbsp;char&nbsp;*&nbsp;inet_ntop6(&nbsp;const&nbsp;u_char&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t<br>
&nbsp;&nbsp;&nbsp;&nbsp;size)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;***************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\compat\inet_pton.cc<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\compat\inet_pton.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;106c106,110&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;int&nbsp;xinet_pton(&nbsp;int&nbsp;af,&nbsp;const&nbsp;char&nbsp;*src,&nbsp;void&nbsp;*dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;int&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;xinet_pton(af,&nbsp;src,&nbsp;dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;int&nbsp;af;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;void&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;110c114&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;return&nbsp;(inet_pton4(src,&nbsp;(u_char*)&nbsp;dst));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;return&nbsp;(inet_pton4(src,&nbsp;dst));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;112c116&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;return&nbsp;(inet_pton6(src,&nbsp;(u_char*)&nbsp;dst));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;return&nbsp;(inet_pton6(src,&nbsp;dst));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;130c134,137&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;static&nbsp;int&nbsp;inet_pton4(&nbsp;const&nbsp;char&nbsp;*src,&nbsp;u_char&nbsp;*dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;int&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inet_pton4(src,&nbsp;dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;u_char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;144c150&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;            &nbsp;u_int&nbsp;nw&nbsp;=&nbsp;*tp&nbsp;*&nbsp;10&nbsp;+&nbsp;(pch&nbsp;-&nbsp;digits);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;            &nbsp;u_int&nbsp;new&nbsp;=&nbsp;*tp&nbsp;*&nbsp;10&nbsp;+&nbsp;(pch&nbsp;-&nbsp;digits);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;148c154&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;            &nbsp;if&nbsp;(nw&nbsp;&gt;&nbsp;255)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;            &nbsp;if&nbsp;(new&nbsp;&gt;&nbsp;255)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;150c156&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;            &nbsp;*tp&nbsp;=&nbsp;nw;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;            &nbsp;*tp&nbsp;=&nbsp;new;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;162c168&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;            &nbsp;break;&nbsp;//return&nbsp;(0);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;            &nbsp;return&nbsp;(0);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;183c189,192&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;static&nbsp;int&nbsp;inet_pton6(&nbsp;const&nbsp;char&nbsp;*src,&nbsp;u_char&nbsp;*dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;static&nbsp;int&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;inet_pton6(src,&nbsp;dst)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;const&nbsp;char&nbsp;*src;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;u_char&nbsp;*dst;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;238c247&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;        &nbsp;break;&nbsp;//return&nbsp;(0);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;return&nbsp;(0);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;***********************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\src\comm\ModSelectWin32.cc<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\src\comm\ModSelectWin32.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;20d19&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#include&nbsp;&quot;SquidConfig.h&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;25d23&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#include&nbsp;&quot;Globals.h&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;278c276&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;incoming_udp_interval&nbsp;+=&nbsp;Config.comm_incoming.udp.average&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;nevents;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;incoming_udp_interval&nbsp;+=&nbsp;Config.comm_incoming.udp_average&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;nevents;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;310c308&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;incoming_tcp_interval&nbsp;+=&nbsp;Config.comm_incoming.tcp.average&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;nevents;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;incoming_tcp_interval&nbsp;+=&nbsp;Config.comm_incoming.tcp_average&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;nevents;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;338,339c336&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;int&nbsp;calldns&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;    &nbsp;int&nbsp;calludp&nbsp;=&nbsp;0,&nbsp;calltcp&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;    &nbsp;int&nbsp;calldns&nbsp;=&nbsp;0,&nbsp;callicp&nbsp;=&nbsp;0,&nbsp;callhttp&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*************************&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\src\ipc_win32.cc<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\src\ipc_win32.cc&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;28,41d27&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#else&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#if&nbsp;HAVE_WINSOCK2_H&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_CONNDATA&nbsp;0x7000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_CONNOPT&nbsp;0x7001&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_DISCDATA&nbsp;0x7002&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_DISCOPT&nbsp;0x7003&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_CONNDATALEN&nbsp;0x7004&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_CONNOPTLEN&nbsp;0x7005&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_DISCDATALEN&nbsp;0x7006&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_DISCOPTLEN&nbsp;0x7007&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_OPENTYPE&nbsp;0x7008&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_SYNCHRONOUS_ALERT&nbsp;0x10&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#define&nbsp;SO_SYNCHRONOUS_NONALERT&nbsp;0x20&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;#endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Thank&nbsp;you&nbsp;for&nbsp;providing&nbsp;squid&nbsp;to&nbsp;us&nbsp;all&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Best&nbsp;Regards,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dennis&nbsp;Felippa&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
