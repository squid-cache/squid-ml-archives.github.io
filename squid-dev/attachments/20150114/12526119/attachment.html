<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;smartTemplate4-template&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hello&nbsp;Amos&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;changes&nbsp;are&nbsp;for&nbsp;used&nbsp;mingw32&nbsp;32.&nbsp;But&nbsp;I&nbsp;also&nbsp;tried&nbsp;mingw64&nbsp;32<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;mingw64&nbsp;64&nbsp;with&nbsp;all&nbsp;different&nbsp;options.&nbsp;None&nbsp;really&nbsp;worked.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;mingw64&nbsp;(32&nbsp;and&nbsp;64)&nbsp;seem&nbsp;to&nbsp;use&nbsp;ModSelect.cc&nbsp;and&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModSelectWin32.cc.&nbsp;When&nbsp;started&nbsp;it&nbsp;gives&nbsp;multiple&nbsp;lines&nbsp;with&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;WARNING:&nbsp;FD&nbsp;xxxx&nbsp;has&nbsp;handlers,&nbsp;but&nbsp;it's&nbsp;invalid&quot;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;line&nbsp;has&nbsp;an&nbsp;increasing&nbsp;number&nbsp;for&nbsp;xxxx.&nbsp;It&nbsp;consumes&nbsp;all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possible&nbsp;numbers&nbsp;in&nbsp;a&nbsp;loop&nbsp;and&nbsp;then&nbsp;crashes.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;for&nbsp;mingw32&nbsp;I&nbsp;get&nbsp;&quot;I&nbsp;get:&nbsp;WARNING:&nbsp;Reply&nbsp;from&nbsp;unknown<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nameserver&nbsp;[::]:53&quot;&nbsp;(as&nbsp;i&nbsp;wrote&nbsp;initially)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;already&nbsp;am&nbsp;working&nbsp;on&nbsp;other&nbsp;project&nbsp;and&nbsp;don't&nbsp;have&nbsp;much&nbsp;time&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make&nbsp;the&nbsp;diffs&nbsp;again.&nbsp;I&nbsp;attached&nbsp;the&nbsp;diffs&nbsp;so&nbsp;it's&nbsp;a&nbsp;lot&nbsp;more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readable&nbsp;without&nbsp;the&nbsp;line&nbsp;breaks.&nbsp;Please&nbsp;take&nbsp;a&nbsp;look&nbsp;it's&nbsp;actually<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;very&nbsp;simple&nbsp;(changes&nbsp;are&nbsp;minor).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thank&nbsp;you,&nbsp;and&nbsp;best&nbsp;regards,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dennis&nbsp;Felippa&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;smartTemplate4-quoteHeader&quot;&gt;-----------------------------------------&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Em&nbsp;(When):&nbsp;Tue,&nbsp;13&nbsp;Jan&nbsp;2015&nbsp;15:47:48&nbsp;+1300&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;De&nbsp;(From):&nbsp;&lt;a&gt;squid3@treenet.co.nz&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para&nbsp;(To):&nbsp;&lt;a&gt;dennis@infologika.com.br&lt;/a&gt;,&nbsp;&lt;a&gt;squid-dev@lists.squid-cache.org&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;mid_54B48754_6020403_treenet_co_nz&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:54B48754.6020403@treenet.co.nz&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----<br>
Hash:&nbsp;SHA1<br>
<br>
On&nbsp;13/01/2015&nbsp;8:09&nbsp;a.m.,&nbsp;Dennis&nbsp;wrote:<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_2919959&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Dear&nbsp;Sirs<br>
<br>
I&nbsp;tried&nbsp;compiling&nbsp;squid-3.5.0.4-20150106-r13714&nbsp;running&nbsp;under<br>
windows&nbsp;with&nbsp;wingw<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hi&nbsp;Dennis,&nbsp;thank&nbsp;you!<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_4635060&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;It&nbsp;still&nbsp;had&nbsp;a&nbsp;few&nbsp;bugs.&nbsp;I&nbsp;fixed&nbsp;them&nbsp;and&nbsp;now&nbsp;it&nbsp;compiles&nbsp;and&nbsp;runs,<br>
but&nbsp;still&nbsp;can't&nbsp;resolve&nbsp;addresses&nbsp;(I&nbsp;have&nbsp;correctly&nbsp;specified&nbsp;the<br>
name&nbsp;servers).&nbsp;I&nbsp;get:&nbsp;WARNING:&nbsp;Reply&nbsp;from&nbsp;unknown&nbsp;nameserver<br>
[::]:53<br>
<br>
I&nbsp;don't&nbsp;have&nbsp;more&nbsp;time&nbsp;to&nbsp;work&nbsp;it&nbsp;further.<br>
<br>
I&nbsp;would&nbsp;like&nbsp;to&nbsp;contribute&nbsp;with&nbsp;the&nbsp;fixes&nbsp;I&nbsp;wrote.&nbsp;Here&nbsp;are&nbsp;them.<br>
<br>
Obs.:&nbsp;the&nbsp;diff&nbsp;shows&nbsp;squid-3.5.0.4&nbsp;against&nbsp;<br>
squid-3.5.0.4-20150106-r13714,&nbsp;but&nbsp;it&nbsp;is&nbsp;actually&nbsp;my&nbsp;<br>
squid-3.5.0.4-20150106-r13714&nbsp;against<br>
squid-3.5.0.4-20150106-r13714<br>
<br>
configure&nbsp;command&nbsp;used:&nbsp;./configure&nbsp;--enable-default-hostsfile=none<br>
--prefix=C:/msys/1.0/squid&nbsp;mingw&nbsp;version:&nbsp;latest&nbsp;32&nbsp;bit.<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;MinGW32&nbsp;32-bit&nbsp;?&nbsp;or&nbsp;MinGW-w64&nbsp;32-bit&nbsp;?<br>
I&nbsp;am&nbsp;finding&nbsp;there&nbsp;are&nbsp;some&nbsp;critical&nbsp;API&nbsp;differences&nbsp;between&nbsp;the&nbsp;two<br>
&quot;MinGW&quot;&nbsp;projects.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_4787019&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;diffs:<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Can&nbsp;you&nbsp;present&nbsp;these&nbsp;in&nbsp;unified&nbsp;format&nbsp;please?&nbsp;(diff&nbsp;-ur&nbsp;...),&nbsp;and<br>
attachments&nbsp;rather&nbsp;than&nbsp;inline.<br>
It's&nbsp;very&nbsp;hard&nbsp;to&nbsp;read&nbsp;the&nbsp;other&nbsp;format&nbsp;around&nbsp;email&nbsp;quoting.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_4887367&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;diff&nbsp;-r&nbsp;C:\msys\1.0\var\squid-3.5.0.4\compat\os\mswindows.h&nbsp;<br>
C:\msys\1.0\var\squid-3.5.0.4-20150106-r13714\compat\os\mswindows.h<br>
<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;625,630c624,629<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_6082031&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;&nbsp;/*&nbsp;commen&nbsp;out&nbsp;this&nbsp;function&nbsp;&lt;&nbsp;inline&nbsp;char&nbsp;*&nbsp;&lt;&nbsp;inet_ntop(int&nbsp;af,<br>
const&nbsp;void&nbsp;*src,&nbsp;char&nbsp;*dst,&nbsp;size_t&nbsp;size)&nbsp;&lt;&nbsp;{&nbsp;&lt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>
(char*)InetNtopA(af,&nbsp;const_cast&lt;void*&gt;(src),&nbsp;dst,&nbsp;size);&nbsp;&lt;&nbsp;}&nbsp;&lt;<br>
#define&nbsp;inet_ntop(a,s,d,l)&nbsp;Squid::inet_ntop(a,s,d,l)&nbsp;*/&nbsp;---<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;&nbsp;cite&quot;&nbsp;id=&quot;Cite_409359&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;inline&nbsp;char&nbsp;*&nbsp;inet_ntop(int&nbsp;af,&nbsp;const&nbsp;void&nbsp;*src,&nbsp;char&nbsp;*dst,<br>
size_t&nbsp;size)&nbsp;{&nbsp;return&nbsp;(char*)InetNtopA(af,<br>
const_cast&lt;void*&gt;(src),&nbsp;dst,&nbsp;size);&nbsp;}&nbsp;#define&nbsp;inet_ntop(a,s,d,l)<br>
Squid::inet_ntop(a,s,d,l)<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;FYI:&nbsp;A&nbsp;fix&nbsp;for&nbsp;the&nbsp;re-definition&nbsp;error&nbsp;is&nbsp;about&nbsp;to&nbsp;be&nbsp;backported.&nbsp;But<br>
the&nbsp;absence&nbsp;of&nbsp;InetNtopA&nbsp;API&nbsp;call&nbsp;required&nbsp;by&nbsp;MS&nbsp;is&nbsp;still&nbsp;an&nbsp;issue&nbsp;I'm<br>
working&nbsp;on&nbsp;now.<br>
<br>
Amos<br>
-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
Version:&nbsp;GnuPG&nbsp;v2.0.22&nbsp;(MingW32)<br>
<br>
iQEcBAEBAgAGBQJUtIdUAAoJELJo5wb/XPRjREIIAMx0UgbcS3lw8N2vFbuYhOt3<br>
J4s/+UVXJ4up5iq3MHtXKDK2tvDo3Bln9ZdAbUnXlrBdIZomDFMLfbU+6aToVFrL<br>
ACrmvJCFdoyBfjaSr1WONyf8mEifLfI/20gJWq5fRKw0OEiTNujfqTOvF+OBcLez<br>
JIkcMgjyhiwT3CITytXmVuFQxYzX/IAUQTHkf5axWUISyPbOIKFQ0lznMEaKHvC6<br>
tMklOnzDY3pIGYNi5tYKR76qs5vfuiCtxWWVMRt9976ABCViz5xatJyYO2d8Msrx<br>
FXmtjgie9rmX/AKkmffSTw9mW3Ls6J4/yF9G9YMa3ZSX5Yjf0G2OCeJHHjJIqTM=<br>
=hxHP<br>
-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
