=== modified file 'src/debug.cc'
--- src/debug.cc	2015-01-13 07:25:36 +0000
+++ src/debug.cc	2015-07-11 17:19:26 +0000
@@ -507,14 +507,18 @@
 
     if (Debug::level > 1) {
         char buf2[128];
+        const auto xerrno = errno;
         tm = localtime(&t);
         strftime(buf2, 127, "%Y/%m/%d %H:%M:%S", tm);
+        errno = xerrno;
         buf2[127] = '\0';
         snprintf(buf, 127, "%s.%03d", buf2, (int) current_time.tv_usec / 1000);
         last_t = t;
     } else if (t != last_t) {
+        const auto xerrno = errno;
         tm = localtime(&t);
         strftime(buf, 127, "%Y/%m/%d %H:%M:%S", tm);
+        errno = xerrno;
         last_t = t;
     }
 

