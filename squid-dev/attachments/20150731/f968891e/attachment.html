<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;/div&gt; &nbsp;the&nbsp;hard&nbsp;part&nbsp;is&nbsp;IMO&nbsp;done,&nbsp;should&nbsp;be&nbsp;enough&nbsp;for&nbsp;a&nbsp;first&nbsp;round&nbsp;of&nbsp;review;&nbsp;I&#39;ve&nbsp;left&nbsp;the&nbsp;TODO&nbsp;list&nbsp;I&nbsp;discussed&nbsp;with&nbsp;Amos&nbsp;on&nbsp;IRC&nbsp;in&nbsp;to&nbsp;keep&nbsp;track&nbsp;of&nbsp;what&#39;s&nbsp;been&nbsp;done.&nbsp;There&nbsp;are&nbsp;two&nbsp;things&nbsp;left&nbsp;that&nbsp;I&nbsp;can&nbsp;think&nbsp;of:&nbsp;getting&nbsp;rid&nbsp;of&nbsp;the&nbsp;masks&nbsp;(ListHeadersMask&nbsp;etc)&nbsp;in&nbsp;favor&nbsp;of&nbsp;bools&nbsp;or&nbsp;bitfields&nbsp;in&nbsp;the&nbsp;headersTable&nbsp;(I&#39;d&nbsp;go&nbsp;for&nbsp;bools&nbsp;for&nbsp;speed,&nbsp;I&nbsp;believe&nbsp;we&nbsp;can&nbsp;afford&nbsp;to&nbsp;waste&nbsp;100-ish&nbsp;bytes&nbsp;per&nbsp;flag),&nbsp;and&nbsp;possibly&nbsp;switching&nbsp;some&nbsp;enums &nbsp;to&nbsp;c++11&nbsp;strongly-typed&nbsp;enums&nbsp;(enum&nbsp;class&nbsp;foo)&nbsp;in&nbsp;some&nbsp;places.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Code&nbsp;has&nbsp;been&nbsp;casually&nbsp;run-tested,&nbsp;seems&nbsp;to&nbsp;be&nbsp;OK.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jul&nbsp;30,&nbsp;2015&nbsp;at&nbsp;9:44&nbsp;PM,&nbsp;Kinkie&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gkinkie@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gkinkie@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;Thu,&nbsp;Jul&nbsp;30,&nbsp;2015&nbsp;at&nbsp;6:42&nbsp;PM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&gt;On&nbsp;07/30/2015&nbsp;01:44&nbsp;AM,&nbsp;Kinkie&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;headerDescription:&nbsp;a&nbsp;std::vector&nbsp;keyed&nbsp;by&nbsp;header&nbsp;ID&nbsp;containing&nbsp;header&nbsp;type&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;HeaderDescriptions&nbsp;(plural)&nbsp;then.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Ok,&nbsp;will&nbsp;change.&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;span&gt;&gt;&nbsp;template&nbsp;&lt;typename&nbsp;EnumType&gt;&lt;br&gt;<br>
&gt;&nbsp;typedef&nbsp;struct&nbsp;LookupTableRecord&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt; &nbsp; &nbsp;const&nbsp;char&nbsp;*name;&lt;br&gt;<br>
&gt; &nbsp; &nbsp;EnumType&nbsp;id;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Please&nbsp;avoid&nbsp;&quot;struct&quot;&nbsp;whenever&nbsp;possible.&nbsp;Typing&nbsp;&quot;public:&quot;&nbsp;once&nbsp;is&nbsp;better&lt;br&gt;<br>
that&nbsp;always&nbsp;remembering&nbsp;whether&nbsp;to&nbsp;search&nbsp;for&nbsp;and&nbsp;forward-declare&nbsp;a&lt;br&gt;<br>
&quot;struct&nbsp;Foo&quot;&nbsp;or&nbsp;a&nbsp;&quot;class&nbsp;Foo&quot;.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Sure.&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;div&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&gt;<br>
&gt;&nbsp;template&lt;typename&nbsp;Enumtype,&nbsp;typename&nbsp;RecordType&nbsp;=&lt;br&gt;<br>
&gt;&nbsp;LookupTableRecord&lt;EnumType&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;class&nbsp;LookupTable&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt; &nbsp; &nbsp;//...&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;would&nbsp;make&nbsp;it&nbsp;so&nbsp;that&nbsp;someone&nbsp;could&nbsp;define&nbsp;a&nbsp;custom&nbsp;Record&nbsp;type,&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;as&nbsp;long&nbsp;as&nbsp;that&nbsp;record&nbsp;type&nbsp;matches&nbsp;the&nbsp;signature&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;LookupTableRecord,&nbsp;LookupTable&nbsp;won&#39;t&nbsp;care.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Do&nbsp;not&nbsp;add&nbsp;that&nbsp;template&nbsp;parameter&nbsp;until&nbsp;you&nbsp;actually&nbsp;need&nbsp;to&nbsp;customize&lt;br&gt;<br>
the&nbsp;record&nbsp;type.&nbsp;If&nbsp;you&nbsp;end&nbsp;up&nbsp;using&nbsp;this&nbsp;design,&nbsp;just&nbsp;typedef&nbsp;Record&nbsp;to&lt;br&gt;<br>
be&nbsp;LookupTableRecord.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Need&nbsp;is&nbsp;already&nbsp;present;&nbsp;it&#39;s&nbsp;done&nbsp;exactly&nbsp;as&nbsp;you&nbsp;say.&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
