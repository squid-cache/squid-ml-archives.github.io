<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;all,&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp;the&nbsp;attached&nbsp;patch&nbsp;is&nbsp;a&nbsp;build-&nbsp;and&nbsp;run-tested&nbsp;merge&nbsp;proposal&nbsp;for&nbsp;next&nbsp;round&nbsp;of&nbsp;the&nbsp;coverity-fixes&nbsp;branch,&nbsp;currently&nbsp;focusing&nbsp;on&nbsp;more&nbsp;effective&nbsp;header&nbsp;name&nbsp;-&gt;&nbsp;id&nbsp;lookups.&lt;br&gt;&lt;/div&gt;&lt;br&gt;Here&#39;s&nbsp;the&nbsp;status&nbsp;with&nbsp;the&nbsp;current&nbsp;todo&nbsp;checklist:&lt;br&gt;&lt;br&gt; *&nbsp;DONE&nbsp;1.&nbsp;shift&nbsp;HDR_BAD_HDR&nbsp;to&nbsp;end&nbsp;of&nbsp;enum&lt;br&gt; *&nbsp;DONE&nbsp;2.&nbsp;shift&nbsp;headers&nbsp;data&nbsp;array&nbsp;to&nbsp;http/RegistredHeaders.cc&lt;br&gt; *&nbsp;DONE&nbsp;3.&nbsp;creatign&nbsp;LookupTable&nbsp;object&nbsp;from&nbsp;teh&nbsp;enum&nbsp;and&nbsp;array&lt;br&gt; *&nbsp;(with&nbsp;HDR_BAD_HDR&nbsp;as&nbsp;invalid&nbsp;value)&lt;br&gt; *&nbsp;DONE&nbsp;4.&nbsp;replacing&nbsp;httpHeaderIdByName()&nbsp;uses&nbsp;with&nbsp;the&nbsp;lookup&nbsp;table&lt;br&gt; *&nbsp;NOT&nbsp;POSSIBLE&nbsp;5.&nbsp;merge&nbsp;HDR_BAD_HDR&nbsp;and&nbsp;HDR_ENUM_END&nbsp;into&nbsp;one&nbsp;thing&nbsp;-&nbsp;HDR_ENUM_END&nbsp;is&nbsp;overloaded&nbsp;meaning&nbsp;&quot;All&quot;&nbsp;headers&nbsp;in&nbsp;Manglers.&lt;br&gt; *&nbsp;DONE&nbsp;6.&nbsp;replacing&nbsp;httpHeaderNameById&nbsp;with&nbsp;direct&nbsp;array&nbsp;lookups&lt;br&gt; *&nbsp;DONE&nbsp;7.&nbsp;being&nbsp;looking&nbsp;at&nbsp;the&nbsp;other&nbsp;arrays&nbsp;removal&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;working&nbsp;on&nbsp;this&nbsp;I&nbsp;found&nbsp;out&nbsp;several&nbsp;instances&nbsp;of&nbsp;enum&nbsp;abuses&nbsp;-&nbsp;tracking&nbsp;those&nbsp;down&nbsp;has&nbsp;been&nbsp;the&nbsp;hardest&nbsp;part&nbsp;of&nbsp;the&nbsp;effort.&lt;br&gt;HttpHeader::parse&nbsp;is&nbsp;being&nbsp;used&nbsp;to&nbsp;parse&nbsp;error&nbsp;page&nbsp;templates&nbsp;-&nbsp;thus&nbsp;the&nbsp;relaxed&nbsp;any_registered_header()&nbsp;checks&nbsp;in&nbsp;some&nbsp;methods,&nbsp;e.g.&nbsp;HttpHdeader::addEntry().&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Next&nbsp;steps,&nbsp;if&nbsp;there&nbsp;is&nbsp;consensus:&lt;br&gt;&lt;/div&gt;-&nbsp;moving&nbsp;LookupTable&nbsp;away&nbsp;from&nbsp;std::map&nbsp;to&nbsp;std::hash&nbsp;with&nbsp;custom&nbsp;gperf-derived&nbsp;Hashers&nbsp;for&nbsp;extra&nbsp;boost&lt;br&gt;&lt;div&gt;-&nbsp;investigating&nbsp;whether&nbsp;strongly-typed&nbsp;enums&nbsp;can&nbsp;be&nbsp;used&nbsp;instead&nbsp;of&nbsp;C-style&nbsp;enums&nbsp;in&nbsp;more&nbsp;places.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;-&nbsp;moving&nbsp;away&nbsp;from&nbsp;homegrown&nbsp;bitfields&nbsp;(CBIT_TEST&nbsp;etc.)&nbsp;towards&nbsp;std::vector&lt;bool&gt;&nbsp;or&nbsp;std::vector&lt;unsigned&nbsp;char&gt;,&nbsp;possibly&nbsp;via&nbsp;a&nbsp;class&nbsp;bitfield&nbsp;or&nbsp;somesuch.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
