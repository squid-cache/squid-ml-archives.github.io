<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Aug&nbsp;23,&nbsp;2015&nbsp;at&nbsp;9:16&nbsp;PM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;08/19/2015&nbsp;11:11&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;*&nbsp;when&nbsp;adding&nbsp;a&nbsp;new&nbsp;constructor&nbsp;ensure&nbsp;the&nbsp;big-5&nbsp;operators&nbsp;(ctor,&nbsp;dtor,&lt;br&gt;<br>
&gt;&nbsp;assign,&nbsp;emplace,&nbsp;emplace-assign)&nbsp;are&nbsp;all&nbsp;present.&nbsp;Even&nbsp;if&nbsp;they&nbsp;use&nbsp;&quot;=&lt;br&gt;<br>
&gt;&nbsp;default&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;IMO,&nbsp;the&nbsp;above&nbsp;rule&nbsp;is&nbsp;wrong&nbsp;because&nbsp;it&nbsp;forces&nbsp;developers&nbsp;to&nbsp;add&lt;br&gt;<br>
absolutely&nbsp;unnecessary&nbsp;code&nbsp;in&nbsp;many&nbsp;cases&nbsp;(unnecessary&nbsp;from&nbsp;any&nbsp;points&lt;br&gt;<br>
of&nbsp;view,&nbsp;even&nbsp;code&nbsp;readability&nbsp;and&nbsp;documentation).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;better&nbsp;set&nbsp;of&nbsp;rules&nbsp;would&nbsp;say&nbsp;something&nbsp;like&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
Big3&nbsp;methods:&nbsp;copy&nbsp;constructor,&nbsp;destructor,&nbsp;and&nbsp;assignment&nbsp;operator.&lt;br&gt;<br>
Move&nbsp;methods:&nbsp;move&nbsp;constructor&nbsp;and&nbsp;move&nbsp;assignment&nbsp;operator.&lt;br&gt;<br>
&lt;br&gt;<br>
0.&nbsp;If&nbsp;the&nbsp;class&nbsp;works&nbsp;well&nbsp;without&nbsp;any&nbsp;of&nbsp;the&nbsp;Big3&nbsp;methods,&nbsp;do&nbsp;not&lt;br&gt;<br>
define&nbsp;any&nbsp;of&nbsp;the&nbsp;Big3&nbsp;methods.&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;If&nbsp;you&nbsp;have&nbsp;to&nbsp;define&nbsp;one&nbsp;of&nbsp;Big3,&nbsp;declare&nbsp;all&nbsp;of&nbsp;Big3.&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;If&nbsp;your&nbsp;class&nbsp;has&nbsp;a&nbsp;non-default&nbsp;destructor&nbsp;implementation,&nbsp;you&nbsp;may&lt;br&gt;<br>
decide&nbsp;to&nbsp;define&nbsp;one&nbsp;of&nbsp;the&nbsp;Move&nbsp;methods.&nbsp;If&nbsp;you&nbsp;define&nbsp;one&nbsp;Move&nbsp;method,&lt;br&gt;<br>
declare&nbsp;the&nbsp;other&nbsp;Move&nbsp;method&nbsp;as&nbsp;well.&lt;br&gt;<br>
&lt;br&gt;<br>
3.&nbsp;Whenever&nbsp;you&nbsp;declare&nbsp;a&nbsp;method,&nbsp;use&nbsp;a&nbsp;&quot;=&nbsp;default&quot;&nbsp;declaration&nbsp;when&nbsp;the&lt;br&gt;<br>
default&nbsp;method&nbsp;implementation&nbsp;matches&nbsp;your&nbsp;needs&nbsp;and&nbsp;use&nbsp;a&nbsp;&quot;=&nbsp;delete&quot;&lt;br&gt;<br>
declaration&nbsp;when&nbsp;using&nbsp;the&nbsp;declared&nbsp;method&nbsp;is&nbsp;prohibited.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sounds&nbsp;excellent&nbsp;to&nbsp;me.&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
[&nbsp;I&nbsp;also&nbsp;like&nbsp;the&nbsp;&quot;Rule&nbsp;of&nbsp;0&quot;&nbsp;that&nbsp;states&nbsp;that&nbsp;&quot;if&nbsp;you&nbsp;specify&nbsp;any&nbsp;of&lt;br&gt;<br>
the&nbsp;default&nbsp;members,&nbsp;then&nbsp;your&nbsp;class&nbsp;must&nbsp;deal&nbsp;exclusively&nbsp;with&nbsp;a&nbsp;single&lt;br&gt;<br>
resource&quot;,&nbsp;but&nbsp;we&nbsp;probably&nbsp;have&nbsp;too&nbsp;many&nbsp;violations&nbsp;of&nbsp;this&nbsp;rule&nbsp;and&nbsp;too&lt;br&gt;<br>
many&nbsp;raw&nbsp;pointers&nbsp;floating&nbsp;around&nbsp;to&nbsp;enforce&nbsp;it.&nbsp;]&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;can&nbsp;try&nbsp;adding&nbsp;that&nbsp;as&nbsp;an&nbsp;encouragement;&nbsp;won&#39;t&nbsp;fix&nbsp;the&nbsp;past&nbsp;but&nbsp;it&nbsp;may&nbsp;help&nbsp;for&nbsp;the&nbsp;future.&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
AFAICT,&nbsp;StoreMeta&nbsp;in&nbsp;the&nbsp;last&nbsp;patch&nbsp;does&nbsp;not&nbsp;satisfy&nbsp;rule&nbsp;#3.&nbsp;To&nbsp;satisfy&lt;br&gt;<br>
that&nbsp;rule,&nbsp;StoreMeta&nbsp;should:&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;use&nbsp;&quot;=&nbsp;default&quot;&nbsp;for&nbsp;the&nbsp;virtual&nbsp;destructor&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;use&nbsp;either&nbsp;&quot;=&nbsp;default&quot;&nbsp;or&nbsp;&quot;=&nbsp;delete&quot;&nbsp;for&nbsp;the&nbsp;copy&nbsp;constructor&nbsp;and&nbsp;the&lt;br&gt;<br>
assignment&nbsp;operator.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Omitting&nbsp;emplace&nbsp;and&nbsp;implementing&nbsp;the&nbsp;others&nbsp;as&nbsp;protected&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;completeness&#39;&nbsp;sake.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Why&nbsp;protected?&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Making&nbsp;default&nbsp;constructor&nbsp;protected&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;keeping&nbsp;it&nbsp;public&lt;br&gt;<br>
because&nbsp;the&nbsp;class&nbsp;is&nbsp;abstract&nbsp;(nobody&nbsp;can&nbsp;create&nbsp;a&nbsp;StoreMeta&nbsp;object).&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;prohibit&nbsp;copying,&nbsp;use&nbsp;&quot;=&nbsp;delete&quot;&nbsp;for&nbsp;copy&nbsp;constructor&lt;br&gt;<br>
and&nbsp;assignment&nbsp;operator.&nbsp;Given&nbsp;the&nbsp;class&nbsp;use&nbsp;of&nbsp;raw&nbsp;pointers,&nbsp;deleting&lt;br&gt;<br>
sounds&nbsp;like&nbsp;a&nbsp;good&nbsp;idea,&nbsp;but&nbsp;I&nbsp;did&nbsp;not&nbsp;study&nbsp;this&nbsp;class&nbsp;usage&nbsp;in&nbsp;detail.&lt;br&gt;<br>
In&nbsp;general,&nbsp;prohibiting&nbsp;dangerous&nbsp;operations&nbsp;is&nbsp;better&nbsp;than&nbsp;allowing&lt;br&gt;<br>
them&nbsp;so&nbsp;if&nbsp;&quot;=&nbsp;delete&quot;&nbsp;works&nbsp;well,&nbsp;we&nbsp;should&nbsp;use&nbsp;it.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;With&nbsp;private&nbsp;(on&nbsp;clang)&lt;br&gt;&lt;br&gt;StoreMeta.cc:100:22:&nbsp;error:&nbsp;call&nbsp;to&nbsp;implicitly-deleted&nbsp;default&nbsp;constructor&nbsp;of&nbsp;&#39;StoreMetaMD5&#39;&lt;br&gt;       &nbsp;result&nbsp;=&nbsp;new&nbsp;StoreMetaMD5;&lt;br&gt;                    &nbsp;^&lt;br&gt;../src/StoreMetaMD5.h:16:22:&nbsp;note:&nbsp;default&nbsp;constructor&nbsp;of&nbsp;&#39;StoreMetaMD5&#39;&nbsp;is&nbsp;implicitly&nbsp;deleted&nbsp;because&nbsp;base&nbsp;class&nbsp;&#39;StoreMeta&#39;&nbsp;has&nbsp;an&nbsp;inaccessible&nbsp;default&nbsp;constructor&lt;br&gt;class&nbsp;StoreMetaMD5&nbsp;:&nbsp;public&nbsp;StoreMeta&lt;br&gt;                    &nbsp;^&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
