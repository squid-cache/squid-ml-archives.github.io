=== modified file 'src/peer_digest.cc'
--- src/peer_digest.cc	2015-08-30 00:26:47 +0000
+++ src/peer_digest.cc	2015-10-22 13:04:54 +0000
@@ -351,7 +351,7 @@
             p->login[0] != '*' &&
             strcmp(p->login, "PASS") != 0 &&
             strcmp(p->login, "PASSTHRU") != 0 &&
-            strcmp(p->login, "NEGOTIATE") != 0 &&
+            strncmp(p->login, "NEGOTIATE", strlen("NEGOTIATE")) != 0 &&
             strcmp(p->login, "PROXYPASS") != 0) {
         req->url.userInfo(SBuf(p->login)); // XXX: performance regression make peer login SBuf as well.
     }

