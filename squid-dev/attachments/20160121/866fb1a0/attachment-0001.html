<tt>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Great&nbsp;job!&lt;br&gt;<br>
Thank&nbsp;you&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Jan&nbsp;21,&nbsp;2016&nbsp;6:34&nbsp;AM,&nbsp;&quot;Markus&nbsp;Mayer&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:code@mmayer.net&quot;&gt;code@mmayer.net&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;There&nbsp;are&nbsp;several&nbsp;bug&nbsp;reports&nbsp;out&nbsp;there&nbsp;that&nbsp;squid&nbsp;is&nbsp;failing&nbsp;to&nbsp;start&nbsp;up&nbsp;on&nbsp;OS&nbsp;X&nbsp;with&nbsp;an&nbsp;error&nbsp;similar&nbsp;to&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Ipc::Mem::Segment::create&nbsp;failed&nbsp;to&nbsp;ftruncate(/squid-cf__metadata.shm):&nbsp;(22)&nbsp;Invalid&nbsp;argument&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;may&nbsp;be&nbsp;one&nbsp;of&nbsp;the&nbsp;other&nbsp;shared&nbsp;memory&nbsp;segments&nbsp;that&nbsp;is&nbsp;failing,&nbsp;but&nbsp;the&nbsp;problem&nbsp;is&nbsp;always&nbsp;the&nbsp;same:&nbsp;upon&nbsp;restarting&nbsp;squid,&nbsp;ftruncate()&nbsp;bails&nbsp;with&nbsp;EINVAL&nbsp;and&nbsp;squid&nbsp;subsequently&nbsp;aborts.&nbsp;If&nbsp;one&nbsp;is&nbsp;lucky&nbsp;and&nbsp;waits&nbsp;long&nbsp;enough,&nbsp;restarting&nbsp;squid&nbsp;may&nbsp;eventually&nbsp;succeed.&nbsp;Or&nbsp;one&nbsp;may&nbsp;need&nbsp;to&nbsp;reboot.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;what&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;find,&nbsp;the&nbsp;root&nbsp;cause&nbsp;for&nbsp;this&nbsp;has&nbsp;never&nbsp;really&nbsp;been&nbsp;determined,&nbsp;and&nbsp;there&nbsp;hasn&#39;t&nbsp;been&nbsp;a&nbsp;fix&nbsp;in&nbsp;squid&nbsp;that&nbsp;addresses&nbsp;this.&nbsp;(It&nbsp;was&nbsp;still&nbsp;happening&nbsp;to&nbsp;me&nbsp;intermittently&nbsp;on&nbsp;OS&nbsp;X&nbsp;10.11.2&nbsp;and&nbsp;the&nbsp;most&nbsp;recent&nbsp;squid&nbsp;from&nbsp;GIT.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So,&nbsp;I&nbsp;took&nbsp;some&nbsp;time&nbsp;to&nbsp;dig&nbsp;into&nbsp;this,&nbsp;down&nbsp;to&nbsp;first&nbsp;looking&nbsp;at&nbsp;the&nbsp;Darwin&nbsp;kernel&nbsp;sources&nbsp;(&lt;a&nbsp;href=&quot;http://www.opensource.apple.com/source/xnu/xnu-3248.20.55/bsd/kern/posix_shm.c&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.opensource.apple.com/source/xnu/xnu-3248.20.55/bsd/kern/posix_shm.c&lt;/a&gt;)&nbsp;and&nbsp;subsequently&nbsp;downloading&nbsp;XNU,&nbsp;instrumenting&nbsp;posix_shm.c&nbsp;and&nbsp;running&nbsp;my&nbsp;own&nbsp;custom&nbsp;built&nbsp;Darwin&nbsp;kernel&nbsp;(which&nbsp;was&nbsp;surprisingly&nbsp;straight&nbsp;forward).&nbsp;Since&nbsp;there&nbsp;are&nbsp;several&nbsp;places&nbsp;where&nbsp;ftruncate()&nbsp;and,&nbsp;specifically,&nbsp;pshm_truncate()&nbsp;can&nbsp;return&nbsp;EINVAL,&nbsp;instrumenting&nbsp;the&nbsp;kernel&nbsp;seemed&nbsp;to&nbsp;be&nbsp;the&nbsp;most&nbsp;promising&nbsp;way&nbsp;of&nbsp;figuring&nbsp;out&nbsp;which&nbsp;EINVAL&nbsp;squid&nbsp;is&nbsp;hitting&nbsp;and&nbsp;why.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Turns&nbsp;out&nbsp;it&#39;s&nbsp;this&nbsp;one:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;if&nbsp;((pinfo-&gt;pshm_flags&nbsp;&amp;&nbsp;(PSHM_DEFINED|PSHM_ALLOCATING|PSHM_ALLOCATED)) &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;!=&nbsp;PSHM_DEFINED)&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;PSHM_SUBSYS_UNLOCK();&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;return(EINVAL);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;happens&nbsp;because&nbsp;PSHM_ALLOCATED&nbsp;is&nbsp;already&nbsp;set.&nbsp;Luckily,&nbsp;the&nbsp;only&nbsp;place&nbsp;where&nbsp;PSHM_ALLOCATED&nbsp;gets&nbsp;set&nbsp;is&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;pshm_truncate()&nbsp;itself.&nbsp;So,&nbsp;finding&nbsp;the&nbsp;culprit&nbsp;for&nbsp;setting&nbsp;it&nbsp;was&nbsp;easy.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;this&nbsp;means&nbsp;is&nbsp;that&nbsp;OS&nbsp;X&nbsp;will&nbsp;only&nbsp;support&nbsp;ftruncate()&nbsp;*ONCE*&nbsp;on&nbsp;a&nbsp;shm&nbsp;segment,&nbsp;and&nbsp;this&nbsp;is&nbsp;done&nbsp;fully&nbsp;on&nbsp;purpose.&nbsp;The&nbsp;first&nbsp;time&nbsp;pshm_truncate()&nbsp;is called,&nbsp;it&#39;ll&nbsp;do&nbsp;all&nbsp;the&nbsp;required&nbsp;mapping&nbsp;and&nbsp;so&nbsp;forth,&nbsp;then&nbsp;set&nbsp;PSHM_ALLOCATED&nbsp;for&nbsp;that&nbsp;segment.&nbsp;When&nbsp;one&nbsp;tries&nbsp;to&nbsp;call&nbsp;ftruncate()&nbsp;on&nbsp;the&nbsp;same&nbsp;shm&nbsp;region&nbsp;again,&nbsp;it&#39;ll&nbsp;return&nbsp;EINVAL,&nbsp;because&nbsp;PSHM_ALLOCATED&nbsp;is&nbsp;set.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;are&nbsp;cases&nbsp;where&nbsp;shm&nbsp;regions&nbsp;don&#39;t&nbsp;get&nbsp;removed&nbsp;when&nbsp;squid&nbsp;terminates.&nbsp;So,&nbsp;upon&nbsp;restarting&nbsp;squid,&nbsp;shm_open()&nbsp;will&nbsp;return&nbsp;the&nbsp;already&nbsp;existing&nbsp;shm&nbsp;segment&nbsp;(or&nbsp;segments)&nbsp;which&nbsp;will&nbsp;have&nbsp;been&nbsp;&quot;allocated&quot;&nbsp;already.&nbsp;squid&nbsp;will&nbsp;try&nbsp;to&nbsp;call&nbsp;ftruncate()&nbsp;anyway&nbsp;--&nbsp;and&nbsp;fail.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;one&nbsp;could&nbsp;argue&nbsp;that&nbsp;OS&nbsp;X&nbsp;should&nbsp;really&nbsp;be&nbsp;able&nbsp;to&nbsp;handle&nbsp;ftruncate()&nbsp;on&nbsp;an&nbsp;existing&nbsp;shm&nbsp;segment&nbsp;(like&nbsp;other&nbsp;POSIX&nbsp;systems&nbsp;do),&nbsp;and&nbsp;it&nbsp;probably&nbsp;should.&nbsp;Convincing&nbsp;Apple&nbsp;of&nbsp;that&nbsp;is&nbsp;likely&nbsp;not&nbsp;going&nbsp;to&nbsp;be&nbsp;easy.&nbsp;Even&nbsp;if&nbsp;it&nbsp;were&nbsp;to&nbsp;succeed,&nbsp;it&nbsp;would&nbsp;only&nbsp;fix&nbsp;future&nbsp;releases,&nbsp;not&nbsp;the&nbsp;current&nbsp;OS&nbsp;X&nbsp;releases.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So,&nbsp;I&nbsp;see&nbsp;the&nbsp;following&nbsp;solutions&nbsp;squid&nbsp;could&nbsp;implement,&nbsp;which&nbsp;could&nbsp;be&nbsp;Darwin-only&nbsp;code,&nbsp;so&nbsp;as&nbsp;to&nbsp;not&nbsp;burden&nbsp;other&nbsp;OSes&nbsp;with&nbsp;this&nbsp;workaround.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Try&nbsp;to&nbsp;ensure&nbsp;squid&nbsp;can&#39;t&nbsp;leave&nbsp;shm&nbsp;segments&nbsp;behind&nbsp;when&nbsp;it&nbsp;terminates.&nbsp;Not&nbsp;sure&nbsp;how&nbsp;realistic&nbsp;this&nbsp;is.&nbsp;It&nbsp;could&nbsp;always&nbsp;fail&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;prevents&nbsp;it&nbsp;from&nbsp;cleaning&nbsp;up&nbsp;after&nbsp;itself.&nbsp;Or&nbsp;somebody&nbsp;could&nbsp;send&nbsp;it&nbsp;a&nbsp;SIGKILL,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&nbsp;definitely&nbsp;couldn&#39;t&nbsp;clean&nbsp;up&nbsp;after&nbsp;itself.&lt;/div&gt;&lt;div&gt;-&nbsp;Simply&nbsp;accepting&nbsp;ftruncate()&nbsp;failing&nbsp;with&nbsp;EINVAL&nbsp;as&nbsp;non&nbsp;fatal&nbsp;condition&nbsp;on&nbsp;OS&nbsp;X&nbsp;and&nbsp;continue.&nbsp;This&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;do,&nbsp;but&nbsp;there&nbsp;are&nbsp;several&nbsp;different&nbsp;reasons&nbsp;why&nbsp;EINVAL&nbsp;may&nbsp;be&nbsp;returned.&nbsp;It&nbsp;wouldn&#39;t&nbsp;be&nbsp;a&nbsp;good&nbsp;idea&nbsp;to&nbsp;continue&nbsp;in&nbsp;all&nbsp;those&nbsp;cases.&nbsp;So&nbsp;this&nbsp;won&#39;t&nbsp;really&nbsp;work&nbsp;reliably.&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Run&nbsp;statSize()&nbsp;on&nbsp;the&nbsp;memory&nbsp;segment&nbsp;after&nbsp;successfully&nbsp;opening&nbsp;it.&nbsp;If&nbsp;the&nbsp;size&nbsp;returned&nbsp;is&nbsp;greater&nbsp;than&nbsp;0,&nbsp;we&nbsp;know&nbsp;ftruncate()&nbsp;will&nbsp;fail&nbsp;on&nbsp;OS&nbsp;X,&nbsp;because&nbsp;the&nbsp;segment&nbsp;isn&#39;t&nbsp;a&nbsp;new&nbsp;one.&nbsp;So,&nbsp;squid&nbsp;could&nbsp;call&nbsp;ftruncate()&nbsp;only&nbsp;if&nbsp;size&nbsp;is&nbsp;0&nbsp;and&nbsp;maybe&nbsp;call&nbsp;memset()&nbsp;otherwise&nbsp;to&nbsp;zero&nbsp;it&nbsp;out.&lt;/div&gt;&lt;div&gt;-&nbsp;Just&nbsp;unconditionally&nbsp;call&nbsp;unlink()&nbsp;before&nbsp;shm_open().&nbsp;If&nbsp;the&nbsp;segment&nbsp;didn&#39;t&nbsp;exist,&nbsp;unlink()&nbsp;will&nbsp;fail,&nbsp;but&nbsp;that&nbsp;won&#39;t&nbsp;really&nbsp;matter.&nbsp;This&nbsp;would&nbsp;likely&nbsp;take&nbsp;the&nbsp;least&nbsp;amount&nbsp;of&nbsp;code.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;-&nbsp;Call&nbsp;shm_open&nbsp;with&nbsp;O_EXCL,&nbsp;so&nbsp;that&nbsp;it&#39;ll&nbsp;fail&nbsp;if&nbsp;the&nbsp;shm&nbsp;segment&nbsp;already&nbsp;exists.&nbsp;If&nbsp;the&nbsp;call&nbsp;fails&nbsp;with&nbsp;EEXIST,&nbsp;unlink&nbsp;the&nbsp;shm&nbsp;segment&nbsp;and&nbsp;retry.&nbsp;This&nbsp;one&nbsp;may&nbsp;not&nbsp;even&nbsp;need&nbsp;to&nbsp;be&nbsp;Darwin-specific.&nbsp;Would&nbsp;be&nbsp;unnecessary&nbsp;on&nbsp;other&nbsp;platforms,&nbsp;but&nbsp;wouldn&#39;t&nbsp;really&nbsp;hurt.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;did&nbsp;create&nbsp;a&nbsp;sample&nbsp;implementation&nbsp;of&nbsp;the&nbsp;last&nbsp;option.&nbsp;According&nbsp;to&nbsp;my&nbsp;tests,&nbsp;it&nbsp;does&nbsp;seem&nbsp;to&nbsp;work&nbsp;as&nbsp;intended.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;---&nbsp;a/src/ipc/mem/Segment.cc&lt;/div&gt;&lt;div&gt;+++&nbsp;b/src/ipc/mem/Segment.cc&lt;/div&gt;&lt;div&gt;@@&nbsp;-85,12&nbsp;+85,31&nbsp;@@&nbsp;Ipc::Mem::Segment::Enabled()&lt;/div&gt;&lt;div&gt; void&lt;/div&gt;&lt;div&gt; Ipc::Mem::Segment::create(const&nbsp;off_t&nbsp;aSize)&lt;/div&gt;&lt;div&gt; {&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; bool&nbsp;do_retry&nbsp;=&nbsp;false;&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; assert(aSize&nbsp;&gt;&nbsp;0);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; assert(theFD&nbsp;&lt;&nbsp;0);&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; //&nbsp;OS&nbsp;X&nbsp;does&nbsp;not&nbsp;allow&nbsp;using&nbsp;O_TRUNC&nbsp;here.&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; theFD&nbsp;=&nbsp;shm_open(theName.termedBuf(),&nbsp;O_CREAT&nbsp;|&nbsp;O_RDWR,&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;S_IRUSR&nbsp;|&nbsp;S_IWUSR);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; do&nbsp;{&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;OS&nbsp;X&nbsp;does&nbsp;not&nbsp;allow&nbsp;using&nbsp;O_TRUNC&nbsp;with&nbsp;shm_open.&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;Also,&nbsp;OS&nbsp;X&nbsp;only&nbsp;permits&nbsp;ftruncate()&nbsp;on&nbsp;new&nbsp;shared&nbsp;memory&nbsp;areas.&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;Therefore,&nbsp;we&nbsp;know&nbsp;that&nbsp;ftruncate()&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;shared&nbsp;memory&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;area&nbsp;already&nbsp;exists.&nbsp;To&nbsp;prevent&nbsp;this,&nbsp;we&nbsp;delete&nbsp;and&nbsp;re-create&nbsp;the&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;area&nbsp;if&nbsp;it&nbsp;exsisted&nbsp;previously&nbsp;(i.e.&nbsp;from&nbsp;an&nbsp;unclean&nbsp;shutdown).&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; theFD&nbsp;=&nbsp;shm_open(theName.termedBuf(),&nbsp;O_CREAT&nbsp;|&nbsp;O_EXCL&nbsp;|&nbsp;O_RDWR,&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;S_IRUSR&nbsp;|&nbsp;S_IWUSR);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;(theFD&nbsp;&lt;&nbsp;0&nbsp;&amp;&amp;&nbsp;errno&nbsp;==&nbsp;EEXIST)&nbsp;{&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int&nbsp;old_errno&nbsp;=&nbsp;errno;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unlink();&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;We&nbsp;want&nbsp;to&nbsp;report&nbsp;the&nbsp;shm_open&nbsp;failure,&nbsp;not&nbsp;the&nbsp;unlink&nbsp;failure.&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; errno&nbsp;=&nbsp;old_errno;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;Retry&nbsp;once,&nbsp;but&nbsp;only&nbsp;once.&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do_retry&nbsp;=&nbsp;!do_retry;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;else&nbsp;{&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do_retry&nbsp;=&nbsp;false;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; }&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; }&nbsp;while&nbsp;(do_retry);&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; if&nbsp;(theFD&nbsp;&lt;&nbsp;0)&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; debugs(54,&nbsp;5,&nbsp;HERE&nbsp;&lt;&lt;&nbsp;&quot;shm_open&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;theName&nbsp;&lt;&lt;&nbsp;&quot;:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;xstrerror());&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; fatalf(&quot;Ipc::Mem::Segment::create&nbsp;failed&nbsp;to&nbsp;shm_open(%s):&nbsp;%s\n&quot;,&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;-Markus&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
squid-dev&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-dev@lists.squid-cache.org&quot;&gt;squid-dev@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-dev&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-dev&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
