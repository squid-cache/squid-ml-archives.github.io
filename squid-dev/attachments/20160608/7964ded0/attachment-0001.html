<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hello,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;patch&nbsp;fixes&nbsp;valgrind-discovered&nbsp;trunk&nbsp;errors.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;During&nbsp;start-up,&nbsp;Valgrind&nbsp;reported&nbsp;many&nbsp;errors&nbsp;with&nbsp;a&nbsp;similar<br>
&nbsp;&nbsp;&nbsp;&nbsp;message:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;Use&nbsp;of&nbsp;uninitialised&nbsp;value&nbsp;of&nbsp;size&nbsp;8...&quot;.&nbsp;These&nbsp;errors&nbsp;were&nbsp;caused<br>
&nbsp;&nbsp;&nbsp;&nbsp;by&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;HttpRequestMethod&amp;&nbsp;parameter&nbsp;during&nbsp;private&nbsp;key&nbsp;generation:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;was&nbsp;used&nbsp;as&nbsp;a&nbsp;raw&nbsp;void*&nbsp;memory&nbsp;there.&nbsp;HttpRequestMethod&nbsp;is&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;non-POD&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;and&nbsp;has&nbsp;some&nbsp;&quot;padding&quot;&nbsp;bytes,&nbsp;which&nbsp;are&nbsp;not&nbsp;initialized&nbsp;by&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;constructor.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;patch&nbsp;simplifies&nbsp;private&nbsp;key&nbsp;generation&nbsp;by&nbsp;using&nbsp;a&nbsp;counter&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;this,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;is&nbsp;sufficient&nbsp;to&nbsp;create&nbsp;a&nbsp;unique&nbsp;key&nbsp;within&nbsp;a&nbsp;single&nbsp;Squid<br>
&nbsp;&nbsp;&nbsp;&nbsp;process.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Except&nbsp;fixing&nbsp;Valgrind&nbsp;errors,&nbsp;this&nbsp;solution&nbsp;saves&nbsp;many&nbsp;CPU&nbsp;cycles<br>
&nbsp;&nbsp;&nbsp;&nbsp;wasted&nbsp;on&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;MD5&nbsp;hashes&nbsp;just&nbsp;to&nbsp;&quot;guarantee&quot;&nbsp;uniqueness&nbsp;within&nbsp;a&nbsp;single<br>
&nbsp;&nbsp;&nbsp;&nbsp;process.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Regards,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Eduard.&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
