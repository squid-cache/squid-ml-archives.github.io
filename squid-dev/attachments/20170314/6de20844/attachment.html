<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;Hi&nbsp;guys&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;I&#39;m&nbsp;sorry&nbsp;that&nbsp;I&#39;m&nbsp;here&nbsp;so&nbsp;late.&nbsp;:(&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;G&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;enerally,&lt;/span&gt; regarding&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&nbsp;the&nbsp;purpose&nbsp;of&nbsp;this&nbsp;MP.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;a&nbsp;href=&quot;https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714&quot;&gt;https://code.launchpad.net/~gary-wzl77/squid/ipc_prefix/+merge/318714&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;make&nbsp;squid&nbsp;snap&nbsp;works&nbsp;as&nbsp;a &lt;a&nbsp;href=&quot;https://snapcraft.io/docs/reference/confinement&quot;&nbsp;target=&quot;_blank&quot;&gt;confined &lt;/a&gt;snap&nbsp;in&nbsp;snap&nbsp;world.&nbsp;So&nbsp;that&nbsp;we&nbsp;can&nbsp;ship&nbsp;this&nbsp;snap&nbsp;in ubuntu-core.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;The&nbsp;reason&nbsp;why&nbsp;I&nbsp;need&nbsp;to&nbsp;add&nbsp;compile&nbsp;option&nbsp;to&nbsp;enable to&nbsp;customize&nbsp;IPC&nbsp;prefix&nbsp;at&nbsp;compiling&nbsp;time&nbsp;is&nbsp;that&nbsp;i&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;n&nbsp;order&nbsp;to&nbsp;use&nbsp;shared&nbsp;memory&nbsp;in&nbsp;an&nbsp;app&nbsp;which&nbsp;released&nbsp;as&nbsp;a snap&nbsp;package&nbsp;t&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;he&nbsp;only&nbsp;allowed&nbsp;file&nbsp;path&nbsp;will&nbsp;be&nbsp;like &lt;/span&gt;&lt;a&nbsp;href=&quot;https://bugs.launchpad.net/snappy/+bug/1653955&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:12.8px&quot;&gt;this &lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;(in&nbsp;the&nbsp;following&nbsp;namespace)&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt; /dev/shm/&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;sem.snap.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;@{SNAP_&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;NAME&lt;wbr&gt;}.*&lt;/span&gt; &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;Hence&nbsp;in&nbsp;our&nbsp;case,&nbsp;the&nbsp;shared&nbsp;memory&nbsp;file&nbsp;path&nbsp;should&nbsp;be &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;/dev/shm/&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;sem.snap.squid-snap&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:monospace;font-size:13.3333px&quot;&gt;&lt;wbr&gt;.{random-string}&lt;/span&gt; &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;Otherwise,&nbsp;you&nbsp;will&nbsp;get&nbsp;the&nbsp;following&nbsp;error&nbsp;when&nbsp;running&nbsp;the&nbsp;squid&nbsp;in&nbsp;snap&nbsp;world&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;a&nbsp;href=&quot;http://paste.ubuntu.com/24175840/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://paste.ubuntu.com/&lt;wbr&gt;24175840/&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;@Amos&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;About&nbsp;your&nbsp;suggestions,&nbsp;I&nbsp;could&nbsp;add&nbsp;&quot;-n&nbsp;sem.snap.squid-snap&quot;&nbsp;in&nbsp;the&nbsp;command&nbsp;line&nbsp;to&nbsp;launch&nbsp;snap.&lt;/div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;However,&nbsp;If&nbsp;I&nbsp;do&nbsp;it&nbsp;like&nbsp;this,&nbsp;I&nbsp;will&nbsp;receive&nbsp;the&nbsp;following&nbsp;error.&lt;/span&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;a&nbsp;href=&quot;http://paste.ubuntu.com/24175793/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://paste.ubuntu.com/&lt;wbr&gt;24175793/&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;I&nbsp;suppose&nbsp;it&#39;s&nbsp;caused&nbsp;by&nbsp;the&nbsp;&#39;.&#39;&nbsp;separator.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;  &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;@Alex&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;About&nbsp;the&nbsp;DEFAULT_STATEDIR,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;...&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;DEFS&nbsp;+=&nbsp;-DDEFAULT_STATEDIR=\&quot;$(&lt;wbr&gt;localstatedir)/run/squid\&quot; &nbsp;  &lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;...&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;According&nbsp;to&nbsp;the&nbsp;above&nbsp;share&nbsp;memory&nbsp;namespace&nbsp;in&nbsp;snap&nbsp;world,&nbsp;it&nbsp;couldn&#39;t&nbsp;help&nbsp;on&nbsp;this&nbsp;either.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;Hopefully,&nbsp;I&nbsp;made&nbsp;it&nbsp;clear&nbsp;on&nbsp;this&nbsp;MP.&nbsp;:)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;If&nbsp;there&nbsp;is&nbsp;sth&nbsp;wrong&nbsp;on&nbsp;the&nbsp;usage&nbsp;of&nbsp;your&nbsp;suggestions&nbsp;or&nbsp;any&nbsp;other&nbsp;compiler&nbsp;options&nbsp;I&nbsp;can&nbsp;use,&nbsp;please&nbsp;let&nbsp;me&nbsp;know.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;hear&nbsp;your&nbsp;guys&nbsp;feedbacks.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;Thanks&nbsp;in&nbsp;advance.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Br&lt;div&gt;Gary.Wzl&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
