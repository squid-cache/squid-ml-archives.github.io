<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7849&quot;&gt;Hello,&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7850&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7851&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7852&quot;&gt;I'm&nbsp;a&nbsp;developer&nbsp;with&nbsp;higher&nbsp;level&nbsp;languages&nbsp;experience&nbsp;very&nbsp;little&nbsp;commercial&nbsp;c++&nbsp;development&nbsp;on&nbsp;my&nbsp;hands.&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7853&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7854&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7855&quot;&gt;I've&nbsp;been&nbsp;following&nbsp;the&nbsp;SslBump&nbsp;feature&nbsp;for&nbsp;a&nbsp;while&nbsp;now,&nbsp;and&nbsp;this&nbsp;includes&nbsp;source&nbsp;code&nbsp;changes.&nbsp;SslBumping&nbsp;with&nbsp;upstream&nbsp;proxies&nbsp;was&nbsp;completely&nbsp;restricted&nbsp;when&nbsp;bug&nbsp;3209&nbsp;was&nbsp;patched&nbsp;in&nbsp;2011,&nbsp;however,&nbsp;I&nbsp;believe&nbsp;the&nbsp;patch&nbsp;is&nbsp;too&nbsp;restrictive.&nbsp;I&nbsp;agree&nbsp;with&nbsp;Amos's&nbsp;statement&nbsp;that&nbsp;a&nbsp;plaintext&nbsp;information&nbsp;leak&nbsp;is&nbsp;highly&nbsp;unsafe,&nbsp;but&nbsp;the&nbsp;patch&nbsp;also&nbsp;prevents&nbsp;ssl&nbsp;upstream&nbsp;proxies&nbsp;usage.&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7856&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7857&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7858&quot;&gt;In&nbsp;order&nbsp;to&nbsp;prevent&nbsp;plaintext&nbsp;and&nbsp;still&nbsp;use&nbsp;upstream&nbsp;proxies,&nbsp;I&nbsp;propose&nbsp;the&nbsp;following&nbsp;changes&nbsp;(tested&nbsp;in&nbsp;intranet,&nbsp;in&nbsp;production)&nbsp;which&nbsp;enable&nbsp;upstream&nbsp;proxies&nbsp;after&nbsp;ssl&nbsp;bumping,&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;proxies&nbsp;are&nbsp;ssl&nbsp;themselves:&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7859&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7860&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7861&quot;&gt;-&nbsp;version&nbsp;4.x&nbsp;https://github.com/randunel/squid4/commit/c91995833370771f9903b374f17a0d774643c2b3&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7862&quot;&gt;-&nbsp;version&nbsp;3.5.x&nbsp;https://github.com/randunel/squid3/commit/a72a47cf0d54bf17faefcfe7692182d82d6520ab&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7863&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7864&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7865&quot;&gt;Best&nbsp;regards,&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1500556217780_7866&quot;&gt;Mihai&nbsp;Ene&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
