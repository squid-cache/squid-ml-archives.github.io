<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=Windows-1252&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Exchange&nbsp;Server&quot;&gt;<br>
&lt;!--&nbsp;converted&nbsp;from&nbsp;text&nbsp;--&gt;&lt;style&gt;&lt;!--&nbsp;.emailquote&nbsp;{&nbsp;margin-left:&nbsp;1pt;&nbsp;padding-left:&nbsp;4pt;&nbsp;border-left:&nbsp;#800000&nbsp;2px&nbsp;solid;&nbsp;}&nbsp;--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;Thanks&nbsp;Amos&nbsp;for&nbsp;your&nbsp;comprehensive&nbsp;reply..&nbsp;&nbsp;open&nbsp;SSH&nbsp;requires&nbsp;lower&nbsp;case&nbsp;host/&nbsp;and&nbsp;as&nbsp;you&nbsp;say&nbsp;windows&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;care&nbsp;so&nbsp;they&nbsp;solved&nbsp;it&nbsp;for&nbsp;that&nbsp;case&nbsp;but&nbsp;seems&nbsp;that&nbsp;uppercase&nbsp;is&nbsp;the&nbsp;convention&nbsp;for&nbsp;HTTP.<br>
&lt;div&gt;&nbsp;&nbsp;Do&nbsp;you&nbsp;have&nbsp;an&nbsp;official&nbsp;reference&nbsp;for&nbsp;HTTP/.&nbsp;As&nbsp;the&nbsp;official&nbsp;uppercase&nbsp;format&nbsp;of&nbsp;SPN&nbsp;for&nbsp;http&nbsp;protocol.i&nbsp;will&nbsp;then&nbsp;file&nbsp;a&nbsp;bug&nbsp;on&nbsp;the&nbsp;adcli&nbsp;repo.&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;x_gmail_extra&quot;&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;x_gmail_quote&quot;&gt;On&nbsp;27&nbsp;Jun&nbsp;2018&nbsp;7:11&nbsp;pm,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;PlainText&quot;&gt;On&nbsp;27/06/18&nbsp;06:53,&nbsp;Mike&nbsp;Surcouf&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Correction&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;supports&nbsp;lowercases&nbsp;all&nbsp;SPNs&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;should&nbsp;read&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;lowercases&nbsp;all&nbsp;SPNs&nbsp;(you&nbsp;don’t&nbsp;have&nbsp;an&nbsp;option)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;so&nbsp;it&nbsp;always&nbsp;produces&nbsp;http/hostname@REALM.COM&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;conscious&nbsp;decision&nbsp;by&nbsp;the&nbsp;adcli&nbsp;team&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://bugs.freedesktop.org/show_bug.cgi?id=84749&quot;&gt;https://bugs.freedesktop.org/show_bug.cgi?id=84749&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;don't&nbsp;see&nbsp;any&nbsp;explicit&nbsp;decision&nbsp;by&nbsp;them&nbsp;to&nbsp;use&nbsp;only&nbsp;lower-case.&nbsp;Just&lt;br&gt;<br>
statements&nbsp;that&nbsp;AD&nbsp;accepts&nbsp;case-insensitive&nbsp;inputs&nbsp;so&nbsp;they&nbsp;don't&nbsp;care&nbsp;to&lt;br&gt;<br>
do&nbsp;anything&nbsp;special.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Case&nbsp;insensitivity&nbsp;is&nbsp;a&nbsp;Microsoft&nbsp;custom&nbsp;extension.&nbsp;It&nbsp;cannot&nbsp;be&nbsp;relied&lt;br&gt;<br>
on&nbsp;in&nbsp;non-MS&nbsp;software&nbsp;:&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
Service&nbsp;Principal&nbsp;Names&nbsp;(SPNs)&nbsp;are&nbsp;not&nbsp;case&nbsp;sensitive&nbsp;when&nbsp;used&nbsp;by&lt;br&gt;<br>
Microsoft&nbsp;Windows-based&nbsp;computers.&nbsp;However,&nbsp;an&nbsp;SPN&nbsp;can&nbsp;be&nbsp;used&nbsp;by&nbsp;any&lt;br&gt;<br>
type&nbsp;of&nbsp;computer&nbsp;system.&nbsp;Many&nbsp;of&nbsp;these&nbsp;computer&nbsp;systems,&nbsp;especially&lt;br&gt;<br>
UNIX-based&nbsp;systems,&nbsp;are&nbsp;case-sensitive&nbsp;and&nbsp;require&nbsp;the&nbsp;proper&nbsp;case&nbsp;to&lt;br&gt;<br>
function&nbsp;properly.&nbsp;Care&nbsp;should&nbsp;be&nbsp;taken&nbsp;to&nbsp;use&nbsp;the&nbsp;proper&nbsp;case&lt;br&gt;<br>
particularly&nbsp;when&nbsp;an&nbsp;SPN&nbsp;can&nbsp;be&nbsp;used&nbsp;by&nbsp;a&nbsp;non-Windows-based&nbsp;computer.&lt;br&gt;<br>
&lt;br&gt;<br>
Refer&nbsp;this:&nbsp;&lt;a&nbsp;href=&quot;http://technet.microsoft.com/en-us/library/cc731241(WS.10).aspx&quot;&gt;<br>
http://technet.microsoft.com/en-us/library/cc731241(WS.10).aspx&lt;/a&gt;&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;also&nbsp;does&nbsp;not&nbsp;parse&nbsp;these&nbsp;details&nbsp;itself.&nbsp;The&nbsp;library&nbsp;being&nbsp;used&lt;br&gt;<br>
by&nbsp;the&nbsp;helper&nbsp;is&nbsp;responsible&nbsp;for&nbsp;all&nbsp;processing&nbsp;of&nbsp;the&nbsp;local&nbsp;machines&lt;br&gt;<br>
keytab.&nbsp;Squid&nbsp;only&nbsp;parses&nbsp;a&nbsp;token&nbsp;of&nbsp;opaque&nbsp;bytes&nbsp;from&nbsp;HTTP&nbsp;message&lt;br&gt;<br>
headers&nbsp;and&nbsp;passes&nbsp;it&nbsp;as&nbsp;opaque&nbsp;string&nbsp;it&nbsp;to&nbsp;the&nbsp;auth&nbsp;helpers.&nbsp;Our&lt;br&gt;<br>
Kerberos&nbsp;helpers&nbsp;use&nbsp;several&nbsp;libraries,&nbsp;and&nbsp;the&nbsp;one&nbsp;which&nbsp;you&nbsp;are&nbsp;using&lt;br&gt;<br>
apparently&nbsp;has&nbsp;case&nbsp;sensitivity&nbsp;for&nbsp;the&nbsp;SPN.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;the&nbsp;technical&nbsp;side:&lt;br&gt;<br>
&lt;br&gt;<br>
Kerberos&nbsp;documents&nbsp;just&nbsp;defer&nbsp;to&nbsp;the&nbsp;protocols&nbsp;where&nbsp;the&nbsp;elements&nbsp;of&nbsp;SPN&lt;br&gt;<br>
are&nbsp;sourced.&nbsp;So&nbsp;some&nbsp;segments&nbsp;in&nbsp;the&nbsp;SPN&nbsp;are&nbsp;case&nbsp;sensitive&nbsp;and&nbsp;others&lt;br&gt;<br>
are&nbsp;not,&nbsp;depending&nbsp;on&nbsp;what&nbsp;type&nbsp;of&nbsp;use&nbsp;the&nbsp;SPN&nbsp;is&nbsp;put.&lt;br&gt;<br>
&nbsp;eg&nbsp;DNS&nbsp;defines&nbsp;hostname&nbsp;as&nbsp;insensitive,&nbsp;so&nbsp;that&nbsp;part&nbsp;is.&nbsp;Some&nbsp;auth&lt;br&gt;<br>
systems&nbsp;define&nbsp;realm&nbsp;as&nbsp;insensitive,&nbsp;others&nbsp;as&nbsp;case-sensitive&nbsp;-&nbsp;so&nbsp;that&lt;br&gt;<br>
part&nbsp;*might&nbsp;be*&nbsp;(or&nbsp;not.&nbsp;ouch!).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
FWIW,&nbsp;following&nbsp;that&nbsp;deferrance&nbsp;style&nbsp;-&nbsp;the&nbsp;HTTP&nbsp;protocol&nbsp;defines&nbsp;its&lt;br&gt;<br>
protocol&nbsp;name&nbsp;as&nbsp;case-sensitive&nbsp;and&nbsp;has&nbsp;a&nbsp;significant&nbsp;difference&nbsp;between&lt;br&gt;<br>
&quot;HTTP&quot;&nbsp;(transport&nbsp;/&nbsp;messaging&nbsp;syntax)&nbsp;and&nbsp;&quot;http&quot;&nbsp;(URL&nbsp;scheme/syntax,&lt;br&gt;<br>
possibly&nbsp;used&nbsp;over&nbsp;non-HTTP&nbsp;transports).&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;technically&nbsp;/&nbsp;in&nbsp;theory:&lt;br&gt;<br>
&nbsp;*&nbsp;if&nbsp;the&nbsp;SPN&nbsp;is&nbsp;for&nbsp;access&nbsp;to&nbsp;HTTP&nbsp;transport&nbsp;(as&nbsp;Squid&nbsp;SPN&nbsp;are)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;-&nbsp;then&nbsp;the&nbsp;&quot;HTTP/&quot;&nbsp;portion&nbsp;should&nbsp;be&nbsp;upper&nbsp;case&nbsp;only.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;*&nbsp;if&nbsp;the&nbsp;SPN&nbsp;is&nbsp;for&nbsp;use&nbsp;of&nbsp;http://&nbsp;resource&nbsp;URLs&nbsp;(eg,&nbsp;as&nbsp;opposed&nbsp;to&lt;br&gt;<br>
ftp://&nbsp;URLs&nbsp;fetched&nbsp;with&nbsp;HTTP)&lt;br&gt;<br>
&nbsp;-&nbsp;it&nbsp;can&nbsp;be&nbsp;any&nbsp;case.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;does&nbsp;not&nbsp;go&nbsp;to&nbsp;that&nbsp;second&nbsp;URL-specific&nbsp;level&nbsp;of&nbsp;detail&nbsp;with&lt;br&gt;<br>
authentication&nbsp;and&nbsp;SPNs.&nbsp;Also,&nbsp;since&nbsp;one&nbsp;is&nbsp;required&nbsp;upper&nbsp;case,&nbsp;and&nbsp;the&lt;br&gt;<br>
other&nbsp;doesn't&nbsp;matter&nbsp;going&nbsp;upper&nbsp;case&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;choice&nbsp;for&nbsp;us&nbsp;if&lt;br&gt;<br>
we&nbsp;did&nbsp;normalize&nbsp;rather&nbsp;than&nbsp;handle&nbsp;as&nbsp;opaque&nbsp;strings&nbsp;anyway.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-dev&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-dev@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-dev&quot;&gt;http://lists.squid-cache.org/listinfo/squid-dev&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/span&gt;&lt;/font&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
