<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:verdana,&nbsp;helvetica,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;span&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;successfully&nbsp;implemented&nbsp;caching&nbsp;of&nbsp;206&nbsp;Partial&nbsp;Content&nbsp;as&nbsp;a&nbsp;project&nbsp;at&nbsp;my&nbsp;job&nbsp;and&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;you&nbsp;guys&nbsp;are&nbsp;interested&nbsp;in&nbsp;pulling&nbsp;it&nbsp;into&nbsp;main&nbsp;branch.&nbsp;&nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;did&nbsp;in&nbsp;brief:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;adding&nbsp;range_offset&nbsp;and&nbsp;range_length&nbsp;to&nbsp;StoreEntry&lt;/div&gt;&lt;div&gt;-&nbsp;caching&nbsp;single&nbsp;ranged&nbsp;requests&nbsp;by&nbsp;adding&nbsp;the&nbsp;range&nbsp;offset&nbsp;and&nbsp;length&nbsp;to&nbsp;store&nbsp;key&nbsp;hash&nbsp;function&nbsp;so&nbsp;they&nbsp;can&nbsp;be&nbsp;lookup&nbsp;by&nbsp;another&nbsp;request&nbsp;with&nbsp;the&nbsp;same&nbsp;range&nbsp;offset&nbsp;and&nbsp;length&lt;/div&gt;&lt;div&gt;-&nbsp;offset&nbsp;and&nbsp;length&nbsp;are&nbsp;also&nbsp;added&nbsp;to&nbsp;StoreMeta&nbsp;so&nbsp;after&nbsp;a&nbsp;restart,&nbsp;the&nbsp;offset&nbsp;and&nbsp;range&nbsp;can&nbsp;be&nbsp;restored&lt;/div&gt;&lt;div&gt;-&nbsp;enhancing&nbsp;HTCP&nbsp;so&nbsp;the&nbsp;range&nbsp;header&nbsp;from&nbsp;a&nbsp;peer&nbsp;is&nbsp;parsed&nbsp;and&nbsp;the&nbsp;offset&nbsp;and&nbsp;length&nbsp;are&nbsp;used&nbsp;during&nbsp;HIT/MISS&nbsp;lookup&lt;/div&gt;&lt;div&gt;-&nbsp;skip&nbsp;ICP&nbsp;for&nbsp;range&nbsp;request&nbsp;since&nbsp;ICP&nbsp;cannot&nbsp;include&nbsp;range&nbsp;header&lt;/div&gt;&lt;div&gt;-&nbsp;adjust&nbsp;store_client.cc&nbsp;copyInfo.offset&nbsp;by&nbsp;range_offset&lt;/div&gt;&lt;div&gt;-&nbsp;adjust&nbsp;store_swapout.cc&nbsp;mem-&gt;swapout.queue_offset&nbsp;by&nbsp;range_offset&lt;/div&gt;&lt;div&gt;-&nbsp;adjust&nbsp;trimSwappable()&nbsp;new_mem_lo&nbsp;by&nbsp;range_offset&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;run&nbsp;through&nbsp;a&nbsp;good&nbsp;amount&nbsp;of&nbsp;testing&nbsp;with&nbsp;multiple&nbsp;clients&nbsp;running&nbsp;same&nbsp;or&nbsp;random&nbsp;range&nbsp;requests&nbsp;and&nbsp;everything&nbsp;seems&nbsp;to&nbsp;be&nbsp;working&nbsp;fine.&nbsp;&nbsp;Also&nbsp;tried&nbsp;testing&nbsp;HTCP&nbsp;with&nbsp;2&nbsp;squids&nbsp;and&nbsp;HTCP&nbsp;messages&nbsp;are&nbsp;correctly&nbsp;answered&nbsp;with&nbsp;HIT/MISS.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;diff&nbsp;can&nbsp;be&nbsp;found&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/compare/master...bkwzwz:206_partial_content_caching&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/compare/master...bkwzwz:206_partial_content_caching&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;Benson&lt;/div&gt;&lt;/span&gt;&lt;div&nbsp;style=&quot;font-family:verdana,&nbsp;helvetica,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
