<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt; &nbsp;I&#39;m&nbsp;moving&nbsp;here&nbsp;the&nbsp;discussion&nbsp;from&nbsp;PR&nbsp;#806&nbsp;about&nbsp;what&nbsp;strategy&nbsp;to&nbsp;have&nbsp;for&nbsp;CI&nbsp;tests,&nbsp;looking&nbsp;for&nbsp;an&nbsp;agreement.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;have&nbsp;3&nbsp;classes&nbsp;of&nbsp;tests&nbsp;ni&nbsp;our CI&nbsp;farm&nbsp;(&lt;a&nbsp;href=&quot;https://build.squid-cache.org/&quot;&gt;https://build.squid-cache.org/&lt;/a&gt;)&lt;/div&gt;&lt;div&gt;-&nbsp;PR&nbsp;staging&nbsp;tests,&nbsp;triggered&nbsp;by&nbsp;commit&nbsp;hooks&nbsp;on&nbsp;GitHub&nbsp;(possibly&nbsp;with&nbsp;human&nbsp;approval)&nbsp;&lt;br&gt; &nbsp; the&nbsp;job&nbsp;is&nbsp;5-pr-auto&nbsp;(misnamed,&nbsp;it&nbsp;tests&nbsp;trunk&nbsp;with&nbsp;the&nbsp;PR&nbsp;applied).&lt;br&gt; &nbsp; To&nbsp;be&nbsp;successful,&nbsp;it&nbsp;needs&nbsp;to&nbsp;successfully&nbsp;compile&nbsp;and&nbsp;unit-test&nbsp;all&nbsp;combinations&nbsp;of&nbsp;clang&nbsp;and&nbsp;gcc&nbsp;on&nbsp;the&nbsp;latest&nbsp;stable&nbsp;version&nbsp;of&nbsp;the&nbsp;most&nbsp;popular&nbsp;linux&nbsp;distros,&nbsp;at&nbsp;this&nbsp;time centos-8,&nbsp;debian-testing,&nbsp;fedora-33, opensuse-leap,&nbsp;ubuntu-focal&lt;/div&gt;&lt;div&gt;-&nbsp;PR&nbsp;build&nbsp;tests&nbsp;run&nbsp;,&nbsp;after&nbsp;a&nbsp;PR&nbsp;is&nbsp;approved,&nbsp;also&nbsp;triggered&nbsp;by&nbsp;GitHub&lt;/div&gt;&lt;div&gt; &nbsp;the&nbsp;job&nbsp;is&nbsp;5-pr-test&lt;/div&gt;&lt;div&gt; &nbsp;To&nbsp;be&nbsp;successful,&nbsp;it&nbsp;needs&nbsp;to&nbsp;compile&nbsp;and&nbsp;unit-test&nbsp;all&nbsp;combinations&nbsp;of&nbsp;clang&nbsp;and&nbsp;gcc&nbsp;on&nbsp;LTS&nbsp;and&nbsp;most&nbsp;recent&nbsp;versions&nbsp;of&nbsp;most&nbsp;popular&nbsp;linux&nbsp;distros,&nbsp;at&nbsp;this&nbsp;time:&nbsp;centos-7,&nbsp;debian-stable, debian-unstable, fedora-32, fedora-34, ubuntu-bionic, ubuntu-hirsute&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;full-scale&nbsp;build&nbsp;tests&nbsp;(jobs:&nbsp;trunk-matrix,&nbsp;trunk-arm32-matrix,&nbsp;trunk-arm64-matrix, trunk-freebsd13-clang-matrix, trunk-openbsd-matrix)&lt;br&gt; &nbsp;these&nbsp;test&nbsp;everything&nbsp;we&nbsp;can&nbsp;test, including&nbsp;bleeding&nbsp;edge&nbsp;distros&nbsp;such&nbsp;as&nbsp;getntoo,&nbsp;rawhide,&nbsp;tumbleweed,&nbsp;and&nbsp;the&nbsp;latest&nbsp;compilers.&nbsp;Failing&nbsp;these&nbsp;will&nbsp;not&nbsp;block&nbsp;a&nbsp;PR&nbsp;from&nbsp;mergeing,&nbsp;but&nbsp;there&nbsp;is&nbsp;an&nbsp;expectation&nbsp;that&nbsp;build&nbsp;regressions&nbsp;will&nbsp;be&nbsp;fixed&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;change&nbsp;in&nbsp;policy&nbsp;since&nbsp;last&nbsp;week&nbsp;is&nbsp;that&nbsp;the&nbsp;PR-blocking&nbsp;builds&nbsp;used&nbsp;to&nbsp;depend&nbsp;on&nbsp;unstabledistros&nbsp;(fedora-rawhide&nbsp;and&nbsp;opensuse-tumbleweed),&nbsp;I&#39;ve&nbsp;removed&nbsp;that&nbsp;today&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;discussion&nbsp;on&nbsp;PR&nbsp;#806&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;policy&nbsp;would&nbsp;allow&nbsp;keeping&nbsp;stable&nbsp;distros&nbsp;uptodate&nbsp;and&nbsp;matching&nbsp;expected&nbsp;user&nbsp;experience,&nbsp;while&nbsp;not&nbsp;introducing&nbsp;instability&nbsp;that&nbsp;would&nbsp;come&nbsp;in&nbsp;from&nbsp;the&nbsp;unstable&nbsp;distros&lt;/div&gt;&lt;div&gt;One&nbsp;distro&nbsp;that&#39;s&nbsp;notably&nbsp;missing&nbsp;is&nbsp;centos-stream,&nbsp;this&nbsp;is&nbsp;due&nbsp;to&nbsp;technical&nbsp;issues&nbsp;with&nbsp;getting&nbsp;a&nbsp;good&nbsp;docker&nbsp;image&nbsp;for&nbsp;it,&nbsp;when&nbsp;available&nbsp;I&#39;ll&nbsp;add&nbsp;it&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Would&nbsp;this&nbsp;work&nbsp;as&nbsp;a&nbsp;general&nbsp;policy?&nbsp;If&nbsp;there&nbsp;is&nbsp;agreement,&nbsp;I&#39;ll&nbsp;support&nbsp;it moving&nbsp;forward&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
