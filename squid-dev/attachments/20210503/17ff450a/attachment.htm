<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;28,&nbsp;2021&nbsp;at&nbsp;11:34&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;4/28/21&nbsp;5:12&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;why&nbsp;this&nbsp;is&nbsp;so&nbsp;controversial&nbsp;still.&nbsp;We&nbsp;have&nbsp;already&nbsp;been&lt;br&gt;<br>
&gt;&nbsp;over&nbsp;these&nbsp;and&nbsp;have&nbsp;a&nbsp;policy&nbsp;from&nbsp;last&nbsp;time:&lt;br&gt;<br>
&lt;br&gt;<br>
Apparently,&nbsp;the&nbsp;recollections&nbsp;of&nbsp;what&nbsp;was&nbsp;agreed&nbsp;upon,&nbsp;if&nbsp;anything,&lt;br&gt;<br>
during&nbsp;that&nbsp;&quot;last&nbsp;time&quot;&nbsp;differ.&nbsp;If&nbsp;you&nbsp;can&nbsp;provide&nbsp;a&nbsp;pointer&nbsp;to&nbsp;that&lt;br&gt;<br>
&quot;last&nbsp;time&quot;&nbsp;agreement,&nbsp;please&nbsp;do&nbsp;so.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Merge&nbsp;workflows&nbsp;are&nbsp;agreed,&nbsp;and&nbsp;not&nbsp;in&nbsp;discussion.&nbsp;Recent&nbsp;discussions&nbsp;have&nbsp;highlighted&nbsp;some&nbsp;issues&nbsp;with&nbsp;what&#39;s&nbsp;around&nbsp;them,&nbsp;and&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;clarify&nbsp;that&nbsp;as&nbsp;well&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&gt;&nbsp;*&nbsp;dev&nbsp;PR&nbsp;submissions&nbsp;use&nbsp;the&nbsp;volatile&nbsp;5-pr-test,&nbsp;after&nbsp;test&nbsp;approval&nbsp;by&lt;br&gt;<br>
&gt;&nbsp;anyone&nbsp;in&nbsp;QA.&nbsp;Check&nbsp;against&nbsp;unstable&nbsp;OS&nbsp;nodes,&nbsp;as&nbsp;many&nbsp;as&nbsp;possible.&lt;br&gt;<br>
&gt;&nbsp;Kinkie&nbsp;adds/removes&nbsp;from&nbsp;that&nbsp;set&nbsp;as&nbsp;upgrades&nbsp;fix&nbsp;or&nbsp;break&nbsp;at&nbsp;CI&nbsp;end&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;things.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;do&nbsp;not&nbsp;know&nbsp;how&nbsp;to&nbsp;interpret&nbsp;the&nbsp;last&nbsp;sentence&nbsp;correctly,&nbsp;but,&nbsp;IMO,&nbsp;we&lt;br&gt;<br>
should&nbsp;not&nbsp;add&nbsp;or&nbsp;change&nbsp;nodes&nbsp;if&nbsp;doing&nbsp;so&nbsp;breaks&nbsp;master&nbsp;tests.&nbsp;AFAICT&lt;br&gt;<br>
from&nbsp;PR&nbsp;806&nbsp;discussion[1],&nbsp;Francesco&nbsp;thinks&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;a&nbsp;big&nbsp;deal&nbsp;to&lt;br&gt;<br>
do&nbsp;so.&nbsp;The&nbsp;current&nbsp;discussion&nbsp;is&nbsp;meant&nbsp;to&nbsp;resolve&nbsp;that&nbsp;disagreement.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let&nbsp;me&nbsp;highlight&nbsp;the&nbsp;underlying&nbsp;principles&nbsp;for&nbsp;my&nbsp;proposal:&nbsp;IMO&nbsp;our&nbsp;objectives&nbsp;are,&nbsp;in&nbsp;descending&nbsp;order&nbsp;of&nbsp;importance&nbsp;(all&nbsp;points&nbsp;should&nbsp;be&nbsp;intended&nbsp;&quot;as&nbsp;possible&nbsp;given&nbsp;our&nbsp;resources&quot;):&lt;/div&gt;&lt;div&gt;1.&nbsp;ensure&nbsp;we&nbsp;ship&nbsp;healthy&nbsp;code&nbsp;to&nbsp;a&nbsp;maximum&nbsp;number&nbsp;of&nbsp;users&lt;/div&gt;&lt;div&gt;2.&nbsp;have&nbsp;minimal&nbsp;friction&nbsp;in&nbsp;the&nbsp;development&nbsp;workflow&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;These&nbsp;objectives&nbsp;have&nbsp;a&nbsp;set&nbsp;of&nbsp;consequences:&lt;/div&gt;&lt;div&gt;-&nbsp;we&nbsp;want&nbsp;our&nbsp;QA&nbsp;environment&nbsp;to&nbsp;match&nbsp;what&nbsp;users&nbsp;will&nbsp;use.&nbsp;For&nbsp;this&nbsp;reason,&nbsp;it&nbsp;is&nbsp;not&nbsp;sensible&nbsp;that&nbsp;we&nbsp;just&nbsp;stop&nbsp;upgrading&nbsp;our&nbsp;QA&nbsp;nodes,&nbsp;or&nbsp;we&nbsp;would&nbsp;target&nbsp;something&nbsp;that&nbsp;doesn&#39;t&nbsp;match&nbsp;our&nbsp;users&#39;&nbsp;experience&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;it&nbsp;makes&nbsp;little&nbsp;sense&nbsp;to&nbsp;target&nbsp;unstable&nbsp;distributions&nbsp;(fedora&nbsp;rawhide,&nbsp;possibly&nbsp;centos&nbsp;stream,&nbsp;gentoo,&nbsp;opensuse&nbsp;tumbleweed,&nbsp;debian&nbsp;unstable)&nbsp;as&nbsp;first-class&nbsp;citizens&nbsp;of&nbsp;the&nbsp;testing&nbsp;workflow,&nbsp;especially&nbsp;on&nbsp;stages&nbsp;that&nbsp;are&nbsp;executed&nbsp;often&nbsp;(pr-test)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;means&nbsp;that:&lt;/div&gt;&lt;div&gt;-&nbsp;I&nbsp;periodically&nbsp;weed&nbsp;out&nbsp;distributions&nbsp;that&nbsp;are&nbsp;no&nbsp;longer&nbsp;supported&nbsp;(e.g.&nbsp;Fedora&nbsp;31,&nbsp;Ubuntu&nbsp;Xenial)&nbsp;and&nbsp;add&nbsp;current&nbsp;distribution&nbsp;(e.g.&nbsp;Ubuntu&nbsp;Hirsute,&nbsp;Fedora&nbsp;34).&lt;/div&gt;&lt;div&gt;I&nbsp;take&nbsp;it&nbsp;on&nbsp;me&nbsp;that&nbsp;when&nbsp;I&nbsp;do&nbsp;that,&nbsp;I&nbsp;need&nbsp;to&nbsp;ensure&nbsp;new&nbsp;compiler&nbsp;features&nbsp;do&nbsp;not&nbsp;block&nbsp;previously&nbsp;undetected&nbsp;behaviours&nbsp;-&nbsp;I&nbsp;am&nbsp;currently&nbsp;failing&nbsp;this,&nbsp;see &lt;a&nbsp;href=&quot;https://build.squid-cache.org/job/trunk-matrix/121/&quot;&nbsp;target=&quot;_blank&quot;&gt;https://build.squid-cache.org/job/trunk-matrix/121/&lt;/a&gt;&nbsp;.&nbsp;I&nbsp;will&nbsp;need&nbsp;to&nbsp;develop&nbsp;a&nbsp;process&nbsp;with&nbsp;a&nbsp;proper&nbsp;staging&nbsp;phase.&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;I&nbsp;believe&nbsp;we&nbsp;should&nbsp;define&nbsp;four&nbsp;tiers&nbsp;of&nbsp;runtime&nbsp;environments,&nbsp;and&nbsp;reflect&nbsp;these&nbsp;in&nbsp;our&nbsp;test&nbsp;setup:&lt;/div&gt;&lt;div&gt; 1.&nbsp;current&nbsp;and&nbsp;stable&nbsp;(e.g.&nbsp;ubuntu-latest-lts).&nbsp;These&nbsp;are&nbsp;not&nbsp;expected&nbsp;to&nbsp;change&nbsp;much&nbsp;over&nbsp;a&nbsp;span&nbsp;of&nbsp;years,&nbsp;and&nbsp;to&nbsp;offer&nbsp;non-breaking&nbsp;updates&nbsp;over&nbsp;their&nbsp;lifetime&lt;/div&gt;&lt;div&gt; 2.&nbsp;current&nbsp;(e.g.&nbsp;fedora&nbsp;34)&lt;/div&gt;&lt;div&gt; 3.&nbsp;bleeding&nbsp;edge:&nbsp;they&nbsp;may&nbsp;introduce&nbsp;breaking&nbsp;changes&nbsp;which&nbsp;it&nbsp;makes&nbsp;sense&nbsp;to&nbsp;follow&nbsp;because&nbsp;they&nbsp;might&nbsp;highlight&nbsp;real&nbsp;issues&nbsp;and&nbsp;because&nbsp;they&nbsp;will&nbsp;eventually&nbsp;trickle&nbsp;down&nbsp;to&nbsp;current&nbsp;and&nbsp;then&nbsp;lts&lt;/div&gt;&lt;div&gt; 4.&nbsp;everything&nbsp;else&nbsp;-&nbsp;this&nbsp;includes&nbsp;freebsd&nbsp;and&nbsp;openbsd&nbsp;(mostly&nbsp;due&nbsp;to&nbsp;the&nbsp;different&nbsp;virtualization&nbsp;tech&nbsp;they&nbsp;use)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;believe&nbsp;we&nbsp;should&nbsp;focus&nbsp;on&nbsp;the&nbsp;first&nbsp;two&nbsp;tiers&nbsp;for&nbsp;our&nbsp;merge&nbsp;workflow,&nbsp;but&nbsp;then&nbsp;expect&nbsp;devs&nbsp;to&nbsp;fix&nbsp;any&nbsp;breakages&nbsp;in&nbsp;the&nbsp;third&nbsp;and&nbsp;fourth&nbsp;tiers&nbsp;if&nbsp;caused&nbsp;by&nbsp;their&nbsp;PR,&nbsp;while&nbsp;I&nbsp;will&nbsp;care&nbsp;for&nbsp;any&nbsp;breakages&nbsp;caused&nbsp;by&nbsp;dist-upgrades&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/pull/806#issuecomment-827937563&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/pull/806#issuecomment-827937563&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;*&nbsp;anubis&nbsp;auto&nbsp;branch&nbsp;tested&nbsp;by&nbsp;curated&nbsp;set&nbsp;of&nbsp;LTS&nbsp;stable&nbsp;nodes&nbsp;only.&lt;br&gt;<br>
&lt;br&gt;<br>
FWIW,&nbsp;the&nbsp;above&nbsp;list&nbsp;and&nbsp;the&nbsp;original&nbsp;list&nbsp;by&nbsp;Francesco&nbsp;appears&nbsp;to&nbsp;focus&lt;br&gt;<br>
on&nbsp;distro&nbsp;stability,&nbsp;popularity,&nbsp;and&nbsp;other&nbsp;factors&nbsp;that&nbsp;are&nbsp;largely&lt;br&gt;<br>
irrelevant&nbsp;to&nbsp;the&nbsp;disagreement&nbsp;at&nbsp;hand.&nbsp;The&nbsp;disagreement&nbsp;is&nbsp;whether&nbsp;it&lt;br&gt;<br>
is&nbsp;OK&nbsp;to&nbsp;break&nbsp;master&nbsp;(and,&nbsp;hence,&nbsp;all&nbsp;PR)&nbsp;tests&nbsp;by&nbsp;changing&nbsp;CI.&nbsp;It&nbsp;does&lt;br&gt;<br>
not&nbsp;matter&nbsp;whether&nbsp;that&nbsp;CI&nbsp;change&nbsp;comes&nbsp;from&nbsp;an&nbsp;upgrade&nbsp;of&nbsp;an&nbsp;&quot;LTS&lt;br&gt;<br>
stable&nbsp;node&quot;,&nbsp;&quot;unstable&nbsp;node&quot;,&nbsp;or&nbsp;some&nbsp;other&nbsp;source&nbsp;IMO.&nbsp;Breaking&lt;br&gt;<br>
changes&nbsp;should&nbsp;not&nbsp;be&nbsp;allowed&nbsp;(in&nbsp;the&nbsp;CI&nbsp;environments&nbsp;under&nbsp;our&lt;br&gt;<br>
control).&nbsp;If&nbsp;they&nbsp;slip&nbsp;through&nbsp;despite&nbsp;careful&nbsp;monitoring&nbsp;for&nbsp;change&lt;br&gt;<br>
effects,&nbsp;the&nbsp;breaking&nbsp;CI&nbsp;changes&nbsp;should&nbsp;be&nbsp;reverted.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;it&nbsp;depends.&lt;/div&gt;&lt;div&gt;Breakages&nbsp;due&nbsp;to&nbsp;changes&nbsp;in&nbsp;nodes&nbsp;(e.g.&nbsp;introducing&nbsp;a&nbsp;new&nbsp;distro&nbsp;version)&nbsp;would&nbsp;be&nbsp;on&nbsp;me&nbsp;and&nbsp;would&nbsp;not&nbsp;stop&nbsp;the&nbsp;merge&nbsp;workflow.&lt;/div&gt;&lt;div&gt;What&nbsp;I&nbsp;would&nbsp;place&nbsp;on&nbsp;each&nbsp;individual&nbsp;dev&nbsp;is&nbsp;the&nbsp;case&nbsp;where&nbsp;a&nbsp;PR&nbsp;breaks&nbsp;something&nbsp;in&nbsp;the&nbsp;trunk-matrix,trunk-arm32-matrix,&nbsp;trunk-arm64-matrix,&nbsp;trunk-openbsd-matrix,&nbsp;trunk-freebsd-matrix&nbsp;builds,&nbsp;even&nbsp;if&nbsp;the&nbsp;5-pr-test&nbsp;and&nbsp;5-pr-auto&nbsp;builds&nbsp;fail&nbsp;to&nbsp;detect&nbsp;the&nbsp;breakage&nbsp;because&nbsp;it&nbsp;happens&nbsp;on&nbsp;a&nbsp;unstable&nbsp;or&nbsp;old&nbsp;platform. &lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;&lt;/div&gt;<br>

</tt>
