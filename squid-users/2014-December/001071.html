<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Existing root certificate not working with SSL Bump (squid 3.3.10)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Existing%20root%20certificate%20not%20working%20with%20SSL%0A%20Bump%20%28squid%203.3.10%29&In-Reply-To=%3C1418246626371-4668670.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001070.html">
   <LINK REL="Next"  HREF="001055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Existing root certificate not working with SSL Bump (squid 3.3.10)</H1>
    <B>HaxNobody</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Existing%20root%20certificate%20not%20working%20with%20SSL%0A%20Bump%20%28squid%203.3.10%29&In-Reply-To=%3C1418246626371-4668670.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Existing root certificate not working with SSL Bump (squid 3.3.10)">nobody at hushmail.com
       </A><BR>
    <I>Wed Dec 10 21:23:46 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001070.html">[squid-users] Existing root certificate not working with SSL Bump (squid 3.3.10)
</A></li>
        <LI>Next message (by thread): <A HREF="001055.html">[squid-users] squid with kerberos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1071">[ date ]</a>
              <a href="thread.html#1071">[ thread ]</a>
              <a href="subject.html#1071">[ subject ]</a>
              <a href="author.html#1071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>squid -v:

Squid Cache: Version 3.3.10
configure options:  '--build=x86_64-linux-gnu' '--prefix=/usr'
'--includedir=${prefix}/include' '--mandir=${prefix}/share/man'
'--infodir=${prefix}/share/info' '--sysconfdir=/etc' '--localstatedir=/var'
'--libexecdir=${prefix}/lib/bloxx-squid3' '--srcdir=.'
'--disable-maintainer-mode' '--disable-dependency-tracking'
'--disable-silent-rules' '--datadir=/usr/share/squid3'
'--sysconfdir=/etc/squid3' '--mandir=/usr/share/man'
'--with-cppunit-basedir=/usr' '--with-logdir=/var/log/squid3'
'--with-swapdir=/var/spool/squid3' '--with-pidfile=/var/run/squid3.pid'
'--enable-dependency-tracking' '--enable-wccp' '--enable-wccp2'
'--disable-icmp' '--disable-htcp' '--disable-ident-lookups' '--disable-poll'
'--enable-ssl' '--enable-epoll' '--enable-delay-pools'
'--enable-default-languages=English' '--enable-err-languages=English'
'--enable-storeio=diskd,ufs,aufs' '--enable-async-io' '--enable-auth'
'--enable-basic-auth-helpers=LDAP,NCSA'
'--enable-digest-auth-helpers=password' '--enable-icap-client'
'--enable-underscores' '--with-maxfd=65536' '--with-default-user=proxy'
'--enable-linux-netfilter' 'build_alias=x86_64-linux-gnu' 'CFLAGS=-g -O2
-fstack-protector --param=ssp-buffer-size=4 -Wformat -Wformat-security -g
-O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Wformat-security
-Werror=format-security -Wall' 'LDFLAGS=-Wl,-Bsymbolic-functions
-Wl,-z,relro' 'CPPFLAGS=-D_FORTIFY_SOURCE=2' 'CXXFLAGS=-g -O2
-fstack-protector --param=ssp-buffer-size=4 -Wformat -Wformat-security -g
-O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Wformat-security
-Werror=format-security -Wall'

apparmor_status:

apparmor module is loaded.
7 profiles are loaded.
7 profiles are in enforce mode.
   /sbin/dhclient
   /usr/bin/freshclam
   /usr/lib/NetworkManager/nm-dhcp-client.action
   /usr/lib/connman/scripts/dhclient-script
   /usr/sbin/clamd
   /usr/sbin/ntpd
   /usr/sbin/tcpdump
0 profiles are in complain mode.
2 processes have profiles defined.
2 processes are in enforce mode.
   /usr/bin/freshclam (1206)
   /usr/sbin/ntpd (1942)
0 processes are in complain mode.
0 processes are unconfined but have a profile defined.

ip addr:

1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state
UP qlen 1000
    link/ether 00:15:5d:28:60:31 brd ff:ff:ff:ff:ff:ff
    inet 192.168.137.138/24 brd 192.168.137.255 scope global eth0
3: gre0: &lt;NOARP&gt; mtu 1476 qdisc noop state DOWN
    link/gre 0.0.0.0 brd 0.0.0.0

Unfortunately, these CA certificates aren't ones that I have created, and I
don't know what OpenSSL config flags might have been used to create them. We
have had them in use with other proxy software without getting any errors or
browser warnings once the root is installed. It's only with this server that
we get errors and warnings, even with the same cert installed in the
browser/on the machine.

I don't really want to share any other specific info (certs, IP addresses)
publicly, but let me know if you need them for testing and I will email them
to you.



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Existing-root-certificate-not-working-with-SSL-Bump-squid-3-3-10-tp4668515p4668670.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Existing-root-certificate-not-working-with-SSL-Bump-squid-3-3-10-tp4668515p4668670.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001070.html">[squid-users] Existing root certificate not working with SSL Bump (squid 3.3.10)
</A></li>
	<LI>Next message (by thread): <A HREF="001055.html">[squid-users] squid with kerberos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1071">[ date ]</a>
              <a href="thread.html#1071">[ thread ]</a>
              <a href="subject.html#1071">[ subject ]</a>
              <a href="author.html#1071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
