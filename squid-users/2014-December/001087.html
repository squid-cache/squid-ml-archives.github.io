<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Maximum Bandwidth a squid server can Handle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Maximum%20Bandwidth%20a%20squid%20server%20can%20Handle&In-Reply-To=%3C548AC011.2060203%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001080.html">
   <LINK REL="Next"  HREF="001091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Maximum Bandwidth a squid server can Handle</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Maximum%20Bandwidth%20a%20squid%20server%20can%20Handle&In-Reply-To=%3C548AC011.2060203%40treenet.co.nz%3E"
       TITLE="[squid-users] Maximum Bandwidth a squid server can Handle">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Dec 12 10:14:41 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001080.html">[squid-users] Maximum Bandwidth a squid server can Handle
</A></li>
        <LI>Next message (by thread): <A HREF="001091.html">[squid-users] Maximum Bandwidth a squid server can Handle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 12/12/2014 4:41 a.m., Siva Prakash wrote:
&gt;<i> Thanks for your valuable input, Eliezer and Amos.
</I>&gt;<i> 
</I>&gt;<i> I have added the rough hardware and squid configuration, please
</I>&gt;<i> guide me out with how much request squid can handle per second,
</I>&gt;<i> 
</I>&gt;<i> CPU Speed - each 3.30GHz( totally 5 processors)
</I>&gt;<i> 
</I>&gt;<i> RAM - 4 GB
</I>&gt;<i> 
</I>&gt;<i> NIC - one 10 GB Ethernet Adapter
</I>&gt;<i> 
</I>&gt;<i> Squid Version - 3.4
</I>&gt;<i> 
</I>&gt;<i> Squid configuration - For authentication, it is integrated with AD
</I>&gt;<i> and lots of ACLs(1000) to block sites.
</I>&gt;<i> 
</I>
On a 3.3GHz CPU core I would expect an upper limit of around 3000 RPS.

The bottlneck will be the AD processing delays. Most of HTTP
performance features and mechanisms have to be disabled in order to
get NTLM or Kerberos authentication to work. That reduces Squid
performance by roughly a factor of 3-4. You would be lucky to get 1000
RPS per core out of the auth systems, though not all requests need the
full auth latency so call it 1500 RPS max.

With 4 CPU for Squid and one for OS, thats 6-12K RPS for the machine.
If we assume your traffic has average object size ~40KB that measures
up at around 250 Mbps combined for 4 Squid worker processes.


These are very, very rough guesstimate *upper* limit numbers. The only
way to be at all sure is to actually run the traffic through the proxy
and find out. Squid has a lot of tuning knobs that can affect the
performance.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUir/jAAoJELJo5wb/XPRjzacIAOK9Dft9QpDtact+iKNWAVv1
KqfmZz1wHNyRc8+1do9WnKuyUvoS5WosDSE4NjCk3woc2sLVky5b0ifPsp0Z+qVx
MjDGx8ka74Yl5KUAimxFhn/ZdkNLDx1CHhFkH8am8mARwFR7yA++t16biB3QvDWT
zMB02DAqmJX0xRvyuqJNFUfqjaufQO3ftzFeJXTI1krCtYJxBU/Y5tQMhH/7cHhe
bOfTOTPUvWRnSNmbtZKrQJae+R87a66qyAj7Rr4S+YbkyvW3d0ORW0AfDV+JWF92
hZtsWu+mVzf6n3uObg6ah+610O0T30b1FdKwfjA5ssvQDxNcShChM1MfW5ctP20=
=q4IZ
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001080.html">[squid-users] Maximum Bandwidth a squid server can Handle
</A></li>
	<LI>Next message (by thread): <A HREF="001091.html">[squid-users] Maximum Bandwidth a squid server can Handle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
