<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Problem with running squid 3.5 on windows 7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20with%20running%20squid%203.5%20on%20windows%207&In-Reply-To=%3CDUB128-W55525A3B23BC7997B586EDED6A0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001149.html">
   <LINK REL="Next"  HREF="001151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Problem with running squid 3.5 on windows 7</H1>
    <B>Eldar Akchurin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20with%20running%20squid%203.5%20on%20windows%207&In-Reply-To=%3CDUB128-W55525A3B23BC7997B586EDED6A0%40phx.gbl%3E"
       TITLE="[squid-users] Problem with running squid 3.5 on windows 7">al.akchurin at hotmail.com
       </A><BR>
    <I>Thu Dec 18 23:32:51 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001149.html">[squid-users] cache_peer configuration
</A></li>
        <LI>Next message (by thread): <A HREF="001151.html">[squid-users] Problem with running squid 3.5 on windows 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


 Hi,
I have cross-compiled squid 3.5 with mingw32-w64 on Ubuntu. The properties are:
c:\squid\sbin&gt;squid -v
Squid Cache: Version 3.5.0.3-20141209-r13687
Service Name: squid
Test build
configure options:  '--host=i686-w64-mingw32' '--prefix=c:/squid' 'CXXFLAGS=-DWI
NVER=0x601 -D_WIN32_WINNT=0x601 -fpermissive' 'CFLAGS=-DWINVER=0x601 -D_WIN32_WI
NNT=0x601 -fpermissive' 'BUILDCXX=g++' 'BUILDCXXFLAGS=-DFOO' '--enable-build-inf
o=Test build' 'host_alias=i686-w64-mingw32' --enable-ltdl-convenience

When I try to run it on windows 7 64, it gives a critical error at start, below is the debug trace:c:\squid\sbin&gt;squid.exe -X -f squid.conf
2014/12/19 00:17:40.101| debug.cc(403) parseOptions: command-line -X overrides:
ALL,7
2014/12/19 00:17:40.101| signal: sig=31 func=sigusr2_handle: (0) No error.
2014/12/19 00:17:40.101| cache_manager.cc(80) registerProfile: registering legac
y mem
2014/12/19 00:17:40.101| cache_manager.cc(114) findAction: CacheManager::findAct
ion: looking for action mem
2014/12/19 00:17:40.101| cache_manager.cc(122) findAction: Action not found.
2014/12/19 00:17:40.101| cache_manager.cc(65) registerProfile: registered profil
e: mem
2014/12/19 00:17:40.101| cache_manager.cc(80) registerProfile: registering legac
y squidaio_counts
2014/12/19 00:17:40.111| cache_manager.cc(114) findAction: CacheManager::findAct
ion: looking for action squidaio_counts
2014/12/19 00:17:40.111| cache_manager.cc(122) findAction: Action not found.
2014/12/19 00:17:40.121| cache_manager.cc(65) registerProfile: registered profil
e: squidaio_counts
2014/12/19 00:17:40.121| rock/RockStoreFileSystem.cc(50) setup: Will use Rock FS2014/12/19 00:17:40.121| Startup: Initializing Authentication Schemes ...
2014/12/19 00:17:40.121| Startup: Initialized Authentication Scheme 'basic'
2014/12/19 00:17:40.121| Startup: Initialized Authentication Scheme 'digest'
2014/12/19 00:17:40.121| Startup: Initialized Authentication Scheme 'negotiate'
2014/12/19 00:17:40.121| Startup: Initialized Authentication Scheme 'ntlm'
2014/12/19 00:17:40.121| Startup: Initialized Authentication.
2014/12/19 00:17:40.151| tools.cc(47) ProbeTransport: Detected IPv6 hybrid or v4
-mapping stack...
2014/12/19 00:17:40.151| tools.cc(61) ProbeTransport: IPv6 transport Enabled
2014/12/19 00:17:40.151| Config.cc(48) registerTokens:  register format tokens f
or 'adapt'
2014/12/19 00:17:40.151| Config.cc(48) registerTokens:  register format tokens f
or 'icap'
2014/12/19 00:17:40.151| cache_cf.cc(570) parseConfigFile:
2014/12/19 00:17:40.151| cf_parser.cci(4089) free_all:
2014/12/19 00:17:40.151| Acl.cc(396) Registered: ACL::Prototype::Registered: inv
oked for type src
2014/12/19 00:17:40.151| Acl.cc(400) Registered: ACL::Prototype::Registered:
yes
2014/12/19 00:17:40.151| Acl.cc(97) FindByName: ACL::FindByName 'all'
2014/12/19 00:17:40.151| Acl.cc(103) FindByName: ACL::FindByName found no match
2014/12/19 00:17:40.151| Acl.cc(238) ParseAclLine: aclParseAclLine: Creating ACL
 'all'
2014/12/19 00:17:40.151| Acl.cc(432) Factory: ACL::Prototype::Factory: cloning a
n object for type 'src'
2014/12/19 00:17:40.151| Ip.cc(233) FactoryParse: aclIpParseIpData: all
2014/12/19 00:17:40.161| Ip.cc(237) FactoryParse: aclIpParseIpData: magic 'all'
found.
2014/12/19 00:17:40.161| Acl.cc(396) Registered: ACL::Prototype::Registered: inv
oked for type url_regex
2014/12/19 00:17:40.161| Acl.cc(400) Registered: ACL::Prototype::Registered:
yes
2014/12/19 00:17:40.161| Acl.cc(97) FindByName: ACL::FindByName 'manager'
2014/12/19 00:17:40.161| Acl.cc(103) FindByName: ACL::FindByName found no match
2014/12/19 00:17:40.161| Acl.cc(238) ParseAclLine: aclParseAclLine: Creating ACL
 'manager'
2014/12/19 00:17:40.161| Acl.cc(432) Factory: ACL::Prototype::Factory: cloning a
n object for type 'url_regex'
2014/12/19 00:17:40.161| RegexData.cc(303) aclParseRegexList: aclParseRegexList:
 new Regex line or file
2014/12/19 00:17:40.161| RegexData.cc(311) aclParseRegexList: aclParseRegexList:
 buffering RE '-i'
2014/12/19 00:17:40.161| RegexData.cc(311) aclParseRegexList: aclParseRegexList:
 buffering RE '^cache_<A HREF="object://">object://</A>'
2014/12/19 00:17:40.161| RegexData.cc(311) aclParseRegexList: aclParseRegexList:
 buffering RE '+i'
2014/12/19 00:17:40.161| RegexData.cc(311) aclParseRegexList: aclParseRegexList:
 buffering RE '^https?://[^/]+/squid-internal-mgr/'
2014/12/19 00:17:40.161| RegexData.cc(194) compileOptimisedREs: compileOptimised
REs: -i
2014/12/19 00:17:40.161| RegexData.cc(218) compileOptimisedREs: compileOptimised
REs: adding RE '^cache_<A HREF="object://">object://</A>'
2014/12/19 00:17:40.161| RegexData.cc(208) compileOptimisedREs: compileOptimised
REs: +i
2014/12/19 00:17:40.161| RegexData.cc(153) compileRE: compileRE: compiled '(^cac
he_<A HREF="object://">object://</A>)' with flags 11
2014/12/19 00:17:40.171| RegexData.cc(218) compileOptimisedREs: compileOptimised
REs: adding RE '^https?://[^/]+/squid-internal-mgr/'
2014/12/19 00:17:40.171| RegexData.cc(153) compileRE: compileRE: compiled '(^htt
ps?://[^/]+/squid-internal-mgr/)' with flags 9
2014/12/19 00:17:40.171| RegexData.cc(261) compileOptimisedREs: compileOptimised
REs: 2 REs are optimised into one RE.
2014/12/19 00:17:40.171| Acl.cc(396) Registered: ACL::Prototype::Registered: inv
oked for type src
2014/12/19 00:17:40.171| Acl.cc(400) Registered: ACL::Prototype::Registered:
yes
2014/12/19 00:17:40.171| Acl.cc(97) FindByName: ACL::FindByName 'localhost'
2014/12/19 00:17:40.171| Acl.cc(103) FindByName: ACL::FindByName found no match
2014/12/19 00:17:40.171| Acl.cc(238) ParseAclLine: aclParseAclLine: Creating ACL
 'localhost'
2014/12/19 00:17:40.171| Acl.cc(432) Factory: ACL::Prototype::Factory: cloning a
n object for type 'src'
2014/12/19 00:17:40.171| Ip.cc(233) FactoryParse: aclIpParseIpData: 127.0.0.1/322014/12/19 00:17:40.171| Ip.cc(341) FactoryParse: aclIpParseIpData: '127.0.0.1/3
2' matched: SCAN3-v4: %[0123456789.]/%[0123456789.]
2014/12/19 00:17:40.171| Address.cc(379) lookupHostIP: Given Non-IP '127.0.0.1':
 No such host is known.
2014/12/19 00:17:40.171| aclIpParseIpData: unknown first address in '127.0.0.1/3
2'
2014/12/19 00:17:40.171| tools.cc(543) leave_suid: leave_suid: PID 4792 called
FATAL: Bungled Default Configuration line 6: acl localhost src 127.0.0.1/32 ::1
Squid Cache (Version 3.5.0.3-20141209-r13687): Terminated abnormally.
CPU Usage: 0.000 seconds = 0.000 user + 0.000 sys
Maximum Resident Size: 0 KB
Page faults with physical i/o: 0
Could you please advice what I'm doing wrong or whether this is a bug? Thank you!-eAdd to Calendar  
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141219/d2377a80/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141219/d2377a80/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001149.html">[squid-users] cache_peer configuration
</A></li>
	<LI>Next message (by thread): <A HREF="001151.html">[squid-users] Problem with running squid 3.5 on windows 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
