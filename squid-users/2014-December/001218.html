<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid unable to start on CentOS 6.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20unable%20to%20start%20on%20CentOS%206.5&In-Reply-To=%3C5498A431.90402%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001215.html">
   <LINK REL="Next"  HREF="001224.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid unable to start on CentOS 6.5</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20unable%20to%20start%20on%20CentOS%206.5&In-Reply-To=%3C5498A431.90402%40treenet.co.nz%3E"
       TITLE="[squid-users] squid unable to start on CentOS 6.5">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Dec 22 23:07:29 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001215.html">[squid-users] squid unable to start on CentOS 6.5
</A></li>
        <LI>Next message (by thread): <A HREF="001224.html">[squid-users] centos 6.x repo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1218">[ date ]</a>
              <a href="thread.html#1218">[ thread ]</a>
              <a href="subject.html#1218">[ subject ]</a>
              <a href="author.html#1218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 23/12/2014 10:35 a.m., Derek Cole wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have a succesful version of squid installed on a CentOS 6.5 box,
</I>&gt;<i> and another Centos65 box where it is not working when I type
</I>&gt;<i> &quot;service squid start&quot; Both boxes have the identical squid
</I>&gt;<i> configuration, and i ensured that they were both running the same
</I>&gt;<i> version, 3.4.8
</I>&gt;<i> 
</I>&gt;<i> From the cache.log file:
</I>&gt;<i> 
</I>&gt;<i> 2014/12/22 16:22:22| Set Current Directory to /var/spool/squid 
</I>&gt;<i> 2014/12/22 16:23:25| Set Current Directory to /var/spool/squid 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| Set Current Directory to
</I>&gt;<i> /var/spool/squid 2014/12/22 16:29:32 kid1| Starting Squid Cache
</I>&gt;<i> version 3.4.8 for x86_64-redhat-linux-gnu... 2014/12/22 16:29:32
</I>&gt;<i> kid1| Process ID 1555 2014/12/22 16:29:32 kid1| Process Roles:
</I>&gt;<i> worker 2014/12/22 16:29:32 kid1| With 1024 file descriptors
</I>&gt;<i> available 2014/12/22 16:29:32 kid1| Initializing IP Cache... 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| DNS Socket created at [::], FD 7 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| DNS Socket created at 0.0.0.0, FD 8 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| Adding nameserver 8.8.8.8 from
</I>&gt;<i> /etc/resolv.conf 2014/12/22 16:29:32 kid1| Logfile: opening log 
</I>&gt;<i> daemon:/var/log/squid/access.log 2014/12/22 16:29:32 kid1| Logfile
</I>&gt;<i> Daemon: opening log /var/log/squid/access.log 2014/12/22 16:29:32
</I>&gt;<i> kid1| Local cache digest enabled; rebuild/rewrite every 3600/3600
</I>&gt;<i> sec 2014/12/22 16:29:32 kid1| Store logging disabled 2014/12/22
</I>&gt;<i> 16:29:32 kid1| Swap maxSize 0 + 262144 KB, estimated 20164 objects 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| Target number of buckets: 1008 2014/12/22
</I>&gt;<i> 16:29:32 kid1| Using 8192 Store buckets 2014/12/22 16:29:32 kid1|
</I>&gt;<i> Max Mem  size: 262144 KB 2014/12/22 16:29:32 kid1| Max Swap size: 0
</I>&gt;<i> KB 2014/12/22 16:29:32 kid1| Using Least Load store dir selection 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| Set Current Directory to
</I>&gt;<i> /var/spool/squid 2014/12/22 16:29:32 kid1| Finished loading MIME
</I>&gt;<i> types and icons. 2014/12/22 16:29:32 kid1| HTCP Disabled. 
</I>&gt;<i> 2014/12/22 16:29:32 kid1| sendto FD 12: (1) Operation not
</I>&gt;<i> permitted 2014/12/22 16:29:32 kid1| ipcCreate: CHILD: hello write
</I>&gt;<i> test failed
</I>&gt;<i> 
</I>
Broken helper program or something like apparmor/selinux blocking I/O
sockets use.

&gt;<i> from squid.out:
</I>&gt;<i> 
</I>&gt;<i> squid: ERROR: No running copy 2014/12/22 16:29:32| WARNING:
</I>&gt;<i> Netmasks are deprecated. Please use CIDR masks instead. 2014/12/22
</I>&gt;<i> 16:29:32| WARNING: IPv4 netmasks are particularly nasty when used
</I>&gt;<i> to compare IPv6 to IPv4 ranges. 2014/12/22 16:29:32| WARNING: For
</I>&gt;<i> now we will assume you meant to write /32 2014/12/22 16:29:32|
</I>&gt;<i> WARNING: (A) '0.0.0.0' is a subnetwork of (B) '::/0' 2014/12/22
</I>&gt;<i> 16:29:32| WARNING: because of this '0.0.0.0' is ignored to keep 
</I>&gt;<i> splay tree searching predictable 2014/12/22 16:29:32| WARNING: You
</I>&gt;<i> should probably remove '0.0.0.0' from the ACL named 'all'
</I>
Those &quot;WARNING&quot; are about Squid-2 configuration settings being used in
a Squid-3 config file. They are not stopping Squid from starting.

The last few are about your config file containing an &quot;acl all &quot;
definition. In Squid-3 that is a built-in ACL that covers more than
just IPv4. The rest of the warnings may be side effects of that
re-definition.

Please run &quot;squid -k parse&quot;, it will show you the config line which is
being processed when the issue(s) are found.


Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUmKQxAAoJELJo5wb/XPRjH3QH/1Ruur9o4bi2uk1ABhTajQGV
H1ud1lFRYexUHAbAhV2aHQozZuHaXrx73OPObg7wRPltZqwoPSbtQuq/TmM61uDW
oOXlYrcKoFPtmNOn+UJMz/kUoKn9//vdWH3nDBGLtmE1oY++3sfKcHsHYsj6jn22
X/2LctH2Z5+qRJ8pREXfY02VINvDyctaABNDgNr651UpTX//fGaEoMi9ou+whtot
TqhtfFPIywni1XBstxW8bobTRjJqqBRsXBexukHyzXRVBZ/Av2tl+ABgWL+R0ci7
3f3BFCKbaHh5BDThV05VR2FIkDxy3mADm8l87TO1UWxhHFQdOK2d9TXkj13DKv4=
=sEGT
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001215.html">[squid-users] squid unable to start on CentOS 6.5
</A></li>
	<LI>Next message (by thread): <A HREF="001224.html">[squid-users] centos 6.x repo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1218">[ date ]</a>
              <a href="thread.html#1218">[ thread ]</a>
              <a href="subject.html#1218">[ subject ]</a>
              <a href="author.html#1218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
