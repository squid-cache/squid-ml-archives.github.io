<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] https bug slow browsing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20https%20bug%20slow%20browsing&In-Reply-To=%3C1419381774083-4668830.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001231.html">
   <LINK REL="Next"  HREF="001230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] https bug slow browsing</H1>
    <B>HackXBack</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20https%20bug%20slow%20browsing&In-Reply-To=%3C1419381774083-4668830.post%40n4.nabble.com%3E"
       TITLE="[squid-users] https bug slow browsing">hack.back at hotmail.com
       </A><BR>
    <I>Wed Dec 24 00:42:54 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001231.html">[squid-users] centos 6.x repo
</A></li>
        <LI>Next message (by thread): <A HREF="001230.html">[squid-users] https bug slow browsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1228">[ date ]</a>
              <a href="thread.html#1228">[ thread ]</a>
              <a href="subject.html#1228">[ subject ]</a>
              <a href="author.html#1228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hello amos,
I used 3.4.x for http cache
when used https then https sites open slow
I upgrade from 3.4.x to 3.5.0.4 then squid crash and always restart
automatically, and this is bug.
now I format the system and install squid 3.5.0.4 in fresh system knowing
that i lost 4 terra data on my HDD's.
then i face the same problem at 3.4.x version that https sites is openning
slowly and its like the packets drop and stop loading . !!
my cache work in intercept mode with mikrotik
and i see many errors like this

2014/12/23 19:32:43 kid1| Error negotiating SSL connection on FD 193:
Success (0)
2014/12/23 19:32:43 kid1| Error negotiating SSL connection on FD 193:
Success (0)
2014/12/23 19:32:44 kid1| Error negotiating SSL connection on FD 193:
Success (0)
2014/12/23 19:32:47 kid1| hold write on SSL connection on FD 196
2014/12/23 19:32:50 kid1| hold write on SSL connection on FD 93
2014/12/23 19:33:10 kid1| Error negotiating SSL on FD 317:
error:1409F07F:SSL routines:SSL3_WRITE_PENDING:bad write retry (1/-1/0)
2014/12/23 19:33:10 kid1| Error negotiating SSL on FD 317:
error:1409F07F:SSL routines:SSL3_WRITE_PENDING:bad write retry (1/-1/0)


what I discover that when packets drop and the page stop loading one of this
tow error appear in cache.log

either 
2014/12/23 19:32:44 kid1| Error negotiating SSL connection on FD 193:
Success (0)
or
2014/12/23 19:36:08 kid1| Error negotiating SSL on FD 95: error:1409F07F:SSL
routines:SSL3_WRITE_PENDING:bad write retry (1/-1/0)

and that is in squid 3.5.0.4

but in version 3.4.x
the error when packet dropped is

Error negotiating SSL connection on FD 36:
error:00000000:lib(0):func(0):reason(0)


so now we have 2 bug
1st one : when upgrading from 3.4.x to 3.5.0.4 squid crash and always
restart automatically
2nd one : browsing on https slow = packet dropped and stop loading until
refresh in 3.4.x and 3.5.0.4

Good Luck Guys and wish this bugs will solved as soon as possible and thanks
for you response and interest



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/https-bug-slow-browsing-tp4668830.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/https-bug-slow-browsing-tp4668830.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001231.html">[squid-users] centos 6.x repo
</A></li>
	<LI>Next message (by thread): <A HREF="001230.html">[squid-users] https bug slow browsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1228">[ date ]</a>
              <a href="thread.html#1228">[ thread ]</a>
              <a href="subject.html#1228">[ subject ]</a>
              <a href="author.html#1228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
