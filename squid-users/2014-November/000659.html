<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] true sizeof squid cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20true%20sizeof%20squid%20cache&In-Reply-To=%3C545CC9CB.5040107%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000647.html">
   <LINK REL="Next"  HREF="000642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] true sizeof squid cache</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20true%20sizeof%20squid%20cache&In-Reply-To=%3C545CC9CB.5040107%40ngtech.co.il%3E"
       TITLE="[squid-users] true sizeof squid cache">eliezer at ngtech.co.il
       </A><BR>
    <I>Fri Nov  7 13:31:55 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000647.html">[squid-users] true sizeof squid cache
</A></li>
        <LI>Next message (by thread): <A HREF="000642.html">[squid-users] High CPU-Usage with squid 3.4.9 (and/or 3.4.4)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#659">[ date ]</a>
              <a href="thread.html#659">[ thread ]</a>
              <a href="subject.html#659">[ subject ]</a>
              <a href="author.html#659">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Riccardo,

2000-3000 computers is partially relevant.
It means that the proxy machine will probably need some more ram then a
tiny machine and it's a CACHE and not filtering machine.
Since it's 2-3k clients you will use SMP to make sure that the load will
be distributed on top of couple CPUs.
And since it's more then one CPU you will want to use rock cache_dir.
UFS cache_dir doesn't support SMP yet and there is a 3.5 beta version of
&quot;large rock&quot;.
It will limit the cache size but remember that it's cache and not a storage.

I do not remember the numbers by heart but there is a limit on how much
a machine can handle(Amos might remember it).
The main bottle neck is the DISK.
The spinning disk can be used with maximum 300 IOPS (on a very fast one).

When implementing a proxy you will need to first make a small assessment
on ram only and get some load statistics.
It has been my suggestion for a very long time now and some do not like it.
Squid as a software with no cache can take one load and with ram cache
can take another.
There is a complexity for it and it depends on the nature of the
environment.

For an enterprise class network like yours it won't take too long to
collect the logs and statistics to make sure that the proxy match your
needs.

All The Bests,
Eliezer

On 11/06/2014 09:58 AM, Riccardo Castellani wrote:
&gt;<i> I'm installing new machine as Squid server and I need to understand what 
</I>&gt;<i> criteria to estimate the 'cache size', I'm not speaking about extra space for 
</I>&gt;<i> swap/temporary files or fragmentation but I'm saying about the cache of size 
</I>&gt;<i> that is 3rd cache_dir argument.
</I>&gt;<i> Server will receive requests from about 2000-
</I>&gt;<i> 3000 computers.
</I>&gt;<i> I'd like interesting to find documents where shows suggestions 
</I>&gt;<i> to assign right size.
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000647.html">[squid-users] true sizeof squid cache
</A></li>
	<LI>Next message (by thread): <A HREF="000642.html">[squid-users] High CPU-Usage with squid 3.4.9 (and/or 3.4.4)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#659">[ date ]</a>
              <a href="thread.html#659">[ thread ]</a>
              <a href="subject.html#659">[ subject ]</a>
              <a href="author.html#659">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
