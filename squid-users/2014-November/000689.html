<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] sslbump working with 3.4.9 but not in intercept mode?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslbump%20working%20with%203.4.9%20but%20not%20in%20intercept%0A%20mode%3F&In-Reply-To=%3C5460A0C4.4010000%40trimble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000685.html">
   <LINK REL="Next"  HREF="000695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] sslbump working with 3.4.9 but not in intercept mode?</H1>
    <B>Jason Haar</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslbump%20working%20with%203.4.9%20but%20not%20in%20intercept%0A%20mode%3F&In-Reply-To=%3C5460A0C4.4010000%40trimble.com%3E"
       TITLE="[squid-users] sslbump working with 3.4.9 but not in intercept mode?">Jason_Haar at trimble.com
       </A><BR>
    <I>Mon Nov 10 11:25:56 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000685.html">[squid-users] sslbump working with 3.4.9 but not in intercept mode?
</A></li>
        <LI>Next message (by thread): <A HREF="000695.html">[squid-users] sslbump working with 3.4.9 but not in intercept mode?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/11/14 00:06, Amos Jeffries wrote:
&gt;<i> Grr, strdup bites again. Backtrace please if you can.
</I>I'm not a developer, so here's my attempt, let me know if I need to do
something else

(gdb) run
Starting program: /usr/sbin/squid -N
[Thread debugging using libthread_db enabled]
Detaching after fork from child process 29759.
Detaching after fork from child process 29760.
Detaching after fork from child process 29761.
Detaching after fork from child process 29762.
Detaching after fork from child process 29763.
Detaching after fork from child process 29764.
Detaching after fork from child process 29765.
Detaching after fork from child process 29766.
Detaching after fork from child process 29767.
Detaching after fork from child process 29768.
Detaching after fork from child process 29769.
Detaching after fork from child process 29770.
Detaching after fork from child process 29771.

Program received signal SIGABRT, Aborted.
0x0000003f40032625 in raise () from /lib64/libc.so.6
(gdb) bt
#0  0x0000003f40032625 in raise () from /lib64/libc.so.6
#1  0x0000003f40033e05 in abort () from /lib64/libc.so.6
#2  0x000000000059cbbb in fatal_dump(char const*) ()
#3  0x000000000082a6bb in xstrdup ()
#4  0x00000000006b528c in ACLUrlPathStrategy::match(ACLData&lt;char
const*&gt;*&amp;, ACLFilledChecklist*, ACLFlags&amp;) ()
#5  0x00000000006f9478 in ACL::matches(ACLChecklist*) const ()
#6  0x00000000006fbbbb in ACLChecklist::matchChild(Acl::InnerNode
const*, __gnu_cxx::__normal_iterator&lt;ACL* const*, std::vector&lt;ACL*,
std::allocator&lt;ACL*&gt; &gt; &gt;, ACL const*) ()
#7  0x00000000006faeb3 in Acl::AndNode::doMatch(ACLChecklist*,
__gnu_cxx::__normal_iterator&lt;ACL* const*, std::vector&lt;ACL*,
std::allocator&lt;ACL*&gt; &gt; &gt;) const ()
#8  0x00000000006f9478 in ACL::matches(ACLChecklist*) const ()
#9  0x00000000006fbbbb in ACLChecklist::matchChild(Acl::InnerNode
const*, __gnu_cxx::__normal_iterator&lt;ACL* const*, std::vector&lt;ACL*,
std::allocator&lt;ACL*&gt; &gt; &gt;, ACL const*) ()
#10 0x00000000006fae2e in Acl::OrNode::doMatch(ACLChecklist*,
__gnu_cxx::__normal_iterator&lt;ACL* const*, std::vector&lt;ACL*,
std::allocator&lt;ACL*&gt; &gt; &gt;) const ()
#11 0x00000000006f9478 in ACL::matches(ACLChecklist*) const ()
#12 0x00000000006fc474 in ACLChecklist::matchAndFinish() ()
#13 0x00000000006fce90 in ACLChecklist::nonBlockingCheck(void
(*)(allow_t, void*), void*) ()
#14 0x0000000000635f1a in ?? ()
#15 0x00000000005bc2b8 in FwdState::Start(RefCount&lt;Comm::Connection&gt;
const&amp;, StoreEntry*, HttpRequest*, RefCount&lt;AccessLogEntry&gt; const&amp;) ()
#16 0x00000000005bc706 in FwdState::fwdStart(RefCount&lt;Comm::Connection&gt;
const&amp;, StoreEntry*, HttpRequest*) ()
#17 0x000000000053c572 in ConnStateData::switchToHttps(HttpRequest*,
Ssl::BumpMode) ()
#18 0x000000000053cde9 in ?? ()
#19 0x000000000054860f in ?? ()
#20 0x00000000006fc63b in ACLChecklist::checkCallback(allow_t) ()
#21 0x000000000054df1a in ?? ()
#22 0x00000000006ffa46 in AsyncCall::make() ()
#23 0x0000000000702b02 in AsyncCallQueue::fireNext() ()
#24 0x0000000000702e50 in AsyncCallQueue::fire() ()
#25 0x0000000000593cf4 in EventLoop::runOnce() ()
#26 0x0000000000593e48 in EventLoop::run() ()
#27 0x0000000000613e48 in SquidMain(int, char**) ()
#28 0x00000000006147d8 in main ()
(gdb) quit
A debugging session is active.

    Inferior 1 [process 29756] will be killed.

Quit anyway? (y or n) y


-- 
Cheers

Jason Haar
Corporate Information Security Manager, Trimble Navigation Ltd.
Phone: +1 408 481 8171
PGP Fingerprint: 7A2E 0407 C9A6 CAF6 2B9F 8422 C063 5EBB FE1D 66D1



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000685.html">[squid-users] sslbump working with 3.4.9 but not in intercept mode?
</A></li>
	<LI>Next message (by thread): <A HREF="000695.html">[squid-users] sslbump working with 3.4.9 but not in intercept mode?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
