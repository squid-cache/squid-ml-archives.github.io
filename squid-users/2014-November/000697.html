<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid3%20config%20on%20Ubuntu%20remains%20even%20after%0A%20uninstall%20and%20ignore%20the%20new%20config&In-Reply-To=%3C5460BE83.9090100%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000688.html">
   <LINK REL="Next"  HREF="000699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid3%20config%20on%20Ubuntu%20remains%20even%20after%0A%20uninstall%20and%20ignore%20the%20new%20config&In-Reply-To=%3C5460BE83.9090100%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Nov 10 13:32:51 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000688.html">[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config
</A></li>
        <LI>Next message (by thread): <A HREF="000699.html">[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 11/11/2014 12:22 a.m., Efe wrote:
&gt;<i> OS: Ubuntu 14.04 LTS
</I>&gt;<i> 
</I>&gt;<i> After i installed the squid3 package for the 1st time, i've add a
</I>&gt;<i> list of domains to be blocked in squid.conf:
</I>&gt;<i> 
</I>&gt;<i> acl myrule dstdom_regex &quot;/etc/squid3/domainblock.txt&quot; http_access
</I>&gt;<i> deny myrule
</I>&gt;<i> 
</I>&gt;<i> where domainblock.txt is
</I>&gt;<i> 
</I>&gt;<i> someaddress.com blockthis.net
</I>
For domain names like this you should be using &quot;dstdomain&quot; ACL type
instead of a regex.

&gt;<i> 
</I>&gt;<i> Which worked fine and redirect them to localhost running on my
</I>&gt;<i> LAMP
</I>
?? there is nothing about a &quot;redirect&quot; in that squid.conf snippet you
showed.

Can you please display the whole squid.conf. Without all the
documentation #comment or empty lines though.


&gt;<i> 
</I>&gt;<i> Index of /
</I>&gt;<i> 
</I>&gt;<i> Name   Last modified   Size   Description
</I>&gt;<i> 
</I>&gt;<i> html   2014/04/10 ------------------------------ 
</I>&gt;<i> ---------------------- Apache/2.4.7 (Ubuntu) Server at
</I>&gt;<i> google-analytics.com Port 80
</I>&gt;<i> 
</I>&gt;<i> Later i purged it by:
</I>&gt;<i> 
</I>&gt;<i> sudo apt-get remove --purge squid3*
</I>&gt;<i> 
</I>&gt;<i> and removed every file&amp;folder the command &quot;locate squid&quot; gave,
</I>&gt;<i> including the &quot;/etc/squid3&quot; folder then reboot. But i still couldnt
</I>&gt;<i> access the websites in &quot;domainblock.txt&quot; even though it doesnt
</I>&gt;<i> exist anymore.
</I>
&quot;it&quot; being squid I assume?

There is almost always other configuration you had to add in the
network or browser causing the browser to use the proxy. This will
have probably broken your test result.

If you did actually not have any of that, then you just proved that
Squid was not involved with the problem.

&gt;<i> 
</I>&gt;<i> Then i re-installed with sudo apt-get install squid3 this time with
</I>&gt;<i> the config to allow those websites in the list:
</I>&gt;<i> 
</I>&gt;<i> acl myrule dstdom_regex &quot;/etc/squid3/domainblock.txt&quot; http_access
</I>&gt;<i> allow myrule
</I>&gt;<i> 
</I>&gt;<i> But still no luck. I guess some configurations remain even after
</I>&gt;<i> removing the squid in the system. So what should i do now?
</I>
What do you want to achieve exactly?

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUYL6CAAoJELJo5wb/XPRjF/sIANt7v8/BpcZ4taHWpRZyXbul
mdr6Cq7rfNb8VRiR41GYnEi0qDuSsSb31ciCpVAVoaeIBF48FufleqQ+QH3kn8M3
ETvNuUHis2Wd8gNXKd3pWtqBx+AbVyPzgKpJebBma0KeOw1eE3Jwevsqbjh/yMBq
KLNfDH0CgL63wYkbNquP3AjDkQggv/w/YvD9bFQY1JfMsaTb64CEdP6NdtEbgnhi
PBo9p9/T1HBkfBf2kg+uElR+TMur1OoHaztxx8g+iiqfBHSocaXhWRCtayhqg35X
8DCmysOYNjY9FyQHZAKFaSeb4WyD02On/KOchH3/5ZHCA1P4HG9zF8V4KYmlgfc=
=iena
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000688.html">[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config
</A></li>
	<LI>Next message (by thread): <A HREF="000699.html">[squid-users] Squid3 config on Ubuntu remains even after uninstall and ignore the new config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
