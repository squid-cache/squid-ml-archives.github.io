<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Troubles compiling latest Squid 3.5 on Windows 7 with	Cygwin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Troubles%20compiling%20latest%20Squid%203.5%20on%20Windows%207%20with%0A%09Cygwin&In-Reply-To=%3C60be352dd06947188dae0f509e5b54a2%40AM3PR04MB450.eurprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000753.html">
   <LINK REL="Next"  HREF="000738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Troubles compiling latest Squid 3.5 on Windows 7 with	Cygwin</H1>
    <B>Rafael Akchurin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Troubles%20compiling%20latest%20Squid%203.5%20on%20Windows%207%20with%0A%09Cygwin&In-Reply-To=%3C60be352dd06947188dae0f509e5b54a2%40AM3PR04MB450.eurprd04.prod.outlook.com%3E"
       TITLE="[squid-users] Troubles compiling latest Squid 3.5 on Windows 7 with	Cygwin">rafael.akchurin at diladele.com
       </A><BR>
    <I>Wed Nov 12 09:36:06 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000753.html">[squid-users] connecting directly to ssl-bump intercept port causes runaway CPU
</A></li>
        <LI>Next message (by thread): <A HREF="000738.html">[squid-users] Troubles compiling latest Squid 3.5 on Windows 7 with Cygwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#736">[ date ]</a>
              <a href="thread.html#736">[ thread ]</a>
              <a href="subject.html#736">[ subject ]</a>
              <a href="author.html#736">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I am struggling to compile Squid 3.5 on windows 7 x64 using latest Cygwin. 

During configuration (./configure --disable-wccp --disable-wccpv2)
The following error occurs:

checking for ldap.h... (cached) yes
checking winldap.h usability... no
checking winldap.h presence... yes
configure: WARNING: winldap.h: present but cannot be compiled
configure: WARNING: winldap.h: check for missing prerequisite headers?
configure: WARNING: winldap.h: see the Autoconf documentation
configure: WARNING: winldap.h: section &quot;Present But Cannot Be Compiled&quot;
configure: WARNING: winldap.h: proceeding with the compiler's result
configure: WARNING: ## ------------------------------------------- ##
configure: WARNING: ## Report this to <A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A> ##
configure: WARNING: ## ------------------------------------------- ##
checking for winldap.h... no
checking w32api/windows.h usability... yes

Similar with mswsock:

checking mswsock.h usability... no
checking mswsock.h presence... yes
configure: WARNING: mswsock.h: present but cannot be compiled
configure: WARNING: mswsock.h: check for missing prerequisite headers?
configure: WARNING: mswsock.h: see the Autoconf documentation
configure: WARNING: mswsock.h: section &quot;Present But Cannot Be Compiled&quot;
configure: WARNING: mswsock.h: proceeding with the compiler's result
configure: WARNING: ## ------------------------------------------- ##
configure: WARNING: ## Report this to <A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A> ##
configure: WARNING: ## ------------------------------------------- ##
checking for mswsock.h... no

If&#160;I run &quot;make&quot; after that it fails at start:

Making all in compat
make[1]: Entering directory '/usr/src/squid-3.5.0.1/compat'
/bin/sh ../libtool&#160; --tag=CXX&#160;&#160; --mode=compile g++ -DHAVE_CONFIG_H&#160;&#160; -I.. -I../include -I../lib -I../src -I../include&#160;&#160;&#160;&#160; -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -march=native -std=c++11 -MT assert.lo -MD -MP -MF .deps/assert.Tpo -c -o assert.lo assert.cc
libtool: compile:&#160; g++ -DHAVE_CONFIG_H -I.. -I../include -I../lib -I../src -I../include -Wall -Wpointer-arith -Wwrite-strings -Wcomments -Wshadow -Werror -pipe -D_REENTRANT -g -O2 -march=native -std=c++11 -MT assert.lo -MD -MP -MF .deps/assert.Tpo -c assert.cc&#160; -DDLL_EXPORT -DPIC -o .libs/assert.o
In file included from /usr/include/w32api/winsock2.h:56:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from /usr/include/w32api/ws2spi.h:13,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/os/mswindows.h:306,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/compat.h:73,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:
/usr/include/w32api/psdk_inc/_fd_types.h:100:2: error: #warning &quot;fd_set and associated macros have been defined in sys/types.&#160;&#160;&#160;&#160;&#160; This can cause runtime problems with W32 sockets&quot; [-Werror=cpp]
&#160;#warning &quot;fd_set and associated macros have been defined in sys/types.&#160; \
&#160; ^
In file included from ../compat/compat.h:73:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:
../compat/os/mswindows.h:417:0: error: &quot;FOPEN&quot; redefined [-Werror]
&#160;#define FOPEN&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0x01&#160;&#160;&#160; /* file handle open */
&#160;^
In file included from /usr/include/sys/fcntl.h:3:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from /usr/include/fcntl.h:14,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/os/mswindows.h:41,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/compat.h:73,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:
/usr/include/sys/_default_fcntl.h:98:0: note: this is the location of the previous definition
&#160;#define FOPEN&#160; _FOPEN
&#160;^
In file included from /usr/include/w32api/ws2spi.h:13:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/os/mswindows.h:306,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/compat.h:73,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:
/usr/include/w32api/winsock2.h:995:123: error: declaration of C function 'int select(int, _types_fd_set*, _types_fd_set*, _types_fd_set*, PTIMEVAL)' conflicts with
&#160;&#160; WINSOCK_API_LINKAGE int WSAAPI select(int nfds,fd_set *readfds,fd_set *writefds,fd_set *exceptfds,const PTIMEVAL timeout);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ^
In file included from ../compat/types.h:41:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../compat/compat.h:59,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:
/usr/include/sys/select.h:31:5: error: previous declaration 'int select(int, _types_fd_set*, _types_fd_set*, _types_fd_set*, timeval*)' here
&#160;int select __P ((int __n, fd_set *__readfds, fd_set *__writefds,
&#160;&#160;&#160;&#160; ^
In file included from ../compat/compat.h:73:0,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from ../include/squid.h:43,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; from assert.cc:9:

Is this a known issue or am I doing something wrong?
Please note the same commands compile Squid 3.3.8 (from Cygwin) without any problems.

Thank you very much!
Rafael Akchurin
Diladele B.V.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000753.html">[squid-users] connecting directly to ssl-bump intercept port causes runaway CPU
</A></li>
	<LI>Next message (by thread): <A HREF="000738.html">[squid-users] Troubles compiling latest Squid 3.5 on Windows 7 with Cygwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#736">[ date ]</a>
              <a href="thread.html#736">[ thread ]</a>
              <a href="subject.html#736">[ subject ]</a>
              <a href="author.html#736">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
