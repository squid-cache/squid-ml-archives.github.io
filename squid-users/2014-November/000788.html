<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid going through another forward proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20going%20through%20another%20forward%20proxy&In-Reply-To=%3CCAEhCwUx45drX2rSxL_F7v609a6Qcp3oSPX%3DXqk8uNxH19VnjQg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000786.html">
   <LINK REL="Next"  HREF="000790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid going through another forward proxy</H1>
    <B>Hector Chan</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20going%20through%20another%20forward%20proxy&In-Reply-To=%3CCAEhCwUx45drX2rSxL_F7v609a6Qcp3oSPX%3DXqk8uNxH19VnjQg%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid going through another forward proxy">hectorchan at gmail.com
       </A><BR>
    <I>Thu Nov 13 21:36:09 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000786.html">[squid-users] Squid going through another forward proxy
</A></li>
        <LI>Next message (by thread): <A HREF="000790.html">[squid-users] Squid going through another forward proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Basically, what I am looking for is whether it's possible to set up the
following:

Client (A) --&gt; Squid as Reverse Proxy (B) --&gt; Squid as Forward Proxy (C)
--&gt; Origin Servers Depending on Client Request URI (D)

Depending on the client request from (A), (B) could route the request to
different origin servers (multiple cache_peer lines).  The request has to
go through (C) to reach (D), as (C) is the only way out of the network to
the internet.  Moreover, the logic of figuring out where to go to lies in
(C).

I know it's kind of a weird setup, but, unfortunately, we do not have
access or control of (A) and (C).

Thanks again,
Hector


On Thu, Nov 13, 2014 at 2:49 PM, Antony Stone &lt;
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:

&gt;<i> On Thursday 13 November 2014 at 19:50:36 (EU time), Hector Chan wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anyone have any idea how to setup squid (reverse proxy) behind a
</I>&gt;<i> &gt; forward proxy ?
</I>&gt;<i>
</I>&gt;<i> 1. Set up Squid as a forward proxy on machine A for the clients.
</I>&gt;<i>
</I>&gt;<i> 2. Set up Squid as a reverse proxy on machine B for the server/s.
</I>&gt;<i>
</I>&gt;<i> What am I missing here?
</I>&gt;<i>
</I>&gt;<i> The fact that you have two Squids doing different things on different
</I>&gt;<i> machines
</I>&gt;<i> simply means you set them up totally independently of each other.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Antony.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> &quot;The problem with television is that the people must sit and keep their
</I>&gt;<i> eyes
</I>&gt;<i> glued on a screen; the average American family hasn't time for it.&quot;
</I>&gt;<i>
</I>&gt;<i>  - New York Times, following a demonstration at the 1939 World's Fair.
</I>&gt;<i>
</I>&gt;<i>                                                    Please reply to the
</I>&gt;<i> list;
</I>&gt;<i>                                                          please *don't* CC
</I>&gt;<i> me.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141113/2f366cda/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141113/2f366cda/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000786.html">[squid-users] Squid going through another forward proxy
</A></li>
	<LI>Next message (by thread): <A HREF="000790.html">[squid-users] Squid going through another forward proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
