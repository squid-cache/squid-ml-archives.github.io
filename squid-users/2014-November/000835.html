<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Removing cache credentials
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Removing%20cache%20credentials&In-Reply-To=%3C20141117042630.GA62737%40admin.sibptus.tomsk.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000811.html">
   <LINK REL="Next"  HREF="000836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Removing cache credentials</H1>
    <B>Victor Sudakov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Removing%20cache%20credentials&In-Reply-To=%3C20141117042630.GA62737%40admin.sibptus.tomsk.ru%3E"
       TITLE="[squid-users] Removing cache credentials">sudakov at sibptus.tomsk.ru
       </A><BR>
    <I>Mon Nov 17 04:26:30 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000811.html">[squid-users] Removing cache credentials
</A></li>
        <LI>Next message (by thread): <A HREF="000836.html">[squid-users] Removing cache credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#835">[ date ]</a>
              <a href="thread.html#835">[ thread ]</a>
              <a href="subject.html#835">[ subject ]</a>
              <a href="author.html#835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Amos Jeffries wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; If we speak about Kerberos authentication. On the very first
</I>&gt;<i> &gt; request, the browser receives a &quot;407 Proxy Authentication Required&quot;
</I>&gt;<i> &gt; reply and learns that it is expected to provide credentials. For a
</I>&gt;<i> &gt; certain amount of time, the browser knows that it should send the
</I>&gt;<i> &gt; credentials with every request without waiting for an 407 reply.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; How long is this amount of time? Is it like forever?  Is there ever
</I>&gt;<i> &gt; a limit after which the browser will try again to send a request
</I>&gt;<i> &gt; without credentials? Maybe after a browser restart or what?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Negotiate/Kerberos (and NTLM) do not authenticate the request. They
</I>&gt;<i> abuse HTTP to authenticate the TCP connection underneath HTTP. So the
</I>&gt;<i> credentials must be re-used for the entire lifetime of that TCP
</I>&gt;<i> connection. Changing credentials means tearing down that whole TCP
</I>&gt;<i> connection.
</I>
As far as I understood you, there would be a &quot;407 Proxy Authentication
Required&quot; and &quot;Proxy-Authorization: Negotiate&quot; pair in each TCP
connection between browser and proxy.

If the connection is used for several requests, only the first HTTP
request in the connection would contain authentication info.  But each
new TCP connection is re-authenticated by HTTP. Is this correct?

- -- 
Victor Sudakov,  VAS4-RIPE, VAS47-RIPN
sip:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">sudakov at sibptus.tomsk.ru</A>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJUaXj2AAoJEA2k8lmbXsY05EgH/ji2X1LaocbTZ+mnL1A/ejBY
8sToM1NwBvzmk+lO1Ezrq91DuZOKTUSGiCv/973Dg0aNrCRpQZ1XzC+jsJ6F/sjo
eaBdmF5X74IG7cVgozfZJFXPjA1Ld0h1boTCsqibnoz85IUB4cJwU1rVvVsFzLEZ
O8DcpPf7KDbFdFJLH6Niu7rZ0vLoNi4hqNRSAmmdBXb7ck8wEM7o0G/YC3IwzhLW
c+8D5rfGVYxAwYN0H7hIo/VGMsD7gTZVAYjWhWEORczDyEFtnT7NprDa3RMVEQXX
LwQfaY7g0KUqpoCKqYIqCyXrmMh26nK84z2k/UCfbUUYttLD/ae7NPnyOI36DhE=
=XBm/
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000811.html">[squid-users] Removing cache credentials
</A></li>
	<LI>Next message (by thread): <A HREF="000836.html">[squid-users] Removing cache credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#835">[ date ]</a>
              <a href="thread.html#835">[ thread ]</a>
              <a href="subject.html#835">[ subject ]</a>
              <a href="author.html#835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
