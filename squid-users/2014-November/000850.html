<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] using request_header_replace option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20using%20request_header_replace%20option&In-Reply-To=%3C546A8763.1000700%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000849.html">
   <LINK REL="Next"  HREF="000851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] using request_header_replace option</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20using%20request_header_replace%20option&In-Reply-To=%3C546A8763.1000700%40treenet.co.nz%3E"
       TITLE="[squid-users] using request_header_replace option">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Nov 17 23:40:19 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000849.html">[squid-users] using request_header_replace option
</A></li>
        <LI>Next message (by thread): <A HREF="000851.html">[squid-users] using request_header_replace option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 18/11/2014 11:34 a.m., Fernandez-Touzon, Carlos E (CTR) wrote:
&gt;<i> I have two instances of Squid running:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -        Squid v3.3.13 on Fedora 20
</I>&gt;<i> 
</I>&gt;<i> -        Squid v3.1.10-29 on RHEL 6.6
</I>&gt;<i> 
</I>&gt;<i> Both instances are configured with the following options:
</I>&gt;<i> 
</I>&gt;<i> request_header_access User-Agent deny all request_header_replace
</I>&gt;<i> User-Agent someagent; (squid proxy header rewrite DID-IT)
</I>&gt;<i> 
</I>&gt;<i> The Fedora instance running v3.3.13 works just fine and rewrites
</I>&gt;<i> headers like a champ.
</I>&gt;<i> 
</I>&gt;<i> The RHEL instance running v3.1.10 fails when I start squid with the
</I>&gt;<i> following message:
</I>&gt;<i> 
</I>&gt;<i> 2014/11/17 17:28:18| cache_cf.cc(364) parseOneConfigFile:
</I>&gt;<i> squid.conf:61 unrecognized: 'request_header_replace'
</I>&gt;<i> 
</I>&gt;<i> I suspected that it was because I am missing the
</I>&gt;<i> -enable-http-violations option.  However, neither instance displays
</I>&gt;<i> --enable-http-violations or -disable-http-violations when I run
</I>&gt;<i> &quot;squid -v&quot;.  Moreover, the squid.spec files for both RPMs did not
</I>&gt;<i> include any reference to -enable-http-violation or
</I>&gt;<i> -disable-http-violation.  Is &quot;-enable-http-violations&quot; the default
</I>&gt;<i> config option?
</I>&gt;<i> 
</I>&gt;<i> Thoughts?
</I>&gt;<i> 
</I>
The directive was added in 3.1.12.

Please upgrade. 3.1 is very old and buggy. Including a handful of
security CVE, though I think the -29 indicates they have patched those
out.

Details on how to upgrade beyond the outdated RHEL (and Fedora)
packages can be found here:
  <A HREF="http://wiki.squid-cache.org/KnowledgeBase/RedHat">http://wiki.squid-cache.org/KnowledgeBase/RedHat</A>

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUaodiAAoJELJo5wb/XPRjWKEH/1+u6rt2pdmp2McXbPorGDRE
xZ0tNfUxku2eqY4OsACbjgGGpAeYmAb5lsrV2jYi+ev3zE5MC34736GYhJPEZ6Ma
SRSuqfHXMyRfr/ih2oprLnxxw2Fnyif2Q4bFH0AHVKT/oAF/7qksEYC8Tx3JnIXj
hFanxEQVh69SSARzXN/4y7uREIsvQ7kmEQZ9/Rqx3IxJx9PZfJpJxPqluoffEzkT
wn3FmDNIELE66OUceySHifQXYeoVrZfCpXi4VucWmzvzwvdQCUDIw+VjMapu9tXv
l6i/3GefHdIX+KfOaRwKPsiGWVzevwK0/LBJJt6YMyk8robVeObGhiFK+mpMjrs=
=RfjJ
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000849.html">[squid-users] using request_header_replace option
</A></li>
	<LI>Next message (by thread): <A HREF="000851.html">[squid-users] using request_header_replace option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
