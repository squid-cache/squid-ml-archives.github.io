<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Centralized Squid - design and implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centralized%20Squid%20-%20design%20and%20implementation&In-Reply-To=%3CCAHsHsyv6%3DOynWA%3D%2Bxb1o%3DqEHTrZSB%3DXP%2Bg6NDsWWuR8AV7bW6g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000845.html">
   <LINK REL="Next"  HREF="000853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Centralized Squid - design and implementation</H1>
    <B>Carlos Defoe</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centralized%20Squid%20-%20design%20and%20implementation&In-Reply-To=%3CCAHsHsyv6%3DOynWA%3D%2Bxb1o%3DqEHTrZSB%3DXP%2Bg6NDsWWuR8AV7bW6g%40mail.gmail.com%3E"
       TITLE="[squid-users] Centralized Squid - design and implementation">carlosdefoe at gmail.com
       </A><BR>
    <I>Tue Nov 18 03:07:01 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000845.html">[squid-users] Centralized Squid - design and implementation
</A></li>
        <LI>Next message (by thread): <A HREF="000853.html">[squid-users] Centralized Squid - design and implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#852">[ date ]</a>
              <a href="thread.html#852">[ thread ]</a>
              <a href="subject.html#852">[ subject ]</a>
              <a href="author.html#852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't meant to use wpad as a load balancer. I would not do it, wpad
and pac are not designed for doing that, although it is (roughly)
possible to do it.

The load balancer device, if there is one, have one and only name, eg,
&quot;proxy.your.domain&quot;. All the clients must point to that very same
name, and let the balancer do its job, that is, balancing between
nodes with a chosen algorithm, as a proxy itself.

With such a device in the scenario, wpad is only useful to send the
node names as a failover, for the (very very rare) case in which the
balancer is offline.

As for my scenario, I also use wpad to configure some exceptions, some
clients that will use a completely different proxy, etc...

But, in fact, when using wpad, you have a new point of failure, that
is, the webserver that is serving the pac (wpad.dat) file. As a fair
solution, every proxy node can have a light webserver serve the pac
file and let the DNS balance the requests for the name
&quot;<A HREF="http://wpad.your.domain/wpad.dat">http://wpad.your.domain/wpad.dat</A>&quot;.

On Mon, Nov 17, 2014 at 6:36 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i>
</I>&gt;<i> On 18/11/2014 12:39 a.m., Carlos Defoe wrote:
</I>&gt;&gt;<i> Use a load balancer. HAproxy will do the trick, if you don't want
</I>&gt;&gt;<i> to spend some money on a professional load balancer like F5
</I>&gt;&gt;<i> big-ip.
</I>&gt;<i>
</I>&gt;<i> Or even, taddah ... Squid!
</I>&gt;<i>
</I>&gt;<i> see cache_peer for the many load balancing algorithms available.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Don't drop the use of wpad. You can send the balancer name (eg.
</I>&gt;&gt;<i> proxy.your.domain) as a default for every client, and send the
</I>&gt;&gt;<i> names of the proxy nodes as a failover.
</I>&gt;<i>
</I>&gt;<i> But, but, WPAD *is* the first layer of load balancing.
</I>&gt;<i> Kinkie already posted the way to do clean loadbalancing with failover
</I>&gt;<i> between proxies. Without any need for a bottlneck at a balancer server
</I>&gt;<i> or IP.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v2.0.22 (MingW32)
</I>&gt;<i>
</I>&gt;<i> iQEcBAEBAgAGBQJUampfAAoJELJo5wb/XPRjqmoH/1Uofs/AnILu8GePdCHBLu3R
</I>&gt;<i> 7O6dXpjcI8GTLtjXw12YWVQG5tAW6SBu3S6iLiwLLIxfcHxok/bcn9n+AnD5aBxh
</I>&gt;<i> deALwoYavG+iG28uj6DA65eqg02mOgps0HNbLOIk5kZS6G50mKRIoXVIS1JaqESb
</I>&gt;<i> 797L9VhDLdckgotn8XGEAXOsPT6ZptgSoHvs/6X1YOx3iV51criH8Nt4O1UsiSY9
</I>&gt;<i> R/YjhfPbtDuK5UG0lU8w1BN1NaJBH2ZQzWu318kUFkGQ6a1eXFIEVTUZG+7APVrd
</I>&gt;<i> KOYbgGv99HaTo13a77BYb2Yr5wviVjG41B5rF6Y3LpRCAvOJ9GTb5WDzKPrgeJo=
</I>&gt;<i> =/QNG
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000845.html">[squid-users] Centralized Squid - design and implementation
</A></li>
	<LI>Next message (by thread): <A HREF="000853.html">[squid-users] Centralized Squid - design and implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#852">[ date ]</a>
              <a href="thread.html#852">[ thread ]</a>
              <a href="subject.html#852">[ subject ]</a>
              <a href="author.html#852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
