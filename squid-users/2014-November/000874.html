<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Unable to get username in logs for access denied(HTTP 407)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20get%20username%20in%20logs%20for%20access%0A%20denied%28HTTP%20407%29&In-Reply-To=%3C546C8287.5090809%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000872.html">
   <LINK REL="Next"  HREF="000904.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Unable to get username in logs for access denied(HTTP 407)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20get%20username%20in%20logs%20for%20access%0A%20denied%28HTTP%20407%29&In-Reply-To=%3C546C8287.5090809%40treenet.co.nz%3E"
       TITLE="[squid-users] Unable to get username in logs for access denied(HTTP 407)">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov 19 11:44:07 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000872.html">[squid-users] Unable to get username in logs for access	denied(HTTP 407)
</A></li>
        <LI>Next message (by thread): <A HREF="000904.html">[squid-users] Unable to get username in logs for access	denied(HTTP 403)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#874">[ date ]</a>
              <a href="thread.html#874">[ thread ]</a>
              <a href="subject.html#874">[ subject ]</a>
              <a href="author.html#874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 19/11/2014 11:19 p.m., santosh wrote:
&gt;<i> I have got fresh set of logs my username is spai and i 'm already 
</I>&gt;<i> authenticated and one of the site www.flipkart.com is blocked and i
</I>&gt;<i> accessed it for testing purpose ,but the user name is still not
</I>&gt;<i> shown .
</I>
No login was necessary to deny those requests. So there is no need for
Squid to waste time decoding the HTTP headers where the credentials
were stored.

If you need the credentials to always be logged then move the blocked
sites denial down below the http_access lines which require
authentication. Note that this will slow your proxy down as it does
all the extra credentials checking work.


Something like so:
  http_access deny !auth
  http_access deny blockedSites
  ...

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUbIKHAAoJELJo5wb/XPRjmj4H/0c3vhjMxaTtYNFmBjO6VVjK
/UQpLf2RMkK0YeEx4E+014vKftv5XUGIQhAEplJU0vb5DasHgml/jiO4hh5Gzgw5
PcnZLYWlpMaxmXqb6AqKedS5PfHJnEGRszIMzRuwhwz6F7XM5XgGsAexbtyeblnI
0ishLx+01OU7xh1Bh3pQfbRuwnvEpCpIJWLtaMyP96i3UP3uD+s0TOcfIeOH4irZ
ZJCHePyOkvFaBYVqd4Og4rJBmTuh4+dzZQTRHgH8DO+4+ERW4388NKg4aUFDL35L
WMCn/5n2X1BJhy+Ywswh+ECkM1xZp+EChl0QP5pYmU/mJnh637M8oAHWgf1r8Uw=
=CJlV
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000872.html">[squid-users] Unable to get username in logs for access	denied(HTTP 407)
</A></li>
	<LI>Next message (by thread): <A HREF="000904.html">[squid-users] Unable to get username in logs for access	denied(HTTP 403)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#874">[ date ]</a>
              <a href="thread.html#874">[ thread ]</a>
              <a href="subject.html#874">[ subject ]</a>
              <a href="author.html#874">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
