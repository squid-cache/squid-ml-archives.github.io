<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Centralized Squid - design and implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centralized%20Squid%20-%20design%20and%20implementation&In-Reply-To=%3CCAARxGtgjC2TPMw5%2BU7LK%3D4MydPnnaXn9mM26TBWca7vs-%2BxX_A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000873.html">
   <LINK REL="Next"  HREF="000876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Centralized Squid - design and implementation</H1>
    <B>brendan kearney</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centralized%20Squid%20-%20design%20and%20implementation&In-Reply-To=%3CCAARxGtgjC2TPMw5%2BU7LK%3D4MydPnnaXn9mM26TBWca7vs-%2BxX_A%40mail.gmail.com%3E"
       TITLE="[squid-users] Centralized Squid - design and implementation">bpk678 at gmail.com
       </A><BR>
    <I>Wed Nov 19 13:11:44 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000873.html">[squid-users] Centralized Squid - design and implementation
</A></li>
        <LI>Next message (by thread): <A HREF="000876.html">[squid-users] Centralized Squid - design and implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#875">[ date ]</a>
              <a href="thread.html#875">[ thread ]</a>
              <a href="subject.html#875">[ subject ]</a>
              <a href="author.html#875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes and it seems java is even more sensitive.  I had an array member
defined on a line that was not terminated with a semicolon and browsers did
not throw errors, but java did.  Pactester did not catch this.  Missing
curly braces and I think quotes are caught.

Also of note, you have to set the content type header for a pac file or
else you run into weird issues.  I found that browsers are forgiving and
will execute the script and take its output if the header is not set.
Flash does not do this.  It might call for the script but does not use it
if the Content-Type header is not set to
&quot;application/x-ns-proxy-autoconfig&quot;.

GoToMeeting has also pissed me off.  The client parses the script and takes
any value found in it, before executing the script and taking the output of
the execution. This has the result of finding inappropriate proxies to use,
when you are in a corporate environment and have proxies dedicated to
client access or other functions that should not be leveraged in all
cases.  I got their technical team on a call because we have a large citrix
install base (both products have the same parent company) and complained to
no avail.  I had to write a doc on how to correct the client config for
anyone needing to use GoTo... products.
On Nov 19, 2014 6:18 AM, &quot;Kinkie&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">gkinkie at gmail.com</A>&gt; wrote:

&gt;<i> One word of caution: pactester uses the Firefox JavaScript engine, which
</I>&gt;<i> is more forgiving than MSIE's. So while it is a very useful tool, it may
</I>&gt;<i> let some errors slip through.
</I>&gt;<i> On Nov 18, 2014 9:45 PM, &quot;Jason Haar&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Jason_Haar at trimble.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 19/11/14 01:39, Brendan Kearney wrote:
</I>&gt;&gt;<i> &gt; i would suggest that if you use a pac/wpad solution, you look into
</I>&gt;&gt;<i> &gt; pactester, which is a google summer of code project that executes pac
</I>&gt;&gt;<i> &gt; files and provides output indicating what actions would be returned to
</I>&gt;&gt;<i> &gt; the browser, given a URL.
</I>&gt;&gt;<i> couldn't agree more. We have it built into our QA to run before we ever
</I>&gt;&gt;<i> roll out any change to our WPAD php script (a bug in there means
</I>&gt;&gt;<i> everyone loses Internet access - so we have to be careful).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Auto-generating a PAC script per client allows us to change behaviour
</I>&gt;&gt;<i> based on User-Agent, client IP, proxy and destination - and allows us to
</I>&gt;&gt;<i> control what web services should be DIRECT and what should be proxied.
</I>&gt;&gt;<i> There is no other way of achieving those outcomes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oh yes, and now that both Chrome and Firefox support proxies over HTTPS,
</I>&gt;&gt;<i> I'm starting to ponder putting up some form of proxy on the Internet for
</I>&gt;&gt;<i> our staff to use (authenticated of course!) - WPAD makes that something
</I>&gt;&gt;<i> we could implement with no client changes - pretty cool :-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jason Haar
</I>&gt;&gt;<i> Corporate Information Security Manager, Trimble Navigation Ltd.
</I>&gt;&gt;<i> Phone: +1 408 481 8171
</I>&gt;&gt;<i> PGP Fingerprint: 7A2E 0407 C9A6 CAF6 2B9F 8422 C063 5EBB FE1D 66D1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141119/1f958a1c/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141119/1f958a1c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000873.html">[squid-users] Centralized Squid - design and implementation
</A></li>
	<LI>Next message (by thread): <A HREF="000876.html">[squid-users] Centralized Squid - design and implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#875">[ date ]</a>
              <a href="thread.html#875">[ thread ]</a>
              <a href="subject.html#875">[ subject ]</a>
              <a href="author.html#875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
