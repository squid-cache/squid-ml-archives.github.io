<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Pull/Fetch%20high%20level%20URL%20requests%20from%20Squid%0A%20access.log%20without%20getting%20all%20the%20object%20hits&In-Reply-To=%3CCAL4Goxy7ztn22s5CrdO-h1hofizQ_%3DVT-dRF224uX-j7FdX22A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000889.html">
   <LINK REL="Next"  HREF="000892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits</H1>
    <B>Swapneel Patnekar</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Pull/Fetch%20high%20level%20URL%20requests%20from%20Squid%0A%20access.log%20without%20getting%20all%20the%20object%20hits&In-Reply-To=%3CCAL4Goxy7ztn22s5CrdO-h1hofizQ_%3DVT-dRF224uX-j7FdX22A%40mail.gmail.com%3E"
       TITLE="[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits">swapneel at patnekar.com
       </A><BR>
    <I>Thu Nov 20 14:31:14 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000889.html">[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits
</A></li>
        <LI>Next message (by thread): <A HREF="000892.html">[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#890">[ date ]</a>
              <a href="thread.html#890">[ thread ]</a>
              <a href="subject.html#890">[ subject ]</a>
              <a href="author.html#890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Amos,

Thank you for your input.

The reason I had this requirement is to build a analytics app on top of
Squid which will only show typed URL's so that the end user has the precise
information w.r.t evaluating web access.

Currently, since everything gets logged into the access.log, there is no
way to differentiate between typed/bookmark accessed URL's and URL's which
are references for the main URL i.e CDN URL's for js, css etc.

Sorry if I am pressing here, but do you have any suggestions/alternate
solutions for how I could achieve this ?

On Thu, Nov 20, 2014 at 7:37 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i>
</I>&gt;<i> On 21/11/2014 1:18 a.m., Swapneel Patnekar wrote:
</I>&gt;<i> &gt; Hi there,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I need to pull/fetch high level URL requests from the Squid
</I>&gt;<i> &gt; access.log i.e URL requests which were typed by the user in the
</I>&gt;<i> &gt; browser.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For example, if the user had typed facebook.com, I want to
</I>&gt;<i> &gt; pull/fetch only facebook.com from the access.log and not
</I>&gt;<i> &gt; <A HREF="https://fbstatic-a.akamaihd.net/rsrc.php/v2/yV/r/aXwjx2fqSf4.css">https://fbstatic-a.akamaihd.net/rsrc.php/v2/yV/r/aXwjx2fqSf4.css</A>
</I>&gt;<i> &gt; etc which was not typed by the user in the browser but was
</I>&gt;<i> &gt; referenced by facebook.com for the CSS.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can this be done ?
</I>&gt;<i>
</I>&gt;<i> No it can't.
</I>&gt;<i>
</I>&gt;<i> There is absolutely no way for Squid to identify what the user (if one
</I>&gt;<i> even exists) has done with their keyboard (or shortcuts, or bookmarks,
</I>&gt;<i> or search bar or...) that started the HTTP to happen.
</I>&gt;<i>
</I>&gt;<i> You can log the &quot;Referer&quot; header contents, requests with no Referer
</I>&gt;<i> value are usually &quot;first&quot; requests. But that header is not always sent
</I>&gt;<i> or is sent when users change &quot;page&quot;. So the accuracy is very low for
</I>&gt;<i> what you are asking to get out of it.
</I>&gt;<i>
</I>&gt;<i> FWIW: &quot;facebook.com&quot; is a rarely visited page. Most of the users
</I>&gt;<i> search for it by company name and click the results, or use history
</I>&gt;<i> and bookmarks, even the emailed links FB sends out. All of which dump
</I>&gt;<i> them straight into the middle of some sub-section of the FB site.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v2.0.22 (MingW32)
</I>&gt;<i>
</I>&gt;<i> iQEcBAEBAgAGBQJUbfWhAAoJELJo5wb/XPRjaeQH/0uWTCtDq9DNvNNXUVo103g4
</I>&gt;<i> nFAvaT5kcaEJxRNOCTMerLwSAIrqyhT+SpqnmbSJURskwmW8vZRodIAnQPXPfiCj
</I>&gt;<i> QuAazwDywVq0n7SyAtyIzyK0I6qlVtuKD+3VHcCJ30AXMv4RUv3ne8WenVLYggOq
</I>&gt;<i> KGfTAS5rXUQvnAKpSz+jRGY4ZS7ZJ7dxrrPZwUxsBqXiNAwJpesZVScnxMtiXdsN
</I>&gt;<i> Ko+/CMUDA4i35pAsc/l/GtGQozPtlsMtiXm7V5Vg+p9r01gIIaUWA6DuatBuB6RR
</I>&gt;<i> QqMsMWKm66HpeD8Kw/MMx81yKOXpEZYRpuGxoxs9CU/rrAd1uugjUR/3D1QLcgs=
</I>&gt;<i> =7n1w
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141120/7142d20c/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141120/7142d20c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000889.html">[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits
</A></li>
	<LI>Next message (by thread): <A HREF="000892.html">[squid-users] Pull/Fetch high level URL requests from Squid access.log without getting all the object hits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#890">[ date ]</a>
              <a href="thread.html#890">[ thread ]</a>
              <a href="subject.html#890">[ subject ]</a>
              <a href="author.html#890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
