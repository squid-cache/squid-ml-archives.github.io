<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Persistent Connections - only one side
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Persistent%20Connections%20-%20only%20one%20side&In-Reply-To=%3C5474C99D.7000904%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000950.html">
   <LINK REL="Next"  HREF="000923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Persistent Connections - only one side</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Persistent%20Connections%20-%20only%20one%20side&In-Reply-To=%3C5474C99D.7000904%40ngtech.co.il%3E"
       TITLE="[squid-users] Persistent Connections - only one side">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue Nov 25 18:25:33 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000950.html">[squid-users] Persistent Connections - only one side
</A></li>
        <LI>Next message (by thread): <A HREF="000923.html">[squid-users] Existing root certificate not working with SSL Bump	(squid 3.3.10)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#925">[ date ]</a>
              <a href="thread.html#925">[ thread ]</a>
              <a href="subject.html#925">[ subject ]</a>
              <a href="author.html#925">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hey Mathew,

The defaults of squid should do what you are asking for as long as we
are talking about the same src domain and IP.
There are settings to make the persistent connections more effective
but I do not remember them by heart.
The start point would be here:
<A HREF="http://www.squid-cache.org/Doc/config/server_persistent_connections/">http://www.squid-cache.org/Doc/config/server_persistent_connections/</A>

and everything else should at the official docs at:
<A HREF="http://www.squid-cache.org/Doc/config/">http://www.squid-cache.org/Doc/config/</A>

Notice that persistent connections are not the answer to everything
because these have limitation and constrains.
In many networks a overhead even a dozen and more TCP connection would
be more effective then persistent connections.
Any case should be tested first to understand the nature of the demand
and to decide if it's the best path.
The client doesn't always right...but he is still the client so..

Eliezer

On 11/25/2014 04:23 PM, Mathew Marulla wrote:
&gt;<i> Need to know if this is even possible&#8230;
</I>&gt;<i> 
</I>&gt;<i> We have a PHP app that uses CURL to send requests/get responses
</I>&gt;<i> from servers of various business partners.  The connections to
</I>&gt;<i> these partner servers are not currently persistent.  Setting
</I>&gt;<i> keep-alive headers would be ineffective because the connections are
</I>&gt;<i> necessarily closed when the PHP code exists, at the end of each
</I>&gt;<i> transaction.  Something like this:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://marulla.com/files/proxy1.png">http://marulla.com/files/proxy1.png</A>
</I>&gt;<i> 
</I>&gt;<i> Now, we have a potential partner that requires persistent, re-used
</I>&gt;<i> connections.  Changing the system architecture so that the PHP code
</I>&gt;<i> remains running is not an option.  I was wondering if a proxy
</I>&gt;<i> server, running on the same server as the PHP code, could keep the
</I>&gt;<i> outside half persistent, even after the inside half closes.  Like
</I>&gt;<i> this:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://marulla.com/files/proxy2.png">http://marulla.com/files/proxy2.png</A>
</I>&gt;<i> 
</I>&gt;<i> Is this possible?  Is there a config option that might achieve
</I>&gt;<i> this?
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJUdMmdAAoJENxnfXtQ8ZQUbJYH/007hNd9AHopz/y0XVvV8sls
lJdPMStt7+IY1HVzix8g7zDuplVIvT+6/dRG4eMddzTK/XtJ5C7l+aPCY8LQsLo0
qLRFhdFYREEyNXU7UwGQHLZNxJ+bPT/G8mSwX5sUkJYU8wO6XALq4bhJCO+mnvBh
TLB867Ty8TU2Sixlc4CZdVaFdoiv9G91zgUPNRJy0N192vXZOccjiZ/3eXjWpcbi
n6ZNydsAhlKS6jz0ta9qDxiA57qbbBzFg2+wESHf9dMo5G6vPeXQ7pVUklfYZlxc
tf0p0DHeRdHNT4UeH+X1cwd9/304hryCZaVF8Kk1vYR7sCvi4trpVAQczqABbIY=
=Qc/b
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000950.html">[squid-users] Persistent Connections - only one side
</A></li>
	<LI>Next message (by thread): <A HREF="000923.html">[squid-users] Existing root certificate not working with SSL Bump	(squid 3.3.10)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#925">[ date ]</a>
              <a href="thread.html#925">[ thread ]</a>
              <a href="subject.html#925">[ subject ]</a>
              <a href="author.html#925">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
