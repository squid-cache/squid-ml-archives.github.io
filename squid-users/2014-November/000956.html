<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] using squid 3.head for large rock ,	but i still have mean object size is 32 !!!!!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20using%20squid%203.head%20for%20large%20rock%20%2C%0A%09but%20i%20still%20have%20mean%20object%20size%20is%2032%20%21%21%21%21%21&In-Reply-To=%3C001401d00074%24e1299730%24a37cc590%24%40netstream.ps%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000805.html">
   <LINK REL="Next"  HREF="000806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] using squid 3.head for large rock ,	but i still have mean object size is 32 !!!!!</H1>
    <B>Ahmed Allzaeem</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20using%20squid%203.head%20for%20large%20rock%20%2C%0A%09but%20i%20still%20have%20mean%20object%20size%20is%2032%20%21%21%21%21%21&In-Reply-To=%3C001401d00074%24e1299730%24a37cc590%24%40netstream.ps%3E"
       TITLE="[squid-users] using squid 3.head for large rock ,	but i still have mean object size is 32 !!!!!">ahmed.zaeem at netstream.ps
       </A><BR>
    <I>Fri Nov 14 15:39:08 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000805.html">[squid-users] using squid 3.head for large rock ,	but i still have mean object size is 32 !!!!!
</A></li>
        <LI>Next message (by thread): <A HREF="000806.html">[squid-users] using squid 3.head for large rock , but i still have mean object size is 32 !!!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#956">[ date ]</a>
              <a href="thread.html#956">[ thread ]</a>
              <a href="subject.html#956">[ subject ]</a>
              <a href="author.html#956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

More info ...

 

 

sample_start_time = 1415972068.352725 (Fri, 14 Nov 2014 13:34:28 GMT)

sample_end_time = 1415972368.441291 (Fri, 14 Nov 2014 13:39:28 GMT)

client_http.requests = 624.049293/sec

client_http.hits = 52.839655/sec

client_http.errors = 8.046615/sec

client_http.kbytes_in = 481.063567/sec

client_http.kbytes_out = 42844.925855/sec

client_http.all_median_svc_time = 0.154761 seconds

client_http.miss_median_svc_time = 0.181403 seconds

client_http.nm_median_svc_time = 0.000000 seconds

client_http.nh_median_svc_time = 0.094540 seconds

client_http.hit_median_svc_time = 0.000304 seconds

server.all.requests = 556.379734/sec

server.all.errors = 0.000000/sec

server.all.kbytes_in = 43258.073243/sec

server.all.kbytes_out = 494.860147/sec

server.http.requests = 556.379734/sec

server.http.errors = 0.000000/sec

server.http.kbytes_in = 43258.073243/sec

server.http.kbytes_out = 494.860147/sec

server.ftp.requests = 0.000000/sec

server.ftp.errors = 0.000000/sec

server.ftp.kbytes_in = 0.000000/sec

server.ftp.kbytes_out = 0.000000/sec

server.other.requests = 0.000000/sec

server.other.errors = 0.000000/sec

server.other.kbytes_in = 0.000000/sec

server.other.kbytes_out = 0.000000/sec

icp.pkts_sent = 0.000000/sec

icp.pkts_recv = 0.000000/sec

icp.queries_sent = 0.000000/sec

icp.replies_sent = 0.000000/sec

icp.queries_recv = 0.000000/sec

icp.replies_recv = 0.000000/sec

icp.replies_queued = 0.000000/sec

icp.query_timeouts = 0.000000/sec

icp.kbytes_sent = 0.000000/sec

icp.kbytes_recv = 0.000000/sec

icp.q_kbytes_sent = 0.000000/sec

icp.r_kbytes_sent = 0.000000/sec

icp.q_kbytes_recv = 0.000000/sec

icp.r_kbytes_recv = 0.000000/sec

icp.query_median_svc_time = 0.000000 seconds

icp.reply_median_svc_time = 0.000000 seconds

dns.median_svc_time = 0.000000 seconds

unlink.requests = 0.000000/sec

page_faults = 0.000000/sec

select_loops = 20058.805484/sec

select_fds = 22262.722249/sec

average_select_fd_period = 0.000000/fd

median_select_fds = 0.000000

swap.outs = 48.353008/sec

swap.ins = 111.065932/sec

swap.files_cleaned = 0.000000/sec

aborted_requests = 38.496416/sec

syscalls.disk.opens = 109.649271/sec

syscalls.disk.closes = 213.635244/sec

syscalls.disk.reads = 133.399114/sec

syscalls.disk.writes = 910.827293/sec

syscalls.disk.seeks = 0.000000/sec

syscalls.disk.unlinks = 3.456643/sec

syscalls.sock.accepts = 684.672141/sec

syscalls.sock.sockets = 241.881767/sec

syscalls.sock.connects = 241.695102/sec

syscalls.sock.binds = 241.671769/sec

syscalls.sock.closes = 542.913161/sec

syscalls.sock.reads = 7940.295208/sec

syscalls.sock.writes = 13137.561543/sec

syscalls.sock.recvfroms = 318.947897/sec

syscalls.sock.sendtos = 180.778809/sec

cpu_time = 524.449272 seconds

wall_time = 1800.012392 seconds

cpu_usage = 29.135870%

 

  _____  

 

 

 

From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On
Behalf Of Ahmed Allzaeem
Sent: Friday, November 14, 2014 5:36 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] using squid 3.head for large rock , but i still have
mean object size is 32 !!!!!

 

 

Hi ,

 

I migrated from squid 3.4.3 so that I wish to have a chance to save bw.

 

Im using : Squid Cache: Version 3.HEAD-20141105-r13687

 

 

With options below :

 

Service Name: squid

configure options:  '--prefix=/usr' '--includedir=/include'
'--mandir=/share/man' '--infodir=/share/info' '--sysconfdir=/etc'
'--enable-cachemgr-hostname=drx' '--localstatedir=/var'
'--libexecdir=/lib/squid' '--disable-maintainer-mode'
'--disable-dependency-tracking' '--disable-silent-rules' '--srcdir=.'
'--datadir=/usr/share/squid' '--sysconfdir=/etc/squid'
'--mandir=/usr/share/man' '--enable-inline' '--enable-async-io=8'
'--enable-storeio=ufs,aufs,diskd,rock' '--enable-removal-policies=lru,heap'
'--enable-delay-pools' '--enable-cache-digests' '--enable-underscores'
'--enable-icap-client' '--enable-follow-x-forwarded-for' '--enable-auth'
'--enable-basic-auth-helpers=LDAP,MSNT,NCSA,PAM,SASL,SMB,YP,DB,POP3,getpwnam
,squid_radius_auth,multi-domain-NTLM' '--enable-ntlm-auth-helpers=smb_lm'
'--enable-digest-auth-helpers=ldap,password'
'--enable-negotiate-auth-helpers=squid_kerb_auth' '--enable-arp-acl'
'--enable-esi' '--disable-translation' '--with-logdir=/var/log/squid'
'--with-pidfile=/var/run/squid.pid' '--with-filedescriptors=131072'
'--with-large-files' '--with-default-user=squid' '--enable-linux-netfilter'
'CFLAGS=-g -O2 -g -Wall -O2' 'LDFLAGS=' 'CPPFLAGS=' 'CXXFLAGS=-g -O2 -g
-Wall -O2' '--enable-ltdl-convenience'

 

 

I have 16 cores and I have set 6 workes and used aufs cahe dir for bw saving
but still no luck ... the out traffc in general is less than in traffic.

 

This idea is getting me a headache !!!!

 

Here is my cache manager :

Connection information for squid:

        Number of clients accessing cache:    8967

        Number of HTTP requests received:     455542

        Number of ICP messages received:      0

        Number of ICP messages sent:   0

        Number of queued ICP replies:  0

        Number of HTCP messages received:     0

        Number of HTCP messages sent:  0

        Request failure ratio: 0.00

        Average HTTP requests per minute since start: 35706.3

        Average ICP messages per minute since start:  0.0

        Select loop called: 14737492 times, 0.345 ms avg

Cache information for squid:

        Hits as % of all requests:     5min: 10.4%, 60min: 10.6%

        Hits as % of bytes sent:       5min: -0.6%, 60min: -0.8%

        Memory hits as % of hit requests:     5min: 37.1%, 60min: 36.9%

        Disk hits as % of hit requests:       5min: 28.0%, 60min: 28.4%

        Storage Swap size:     29253956 KB

        Storage Swap capacity: 10.6% used, 89.4% free

        Storage Mem size:      2434400 KB

        Storage Mem capacity:  39.6% used, 60.4% free

        Mean Object Size:      32.60 KB

        Requests given to unlinkd:     0

Median Service Times (seconds)  5 min    60 min:

        HTTP Requests (All):   0.15616  0.15748

        Cache Misses:          0.18340  0.19003

        Cache Hits:            0.00030  0.00030

        Near Hits:             0.08938  0.08686

        Not-Modified Replies:  0.00000  0.00000

        DNS Lookups:           0.00000  0.00000

        ICP Queries:           0.00000  0.00000

Resource usage for squid:

        UP Time:       765.486 seconds

        CPU Time:      1333.285 seconds

        CPU Usage:     174.18%

        CPU Usage, 5 minute avg:       176.56%

        CPU Usage, 60 minute avg:      176.15%

        Maximum Resident Size: 22667056 KB

        Page faults with physical i/o: 0

Memory accounted for:

        Total accounted:       1568707 KB

        memPoolAlloc calls:      1830

        memPoolFree calls:  133080611

File descriptor usage for squid:

        Maximum number of file descriptors:   393216

        Largest file desc currently in use:   6574

        Number of file desc currently in use: 23510

        Files queued for open:                   0

        Available number of file descriptors: 369706

        Reserved number of file descriptors:   600

        Store Disk files open:                  37

Internal Data Structures:

        899673 StoreEntries

          2442 StoreEntries with MemObjects

        39600 Hot Object Cache Items

        897283 on-disk objects

 

 

 

And here is iptraf :

 

|<i> Total rates:     752700.3 kbits/sec        Broadcast packets:            0
</I>|<i>
</I>
|<i>                   90466.8 packets/sec      Broadcast bytes:              0
</I>|<i>
</I>
|<i>
</I>|<i>
</I>
|<i> Incoming rates:  378217.1 kbits/sec
</I>|<i>
</I>
|<i>                   54377.4 packets/sec
</I>|<i>
</I>
|<i>                                            IP checksum errors:           0
</I>|<i>
</I>
|<i> Outgoing rates:  375640.1 kbits/sec
</I>|<i>
</I>
|<i>                   36089.4 packets/sec
</I>|<i>
</I>
|<i>
</I>|<i>
</I>
|<i>                                            
</I>
 

 

Any help ?????

 

BTW , I used both squid3.4.3 and squid3.head and same issue !!!! why I cant
save bw !!!

 

 

regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141114/b425475d/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141114/b425475d/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000805.html">[squid-users] using squid 3.head for large rock ,	but i still have mean object size is 32 !!!!!
</A></li>
	<LI>Next message (by thread): <A HREF="000806.html">[squid-users] using squid 3.head for large rock , but i still have mean object size is 32 !!!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#956">[ date ]</a>
              <a href="thread.html#956">[ thread ]</a>
              <a href="subject.html#956">[ subject ]</a>
              <a href="author.html#956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
