<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid-3.5.0.2-20141031-r13657 crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid-3.5.0.2-20141031-r13657%20crashes&In-Reply-To=%3CHKNPR04MB1933529F3384F902F2583EAE87F0%40HKNPR04MB193.apcprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000957.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid-3.5.0.2-20141031-r13657 crashes</H1>
    <B>James Harper</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid-3.5.0.2-20141031-r13657%20crashes&In-Reply-To=%3CHKNPR04MB1933529F3384F902F2583EAE87F0%40HKNPR04MB193.apcprd04.prod.outlook.com%3E"
       TITLE="[squid-users] squid-3.5.0.2-20141031-r13657 crashes">james at ejbdigital.com.au
       </A><BR>
    <I>Sat Nov 29 23:36:34 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000957.html">[squid-users] squid-3.5.0.2-20141031-r13657 crashes
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#969">[ date ]</a>
              <a href="thread.html#969">[ thread ]</a>
              <a href="subject.html#969">[ subject ]</a>
              <a href="author.html#969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This has happened again a day or so after wiping the cache directory. Core dump this time:

#0  StoreEntry::checkCachable (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x284c440) at store.cc:962
962                         getReply()-&gt;content_length &gt; store_maxobjsize) ||
(gdb) bt
#0  StoreEntry::checkCachable (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x284c440) at store.cc:962
#1  0x0000000000619edf in StoreEntry::memoryCachable (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x284c440) at store.cc:1418
#2  0x00000000006255d2 in StoreController::keepForLocalMemoryCache (this=&lt;optimized out&gt;, e=...) at store_dir.cc:798
#3  0x0000000000625a75 in StoreController::handleIdleEntry (this=0x23a48d0, e=...) at store_dir.cc:891
#4  0x000000000061b091 in StoreEntry::unlock (this=0x284c440, context=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">context at entry</A>=0x806224 &quot;clientReplyContext::forgetHit&quot;) at store.cc:543
#5  0x0000000000535356 in clientReplyContext::forgetHit (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x28eb5e8) at client_side_reply.cc:1586
#6  0x00000000005390be in clientReplyContext::identifyFoundObject (this=0x28eb5e8, newEntry=&lt;optimized out&gt;) at client_side_reply.cc:1675
#7  0x000000000053ed0d in ClientHttpRequest::httpStart (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x28e9ed8) at client_side_request.cc:1517
#8  0x00000000005402b7 in ClientHttpRequest::processRequest (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x28e9ed8) at client_side_request.cc:1503
#9  0x00000000005420d5 in ClientHttpRequest::doCallouts (this=0x28e9ed8) at client_side_request.cc:1818
#10 0x0000000000545bd7 in ClientRequestContext::clientAccessCheckDone (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x28603d8, answer=...) at client_side_request.cc:821
#11 0x0000000000546801 in ClientRequestContext::clientAccessCheck2 (this=0x28603d8) at client_side_request.cc:718
#12 0x00000000005427bc in ClientHttpRequest::doCallouts (this=0x28e9ed8) at client_side_request.cc:1711
#13 0x0000000000545bd7 in ClientRequestContext::clientAccessCheckDone (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x28603d8, answer=...) at client_side_request.cc:821
#14 0x00000000005466c5 in clientAccessCheckDoneWrapper (answer=..., data=0x28603d8) at client_side_request.cc:730
#15 0x00000000006c369b in ACLChecklist::checkCallback (this=0x28eda18, answer=...) at Checklist.cc:167
#16 0x00000000006c3ea4 in ACLChecklist::completeNonBlocking (this=&lt;optimized out&gt;) at Checklist.cc:52
#17 0x00000000006c43a3 in ACLChecklist::nonBlockingCheck (this=&lt;optimized out&gt;,
    callback_=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">callback_ at entry</A>=0x5466a0 &lt;clientAccessCheckDoneWrapper(allow_t, void*)&gt;, callback_data_=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">callback_data_ at entry</A>=0x28603d8) at Checklist.cc:255
#18 0x0000000000546171 in ClientRequestContext::clientAccessCheck (this=0x28603d8) at client_side_request.cc:698
#19 0x00000000005426ca in ClientHttpRequest::doCallouts (this=0x28e9ed8) at client_side_request.cc:1682
#20 0x0000000000544b90 in ClientRequestContext::hostHeaderIpVerify (this=0x28603d8, ia=0x2860cc0, dns=...) at client_side_request.cc:526
#21 0x00000000005ca5d4 in ipcacheCallback (i=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">i at entry</A>=0x2860ca0, wait=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">wait at entry</A>=330) at ipcache.cc:325
#22 0x00000000005cae74 in ipcacheHandleReply (data=&lt;optimized out&gt;, answers=&lt;optimized out&gt;, na=&lt;optimized out&gt;, error_message=&lt;optimized out&gt;) at ipcache.cc:475
#23 0x000000000055b4a1 in idnsCallback (q=0x28561e8, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">q at entry</A>=0x2862ff8, error=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">error at entry</A>=0x0) at dns_internal.cc:1097
#24 0x000000000055f78f in idnsGrokReply (buf=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">buf at entry</A>=0xb0d100 &lt;idnsRead(int, void*)::rbuf&gt; &quot;\262&lt;\201\200&quot;, sz=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">sz at entry</A>=156, from_ns=&lt;optimized out&gt;)
    at dns_internal.cc:1266
#25 0x00000000005601b5 in idnsRead (fd=7, data=&lt;optimized out&gt;) at dns_internal.cc:1353
#26 0x0000000000752223 in Comm::DoSelect (msec=&lt;optimized out&gt;) at ModEpoll.cc:277
#27 0x00000000006d3f7f in CommSelectEngine::checkEvents (this=&lt;optimized out&gt;, timeout=&lt;optimized out&gt;) at comm.cc:1835
#28 0x000000000056893a in EventLoop::checkEngine (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7fffee8124b0, engine=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">engine at entry</A>=0x7fffee812440, primary=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">primary at entry</A>=true)
    at EventLoop.cc:35
#29 0x0000000000568b27 in EventLoop::runOnce (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7fffee8124b0) at EventLoop.cc:114
#30 0x0000000000568ce8 in EventLoop::run (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7fffee8124b0) at EventLoop.cc:82
#31 0x00000000005d0753 in SquidMain (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1508
#32 0x00000000004e378c in SquidMainSafe (argv=&lt;optimized out&gt;, argc=&lt;optimized out&gt;) at main.cc:1240
#33 main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1233

James

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000957.html">[squid-users] squid-3.5.0.2-20141031-r13657 crashes
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#969">[ date ]</a>
              <a href="thread.html#969">[ thread ]</a>
              <a href="subject.html#969">[ subject ]</a>
              <a href="author.html#969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
