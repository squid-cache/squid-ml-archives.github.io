<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd: Problems with NTLM authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Problems%20with%20NTLM%20authentication&In-Reply-To=%3CCABE8HSjtE-JB08EFPta-jKGA-SFhr-d5tqiOWTZnqDX2tv2%2Bbw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000175.html">
   <LINK REL="Next"  HREF="000274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd: Problems with NTLM authentication</H1>
    <B>Marcel</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Problems%20with%20NTLM%20authentication&In-Reply-To=%3CCABE8HSjtE-JB08EFPta-jKGA-SFhr-d5tqiOWTZnqDX2tv2%2Bbw%40mail.gmail.com%3E"
       TITLE="[squid-users] Fwd: Problems with NTLM authentication">lord.tek at gmail.com
       </A><BR>
    <I>Tue Oct  7 19:25:01 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000175.html">[squid-users] Fwd:  Problems with NTLM authentication
</A></li>
        <LI>Next message (by thread): <A HREF="000274.html">[squid-users] Fwd: Problems with NTLM authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#176">[ date ]</a>
              <a href="thread.html#176">[ thread ]</a>
              <a href="subject.html#176">[ subject ]</a>
              <a href="author.html#176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

thank you for your input. Unfortunately I have to disagree with you because
of two reasons:

1. That option is already enabled
2. The NTLM authentication works fine in Internet Explorer without Squid.
It only breaks when going through Squid.

I'd be very happy for further suggestions.



On 7 October 2014 21:19, Brendan Kearney &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">bpk678 at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, 2014-10-07 at 20:50 +0200, Marcel wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have some more information.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The problem seems to have nothing to do with samba, krb5 or anything
</I>&gt;<i> &gt; else. I set up a new squid that isn't in the AD and doesn't use any
</I>&gt;<i> &gt; kind of authentication at all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have the exact same problem. Here is my POC squid.conf:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; acl localnet src all
</I>&gt;<i> &gt; http_access allow all
</I>&gt;<i> &gt; http_port 3128
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That is the entire configuration in my tests. As you can see, it is
</I>&gt;<i> &gt; absolutely impossible for it to be a configuration issue.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Why can't I log on to a NTLM protected website with Internet Explorer
</I>&gt;<i> &gt; when going over a squid proxy?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It works fine in Firefox.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ---------- Forwarded message ----------
</I>&gt;<i> &gt; From: foggle &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">lord.tek at gmail.com</A>&gt;
</I>&gt;<i> &gt; Date: 7 October 2014 18:10
</I>&gt;<i> &gt; Subject: [squid-users] Problems with NTLM authentication
</I>&gt;<i> &gt; To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have set up a squid Proxy that uses samba/ntlm/krb5 to do SSO AD
</I>&gt;<i> &gt; authentication in the Company.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This works fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My problem is that external Websites on the Internet that use NTLM
</I>&gt;<i> &gt; authentication of their own do not work. My users enter their Details
</I>&gt;<i> &gt; (DOMAIN\user and Password) and receive authentication failures
</I>&gt;<i> &gt; Messages.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Interestingly enough, this (almost) only occurs in Internet Explorer.
</I>&gt;<i> &gt; The
</I>&gt;<i> &gt; same sites work fine with Firefox.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you in advance for your much needed help.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; View this message in context:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Problems-with-NTLM-authentication-tp4667742.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Problems-with-NTLM-authentication-tp4667742.html</A>
</I>&gt;<i> &gt; Sent from the Squid - Users mailing list archive at Nabble.com.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i> not something that squid would be affecting, as squid has nothing to do
</I>&gt;<i> with the auth to the website.
</I>&gt;<i>
</I>&gt;<i> Tools -&gt; Internet Options -&gt; Advanced tab: scroll down until you
</I>&gt;<i> Security.  Under Security, check the &quot;Enable Integrated Windows
</I>&gt;<i> Authentication*&quot; check box, and restart your browser.
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141007/6945778a/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141007/6945778a/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000175.html">[squid-users] Fwd:  Problems with NTLM authentication
</A></li>
	<LI>Next message (by thread): <A HREF="000274.html">[squid-users] Fwd: Problems with NTLM authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#176">[ date ]</a>
              <a href="thread.html#176">[ thread ]</a>
              <a href="subject.html#176">[ subject ]</a>
              <a href="author.html#176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
