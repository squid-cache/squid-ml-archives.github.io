<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error page for failed authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20page%20for%20failed%20authentication&In-Reply-To=%3C54360641.2040500%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000177.html">
   <LINK REL="Next"  HREF="000179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error page for failed authentication</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20page%20for%20failed%20authentication&In-Reply-To=%3C54360641.2040500%40treenet.co.nz%3E"
       TITLE="[squid-users] Error page for failed authentication">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct  9 03:51:29 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000177.html">[squid-users] Error page for failed authentication
</A></li>
        <LI>Next message (by thread): <A HREF="000179.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013	to work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 8/10/2014 9:32 a.m., silblackw wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am setting up my squid to require user authentication with a
</I>&gt;<i> digest. I have noticed that if authentication fails, it prompts the
</I>&gt;<i> user again, and if the user clicks &quot;cancel&quot; then squid just refuses
</I>&gt;<i> the connection. I am wondering if it is possible to change the
</I>&gt;<i> behavior so that if authentication fails or the user clicks
</I>&gt;<i> &quot;cancel&quot; squid instead redirects the user to an authentication
</I>&gt;<i> failure page. Is this possible using the squid config file? What
</I>&gt;<i> would be the best way of approaching this problem?
</I>
The page being displayed after cancel is suposed to be the payload of
the previous 407 message from the proxy. You can set it to any page
content you like using deny_info directive. But, be aware that the
popup is a browser features *designed* to hide that page whether they
actually display the payload or some &quot;friendy&quot; error of their own
choosing (hello MSIE) we can't control.

As for redirect. You can also do that with deny_info in the latest
Squid. However it is kind of a bad idea. Sending any 300-399 status
code tells the client that authentication has *succeeded*, and that
the URL it was requesting is found at the indicated new location. Some
redirect codes permanently change the browser history an bookmark
references, etc.
 Take great care.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUNgZBAAoJELJo5wb/XPRj7i4H/0GMQqEE5CfRg8nxyTF8VfX5
SCrUFEXeBEi1qaMxjIzKPDjUxVgh/6PS0YrX66ZJhJPdLg1Q7/qclA7n2wsXFpvr
w7eYhupHuZqxv+HTQ8x/y1t/mtloMJqAUgICbe8EHWATVU30wrNeNYkmiqyqYaaC
zKEh06+O3xKHLzNIJ7kZEOsQmQHwbjktx7MWmEQ2sqihanWQK6mEpb3w8JtPA1AJ
K9Dx5kCzqhj1Rwau/vN3LOa7QCpj/2rlK0CloBM36II1PLauB2Uco9xyySwsxxRs
b07eeuIxPDVE82iGMLNQlptEQ1qk+KKfe8W9vzDk6NP5VhjTa06CSRnschIu2wc=
=7n5D
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000177.html">[squid-users] Error page for failed authentication
</A></li>
	<LI>Next message (by thread): <A HREF="000179.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013	to work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
