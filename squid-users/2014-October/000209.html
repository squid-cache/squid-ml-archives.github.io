<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%202.7%20STABLE8%20%28Win2008%29%20can%27t%20get%20my%20MS%20Lync%0A%202013%20to%20work%3F&In-Reply-To=%3C543609C0.50703%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000199.html">
   <LINK REL="Next"  HREF="000210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%202.7%20STABLE8%20%28Win2008%29%20can%27t%20get%20my%20MS%20Lync%0A%202013%20to%20work%3F&In-Reply-To=%3C543609C0.50703%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct  9 04:06:24 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000199.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?
</A></li>
        <LI>Next message (by thread): <A HREF="000210.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 9/10/2014 4:19 a.m., Mirza Dedic wrote:
&gt;<i> Thanks Amos, It seems I spoke too fast, the proxy prompt is back,
</I>&gt;<i> so disabling SG didn't do the trick. Two two hits I see in
</I>&gt;<i> access.log are: 1412778349.755    141 172.16.12.110 TCP_MISS/200
</I>&gt;<i> 462 POST <A HREF="http://sqm.microsoft.com/sqm/wm/sqmserver.dll">http://sqm.microsoft.com/sqm/wm/sqmserver.dll</A> -
</I>&gt;<i> DIRECT/65.55.7.141 -1412778349.911    515 172.16.12.110
</I>&gt;<i> TCP_MISS/200 11695 CONNECT login.microsoftonline.com:443 -
</I>&gt;<i> DIRECT/157.55.208.198 - These happen when I restart the Lync
</I>&gt;<i> program and at the time of the proxy prompt.
</I>
If you notice the status code on both of those is 200. Meaning they
were successfully accepted by your proxy and completely serviced.

There is no way those could produce a proxy login popup. The POST also
cannot produce a www-auth popup since it is not 401 status. The
CONNECT could if there were some encrypted 401 message unseen by Squid.

&gt;<i> My config file is here: <A HREF="http://pastebin.com/MSsTWum2">http://pastebin.com/MSsTWum2</A> I spent last 
</I>&gt;<i> night trying to mess with cygwin + squid to try and tackle this
</I>&gt;<i> issue by upgrading to a more supported squid, I see there is a
</I>&gt;<i> 3.3.3 published in their repository; I got this working at home
</I>&gt;<i> (squid starts) on Windows 7 machine however getting errors trying
</I>&gt;<i> to start the same cygwin setup on my win2003 remote server,
</I>&gt;<i> getting.. 2014/10/08 08:12:56| aclIpParseIpData: Bad host/IP: '::1'
</I>&gt;<i> in '::1', flags=0 : (8) Name or service not knownFATAL: Bungled
</I>&gt;<i> Default Configuration line 11: acl localhost src 127.0.0.1/32
</I>&gt;<i> ::1Squid Cache (Version 3.3.3): Terminated abnormally.
</I>
These are default definitions for Squid-3.

At a minimum your systems built-in DNS resolver needs ability to
convert IPv6 addresses to numeric values. HTTP routinely sends
raw-IPv6 addresses in some headers. That minimum ability is mandatory
in order to reject/skip attempts to use IPv6 when it is configured
disabled.

I believe the Windows Server 2008 or later are needed for Squid-3
builds. Several of the Squid-3 features need advanced networking
functionality. That IP conversion ability may be one of them.

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUNgnAAAoJELJo5wb/XPRjPAUIAKmz5qxM5fRVIU8sU2rdWj9Z
+qtTOIqRrkSMjJ47Jc3yUozUAVLCOE69OyMoLEuEC6mqB61tYnSOuq2Ig1bT61hf
AJXWCHOp1qDr9Xoa4nld/onkd4gHokKzuV+SRGIYEDwF6HxFM454ctb9YpSgBmr3
79kCOzy6OPRgdHALFc0rBAP6BGz8pN+kvDd9X6vMyFSlnvyERRwwbuzp4tzzfcAf
A9akRaHpDk/N4OLkJSGKj6V6uyKMStgJEu1SP8dzKKnuoo3uPYPseJKlyzikFPb2
h9VzKazytcTpMKEQQtNioRo9poJ8sZCzSlZQh6pb8U1rZcJ1rRp2QA5h7TvB8Bk=
=rsNN
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000199.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?
</A></li>
	<LI>Next message (by thread): <A HREF="000210.html">[squid-users] Squid 2.7 STABLE8 (Win2008) can't get my MS Lync 2013 to work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
