<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] transparent proxy https and self signed	certificate error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20transparent%20proxy%20https%20and%20self%20signed%0A%09certificate%20error&In-Reply-To=%3CCADoG9xnzBPof146nG-zexkziMRx%2B2CLQSw%2Bvbf8v%3D%3Dsi_1EH1g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000115.html">
   <LINK REL="Next"  HREF="000099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] transparent proxy https and self signed	certificate error</H1>
    <B>Robert Watson</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20transparent%20proxy%20https%20and%20self%20signed%0A%09certificate%20error&In-Reply-To=%3CCADoG9xnzBPof146nG-zexkziMRx%2B2CLQSw%2Bvbf8v%3D%3Dsi_1EH1g%40mail.gmail.com%3E"
       TITLE="[squid-users] transparent proxy https and self signed	certificate error">robert at gillecaluim.com
       </A><BR>
    <I>Mon Oct 13 16:23:44 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000115.html">[squid-users] transparent proxy https and self signed certificate error
</A></li>
        <LI>Next message (by thread): <A HREF="000099.html">[squid-users] transparent proxy https and self signed certificate error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#270">[ date ]</a>
              <a href="thread.html#270">[ thread ]</a>
              <a href="subject.html#270">[ subject ]</a>
              <a href="author.html#270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, finally got the certificate installed properly and can proxy some https
sites (gmail, google) but I get an error when going to a bank website.....
NET::ERR_CERT_COMMON_NAME_INVALID
when I created the certificate, I purposefully left the common name blank
as per several articles on ssl_bump.  So I'm assuming it's complaining
about the CN generated by squid/ssl_bump?

On Mon, Oct 13, 2014 at 9:22 AM, Robert Watson &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">robert at gillecaluim.com</A>&gt;
wrote:

&gt;<i> Ok, finally got the certificate installed properly and can proxy some
</I>&gt;<i> https sites (gmail, google) but I get an error when going to a bank
</I>&gt;<i> website.....
</I>&gt;<i> NET::ERR_CERT_COMMON_NAME_INVALID
</I>&gt;<i> when I created the certificate, I purposefully left the common name blank
</I>&gt;<i> as per several articles on ssl_bump.  So I'm assuming it's complaining
</I>&gt;<i> about the CN generated by squid/ssl_bump?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Oct 6, 2014 at 12:39 AM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;&gt;<i> Hash: SHA1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 6/10/2014 4:24 p.m., Robert Watson wrote:
</I>&gt;&gt;<i> &gt; still trying to get this working.  To eliminate the self signed
</I>&gt;&gt;<i> &gt; certificate issue, I got a official signed certificate from
</I>&gt;&gt;<i> &gt; Starfield Tech. LLC. They've sent two certifcates but I'm unsure
</I>&gt;&gt;<i> &gt; how to use these certificates since the ssl_bump parameters only
</I>&gt;&gt;<i> &gt; have one certificate as a parameter
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The CA is very unlikely to be issuing you certificates capable of use
</I>&gt;&gt;<i> in Squid in the way intended. It is illegal for a trusted root CA to
</I>&gt;&gt;<i> do so in the country they are registered. Besides that it is downright
</I>&gt;&gt;<i> foolish for them to give up their trust reputation. Look at what
</I>&gt;&gt;<i> happened to DigiNotar.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The point of self-signed is that _your Squid_ is the root CA signer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The ssl-bump feature in current Squid makes parameter cert= take the
</I>&gt;&gt;<i> self-signed CA certificate in PEM format. Squid generates the rest of
</I>&gt;&gt;<i> the certificte chain as necessary.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Sun, Oct 5, 2014 at 8:52 AM, Eliezer Croitoru wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On 10/05/2014 01:22 PM, Amos Jeffries wrote:
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; MSIE 11 seems to be growing in popularity for some reason
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; ;-)
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; Amos
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; And Still there is:
</I>&gt;&gt;<i> &gt; <A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4115">http://bugs.squid-cache.org/show_bug.cgi?id=4115</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; For now I am using ssl_crtd of 3.4.5 for google ssl bump to work.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Eliezer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;&gt;<i> Version: GnuPG v2.0.22 (MingW32)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> iQEcBAEBAgAGBQJUMkdGAAoJELJo5wb/XPRjygMH/Rk0EYwCgluL1YCWNa8cTZHN
</I>&gt;&gt;<i> RkPNY1fTbe7U0ioB7J69KTJ07XH8sy0w9bChB5s/siodi3WD8ogZ3VdtEYxcqjf1
</I>&gt;&gt;<i> 9yhb771Il3IiVaAiuF62FHWTEHjwHwTcBVR7/cDxigPW2VuSyyhZsdA8ayl1ZUXO
</I>&gt;&gt;<i> jW44IH5g0Sja7KVJAfS67AANG4Sp4vMh1rGdXpbP8Bq8QGposL3viGh51z3k6/OP
</I>&gt;&gt;<i> Dok8oVIsIluICLc8sLAKJbJwaBYSh0SLBrnNUv0Yl6+MtAFNfViXJGa3OfRG5ucQ
</I>&gt;&gt;<i> aTS9Be4vzJthVdV1+tTtqubCvjrYB7PqQcfL9VzA4UlvQovgPDAnVMO074Kyjug=
</I>&gt;&gt;<i> =k3K8
</I>&gt;&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141013/7da49094/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141013/7da49094/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000115.html">[squid-users] transparent proxy https and self signed certificate error
</A></li>
	<LI>Next message (by thread): <A HREF="000099.html">[squid-users] transparent proxy https and self signed certificate error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#270">[ date ]</a>
              <a href="thread.html#270">[ thread ]</a>
              <a href="subject.html#270">[ subject ]</a>
              <a href="author.html#270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
