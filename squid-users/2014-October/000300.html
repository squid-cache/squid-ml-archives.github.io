<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] cache-control
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache-control&In-Reply-To=%3C543D6CB1.9010907%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000299.html">
   <LINK REL="Next"  HREF="000302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] cache-control</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache-control&In-Reply-To=%3C543D6CB1.9010907%40treenet.co.nz%3E"
       TITLE="[squid-users] cache-control">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Oct 14 18:34:25 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000299.html">[squid-users] cache-control
</A></li>
        <LI>Next message (by thread): <A HREF="000302.html">[squid-users] cache-control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#300">[ date ]</a>
              <a href="thread.html#300">[ thread ]</a>
              <a href="subject.html#300">[ subject ]</a>
              <a href="author.html#300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 15/10/2014 7:14 a.m., Thiago Farina wrote:
&gt;<i> Hi squiders,
</I>&gt;<i> 
</I>&gt;<i> We want to move the following Go code into squid, as we already
</I>&gt;<i> have squid in front of our Go server.
</I>&gt;<i> 
</I>&gt;<i> The code is:
</I>&gt;<i> 
</I>&gt;<i> func makeResourceHandler() func(http.ResponseWriter, *http.Request)
</I>&gt;<i> { fileServer := http.FileServer(http.Dir(&quot;./&quot;)) return func(w
</I>&gt;<i> http.ResponseWriter, r *http.Request) { 
</I>&gt;<i> w.Header().Add(&quot;Cache-Control&quot;, string(300)) 
</I>&gt;<i> fileServer.ServeHTTP(w, r) } }
</I>&gt;<i> 
</I>&gt;<i> and in the main() function we have:
</I>&gt;<i> 
</I>&gt;<i> http.HandleFunc(&quot;/res/&quot;,
</I>&gt;<i> autogzip.HandleFunc(makeResourceHandler()))
</I>&gt;<i> 
</I>&gt;<i> The only thing close to this I found was 'header_access
</I>&gt;<i> Cache-Control allow all'.
</I>&gt;<i> 
</I>&gt;<i> What is the proper way to do this?
</I>
Perhapse you could explain what the code does?

If I'm reading that right these are web server actions performed on
the origin resource (adding resource lifetime control header, and gzip
content encoding).

Squid however is a proxy which operates *using* the message
representation and headers which are produced by that code.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUPWywAAoJELJo5wb/XPRjSRUIAOQN9/crBxFSApRDjDvKKqsH
0+4Bp9ty7rT854wWXCA2bKYyxnyXm3oTQ/toNji4tP930Bx8OWufqrVEQ8vVI0lw
MAqD7odM3GhoopKfAlBoPeSY/z9cdiA4aAX+t653iZ/VGxktWBbpD4bXpUiQ0mGF
eh+UpJ6wFyhFvim3UFSvkPgnoE8Wj41LRZsb5WaHEQe7boj1njrmGpkWBIGIHL4m
mkpVLol4ZFf7uXP2BN6xSu400yUv2Xtw8SQv7ydOeflKThipKzv0UaYwc7T+IOzx
ymYMevumO9CwfMb5FJVnwmAgQKKYpQGQucJXuYLq239E2j4KJ6v56LNRU9bIlbQ=
=C8+D
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000299.html">[squid-users] cache-control
</A></li>
	<LI>Next message (by thread): <A HREF="000302.html">[squid-users] cache-control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#300">[ date ]</a>
              <a href="thread.html#300">[ thread ]</a>
              <a href="subject.html#300">[ subject ]</a>
              <a href="author.html#300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
