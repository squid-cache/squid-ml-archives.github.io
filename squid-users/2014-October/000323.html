<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Question on throughput
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20on%20throughput&In-Reply-To=%3C543E872E.6000003%40afo.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000321.html">
   <LINK REL="Next"  HREF="000333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Question on throughput</H1>
    <B>Mike</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20on%20throughput&In-Reply-To=%3C543E872E.6000003%40afo.net%3E"
       TITLE="[squid-users] Question on throughput">mcsnv96 at afo.net
       </A><BR>
    <I>Wed Oct 15 14:39:42 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000321.html">[squid-users] Question on throughput
</A></li>
        <LI>Next message (by thread): <A HREF="000333.html">[squid-users] squid-3.4.8 sslbump breaks facebook
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#323">[ date ]</a>
              <a href="thread.html#323">[ thread ]</a>
              <a href="subject.html#323">[ subject ]</a>
              <a href="author.html#323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/15/2014 3:41 AM, Jacques Kruger wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I&#8217;ve implemented my fair share of squid proxies over the past couple 
</I>&gt;<i> of years and I&#8217;ve always been able to find a solution in the mail 
</I>&gt;<i> archive, but this time around I&#8217;m stumped. This is the first time I&#8217;ve 
</I>&gt;<i> used squid with a fast (in our context) internet connection, 
</I>&gt;<i> specifically a 4G connection that the provider claims can run up to 
</I>&gt;<i> 100Mbps. Claims aside, my real-world testing is not what I&#8217;m 
</I>&gt;<i> expecting. I&#8217;ve used two squid instances, one on PFsence (2.7.9) and 
</I>&gt;<i> one on Windows (2.7Stable8) and compared the throughput to a 
</I>&gt;<i> connection without squid and what I&#8217;ve found is, when testing with 
</I>&gt;<i> www.speedtest.net &lt;<A HREF="http://www.speedtest.net">http://www.speedtest.net</A>&gt; the throughput is roughly 
</I>&gt;<i> half with squid compared to a direct connection. I&#8217;ve left to 
</I>&gt;<i> configuration pretty much default and have tried to tweak, both 
</I>&gt;<i> without success.
</I>&gt;<i>
</I>&gt;<i> What are the directives that have the most effect on throughput?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Jacques Kruger
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
Throughput on squid 2.x (plus the linux kernel from that timeframe) is 
limited as we recently found out on one of our servers. In the past with 
my testing, Windows with cygwin is even further limited. In our case 
with a small ISP level 200Mbps connection, the best our customers could 
get with their systems was 20Mbps through linux 2.0.x kernel and squid 2.3.
Same server with updated OS (Scientific Linux 6.5 with latest updates), 
same connection using compiled squid 3.4.7, typically up to 4000 
customers connecting to it at any given moment, and customers with 
50Mbps connections (some of the fastest home connection) were seeing 
less than 20% drop, even spanning across the entire US.


Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141015/c49f25e0/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141015/c49f25e0/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000321.html">[squid-users] Question on throughput
</A></li>
	<LI>Next message (by thread): <A HREF="000333.html">[squid-users] squid-3.4.8 sslbump breaks facebook
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#323">[ date ]</a>
              <a href="thread.html#323">[ thread ]</a>
              <a href="subject.html#323">[ subject ]</a>
              <a href="author.html#323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
