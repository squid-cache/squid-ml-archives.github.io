<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid 2.7 TPROXY not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%202.7%20TPROXY%20not%20working&In-Reply-To=%3C5445FB29.5020104%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000408.html">
   <LINK REL="Next"  HREF="000412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid 2.7 TPROXY not working</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%202.7%20TPROXY%20not%20working&In-Reply-To=%3C5445FB29.5020104%40treenet.co.nz%3E"
       TITLE="[squid-users] squid 2.7 TPROXY not working">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Oct 21 06:20:25 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000408.html">[squid-users] squid 2.7 TPROXY not working
</A></li>
        <LI>Next message (by thread): <A HREF="000412.html">[squid-users] squid 2.7 TPROXY not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 21/10/2014 6:55 p.m., saleh madi wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have compiled squid 2.7stable9 with TPROXY patch, but the TPROXY
</I>&gt;<i> seem not working.
</I>
Er, yes. The &quot;TPROXY patch&quot; is not a Squid patch, it is a Linux kernel
patch adding TPROXY/cttproxy support to the extremely old Linux kernel
v2.2 and v2.4. Squid-2.7 does not need any patching to work with
kernels that have been appropriately patched, but does not work with
any newer kernels.

Please note that all the software you will need to play with to get
Squid-2.7 to do TPROXY was obsoleted 5-10 years ago, including
Squid-2.7. Finding people who even remember it is getting hard.

You would do better to upgrade to TPROXYv4, which should be available
in all modern Linux OS and is supported by current Squid-3 releases.

&lt;<A HREF="http://wiki.squid-cache.org/Features/Tproxy4#Minimum_Requirements_.28IPv6_and_IPv4.29">http://wiki.squid-cache.org/Features/Tproxy4#Minimum_Requirements_.28IPv6_and_IPv4.29</A>&gt;


If you really want to stick with the old version, good luck. The
concepts outlined in the wiki page and Troubleshooting remain
unchanged. Just the specific configuration details are very different.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJURfspAAoJELJo5wb/XPRj7aUIALPnNV3iI3vSKbGok9Kmtixj
2+KsKFVr+aebnZboMDOuWEBSmvXSc+jLMYtH8qacJXuJdRoN9ee8mKP6bZVDX7ZW
IxcQrceQ3uX6JmINYU4ZKUoZYZwgotUBTj84d+CVEzvwbSNyauqCNpnbRBHdDLSp
CZbDAYNF+eqym+I9FmARL2KrEY/cOU1c4sdSdl8llDq6qWwFp9i0CGNjVpU1yC2X
scrdYQ2mkdgAS+KqpGE88die6M2q0sOQr/Y9T3y9v27vAI+tk63UGHLYXB+V0E/F
A/EjhCGD8djcPGqDm73mqZL/P6JaJvA0o4j01nQLKO3If0H4G3ACU2EDKTuWe9c=
=vw+9
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000408.html">[squid-users] squid 2.7 TPROXY not working
</A></li>
	<LI>Next message (by thread): <A HREF="000412.html">[squid-users] squid 2.7 TPROXY not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
