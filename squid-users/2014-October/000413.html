<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Question about compiling and loading ecap-adapter	module on windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20compiling%20and%20loading%20ecap-adapter%0A%09module%20on%20windows&In-Reply-To=%3C2014102115500090457033%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000411.html">
   <LINK REL="Next"  HREF="000415.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Question about compiling and loading ecap-adapter	module on windows</H1>
    <B>lionxyes at gmail.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20compiling%20and%20loading%20ecap-adapter%0A%09module%20on%20windows&In-Reply-To=%3C2014102115500090457033%40gmail.com%3E"
       TITLE="[squid-users] Question about compiling and loading ecap-adapter	module on windows">lionxyes at gmail.com
       </A><BR>
    <I>Tue Oct 21 07:52:49 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000411.html">[squid-users] R: Re:  Skype settings
</A></li>
        <LI>Next message (by thread): <A HREF="000415.html">[squid-users] Question about compiling and loading ecap-adapter module on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#413">[ date ]</a>
              <a href="thread.html#413">[ thread ]</a>
              <a href="subject.html#413">[ subject ]</a>
              <a href="author.html#413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi.  I&#8216;m coming again.

Now, I have compiled squid-3.3.3 with --enable-ecap option successfully on cygwin and run it 
successfully on windows.
But, there are another question about compiling ecap-adapter module&#65311;

I'm not sure that I should ask this question here, maybe I should ask eCAP developer.
but I think that I should try it firstly.

OK!
Question 1:  Does it need compile ecap-adapter module as .dll file if I want use ecap-adapter module on windows.
Question 2:  If it need, How to do it and do I shoud ask eCAP developer? Now, when I compile ecap-adapter module(ecap_adapter_sample-0.2.1.tar.gz) 
directly on cygwin. I just get .a .la file. Here is some output message when I make it.

------------------------------------------------------output message-----------------------------------------------------------
Making all in src 
make[1]: Entering directory '/usr/src/ecap_adapter_sample-0.2.1/src' 
make all-am 
make[2]: Entering directory '/usr/src/ecap_adapter_sample-0.2.1/src' 
/bin/sh ../libtool --tag=CXX --mode=compile g++ -DHAVE_CONFIG_H -I../src -I/usr/local/include -g -O3 -Wall -Wwrite-strings -Woverloaded-virtual -pipe -MT adapter_minimal.lo -MD -MP -MF .deps/adapter_minimal.Tpo -c -o adapter_minimal.lo adapter_minimal.cc 
libtool: compile: g++ -DHAVE_CONFIG_H -I../src -I/usr/local/include -g -O3 -Wall -Wwrite-strings -Woverloaded-virtual -pipe -MT adapter_minimal.lo -MD -MP -MF .deps/adapter_minimal.Tpo -c adapter_minimal.cc -DDLL_EXPORT -DPIC -o .libs/adapter_minimal.o 
libtool: compile: g++ -DHAVE_CONFIG_H -I../src -I/usr/local/include -g -O3 -Wall -Wwrite-strings -Woverloaded-virtual -pipe -MT adapter_minimal.lo -MD -MP -MF .deps/adapter_minimal.Tpo -c adapter_minimal.cc -o adapter_minimal.o &gt;/dev/null 2&gt;&amp;1 
mv -f .deps/adapter_minimal.Tpo .deps/adapter_minimal.Plo 
/bin/sh ../libtool --tag=CXX --mode=link g++ -g -O3 -Wall -Wwrite-strings -Woverloaded-virtual -pipe -module -avoid-version -L/usr/local/lib -lecap -o ecap_adapter_minimal.la -rpath /usr/local/lib adapter_minimal.lo 

*** Warning: This system can not link to static lib archive /usr/local/lib/libecap.la. 
*** I have the capability to make that library automatically link in when 
*** you link to this library. But I can only do this if you have a 
*** shared version of the library, which you do not appear to have. 
*** But as you try to build a module library, libtool will still create 
*** a static module, that should work as long as the dlopening application 
*** is linked with the -dlopen flag to resolve symbols at runtime. 
libtool: link: warning: undefined symbols not allowed in i686-pc-cygwin shared libraries 
libtool: link: /usr/bin/ar cru .libs/ecap_adapter_minimal.a adapter_minimal.o 
libtool: link: ranlib .libs/ecap_adapter_minimal.a 
libtool: link: ( cd &quot;.libs&quot; &amp;&amp; rm -f &quot;ecap_adapter_minimal.la&quot; &amp;&amp; ln -s &quot;../ecap_adapter_minimal.la&quot; &quot;ecap_adapter_minimal.la&quot; ) 
------------------------------------------------------output message end-----------------------------------------------------------

Please give some help. Thank you.

HDM1991


<A HREF="https://lists.squid-cache.org/listinfo/squid-users">lionxyes at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141021/80d32381/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141021/80d32381/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000411.html">[squid-users] R: Re:  Skype settings
</A></li>
	<LI>Next message (by thread): <A HREF="000415.html">[squid-users] Question about compiling and loading ecap-adapter module on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#413">[ date ]</a>
              <a href="thread.html#413">[ thread ]</a>
              <a href="subject.html#413">[ subject ]</a>
              <a href="author.html#413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
