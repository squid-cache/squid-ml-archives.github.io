<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] problem with squid_ldap_auth
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squid_ldap_auth&In-Reply-To=%3C5449DB72.60609%40visolve.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000458.html">
   <LINK REL="Next"  HREF="000483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] problem with squid_ldap_auth</H1>
    <B>squid-list</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squid_ldap_auth&In-Reply-To=%3C5449DB72.60609%40visolve.com%3E"
       TITLE="[squid-users] problem with squid_ldap_auth">squid at visolve.com
       </A><BR>
    <I>Fri Oct 24 04:54:10 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000458.html">[squid-users] problem with squid_ldap_auth
</A></li>
        <LI>Next message (by thread): <A HREF="000483.html">[squid-users] problem with squid_ldap_auth
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#460">[ date ]</a>
              <a href="thread.html#460">[ thread ]</a>
              <a href="subject.html#460">[ subject ]</a>
              <a href="author.html#460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I think the error is not with squid version, it might be the connection 
problem between proxy server and  LDAP server. Please, check the 
reachability of LDAP server from the proxy server and also Just check 
the DNS configuration whether you have correctly configured it in proxy 
server.

First, You can try the test connection to the LDAP sever from the 
terminal, if it succeed then you can modify the squid configuration. I 
have given a sample one, modify the domain and credentials according to 
your one and try.

         [<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at test</A> ~] #  /usr/lib64/squid/squid_ldap_auth -R -b 
&quot;dc=test,dc=com&quot; -D &quot;CN=admin,DC=test,DC=com&quot; -w &quot;password&quot; -f 
sAMAccountName=%s  -h 192.168.195.195
         username password
         OK

If you get the output &quot;OK&quot;, then you have successfully tested the 
connection with the LDAP server. If you cannot establish the connection 
with LDAP server, then you will get the same error.

         [<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at test</A> ~] #  /usr/lib64/squid/squid_ldap_auth -R -b 
&quot;dc=test,dc=com&quot; -D &quot;CN=admin,DC=test,DC=com&quot; -w &quot;password&quot; -f 
sAMAccountName=%s  -h 192.168.195.195
         username password
         squid_ldap_auth: WARNING, could not bind to binddn 'Can't 
contact LDAP server'

Regards,
ViSolve Squid

On 10/24/2014 06:11 AM, Julie Xu wrote:
&gt;<i>
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> I have squid installed and trying to contact Ldap.
</I>&gt;<i>
</I>&gt;<i> Below command is working for older squid, but not new one and both 
</I>&gt;<i> server are Redhat 6.5 (Santiago)
</I>&gt;<i>
</I>&gt;<i> auth_param basic program /usr/lib64/squid/squid_ldap_auth -b 
</I>&gt;<i> ou=xx,dc=xx,dc=xx,dc=xx,dc=xx -f (&amp;(cn=%s)(objectClass=*)) -u cn -s 
</I>&gt;<i> sub -P -c 5 -t 5 -R -a never -D 
</I>&gt;<i> cn=Lookup,ou=xx,dc=xx,dc=xx,dc=xx,dc=xx -w xxxxx mydomain
</I>&gt;<i>
</I>&gt;<i> error message is:
</I>&gt;<i>
</I>&gt;<i> squid_ldap_auth: WARNING, could not bind to binddn 'Can't contact LDAP 
</I>&gt;<i> server'
</I>&gt;<i>
</I>&gt;<i> squid_ldap_auth: WARNING, could not bind to binddn 'Can't contact LDAP 
</I>&gt;<i> server'
</I>&gt;<i>
</I>&gt;<i> squid_ldap_auth: WARNING, could not bind to binddn 'Can't contact LDAP 
</I>&gt;<i> server'
</I>&gt;<i>
</I>&gt;<i> to stop type isse, I have scp the squid.conf from older one to new 
</I>&gt;<i> one? And restart the squid; and also tried to copy firewall 
</I>&gt;<i> configuration over to new box, in case some firewall issue. It is 
</I>&gt;<i> still not help.
</I>&gt;<i>
</I>&gt;<i> Could any one advice me what is the possible issue related?
</I>&gt;<i>
</I>&gt;<i> Any comments will be appreciated
</I>&gt;<i>
</I>&gt;<i> Thanks in advance
</I>&gt;<i>
</I>&gt;<i> Julie
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20141024/95c9fb72/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20141024/95c9fb72/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000458.html">[squid-users] problem with squid_ldap_auth
</A></li>
	<LI>Next message (by thread): <A HREF="000483.html">[squid-users] problem with squid_ldap_auth
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#460">[ date ]</a>
              <a href="thread.html#460">[ thread ]</a>
              <a href="subject.html#460">[ subject ]</a>
              <a href="author.html#460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
