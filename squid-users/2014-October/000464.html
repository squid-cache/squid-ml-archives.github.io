<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 3.3.x -&gt; 3.4.x: huge performance regression
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.3.x%20-%3E%203.4.x%3A%20huge%20performance%20regression&In-Reply-To=%3C544A4390.3090903%40norma.perm.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000462.html">
   <LINK REL="Next"  HREF="000465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression</H1>
    <B>Eugene M. Zheganin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.3.x%20-%3E%203.4.x%3A%20huge%20performance%20regression&In-Reply-To=%3C544A4390.3090903%40norma.perm.ru%3E"
       TITLE="[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression">emz at norma.perm.ru
       </A><BR>
    <I>Fri Oct 24 12:18:24 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000462.html">[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression
</A></li>
        <LI>Next message (by thread): <A HREF="000465.html">[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#464">[ date ]</a>
              <a href="thread.html#464">[ thread ]</a>
              <a href="subject.html#464">[ subject ]</a>
              <a href="author.html#464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

On 24.10.2014 17:17, Rietzler, Markus (RZF, SG 324 /
&lt;RIETZLER_SOFTWARE&gt;) wrote:
&gt;<i> the important keyword is &quot;NTLM&quot;! 
</I>&gt;<i> without external auth helper squid 3.4 is working well. as soon as the external helper is active, cpu rises to 100%. nothing with workers etc.
</I>&gt;<i> even the fakehelper is not working. just to make sure, that the problem is not NTLM, samba, winbind, AD etc.
</I>&gt;<i>
</I>&gt;<i> see <A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=3997">http://bugs.squid-cache.org/show_bug.cgi?id=3997</A>
</I>There seems to be a large mix of terms, like &quot;external helper&quot; and
&quot;external program&quot;. The ntlm_auth, which is external to squid and part
of the samba package, doesnt' change between version uprgrades, so I
don't see how it can be involved (and why replace it with a fake helper
?). In the same time it's an authentication helper. The squid_kerb_ldap,
also known as ext_kerberos_ldap_group_acl, is, indeed, an &quot;external acl&quot;
helper, but it has nothing to do with NTLM, as it doesn't use it. My
opinion - this pr is flooded with error messages of almost any kind, and
it's very hard to see the point.

We need to understand what's happening to squid when it starts to hit
the 100% CPU usage, last time I saw this during the night without any
possible user traffic load.

Eugene.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000462.html">[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression
</A></li>
	<LI>Next message (by thread): <A HREF="000465.html">[squid-users] 3.3.x -&gt; 3.4.x: huge performance regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#464">[ date ]</a>
              <a href="thread.html#464">[ thread ]</a>
              <a href="subject.html#464">[ subject ]</a>
              <a href="author.html#464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
