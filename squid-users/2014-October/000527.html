<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Sticky sessions support in squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sticky%20sessions%20support%20in%20squid&In-Reply-To=%3C5450E9EC.90006%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000526.html">
   <LINK REL="Next"  HREF="000529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Sticky sessions support in squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sticky%20sessions%20support%20in%20squid&In-Reply-To=%3C5450E9EC.90006%40treenet.co.nz%3E"
       TITLE="[squid-users] Sticky sessions support in squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Oct 29 13:21:48 UTC 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000526.html">[squid-users] Sticky sessions support in squid
</A></li>
        <LI>Next message (by thread): <A HREF="000529.html">[squid-users] Status of SSL Peek and Splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#527">[ date ]</a>
              <a href="thread.html#527">[ thread ]</a>
              <a href="subject.html#527">[ subject ]</a>
              <a href="author.html#527">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 30/10/2014 1:40 a.m., sai raghavendra wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We are currently using squid-3.1.10 as an internal proxy server. It
</I>&gt;<i> sends requests to 3 external proxies which interact with the world
</I>&gt;<i> wide web.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I was just wondering if there is a support for sticky sessions in
</I>&gt;<i> squid , so that we can send a set of continual requests to a
</I>&gt;<i> specific external proxy through squid.
</I>
It sounds like you are wanting either the carp, userhash, or
sourcehash peering algorithm.
<A HREF="http://www.squid-cache.org/Doc/config/cache_peer/">http://www.squid-cache.org/Doc/config/cache_peer/</A>

&gt;<i> 
</I>&gt;<i> As a part of this, also wanted to know  if the client can send an
</I>&gt;<i> HTTP request header to squid to choose which external proxy squid
</I>&gt;<i> should send the request to.
</I>
cache_peer_access with an req_header ACL test can do that.
<A HREF="http://www.squid-cache.org/Doc/config/cache_peer_access/">http://www.squid-cache.org/Doc/config/cache_peer_access/</A>
<A HREF="http://www.squid-cache.org/Doc/config/acl/">http://www.squid-cache.org/Doc/config/acl/</A>

However be aware that placing the client UA in control of low-level
routing details is not compatible with the earlier mentioned selection
algorithms. Layering algorithms just causes 500 or 503 errors whenever
the hash algorithm and client disagree on what peer to use.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUUOnsAAoJELJo5wb/XPRjdnwH/1WuBNBdfWc/eLmYfv6HvgTB
KBYGJ1zQnNEDzon1yllP4DU0HL6vCjdIf3puf+zvxm/RoV7iTqmikF3dBYHNiE32
6NhtphFkVgb0uVHntVKKnXdmMeN9a7t2jQk2NzVyrWNTckGVs9WsxknEGBwyQ9ox
fWf0xOV/nBOeoZW+fdN7PiAsiG1+qlFgjRMve/I9u4wAgL6ZoMvPo+/VP7aR0mAb
QOfx2RId7AXecTlkRaOBoPNdjwD5nPK+uBztxDTDV98qttq9xJd5T7+aOhDu2Pl+
ew+H3BuytKtIbkjZowgiH745iu8s3aQVzbSLTKBuyETsFMz/aRg5K46CYqw8tdE=
=uuoB
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000526.html">[squid-users] Sticky sessions support in squid
</A></li>
	<LI>Next message (by thread): <A HREF="000529.html">[squid-users] Status of SSL Peek and Splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#527">[ date ]</a>
              <a href="thread.html#527">[ thread ]</a>
              <a href="subject.html#527">[ subject ]</a>
              <a href="author.html#527">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
