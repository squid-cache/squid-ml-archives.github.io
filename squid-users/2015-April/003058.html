<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] growing number of ntlm_auth helpers (was 100% cpu usage with ext auth/Excessive NTLM or Negotiate auth helper annotations)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20growing%20number%20of%20ntlm_auth%20helpers%20%28was%20100%25%20cpu%0A%20usage%20with%20ext%20auth/Excessive%20NTLM%20or%20Negotiate%20auth%20helper%20annotations%29&In-Reply-To=%3C1FCF9DA5B29068478ECF15896F19F084015C9A0469%40Y011008.bk.fin.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003104.html">
   <LINK REL="Next"  HREF="003059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] growing number of ntlm_auth helpers (was 100% cpu usage with ext auth/Excessive NTLM or Negotiate auth helper annotations)</H1>
    <B>Rietzler, Markus (RZF, SG 324 / &lt;RIETZLER_SOFTWARE&gt;)</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20growing%20number%20of%20ntlm_auth%20helpers%20%28was%20100%25%20cpu%0A%20usage%20with%20ext%20auth/Excessive%20NTLM%20or%20Negotiate%20auth%20helper%20annotations%29&In-Reply-To=%3C1FCF9DA5B29068478ECF15896F19F084015C9A0469%40Y011008.bk.fin.local%3E"
       TITLE="[squid-users] growing number of ntlm_auth helpers (was 100% cpu usage with ext auth/Excessive NTLM or Negotiate auth helper annotations)">markus.rietzler at fv.nrw.de
       </A><BR>
    <I>Mon Apr 13 08:39:15 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003104.html">[squid-users] Problem with squid3.3.8 on ubuntu and windows 8.1 store
</A></li>
        <LI>Next message (by thread): <A HREF="003059.html">[squid-users] growing number of ntlm_auth helpers (was 100% cpu usage with ext auth/Excessive NTLM or Negotiate auth helper annotations)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3058">[ date ]</a>
              <a href="thread.html#3058">[ thread ]</a>
              <a href="subject.html#3058">[ subject ]</a>
              <a href="author.html#3058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hello,

we are using squid version 3.5.3. at the moment we see a growing number of ntlm_auth helpers until they reach the much number configured with


auth_param ntlm /usr/bin/ntlm_auth --helper-protocol=squid-2.5-ntlmssp
auth_param ntlm realm
auth_param ntlm children 192 startup=24 idle=12 concurrency=0
auth_param ntlm keep_alive on
auth_param basic /usr/bin/ntlm_auth --helper-protocol=squid-2.5-basic
auth_param basic realm Internet-Zugriff
 auth_param basic children 5 startup=2 idle=1 concurrency=0
auth_param basic credentialsttl 7200 seconds
auth_param basic casesensitive off
auth_param basic utf8 off
authenticate_cache_garbage_interval 3600 seconds
authenticate_ttl 3600 seconds
authenticate_ip_ttl 1 seconds



we went to 3.5.1 because this version fixed bug 3997 (100% cpu usage with external auth). but there we saw the growing of ntlm_auth helpers. we then switched to the recent version 3.5.3. no growing number of auth helpers but frequent restarts every 1 or 2 hours with signal 6. so i suppose that the growing of auth helpers still is there but maybe have no effect as squid is restarting before the number gets to high (bug 4190 also is related to auth!)

see related bugs:

<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=3997">http://bugs.squid-cache.org/show_bug.cgi?id=3997</A>
<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4190">http://bugs.squid-cache.org/show_bug.cgi?id=4190</A>


Mit freundlichen Gr&#252;&#223;en

Markus Rietzler
&lt;RIETZLER_SOFTWARE/&gt;
Rechenzentrum der Finanzverwaltung NRW
Ro&#223;str. 131
40476 D&#252;sseldorf

Tel.: 0211 / 4572 - 2130



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150413/26dd4313/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150413/26dd4313/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003104.html">[squid-users] Problem with squid3.3.8 on ubuntu and windows 8.1 store
</A></li>
	<LI>Next message (by thread): <A HREF="003059.html">[squid-users] growing number of ntlm_auth helpers (was 100% cpu usage with ext auth/Excessive NTLM or Negotiate auth helper annotations)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3058">[ date ]</a>
              <a href="thread.html#3058">[ thread ]</a>
              <a href="subject.html#3058">[ subject ]</a>
              <a href="author.html#3058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
