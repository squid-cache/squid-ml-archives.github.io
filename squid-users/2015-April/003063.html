<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Server FQDN for each request
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Server%20FQDN%20for%20each%20request&In-Reply-To=%3C552BBDEC.4040809%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003061.html">
   <LINK REL="Next"  HREF="003064.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Server FQDN for each request</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Server%20FQDN%20for%20each%20request&In-Reply-To=%3C552BBDEC.4040809%40treenet.co.nz%3E"
       TITLE="[squid-users] Server FQDN for each request">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Apr 13 13:00:28 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003061.html">[squid-users] Server FQDN for each request
</A></li>
        <LI>Next message (by thread): <A HREF="003064.html">[squid-users] does http_port sssl-bump work require-proxy-header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3063">[ date ]</a>
              <a href="thread.html#3063">[ thread ]</a>
              <a href="subject.html#3063">[ subject ]</a>
              <a href="author.html#3063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/04/2015 9:58 p.m., Roman Suvorov wrote:
&gt;<i> Dear colleagues,
</I>&gt;<i> 
</I>&gt;<i> Is the setup as following possible?
</I>&gt;<i> 
</I>&gt;<i> A server 99.99.99.99 hosts a single Squid with ICAP plugged in. There
</I>&gt;<i> two DNS records point to this server:
</I>&gt;<i> first.example.com -&gt; 99.99.99.99
</I>&gt;<i> second.example.com -&gt; 99.99.99.99
</I>&gt;<i> 
</I>&gt;<i> If I put first.example.com in browser proxy settings for the first
</I>&gt;<i> group of users and second.example.com for the second group, can I
</I>&gt;<i> somehow distinguish requests from these two groups of users without
</I>&gt;<i> using explicit login-password authentication?
</I>
No you can't. The proxy FQDN is entirely internal to the browser.

&gt;<i> Browsers are configured
</I>&gt;<i> explicitly (the proxy is not transparent). There are supposed to be
</I>&gt;<i> many such groups of users, thus setting up many Squid instances or
</I>&gt;<i> using different TCP ports is not appropriate.
</I>&gt;<i> 
</I>&gt;<i> I'm looking for a way to identify users without explicit
</I>&gt;<i> authentication, maybe there are some other ways?
</I>
IP address of the client machine sending the traffic to the proxy is the
usual way. Its not perfect by any means but works better than proxy
listening IP:port combos alone.

NOTE: IPv6 connectivity between the clients and proxy can be used to
avoid many IPv4 NAT issues. Though be aware other admin have forced some
NAT types into IPv6 as well now, so even that is not as reliable as it
used to be if you are dealing with remote/Internet connections.



PS. Why your aversion to authentication? explicitly configured proxy is
*the* use-case where authentication to the proxy actually works very well.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003061.html">[squid-users] Server FQDN for each request
</A></li>
	<LI>Next message (by thread): <A HREF="003064.html">[squid-users] does http_port sssl-bump work require-proxy-header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3063">[ date ]</a>
              <a href="thread.html#3063">[ thread ]</a>
              <a href="subject.html#3063">[ subject ]</a>
              <a href="author.html#3063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
