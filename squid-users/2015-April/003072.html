<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] handling different two way ssl-request via a proxy system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20handling%20different%20two%20way%20ssl-request%20via%20a%0A%20proxy%20system&In-Reply-To=%3C552D3E63.7080704%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003069.html">
   <LINK REL="Next"  HREF="003076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] handling different two way ssl-request via a proxy system</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20handling%20different%20two%20way%20ssl-request%20via%20a%0A%20proxy%20system&In-Reply-To=%3C552D3E63.7080704%40treenet.co.nz%3E"
       TITLE="[squid-users] handling different two way ssl-request via a proxy system">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Apr 14 16:20:51 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003069.html">[squid-users] handling different two way ssl-request via a proxy	system
</A></li>
        <LI>Next message (by thread): <A HREF="003076.html">[squid-users] handling different two way ssl-request via a	proxy system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3072">[ date ]</a>
              <a href="thread.html#3072">[ thread ]</a>
              <a href="subject.html#3072">[ subject ]</a>
              <a href="author.html#3072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/04/2015 11:57 p.m., Abdelouahed Haitoute wrote:
&gt;<i> 
</I>
&gt;<i> There are two thing I haven&#8217;t realized in the development
</I>&gt;<i> environment, because I don&#8217;t know how:
</I>&gt;<i> 1. Making the Squid 3.1.10 to use a proxy system, because that&#8217;s our
</I>&gt;<i> policy to communicate to the outside world. In apache we use the
</I>&gt;<i> following directive: &#8220;ProxyRemote https <A HREF="http://192.168.68.102:3128">http://192.168.68.102:3128</A>
</I>&gt;<i> &lt;<A HREF="http://192.168.68.102:3128/">http://192.168.68.102:3128/</A>&gt;&quot;
</I>
In squid.conf:

 cache_peer 192.168.68.102 parent 3128 0


&gt;<i>
</I>&gt;<i> 2. Making the configuration variable as much as possible. So the
</I>&gt;<i> Squid 3.1.10 handles all different http client requests to different
</I>&gt;<i> https servers and send them as a https two-way ssl. Currently it
</I>&gt;<i> only handles request for https.example.com
</I>&gt;<i> &lt;<A HREF="http://https.example.com/">http://https.example.com/</A>&gt;.
</I>

Use the sslproxy_* directives instead of cache_peer.


However you have two problems:

Problem A)
 requirements #1 and #2 above are mutually exclusive.

 Obeying #1 involves sending traffic from Squid to the parent proxy for
action.

 Obeying #2 involves opening direct TLS connections from Squid to the
origin servers.


Problem B)
 Translating between <A HREF="http://">http://</A> and <A HREF="https://">https://</A> is explicitly forbidden in
both HTTP and HTTPS protocol security requirements.

 Squid does not permit that highly dangerous action to be taken. However
there are several other possibilities depending on what you actually
need done.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003069.html">[squid-users] handling different two way ssl-request via a proxy	system
</A></li>
	<LI>Next message (by thread): <A HREF="003076.html">[squid-users] handling different two way ssl-request via a	proxy system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3072">[ date ]</a>
              <a href="thread.html#3072">[ thread ]</a>
              <a href="subject.html#3072">[ subject ]</a>
              <a href="author.html#3072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
