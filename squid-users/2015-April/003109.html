<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Integrate Squid Kerberos auth and Squidguard	ldapusersearch into AD
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Integrate%20Squid%20Kerberos%20auth%20and%20Squidguard%0A%09ldapusersearch%20into%20AD&In-Reply-To=%3C1429108682047-4670758.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003103.html">
   <LINK REL="Next"  HREF="003110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Integrate Squid Kerberos auth and Squidguard	ldapusersearch into AD</H1>
    <B>tchristin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Integrate%20Squid%20Kerberos%20auth%20and%20Squidguard%0A%09ldapusersearch%20into%20AD&In-Reply-To=%3C1429108682047-4670758.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Integrate Squid Kerberos auth and Squidguard	ldapusersearch into AD">timothee.christin at gmail.com
       </A><BR>
    <I>Wed Apr 15 14:38:02 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003103.html">[squid-users] Squid 3.4.8 - Forwarding loop detected - Squid doesn't forward request to outside
</A></li>
        <LI>Next message (by thread): <A HREF="003110.html">[squid-users] Integrate Squid Kerberos auth and Squidguard ldapusersearch into AD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3109">[ date ]</a>
              <a href="thread.html#3109">[ thread ]</a>
              <a href="subject.html#3109">[ subject ]</a>
              <a href="author.html#3109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm having trouble with Squid Kerberos auth and the Squidguard
ldapusersearch that I use to apply ACLs by Active Directory groups
membership.

The problem is :

- Squid and Squidguard see my user as : '<A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at domain.local</A>' so the '%s'
variable of squidguard is '<A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at domain.local</A>'.
- In my ldap query there is no default property that can interpret this
string.

So I would like to strip/hide the realm of the username to let the LDAP
query work with the sAMAccountName attribute.

How can I proceed to have %s = user and not %s = <A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at domain.local</A> ?

I precise that the UPN is equal to the mail adress so it's not usable.

I'm using version 3.1.20 of Squid Cache and version 1.5 (debian package of
squidGuard).

Thanks for your help !




--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Integrate-Squid-Kerberos-auth-and-Squidguard-ldapusersearch-into-AD-tp4670758.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Integrate-Squid-Kerberos-auth-and-Squidguard-ldapusersearch-into-AD-tp4670758.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003103.html">[squid-users] Squid 3.4.8 - Forwarding loop detected - Squid doesn't forward request to outside
</A></li>
	<LI>Next message (by thread): <A HREF="003110.html">[squid-users] Integrate Squid Kerberos auth and Squidguard ldapusersearch into AD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3109">[ date ]</a>
              <a href="thread.html#3109">[ thread ]</a>
              <a href="subject.html#3109">[ subject ]</a>
              <a href="author.html#3109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
