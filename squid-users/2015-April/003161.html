<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Individual delay pools and youtube
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Individual%20delay%20pools%20and%20youtube&In-Reply-To=%3C5533A29D.9090009%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003137.html">
   <LINK REL="Next"  HREF="003174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Individual delay pools and youtube</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Individual%20delay%20pools%20and%20youtube&In-Reply-To=%3C5533A29D.9090009%40treenet.co.nz%3E"
       TITLE="[squid-users] Individual delay pools and youtube">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Apr 19 12:42:05 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003137.html">[squid-users] Individual delay pools and youtube
</A></li>
        <LI>Next message (by thread): <A HREF="003174.html">[squid-users] Individual delay pools and youtube
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3161">[ date ]</a>
              <a href="thread.html#3161">[ thread ]</a>
              <a href="subject.html#3161">[ subject ]</a>
              <a href="author.html#3161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/04/2015 1:30 p.m., djch wrote:
&gt;<i> I just wanted to revive this thread to note that:
</I>&gt;<i> 
</I>&gt;<i> - Delay pools apply just fine to HTTPS requests in Squid 2.7.
</I>&gt;<i> - Delay pools in Squid 3.4.x are also applied to HTTPS but the speed is not
</I>&gt;<i> correct. 
</I>&gt;<i>   - If I apply a 56 Kbps limit the HTTP download tops out at ~7 KB/s.
</I>
That *is* correct.

   56K *bits* /sec == 7K *Bytes* /sec.

   7x8 = 56


&gt;<i> If I
</I>&gt;<i> download the same file from the same server via HTTPS it tops out at
</I>&gt;<i> ~90KB/s. If I download the same file over HTTPS with no delay pools
</I>&gt;<i> configured it tops at around 3MB/s.
</I>
Are you sure thats actually HTTPS ?

CONNECT tunnels these days could contain HTTP/2, SPDY, WebSockets or
data in some other (compressed?) format. Any of which achieve faster
percieved &quot;download&quot; than HTTP using the same basic bytes/sec data rate.

NP: squid-2.7 contains a CONNECT bug that prevents SPDY HTTP/2 and
Websockets working properly.

&gt;<i> 
</I>&gt;<i> So I guess that would make this a bug? Which I assume nobody wants to fix
</I>&gt;<i> 'cause they're going to be deprecated at some point soon?
</I>&gt;<i> 
</I>
Its a matter of interest. With FOSS you have to cause someone to be
interested in fixing the bug. Best way to do that is to fix it yourself
and present a patch and get it through review to merge. Second best is
to find someone to pay to do all that. Or you can join the many people
who opted just to wait and pray someone else will give it to them free
one day.

There is another option with delay pools. The pooling system is *just* a
packet rate limiting system. The OS these days have several such QoS
systems built in that work far better than Squid algorithms (admittedly
not on a HTTP per-message basis). If you want total traffic control give
those a try.

Amos



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003137.html">[squid-users] Individual delay pools and youtube
</A></li>
	<LI>Next message (by thread): <A HREF="003174.html">[squid-users] Individual delay pools and youtube
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3161">[ date ]</a>
              <a href="thread.html#3161">[ thread ]</a>
              <a href="subject.html#3161">[ subject ]</a>
              <a href="author.html#3161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
