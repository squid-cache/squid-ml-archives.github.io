<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ERR_ONLY_IF_CACHED_MISS and cache digests problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ERR_ONLY_IF_CACHED_MISS%20and%20cache%20digests%20problem&In-Reply-To=%3C20150423083524.GA92752%40admin.sibptus.tomsk.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003226.html">
   <LINK REL="Next"  HREF="003227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ERR_ONLY_IF_CACHED_MISS and cache digests problem</H1>
    <B>Victor Sudakov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ERR_ONLY_IF_CACHED_MISS%20and%20cache%20digests%20problem&In-Reply-To=%3C20150423083524.GA92752%40admin.sibptus.tomsk.ru%3E"
       TITLE="[squid-users] ERR_ONLY_IF_CACHED_MISS and cache digests problem">sudakov at sibptus.tomsk.ru
       </A><BR>
    <I>Thu Apr 23 08:35:24 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003226.html">[squid-users] ERR_ONLY_IF_CACHED_MISS and cache digests problem
</A></li>
        <LI>Next message (by thread): <A HREF="003227.html">[squid-users] ssl_bump peek in squid-3.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3231">[ date ]</a>
              <a href="thread.html#3231">[ thread ]</a>
              <a href="subject.html#3231">[ subject ]</a>
              <a href="author.html#3231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos Jeffries wrote:

[dd]

&gt;<i> 
</I>&gt;<i> I dont think anything is wrong wth either. Its more a collision in how
</I>&gt;<i> the features work vs the protocols.
</I>&gt;<i> 
</I>&gt;<i> Cache Digests (CD) are exchanged periodically and updated approx hourly.
</I>&gt;<i> Also they are based on just the URL. So there is always a gap where they
</I>&gt;<i> may not be accurate for any highly volatile objects, and variant objects
</I>&gt;<i> (using Vary headers) will have a high false-positive rate.
</I>&gt;<i> 
</I>&gt;<i> only-if-cached requires the *right now* state of the object to be fresh
</I>&gt;<i> and in cache. It takes account of both the URL and the entire HTTP
</I>&gt;<i> headers. So
</I>&gt;<i> 
</I>&gt;<i> The ICP protocol used as a backup to confirm objects existence also
</I>&gt;<i> suffers the same URL basis problem as CD. They work fine for HTTP/1.0
</I>&gt;<i> but HTTP/1.1 features dont fare quite so well.
</I>
Thank you Amos, now I understand the mechanics behind this. However,
I'd prefer that users do not receive this frustrating error in a setup
with has nothing inherently wrong about it (especially frustrating is
the fact that they receive the error from the wrong proxy server, not the
one they have configured in the browser settings).

Do I understand correctly that the only way to avoid this error
message is to switch to HTCP (and ditch both ICP and CD)?

-- 
Victor Sudakov,  VAS4-RIPE, VAS47-RIPN
sip:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">sudakov at sibptus.tomsk.ru</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003226.html">[squid-users] ERR_ONLY_IF_CACHED_MISS and cache digests problem
</A></li>
	<LI>Next message (by thread): <A HREF="003227.html">[squid-users] ssl_bump peek in squid-3.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3231">[ date ]</a>
              <a href="thread.html#3231">[ thread ]</a>
              <a href="subject.html#3231">[ subject ]</a>
              <a href="author.html#3231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
