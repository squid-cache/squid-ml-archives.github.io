<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ACL why does this not work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ACL%20why%20does%20this%20not%20work%3F&In-Reply-To=%3C5542C136.50904%40seiner.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003341.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ACL why does this not work?</H1>
    <B>Yan Seiner</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ACL%20why%20does%20this%20not%20work%3F&In-Reply-To=%3C5542C136.50904%40seiner.com%3E"
       TITLE="[squid-users] ACL why does this not work?">yan at seiner.com
       </A><BR>
    <I>Thu Apr 30 23:56:38 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003341.html">[squid-users] Cache strategy advice
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3350">[ date ]</a>
              <a href="thread.html#3350">[ thread ]</a>
              <a href="subject.html#3350">[ subject ]</a>
              <a href="author.html#3350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to prevent squid from proxying to an authorized subnet.

I want to write a set of acl rules that say that if a request does not 
come from the authorized subnet then it should not be allowed to connect 
to the authorized web server.

acl auth_net src 192.168.4.0/24
acl auth dst 192.168.4.1
http_access deny !auth_net auth

AFAICT something like the above should work but it doesn't.  squid 
proxies requests from anywhere on the network to the authorized 
webserver, getting right around the firewall.

Any suggestions on how to make this work?

Thanks.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003341.html">[squid-users] Cache strategy advice
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3350">[ date ]</a>
              <a href="thread.html#3350">[ thread ]</a>
              <a href="subject.html#3350">[ subject ]</a>
              <a href="author.html#3350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
