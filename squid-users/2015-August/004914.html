<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Deny Caching of Video and Audio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Deny%20Caching%20of%20Video%20and%20Audio&In-Reply-To=%3C55C12216.4040707%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004912.html">
   <LINK REL="Next"  HREF="004913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Deny Caching of Video and Audio</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Deny%20Caching%20of%20Video%20and%20Audio&In-Reply-To=%3C55C12216.4040707%40ngtech.co.il%3E"
       TITLE="[squid-users] Deny Caching of Video and Audio">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue Aug  4 20:35:34 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004912.html">[squid-users] Deny Caching of Video and Audio
</A></li>
        <LI>Next message (by thread): <A HREF="004913.html">[squid-users] Deny Caching of Video and Audio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4914">[ date ]</a>
              <a href="thread.html#4914">[ thread ]</a>
              <a href="subject.html#4914">[ subject ]</a>
              <a href="author.html#4914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But in the other hand there is a way to determine some of the domains 
which contains videos.
Specifically for google it's:
.googlevideo.com

For other sites I assume that regular statistics check of the access.log 
can help with finding what your users use the most and minimize the 
specific videos.

It's not an easy thing to do but sometimes needed.

Eliezer

On 04/08/2015 17:19, Amos Jeffries wrote:
&gt;<i> On 5/08/2015 1:29 a.m., markme wrote:
</I>&gt;&gt;<i> Well we don't mind caching large objects such as anti-virus updates or other
</I>&gt;&gt;<i> updates. My manager specifically asked to not cache media such as video and
</I>&gt;&gt;<i> audio. So is there like a refresh pattern that I can use or an ACL to deny
</I>&gt;&gt;<i> caching of all video and audio?
</I>&gt;<i>
</I>&gt;<i> Sadly no. It's not even possible to *identify* all audio and video. So
</I>&gt;<i> many known and known-weird ways it could be smuggled around.
</I>&gt;<i>   Flash (.flv) for example is not video or audio. Its a script (yay^HH
</I>&gt;<i> boo for binary blobs).
</I>&gt;<i>
</I>&gt;<i> Best you can hope for is rep_mime_type ACL check for video and audio
</I>&gt;<i> mime types. You will also need the Squid-3.5 store_miss feature to use
</I>&gt;<i> it for non-caching when it matches (&quot;cache deny ...&quot; wont work on
</I>&gt;<i> responses).
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004912.html">[squid-users] Deny Caching of Video and Audio
</A></li>
	<LI>Next message (by thread): <A HREF="004913.html">[squid-users] Deny Caching of Video and Audio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4914">[ date ]</a>
              <a href="thread.html#4914">[ thread ]</a>
              <a href="subject.html#4914">[ subject ]</a>
              <a href="author.html#4914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
