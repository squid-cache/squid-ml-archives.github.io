<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] peek and splice content inspection question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20peek%20and%20splice%20content%20inspection%20question&In-Reply-To=%3C55CD048F.7090907%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005002.html">
   <LINK REL="Next"  HREF="005004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] peek and splice content inspection question</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20peek%20and%20splice%20content%20inspection%20question&In-Reply-To=%3C55CD048F.7090907%40measurement-factory.com%3E"
       TITLE="[squid-users] peek and splice content inspection question">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Aug 13 20:56:47 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005002.html">[squid-users] peek and splice content inspection question
</A></li>
        <LI>Next message (by thread): <A HREF="005004.html">[squid-users] peek and splice content inspection question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5003">[ date ]</a>
              <a href="thread.html#5003">[ thread ]</a>
              <a href="subject.html#5003">[ subject ]</a>
              <a href="author.html#5003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/13/2015 09:38 AM, Amos Jeffries wrote:
&gt;<i> On 14/08/2015 12:47 a.m., Marko Cupa&#263; wrote:
</I>&gt;&gt;<i> Is it possible - by means of squid's peek and splice feature - to
</I>&gt;&gt;<i> inspect file extensions and mime types of https traffic? Can bumped
</I>&gt;&gt;<i> https traffic be forwarded to icap (squidclamav) for AV scanning?
</I>
&gt;<i> Doing so is the features intended purpose.
</I>

And you may be able to use either Secure ICAP (Squid 4) or the eCAP
ClamAV adapter for AV scanning without transmitting bumped messages over
plain text ICAP connections.


&gt;<i> if I just send traffic to squidclamav on icap
</I>&gt;<i> tcp port, then I don't store usernames and passwords or private emails
</I>&gt;<i> in cache?
</I>
Squid caching is not related to AV scanning. If you do not disable
caching, Squid will cache cachable responses. IIRC, the code making the
cachability decision does not check whether the response was bumped.
However, you may configure it to do so using the &quot;cache&quot; directive:

  <A HREF="http://www.squid-cache.org/Doc/config/cache/">http://www.squid-cache.org/Doc/config/cache/</A>

Said that, most responses with private information should not be
cachable by default because the server should mark them as such.


The current eCAP ClamAV adapter [temporary] stores message bodies on
disk to pass them to the ClamAV library for analysis. I do not know
about squidclamav.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005002.html">[squid-users] peek and splice content inspection question
</A></li>
	<LI>Next message (by thread): <A HREF="005004.html">[squid-users] peek and splice content inspection question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5003">[ date ]</a>
              <a href="thread.html#5003">[ thread ]</a>
              <a href="subject.html#5003">[ subject ]</a>
              <a href="author.html#5003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
