<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Using Squid as forward http proxy failing to complete	request?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20Squid%20as%20forward%20http%20proxy%20failing%20to%20complete%0A%09request%3F&In-Reply-To=%3CCAP3%3DH7s77gS1cYZdtyhVu9qmuDdRM3G9wHteSk8cL%3Dy4Z0xWNQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005137.html">
   <LINK REL="Next"  HREF="005121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Using Squid as forward http proxy failing to complete	request?</H1>
    <B>asad</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20Squid%20as%20forward%20http%20proxy%20failing%20to%20complete%0A%09request%3F&In-Reply-To=%3CCAP3%3DH7s77gS1cYZdtyhVu9qmuDdRM3G9wHteSk8cL%3Dy4Z0xWNQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Using Squid as forward http proxy failing to complete	request?">a.alii85 at gmail.com
       </A><BR>
    <I>Fri Aug 21 13:39:21 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005137.html">[squid-users] ssl_bump updates coming in 3.5.8
</A></li>
        <LI>Next message (by thread): <A HREF="005121.html">[squid-users] Using Squid as forward http proxy failing to complete request?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5118">[ date ]</a>
              <a href="thread.html#5118">[ thread ]</a>
              <a href="subject.html#5118">[ subject ]</a>
              <a href="author.html#5118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using Squid as local proxy.

I have the config file as below:-#

    # Recommended minimum configuration:
    #

    # Example rule allowing access from your local networks.
    # Adapt to list your (internal) IP networks from where browsing
    # should be allowed

    acl localnet src 10.0.0.0/8    # RFC1918 possible internal network
    acl localnet src 172.16.0.0/12    # RFC1918 possible internal network
    acl localnet src 192.168.0.0/16    # RFC1918 possible internal network
    acl localnet src fc00::/7       # RFC 4193 local private network range
    acl localnet src fe80::/10      # RFC 4291 link-local (directly
plugged) machines

    acl SSL_ports port 443
    acl Safe_ports port 80        # http
    acl Safe_ports port 21        # ftp
    acl Safe_ports port 443        # https
    acl Safe_ports port 70        # gopher
    acl Safe_ports port 210        # wais
    acl Safe_ports port 1025-65535    # unregistered ports
    acl Safe_ports port 280        # http-mgmt
    acl Safe_ports port 488        # gss-http
    acl Safe_ports port 591        # filemaker
    acl Safe_ports port 777        # multiling http
    acl CONNECT method CONNECT

    #
    # Recommended minimum Access Permission configuration:
    #

    # Only allow cachemgr access from localhost
    http_access allow localhost manager
    http_access deny manager

    # Deny requests to certain unsafe ports
    http_access deny !Safe_ports

    # Deny CONNECT to other than secure SSL ports
    http_access deny CONNECT !SSL_ports

    # We strongly recommend the following be uncommented to protect innocent
    # web applications running on the proxy server who think the only
    # one who can access services on &quot;localhost&quot; is a local user
    #http_access deny to_localhost

    #
    # INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS
    #

    # Example rule allowing access from your local networks.
    # Adapt localnet in the ACL section to list your (internal) IP networks
    # from where browsing should be allowed
    http_access allow localnet
    http_access allow localhost

    # And finally deny all other access to this proxy
    http_access deny all

    # Squid normally listens to port 3128
    http_port 3128

    # Uncomment the line below to enable disk caching - path format is
/cygdrive/&lt;full path to cache folder&gt;, i.e.
    #cache_dir aufs /cygdrive/d/squid/cache 3000 16 256



*  cache_peer 10.1.2.3 parent 8080 0 no-query default
login=my_username:my_password    never_direct allow all*

    # Leave coredumps in the first cache dir
    coredump_dir /var/cache/squid

    # Add any of your own refresh_pattern entries above these.
    refresh_pattern ^ftp:        1440    20%    10080
    refresh_pattern ^gopher:    1440    0%    1440
    refresh_pattern -i (/cgi-bin/|\?) 0    0%    0
    refresh_pattern .        0    20%    4320

    dns_nameservers 8.8.8.8 208.67.222.222

    max_filedescriptors 3200

Now, I want to use it as forward proxy For that the configuration is shown
in the config file in ***bold-text***.

I have browsed tons of web-pages and all have said to include a line
similar to this. Beyond this configuration, I don't know what else to add
in order to make it work.


One, thing under safe_port should I be changing the http port to &quot;8080&quot;
since my local machine is already behind another proxy.

Also, I'm using domain authentication (NTLM) to connect to other proxy. Is
authentication configuration required beside what already done in config
file.

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150821/ce795c86/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150821/ce795c86/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005137.html">[squid-users] ssl_bump updates coming in 3.5.8
</A></li>
	<LI>Next message (by thread): <A HREF="005121.html">[squid-users] Using Squid as forward http proxy failing to complete request?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5118">[ date ]</a>
              <a href="thread.html#5118">[ thread ]</a>
              <a href="subject.html#5118">[ subject ]</a>
              <a href="author.html#5118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
