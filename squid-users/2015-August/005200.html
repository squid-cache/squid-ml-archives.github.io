<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid and compression
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20compression&In-Reply-To=%3C55DEDCE9.5000003%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005198.html">
   <LINK REL="Next"  HREF="005129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid and compression</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20compression&In-Reply-To=%3C55DEDCE9.5000003%40gmail.com%3E"
       TITLE="[squid-users] Squid and compression">yvoinov at gmail.com
       </A><BR>
    <I>Thu Aug 27 09:48:25 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005198.html">[squid-users] Squid and compression
</A></li>
        <LI>Next message (by thread): <A HREF="005129.html">[squid-users] Getting Invalid ACL type 'all-of' ... Please help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5200">[ date ]</a>
              <a href="thread.html#5200">[ thread ]</a>
              <a href="subject.html#5200">[ subject ]</a>
              <a href="author.html#5200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
I agree in general, but there are some considerations.

1. Compressed content is almost always becomes unique. Which leads to a
dramatic decrease in the cache hit ratio.

2. Compression actually became a de facto standard on the Internet.

3. Project ecap-gzip looks dead for over three years as squidguard.
There is no active maintainers and we have to dig in sources myself.
Solution compatibility do not actually confirm or not the Squid team.
While independent tests confirm the compatibility and show good results.

4. The structure of Squid-3 actually included a third-party utility
purge. What prevents the same way include ecap-gzip directly in code,
without ecap usage?

It is not about exotic functionality demanded a bunch of geeks. It is
about having the widest distribution of functionality, more than 90% of
servers on the Internet are using compression. This is not a whim of the
user. This is servers default behaviour. And I believe that the caching
proxy default is to use all that as part of the standard, to obtain the
highest possible degree of caching.

WBR, Yuri

PS. Amos, I generally agree that we talk functionality, which &quot;will not
be implemented neve because we do not want to do that.&quot; But you will
agree that my arguments are essential.

27.08.15 9:49, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> On 27/08/2015 8:50 a.m., Yuri Voinov wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Btw,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> when Squid will directly support gzip, inflate compression itself?
</I>&gt;<i>
</I>&gt;<i> Thats a tough question. &quot;When someone does it.&quot; is the sadly true cliche.
</I>&gt;<i>
</I>&gt;<i> Transfer-Encoding with gzip is what Squid as a proxy is actually
</I>&gt;<i> expected to do by the protocol. But neither Squid nor most other
</I>&gt;<i> software implement it so its not got much demand. I'm working on it as a
</I>&gt;<i> hobby task and a favour for a customer who cant get signoff on big costs
</I>&gt;<i> for such a low-gain feature. So small steps at a time and still a ways
</I>&gt;<i> off at this rate.
</I>&gt;<i>  (exactly *when* is sponsor dependent. Anyone want to front up a few
</I>&gt;<i> weeks or months of full-time developer paycheck to see it happen by Jan
</I>&gt;<i> 2016 or some deadline like that?)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But what most of you are talking about with this gzip question is
</I>&gt;<i> actually Content-Encoding:gzip as used by browser and origin servers.
</I>&gt;<i> Recoding that on the fly is content adaptation. An eCAP service plugin
</I>&gt;<i> already exists and was the right way to go IMHO. I'm not sure what
</I>&gt;<i> happend to the plugins author. Theres still lots of optimization stuff
</I>&gt;<i> to be done in that area.
</I>&gt;<i>
</I>&gt;<i> Normalizing the Accept headers before Vary processing is simpler change.
</I>&gt;<i> But again needs someone interested in doing it, and is possibly better
</I>&gt;<i> suited to the eCAP adaper doing in prep for its reply transformations.
</I>&gt;<i> This Vary stuff does have a fair few bugs and missing bits so its not
</I>&gt;<i> quite clean sailing or would have happened years ago.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So lots to be done. But nobody with money has enough interest right now
</I>&gt;<i> in seeing it happen. Whats the phrase, &quot;free as in freedom, not beer&quot;.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJV3tzpAAoJENNXIZxhPexGofcIAMUA+huUxU4q+x0Q4zWQu6pf
Oy/5+xzAyYIpTwV4yptmuvn9sjn6dkeF5jfNnkERdvNvS/jWU3dVxCs5CkpWnmV8
guKCycyh+dDLsDisp2+xi46UnZQNNcpvpJgxnjNK84Mft44SNtHPX4+upXi9B276
UjXwjkOjhcBll+kRiNJKlYMyd9p/5parOG01SWPXhUBiI0ON0QS5mQ8cJdyA6Dsa
quxv8iL/3BCfT71rEgOYSHYb5JmZIBGtIIb4oVAtytBgPOTCJCJZOf8CSLd8x33t
GlfhV9nocAFjndQ1N2tSPyQ4EKQEmmLsHlHlnyGgSPMdx23et4CdMoaRh0tp49c=
=8Dx/
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150827/128a3320/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150827/128a3320/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005198.html">[squid-users] Squid and compression
</A></li>
	<LI>Next message (by thread): <A HREF="005129.html">[squid-users] Getting Invalid ACL type 'all-of' ... Please help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5200">[ date ]</a>
              <a href="thread.html#5200">[ thread ]</a>
              <a href="subject.html#5200">[ subject ]</a>
              <a href="author.html#5200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
