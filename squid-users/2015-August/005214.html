<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Zero Sized Reply
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Zero%20Sized%20Reply&In-Reply-To=%3CCAMeoTHnq9mD9T6wt03PNaV%2Bt9ijVOJShgvS7PrFzeHzFqoxf%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005213.html">
   <LINK REL="Next"  HREF="005215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Zero Sized Reply</H1>
    <B>Jorgeley Junior</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Zero%20Sized%20Reply&In-Reply-To=%3CCAMeoTHnq9mD9T6wt03PNaV%2Bt9ijVOJShgvS7PrFzeHzFqoxf%2BQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Zero Sized Reply">jorgeley at gmail.com
       </A><BR>
    <I>Thu Aug 27 18:13:59 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005213.html">[squid-users] Zero Sized Reply
</A></li>
        <LI>Next message (by thread): <A HREF="005215.html">[squid-users] Zero Sized Reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5214">[ date ]</a>
              <a href="thread.html#5214">[ thread ]</a>
              <a href="subject.html#5214">[ subject ]</a>
              <a href="author.html#5214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>seens like the web server is a ISS, look at that:
2015/08/27 11:44:11.087 kid1| ctx: enter level  0: '
<A HREF="http://www.grupoatuall.com.br/favicon.ico">http://www.grupoatuall.com.br/favicon.ico</A>'
2015/08/27 11:44:11.087 kid1| http.cc(695) processReplyHeader:
processReplyHeader: key 'B8D92AE82DF4B8ED3202042600CED02D'
2015/08/27 11:44:11.087 kid1| HttpHeader.cc(446) HttpHeader: init-ing hdr:
0x20b0218 owner: 3
2015/08/27 11:44:11.087 kid1| cbdata.cc(299) cbdataInternalAlloc:
Allocating 0x20ada98
2015/08/27 11:44:11.087 kid1| HttpHeader.cc(1192) has: 0x20b0218 lookup for
49
2015/08/27 11:44:11.087 kid1| HttpHeader.cc(1192) has: 0x20b0218 lookup for
11
2015/08/27 11:44:11.087 kid1| HttpHeader.cc(1192) has: 0x20b0218 lookup for
26
2015/08/27 11:44:11.087 kid1| HttpHeader.cc(595) parse: parsing hdr:
(0x20b0218)
Content-Type: text/html^M
Server: Microsoft-IIS/7.5^M
X-Powered-By: ASP.NET^M
X-Powered-By-Plesk: PleskWin^M
Date: Thu, 27 Aug 2015 14:48:18 GMT^M
Content-Length: 1080^M
...(more logs)
2015/08/27 11:44:11.087 kid1| HttpMsg.cc(176) parse: HttpMsg::parse success
(190 bytes) near 'HTTP/1.1 404 Not Found^M
Content-Type: text/html^M
Server: Microsoft-IIS/7.5^M
X-Powered-By: ASP.NET^M
X-Powered-By-Plesk: PleskWin^M
Date: Thu, 27 Aug 2015 14:48:18 GMT^M
Content-Length: 1080^M
^M
&lt;HTML&gt;^M
&lt;HEAD&gt;^M
&lt;TITLE&gt;404 Not Found&lt;/TITLE&gt;^M
&lt;/HEAD&gt;^M
&lt;BODY&gt;^M
&lt;H1&gt;Not Found&lt;/H1&gt;^M
The requested document was not found on this server.^M
&lt;P&gt;^M
&lt;HR&gt;^M
&lt;ADDRESS&gt;^M
Web Server at
&#103;&#114;&#117;&#112;&#111;&#97;&#116;&#117;&#97;&#108;&#108;&#46;&#99;&#111;&#109;&#46;&#98;&#114;^M
&lt;/ADDRESS&gt;^M
&lt;/BODY&gt;^M
&lt;/HTML&gt;^M
^M
&lt;!--^M
   - Unfortunately, Microsoft has added a clever new^M
   - &quot;feature&quot; to Internet Explorer. If the text of^M
   - an error's message is &quot;too small&quot;, specifically^M
   - less than 512 bytes, Internet Explorer returns^M
   - its own error message. You can turn that off,^M
   - but it's pretty tricky to find switch called^M
   - &quot;smart error messages&quot;. That means, of course,^M
   - that short error messages are censored by default.^M
   - IIS always returns error messages that are long^M
   - enough to make Internet Explorer happy. The^M
   - workaround is pretty simple: pad the error^M
   - message with a big comment like this to push it^M
   - over the five hundred and twelve bytes minimum.^M
   - Of course, that's exactly what you're reading^M
   - right now.^M
   --&gt;^M
'
2015/08/27 11:44:11.087 kid1| http.cc(739) processReplyHeader: HTTP Server
local=192.168.25.2:43147 remote=200.98.190.9:80 FD 98 flags=1
2015/08/27 11:44:11.087 kid1| http.cc(740) processReplyHeader: HTTP Server
REPLY:
---------
HTTP/1.1 404 Not Found^M

572544,4      69%


2015-08-27 14:49 GMT-03:00 Jorgeley Junior &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">jorgeley at gmail.com</A>&gt;:

&gt;<i> Amos, thank you so much for attention, but sorry, I didn't understand what
</I>&gt;<i> you said.
</I>&gt;<i> So, I tried to change the http for https and it showed the website and i
</I>&gt;<i> added the security exception for no trusted certificate, but I really would
</I>&gt;<i> like that the squid didn't show the error.
</I>&gt;<i> Why http show de Zero Sized Reply and https no?
</I>&gt;<i>
</I>&gt;<i> 2015-08-27 14:21 GMT-03:00 Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;:
</I>&gt;<i>
</I>&gt;&gt;<i> On 28/08/2015 5:04 a.m., Jorgeley Junior wrote:
</I>&gt;&gt;<i> &gt; more logs:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Aha! the first bit. What Squid sent to the server:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; 2015/08/27 11:43:31.301 kid1| http.cc(2217) sendRequest: HTTP Server
</I>&gt;&gt;<i> local=
</I>&gt;&gt;<i> &gt; 192.168.25.2:43127 remote=200.98.190.9:80 FD 66 flags=1
</I>&gt;&gt;<i> &gt; 2015/08/27 11:43:31.301 kid1| http.cc(2218) sendRequest: HTTP Server
</I>&gt;&gt;<i> &gt; REQUEST:
</I>&gt;&gt;<i> &gt; ---------
</I>&gt;&gt;<i> &gt; GET / HTTP/1.1^M
</I>&gt;&gt;<i> &gt; Host: www.grupoatuall.com.br^M
</I>&gt;&gt;<i> &gt; User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:40.0)
</I>&gt;&gt;<i> Gecko/20100101
</I>&gt;&gt;<i> &gt; Firefox/40.0^M
</I>&gt;&gt;<i> &gt; Accept:
</I>&gt;&gt;<i> text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8^M
</I>&gt;&gt;<i> &gt; Accept-Language: pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3^M
</I>&gt;&gt;<i> &gt; Accept-Encoding: gzip, deflate^M
</I>&gt;&gt;<i> &gt; Via: 1.1 firewall (squid)^M
</I>&gt;&gt;<i> &gt; X-Forwarded-For: 192.168.1.11^M
</I>&gt;&gt;<i> &gt; Cache-Control: max-age=259200^M
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now. Notice the FD number (66) on the line at the top there. And look
</I>&gt;&gt;<i> for the very next set of headers with matching set of local=,remote=,FD
</I>&gt;&gt;<i> values but titled &quot;HTTP Server RESPONSE&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That is apparently the reply that failed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * Compare the timestamps of the request/reply lines to see if it reminds
</I>&gt;&gt;<i> you of any kind of timeout value you are aware of. Multiples of 30sec or
</I>&gt;&gt;<i> 5min are common for timeout settings.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * anything visibly wrong about the reply headers?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150827/b52c73cc/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150827/b52c73cc/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005213.html">[squid-users] Zero Sized Reply
</A></li>
	<LI>Next message (by thread): <A HREF="005215.html">[squid-users] Zero Sized Reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5214">[ date ]</a>
              <a href="thread.html#5214">[ thread ]</a>
              <a href="subject.html#5214">[ subject ]</a>
              <a href="author.html#5214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
