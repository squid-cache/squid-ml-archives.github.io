<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Internet Explorer error with SSL bumping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Internet%20Explorer%20error%20with%20SSL%20bumping&In-Reply-To=%3CSNT147-W7CA7DF76C058092BF14EECA6E0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005227.html">
   <LINK REL="Next"  HREF="005268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Internet Explorer error with SSL bumping</H1>
    <B>Oliver Webb</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Internet%20Explorer%20error%20with%20SSL%20bumping&In-Reply-To=%3CSNT147-W7CA7DF76C058092BF14EECA6E0%40phx.gbl%3E"
       TITLE="[squid-users] Internet Explorer error with SSL bumping">ow97 at outlook.com
       </A><BR>
    <I>Fri Aug 28 12:17:20 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005227.html">[squid-users] Internet Explorer error with SSL bumping
</A></li>
        <LI>Next message (by thread): <A HREF="005268.html">[squid-users] Internet Explorer error with SSL bumping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5228">[ date ]</a>
              <a href="thread.html#5228">[ thread ]</a>
              <a href="subject.html#5228">[ subject ]</a>
              <a href="author.html#5228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your reply Amos. I will explain a bit more of my setup in the hope it clarifies a few of the issues.

I have installed the certificate portion of squids key/cert into the trusted root store of all the devices concerned all clients see the &quot;server's&quot; certificate as being signed by squid's private key not the origin servers.
I have the following line in squid.conf to specifically stop the use of SSL
&#160; &#160;&#160;sslproxy_options NO_SSLv2 NO_SSLv3 SINGLE_DH_USE
If I navigate to the internal test site I have just created that has a self signed certificate the self signed cert gets passed through to the client for them to make their own decision

If there is no easy solution I will just avoid IE, which I won't be too upset about.

Thanks,
&#160; &#160; &#160;Oliver

----------------------------------------
&gt;<i> To:&#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> From: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>
</I>&gt;<i> Date: Fri, 28 Aug 2015 23:28:53 +1200
</I>&gt;<i> Subject: Re: [squid-users] Internet Explorer error with SSL bumping
</I>&gt;<i>
</I>&gt;<i> On 28/08/2015 9:58 p.m., Oliver Webb wrote:
</I>&gt;&gt;<i> I have transparent SSL bumping working perfectly in Chrome and
</I>&gt;&gt;<i> Safari
</I>&gt;<i> (iOS and Windows 7) and Internet Explorer *on Windows Phone*, and by
</I>&gt;<i> perfectly I mean no certificate warnings of any description for any site
</I>&gt;<i> everything just behaves normally (apart from the sites certificate being
</I>&gt;<i> signed by me.) However in Internet Explorer 11 on Windows 7 I get the
</I>&gt;<i> following message for all secure bumped sites (secure sites like ebay
</I>&gt;<i> for example load fine because I have configured not to be bumped and
</I>&gt;<i> also unsecure sites load fine as well)
</I>&gt;<i>
</I>&gt;&gt;<i> This page can&#8217;t be displayed
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Turn on TLS 1.0, TLS 1.1, and TLS 1.2 in Advanced settings and try connecting to
</I>&gt;&gt;<i> <A HREF="https://google.co.uk">https://google.co.uk</A> again. If this error persists, contact your site administrator.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I just wondered if anyone had any bright ideas as to what might be up.
</I>&gt;<i>
</I>&gt;<i> The complete lack of warnings is a BAD sign. It means the certificate
</I>&gt;<i> mimic feature is probably is not working at all.
</I>&gt;<i>
</I>&gt;<i> Mimic is supposed to pass certificate flaws in the server certs through
</I>&gt;<i> to the client/browser so all the security go/die decisions can be made
</I>&gt;<i> by the end-users own preference confg.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The error message you show implies that you have configured your proxy
</I>&gt;<i> for SSLv3-only or SSLv2-only. At least on the listening ports the
</I>&gt;<i> browser is connecting to. Though since it was displayed by a browser we
</I>&gt;<i> can't be 100% sure it contains truth (SSL-bump is feeding some bold lies
</I>&gt;<i> to it).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> PS. If not 3.5.7 or a later snapshot please try an upgrade.
</I>&gt;<i>
</I>&gt;<i> PPS. I'm told people are having pain from OpenSSL 0.9.8 apparently
</I>&gt;<i> trying to do TLS/1.0 in a way Squid does not handle properly right now.
</I>&gt;<i> If that library version is installed on the client you may need to wait
</I>&gt;<i> for a fix the guys are working on as I type this (ETA unknown). Though
</I>&gt;<i> if you can get the client to upgrade to a more current and secure
</I>&gt;<i> OpenSSL that would be even better.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I> 		 	   		  
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005227.html">[squid-users] Internet Explorer error with SSL bumping
</A></li>
	<LI>Next message (by thread): <A HREF="005268.html">[squid-users] Internet Explorer error with SSL bumping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5228">[ date ]</a>
              <a href="thread.html#5228">[ thread ]</a>
              <a href="subject.html#5228">[ subject ]</a>
              <a href="author.html#5228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
