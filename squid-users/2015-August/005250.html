<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] completely transparent Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20completely%20transparent%20Squid&In-Reply-To=%3C20150829203453.2e72a9f2%40efreet%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005249.html">
   <LINK REL="Next"  HREF="005252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] completely transparent Squid</H1>
    <B>Marko Cupa&#263;</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20completely%20transparent%20Squid&In-Reply-To=%3C20150829203453.2e72a9f2%40efreet%3E"
       TITLE="[squid-users] completely transparent Squid">marko.cupac at mimar.rs
       </A><BR>
    <I>Sat Aug 29 18:34:53 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005249.html">[squid-users] completely transparent Squid
</A></li>
        <LI>Next message (by thread): <A HREF="005252.html">[squid-users] completely transparent Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5250">[ date ]</a>
              <a href="thread.html#5250">[ thread ]</a>
              <a href="subject.html#5250">[ subject ]</a>
              <a href="author.html#5250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 29 Aug 2015 08:32:47 -0700 (PDT)
Arkantos &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">221184 at gmail.com</A>&gt; wrote:

&gt;<i> at the moment, i have installed CentOS 7.1.1503 on which Squid 3.3.8
</I>&gt;<i> and Webmin 1.760 are installed.
</I>&gt;<i> i have just initialised the cache. and thats that.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> on the Squid rig, i can access the internet through eth0
</I>&gt;<i> but i am finding it difficult to make the necessary config changes to
</I>&gt;<i> allow eth1 to give out connectivity to other computers.
</I>&gt;<i> 
</I>&gt;<i> i have tried bridging from this site, but it is not working:
</I>&gt;<i> <A HREF="https://sites.google.com/site/ghidit/how-to-2/configure-bridging-on-centos">https://sites.google.com/site/ghidit/how-to-2/configure-bridging-on-centos</A>
</I>&gt;<i> 
</I>&gt;<i> i dont know how to move forward.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What would you suggest?
</I>&gt;<i> please help.
</I>
I already suggested, but I'll try to suggest some more. Try to
concentrate on relevant stuff, which your version of Webmin surely
isn't. Actually I'd suggest you get rid of Webmin completely.

You should understand how data flows in transparent proxy. User's
browser generates packet destined to tcp port 80 or 443, but when it
arrives at the router, it redirects it to proxy instead of forwarding
it to the destination web server.

You will need to redirect web requests from your users' ip pool to
squid. In PF syntax this is something like:

users = &quot;{ 172.16.0.11 - 172.16.0.253 }&quot;
squid = &quot;{ 172.6.0.10 }&quot;
unifi_lan = &quot;{ 172.6.0.254 }&quot;

pass in on $unifi_lan proto tcp from $users to any port { 80 443 } \
	rdr-to $squid

Regards,
-- 
Marko Cupa&#263;
<A HREF="https://www.mimar.rs/">https://www.mimar.rs/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005249.html">[squid-users] completely transparent Squid
</A></li>
	<LI>Next message (by thread): <A HREF="005252.html">[squid-users] completely transparent Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5250">[ date ]</a>
              <a href="thread.html#5250">[ thread ]</a>
              <a href="subject.html#5250">[ subject ]</a>
              <a href="author.html#5250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
