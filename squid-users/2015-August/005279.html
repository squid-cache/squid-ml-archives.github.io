<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] High-Availability in Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20High-Availability%20in%20Squid&In-Reply-To=%3C55E464AB.1020903%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005274.html">
   <LINK REL="Next"  HREF="005202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] High-Availability in Squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20High-Availability%20in%20Squid&In-Reply-To=%3C55E464AB.1020903%40treenet.co.nz%3E"
       TITLE="[squid-users] High-Availability in Squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Aug 31 14:28:59 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005274.html">[squid-users] High-Availability in Squid
</A></li>
        <LI>Next message (by thread): <A HREF="005202.html">[squid-users] peek all step with bump instance of proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5279">[ date ]</a>
              <a href="thread.html#5279">[ thread ]</a>
              <a href="subject.html#5279">[ subject ]</a>
              <a href="author.html#5279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 31/08/2015 6:23 p.m., Ashish Mukherjee wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Agree that Squid is a specialized proxy and more optimal architecture for
</I>&gt;<i> the purpose and trying to achieve HA on the Browser side is certainly a bad
</I>&gt;<i> idea.
</I>&gt;<i> 
</I>&gt;<i> Talking specifically of a reverse proxy scenario, whether one uses Squid or
</I>&gt;<i> Apache mod_proxy or something else may well depend upon what other features
</I>&gt;<i> are needed and the traffic volumes. In many reverse proxy environments
</I>&gt;<i> where more complex control is needed, mod_proxy seems to be often used with
</I>&gt;<i> modules like mod_rewrite.
</I>
Does it not strike you as somehow wrong that &quot;flexibility&quot; is gained by
mangling the original request URL in ways such that the script engines
do not see what the original actually is?

A very large portion of that &quot;complexity&quot; in the backend applications
and CGI is having to deal with the way the URL was (or might have been)
mangled by the server itself. Then guessing what URIs to output that the
client would understand in the public context.


&gt;<i> My understanding of Squid is that it does great
</I>&gt;<i> as a proxy but does not provide these features, as that is not its
</I>&gt;<i> purpose.  Does Squid have its own production level extensions for some
</I>&gt;<i> scenarios which may be typically addressed by Apache modules?
</I>

The key is again in the middle word of the phrase &quot;reverse proxy
scenario&quot;. If it is *proxy* related Squid does it.


extensions? everything relevant is core functionality to a proxy. But
yes, there are addons and extensions for integrating to particular
network situations. We call them &quot;helpers&quot;.

&quot;production level&quot;? Squid is the de-facto benchmark all the other
proxying software is compared against. Including mod_proxy. We usually
see them crowing about how fast they are at one particular little
targeted feature while glossing over the things they traded away to get
that speed. Squid goes somewhat slower overall, but fast enough and
&quot;does everything&quot;.


virtual hosting?
 http_port 80 accel vhost
 https_port 80 accel vhost

mod_rewrite?
 url_rewrite_program (a helper interface, script your own poison)

mod_proxy?
 cache_peer

authentication?
 auth_param (a helper interface)

security policies?
 acl (including a helper interface ACL)
 many *_access directives

message payload transcoding?
 ESI
 icap_service
 ecap_service


Okay that last one is not internal to Squid exactly (except ESI is), but
that is because of the line between proxy and origin: touching the
message content is not a proxy functionality.


The one scenario where using Apache modules makes complete sense is when
dealing with FastCGI and/or a mix of FastCGI and static content on the
same server. Thats where Apache came from, and it does it well.

Once you start getting into using HTTP to pull from other servers and/or
ports on one server you are moving well into territory where a proper
proxy is the better tool (not just Squid, there are others). Apache
simply wont scale. Squid scales both horizontally and vertically. Our
poster child installations are Wikimedia (~200 Squid serving up
Wikipedia on a scale of TB/sec), and FrontierNET at CERN (a mesh layout
pumping Petabytes of science data around, where the small files are
measured in GB).

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005274.html">[squid-users] High-Availability in Squid
</A></li>
	<LI>Next message (by thread): <A HREF="005202.html">[squid-users] peek all step with bump instance of proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5279">[ date ]</a>
              <a href="thread.html#5279">[ thread ]</a>
              <a href="subject.html#5279">[ subject ]</a>
              <a href="author.html#5279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
