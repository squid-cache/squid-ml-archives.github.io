<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid docs, http_access manager : mismatch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20docs%2C%20http_access%20manager%20%3A%20mismatch&In-Reply-To=%3C56603907.6040203%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008138.html">
   <LINK REL="Next"  HREF="008144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid docs, http_access manager : mismatch</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20docs%2C%20http_access%20manager%20%3A%20mismatch&In-Reply-To=%3C56603907.6040203%40treenet.co.nz%3E"
       TITLE="[squid-users] squid docs, http_access manager : mismatch">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Dec  3 12:43:51 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008138.html">[squid-users] squid docs, http_access manager : mismatch
</A></li>
        <LI>Next message (by thread): <A HREF="008144.html">[squid-users] How to limit user traffic quota? (GoGo net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8141">[ date ]</a>
              <a href="thread.html#8141">[ thread ]</a>
              <a href="subject.html#8141">[ subject ]</a>
              <a href="author.html#8141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/12/2015 1:17 a.m., <A HREF="https://lists.squid-cache.org/listinfo/squid-users">Massimo.Sala at asl.bergamo.it</A> wrote:
&gt;<i> I am reviewing our squid.conf about  http_access manager
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.squid-cache.org/Doc/config/http_access/">http://www.squid-cache.org/Doc/config/http_access/</A>
</I>&gt;<i> 
</I>&gt;<i>         http_access allow localhost manager
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://wiki.squid-cache.org/Features/CacheManager">http://wiki.squid-cache.org/Features/CacheManager</A>
</I>&gt;<i> 
</I>&gt;<i>         Cache manager Access Control in squid.conf
</I>&gt;<i>         http_access allow manager localhost
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Which is the correct syntax ?
</I>
Either is fine. The first is better.

The conditions on the line are AND'd together to decide if the action
(allow) is to be enacted. Best Practice is to place the fastest ACL
tests earlier, so if they mis-match its fast and raises overall
performance. There are a few exceptions, but this is not one of those
odd cases.

The manager ACL was changed in Squid-3.2 from a super-fast proto ACL
type to a slow(er) regex type. Old Squid have slightly faster
performance with &quot;manager localhost&quot; and current Squid have faster
performance with &quot;localhost manager&quot;. The difference is very marginal
though so it would not be noticed except under extremely heavy load
conditions.

Thank you for spotting this. I'm updating the wiki page now to align
with current recommendations.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008138.html">[squid-users] squid docs, http_access manager : mismatch
</A></li>
	<LI>Next message (by thread): <A HREF="008144.html">[squid-users] How to limit user traffic quota? (GoGo net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8141">[ date ]</a>
              <a href="thread.html#8141">[ thread ]</a>
              <a href="subject.html#8141">[ subject ]</a>
              <a href="author.html#8141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
