<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to limit user traffic quota? (GoGo net)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20limit%20user%20traffic%20quota%3F%20%28GoGo%20net%29&In-Reply-To=%3CCAH8HCTT1bAcFGxPa5cq7NLPts4Tc_SWF8gu0aXy7SvG9mLrQEQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008141.html">
   <LINK REL="Next"  HREF="008166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to limit user traffic quota? (GoGo net)</H1>
    <B>Robert Plamondon</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20limit%20user%20traffic%20quota%3F%20%28GoGo%20net%29&In-Reply-To=%3CCAH8HCTT1bAcFGxPa5cq7NLPts4Tc_SWF8gu0aXy7SvG9mLrQEQ%40mail.gmail.com%3E"
       TITLE="[squid-users] How to limit user traffic quota? (GoGo net)">robert at plamondon.com
       </A><BR>
    <I>Thu Dec  3 16:23:07 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008141.html">[squid-users] squid docs, http_access manager : mismatch
</A></li>
        <LI>Next message (by thread): <A HREF="008166.html">[squid-users] How to limit user traffic quota? (GoGo net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8144">[ date ]</a>
              <a href="thread.html#8144">[ thread ]</a>
              <a href="subject.html#8144">[ subject ]</a>
              <a href="author.html#8144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't used delay pools in a while, but I would think that the updated
Squid 3 delay pools (with 64-bit counters and per-authenticated-user
buckets) would allow such quotas.

I'd take the monthly quota and turn it into a per-second rate. If my math
isn't failing me, 100 GB/month = 38,500 bytes per second. That would be the
refill rate on the delay pool. Users will be guaranteed this rate. Their BW
would never be cut off, just throttled to the rate they're paying for.

Then pick a max value to taste. I like to populate delay pools to support
an enormous burst size (the &quot;maximum&quot; parameter in the pool), so the
bandwidth limitations will rarely if ever be encountered by the average
user. 10% of the monthly allotment, or 10 GB, (3 days' worth of bandwidth)
strikes me as a good starting point, but I wouldn't have much resistance to
even higher numbers, like 25%.

Robert
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151203/453344a8/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151203/453344a8/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008141.html">[squid-users] squid docs, http_access manager : mismatch
</A></li>
	<LI>Next message (by thread): <A HREF="008166.html">[squid-users] How to limit user traffic quota? (GoGo net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8144">[ date ]</a>
              <a href="thread.html#8144">[ thread ]</a>
              <a href="subject.html#8144">[ subject ]</a>
              <a href="author.html#8144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
