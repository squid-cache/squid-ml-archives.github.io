<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Authentication Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Authentication%20Problem&In-Reply-To=%3CCAOpdYysr9-abvae%3DF20kZTzgq29bPw5h%3DZ8Bi82%3DiZvwBwA%3D6w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008148.html">
   <LINK REL="Next"  HREF="008174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Authentication Problem</H1>
    <B>Dima Ermakov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Authentication%20Problem&In-Reply-To=%3CCAOpdYysr9-abvae%3DF20kZTzgq29bPw5h%3DZ8Bi82%3DiZvwBwA%3D6w%40mail.gmail.com%3E"
       TITLE="[squid-users] Authentication Problem">demonihin at gmail.com
       </A><BR>
    <I>Fri Dec  4 10:22:34 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008148.html">[squid-users] Authentication Problem
</A></li>
        <LI>Next message (by thread): <A HREF="008174.html">[squid-users] Authentication Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8156">[ date ]</a>
              <a href="thread.html#8156">[ thread ]</a>
              <a href="subject.html#8156">[ subject ]</a>
              <a href="author.html#8156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you, Amos.

I checked all, that you wrote.
It didn't help me.

I have this problem only on google chrome browser.
Before 2015-12-03 all was good.
I didn't change my configuration more than one month.

Ten minutes ago &quot;Noel Kelly <A HREF="https://lists.squid-cache.org/listinfo/squid-users">nkelly at citrusnetworks.net</A>&quot; wrote in this list,
that google chrome v47 has broken NTLM authentication.
My clients with problems has google chrome v47 (((

Mozilla Firefox clients work good.

Thank you!

This is message from Noel Kelly:
&quot;

Hi

For information, the latest version of Google Chrome (v47.0.2526.73M) has
broken NTLM authentication:

<A HREF="https://code.google.com/p/chromium/issues/detail?id=544255">https://code.google.com/p/chromium/issues/detail?id=544255</A>
<A HREF="https://productforums.google.com/forum/#!topic/chrome/G_9eXH9c_ns;context-place=forum/chrome">https://productforums.google.com/forum/#!topic/chrome/G_9eXH9c_ns;context-place=forum/chrome</A>

Cheers
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>

&quot;

On 4 December 2015 at 04:55, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> On 4/12/2015 9:46 a.m., Dima Ermakov wrote:
</I>&gt;<i> &gt; Hi!
</I>&gt;<i> &gt; I have a problem with authentiation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I use samba ntlm authentication in my network.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Some users ( not all ) have problems with http traffic.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; They see basic authentication request.
</I>&gt;<i>
</I>&gt;<i> Meaning you *dont* have NTLM authentication on your network.
</I>&gt;<i>
</I>&gt;<i> Or you are making the mistake of thinking a popup means Basic
</I>&gt;<i> authentication.
</I>&gt;<i>
</I>&gt;<i> &gt; If they enter correct domain login and password, they have auth error.
</I>&gt;<i> &gt; If this users try to open https sites: all works good, they have not any
</I>&gt;<i> &gt; type of errors.
</I>&gt;<i>
</I>&gt;<i> So,
</I>&gt;<i>  a) they are probably not going through this proxy, or
</I>&gt;<i>  b) the browser is suppressing the proxy-auth popups, or
</I>&gt;<i>  c) the authentication request is not coming from *your* proxy.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So we have errors only with unencrypted connections.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have this error on two servers:
</I>&gt;<i> &gt; debian8, squid3.4 (from repository)
</I>&gt;<i> &gt; CentOS7, squid3.3.8 (from repository).
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Two things to try:
</I>&gt;<i>
</I>&gt;<i> 1) Adding a line like this before the group access controls in
</I>&gt;<i> frntend.conf. This will ensure that authentiation credentials are valid
</I>&gt;<i> before doing group lookups:
</I>&gt;<i>  http_access deny !AuthorizedUsers
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2) checking up on the Debian winbind issue mentioned in
</I>&gt;<i> &lt;
</I>&gt;<i> <A HREF="http://wiki.squid-cache.org/ConfigExamples/Authenticate/Ntlm#winbind_privileged_pipe_permissions">http://wiki.squid-cache.org/ConfigExamples/Authenticate/Ntlm#winbind_privileged_pipe_permissions</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Im not sure about this it is likely to be involved on Debian, but CentOS
</I>&gt;<i> is not known to have that issue.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Oh and:
</I>&gt;<i>  3) remove the &quot;acl manager&quot; line from squid.conf.
</I>&gt;<i>
</I>&gt;<i>  4) change your cachemgr_passwd. Commenting it out does not hide it from
</I>&gt;<i> view when you post it on this public mailing list.
</I>&gt;<i>
</I>&gt;<i> You should remove all the commented out directives as well, some of them
</I>&gt;<i> may be leading to misunderstanding of what the config is actually doing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>


-- 
&#1057; &#1091;&#1074;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077;&#1084;, &#1044;&#1084;&#1080;&#1090;&#1088;&#1080;&#1081; &#1045;&#1088;&#1084;&#1072;&#1082;&#1086;&#1074;.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151204/402c62b2/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151204/402c62b2/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008148.html">[squid-users] Authentication Problem
</A></li>
	<LI>Next message (by thread): <A HREF="008174.html">[squid-users] Authentication Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8156">[ date ]</a>
              <a href="thread.html#8156">[ thread ]</a>
              <a href="subject.html#8156">[ subject ]</a>
              <a href="author.html#8156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
