<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Using subordinate CA for SSL Bump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20subordinate%20CA%20for%20SSL%20Bump&In-Reply-To=%3C56706C1A.3080300%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008321.html">
   <LINK REL="Next"  HREF="008378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Using subordinate CA for SSL Bump</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20subordinate%20CA%20for%20SSL%20Bump&In-Reply-To=%3C56706C1A.3080300%40measurement-factory.com%3E"
       TITLE="[squid-users] Using subordinate CA for SSL Bump">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Dec 15 19:38:02 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008321.html">[squid-users] Using subordinate CA for SSL Bump
</A></li>
        <LI>Next message (by thread): <A HREF="008378.html">[squid-users] Using subordinate CA for SSL Bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8341">[ date ]</a>
              <a href="thread.html#8341">[ thread ]</a>
              <a href="subject.html#8341">[ subject ]</a>
              <a href="author.html#8341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/14/2015 04:48 PM, Marcus Kool wrote:
&gt;<i> On 12/14/2015 09:16 PM, Amos Jeffries wrote:
</I>&gt;&gt;<i> Squid may be horribly sending
</I>&gt;&gt;<i> all-but-one of the certs needed, on the assumption that the signing cert
</I>&gt;&gt;<i> is itself installed on the client.
</I>

&gt;<i> The RFC says that it is not necessary to send the signing CA certificate.
</I>

Sending the CA certificate is usually both unnecessary (because the
clients must have it) and borderline dangerous (because some clients do
not expect this extra information). This is why, I bet, Squid does not
send the signing certificate in some cases.

On the other hand, sending the signing certificate is necessary if that
signing certificate is not the CA certificate expected to be stored by
clients. IIRC, we have fixed at least one Squid bug in this area in
2015, but I do not have a reference handy.

And there are actually situations in-between the two extremes above
because a CA (well-known and not) often has its own CA certificate
hierarchy, and some clients may trust intermediate CA certificates [with
or without storing the root CA certificate].

The above does not answer the OP question. The answer may go something
like this:

If you expect your clients to store your signing certificate, then you
can configure Squid to sign with that certificate and not worry about
any higher-level (closer to root) certificate that may or may not exist.
On the other hand, if your clients are storing a higher-level
certificate, then you need to test whether Squid does the right thing
(i.e., sends the intermediate certificate which also happens to be the
signing certificate). If Squid does not do the right thing, file a bug
report.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008321.html">[squid-users] Using subordinate CA for SSL Bump
</A></li>
	<LI>Next message (by thread): <A HREF="008378.html">[squid-users] Using subordinate CA for SSL Bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8341">[ date ]</a>
              <a href="thread.html#8341">[ thread ]</a>
              <a href="subject.html#8341">[ subject ]</a>
              <a href="author.html#8341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
