<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] cant bump ssl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cant%20bump%20ssl&In-Reply-To=%3C567096E6.70604%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008356.html">
   <LINK REL="Next"  HREF="008437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] cant bump ssl</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cant%20bump%20ssl&In-Reply-To=%3C567096E6.70604%40treenet.co.nz%3E"
       TITLE="[squid-users] cant bump ssl">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Dec 15 22:40:38 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008356.html">[squid-users] cant bump ssl
</A></li>
        <LI>Next message (by thread): <A HREF="008437.html">[squid-users] cant bump ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8358">[ date ]</a>
              <a href="thread.html#8358">[ thread ]</a>
              <a href="subject.html#8358">[ subject ]</a>
              <a href="author.html#8358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another possibility that has not been mentioned yet is that the
sslproxy_* settings might be resulting in some form of server TLS error
that causes the connection(s) to get stuck.

On 16/12/2015 8:46 a.m., HackXBack wrote:
&gt;<i> 
</I>&gt;<i> sslproxy_version 0
</I>
&quot;0&quot; is an invalid setting for this directive.

&gt;<i> sslproxy_options ALL
</I>
... tells Squid to actively use SSLv2 on the outbound server connection
(because SSLv2-compatibility isone of 'all' the options enabled). With a
whole lot of other hacks and features of SSL and TLS enabled - which
make this proxy wide open to hijacking attacks ... POODLE, FREAK, all
those types of thing.

Any reasonably secure server would reject those connections on sight.
The paranoid ones might even just DROP the packets rather than closing
properly - which would result in what you describe without any further
actions.


Note that the connection to the client remains secure with the default
library security minimums in place. So as far as the client can tell the
end-to-end security is supposed to be MUCH higher (if only it was),
green padlock, etc, etc. Whole bunch of lies now.


&gt;<i> sslproxy_cert_error allow all
</I>
After those vulnerabilities have been opened, this forces Squid to
silently accept *any* type of errors that happen with the certificate
exchange. Preventing Squid from reporting security attacks or other
issues to either you or the client.


So you have configured there is a proxy which openly permits the server
or a middleware attacker between it and the server to do whatever they
like. Silently and invisibly. Might as well be sending everything in
plain-text over the open Internet.

You are kind of lucky it dont work.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008356.html">[squid-users] cant bump ssl
</A></li>
	<LI>Next message (by thread): <A HREF="008437.html">[squid-users] cant bump ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8358">[ date ]</a>
              <a href="thread.html#8358">[ thread ]</a>
              <a href="subject.html#8358">[ subject ]</a>
              <a href="author.html#8358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
