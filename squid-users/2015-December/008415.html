<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] CVE-2009-0801
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CVE-2009-0801&In-Reply-To=%3C56787B10.30805%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008411.html">
   <LINK REL="Next"  HREF="008396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] CVE-2009-0801</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CVE-2009-0801&In-Reply-To=%3C56787B10.30805%40treenet.co.nz%3E"
       TITLE="[squid-users] CVE-2009-0801">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Dec 21 22:20:00 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008411.html">[squid-users] CVE-2009-0801
</A></li>
        <LI>Next message (by thread): <A HREF="008396.html">[squid-users] Fwd: Squid configuration advise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8415">[ date ]</a>
              <a href="thread.html#8415">[ thread ]</a>
              <a href="subject.html#8415">[ subject ]</a>
              <a href="author.html#8415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/12/2015 2:34 a.m., dc wrote:
&gt;<i> 
</I>&gt;<i> Am 19.12.2015 um 00:52 schrieb Amos Jeffries:
</I>&gt;&gt;<i> Why not?
</I>&gt;&gt;<i> * NAT/TPROXY is mandatory to happen on the Squid machine directly since
</I>&gt;&gt;<i> kernel and Squid are performing integrated operations.
</I>&gt;&gt;<i> * PROXY protocol passes the ORIGINAL_DST explicitly over the wire.
</I>&gt;&gt;<i> * SSL-Bump all happens &quot;inside Squid&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Those are the only forms of interception Squid supports.
</I>&gt;&gt;<i>
</I>&gt;<i> Thanks for making that clear! I fixed my setup accordingly. Squid now
</I>&gt;<i> gathers original IP addresses from NAT.
</I>&gt;<i> I also enabled host_verify_strict, which should make sure requests are
</I>&gt;<i> always sent to correct IP addresses. Is there an equivalent setting for
</I>&gt;<i> peek-and-spliced HTTPS connections? Or does host_verify_strict cover
</I>&gt;<i> that case as well? This would be important, since otherwise a malicious
</I>&gt;<i> application could bypass the whitelist ACLs I have installed.
</I>
The SSL-Bump code is still undergoing polishing and still very much
experimental / volatile, so YMMV on vulnerability but it wont be
CVE-2009-0801.

That is just because the situation is rather different with TLS/SSL.
Server certificates are involved to authenticate the connection level
details. The TLS connections with server-first style of bumping are also
setup and pinned at the TCP layer before HTTP mesages get involved. So
the outbound connection has nothing to do with the HTTP message Host
header on the intercepted/decrypted messages.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008411.html">[squid-users] CVE-2009-0801
</A></li>
	<LI>Next message (by thread): <A HREF="008396.html">[squid-users] Fwd: Squid configuration advise
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8415">[ date ]</a>
              <a href="thread.html#8415">[ thread ]</a>
              <a href="subject.html#8415">[ subject ]</a>
              <a href="author.html#8415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
