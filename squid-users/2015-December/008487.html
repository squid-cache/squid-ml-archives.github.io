<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Host header forgery affects pure splice	environment too?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20affects%20pure%20splice%0A%09environment%20too%3F&In-Reply-To=%3Ce2b5399391775efe7589a2fa6f12ff4d%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008445.html">
   <LINK REL="Next"  HREF="008430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Host header forgery affects pure splice	environment too?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20affects%20pure%20splice%0A%09environment%20too%3F&In-Reply-To=%3Ce2b5399391775efe7589a2fa6f12ff4d%40treenet.co.nz%3E"
       TITLE="[squid-users] Host header forgery affects pure splice	environment too?">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Dec 31 05:15:46 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008445.html">[squid-users] Host header forgery affects pure splice environment too?
</A></li>
        <LI>Next message (by thread): <A HREF="008430.html">[squid-users] Refresh pattern issue in squid 3.1.20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8487">[ date ]</a>
              <a href="thread.html#8487">[ thread ]</a>
              <a href="subject.html#8487">[ subject ]</a>
              <a href="author.html#8487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2015-12-29 03:29, Yuri Voinov wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA256
</I>&gt;<i> 
</I>&gt;<i> Heh. It seems bogus by our opinion.
</I>&gt;<i> 
</I>&gt;<i> Tor certainly thinks otherwise.
</I>
Anything under the .net TLD is under resolving control of the global DNS 
lookup system. Those FQDN are invalid / NXDOMAIN. Which is the very 
definition of bogus names by that system.

If they had been .onion names, then resolving would be up to TOR to 
define whether they are bogus or not. But they are not .onion domains.


&gt;<i> 
</I>&gt;<i> Actually, from this stupid idea to do a bump Tor network traffic?
</I>&gt;<i> 
</I>
Ideally not. We have enough HTTP related protocols to deal with already. 
It would be best to determine what the correct TLS handling for these 
certificates is and ensure that happens.

We also need to check up on why Host verification is happening at all on 
these requests. It should not be getting that far AFAIK.


&gt;<i> 28.12.15 19:58, Marcus Kool &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 12/28/2015 01:33 AM, Jason Haar wrote:
</I>&gt;&gt;&gt;<i> On 28/12/15 14:34, Amos Jeffries wrote:
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;&gt;<i> I think we know what the problem is: TOR is making TLS connections (I
</I>&gt;&gt;&gt;<i> don't know if they're HTTPS) on port 443 and uses SNI names that 
</I>&gt;&gt;&gt;<i> aren't
</I>&gt;&gt;&gt;<i> real?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> peeking on tor-proxy-2.cypherpunks.to shows a certificate with
</I>&gt;&gt;<i>   issuer '/CN=www.totaikrsupklbpy5.com'
</I>&gt;&gt;<i>   subject '/CN=www.bpanciu6f5cjqflv2.net'
</I>&gt;&gt;<i> so the certificate is definitely bogus.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> marcus
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v2
</I>&gt;<i> 
</I>&gt;<i> iQEcBAEBCAAGBQJWgUdWAAoJENNXIZxhPexGoW4H/3aTH/y+C7pMWK+2BtHNIB4T
</I>&gt;<i> NMueFP/Nv2ixJf8MmqPh765R3Q6o3KWWEuK6BHcunZRjQJh1glz6h073ocVSb2EJ
</I>&gt;<i> BkhHUFuYbF31hwZCvZwFr7tFlKDvQ9yBvmwk3Ep3KjiFThoF+uwyV3HbEWmUx083
</I>&gt;<i> hAgVfXnqqeClhZx4WSrOLLLc4BTAfuCYM84ox6JRemqHq5kFpObaLRPCvNkO+VtF
</I>&gt;<i> M/yId+ag4pyUMGcTXN0KD+SHtgdKkraWRP7u5RrQ0kiScwv5Q30nV09MY93qkvaB
</I>&gt;<i> hi5qgEGLlDyO+qXkqpNoPXYqinVFRGgEE7OMzbthvCRJk1v2XVB2I+mab1McnQk=
</I>&gt;<i> =H3Ki
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008445.html">[squid-users] Host header forgery affects pure splice environment too?
</A></li>
	<LI>Next message (by thread): <A HREF="008430.html">[squid-users] Refresh pattern issue in squid 3.1.20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8487">[ date ]</a>
              <a href="thread.html#8487">[ thread ]</a>
              <a href="subject.html#8487">[ subject ]</a>
              <a href="author.html#8487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
