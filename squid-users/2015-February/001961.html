<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] login expired
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20login%20expired&In-Reply-To=%3C1735862250.336775188.1423213649970.JavaMail.root%40zimbra4-e1.priv.proxad.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002276.html">
   <LINK REL="Next"  HREF="001951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] login expired</H1>
    <B>FredB</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20login%20expired&In-Reply-To=%3C1735862250.336775188.1423213649970.JavaMail.root%40zimbra4-e1.priv.proxad.net%3E"
       TITLE="[squid-users] login expired">fredbmail at free.fr
       </A><BR>
    <I>Fri Feb  6 09:07:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002276.html">[squid-users] login expired
</A></li>
        <LI>Next message (by thread): <A HREF="001951.html">[squid-users] SSL-bump certificate issues (mostly on Chrome,	when accessing Google websites)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1961">[ date ]</a>
              <a href="thread.html#1961">[ thread ]</a>
              <a href="subject.html#1961">[ subject ]</a>
              <a href="author.html#1961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> 2) Due to the above problem I configured an access control via
</I>&gt;<i> htpasswd
</I>&gt;<i> using basic_ncsa_auth.
</I>&gt;<i> In this case, after the required credentials and the correct
</I>&gt;<i> insertion squid
</I>&gt;<i> gives me access to the internet.
</I>&gt;<i> Now the question is: can I have the credentials expire after a
</I>&gt;<i> certain time?
</I>

I don't known with recent version (3.4 or 3.5) but I guess you can't, there was a way in Wiki but it doesn't works good, so I made a little patch <A HREF="http://numsys.eu/divers/squid/auth.patch">http://numsys.eu/divers/squid/auth.patch</A> for basic auth, but I can't say if it works with the latest Squid ...
Eg: credentialsttl 30 minutes -&gt; After 30 minutes the pop-up appears, very useful to protect your access, the &quot;bad&quot; and hidden requests are banned when the user is gone (in my case spywares and other plugins), also with high load it reduce the Squid works, because many users are disconnected.

With credentialsttl 10 hours, the users are connected the working day and when someone is missing, and his browser is open, his requests are denied (407)

Perhaps a proper way is to create a new option like authentificationttl related with CRED_BANNED (new value in my patch)

----

Regards,

Fred

<A HREF="http://numsys.eu">http://numsys.eu</A>
<A HREF="http://e2guardian.org">http://e2guardian.org</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002276.html">[squid-users] login expired
</A></li>
	<LI>Next message (by thread): <A HREF="001951.html">[squid-users] SSL-bump certificate issues (mostly on Chrome,	when accessing Google websites)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1961">[ date ]</a>
              <a href="thread.html#1961">[ thread ]</a>
              <a href="subject.html#1961">[ subject ]</a>
              <a href="author.html#1961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
