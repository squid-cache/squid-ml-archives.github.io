<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20derive%20HTTP/HTTPS%20upload%20traffic%20to%20a%20secondary%0A%20interface.&In-Reply-To=%3C54D48588.7030301%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001954.html">
   <LINK REL="Next"  HREF="002371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20derive%20HTTP/HTTPS%20upload%20traffic%20to%20a%20secondary%0A%20interface.&In-Reply-To=%3C54D48588.7030301%40treenet.co.nz%3E"
       TITLE="[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Feb  6 09:12:40 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001954.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary	interface.
</A></li>
        <LI>Next message (by thread): <A HREF="002371.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1963">[ date ]</a>
              <a href="thread.html#1963">[ thread ]</a>
              <a href="subject.html#1963">[ subject ]</a>
              <a href="author.html#1963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/02/2015 8:59 p.m., Josep Borrell wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I have a squid box with two interfaces. One ADSL 20/1Mb and one SHDSL 4/4Mb.
</I>&gt;<i> It is a school and they are working with Google Apps for Education.
</I>&gt;<i> They do a lot of uploading and when using the ADSL, it collapses promptly.
</I>&gt;<i> Is possible to derive only HTTP/HTTPS upload traffic to the SHDSL and continue surfing with the ADSL ?
</I>
In a roundabout way.

If you look at the OSI model of networking Squid is layers 4-7, and
those interfaces are part of layer 1-2. There is a whole disconnect
layer 3 in between (the TCP/IP layer).

What you can do in Squid is set one of the tcp_outgoing_address,
tcp_outgoing_tos, tcp_outgoing_mark directives to label the TCP traffic
out of Squid. The systems routing rules need to take that detail from
TCP and decide which interface to use.



&gt;<i> Maybe using one acl with methods POST and UPLOAD and some routing magic ?
</I>
Somethign like this..

squid.conf:
 acl PUTPOST method PUT POST
 tcp_outgoing_address 192.0.2.1 PUTPOST

Where 192.0.2.1 is the IP address the system uses to send out SHDSDL.
You may need both an IPv4 and IPv6 outgoing address set using PUTPOST acl.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001954.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary	interface.
</A></li>
	<LI>Next message (by thread): <A HREF="002371.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1963">[ date ]</a>
              <a href="thread.html#1963">[ thread ]</a>
              <a href="subject.html#1963">[ subject ]</a>
              <a href="author.html#1963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
