<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Blocking Chrome and QUIC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Blocking%20Chrome%20and%20QUIC&In-Reply-To=%3C201502062358.58831.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001977.html">
   <LINK REL="Next"  HREF="001980.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Blocking Chrome and QUIC</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Blocking%20Chrome%20and%20QUIC&In-Reply-To=%3C201502062358.58831.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Blocking Chrome and QUIC">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Fri Feb  6 22:58:58 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001977.html">[squid-users] Blocking Chrome and QUIC
</A></li>
        <LI>Next message (by thread): <A HREF="001980.html">[squid-users] Blocking Chrome and QUIC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1978">[ date ]</a>
              <a href="thread.html#1978">[ thread ]</a>
              <a href="subject.html#1978">[ subject ]</a>
              <a href="author.html#1978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 06 February 2015 at 22:54:54 (EU time), Luis Miguel Silva wrote:

&gt;<i> As I started playing around with transparent ssl proxying, I learned that
</I>&gt;<i> Chrome uses an alternate communication (UDP based) protocol called QUIC.
</I>
I'd never heard of QUIC, and <A HREF="http://en.wikipedia.org/wiki/QUIC">http://en.wikipedia.org/wiki/QUIC</A> doesn't seem to 
give much technical information on how it works, however it certainly confirms 
that it's based on UDP.

&gt;<i> The problem is that, although the rules seem to successfully be triggered,
</I>&gt;<i> the only way I can successfully BLOCK QUIC traffic and make the browser
</I>&gt;<i> fallback to HTTP/HTTPS is by setting a default FORWARD policy to DROP:
</I>&gt;<i> *iptables -P FORWARD DROP*
</I>
Er, why is that not your standard setup?

Allow what you know you want, drop the rest - that's standard security 
practice.

If you do set the default forward policy to drop, what problems does this 
create?

&gt;<i> So my question is: *how can I completely block QUIC so I can guarantee my
</I>&gt;<i> traffic will always be redirected to Squid?*
</I>
1. See above :)

2. What UDP traffic do you want to permit, except port 53 to your (quite 
possibly local) DNS servers?

Maybe you're using VoIP, with its associated RTSP traffic, but that's generally 
in the port range 20000-30000 or even higher, and will also be coming from 
quite specific devices (telephones), and usually also to quite specific 
destinations (SIP proxies).

Therefore just block all UDP traffic which isn't known to be required.


Incidentally, as a general comment I would repeat the last sentence above 
without the qualifier &quot;UDP&quot; :)


Regards,


Antony.

-- 
Anyone that's normal doesn't really achieve much.

 - Mark Blair, Australian rocket engineer

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001977.html">[squid-users] Blocking Chrome and QUIC
</A></li>
	<LI>Next message (by thread): <A HREF="001980.html">[squid-users] Blocking Chrome and QUIC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1978">[ date ]</a>
              <a href="thread.html#1978">[ thread ]</a>
              <a href="subject.html#1978">[ subject ]</a>
              <a href="author.html#1978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
