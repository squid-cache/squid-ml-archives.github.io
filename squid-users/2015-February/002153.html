<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is Squid can shutdown unused idle redirector's children?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20Squid%20can%20shutdown%20unused%20idle%20redirector%27s%0A%20children%3F&In-Reply-To=%3C54DCF96A.3060502%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002165.html">
   <LINK REL="Next"  HREF="002164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is Squid can shutdown unused idle redirector's children?</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20Squid%20can%20shutdown%20unused%20idle%20redirector%27s%0A%20children%3F&In-Reply-To=%3C54DCF96A.3060502%40gmail.com%3E"
       TITLE="[squid-users] Is Squid can shutdown unused idle redirector's children?">yvoinov at gmail.com
       </A><BR>
    <I>Thu Feb 12 19:05:14 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002165.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
        <LI>Next message (by thread): <A HREF="002164.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2153">[ date ]</a>
              <a href="thread.html#2153">[ thread ]</a>
              <a href="subject.html#2153">[ subject ]</a>
              <a href="author.html#2153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I want to say:

A system with low consumpted memory will starts processes more quickly
against system with low free memory and overloaded cheduler and more
sleep processes in most cases.

So, IMHO better solution is possibility to shutdown idle children
after configured timeout and starts them up when required.

Also, OS cache also still exists..... and can hold rewriter ELF near
CPU.... did you remember? ;)

13.02.15 0:49, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> On 13/02/2015 7:01 a.m., Yuri Voinov wrote:
</I>&gt;&gt;<i> Hi gents,
</I>&gt;<i> 
</I>&gt;&gt;<i> subj.
</I>&gt;<i> 
</I>&gt;&gt;<i> And, of course - question. How to do that? I've don't seen this,
</I>&gt;&gt;<i> if it exists.
</I>&gt;<i> 
</I>&gt;&gt;<i> For example, for this config stub:
</I>&gt;<i> 
</I>&gt;&gt;<i> url_rewrite_program /usr/local/bin/squidGuard -c 
</I>&gt;&gt;<i> /usr/local/squidGuard/squidGuard.conf url_rewrite_children 100 
</I>&gt;&gt;<i> startup=0 idle=1 concurrency=0
</I>&gt;<i> 
</I>&gt;&gt;<i> After daily activity, at midnight, still remain near 60
</I>&gt;&gt;<i> processes. Absolutely idle.
</I>&gt;<i> 
</I>&gt;&gt;<i> So, why?
</I>&gt;<i> 
</I>&gt;<i> The idle=1 parameter &quot;Sets a minimum ...&quot;
</I>&gt;<i> 
</I>&gt;<i> It actually is quite expensive to start them. At least one client
</I>&gt;<i> is being held in a pause waiting for it, and others are slowed down
</I>&gt;<i> while the CPU spawns the process.
</I>&gt;<i> 
</I>&gt;<i> Chances are high that the next day, or even a few seconds later
</I>&gt;<i> you will need to use them again anyway. So its a bit better to have
</I>&gt;<i> them idle than to discard completely.
</I>&gt;<i> 
</I>&gt;<i> *Particularly* since you have no concurrency for the helper. A
</I>&gt;<i> single client loading a page with many objects can initiate many
</I>&gt;<i> parallel requests. Each of which will need to be processed by one
</I>&gt;<i> of those helpers.
</I>&gt;<i> 
</I>&gt;<i> Amos _______________________________________________ squid-users
</I>&gt;<i> mailing list <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQEcBAEBAgAGBQJU3PlpAAoJENNXIZxhPexGiIcH/2rXn42yxPtwmnaxoqhIkyZd
U3Jj9AQBQeKMz+Ncbzs/rBTWYBmqTqDh70q9toMqDO+UVPyhEx/ltzM9A38ClbO9
XJS3x0SI25TegG1rkJuT6B98RUA15lcS3CsQg6hU8YNbT/ERMPCrX+oL8F9f6qAG
pHmQHM5EHVe+5YTWi8V2CaP+ybw6xoBg8eWQtyTca5JbzChgCckzS/LFHYiBmTRM
pC5KJy2buSTMxuDsBowbv3DkNUabzz5pbuGt0skIoO6rLh+qo6ZT+w+Q8BVK8nrr
mHHsXtl4MvFJpnljqhqti9MAqnksr+N1Yj5VLVWl0Q+PWD2eN49pgTt9hUpka3E=
=E/7E
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002165.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
	<LI>Next message (by thread): <A HREF="002164.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2153">[ date ]</a>
              <a href="thread.html#2153">[ thread ]</a>
              <a href="subject.html#2153">[ subject ]</a>
              <a href="author.html#2153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
