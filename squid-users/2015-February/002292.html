<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is Squid can shutdown unused idle redirector's children?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20Squid%20can%20shutdown%20unused%20idle%20redirector%27s%0A%20children%3F&In-Reply-To=%3C54E31E19.1000201%40urlfilterdb.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002290.html">
   <LINK REL="Next"  HREF="002257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is Squid can shutdown unused idle redirector's children?</H1>
    <B>Marcus Kool</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20Squid%20can%20shutdown%20unused%20idle%20redirector%27s%0A%20children%3F&In-Reply-To=%3C54E31E19.1000201%40urlfilterdb.com%3E"
       TITLE="[squid-users] Is Squid can shutdown unused idle redirector's children?">marcus.kool at urlfilterdb.com
       </A><BR>
    <I>Tue Feb 17 10:55:21 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002290.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
        <LI>Next message (by thread): <A HREF="002257.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2292">[ date ]</a>
              <a href="thread.html#2292">[ thread ]</a>
              <a href="subject.html#2292">[ subject ]</a>
              <a href="author.html#2292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 02/17/2015 08:21 AM, Yuri Voinov wrote:
&gt;&gt;<i> squidGuard does not support the Squid feature 'concurrency' for url_rewrite_children.  ufdbGuard does.
</I>&gt;&gt;<i> With concurrency, latency goes down and the number of processes can also be reduced.
</I>&gt;<i> The lack of concurrency is main disadvantage of squidGuard. Old process-based model is not acceptable on modern OS'es.
</I>&gt;<i>
</I>&gt;<i> BTW, can I configure ufdbGuard children like this:
</I>&gt;<i>
</I>&gt;<i> url_rewrite_children 1 startup=1 idle=1 concurrency=100
</I>
Yes you can, but it is not recommended :-(   since throughput is higher with
    url_rewrite_children 50 startup=5 idle=2 concurrency=3

When concurrency was built into the ufdbGuard redirector (named ufdbgclient)
it was done to increase the flow of requests:
     Squid  &lt;--pipe--&gt;  ufdbgclient  &lt;--UNIX-socket--&gt;  ufdbguardd daemon
To keep ufdbgclient busy, there must always be a next request in the pipe and
and concurrency of 2 or 3 does that.  It is not optimised for having
100 requests in the pipe.

Since ufdbgclient is leightweight, there is no problem with having 30 or more
of them and therefore ufdbgclient was never optimised for the use case of
    url_rewrite_children 1 startup=1 idle=1 concurrency=100

Marcus

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002290.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
	<LI>Next message (by thread): <A HREF="002257.html">[squid-users] Is Squid can shutdown unused idle redirector's children?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2292">[ date ]</a>
              <a href="thread.html#2292">[ thread ]</a>
              <a href="subject.html#2292">[ subject ]</a>
              <a href="author.html#2292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
