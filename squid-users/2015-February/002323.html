<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to cache everything with an Etag HTTP header?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20cache%20everything%20with%20an%20Etag%20HTTP%20header%3F&In-Reply-To=%3C54E4A266.8080104%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002322.html">
   <LINK REL="Next"  HREF="002324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to cache everything with an Etag HTTP header?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20cache%20everything%20with%20an%20Etag%20HTTP%20header%3F&In-Reply-To=%3C54E4A266.8080104%40treenet.co.nz%3E"
       TITLE="[squid-users] How to cache everything with an Etag HTTP header?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb 18 14:32:06 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002322.html">[squid-users] How to cache everything with an Etag HTTP header?
</A></li>
        <LI>Next message (by thread): <A HREF="002324.html">[squid-users] How to cache everything with an Etag HTTP header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2323">[ date ]</a>
              <a href="thread.html#2323">[ thread ]</a>
              <a href="subject.html#2323">[ subject ]</a>
              <a href="author.html#2323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/02/2015 2:22 a.m., Karl-Philipp Richter wrote:
&gt;<i> Hi,
</I>&gt;<i> I'm quite new to advanced squid configuration and want to enhance my
</I>&gt;<i> HTTP cache expensive-bandwidth-cheap-storage setup where I'm mostly
</I>&gt;<i> interested in storing large downloads with a refresh_pattern, e.g.
</I>&gt;<i> 
</I>&gt;<i>     refresh_pattern -i
</I>&gt;<i> \.(deb|rpm|exe|zip|tar|tgz|tar\.gz|txz|tar\.xz|ram|rar|bin|ppt|doc|tiff)$ 100800
</I>&gt;<i> 99% 432000 override-expire override-lastmod
</I>&gt;<i> ignore-no-cache ignore-no-store
</I>&gt;<i> 
</I>&gt;<i> and after some reading around `refresh_pattern` and some search engine
</I>&gt;<i> research I was wondering how to cache everything that provides an Etag
</I>&gt;<i> because I thinks that'd be very useful for my scenario (very low starge
</I>&gt;<i> cost and very high bandwidth costs).
</I>&gt;<i> 
</I>&gt;<i> Any help or pointers are appreciated.
</I>
Pointer #1 - ETag does mean cacheable. It is just a unique ID for the
object.

In an ideal HTTP world everything has an ETag to identify it, cacheable
or not.

And BTW just by using Squid everything gets stored. Whether its still
usable next time the same URL is requested is another matter entirely.
This is why Squid disk behaviour is mostly-write (2-5 objects written to
disk for every 1 read back out).


Pointer #2 - if your squid accepts the &quot;ignore-no-cache&quot; option then its
too old.

Upgrade to a squid-3.2+ which do HTTP/1.1 caching of
no-cache/private/auth objects then work on it in the context of the
newer versions extra capabilities.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002322.html">[squid-users] How to cache everything with an Etag HTTP header?
</A></li>
	<LI>Next message (by thread): <A HREF="002324.html">[squid-users] How to cache everything with an Etag HTTP header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2323">[ date ]</a>
              <a href="thread.html#2323">[ thread ]</a>
              <a href="subject.html#2323">[ subject ]</a>
              <a href="author.html#2323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
