<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20client_side.cc%3A1515%3A%0A%09%22connIsUsable%28http-%3EgetConn%28%29%29&In-Reply-To=%3C54E6BC25.7020001%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002345.html">
   <LINK REL="Next"  HREF="002348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20client_side.cc%3A1515%3A%0A%09%22connIsUsable%28http-%3EgetConn%28%29%29&In-Reply-To=%3C54E6BC25.7020001%40ngtech.co.il%3E"
       TITLE="[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())">eliezer at ngtech.co.il
       </A><BR>
    <I>Fri Feb 20 04:46:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002345.html">[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())
</A></li>
        <LI>Next message (by thread): <A HREF="002348.html">[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2346">[ date ]</a>
              <a href="thread.html#2346">[ thread ]</a>
              <a href="subject.html#2346">[ subject ]</a>
              <a href="author.html#2346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Dan,

The basic rule of thumb in programming lands is script vs compiled code.
Where compiled code can be considered very reliable and in most cases 
tested much more then scripts.
I am fearing that there is some race between all sorts of things on 
runtime which might lead to this failed test.

There are couple possibilities that can cause the issue you are writing 
about.
 From the compiled side of the code the main suspect is that the 
connection got into a &quot;non usable&quot; state before squid could do something 
else.
I have not seen yet the source code for connIsUsable but if you wish I 
can try and look at the function\method\call\code source and start a 
basic lookup to understand the issue a bit more.
I do not remember if you have opened a bug report yet but I think this 
issue needs a bug report.

Take your time to write a brief bug report at:
<A HREF="http://bugs.squid-cache.org/index.cgi">http://bugs.squid-cache.org/index.cgi</A>

While referring to this thread.
If you are up for the task then maybe you would be able to provide some 
more information based on the wiki:
<A HREF="http://wiki.squid-cache.org/SquidFaq/BugReporting">http://wiki.squid-cache.org/SquidFaq/BugReporting</A>

Thanks,
Eliezer

On 20/02/2015 06:06, Dan Charlesworth wrote:
&gt;<i> Thanks Eliezer &#8230;
</I>&gt;<i>
</I>&gt;<i> We've only ever used `kill` as very last resort when the squid process wouldn&#8217;t respond to anything else.
</I>&gt;<i>
</I>&gt;<i> Anyway, I think I missed what led you to think the crash is related to the reply_body_max_size rules' external ACL as opposed to the many others we define?
</I>&gt;<i>
</I>&gt;<i> That would certainly narrow it down a lot further than before.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Dan
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002345.html">[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())
</A></li>
	<LI>Next message (by thread): <A HREF="002348.html">[squid-users] assertion failed: client_side.cc:1515:	&quot;connIsUsable(http-&gt;getConn())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2346">[ date ]</a>
              <a href="thread.html#2346">[ thread ]</a>
              <a href="subject.html#2346">[ subject ]</a>
              <a href="author.html#2346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
