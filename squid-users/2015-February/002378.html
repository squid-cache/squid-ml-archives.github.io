<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] many vms behind router to same proxy ips problems !
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20many%20vms%20behind%20router%20to%20same%20proxy%20ips%20problems%0A%20%21&In-Reply-To=%3C54E7CE50.4000107%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002376.html">
   <LINK REL="Next"  HREF="002424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] many vms behind router to same proxy ips problems !</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20many%20vms%20behind%20router%20to%20same%20proxy%20ips%20problems%0A%20%21&In-Reply-To=%3C54E7CE50.4000107%40treenet.co.nz%3E"
       TITLE="[squid-users] many vms behind router to same proxy ips problems !">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Feb 21 00:16:16 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002376.html">[squid-users] many vms behind router to same proxy ips problems !
</A></li>
        <LI>Next message (by thread): <A HREF="002424.html">[squid-users] many vms behind router to same proxy ips problems	!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/02/2015 2:37 p.m., snakeeyes wrote:
&gt;<i> Hi ,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> I have  squid  with many ips already installed with and configured well with
</I>&gt;<i> tcp_outgoing directive.
</I>&gt;<i> 
</I>
You have two problems:


1) Your Squid version is too old.


Squid-3.1 does not contain the IPv6 split-stack bug fixes that allow
tcp_outgoing_address to deal with persistent connections to servers, or
to select an outgoing IP per-message.



2) &quot;myip&quot; ACL ties the tcp_outgoing_address to the *Squid* receiving IP
address, not the client IP.

If the packets just happen to go from PC2 to the Squid receiving IP for
client1 for any reason they will use client1's assigned outgoing IP.


You require Squid-3.3 or later to do what you are attempting.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002376.html">[squid-users] many vms behind router to same proxy ips problems !
</A></li>
	<LI>Next message (by thread): <A HREF="002424.html">[squid-users] many vms behind router to same proxy ips problems	!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
