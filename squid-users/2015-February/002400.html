<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Compile errors Squid 3.5.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20errors%20Squid%203.5.2&In-Reply-To=%3C54EA7E12.90507%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002396.html">
   <LINK REL="Next"  HREF="002397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Compile errors Squid 3.5.2</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20errors%20Squid%203.5.2&In-Reply-To=%3C54EA7E12.90507%40treenet.co.nz%3E"
       TITLE="[squid-users] Compile errors Squid 3.5.2">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Feb 23 01:10:42 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002396.html">[squid-users] Compile errors Squid 3.5.2
</A></li>
        <LI>Next message (by thread): <A HREF="002397.html">[squid-users] assertion failed: client_side.h:364: &quot;sslServerBump	== srvBump&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2400">[ date ]</a>
              <a href="thread.html#2400">[ thread ]</a>
              <a href="subject.html#2400">[ subject ]</a>
              <a href="author.html#2400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/02/2015 6:46 a.m., Stanford Prescott wrote:
&gt;<i> When trying to compile Squid 3.5.2 the compile fails. The only error messages I can find are these:
</I>&gt;<i> &quot;tar: ./usr/share/errors/zh-cn: Cannot create symlink to `zh-hans': File exists&quot;
</I>&gt;<i> &quot;tar: ./usr/share/errors/zh-cn: Cannot create symlink to `zh-hant': File exists&quot;
</I>&gt;<i> 
</I>&gt;<i> A squid binary is produced but won't start when I replace the working squid 3.4.10 binary in my distribution (Smoothwall Express 3.1) with the 3.5.2 binary. I get this error message in the cache.log when trying to start squid 3.5.2.
</I>&gt;<i> &quot;FATAL: Ipc::Mem::Segment::create failed to shm_open(/squid-cf__metadata.shm): (13) Permission denied&quot;
</I>&gt;<i> 
</I>&gt;<i> I was not surprised that the Squid 3.5.2 binary would not start due to the compile errors, but I thought I would try anyway.
</I>&gt;<i> Does anyone have any idea what I might be doing wrong?
</I>
Squid is not a script. &quot;compiler errors&quot; only happen at runtime when
runngin scripts.
Squid is a binary, it has to be compiled successfully to use. Your is
having a &quot;permission&quot; error.


It sounds like the system integration build options have not been set
the same. The paths options are obvious, but they also include things
like the --with-default-user.

Or may SELinux/Apparmour settings are getting in the way. 3.5 changes
the UDS names slightly so they may not be configured to permit the squid
process to use the new names.
In this case from cf__metadata.shm to ${service_name}-cf__metadata.shm
where ${service_name} is teh value pased in the -n (lower case) command
line parameter.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002396.html">[squid-users] Compile errors Squid 3.5.2
</A></li>
	<LI>Next message (by thread): <A HREF="002397.html">[squid-users] assertion failed: client_side.h:364: &quot;sslServerBump	== srvBump&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2400">[ date ]</a>
              <a href="thread.html#2400">[ thread ]</a>
              <a href="subject.html#2400">[ subject ]</a>
              <a href="author.html#2400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
