<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] many vms behind router to same proxy ips problems	!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20many%20vms%20behind%20router%20to%20same%20proxy%20ips%20problems%0A%09%21&In-Reply-To=%3C00eb01d0509b%243c9539f0%24b5bfadd0%24%40netstream.ps%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002378.html">
   <LINK REL="Next"  HREF="002379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] many vms behind router to same proxy ips problems	!</H1>
    <B>snakeeyes</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20many%20vms%20behind%20router%20to%20same%20proxy%20ips%20problems%0A%09%21&In-Reply-To=%3C00eb01d0509b%243c9539f0%24b5bfadd0%24%40netstream.ps%3E"
       TITLE="[squid-users] many vms behind router to same proxy ips problems	!">ahmed.zaeem at netstream.ps
       </A><BR>
    <I>Wed Feb 25 01:34:43 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002378.html">[squid-users] many vms behind router to same proxy ips problems !
</A></li>
        <LI>Next message (by thread): <A HREF="002379.html">[squid-users] squid 3.5.2 compile error on openbsd5.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos , ........ you are the rock !!
It worked with 3.5.1 

Thank you a lot and appreciate ur help

regards

-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Amos Jeffries
Sent: Friday, February 20, 2015 4:16 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] many vms behind router to same proxy ips problems !

On 21/02/2015 2:37 p.m., snakeeyes wrote:
&gt;<i> Hi ,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> I have  squid  with many ips already installed with and configured 
</I>&gt;<i> well with tcp_outgoing directive.
</I>&gt;<i> 
</I>
You have two problems:


1) Your Squid version is too old.


Squid-3.1 does not contain the IPv6 split-stack bug fixes that allow tcp_outgoing_address to deal with persistent connections to servers, or to select an outgoing IP per-message.



2) &quot;myip&quot; ACL ties the tcp_outgoing_address to the *Squid* receiving IP address, not the client IP.

If the packets just happen to go from PC2 to the Squid receiving IP for
client1 for any reason they will use client1's assigned outgoing IP.


You require Squid-3.3 or later to do what you are attempting.

Amos

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002378.html">[squid-users] many vms behind router to same proxy ips problems !
</A></li>
	<LI>Next message (by thread): <A HREF="002379.html">[squid-users] squid 3.5.2 compile error on openbsd5.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
