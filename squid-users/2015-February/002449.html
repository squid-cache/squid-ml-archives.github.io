<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Curious about: ipcacheParse: No Address records
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Curious%20about%3A%20ipcacheParse%3A%20No%20Address%20records&In-Reply-To=%3C1424927294555.e58f9e81%40Nodemailer%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002448.html">
   <LINK REL="Next"  HREF="002451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Curious about: ipcacheParse: No Address records</H1>
    <B>dan at getbusi.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Curious%20about%3A%20ipcacheParse%3A%20No%20Address%20records&In-Reply-To=%3C1424927294555.e58f9e81%40Nodemailer%3E"
       TITLE="[squid-users] Curious about: ipcacheParse: No Address records">dan at getbusi.com
       </A><BR>
    <I>Thu Feb 26 05:08:14 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002448.html">[squid-users] Curious about: ipcacheParse: No Address records
</A></li>
        <LI>Next message (by thread): <A HREF="002451.html">[squid-users] Curious about: ipcacheParse: No Address records
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2449">[ date ]</a>
              <a href="thread.html#2449">[ thread ]</a>
              <a href="subject.html#2449">[ subject ]</a>
              <a href="author.html#2449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Amos!


I reckon that dns_packet_max directive might be playing into it. Most of the problematic hostnames seem to return large pools of IPs.




Only one way to find out ...

On Thu, Feb 26, 2015 at 3:59 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
wrote:

&gt;<i> On 26/02/2015 2:23 p.m., Dan Charlesworth wrote:
</I>&gt;&gt;<i> Hey y&#8217;all
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I don&#8217;t remember this being covered before&#8230;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I see this error (warning?) pretty frequently for hostnames which I can always resolve fine if I try them on the same server with dig or nslookup.
</I>&gt;&gt;<i> 
</I>&gt;<i> Are you sure you are resolving them in the same way Squid is?
</I>&gt;<i> dig in particular will send a request and does the recursion lookups
</I>&gt;<i> itself. Whereas Squid has to work with the first response the NS(s)
</I>&gt;<i> provide for each for A and AAAA queries ... and *will* cache that
</I>&gt;<i> response for the TTL provided in the packet.
</I>&gt;<i> You may also need to enable EDNS0 advertisements in Squid to receive
</I>&gt;<i> back large sets of IP addresses from some servers (and avoid TCP
</I>&gt;<i> failover on others).
</I>&gt;<i> &lt;<A HREF="http://www.squid-cache.org/Doc/config/dns_packet_max/">http://www.squid-cache.org/Doc/config/dns_packet_max/</A>&gt;
</I>&gt;&gt;<i> What&#8217;s the deal? And what does the client experience in the browser when one of these occurs?
</I>&gt;<i> Something along the lines of:
</I>&gt;<i> &quot;
</I>&gt;<i> ERROR: The requested URL could not be retrieved
</I>&gt;<i> The following error was encountered while trying to retrieve the URL: ...
</I>&gt;<i> Unable to determine IP address from host name &lt;domain&gt;
</I>&gt;<i> The DNS server returned:
</I>&gt;<i>  No Address records
</I>&gt;<i> This means that the cache was not able to resolve the hostname presented
</I>&gt;<i> in the URL. Check if the address is correct.
</I>&gt;<i> &quot;
</I>&gt;<i> ... unless they are using one of the browsers the replace proxy error
</I>&gt;<i> reports with their own &quot;friendly&quot; pages (MSIE and Chrome). Then its some
</I>&gt;<i> obscure error code label or number. Or if it was a javascript XHR
</I>&gt;<i> request it may be in a hard-to-see popup that disappears quickly -
</I>&gt;<i> leaving them thinking nothing happened.
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150225/71125ed0/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150225/71125ed0/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002448.html">[squid-users] Curious about: ipcacheParse: No Address records
</A></li>
	<LI>Next message (by thread): <A HREF="002451.html">[squid-users] Curious about: ipcacheParse: No Address records
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2449">[ date ]</a>
              <a href="thread.html#2449">[ thread ]</a>
              <a href="subject.html#2449">[ subject ]</a>
              <a href="author.html#2449">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
