<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20derive%20HTTP/HTTPS%20upload%20traffic%20to%20a%20secondary%0A%20interface.&In-Reply-To=%3C54EEB226.4000509%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002421.html">
   <LINK REL="Next"  HREF="002454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20derive%20HTTP/HTTPS%20upload%20traffic%20to%20a%20secondary%0A%20interface.&In-Reply-To=%3C54EEB226.4000509%40treenet.co.nz%3E"
       TITLE="[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Feb 26 05:41:58 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002421.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
        <LI>Next message (by thread): <A HREF="002454.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2453">[ date ]</a>
              <a href="thread.html#2453">[ thread ]</a>
              <a href="subject.html#2453">[ subject ]</a>
              <a href="author.html#2453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/02/2015 4:09 a.m., Josep Borrell wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> After some digging I realized that this setup works fine for HTTP traffic but not for HTTPS. I'm using ssl_bump in intercept mode.
</I>&gt;<i> Is possible that for HTTPS traffic I can't split the upload / download ?
</I>&gt;<i> 
</I>
At the connection level Squid is performing multiplexing for the HTTP
messages. They are stateless, so can be split up and delivered over any
connection it finds that meet the criteria.

SSL-Bump however is a single encrypted inbound stream of bytes. Squid is
being a &quot;transaprent proxy&quot; for it by ensuring that the outbound is as
closely matching the inbound behaviour as possible. All the messages
that come in on an encrypted stream should be going out on a matching
(singular) outgoing encryted connection. There are some unavoidable
differencs for HITS, error/deny's, forged certs etc but for the most
part it needs to be kept as transparent as possible to reduce HTTPS
problems.

For intercepted traffic you can/should do load balancing by selecting
the paths for new connections rather than messages. This is a major
reason why I recommend doing load balancing at the OS level where NIC
load vs capacity and the additional packet overheads can be taken into
account.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002421.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
	<LI>Next message (by thread): <A HREF="002454.html">[squid-users] derive HTTP/HTTPS upload traffic to a secondary interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2453">[ date ]</a>
              <a href="thread.html#2453">[ thread ]</a>
              <a href="subject.html#2453">[ subject ]</a>
              <a href="author.html#2453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
