<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Source Code: What files/functions receive/send packets from/to hardware
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Source%20Code%3A%20What%20files/functions%0A%20receive/send%20packets%20from/to%20hardware&In-Reply-To=%3C54AADB39.1010200%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001337.html">
   <LINK REL="Next"  HREF="001339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Source Code: What files/functions receive/send packets from/to hardware</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Source%20Code%3A%20What%20files/functions%0A%20receive/send%20packets%20from/to%20hardware&In-Reply-To=%3C54AADB39.1010200%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid Source Code: What files/functions receive/send packets from/to hardware">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jan  5 18:43:05 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001337.html">[squid-users] Squid Source Code: What files/functions receive/send packets from/to hardware
</A></li>
        <LI>Next message (by thread): <A HREF="001339.html">[squid-users] Debugging slow access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1343">[ date ]</a>
              <a href="thread.html#1343">[ thread ]</a>
              <a href="subject.html#1343">[ subject ]</a>
              <a href="author.html#1343">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 6/01/2015 6:01 a.m., Priya Agarwal wrote:
&gt;<i> Thank you for the reply.
</I>&gt;<i> 
</I>&gt;<i> I do not intend to change its functionality. I just want to make it
</I>&gt;<i> run on a processor (Freescale's T4240). For that it has to use some
</I>&gt;<i> new architectural features (Data Path Acceleration Architecture)
</I>&gt;<i> which are a part of the processor.
</I>&gt;<i> 
</I>&gt;<i> For e.g. suppose squid was merely swapping ipv4/mac src and dest
</I>&gt;<i> addresses( just an example! ) in the packet header and sends it
</I>&gt;<i> back. So I don't want to change what it does, I just want squid to
</I>&gt;<i> send whatever data it has prepared to a memory location. Basically
</I>&gt;<i> instead of receiving and sending to OS Stack, I want to it read and
</I>&gt;<i> write from memory.  (Further details : This memory is basically a
</I>&gt;<i> memory-mapped device which is further responsible for transmitting
</I>&gt;<i> the frame to a network interface, ethernet)
</I>&gt;<i> 
</I>&gt;<i> So maybe if I could know where in the source code does it
</I>&gt;<i> communicate with the OS stack.
</I>
Ah, that kind of packet handling is all much, much lower level than Squid.

Squid uses functions provided by the POSIX system API with socket
handles/&quot;filedescriptors&quot;.

<A HREF="http://man7.org/linux/man-pages/man7/socket.7.html">http://man7.org/linux/man-pages/man7/socket.7.html</A>
<A HREF="http://man7.org/linux/man-pages/man2/read.2.html">http://man7.org/linux/man-pages/man2/read.2.html</A>
<A HREF="http://man7.org/linux/man-pages/man2/write.2.html">http://man7.org/linux/man-pages/man2/write.2.html</A>

The functions in src/fd.cc are where that happens, the lowest
networking-I/O level of Squid.


NP: If you want to take this further and/or discuss any other feature
additions/changes I encourage you to sign up to squid-dev mailing list
and discuss it with the whole dev team. This list is for general user
discussions, (though sometimes code talk from someone doing bug
investigations does slip in).

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUqts4AAoJELJo5wb/XPRjJu4IANCAhXt7PM48xHkERw/mz/sa
heSoEC7nJXaLpRz9JSq085UY2F0p55/GH0Gdh+XLq0h6kMLZB8qYTify0WMp18Jj
sfVOhuURZVdabS5ldW2ZrqftsqCt5eu3JvgHtQ+ewp8RhN5OI6OTQbCL9sf6llWY
Vqm1gno2IymyjcsuPYzpDv7sw7M3odJSETAD2eh6E3r+++uN1q5R4JZ7GZt5mgaE
tIJF0DyOlhAfAJIniCImZ0MDqWHLWjrzLWZRazHg4zA025TinDxkjy+qfHnjYfDc
oIFh9t/mtSbHPnBiZmsyUDOfl/wB0EOMuXEItoLGgBLh/71huVf2QRmfXUr6qS8=
=oajV
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001337.html">[squid-users] Squid Source Code: What files/functions receive/send packets from/to hardware
</A></li>
	<LI>Next message (by thread): <A HREF="001339.html">[squid-users] Debugging slow access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1343">[ date ]</a>
              <a href="thread.html#1343">[ thread ]</a>
              <a href="subject.html#1343">[ subject ]</a>
              <a href="author.html#1343">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
