<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] whitelists and active directory help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20whitelists%20and%20active%20directory%20help&In-Reply-To=%3CCAP6yRXgc5i-3Y%3DiJK8WW_Cmw%2BV0dt0rEzsdkaudgq7ySGb4UkA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001507.html">
   <LINK REL="Next"  HREF="001509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] whitelists and active directory help</H1>
    <B>Samuel Anderson</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20whitelists%20and%20active%20directory%20help&In-Reply-To=%3CCAP6yRXgc5i-3Y%3DiJK8WW_Cmw%2BV0dt0rEzsdkaudgq7ySGb4UkA%40mail.gmail.com%3E"
       TITLE="[squid-users] whitelists and active directory help">sam at idsdoc.com
       </A><BR>
    <I>Fri Jan 16 18:15:01 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001507.html">[squid-users] Odp: Re: Odp: Re: Odp: Re: Odp: Odp: Re: Only TCP_MISS
</A></li>
        <LI>Next message (by thread): <A HREF="001509.html">[squid-users] whitelists and active directory help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1508">[ date ]</a>
              <a href="thread.html#1508">[ thread ]</a>
              <a href="subject.html#1508">[ subject ]</a>
              <a href="author.html#1508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All,

I'm attempting to create way to grant users access to different categories
using active directory. Currently what I have works but if a website is not
listed in any of the whitelists it will allow traffic to that website. If I
add a (http_access deny all) at the end, then nothing works. What I would
like is for a user to only have access to whitlists that they are a member
of. I'll have around 50 categories in the end. This is just a small sample.

Thanks,


acl NEWS external ldap_group NEWS
acl SHOPPING external ldap_group SHOPPING
acl SOCIALNETWORKING external ldap_group SOCIALNETWORKING
acl RELIGION external ldap_group RELIGION
acl SPORTNEWS external ldap_group SPORTNEWS

acl rule1 url_regex -i &quot;/etc/squid3/whitelists/news/domains&quot;
acl rule2 url_regex -i &quot;/etc/squid3/whitelists/shopping/domains&quot;
acl rule3 url_regex -i &quot;/etc/squid3/whitelists/socialnetworking/domains&quot;
acl rule4 url_regex -i &quot;/etc/squid3/whitelists/religion/domains&quot;
acl rule5 url_regex -i &quot;/etc/squid3/whitelists/sportnews/domains&quot;


http_access deny rule1 !NEWS all
http_access deny rule2 !SHOPPING all
http_access deny rule3 !SOCIALNETWORKING all
http_access deny rule4 !RELIGION all
http_access deny rule5 !SPORTNEWS all
http_access allow all

-- 
CONFIDENTIALITY NOTICE:
This e-mail and any attachments are confidential. If you are not an 
intended recipient, please contact the sender to report the error and 
delete all copies of this message from your system.  Any unauthorized 
review, use, disclosure or distribution is prohibited.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150116/9dc4a352/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150116/9dc4a352/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001507.html">[squid-users] Odp: Re: Odp: Re: Odp: Re: Odp: Odp: Re: Only TCP_MISS
</A></li>
	<LI>Next message (by thread): <A HREF="001509.html">[squid-users] whitelists and active directory help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1508">[ date ]</a>
              <a href="thread.html#1508">[ thread ]</a>
              <a href="subject.html#1508">[ subject ]</a>
              <a href="author.html#1508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
