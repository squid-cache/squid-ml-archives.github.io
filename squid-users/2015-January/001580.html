<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.11%20crashing%20on%20FreeBSD%2010%20%2864-bit%29&In-Reply-To=%3C54BD2CB1.5040206%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001575.html">
   <LINK REL="Next"  HREF="001583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.11%20crashing%20on%20FreeBSD%2010%20%2864-bit%29&In-Reply-To=%3C54BD2CB1.5040206%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jan 19 16:11:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001575.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
        <LI>Next message (by thread): <A HREF="001583.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1580">[ date ]</a>
              <a href="thread.html#1580">[ thread ]</a>
              <a href="subject.html#1580">[ subject ]</a>
              <a href="author.html#1580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 20/01/2015 4:20 a.m., Odhiambo Washington wrote:
&gt;<i> On 19 January 2015 at 17:55, Yuri Voinov wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Your use CLang. This is the single point.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You can get any effects. Looks like this is not Squid problem.
</I>&gt;&gt;<i> Just system.
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Are you insinuating that Squid-3.x is not supposed to run on
</I>&gt;<i> FreeBSD 10 because of the CLANG thing?
</I>&gt;<i> 
</I>
We build test Squid on Clang for FreeBSD 10 (no longer GCC). So it
should build and run fine. (Though our FreeBSD 10 tests are failing on
man(8) page creation recently).

Your build parameter 'CPP=clang-cpp' seems unusual. We do not use/need
that for the integration testing builds. Just CC=clang CXX=clang++.
The toolchain naturally takes care of the rest.

Only the FreeBSD 9.x have clang build issues from the GCC-&gt;clang
transitional bugs coming at it from all sides (kernel, compiler, and
Squid).


&gt;<i> Do you have a little howto on how I can compile it using gcc (I
</I>&gt;<i> have gcc49 installed) ?
</I>
At the simplest:

 mkdir _build &amp;&amp; \
 cd _build &amp;&amp; \
 ../configure &amp;&amp; \
 make install

The squid default paths etc were all designed for FreeBSD environment.

&gt;<i> 
</I>&gt;<i> This squid is running, disobeying my time-based ACLs, crashing as
</I>&gt;<i> seen in cache.log and ... just annoying but I need a proxy by all
</I>&gt;<i> means! It kinda puts me in the proverbial between a rock &amp; hard
</I>&gt;<i> place.
</I>&gt;<i> 
</I>

If you are using diskd cache_dir on FreeBSD 10 there are known crashes
from that in 9/10. Until that is figured out shifting to ufs or aufs
is best.


Since it is a crash, backtrace is critical to figuring out what is
actually going on.

Amos

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUvSywAAoJELJo5wb/XPRjXzcIALlLN2vv/Ev+l0fibkRwDpab
m2RWtxzuwNJ958PO92akm4kkJN/0eZojl1lP7Tp8YPVzuIvcTKQ8z+LfhmV7f6Tp
/1KA9vqXE+QtZCbPTl1TRv0ar7bwtMGvD12fs8eeApqshesbm9m/mo7eAHNTqMfE
gTTJ5IjsCGimxK5b+zOrseOm3Syf1o757E7/3XB26gRhorzdj8Zjvzj7mt41jR6x
PlyJybHp/RTt1meZSQQIMUvXdEAOPSAb1kY+R7KY5jqpFdtN3yijDc25lWdpjCub
aY2sv+lf5YNeOXlXO/dBicQRQJ0W9H2V4X5lc/qit3YTuIdJx+DHS8qknBzBqv4=
=eiso
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001575.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
	<LI>Next message (by thread): <A HREF="001583.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1580">[ date ]</a>
              <a href="thread.html#1580">[ thread ]</a>
              <a href="subject.html#1580">[ subject ]</a>
              <a href="author.html#1580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
