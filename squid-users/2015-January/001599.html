<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.11%20crashing%20on%20FreeBSD%2010%20%2864-bit%29&In-Reply-To=%3C54BE4758.2080102%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001585.html">
   <LINK REL="Next"  HREF="001602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.11%20crashing%20on%20FreeBSD%2010%20%2864-bit%29&In-Reply-To=%3C54BE4758.2080102%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jan 20 12:17:28 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001585.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
        <LI>Next message (by thread): <A HREF="001602.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1599">[ date ]</a>
              <a href="thread.html#1599">[ thread ]</a>
              <a href="subject.html#1599">[ subject ]</a>
              <a href="author.html#1599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I have just fixed a few clang detected build errors and 3.5 is now
building cleanly here on FreeBSD 10 with the default Clang.

Please try to build the latest 3.5 snapshot (which will be labeled
r13735 or higher). It should build fine with either the system default
clang compiler or your GCC 4.9 install, but not with the system
default GCC 4.4.


&gt;<i> (gdb) bt #0  0x0000000803a30469 in swapcontext () from
</I>&gt;<i> /lib/libthr.so.3 #1  0x0000000803a30062 in sigaction () from
</I>&gt;<i> /lib/libthr.so.3 #2  &lt;signal handler called&gt; #3  0x0000000803d6b04a
</I>&gt;<i> in kevent () from /lib/libc.so.7 #4  0x000000000086335c in
</I>&gt;<i> Comm::DoSelect (msec=981) at ModKqueue.cc:264
</I>

Looks like a bug in the system threading library. Though why Squid is
triggering it is unknown. Maybe related to the two GCC versions with
different libc perhapse?

Amos
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (MingW32)

iQEcBAEBAgAGBQJUvkdXAAoJELJo5wb/XPRjlvAIAMFp6QV6Dq+IEzUfdrh510F0
u2w/qba0om8a/9V3VnO5H1fHt4uIiHD9Nfph0jqhpkNPP34grO5CFOJRTIRwgni7
9GO2Dq6UKYFz2onkoQlm2Oa/72LEsBupWThL2chlsowztedhObIHAt4qUqLCbTo4
ogwIvf30wFQ4xTYMj1KLmFjbUYM/EIag+c9A67w7RB1kxQqtIHxdwQYrRbjli66s
6D6FYoFZ3BwlulWylNqjB8z98ah0/wn761rcrt2jYmAmM8OvYrezspn5BviAF6YP
1m/skvaEIFP3i3wJZUSY5AoD3EFYAZp0PJL6zXaXKhhERCjZ4/ekiA5rjlqnSZo=
=pv6K
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001585.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
	<LI>Next message (by thread): <A HREF="001602.html">[squid-users] Squid 3.4.11 crashing on FreeBSD 10 (64-bit)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1599">[ date ]</a>
              <a href="thread.html#1599">[ thread ]</a>
              <a href="subject.html#1599">[ subject ]</a>
              <a href="author.html#1599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
