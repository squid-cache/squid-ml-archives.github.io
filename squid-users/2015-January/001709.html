<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] need 206 to be 200
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20need%20206%20to%20be%20200&In-Reply-To=%3C54C63AB9.1070800%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001708.html">
   <LINK REL="Next"  HREF="001716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] need 206 to be 200</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20need%20206%20to%20be%20200&In-Reply-To=%3C54C63AB9.1070800%40treenet.co.nz%3E"
       TITLE="[squid-users] need 206 to be 200">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jan 26 13:01:45 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001708.html">[squid-users] need 206 to be 200
</A></li>
        <LI>Next message (by thread): <A HREF="001716.html">[squid-users] Error negotiating SSL connection on FD 20: error:00000000:lib(0):func(0):reason(0) (5/-1/131)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1709">[ date ]</a>
              <a href="thread.html#1709">[ thread ]</a>
              <a href="subject.html#1709">[ subject ]</a>
              <a href="author.html#1709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/01/2015 1:38 a.m., HackXBack wrote:
&gt;<i> I always see in access.log for the partial content
</I>&gt;<i> TCP_HIT_ABORTED/206 
</I>
ABORTED means the client disconnected. There is nothing you can do about
that in Squid.

HIT means the object delivered came from cache. No upstream bandwidth
was consumed in the process.

&gt;<i> and this content eat my whole bandwidth
</I>
The 206 means client is fetching a range of data out of a larger object.
Turning that into a 200 (full-object) delivered to client will only
spend more bandwidth.

&gt;<i> 
</I>&gt;<i> my conf is
</I>&gt;<i> 
</I>&gt;<i> range_offset_limit none partial
</I>&gt;<i> quick_abort_min 1840 KB
</I>&gt;<i> quick_abort_max 1844 KB
</I>&gt;<i> 
</I>
These are all controlling Squid contact with servers. Limiting upstream
bandwidth expenditure when the client aborts. Which is useful for
TCP_MISS_ABORTED/206 cases.

Since your log says HIT, the only thing you could do in Squid is
completely reject these clients requests.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001708.html">[squid-users] need 206 to be 200
</A></li>
	<LI>Next message (by thread): <A HREF="001716.html">[squid-users] Error negotiating SSL connection on FD 20: error:00000000:lib(0):func(0):reason(0) (5/-1/131)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1709">[ date ]</a>
              <a href="thread.html#1709">[ thread ]</a>
              <a href="subject.html#1709">[ subject ]</a>
              <a href="author.html#1709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
