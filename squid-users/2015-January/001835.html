<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] The email notification feature does not work after 10	days
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20The%20email%20notification%20feature%20does%20not%20work%20after%2010%0A%09days&In-Reply-To=%3CCABBDWweu4v0o3%3Dc5EVffkfasT75PAbHMcW2QLj63fn7_nnS6og%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001843.html">
   <LINK REL="Next"  HREF="001837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] The email notification feature does not work after 10	days</H1>
    <B>Tianyin Xu</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20The%20email%20notification%20feature%20does%20not%20work%20after%2010%0A%09days&In-Reply-To=%3CCABBDWweu4v0o3%3Dc5EVffkfasT75PAbHMcW2QLj63fn7_nnS6og%40mail.gmail.com%3E"
       TITLE="[squid-users] The email notification feature does not work after 10	days">tixu at cs.ucsd.edu
       </A><BR>
    <I>Sat Jan 31 05:41:39 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001843.html">[squid-users] Splash page issues
</A></li>
        <LI>Next message (by thread): <A HREF="001837.html">[squid-users] The email notification feature does not work after 10 days
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1835">[ date ]</a>
              <a href="thread.html#1835">[ thread ]</a>
              <a href="subject.html#1835">[ subject ]</a>
              <a href="author.html#1835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to use the email notification feature specified in the document.
<A HREF="http://www.squid-cache.org/Doc/config/mail_program/">http://www.squid-cache.org/Doc/config/mail_program/</A>
<A HREF="http://www.squid-cache.org/Doc/config/cache_mgr/">http://www.squid-cache.org/Doc/config/cache_mgr/</A>
<A HREF="http://www.squid-cache.org/Doc/config/mail_from/">http://www.squid-cache.org/Doc/config/mail_from/</A>

Basically, if the Squid proxy server dies, I can receive an email
notification by configuring &quot;mail_program&quot;, &quot;cache_mgr&quot;, and
&quot;mail_from&quot;. This is a very nice feature.

However, when I start Squid and then intentionally kill Squid by
issuing SEGV, Squid dies without sending any email to me. Diving into
the code, I see that the email notification feature is disabled by the
following if condition,

    /* src/tools.cc */
    ....
    if (squid_curtime - SQUID_RELEASE_TIME &lt; 864000) {
        /* skip if more than 10 days old */
        if (Config.adminEmail)
            mail_warranty();

        puts(dead_msg());
    }

&gt;<i>From the comment, it seems that intentionally the feature is disabled
</I>if the current time is latter than 10 days after the release time
(which is my case). This totally makes no sense to me because most
users like me will use this feature after 10 days latter than the
release date...

Could anyone explain this? I moved the if-condition and the feature does work.

I also opened a bugzilla report here,
<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4184">http://bugs.squid-cache.org/show_bug.cgi?id=4184</A>

Thanks!

~t

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001843.html">[squid-users] Splash page issues
</A></li>
	<LI>Next message (by thread): <A HREF="001837.html">[squid-users] The email notification feature does not work after 10 days
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1835">[ date ]</a>
              <a href="thread.html#1835">[ thread ]</a>
              <a href="subject.html#1835">[ subject ]</a>
              <a href="author.html#1835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
