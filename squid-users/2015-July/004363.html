<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TProxy and client_dst_passthru
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TProxy%20and%20client_dst_passthru&In-Reply-To=%3C1435929702099-4672044.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004361.html">
   <LINK REL="Next"  HREF="004364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TProxy and client_dst_passthru</H1>
    <B>Stakres</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TProxy%20and%20client_dst_passthru&In-Reply-To=%3C1435929702099-4672044.post%40n4.nabble.com%3E"
       TITLE="[squid-users] TProxy and client_dst_passthru">vdoctor at neuf.fr
       </A><BR>
    <I>Fri Jul  3 13:21:42 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004361.html">[squid-users] TProxy and client_dst_passthru
</A></li>
        <LI>Next message (by thread): <A HREF="004364.html">[squid-users] TProxy and client_dst_passthru
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4363">[ date ]</a>
              <a href="thread.html#4363">[ thread ]</a>
              <a href="subject.html#4363">[ subject ]</a>
              <a href="author.html#4363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos,
You told the Squid will check the original dns from the headers, then it'll
do its own dns resolution to verify they both match.
So, if no match, Squid does the request to internet based on the dns it
found.
If I'm right, that the current way, correct ?

What we could do is the same way but as Squid has downloaded the object
based on its dns records, it means the object is correct, the right one. So,
keep all details from Squid job and push the object to the cache (if
cacheable).

user request -&gt; squid checks the dns is ok (corrects it if needed) -&gt; squid
download the right object and cache.
user request -&gt; squid checks the dns is ok (corrects it if needed) -&gt; squid
pushs from its cache.

Again, if Squid requests the right object based on its dns requests, it'll
deliver to clients the good one.
So, we should not see ORIGINAL_DST anymore...

And, when I see the archi Yuri must to do to avoid ORIGINAL_DST, I'm sure
all Squid users will be happy 

Fred




--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/TProxy-and-client-dst-passthru-tp4670189p4672044.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/TProxy-and-client-dst-passthru-tp4670189p4672044.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004361.html">[squid-users] TProxy and client_dst_passthru
</A></li>
	<LI>Next message (by thread): <A HREF="004364.html">[squid-users] TProxy and client_dst_passthru
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4363">[ date ]</a>
              <a href="thread.html#4363">[ thread ]</a>
              <a href="subject.html#4363">[ subject ]</a>
              <a href="author.html#4363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
