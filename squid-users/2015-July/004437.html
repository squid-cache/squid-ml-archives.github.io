<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Two questions about stored objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Two%20questions%20about%20stored%20objects&In-Reply-To=%3C559D9739.6030504%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004432.html">
   <LINK REL="Next"  HREF="004459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Two questions about stored objects</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Two%20questions%20about%20stored%20objects&In-Reply-To=%3C559D9739.6030504%40treenet.co.nz%3E"
       TITLE="[squid-users] Two questions about stored objects">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul  8 21:33:45 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004432.html">[squid-users] Two questions about stored objects
</A></li>
        <LI>Next message (by thread): <A HREF="004459.html">[squid-users] Two questions about stored objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4437">[ date ]</a>
              <a href="thread.html#4437">[ thread ]</a>
              <a href="subject.html#4437">[ subject ]</a>
              <a href="author.html#4437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/07/2015 5:17 a.m., Sebastian Goicochea wrote:
&gt;<i> Hello everyone, I have been making some modifications (size, object max
</I>&gt;<i> size) in some cache dirs and I have a couple of questions:
</I>&gt;<i> 
</I>&gt;<i> 1) If I lower de maximum object size for a certain cache_dir and
</I>&gt;<i> reconfigure (I did a squid -z without squid running), what happens to
</I>&gt;<i> the files that are no longer in the cache_dir size limits but are
</I>&gt;<i> already stored?
</I>
No. It only affects new objects being stored to disk.

There is one caveat however. Sometimes objects get &quot;promoted&quot; from disk
to memory caching. When those cycle back to disk they will not go to the
original cache_dir. Which may leave you with an un-deleted but nolonger
indexed file on disk.

&gt;<i> 
</I>&gt;<i> 2) If I change the min and max times in refresh_patterns, what happens
</I>&gt;<i> to the objects that are already stored? Where they stored with the &quot;old&quot;
</I>&gt;<i> times or are they going to be re-evaluated the next time they are
</I>&gt;<i> requested by a user?
</I>
Have no effect except on active traffic. That does include &quot;active&quot; in
the sense of being saved to disk. But not objects just sitting there
already.


Overall, if you change settings like these the state does slowly
migrates to the new values as cached content expires. But that is not
fast, could take minutes or weeks depending on your initial state.

To make immediate administrative changes to on-disk AUFS/UFS/diskd cache
content use the squid-purge tool which is bundled with recent Squid
versions.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004432.html">[squid-users] Two questions about stored objects
</A></li>
	<LI>Next message (by thread): <A HREF="004459.html">[squid-users] Two questions about stored objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4437">[ date ]</a>
              <a href="thread.html#4437">[ thread ]</a>
              <a href="subject.html#4437">[ subject ]</a>
              <a href="author.html#4437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
