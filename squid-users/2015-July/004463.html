<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] sslbump and caching of generated cert
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslbump%20and%20caching%20of%20generated%20cert&In-Reply-To=%3C55A0D612.8060900%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004462.html">
   <LINK REL="Next"  HREF="004312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] sslbump and caching of generated cert</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslbump%20and%20caching%20of%20generated%20cert&In-Reply-To=%3C55A0D612.8060900%40treenet.co.nz%3E"
       TITLE="[squid-users] sslbump and caching of generated cert">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Jul 11 08:38:42 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004462.html">[squid-users] sslbump and caching of generated cert
</A></li>
        <LI>Next message (by thread): <A HREF="004312.html">[squid-users] TFD-CONNECT (501 errors)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4463">[ date ]</a>
              <a href="thread.html#4463">[ thread ]</a>
              <a href="subject.html#4463">[ subject ]</a>
              <a href="author.html#4463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/07/2015 11:02 a.m., Alex Wu wrote:
&gt;<i> actually, the major problems are:
</I>&gt;<i> 
</I>&gt;<i> Once workers &gt; 1, squid looks for /var/run/squid. pidfile for workers=1 is done in squid.conf, but for workers &gt; 1, this will be ignored.
</I>
PID stands for &quot;Process ID&quot;. The pidfile contains the process ID of the
Squid process which is responsible for handling signals form the OS
(kill etc). There should only ever be one PID file per Squid (not
per-worker).


&gt;<i> 
</I>&gt;<i> once configuring localstatedir=/opt/deploy/squid/var using ./configure, for workers &gt; 1, the squid is looking for /opt/deploy/squid/var/runsquid. The directory has to be created properly before starting squid.
</I>&gt;<i> 
</I>
The &quot;runsquid&quot; part looks broken.

Probably because localstatedir=/opt/deploy/squid/var is naming a file
&quot;var&quot; instead of a directory &quot;/opt/deploy/squid/var/&quot;.


&gt;<i> all helpers must be defined in process_number &gt; 1 respectively, otherwise, there are extra helpers launched by process_number = 0 like crtd.
</I>&gt;<i> 
</I>
That is not necessary. The extra helpers will not be used. We are fixing
that as the wrongly started ones are identified. Latest Squid no longer
start crtd helpers unless cert-generation is actually used by the worker
starting them.

Which means &quot;Please ugrade to 3.5.6&quot;.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004462.html">[squid-users] sslbump and caching of generated cert
</A></li>
	<LI>Next message (by thread): <A HREF="004312.html">[squid-users] TFD-CONNECT (501 errors)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4463">[ date ]</a>
              <a href="thread.html#4463">[ thread ]</a>
              <a href="subject.html#4463">[ subject ]</a>
              <a href="author.html#4463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
