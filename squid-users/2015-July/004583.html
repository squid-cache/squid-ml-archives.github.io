<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] AUFS vs. DISKS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A67E2D.5090505%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004576.html">
   <LINK REL="Next"  HREF="004588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] AUFS vs. DISKS</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A67E2D.5090505%40treenet.co.nz%3E"
       TITLE="[squid-users] AUFS vs. DISKS">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul 15 15:37:17 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004576.html">[squid-users] AUFS vs. DISKS
</A></li>
        <LI>Next message (by thread): <A HREF="004588.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4583">[ date ]</a>
              <a href="thread.html#4583">[ thread ]</a>
              <a href="subject.html#4583">[ subject ]</a>
              <a href="author.html#4583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/07/2015 2:59 a.m., Yuri Voinov wrote:
&gt;<i> 
</I>&gt;<i> Amos,
</I>&gt;<i> 
</I>&gt;<i> I think, auds queue must be buffered more better and smoother. On some
</I>&gt;<i> OS (I've tested) peak loads leads performance degradation. Periodically.
</I>&gt;<i> 
</I>
Buffering and I/O scheduling is all done by the system disk controller
AFAICT. Squid is just accumulating a queue of I/O requests while it
waits for the controller to signal that its ready for them. Then that
lot get sent to it. Et, loop..

It may be disk driver related. Or on the other end if Squid is too busy
processing other stuff when the FD signals come back from the disk
controller indicating the read()/write() API calls need to happen to
pick the data up.

Its running on libpthreads, which I know has issues on some systems. But
theres nothing we can do about that bit, and thing are improving slowly
anyway.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004576.html">[squid-users] AUFS vs. DISKS
</A></li>
	<LI>Next message (by thread): <A HREF="004588.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4583">[ date ]</a>
              <a href="thread.html#4583">[ thread ]</a>
              <a href="subject.html#4583">[ subject ]</a>
              <a href="author.html#4583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
