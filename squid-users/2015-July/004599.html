<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] AUFS vs. DISKS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A7DC1E.7060000%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004598.html">
   <LINK REL="Next"  HREF="004601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] AUFS vs. DISKS</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A7DC1E.7060000%40gmail.com%3E"
       TITLE="[squid-users] AUFS vs. DISKS">yvoinov at gmail.com
       </A><BR>
    <I>Thu Jul 16 16:30:22 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004598.html">[squid-users] AUFS vs. DISKS
</A></li>
        <LI>Next message (by thread): <A HREF="004601.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4599">[ date ]</a>
              <a href="thread.html#4599">[ thread ]</a>
              <a href="subject.html#4599">[ subject ]</a>
              <a href="author.html#4599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
Fred.

It's depending your OS.

Depending your hardware.

Depending your OS configuration.

Tuning is very complex problem and tuning is EVIL.

Remember it.


PS. On MY platform diskd is the single choise. And it's very fast. 0.1
sec latency.

16.07.15 21:00, FredB &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Not sure we'll have free time for testing the previous 3.4, we now
</I>&gt;&gt;&gt;<i> have
</I>&gt;&gt;&gt;<i> dozens of boxes to manually upgrade to the 3.5.6...
</I>&gt;&gt;&gt;<i> yes, we do use the original squid 3.5.6 package, no build mix here.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ok I will, It would be interesting to understand what happen and if
</I>&gt;&gt;<i> there is something wrong in latest versions
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> Quickly tested with squid 3.5.6, yes there is a big difference 
</I>&gt;<i> Without any other load, just my test - wget with proxy 127.0.0.1 (no
</I>lan) - Debian wheezy 32 bits
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> aufs:
</I>&gt;<i>
</I>&gt;<i> [16/Jul/2015:16:15:25 +0200] &quot;GET
</I><A HREF="http://ec.ccm2.net/www.commentcamarche.net/download/files/youtube_downloader_hd_setup-2.9.9.23.exe">http://ec.ccm2.net/www.commentcamarche.net/download/files/youtube_downloader_hd_setup-2.9.9.23.exe</A>
HTTP/1.0&quot; 200 10096328 TCP_HIT:HIER_NONE
&gt;<i>
</I>&gt;<i>
</I>100%[===========================================================================================================================================================================&gt;]
10,095,849  26.1M/s   in 0.4s   
&gt;<i>
</I>&gt;<i> 2015-07-16 16:15:25 (26.1 MB/s) -
</I>`youtube_downloader_hd_setup-2.9.9.23.exe.4' saved [10095849/10095849]
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> real    0m0.385s
</I>&gt;<i> user    0m0.028s
</I>&gt;<i> sys    0m0.164s
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> diskd:
</I>&gt;<i>
</I>&gt;<i> [16/Jul/2015:16:17:29 +0200] &quot;GET
</I><A HREF="http://ec.ccm2.net/www.commentcamarche.net/download/files/youtube_downloader_hd_setup-2.9.9.23.exe">http://ec.ccm2.net/www.commentcamarche.net/download/files/youtube_downloader_hd_setup-2.9.9.23.exe</A>
HTTP/1.0&quot; 200 10096328 TCP_HIT:HIER_NONE &quot;Wget/1.13.4 (linux-gnu)&quot;
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Saving to: `youtube_downloader_hd_setup-2.9.9.23.exe.6'
</I>&gt;<i>
</I>&gt;<i>
</I>100%[============================================================================================&gt;]
10,095,849   901K/s   in 14s    
&gt;<i>
</I>&gt;<i> 2015-07-16 16:17:29 (684 KB/s) -
</I>`youtube_downloader_hd_setup-2.9.9.23.exe.6' saved [10095849/10095849]
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> real    0m14.426s
</I>&gt;<i> user    0m0.016s
</I>&gt;<i> sys    0m0.156s
</I>&gt;<i>
</I>&gt;<i> In this case it's better without cache.
</I>&gt;<i>
</I>&gt;<i> I understand that aufs should be better but diskd is unusable ...
</I>&gt;<i>
</I>&gt;<i> I also found something else, with squid 3.4.13 diskd start the
</I>download slowly but after a short time it is fast, with 3.5.6 the
download is always slow 
&gt;<i> In my bench aufs is always faster (very) than diskd, no matter 3.4.3
</I>or 3.5.6, but with high load I'm worried about warning messages in
cache.log, diskd seems more stable in this case. 
&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJVp9wcAAoJENNXIZxhPexG5SwH/0tHln3GBuPeCEdZb7vAocMQ
K5EVfS1TMqOnsud4CQBrUbzaBDqks016MCYgi/nUqmgGquTpLFi58SRDvnsv7rF1
4sVUeGCzBOAJFa0mwTwigVlTaShesq6kJlCmMEiUu9JDPk/n/+WrJ27GfJIeJ5VT
Cs+G6zet9ITvWCklZ8ml1vLX+K72QLoVA7JvbCqHmsxqWlmL82EPSq0+c5vQt8Va
jtjVPYFYncofyrgSbMNX7C3hqm8yt1+0+EHGGfT88fOG9Xe3prqbKWrfWmDqWsea
PmUdeQvmET2b6j5F5uSLSYjL17hFNl56vP7VuYxJ3lbbqsZfR/ihqF1+dbNjRwk=
=joRM
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150716/26e79fa5/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150716/26e79fa5/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004598.html">[squid-users] AUFS vs. DISKS
</A></li>
	<LI>Next message (by thread): <A HREF="004601.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4599">[ date ]</a>
              <a href="thread.html#4599">[ thread ]</a>
              <a href="subject.html#4599">[ subject ]</a>
              <a href="author.html#4599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
