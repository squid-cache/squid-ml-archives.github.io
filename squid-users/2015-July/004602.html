<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] AUFS vs. DISKS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A7E790.4020905%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004601.html">
   <LINK REL="Next"  HREF="004603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] AUFS vs. DISKS</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20AUFS%20vs.%20DISKS&In-Reply-To=%3C55A7E790.4020905%40gmail.com%3E"
       TITLE="[squid-users] AUFS vs. DISKS">yvoinov at gmail.com
       </A><BR>
    <I>Thu Jul 16 17:19:12 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004601.html">[squid-users] AUFS vs. DISKS
</A></li>
        <LI>Next message (by thread): <A HREF="004603.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4602">[ date ]</a>
              <a href="thread.html#4602">[ thread ]</a>
              <a href="subject.html#4602">[ subject ]</a>
              <a href="author.html#4602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
In my case diskd only choice. On my platform aufs does not work at all.
And diskd gives the best result after careful tuning.

As I said earlier, the result is highly dependent on the platform,
hardware, and configuration. diskd was designed for a well-defined
process model. And on this platform it shows the best results in the
case of direct hand administrator. QED. Of course, ordinary
administrators need something simple out of the box. ;)

Extreme Tuning is a piece product that is impossible to get out of the
box. It takes effort and thought. ;)

Do not expect crazy results from the default settings and look for the
magic bullet. It does not exist, as is well known experienced
administrators.

16.07.15 23:13, FredB &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;&gt;<i> Hash: SHA256
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Fred.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's depending your OS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Depending your hardware.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Depending your OS configuration.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Tuning is very complex problem and tuning is EVIL.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Remember it.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yuri. my tests are very very basic
</I>&gt;<i>
</I>&gt;<i> I think in this case this is not a matter of tuning, Squid 3.4.13 and
</I>squid 3.5.6, same OS, same config, same object downloaded, same cache
size, no other user, no lan - directly connected -
&gt;<i> The only difference is aufs/diskd in squid.conf
</I>&gt;<i> Result, very slow with 3.5.6 and diskd
</I>&gt;<i>
</I>&gt;<i> Top
</I>&gt;<i>
</I>&gt;<i> 1 - squid 3.4.13/3.5.6 + aufs -&gt; Fast, but with many users a lot of
</I>messages in cache.log, stress me ;)
&gt;<i> 2 - squid 3.4.13 -&gt; diskd -&gt; more slow
</I>&gt;<i> 3 - squid 3.5.6 -&gt; diskd -&gt; very slow, unusable ?
</I>&gt;<i>
</I>&gt;<i> Maybe my other problem with aufs (warning messages) needs tuning but I
</I>don't know what to do exactly.
&gt;<i>
</I>&gt;<i> As other Fred, I see that there is something strange, maybe you are
</I>right but I'm curious to know what special config (not needed before) I
should put, my Internet access - 100 mbps - is, very, more faster than
my direct access disk (again there is no other user in my test machine).
&gt;<i>
</I>&gt;<i> I hope I will find time to test rock store soon, with and without high
</I>load.
&gt;<i>
</I>&gt;<i> Please Amos, can you just make a test with the latest version ? Maybe
</I>there is something wrong here - and for the other Fred too -, just
downloading a &quot;large&quot; file in cache without any other user, with aufs
and also diskd ,if you can directly with loopback address.  
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJVp+eQAAoJENNXIZxhPexGns4H/3f9IhhTBUFZL4xHQoihbahU
D2j2sQ88K3KI38MQx9vCOXLW3yuXGTFwStAPQveGxmx9869rPmtOHL+MhbF0pvq6
+bVhkYbAmSyBXTIYx3T+0utdMnWY/aV2sLwBfOyEPuL5NQzIJNI60Fg+zhQDgeiW
LPxMaceRfNc4+zjwp935lyHcvbnLVmW/l5w3yGBoOIqkPhZk03me6jbYjJ4Szzz/
pNna6smmQm92sDy7L8qwxW5cHKnkg7CSpCJt40Cpwke7jvMXy6xEfsOgtR1vcuO4
vEtbZwWSknFcObzeToYhrIuYCdY4lU7mmCaYu9wyPQMsQnCtSDBEETZ/DBevwRc=
=CHxj
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004601.html">[squid-users] AUFS vs. DISKS
</A></li>
	<LI>Next message (by thread): <A HREF="004603.html">[squid-users] AUFS vs. DISKS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4602">[ date ]</a>
              <a href="thread.html#4602">[ thread ]</a>
              <a href="subject.html#4602">[ subject ]</a>
              <a href="author.html#4602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
