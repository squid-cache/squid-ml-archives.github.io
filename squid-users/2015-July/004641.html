<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to get the correct size of a denied object ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20get%20the%20correct%20size%20of%20a%20denied%20object%20%3F&In-Reply-To=%3C1437406050879-4672332.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004627.html">
   <LINK REL="Next"  HREF="004642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to get the correct size of a denied object ?</H1>
    <B>Stakres</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20get%20the%20correct%20size%20of%20a%20denied%20object%20%3F&In-Reply-To=%3C1437406050879-4672332.post%40n4.nabble.com%3E"
       TITLE="[squid-users] How to get the correct size of a denied object ?">vdoctor at neuf.fr
       </A><BR>
    <I>Mon Jul 20 15:27:30 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004627.html">[squid-users] FATAL: xcalloc: Unable to allocate 18446744073527142243 blocks of 1 bytes!
</A></li>
        <LI>Next message (by thread): <A HREF="004642.html">[squid-users] How to get the correct size of a denied object ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4641">[ date ]</a>
              <a href="thread.html#4641">[ thread ]</a>
              <a href="subject.html#4641">[ subject ]</a>
              <a href="author.html#4641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

As you know, when an object is denied by an ACl or other, the size of the
object in the log file is the size of the ERR_* page.
Is there a way to get the correct/real size of the blocked object ?

I know the url is denied before squid gets the object from internet, but it
should be nice to have a special action/option to write to the access.log
the real size instead the ERR page size.
Because here we don't care the size of the ERR page, knowing the real size
of the denied object is much more important, not meaning the size we blocked
but what is the size we have not downloaded, this is a valuable data with
clients...

Possible to plan a solution for the next build ?
Just get the size by headers, deny the object then write the correct size to
the access.log 

Thanks in advance.

Bye Fred



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/How-to-get-the-correct-size-of-a-denied-object-tp4672332.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/How-to-get-the-correct-size-of-a-denied-object-tp4672332.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004627.html">[squid-users] FATAL: xcalloc: Unable to allocate 18446744073527142243 blocks of 1 bytes!
</A></li>
	<LI>Next message (by thread): <A HREF="004642.html">[squid-users] How to get the correct size of a denied object ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4641">[ date ]</a>
              <a href="thread.html#4641">[ thread ]</a>
              <a href="subject.html#4641">[ subject ]</a>
              <a href="author.html#4641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
