<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] suppress sending authentication prompt
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20suppress%20sending%20authentication%20prompt&In-Reply-To=%3C55AF848B.4010903%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004672.html">
   <LINK REL="Next"  HREF="004684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] suppress sending authentication prompt</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20suppress%20sending%20authentication%20prompt&In-Reply-To=%3C55AF848B.4010903%40treenet.co.nz%3E"
       TITLE="[squid-users] suppress sending authentication prompt">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul 22 11:54:51 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004672.html">[squid-users] suppress sending authentication prompt
</A></li>
        <LI>Next message (by thread): <A HREF="004684.html">[squid-users] suppress sending authentication prompt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4680">[ date ]</a>
              <a href="thread.html#4680">[ thread ]</a>
              <a href="subject.html#4680">[ subject ]</a>
              <a href="author.html#4680">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/07/2015 3:36 a.m., Berkes, David wrote:
&gt;<i> Thank you.
</I>&gt;<i> From the tcpdump, I see the iphone sending requests to the proxy.  Sometimes with credentials and sometimes not.  How can I tell squid to not send 407 in response to the header with no credentials?  I have tried the following variations with no luck.
</I>&gt;<i> 
</I>
Think about that for a minute.

If Squid is never allowed to *ask* for credentials. How will it get them?

Do you really want the browser actively broadcasting usernames and
passwords in trivially decrypted format out into the network regardless
of where its connecting to?

You can block Squid actively requesting credentials by adding &quot; all&quot; to
the end of the http_access line(s) that would otherwise end with
ncsa_users ACL check. However, that will only cause the browser to
display an error page. Access Denied, end of transaction, full stop,
dont try again.



Remember that the popup is *not* part of HTTP messaging nor the HTTP
level authentication. It is purely a browser internal mechanism for
locating credentials.

407 is a perfectly normal HTTP operation. A working browser would always
answer Squid 407 queries by sending the MDM configured cerdentials, with
*zero* user involvement.

I suspect that perhapse your MDM system is tying the credentials to an
IPv4 address, and the iPhone using IPv6 on some traffic?
 Or maybe the browser really is braindead and forgetting how to lookup
the credentials.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004672.html">[squid-users] suppress sending authentication prompt
</A></li>
	<LI>Next message (by thread): <A HREF="004684.html">[squid-users] suppress sending authentication prompt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4680">[ date ]</a>
              <a href="thread.html#4680">[ thread ]</a>
              <a href="subject.html#4680">[ subject ]</a>
              <a href="author.html#4680">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
