<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Lag Time Displaying SVG files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Lag%20Time%20Displaying%20SVG%20files&In-Reply-To=%3C55762915.6040102%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003942.html">
   <LINK REL="Next"  HREF="003963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Lag Time Displaying SVG files</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Lag%20Time%20Displaying%20SVG%20files&In-Reply-To=%3C55762915.6040102%40treenet.co.nz%3E"
       TITLE="[squid-users] Lag Time Displaying SVG files">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jun  8 23:45:25 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003942.html">[squid-users] Lag Time Displaying SVG files
</A></li>
        <LI>Next message (by thread): <A HREF="003963.html">[squid-users] Lag Time Displaying SVG files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3950">[ date ]</a>
              <a href="thread.html#3950">[ thread ]</a>
              <a href="subject.html#3950">[ subject ]</a>
              <a href="author.html#3950">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/06/2015 9:21 a.m., JR Swartz wrote:
&gt;<i> We have a customer that uses Squid (3.x).  When viewing the
</I>&gt;<i> www.fmcdealer.com web site for their business, standard web pages load as
</I>&gt;<i> expected.  However, when drilling down into the wiring diagrams (which are
</I>&gt;<i> in SVG format), there is exactly a 2 minute (120 sec) delay before the
</I>&gt;<i> diagrams are displayed.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> We've tested this on several svg diagrams and, regardless of the size of the
</I>&gt;<i> diagram, the delay is exactly 2 minutes.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Additionally, we've run tcpdump -vv and it appears there is no traffic
</I>&gt;<i> during this 2 minute period.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> We're hoping someone has seen this or the 120 second delay may trigger
</I>&gt;<i> someone's memory about this issue?
</I>
If the end of the server reply message has not yet been received then
this is not a Squid problem.


It may be server processing delays, but given that exact timing it is
more likely to be a TCP timeout on the connection.


If the server emits a message without Content-Length or
Transfer-Encoding headers then end-of-message is the TCP connection
close signal.
 If the server fails to close Squid is left waiting for more bytes which
will never arrive, until the TCP networking stack times out and closes
it. Then Squid relays the end-of-message signal to the client and
everything works again.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003942.html">[squid-users] Lag Time Displaying SVG files
</A></li>
	<LI>Next message (by thread): <A HREF="003963.html">[squid-users] Lag Time Displaying SVG files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3950">[ date ]</a>
              <a href="thread.html#3950">[ thread ]</a>
              <a href="subject.html#3950">[ subject ]</a>
              <a href="author.html#3950">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
