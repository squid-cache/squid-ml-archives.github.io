<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] spotify blocked by squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20spotify%20blocked%20by%20squid&In-Reply-To=%3C55787BC5.3070102%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003987.html">
   <LINK REL="Next"  HREF="003989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] spotify blocked by squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20spotify%20blocked%20by%20squid&In-Reply-To=%3C55787BC5.3070102%40treenet.co.nz%3E"
       TITLE="[squid-users] spotify blocked by squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jun 10 18:02:45 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003987.html">[squid-users] spotify blocked by squid
</A></li>
        <LI>Next message (by thread): <A HREF="003989.html">[squid-users] spotify blocked by squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3988">[ date ]</a>
              <a href="thread.html#3988">[ thread ]</a>
              <a href="subject.html#3988">[ subject ]</a>
              <a href="author.html#3988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/06/2015 5:39 a.m., Jonathan Filogna wrote:
&gt;<i> Hi all, it's me  again, just a simple question
</I>&gt;<i> 
</I>&gt;<i> I've configured an squid 2.7 with ntlm auth and i want to let some AD users
</I>&gt;<i> to listen spotify
</I>&gt;<i> 
</I>&gt;<i> My problem is that spotify streaming is being blocked by squid to this
</I>&gt;<i> group and idk why. Maybe another syntax problem?
</I>
Some possibilities:

* 2.7 has an old bug where CONNECT requests could drop the first few
bytes of a connection if they were received in the same packets as the
HTTP message itself. Modern uses of port 443 depends on that case working.

* NTLM severely violates many requirements of HTTP. The only way for it
to have half a chance of working with CONNECT is &quot;auth_param ntlm
keep_alive off&quot;

* 504 means the connection to upstream timed out. Could be both of the
above happening at once. So what should go to the server first didnt get
sent, nothing comes back as server waits, then


PS. Squid-2.7 and even NTLM are both more than 5 years since they
stopped receiving support. Please upgrade. The version difference to 3.5
is so great now that it may involve some time/pain but is well worth it.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003987.html">[squid-users] spotify blocked by squid
</A></li>
	<LI>Next message (by thread): <A HREF="003989.html">[squid-users] spotify blocked by squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3988">[ date ]</a>
              <a href="thread.html#3988">[ thread ]</a>
              <a href="subject.html#3988">[ subject ]</a>
              <a href="author.html#3988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
