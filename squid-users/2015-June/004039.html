<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] reverse proxies and Host request header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20reverse%20proxies%20and%20Host%20request%20header&In-Reply-To=%3C201506122109.26434.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004037.html">
   <LINK REL="Next"  HREF="004045.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] reverse proxies and Host request header</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20reverse%20proxies%20and%20Host%20request%20header&In-Reply-To=%3C201506122109.26434.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] reverse proxies and Host request header">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Fri Jun 12 19:09:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004037.html">[squid-users] reverse proxies and Host request header
</A></li>
        <LI>Next message (by thread): <A HREF="004045.html">[squid-users] reverse proxies and Host request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4039">[ date ]</a>
              <a href="thread.html#4039">[ thread ]</a>
              <a href="subject.html#4039">[ subject ]</a>
              <a href="author.html#4039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 12 June 2015 at 17:49:38 (EU time), Julianne Bielski wrote:

&gt;<i> With virtual hosting, the client is asking for a virtual origin server's
</I>&gt;<i> host and DNS enables the ip address for the physical host to respond. The
</I>&gt;<i> virtual host still sees &quot;its&quot; hostname in the host header, not the physical
</I>&gt;<i> host's.
</I>
There is no &quot;virtual host&quot; to &quot;see its hostname&quot; in the header.  There is a 
single real web server (which might be a virtual machine, but that's a 
different use of the term &quot;virtual&quot;, and doesn't matter here one way or the 
other), which can happily handle requests for multiple websites (which you 
might want to call hostnames, domains, etc).

The single web server never sees its own hostname in the header (assuming that 
its real hostname is not one of the virtual names it serves web pages for), 
and the web service is quite happy with this.

&gt;<i> With a reverse proxy, the backend origin server doesn't see its Host name,
</I>&gt;<i> it sees the proxy's, even though the proxy is an http client with respect
</I>&gt;<i> to the origin server.
</I>
The backend server sees the &quot;hostname&quot; (if you want to call it that) of the 
website for which it is supposed to serve pages.

An example might help:

	www.example.com
	www.example.net
	www.example.org
	downloads.example.org

may all have DNS entries pointing to a single IP address.

The machine at that IP address (it doesn't matter what its own hostname is, so 
I won't even suggest what it might be) has a web server configured to respond 
to requests for any of those web sites, therefore clients get the expected 
answers, without necessarily realising that they're all served by the same 
machine at a single IP address.

Now put a reverse proxy in the way - the above hostnames now resolve to the IP 
address of the reverse proxy, it's configured to pass the requests on to the 
appropriate backend server/s, and if that's just a single machine, it is 
configured exactly the same way as the original web server was - it responds to 
requests for any of the virtual site names.


I hope that helps;

Regards,


Antony.

-- 
A user interface is like a joke.
If you have to explain it, it didn't work.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004037.html">[squid-users] reverse proxies and Host request header
</A></li>
	<LI>Next message (by thread): <A HREF="004045.html">[squid-users] reverse proxies and Host request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4039">[ date ]</a>
              <a href="thread.html#4039">[ thread ]</a>
              <a href="subject.html#4039">[ subject ]</a>
              <a href="author.html#4039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
