<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] reverse proxies and Host request header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20reverse%20proxies%20and%20Host%20request%20header&In-Reply-To=%3C557B5D44.9030502%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004039.html">
   <LINK REL="Next"  HREF="004005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] reverse proxies and Host request header</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20reverse%20proxies%20and%20Host%20request%20header&In-Reply-To=%3C557B5D44.9030502%40treenet.co.nz%3E"
       TITLE="[squid-users] reverse proxies and Host request header">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Jun 12 22:29:24 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004039.html">[squid-users] reverse proxies and Host request header
</A></li>
        <LI>Next message (by thread): <A HREF="004005.html">[squid-users] Patch for CVE-2014-7141 and CVE-2014-7142
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4045">[ date ]</a>
              <a href="thread.html#4045">[ thread ]</a>
              <a href="subject.html#4045">[ subject ]</a>
              <a href="author.html#4045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/06/2015 2:08 a.m., Julianne Bielski wrote:
&gt;<i> I have a general question about the use of the http Host request header by
</I>&gt;<i> reverse proxies.
</I>&gt;<i> 
</I>&gt;<i> As I understand it, the Host request header is used by transparent forward
</I>&gt;<i> proxies as a way to route a request to the correct
</I>&gt;<i> origin server since, unlike with an explicit proxy, the host is not
</I>&gt;<i> included in the URI portion of the http method line.
</I>&gt;<i> 
</I>&gt;<i> However, reverse proxies are always &quot;transparent&quot; from the perspective of
</I>&gt;<i> the client and the Host header is often used by the proxy
</I>&gt;<i> to map to the correct back end origin server.
</I>
The term &quot;transparent&quot; has been overloaded so much its meaningless by
itself.

Beyond what you are asking and Anthony already answered well. There is
the key difference of DNS involvement between reverse and interception
proxy.

A DNS lookup is used by the client to find and explicitly contact the
reverse proxy. The proxy is able to use that as a guarantee that if the
Host header does not contain a name its pre-configured for handling,
that it can/must reject the request entirely.

The same guarnatee for reverse proxies allows it make free use of all
the origin server features of HTTP without causing security problems to
the client/user. Thus the long list of problems at
&lt;<A HREF="http://wiki.squid-cache.org/SquidFaq/InterceptionProxy#Concepts_of_Interception_Caching">http://wiki.squid-cache.org/SquidFaq/InterceptionProxy#Concepts_of_Interception_Caching</A>&gt;
does not apply to reverse proxies.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004039.html">[squid-users] reverse proxies and Host request header
</A></li>
	<LI>Next message (by thread): <A HREF="004005.html">[squid-users] Patch for CVE-2014-7141 and CVE-2014-7142
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4045">[ date ]</a>
              <a href="thread.html#4045">[ thread ]</a>
              <a href="subject.html#4045">[ subject ]</a>
              <a href="author.html#4045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
