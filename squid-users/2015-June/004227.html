<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Logging of 'indirect' requests,	e.g. involving NAT or VPN
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Logging%20of%20%27indirect%27%20requests%2C%0A%09e.g.%20involving%20NAT%20or%20VPN&In-Reply-To=%3Cf5b7fqqerfq.fsf%40troutbeck.inf.ed.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Logging of 'indirect' requests,	e.g. involving NAT or VPN</H1>
    <B>Henry S. Thompson</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Logging%20of%20%27indirect%27%20requests%2C%0A%09e.g.%20involving%20NAT%20or%20VPN&In-Reply-To=%3Cf5b7fqqerfq.fsf%40troutbeck.inf.ed.ac.uk%3E"
       TITLE="[squid-users] Logging of 'indirect' requests,	e.g. involving NAT or VPN">ht at inf.ed.ac.uk
       </A><BR>
    <I>Fri Jun 26 09:42:49 UTC 2015</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4227">[ date ]</a>
              <a href="thread.html#4227">[ thread ]</a>
              <a href="subject.html#4227">[ subject ]</a>
              <a href="author.html#4227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Antony Stone writes:

&gt;<i> On Friday 26 Jun 2015 at 09:51, Henry S. Thompson wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &gt;     logs will show the IP address that reached squid, ie. the source
</I>&gt;&gt;<i> &gt; address of the connection. If that was NATted, squid will never know
</I>&gt;&gt;<i> &gt; (and thus is not able to log) the original address before the NAT.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> That's what I assumed, but in a log I've been working with for
</I>&gt;&gt;<i> research purposes, 192.168.... turns up -- how is this possible given
</I>&gt;&gt;<i> what you say?
</I>&gt;<i>
</I>&gt;<i> It's entirely plausible (I'd even say common) for VPN clients to get
</I>&gt;<i> 192.168.... addresses; also if there's a NATting router in the path
</I>&gt;<i> and Squid is logging its address, that could easily be 192.168....
</I>
Thanks for your input, but I'm still confused.  My (perhaps naive)
understanding was that a VPN host or NATting router assigns local
subnet range IPs (e.g. 192.168... or 10.10...) to its clients, but
presents their traffic to the world, including any proxy, as if from
themselves, encapsulated using their own public, static, 'real' IP.
So I don't see how, for example &quot;a NATting router['s] ... address&quot;
could ever be 192.168...

ht
-- 
       Henry S. Thompson, School of Informatics, University of Edinburgh
      10 Crichton Street, Edinburgh EH8 9AB, SCOTLAND -- (44) 131 650-4440
                Fax: (44) 131 650-4587, e-mail: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ht at inf.ed.ac.uk</A>
                       URL: <A HREF="http://www.ltg.ed.ac.uk/~ht/">http://www.ltg.ed.ac.uk/~ht/</A>
 [mail from me _always_ has a .sig like this -- mail without it is forged spam]

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4227">[ date ]</a>
              <a href="thread.html#4227">[ thread ]</a>
              <a href="subject.html#4227">[ subject ]</a>
              <a href="author.html#4227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
