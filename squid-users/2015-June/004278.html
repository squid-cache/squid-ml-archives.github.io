<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP_MISS/504 in cache_peer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_MISS/504%20in%20cache_peer&In-Reply-To=%3C201506300854.39358.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004277.html">
   <LINK REL="Next"  HREF="004279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP_MISS/504 in cache_peer</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_MISS/504%20in%20cache_peer&In-Reply-To=%3C201506300854.39358.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] TCP_MISS/504 in cache_peer">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Tue Jun 30 07:54:39 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004277.html">[squid-users] TCP_MISS/504 in cache_peer
</A></li>
        <LI>Next message (by thread): <A HREF="004279.html">[squid-users] TCP_MISS/504 in cache_peer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4278">[ date ]</a>
              <a href="thread.html#4278">[ thread ]</a>
              <a href="subject.html#4278">[ subject ]</a>
              <a href="author.html#4278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 30 Jun 2015 at 08:24, Stakres wrote:

&gt;<i> Here, it seems the parent (sibling mode) tries to do the request itself but
</I>&gt;<i> faces an error (504 gateway timeout), it should answer to the kid it does
</I>&gt;<i> not have the object (TCP_MISS) then the parent should download the object
</I>&gt;<i> from internet.
</I>
Surely it is getting the 504 error when it is trying to download the object?

&gt;<i> With this error, i suspect the kid accepts the &quot;error&quot; and does nothing
</I>&gt;<i> more, replying to the browser (user) something like &quot;sorry, the object is
</I>&gt;<i> missing&quot;.
</I>
Instead of &quot;missing&quot;, try &quot;unavailable&quot;.

&gt;<i> How can i force the kid to download the object from internet when the
</I>&gt;<i> parent replies a such answer ?
</I>
As far as I know, you can't.  You can configure browsers to use the proxy for 
some requests and go direct for others, but once that choice has been made, 
that's the way the browser will do it.

Anyway, what makes you think the &quot;kid&quot; browser would be able to get the 
object, if the &quot;parent&quot; proxy was unable to?

Have you actually tried downloading such an object direct from a browser 
without using Squid, and found that it is available?

If so, please give us a URL to the object so we can investigate...


regards,


Antony.

-- 
Users don't know what they want until they see what they get.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004277.html">[squid-users] TCP_MISS/504 in cache_peer
</A></li>
	<LI>Next message (by thread): <A HREF="004279.html">[squid-users] TCP_MISS/504 in cache_peer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4278">[ date ]</a>
              <a href="thread.html#4278">[ thread ]</a>
              <a href="subject.html#4278">[ subject ]</a>
              <a href="author.html#4278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
