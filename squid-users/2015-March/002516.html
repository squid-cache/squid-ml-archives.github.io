<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] question about encrypted connection between https client and Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20encrypted%20connection%20between%20https%0A%20client%20and%20Squid&In-Reply-To=%3C54F37CD1.3040104%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002515.html">
   <LINK REL="Next"  HREF="002517.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] question about encrypted connection between https client and Squid</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20encrypted%20connection%20between%20https%0A%20client%20and%20Squid&In-Reply-To=%3C54F37CD1.3040104%40ngtech.co.il%3E"
       TITLE="[squid-users] question about encrypted connection between https client and Squid">eliezer at ngtech.co.il
       </A><BR>
    <I>Sun Mar  1 20:55:45 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002515.html">[squid-users] question about encrypted connection between https client and Squid
</A></li>
        <LI>Next message (by thread): <A HREF="002517.html">[squid-users] question about encrypted connection between https client and Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2516">[ date ]</a>
              <a href="thread.html#2516">[ thread ]</a>
              <a href="subject.html#2516">[ subject ]</a>
              <a href="author.html#2516">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Yuri,

On 01/03/2015 20:17, Yuri Voinov wrote:
&gt;<i> Normally you never use CONNECT method over HTTP ports. This is
</I>&gt;<i> prohibited by squid basic security requirements.
</I>
The above statement is true only if the proxy admin prohibit this.
A CONNECT method can be allowed and can be used for any purpose what so 
ever the admin of the server sees right.
There are basic default settings which allows the usage of a CONNECT 
method only to access specific &quot;ssl safe ports&quot;.

The &quot;right&quot; way (if these one) to access squid using an encrypted 
channel would be throw either a tunnel or another proxy which can 
forward the request into squid.
If the client supports encrypted proxy connection you can try to use 
squid 3.5.2 and a combination of haproxy in-front.
On the haproxy use a ssl based listening port while between haproxy to 
the squid service you would need to use an unencrypted channel.
Then you can use haproxy PROXY protocol to let squid know what is the 
client src IP address.

All The Bests,
Eliezer

* I did not tested this feature yet but it is on my todo list, for now 
3.5.2 seems very stable.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002515.html">[squid-users] question about encrypted connection between https client and Squid
</A></li>
	<LI>Next message (by thread): <A HREF="002517.html">[squid-users] question about encrypted connection between https client and Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2516">[ date ]</a>
              <a href="thread.html#2516">[ thread ]</a>
              <a href="subject.html#2516">[ subject ]</a>
              <a href="author.html#2516">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
