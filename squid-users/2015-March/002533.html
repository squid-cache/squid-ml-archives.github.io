<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.2 and Avast free anti-virus
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.2%20and%20Avast%20free%20anti-virus&In-Reply-To=%3C54F45DAA.2010807%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002531.html">
   <LINK REL="Next"  HREF="002534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.2 and Avast free anti-virus</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.2%20and%20Avast%20free%20anti-virus&In-Reply-To=%3C54F45DAA.2010807%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.5.2 and Avast free anti-virus">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Mar  2 12:55:06 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002531.html">[squid-users] Squid 3.5.2 and Avast free anti-virus
</A></li>
        <LI>Next message (by thread): <A HREF="002534.html">[squid-users] Squid 3.5.2 and Avast free anti-virus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2533">[ date ]</a>
              <a href="thread.html#2533">[ thread ]</a>
              <a href="subject.html#2533">[ subject ]</a>
              <a href="author.html#2533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/03/2015 1:29 a.m., Alan Palmer wrote:
&gt;<i> Squid 3.5.2 intercept mode and Avast free antivirus 2015 on windows 7
</I>&gt;<i> aren't playing well together.  Chrome returns a ca invalid error,
</I>&gt;<i> details reveal
</I>&gt;<i> its the avast web/mail shield cert that its not being trusted.
</I>&gt;<i> Everything works if
</I>&gt;<i> I turn the webshield off, or on a very strange note, works fine on a
</I>&gt;<i> Windows XP
</I>&gt;<i> (I know, old/bad, upgrade blah blah) machine also running avast 2015.  The
</I>&gt;<i> windows XP version does have a difference cert than the windows 7 version
</I>&gt;<i> however.  Avast seems to be doing a sslbump on its own between the client
</I>&gt;<i> and the squid proxy.  Does anyone else have a similar setup working, and
</I>&gt;<i> if so
</I>&gt;<i> whats the magic incantation to make it play nice?
</I>

This is roughly what the inter-tubes usually look like:

 browser -&gt; AV ===&gt; router ===&gt; NAT -&gt; Squid ===&gt; Internet


As you can see the browser -&gt; AV link has to be working first before
traffic has a chance of even getting near Squid. So config in Squid is
not going to help there.


You may be able to get the Avast CA cert to be trusted by Chrome.
Otherwise a reasonable backup is to drop the WebShield on-machine and
using ICAP in Squid to pass traffic to an AV scanner instead.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002531.html">[squid-users] Squid 3.5.2 and Avast free anti-virus
</A></li>
	<LI>Next message (by thread): <A HREF="002534.html">[squid-users] Squid 3.5.2 and Avast free anti-virus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2533">[ date ]</a>
              <a href="thread.html#2533">[ thread ]</a>
              <a href="subject.html#2533">[ subject ]</a>
              <a href="author.html#2533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
