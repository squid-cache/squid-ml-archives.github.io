<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] WARNING: disk-cache maximum object size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20WARNING%3A%20disk-cache%20maximum%20object%20size%20is%20too%0A%20large%20for%20mem-cache%3A%20102400.00%20KB%20%3E%2090.00%20KB&In-Reply-To=%3C54F7257F.9010606%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002547.html">
   <LINK REL="Next"  HREF="002548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] WARNING: disk-cache maximum object size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB</H1>
    <B>johnzeng</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20WARNING%3A%20disk-cache%20maximum%20object%20size%20is%20too%0A%20large%20for%20mem-cache%3A%20102400.00%20KB%20%3E%2090.00%20KB&In-Reply-To=%3C54F7257F.9010606%40yahoo.com%3E"
       TITLE="[squid-users] WARNING: disk-cache maximum object size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB">johnzeng2013 at yahoo.com
       </A><BR>
    <I>Wed Mar  4 15:32:15 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002547.html">[squid-users] WARNING: disk-cache maximum object size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB
</A></li>
        <LI>Next message (by thread): <A HREF="002548.html">[squid-users] wccp2_service_info fails on more than one port number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2568">[ date ]</a>
              <a href="thread.html#2568">[ thread ]</a>
              <a href="subject.html#2568">[ subject ]</a>
              <a href="author.html#2568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello  Amos :

                      Sorry , previous config is a simple config file 
for testing tproxy.

                      But i checked again and switch different part of 
config for disabling the warning info and find real reason .

                      first config ( it will cause warning info)  :

                      maximum_object_size 100 MB
                      maximum_object_size_in_memory 4095 bytes

                      WARNING: disk-cache maximum object size is too 
large for mem-cache: 102400.00 KB &gt; 4.00 KB


                      Second config ( no any warning info ) :

                      maximum_object_size 10 MB
                      maximum_object_size_in_memory 10 MB

                      or

                      maximum_object_size 4095 bytes
                      maximum_object_size_in_memory 4095 bytes

                      or

                      maximum_object_size 10 MB
                      maximum_object_size_in_memory 11 MB


                      if condition is   maximum_object_size  &lt; =  
maximum_object_size_in_memory at our config , We won't find warning info ,

                      But i think it will be error direction .


                      Whether it is a bug ,  if possible , please give 
me some advisement .


                      Best Regards

                      john

&#20110; 2015&#24180;03&#26376;03&#26085; 23:36, Amos Jeffries &#20889;&#36947;:
&gt;<i> On 4/03/2015 3:12 a.m., johnzeng wrote:
</I>&gt;&gt;<i> Hi :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks Amos Jeffries, i updated to squid 3.5.2 and
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> tested QQ and other application at two different environment ( between
</I>&gt;&gt;<i> intercept and tproxy ) in according to your advisement .
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> result is ok as your saying .
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks again .
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but i checked cache log and found ( WARNING: disk-cache maximum object
</I>&gt;&gt;<i> size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Whether there are some error at my config ??
</I>&gt;&gt;<i>
</I>&gt;<i> I'm not sure exactly why that is being warned about. Its reasonable to
</I>&gt;<i> have a smaller object size for memory-only objects. I think not to worry
</I>&gt;<i> about it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The size ranges in your config look a little strange though.
</I>&gt;<i>
</I>&gt;<i> * objects between 1KB and 90KB are allowed to be stored only in memory
</I>&gt;<i>
</I>&gt;<i> * objects between 262KB and 100MB are allowed to be stored only on disk
</I>&gt;<i>
</I>&gt;<i> * objects under 1KB, between 90KB and 262KB, or over 100MB are not
</I>&gt;<i> allowed to be stored anywhere at all.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also, how is the multiple PID file setup working out?
</I>&gt;<i>   The PID file is supposed to contain the ID number of the master process
</I>&gt;<i> in charge of the whole process tree and managing signals received from
</I>&gt;<i> the init system and &quot;squid -k&quot; commands.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> this is my config
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> minimum_object_size 1 KB
</I>&gt;&gt;<i> maximum_object_size 100 MB
</I>&gt;&gt;<i> maximum_object_size_in_memory 90 KB
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> cache_swap_low 80
</I>&gt;&gt;<i> cache_swap_high 95
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #Smp setting
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> workers 2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> cpu_affinity_map process_numbers=1,2 cores=1,2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if ${process_number} = 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> pid_filename /accerater/logs/webcache3/opmizer1/cachea.pid
</I>&gt;&gt;<i> cache_swap_state /accerater/logs/webcache3/cachea_swap_log1
</I>&gt;&gt;<i> access_log stdio:/accerater/logs/webcache3/accessa.log squid
</I>&gt;&gt;<i> cache_log /accerater/logs/webcache3/cachea.log
</I>&gt;&gt;<i> cache_store_log stdio:/accerater/logs/webcache3/storea.log1
</I>&gt;&gt;<i> cache_dir aufs /accerater/webcache3/storage/aufs1/${process_number}
</I>&gt;&gt;<i> 10200 16 64 min-size=262145
</I>&gt;&gt;<i> coredump_dir /accerater/logs/webcache3/opmizer1
</I>&gt;&gt;<i> unlinkd_program /accerater/webcache3/libexec/unlinkd
</I>&gt;&gt;<i> unique_hostname maraservice1
</I>&gt;&gt;<i> snmp_port 3401
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> endif
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if ${process_number} = 2
</I>&gt;&gt;<i> pid_filename /accerater/logs/webcache3/opmizer2/cacheb.pid
</I>&gt;&gt;<i> cache_swap_state /accerater/logs/webcache3/cacheb_swap_log
</I>&gt;&gt;<i> access_log stdio:/accerater/logs/webcache3/accessb.log squid
</I>&gt;&gt;<i> cache_log /accerater/logs/webcache3/cacheb.log1
</I>&gt;&gt;<i> cache_store_log stdio:/accerater/logs/webcache3/storeb.log1
</I>&gt;&gt;<i> cache_dir aufs /accerater/webcache3/storage/aufs2/${process_number}
</I>&gt;&gt;<i> 10200 16 64 min-size=262145
</I>&gt;&gt;<i> coredump_dir /accerater/logs/webcache3/opmizer2
</I>&gt;&gt;<i> unlinkd_program /accerater/webcache3/libexec/unlinka
</I>&gt;&gt;<i> unique_hostname maraservice2
</I>&gt;&gt;<i> snmp_port 3402
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> endif
</I>&gt;&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002547.html">[squid-users] WARNING: disk-cache maximum object size is too large for mem-cache: 102400.00 KB &gt; 90.00 KB
</A></li>
	<LI>Next message (by thread): <A HREF="002548.html">[squid-users] wccp2_service_info fails on more than one port number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2568">[ date ]</a>
              <a href="thread.html#2568">[ thread ]</a>
              <a href="subject.html#2568">[ subject ]</a>
              <a href="author.html#2568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
