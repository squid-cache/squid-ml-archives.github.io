<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Hostname missing in request URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Hostname%20missing%20in%20request%20URL&In-Reply-To=%3C1426099266130-4670326.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002729.html">
   <LINK REL="Next"  HREF="002704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Hostname missing in request URL</H1>
    <B>jaykbvt</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Hostname%20missing%20in%20request%20URL&In-Reply-To=%3C1426099266130-4670326.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Hostname missing in request URL">jaykbvt at gmail.com
       </A><BR>
    <I>Wed Mar 11 18:41:06 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002729.html">[squid-users] Ipc::Mem::Segment::attach failed to mmap(/squid-squid-page-pool.shm): (12) Cannot allocate memory
</A></li>
        <LI>Next message (by thread): <A HREF="002704.html">[squid-users] Hostname missing in request URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2694">[ date ]</a>
              <a href="thread.html#2694">[ thread ]</a>
              <a href="subject.html#2694">[ subject ]</a>
              <a href="author.html#2694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I am facing a strange scenario where my users requested URL gets
truncated in request to my squid server. The setup is in transparent proxy
mode with Cisco ISG in between with L4 redirection on www traffic.

 

It works proper only if I configure proxy settings explicitly in user's
browser.

 

Given below are excerpt of TCP request with both the scenario.

  

 



Without proxy setting

 

GET / HTTP/1.1

Host: www.cisco.com

User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:36.0) Gecko/20100101
Firefox/36.0

Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

Accept-Language: en-US,en;q=0.5

Accept-Encoding: gzip, deflate



 


With Proxy setting

 

.GET <A HREF="http://www.cisco.com/favicon.ico">http://www.cisco.com/favicon.ico</A> HTTP/1.1

Host: www.cisco.com

User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:36.0) Gecko/20100101
Firefox/36.0

Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

Accept-Language: en-US,en;q=0.5

Accept-Encoding: gzip, deflate




--
Thanks &amp; Regards,
jaykbvt



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Hostname-missing-in-request-URL-tp4670326.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Hostname-missing-in-request-URL-tp4670326.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002729.html">[squid-users] Ipc::Mem::Segment::attach failed to mmap(/squid-squid-page-pool.shm): (12) Cannot allocate memory
</A></li>
	<LI>Next message (by thread): <A HREF="002704.html">[squid-users] Hostname missing in request URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2694">[ date ]</a>
              <a href="thread.html#2694">[ thread ]</a>
              <a href="subject.html#2694">[ subject ]</a>
              <a href="author.html#2694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
