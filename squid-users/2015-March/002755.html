<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Captive Portal authentication in Intercept mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Captive%20Portal%20authentication%20in%20Intercept%20mode&In-Reply-To=%3C5502ACE7.9010300%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002753.html">
   <LINK REL="Next"  HREF="002754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Captive Portal authentication in Intercept mode</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Captive%20Portal%20authentication%20in%20Intercept%20mode&In-Reply-To=%3C5502ACE7.9010300%40treenet.co.nz%3E"
       TITLE="[squid-users] Captive Portal authentication in Intercept mode">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Mar 13 09:24:55 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002753.html">[squid-users] Captive Portal authentication in Intercept mode
</A></li>
        <LI>Next message (by thread): <A HREF="002754.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2755">[ date ]</a>
              <a href="thread.html#2755">[ thread ]</a>
              <a href="subject.html#2755">[ subject ]</a>
              <a href="author.html#2755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/03/2015 10:10 p.m., James Harper wrote:
&gt;&gt;<i> Hey,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have written a basic idea with a php &quot;login portal&quot; that can be seen at:
</I>&gt;&gt;<i> <A HREF="http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/">http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/</A>
</I>&gt;&gt;<i> <A HREF="http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Conf">http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Conf</A>
</I>&gt;&gt;<i> <A HREF="http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/PhpLoginExample">http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/PhpLoginExample</A>
</I>&gt;&gt;<i> <A HREF="http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Python">http://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Python</A>
</I>&gt;&gt;<i> <A HREF="http://wiki.squid-">http://wiki.squid-</A>
</I>&gt;&gt;<i> cache.org/EliezerCroitoru/SessionHelper/SplashPageTemplate
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The idea is an IP session based login.
</I>&gt;&gt;<i> The user actively needs to login and it will login the user IP address.
</I>&gt;&gt;<i> The helper(s) logic is based on time since the last user login.
</I>&gt;&gt;<i> This idea can be used as a sketch for a more advanced options with a portal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There are other better ways to implement this idea and one of them is
</I>&gt;&gt;<i> using a radius server.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As you noticed there is no way to directly authenticate a proxy in
</I>&gt;&gt;<i> intercept mode.
</I>&gt;&gt;<i> Maybe someone out-there have been thinking about a way to do such a
</I>&gt;&gt;<i> thing but it is yet to be possible with squid.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> If you could do ntlm auth at your portal page then the user might never even notice that authentication took place...
</I>&gt;<i> 
</I>&gt;<i> You'd need to do some sort of browser detection though - browsers could handle such authentication, but programs phoning home or otherwise using web services would hate it.
</I>&gt;<i> 
</I>
That auth trick is usable for any kind of HTTP auth the client software
supports. eg. Basic auth for the automated tools usually. It's just
authenticating to the portal web server. As long as the portals not
trying to do auth with the intercepted traffic its fine.

FYI: NTLM is probably amongst the worst ways to do it given all the
nastiness that has to take place for NTLM to &quot;work&quot;.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002753.html">[squid-users] Captive Portal authentication in Intercept mode
</A></li>
	<LI>Next message (by thread): <A HREF="002754.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2755">[ date ]</a>
              <a href="thread.html#2755">[ thread ]</a>
              <a href="subject.html#2755">[ subject ]</a>
              <a href="author.html#2755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
