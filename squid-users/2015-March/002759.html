<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Editing Makefile.am to include static libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C5502D129.7030809%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002758.html">
   <LINK REL="Next"  HREF="002967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Editing Makefile.am to include static libraries</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C5502D129.7030809%40treenet.co.nz%3E"
       TITLE="[squid-users] Editing Makefile.am to include static libraries">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Mar 13 11:59:37 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002758.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
        <LI>Next message (by thread): <A HREF="002967.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2759">[ date ]</a>
              <a href="thread.html#2759">[ thread ]</a>
              <a href="subject.html#2759">[ subject ]</a>
              <a href="author.html#2759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/03/2015 12:28 a.m., Priya Agarwal wrote:
&gt;<i> I tried what you advised. Getting the same error for both methods
</I>&gt;<i> (./configure LDFLAGS=-L&lt;../tmp/../lib CXXFLAGS=-I&lt;.../tmp../include or
</I>&gt;<i> editing Makefile.am appropriately). autoreconf is failing.
</I>
I see &quot;&lt;&quot; characters in your paths. That is invalid. As is the -I paths
segments &quot;...&quot; and &quot;tmp..&quot; looks like you are missing '/' somewhere.


&gt;<i> And also I am getting many such warnings:
</I>&gt;<i> 
</I>&gt;<i> | src/Common.am:16: warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS'
</I>&gt;<i> (or '*_CPPFLAGS')
</I>&gt;<i> | compat/Makefile.am:5:   'src/Common.am' included from here
</I>&gt;<i> | src/Common.am:16: warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS'
</I>&gt;<i> (or '*_CPPFLAGS')
</I>&gt;<i> | helpers/basic_auth/DB/Makefile.am:1:   'src/Common.am' included from here
</I>&gt;<i> | src/Common.am:16: warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS'
</I>&gt;<i> (or '*_CPPFLAGS')
</I>&gt;<i> | helpers/basic_auth/LDAP/Makefile.am:1:   'src/Common.am' included from
</I>&gt;<i> here
</I>&gt;<i> | src/Common.am:16: warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS'
</I>&gt;<i> (or '*_CPPFLAGS')
</I>&gt;<i> | helpers/basic_auth/MSNT-multi-domain/Makefile.am:1:   'src/Common.am'
</I>&gt;<i> included from here
</I>&gt;<i> | src/Common.am:16: warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS'
</I>&gt;<i> (or '*_CPPFLAGS')
</I>&gt;<i> 
</I>
Those are just warnings because you are working with an old Squid
version and autotools have changed their requirements since. The current
release dont have quite so many warnings (some remain). Those can be ignore.

I does mean that what I wrote as AM_CPPFLAGS needs to instead be written
as INCLUDES in your Squid versions Makefile.am.


&gt;<i> Final error:
</I>&gt;<i> | autoreconf: automake failed with exit status: 1
</I>&gt;<i> | ERROR: autoreconf execution failed.
</I>&gt;<i> 
</I>&gt;<i> So is something wrong with the path?
</I>
I see &quot;&lt;&quot; characters in what you

&gt;<i> 
</I>&gt;<i> I have attached the logfile as well which shows the detailed output.
</I>&gt;<i> 
</I>
Buried in the warnings I see this:

src/Makefile.am:661: error: '#' comment at start of rule is unportable


automake syntax has two forms of comment.
 ## comments are autoreconf comments and ignored
 # comments are copied through as-is to the final Makefile

If you are using multi-line wrapped lists of things, that can cause
issues. Its easier to just never use comments inside the wrapped lines.


Other things to watch out for auth makefiles:

* indentation for rules needs to be one tab, not spaces. This needs
checking after each copy-paste you do.

* multi-line rules and lists use '\' character ending to explicitly
define the wrapping.
  Be careful that lists of libraries etc use them on each line up to,
but not on, the final line of the list.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002758.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
	<LI>Next message (by thread): <A HREF="002967.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2759">[ date ]</a>
              <a href="thread.html#2759">[ thread ]</a>
              <a href="subject.html#2759">[ subject ]</a>
              <a href="author.html#2759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
