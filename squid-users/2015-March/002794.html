<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid 3.2.5 helpers/external_acl/session compile problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%203.2.5%20helpers/external_acl/session%20compile%0A%20problem&In-Reply-To=%3C550444D7.5040707%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002793.html">
   <LINK REL="Next"  HREF="002795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid 3.2.5 helpers/external_acl/session compile problem</H1>
    <B>johnzeng</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%203.2.5%20helpers/external_acl/session%20compile%0A%20problem&In-Reply-To=%3C550444D7.5040707%40yahoo.com%3E"
       TITLE="[squid-users] squid 3.2.5 helpers/external_acl/session compile problem">johnzeng2013 at yahoo.com
       </A><BR>
    <I>Sat Mar 14 14:25:27 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002793.html">[squid-users] squid 3.2.5 helpers/external_acl/session compile problem
</A></li>
        <LI>Next message (by thread): <A HREF="002795.html">[squid-users] squid 3.2.5 helpers/external_acl/session compile problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2794">[ date ]</a>
              <a href="thread.html#2794">[ thread ]</a>
              <a href="subject.html#2794">[ subject ]</a>
              <a href="author.html#2794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Amos:


                      This is bdb lib info .

/accerater/env/bdb/lib# ls
libdb-4.8.a  libdb-4.8.la  libdb-4.8.so  libdb-4.so  libdb.a 
libdb_cxx-4.8.a  libdb_cxx-4.8.la  libdb_cxx-4.8.so  libdb_cxx-4.so 
libdb_cxx.a  libdb_cxx.so  libdb.so


/accerater/env/bdb/include# ls
db_cxx.h  db.h


On 15/03/2015 1:39 a.m., johnzeng wrote:
&gt;&gt;<i> Hello All
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i read the link
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.squid-cache.org/mail-archive/squid-users/201112/0339.html">http://www.squid-cache.org/mail-archive/squid-users/201112/0339.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but i cat config.log | grep HAVE_DB_H in according to the advisement
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;&gt;<i> | #define HAVE_DB_H 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello All:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I try to compile helpers/external_acl/session too , and Db evirontment
</I>&gt;&gt;&gt;<i> is db-4.8.30 ( Berkeley DB) , Maybe it will be caused by error Bdb version .
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> But i can't confirm .
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ./configure --prefix=/accerater/webcache3
</I>&gt;&gt;&gt;<i> --enable-follow-x-forwarded-for --enable-snmp --enable-linux-netfilter
</I>&gt;&gt;&gt;<i> --enable-storeio=aufs,rock --enable-wccpv2 --with-large-files
</I>&gt;&gt;&gt;<i> --enable-removal-policies=lru,heap --enable-async-io=128
</I>&gt;&gt;&gt;<i> --enable-http-violations --with-maxfd=65536 --enable-large-cache-files
</I>&gt;&gt;&gt;<i> --enable-delay-pools --enable-forward-log --with-pthreads
</I>&gt;&gt;&gt;<i> LIBS=-ltcmalloc --enable-url-rewrite-helpers --enable-log-daemon-helpers
</I>&gt;&gt;&gt;<i> --enable-epoll --enable-ltdl-convenience --with-included-ltdl
</I>&gt;&gt;&gt;<i> --enable-disk-io=AIO,Blocking,DiskThreads,IpcIo,Mmapped
</I>&gt;&gt;&gt;<i> CXXFLAGS=&quot;-I/accerater/env/ldap/include -I/accerater/env/bdb/include&quot;
</I>&gt;&gt;&gt;<i> LDFLAGS=&quot;-L/accerater/env/ldap/lib -L/accerater/env/bdb/lib&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This is error compile info
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> libtool: link: g++ -Wall -Wpointer-arith -Wwrite-strings -Wcomments
</I>&gt;&gt;&gt;<i> -Wshadow -Werror -pipe -D_REENTRANT -m32 -D_LARGEFILE_SOURCE
</I>&gt;&gt;&gt;<i> -D_FILE_OFFSET_BITS=64 -I/accerater/env/bdb/include -march=native -m32
</I>&gt;&gt;&gt;<i> -o ext_session_acl ext_session_acl.o -L/accerater/env/bdb/lib
</I>&gt;&gt;&gt;<i> ../../../compat/.libs/libcompat-squid.a
</I>&gt;&gt;&gt;<i> ext_session_acl.o: In function `init_db()':
</I>&gt;&gt;&gt;<i> ext_session_acl.cc:(.text+0x5a): undefined reference to `db_env_create'
</I>&gt;&gt;&gt;<i> ext_session_acl.cc:(.text+0x101): undefined reference to `db_create'
</I>&gt;&gt;&gt;<i> ext_session_acl.cc:(.text+0x1d6): undefined reference to `db_create'
</I>&gt;<i>
</I>&gt;<i> The BDB library seems not to be built or found at the -L location you
</I>&gt;<i> provided.
</I>&gt;<i>
</I>&gt;<i> When its found by ./configure an -lbdb or similar entry would be added
</I>&gt;<i> for it after the libcompat-squid.a name.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002793.html">[squid-users] squid 3.2.5 helpers/external_acl/session compile problem
</A></li>
	<LI>Next message (by thread): <A HREF="002795.html">[squid-users] squid 3.2.5 helpers/external_acl/session compile problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2794">[ date ]</a>
              <a href="thread.html#2794">[ thread ]</a>
              <a href="subject.html#2794">[ subject ]</a>
              <a href="author.html#2794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
