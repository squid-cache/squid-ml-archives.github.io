<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Editing Makefile.am to include static libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C55067332.1020500%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002807.html">
   <LINK REL="Next"  HREF="002948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Editing Makefile.am to include static libraries</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C55067332.1020500%40treenet.co.nz%3E"
       TITLE="[squid-users] Editing Makefile.am to include static libraries">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Mar 16 06:07:46 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002807.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
        <LI>Next message (by thread): <A HREF="002948.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2808">[ date ]</a>
              <a href="thread.html#2808">[ thread ]</a>
              <a href="subject.html#2808">[ subject ]</a>
              <a href="author.html#2808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/03/2015 6:36 p.m., Priya Agarwal wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I am now linking the libraries during ./configure with LDFLAGS, LIBS and
</I>&gt;<i> CXXFLAGS options (Makefile.am is same as it was)  Compile is failing
</I>&gt;<i> presently.
</I>&gt;<i> 
</I>&gt;<i> main.o: In function `of_init':
</I>&gt;<i> /media/NewVolume/yocto/build_t4240qds_release/tmp/sysroots/t4240qds/usr/include/usdpaa/of.h:52:
</I>&gt;<i> undefined reference to `of_init_path(char const*)'
</I>&gt;<i> collect2: error: ld returned 1 exit status
</I>&gt;<i> powerpc-fsl_networking-linux-libtool: link: rm -f &quot;.libs/squidS.o&quot;
</I>&gt;<i> 
</I>&gt;<i> Does it mean I haven't linked the the library that has of_init() [But I
</I>&gt;<i> think I have done that as ./configure passed and libraries are even visible
</I>&gt;<i> in log]
</I>&gt;<i> Or I need to link something else?
</I>
Close. It means that the libraries listed on the command line after the
main.o object do not define that symbol.

Its possible the library was linked first or via the wrong variable. Or
that the C++ symbol mangling is different between what is wanted and
what the library defines.


&gt;<i> 
</I>&gt;<i> Here are the flags passed to ./configure:
</I>&gt;<i> EXTRA_OECONF_append = &quot;    LDFLAGS=&quot;-L=/usr/lib/&quot; \
</I>&gt;<i>             LIBS=&quot;-lusdpaa_dma -lusdpaa_dma_mem -lusdpaa_of -lusdpaa_fman
</I>&gt;<i> -lusdpaa_qbman -lusdpaa_syscfg&quot; \
</I>&gt;<i>             CXXFLAGS=&quot;-I=/usr/include/&quot;&quot;
</I>&gt;<i> 
</I>
I see 12 separate command line arguments there. Not the 3 that should exist.

Hint: shell expansion is applied to &quot; symbols on the ./configure command
line.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002807.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
	<LI>Next message (by thread): <A HREF="002948.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2808">[ date ]</a>
              <a href="thread.html#2808">[ thread ]</a>
              <a href="subject.html#2808">[ subject ]</a>
              <a href="author.html#2808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
