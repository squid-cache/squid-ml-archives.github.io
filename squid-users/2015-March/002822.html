<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Refresh ACL list only
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Refresh%20ACL%20list%20only&In-Reply-To=%3C55086DA3.902%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002819.html">
   <LINK REL="Next"  HREF="002824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Refresh ACL list only</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Refresh%20ACL%20list%20only&In-Reply-To=%3C55086DA3.902%40gmail.com%3E"
       TITLE="[squid-users] Refresh ACL list only">yvoinov at gmail.com
       </A><BR>
    <I>Tue Mar 17 18:08:35 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002819.html">[squid-users] Refresh ACL list only
</A></li>
        <LI>Next message (by thread): <A HREF="002824.html">[squid-users] Refresh ACL list only
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2822">[ date ]</a>
              <a href="thread.html#2822">[ thread ]</a>
              <a href="subject.html#2822">[ subject ]</a>
              <a href="author.html#2822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brendan reads my thoughts. :)

You can, of course, use two or more squid instances and Cisco with
configured WCCP protocol before it. WCCP can plays with several cache
instances in load balancing role. Running squid at this moment sends
&quot;here I am&quot; messages to WCCP-enabled router, which will redirect
traffic on alive cache. The same time you can reconfigure second squid
instance a visa versa.

18.03.15 0:00, Brendan Kearney &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> On Tue, 2015-03-17 at 11:59 -0600, Samuel Anderson wrote:
</I>&gt;&gt;<i> Unfortunately thats not really an option for me. I've already
</I>&gt;&gt;<i> built everything just using squid. It works great and does
</I>&gt;&gt;<i> everything I need it to do with the exception of refreshing the
</I>&gt;&gt;<i> ACL lists. I just need to find a way to refresh those single
</I>&gt;&gt;<i> lists without disrupting Internet traffic to the users. If anyone
</I>&gt;&gt;<i> knows how to do this I would greatly appreciate it.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Tue, Mar 17, 2015 at 11:39 AM, Yuri Voinov
</I>&gt;&gt;<i> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">yvoinov at gmail.com</A>&gt; wrote:
</I>&gt;<i> Did you hear about rewriters and filters? I.e., squidGuard, or 
</I>&gt;<i> Dansguardian? Or, of course 
</I>&gt;<i> <A HREF="https://www.urlfilterdb.com/products/ufdbguard.html">https://www.urlfilterdb.com/products/ufdbguard.html</A> ? It has
</I>&gt;<i> separate server process which can be restart VERY quickly 
</I>&gt;<i> independently of squid.
</I>&gt;<i> 
</I>&gt;<i> 17.03.15 23:35, Samuel Anderson &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;&gt;<i> Does anyone know of a way to reload a single ACL list? I
</I>&gt;<i> have a
</I>&gt;&gt;<i> very complicated and large config file that takes around 30
</I>&gt;<i> seconds
</I>&gt;&gt;<i> to reload when I run the (squid3 -k reconfigure) command. I
</I>&gt;<i> have
</I>&gt;&gt;<i> several ACL lists that need to be updated throughout the day
</I>&gt;<i> and it
</I>&gt;&gt;<i> would be nice if I could only reload those ACL lists and not
</I>&gt;<i> the
</I>&gt;&gt;<i> entire config. Its problematic because while its reloading,
</I>&gt;<i> the
</I>&gt;&gt;<i> server is effectively down and disrupts Internet access for
</I>&gt;<i> the
</I>&gt;&gt;<i> rest of the users. Below is a small sample of the lists that
</I>&gt;<i> will
</I>&gt;&gt;<i> be updated. If I could add a TTL to the lists so squid would
</I>&gt;<i> reload
</I>&gt;&gt;<i> them periodically without a full reconfigure would be ideal.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> acl GLOBAL-WHITELIST dstdomain 
</I>&gt;&gt;<i> &quot;/etc/squid3/whitelists/GLOBAL-WHITELIST&quot; acl 
</I>&gt;&gt;<i> UNRESTRICTED-WHITELIST dstdomain 
</I>&gt;&gt;<i> &quot;/etc/squid3/whitelists/UNRESTRICTED-WHITELIST&quot; acl
</I>&gt;<i> DEV-WHITELIST
</I>&gt;&gt;<i> dstdomain &quot;/etc/squid3/whitelists/DEV-WHITELIST&quot; acl 
</I>&gt;&gt;<i> SALES-WHITELIST dstdomain
</I>&gt;<i> &quot;/etc/squid3/whitelists/SALES-WHITELIST&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________ squid-users
</I>&gt;<i> mailing
</I>&gt;&gt;<i> list <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________ squid-users
</I>&gt;&gt;<i> mailing list <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -- Samuel Anderson  |  Information Technology Administrator  | 
</I>&gt;&gt;<i> International Document Services
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> IDS  |  11629 South 700 East, Suite 200  |  Draper, UT
</I>&gt;&gt;<i> 84020-4607
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> CONFIDENTIALITY NOTICE: This e-mail and any attachments are
</I>&gt;&gt;<i> confidential. If you are not an intended recipient, please
</I>&gt;&gt;<i> contact the sender to report the error and delete all copies of
</I>&gt;&gt;<i> this message from your system.  Any unauthorized review, use,
</I>&gt;&gt;<i> disclosure or distribution is prohibited. 
</I>&gt;&gt;<i> _______________________________________________ squid-users
</I>&gt;&gt;<i> mailing list <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>&gt;<i> do you have the luxury of multiple squid instances behind a load 
</I>&gt;<i> balancer?  mark one offline at the LB, reconfigure, mark online at
</I>&gt;<i> the LB.  Lather, rinse, repeat.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________ squid-users mailing
</I>&gt;<i> list <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQEcBAEBAgAGBQJVCG2jAAoJENNXIZxhPexGR4oH/jiPuWnYLhvtU8HnW6KkvjbG
74s8OipJ/j8zzdVZg7Uep+BdcZ1nbnzKSkG/50ByEZ6KTnlF67TAB5QhX6YRlrSU
NNnRpLKIxPuXRkl6kIkEpulGA8D+0ErlhWrM5NwgQpxzT+mqfBtS/u1lfq51CZFw
HoC6OGrTWtBNDwOOnd8V1CySQKr5xw4M6bNBcyr2E33+Dcww5T/XwY0s4gImFeUW
yA9Je0aihFPyVFcBsa7UcEMkoXPShMqu40zrRZ2scvyp9UYjYrD88XRzhLxcxGae
mlt6ia0IeVVfmMfvOgA9C5MyEYe6/XkxmLSZLAU839FgKXIj60TYfy2wB2Sa5c0=
=YqPV
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002819.html">[squid-users] Refresh ACL list only
</A></li>
	<LI>Next message (by thread): <A HREF="002824.html">[squid-users] Refresh ACL list only
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2822">[ date ]</a>
              <a href="thread.html#2822">[ thread ]</a>
              <a href="subject.html#2822">[ subject ]</a>
              <a href="author.html#2822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
