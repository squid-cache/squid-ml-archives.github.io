<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] i want to block images with size more than 40 KB
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20i%20want%20to%20block%20images%20with%20size%20more%20than%2040%20KB&In-Reply-To=%3C55098C7A.3070502%40solutti.com.br%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002845.html">
   <LINK REL="Next"  HREF="002853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] i want to block images with size more than 40 KB</H1>
    <B>Leonardo Rodrigues</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20i%20want%20to%20block%20images%20with%20size%20more%20than%2040%20KB&In-Reply-To=%3C55098C7A.3070502%40solutti.com.br%3E"
       TITLE="[squid-users] i want to block images with size more than 40 KB">leolistas at solutti.com.br
       </A><BR>
    <I>Wed Mar 18 14:32:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002845.html">[squid-users] i want to block images with size more than 40 KB
</A></li>
        <LI>Next message (by thread): <A HREF="002853.html">[squid-users] i want to block images with size more than 40 KB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2850">[ date ]</a>
              <a href="thread.html#2850">[ thread ]</a>
              <a href="subject.html#2850">[ subject ]</a>
              <a href="author.html#2850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 18/03/15 08:06, Amos Jeffries wrote:
&gt;<i> On 19/03/2015 5:57 a.m., snakeeyes wrote:
</I>&gt;&gt;<i> I need help in blocking images that has size less than 40 KB
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;<i> Use the Squid provided access controls to manage access to things.
</I>&gt;<i> &lt;<A HREF="http://wiki.squid-cache.org/SquidFaq/SquidAcl">http://wiki.squid-cache.org/SquidFaq/SquidAcl</A>&gt;
</I>&gt;<i>
</I>
     You should know that you cannot evaluate the response size using 
only the request data. So to acchieve what you want, data from the reply 
must be considered as well, the response size for example.

     Images can be identified by the presence of '.jpg' or '.png' on the 
request URL, but images can be generated on-the-fly by scripts as well, 
so you wont see those extensions all the time. In that case, analyzing 
replies mime headers can be usefull as well, the reply mime type having 
'image' is a great indication that we're receiving an image.

     Put all that together and you'll acchieve the rules you want to. 
But keep in mind that you'll probably break A LOT of sites who 'slices' 
images, background images, menus and all sort of things. I would call 
that a VERY bad idea, but can be acchieved with a few rules.



-- 


	Atenciosamente / Sincerily,
	Leonardo Rodrigues
	Solutti Tecnologia
	<A HREF="http://www.solutti.com.br">http://www.solutti.com.br</A>

	Minha armadilha de SPAM, N&#195;O mandem email
	<A HREF="https://lists.squid-cache.org/listinfo/squid-users">gertrudes at solutti.com.br</A>
	My SPAMTRAP, do not email it




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002845.html">[squid-users] i want to block images with size more than 40 KB
</A></li>
	<LI>Next message (by thread): <A HREF="002853.html">[squid-users] i want to block images with size more than 40 KB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2850">[ date ]</a>
              <a href="thread.html#2850">[ thread ]</a>
              <a href="subject.html#2850">[ subject ]</a>
              <a href="author.html#2850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
