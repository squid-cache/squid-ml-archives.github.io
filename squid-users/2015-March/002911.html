<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to run squidclient
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20run%20squidclient&In-Reply-To=%3CCALP3%3Dx_mV1%2Bf%3D5bcEmYnOeU5y3NCJwaaCcmpLnfPMWoEZ-59Vw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002909.html">
   <LINK REL="Next"  HREF="002913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to run squidclient</H1>
    <B>Monah Baki</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20run%20squidclient&In-Reply-To=%3CCALP3%3Dx_mV1%2Bf%3D5bcEmYnOeU5y3NCJwaaCcmpLnfPMWoEZ-59Vw%40mail.gmail.com%3E"
       TITLE="[squid-users] How to run squidclient">monahbaki at gmail.com
       </A><BR>
    <I>Fri Mar 20 16:33:47 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002909.html">[squid-users] How to run squidclient
</A></li>
        <LI>Next message (by thread): <A HREF="002913.html">[squid-users] How to run squidclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2911">[ date ]</a>
              <a href="thread.html#2911">[ thread ]</a>
              <a href="subject.html#2911">[ subject ]</a>
              <a href="author.html#2911">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Amos,

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ISN-PHC-Cache</A> bin]# ./squidclient -V
Version: 3.5.2




[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ISN-PHC-Cache</A> bin]# ./squidclient -vv mgr:info
verbosity level set to 2
Request:
GET cache_<A HREF="object://localhost/info">object://localhost/info</A> HTTP/1.0
Host: localhost
User-Agent: squidclient/3.5.2
Accept: */*
Connection: close


.
Transport detected: IPv4-only
Resolving localhost ...
Connecting... localhost (127.0.0.1:3128)
Connected to: localhost (127.0.0.1:3128)
Sending HTTP request ...
done.
HTTP/1.1 403 Forbidden
Server: squid/3.5.2
Mime-Version: 1.0
Date: Fri, 20 Mar 2015 17:29:54 GMT
Content-Type: text/html;charset=utf-8
Content-Length: 3549
X-Squid-Error: ERR_ACCESS_DENIED 0
Vary: Accept-Language
Content-Language: en
X-Cache: MISS from isn-phc-cache
Via: 1.1 isn-phc-cache (squid/3.5.2)
Connection: close

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;
<A HREF="http://www.w3.org/TR/html4/strict.dtd">http://www.w3.org/TR/html4/strict.dtd</A>&quot;&gt;
&lt;html&gt;&lt;head&gt;
&lt;meta type=&quot;copyright&quot; content=&quot;Copyright (C) 1996-2015 The Squid Software
Foundation and contributors&quot;&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
&lt;title&gt;ERROR: The requested URL could not be retrieved&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;&lt;!--
 /*
 * Copyright (C) 1996-2015 The Squid Software Foundation and contributors
 *
 * Squid software is distributed under GPLv2+ license and includes
 * contributions from numerous individuals and organizations.
 * Please see the COPYING and CONTRIBUTORS files for details.
 */

/*
 Stylesheet for Squid Error pages
 Adapted from design by Free CSS Templates
 <A HREF="http://www.freecsstemplates.org">http://www.freecsstemplates.org</A>
 Released for free under a Creative Commons Attribution 2.5 License
*/

/* Page basics */
* {
    font-family: verdana, sans-serif;
}

html body {
    margin: 0;
    padding: 0;
    background: #efefef;
    font-size: 12px;
    color: #1e1e1e;
}

/* Page displayed title area */
#titles {
    margin-left: 15px;
    padding: 10px;
    padding-left: 100px;
    background: url('<A HREF="http://www.squid-cache.org/Artwork/SN.png">http://www.squid-cache.org/Artwork/SN.png</A>') no-repeat
left;
}

/* initial title */
#titles h1 {
    color: #000000;
}
#titles h2 {
    color: #000000;
}

/* special event: FTP success page titles */
#titles ftpsuccess {
    background-color:#00ff00;
    width:100%;
}

/* Page displayed body content area */
#content {
    padding: 10px;
    background: #ffffff;
}

/* General text */
p {
}

/* error brief description */
#error p {
}

/* some data which may have caused the problem */
#data {
}

/* the error message received from the system or other software */
#sysmsg {
}

pre {
    font-family:sans-serif;
}

/* special event: FTP / Gopher directory listing */
#dirmsg {
    font-family: courier;
    color: black;
    font-size: 10pt;
}
#dirlisting {
    margin-left: 2%;
    margin-right: 2%;
}
#dirlisting tr.entry td.icon,td.filename,td.size,td.date {
    border-bottom: groove;
}
#dirlisting td.size {
    width: 50px;
    text-align: right;
    padding-right: 5px;
}

/* horizontal lines */
hr {
    margin: 0;
}

/* page displayed footer area */
#footer {
    font-size: 9px;
    padding-left: 10px;
}


body
:<i>lang(fa) { direction: rtl; font-size: 100%; font-family: Tahoma, Roya,
</I>sans-serif; float: right; }
:<i>lang(he) { direction: rtl; }
</I> --&gt;&lt;/style&gt;
&lt;/head&gt;&lt;body id=ERR_ACCESS_DENIED&gt;
&lt;div id=&quot;titles&quot;&gt;
&lt;h1&gt;ERROR&lt;/h1&gt;
&lt;h2&gt;The requested URL could not be retrieved&lt;/h2&gt;
&lt;/div&gt;
&lt;hr&gt;

&lt;div id=&quot;content&quot;&gt;
&lt;p&gt;The following error was encountered while trying to retrieve the URL: &lt;a
href=&quot;cache_<A HREF="object://localhost/info">object://localhost/info</A>&quot;&gt;cache_<A HREF="object://localhost/info&lt;/a">object://localhost/info&lt;/a</A>&gt;&lt;/p&gt;

&lt;blockquote id=&quot;error&quot;&gt;
&lt;p&gt;&lt;b&gt;Access Denied.&lt;/b&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Access control configuration prevents your request from being allowed at
this time. Please contact your service provider if you feel this is
incorrect.&lt;/p&gt;

&lt;p&gt;Your cache administrator is &lt;a href=&quot;mailto:webmaster
?subject=CacheErrorInfo%20-%20ERR_ACCESS_DENIED&amp;body=CacheHost%3A%20isn-phc-cache%0D%0AErrPage%3A%20ERR_ACCESS_DENIED%0D%0AErr%3A%20%5Bnone%5D%0D%0ATimeStamp%3A%20Fri,%2020%20Mar%202015%2017%3A29%3A54%20GMT%0D%0A%0D%0AClientIP%3A%2010.0.0.24%0D%0A%0D%0AHTTP%20Request%3A%0D%0AGET%20%2Finfo%20HTTP%2F1.0%0AHost%3A%20localhost%0D%0AUser-Agent%3A%20squidclient%2F3.5.2%0D%0AAccept%3A%20*%2F*%0D%0AConnection%3A%20close%0D%0A%0D%0A%0D%0A&quot;&gt;webmaster&lt;/a&gt;.&lt;/p&gt;
&lt;br&gt;
&lt;/div&gt;

&lt;hr&gt;
&lt;div id=&quot;footer&quot;&gt;
&lt;p&gt;Generated Fri, 20 Mar 2015 17:29:54 GMT by isn-phc-cache
(squid/3.5.2)&lt;/p&gt;
&lt;!-- ERR_ACCESS_DENIED --&gt;
&lt;/div&gt;
&lt;/body&gt;&lt;/html&gt;


On Fri, Mar 20, 2015 at 12:13 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
wrote:

&gt;<i> On 20/03/2015 11:04 p.m., Monah Baki wrote:
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am running CentOS 6.6 64 bit, and need to get some information from the
</I>&gt;<i> &gt; command line.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Compiled squid as:
</I>&gt;<i> &gt; ./configure --prefix=/home/cache --enable-follow-x-forwarded-for
</I>&gt;<i> &gt; --with-large-files --enable-ssl --disable-ipv6 --enable-esi
</I>&gt;<i> &gt; --enable-kill-parent-hack --enable-snmp --with-pthreads
</I>&gt;<i> &gt; --with-filedescriptors=65535 --enable-cachemgr-hostname=hostname
</I>&gt;<i> &gt; --enable-storeio=ufs,aufs,diskd,rock
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ISN-PHC-Cache</A> bin]# ./squidclient mgr:info
</I>&gt;<i> &gt; HTTP/1.1 403 Forbidden
</I>&gt;<i> &gt; Server: squid/3.5.2
</I>&gt;<i> &gt; Mime-Version: 1.0
</I>&gt;<i> &gt; Date: Fri, 20 Mar 2015 02:29:53 GMT
</I>&gt;<i> &gt; Content-Type: text/html;charset=utf-8
</I>&gt;<i> &gt; Content-Length: 3552
</I>&gt;<i> &gt; X-Squid-Error: ERR_ACCESS_DENIED 0
</I>&gt;<i> &gt; Vary: Accept-Language
</I>&gt;<i> &gt; Content-Language: en
</I>&gt;<i> &gt; X-Cache: MISS from isn-phc-cache
</I>&gt;<i> &gt; Via: 1.1 isn-phc-cache (squid/3.5.2)
</I>&gt;<i> &gt; Connection: close
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Well the request is getting through to the proxy &quot;isn-phc-cache&quot;. But
</I>&gt;<i> for some reason its being rejected.
</I>&gt;<i>
</I>&gt;<i> You have this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; # Only allow cachemgr access from localhost
</I>&gt;<i> &gt; http_access allow localhost manager
</I>&gt;<i> &gt; http_access deny manager
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> So it should be allowed. You are running squidclient connecting to the
</I>&gt;<i> default (localhost:3128) proxy server.
</I>&gt;<i>
</I>&gt;<i> Use -v option to get more verbose output from squidclient about what its
</I>&gt;<i> doing. You can repeat the option several times to get more detailed
</I>&gt;<i> debug info.
</I>&gt;<i>
</I>&gt;<i> The other thing to watch out for is whether ./squidclient run from that
</I>&gt;<i> /bin directory is the 3.5.2 version or not. If its from an older version
</I>&gt;<i> of Squid it wont have all the options the new ones do.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150320/5cd388df/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150320/5cd388df/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002909.html">[squid-users] How to run squidclient
</A></li>
	<LI>Next message (by thread): <A HREF="002913.html">[squid-users] How to run squidclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2911">[ date ]</a>
              <a href="thread.html#2911">[ thread ]</a>
              <a href="subject.html#2911">[ subject ]</a>
              <a href="author.html#2911">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
