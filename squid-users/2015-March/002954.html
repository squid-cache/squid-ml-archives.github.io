<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Editing Makefile.am to include static libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C551347EA.5060508%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002950.html">
   <LINK REL="Next"  HREF="002761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Editing Makefile.am to include static libraries</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Editing%20Makefile.am%20to%20include%20static%20libraries&In-Reply-To=%3C551347EA.5060508%40treenet.co.nz%3E"
       TITLE="[squid-users] Editing Makefile.am to include static libraries">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Mar 25 23:42:34 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002950.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
        <LI>Next message (by thread): <A HREF="002761.html">[squid-users] Read Timeout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2954">[ date ]</a>
              <a href="thread.html#2954">[ thread ]</a>
              <a href="subject.html#2954">[ subject ]</a>
              <a href="author.html#2954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/03/2015 4:47 a.m., Priya Agarwal wrote:
&gt;<i> I can't change the header files of library. Therefore when I included it in
</I>&gt;<i> my code I did
</I>&gt;<i> extern &quot;C&quot; {
</I>&gt;<i> #include&lt;c header file&gt;
</I>&gt;<i> ...
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> instead of just #include and it worked.
</I>
Yes, that is equivalent to the correct header contents.

&gt;<i> 
</I>&gt;<i> But the compiler is showing some errors in the header files I included, but
</I>&gt;<i> of course there isn't anything wrong in them. I could include it this way
</I>&gt;<i> as well right?
</I>
Well, if the compiler is complaining by definition there *is* something
wrong with them.

The lack of that extern construct in the headers shows the author has
paid no attention to C++ compatibility, and very little (if any)
attention to making the library portable.

You can build Squid with --disable-strict-error-checking to hide issues
which are non-critical. But be aware that the warnings may become
critical errors at any time with other compilers, and some may result in
undesirable run-time behaviour or bugs with the current one.

&gt;<i> 
</I>&gt;<i> Also I wrote a c file and a corresponding header file in /src folder and
</I>&gt;<i> appended the 'squid_sources' as this:
</I>&gt;<i> 
</I>&gt;<i> squid_sources = .
</I>&gt;<i>                          ...
</I>&gt;<i>                          ....
</I>&gt;<i>                         usdpaa_if.h \
</I>&gt;<i>                         usdpaa_if.c
</I>&gt;<i> 
</I>&gt;<i> Is this okay? As again it is showing errors in the usdpaa_if.c file and
</I>&gt;<i> there are no syntax errors like the compiler says.
</I>&gt;<i> I saw other folder in /src like compat had also included c files like this
</I>&gt;<i> so I thought this would be right.
</I>
Yes, provided you also placed a '\' character on the end of the line
above the new ones (making them part of the wrapped list). AND that the
.c code in that new file will compile with your C compiler.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002950.html">[squid-users] Editing Makefile.am to include static libraries
</A></li>
	<LI>Next message (by thread): <A HREF="002761.html">[squid-users] Read Timeout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2954">[ date ]</a>
              <a href="thread.html#2954">[ thread ]</a>
              <a href="subject.html#2954">[ subject ]</a>
              <a href="author.html#2954">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
