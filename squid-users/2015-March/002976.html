<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] mmap() in squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20mmap%28%29%20in%20squid&In-Reply-To=%3C551AE155.7090302%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002961.html">
   <LINK REL="Next"  HREF="002963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] mmap() in squid</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20mmap%28%29%20in%20squid&In-Reply-To=%3C551AE155.7090302%40ngtech.co.il%3E"
       TITLE="[squid-users] mmap() in squid">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue Mar 31 18:03:01 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002961.html">[squid-users] mmap() in squid
</A></li>
        <LI>Next message (by thread): <A HREF="002963.html">[squid-users] Squid behaviour with external_acl_type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2976">[ date ]</a>
              <a href="thread.html#2976">[ thread ]</a>
              <a href="subject.html#2976">[ subject ]</a>
              <a href="author.html#2976">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Eugene,

Since I do not have the full details about the issue and related areas I 
cannot answer and I think later others will answer this better then me.
But as for the last question about squid being a DB.
Squid in a way is also a DB like any OS is a DB.
Due to the fact that squid is kind of a DB, it's preferable for example 
to use fast disks.
While squid is indeed a DB and has lots of functions, and while it is 
also helps to cache there is always the question if you do use the cache 
system properly.
Squid is there and is open to use and will probably be there for many years.
One of the big benefits that squid has compared to other products is 
that you can try to understand any issue and get response from others 
about almost any related issue.
 From my understanding SSD disks are one of the things which can help a 
server work faster.
I have been asked couple times in the past about using SSD in production 
systems for cache.
Indeed SSD helps for the system to run and once a system production test 
has &quot;ended&quot; then and only then the actual production use can be the next 
step.
If indeed one of your tests proved that this patch is production ready I 
think that it might be worth to actually look at it.
Squid users list is the starter point but I am pretty sure that the 
level of the subject is for squid development rather then for squid 
users list while I found it interesting.

Thanks,
Eliezer

On 27/03/2015 16:57, Eugene M. Zheganin wrote:
&gt;<i> Last year there was an issue with PostgreSQL, which laso started to use
</I>&gt;<i> mmap() in it's 9.3 release, and it had a huge regression issue on
</I>&gt;<i> FreeBSD. One of the measures to fight this regression (but not the only)
</I>&gt;<i> was adding MAP_NOSYNC to the postgresql port. So I decided to do the
</I>&gt;<i> same for my local squid. I created a patch, where both of two
</I>&gt;<i> occurencies of mmap() were supplied with this flag. I'm using squid
</I>&gt;<i> 3.4.x patched this way about a half-a-year. Couple of days ago I sent
</I>&gt;<i> this patch to the FreeBSD ports system, and squid port maintainer asks
</I>&gt;<i> me if I'm sure squid on FreeBSD does need this. Since I'm not a skilled
</I>&gt;<i> programmer (though I think using mmap() with MAP_NOSYNC is a good
</I>&gt;<i> thing), I decided to ask here - is this flag worth bothering, since
</I>&gt;<i> squid isn't a database engine ?
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002961.html">[squid-users] mmap() in squid
</A></li>
	<LI>Next message (by thread): <A HREF="002963.html">[squid-users] Squid behaviour with external_acl_type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2976">[ date ]</a>
              <a href="thread.html#2976">[ thread ]</a>
              <a href="subject.html#2976">[ subject ]</a>
              <a href="author.html#2976">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
