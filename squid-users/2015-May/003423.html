<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] vary headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20vary%20headers&In-Reply-To=%3C554740BF.9080505%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003412.html">
   <LINK REL="Next"  HREF="003434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] vary headers</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20vary%20headers&In-Reply-To=%3C554740BF.9080505%40treenet.co.nz%3E"
       TITLE="[squid-users] vary headers">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May  4 09:49:51 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003412.html">[squid-users] vary headers
</A></li>
        <LI>Next message (by thread): <A HREF="003434.html">[squid-users] vary headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3423">[ date ]</a>
              <a href="thread.html#3423">[ thread ]</a>
              <a href="subject.html#3423">[ subject ]</a>
              <a href="author.html#3423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/05/2015 6:54 a.m., Hussam Al-Tayeb wrote:
&gt;&gt;<i> Sent: Sunday, May 03, 2015 at 9:45 PM
</I>&gt;&gt;<i> From: &quot;Yuri Voinov&quot;
</I>&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I understand what do your want. But for what?
</I>&gt;&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> because a &quot;wget --server-response <A HREF="http://someurl">http://someurl</A>&quot; operation that
</I>&gt;<i> replies with a &quot;Vary: user-agent&quot; header always results in a MISS
</I>&gt;<i> even if the same wget version (same user-agent) and computer.
</I>&gt;<i> Instead, multiple copies of the file are stored.
</I>
That is not right, the wget being used twice should be MISS then HIT,
just like any oter cacheable traffic.

The nasty thing with Vary:User-Agent is that browsers UA string embeds
so much plugin info they are changing between each different client
request. Which defeats the purpose of caching one clients reply for use
by other clients.

NP: what you had with the store_miss should be working.
 Are you using Squid-3.5 ?
 How are you identifying a fail ?

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003412.html">[squid-users] vary headers
</A></li>
	<LI>Next message (by thread): <A HREF="003434.html">[squid-users] vary headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3423">[ date ]</a>
              <a href="thread.html#3423">[ thread ]</a>
              <a href="subject.html#3423">[ subject ]</a>
              <a href="author.html#3423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
