<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] vary headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20vary%20headers&In-Reply-To=%3Ctrinity-33a8e2c0-2df6-4c59-a970-df639a943227-1430752525160%403capp-mailcom-bs12%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003423.html">
   <LINK REL="Next"  HREF="003435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] vary headers</H1>
    <B>Hussam Al-Tayeb</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20vary%20headers&In-Reply-To=%3Ctrinity-33a8e2c0-2df6-4c59-a970-df639a943227-1430752525160%403capp-mailcom-bs12%3E"
       TITLE="[squid-users] vary headers">hussam.tayeb at gmx.com
       </A><BR>
    <I>Mon May  4 15:15:25 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003423.html">[squid-users] vary headers
</A></li>
        <LI>Next message (by thread): <A HREF="003435.html">[squid-users] vary headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3434">[ date ]</a>
              <a href="thread.html#3434">[ thread ]</a>
              <a href="subject.html#3434">[ subject ]</a>
              <a href="author.html#3434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> Sent: Monday, May 04, 2015 at 12:49 PM
</I>&gt;<i> From: &quot;Amos Jeffries&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] vary headers
</I>&gt;<i>
</I>&gt;<i> On 4/05/2015 6:54 a.m., Hussam Al-Tayeb wrote:
</I>&gt;<i> &gt;&gt; Sent: Sunday, May 03, 2015 at 9:45 PM
</I>&gt;<i> &gt;&gt; From: &quot;Yuri Voinov&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I understand what do your want. But for what?
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; because a &quot;wget --server-response <A HREF="http://someurl">http://someurl</A>&quot; operation that
</I>&gt;<i> &gt; replies with a &quot;Vary: user-agent&quot; header always results in a MISS
</I>&gt;<i> &gt; even if the same wget version (same user-agent) and computer.
</I>&gt;<i> &gt; Instead, multiple copies of the file are stored.
</I>&gt;<i> 
</I>&gt;<i> That is not right, the wget being used twice should be MISS then HIT,
</I>&gt;<i> just like any oter cacheable traffic.
</I>&gt;<i> 
</I>&gt;<i> The nasty thing with Vary:User-Agent is that browsers UA string embeds
</I>&gt;<i> so much plugin info they are changing between each different client
</I>&gt;<i> request. Which defeats the purpose of caching one clients reply for use
</I>&gt;<i> by other clients.
</I>&gt;<i> 
</I>&gt;<i> NP: what you had with the store_miss should be working.
</I>&gt;<i>  Are you using Squid-3.5 ?
</I>&gt;<i>  How are you identifying a fail ?
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>Hello. I am using 3.5.4
There are new objects on disk that have the Vary: User-Agent Http header.
I can tell for example if type head -n13 /home/squid/04/D1/0004D122

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003423.html">[squid-users] vary headers
</A></li>
	<LI>Next message (by thread): <A HREF="003435.html">[squid-users] vary headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3434">[ date ]</a>
              <a href="thread.html#3434">[ thread ]</a>
              <a href="subject.html#3434">[ subject ]</a>
              <a href="author.html#3434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
