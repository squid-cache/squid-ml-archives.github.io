<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as transparent in 'caching layer'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20transparent%20in%20%27caching%20layer%27&In-Reply-To=%3C554F0154.6090404%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003534.html">
   <LINK REL="Next"  HREF="003537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as transparent in 'caching layer'</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20transparent%20in%20%27caching%20layer%27&In-Reply-To=%3C554F0154.6090404%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid as transparent in 'caching layer'">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun May 10 06:57:24 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003534.html">[squid-users] Squid as transparent in 'caching layer'
</A></li>
        <LI>Next message (by thread): <A HREF="003537.html">[squid-users] Squid as transparent in 'caching layer'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3535">[ date ]</a>
              <a href="thread.html#3535">[ thread ]</a>
              <a href="subject.html#3535">[ subject ]</a>
              <a href="author.html#3535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/05/2015 6:31 p.m., Ibrahim Lubis wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Most of all know about tiered network
</I>&gt;<i> topology(access,aggregation/dist,core) from core than to firewall and then
</I>&gt;<i> to router. For redundancy usually there 2 core and 2 firewall. I was
</I>&gt;<i> thinking adding a transparent caching layer between core and firewall,just
</I>&gt;<i> adding squid box. It is okay just adding 2 independent squid box or I need
</I>&gt;<i> some sync between squid box ? What if I add not 2 but 6 and doing
</I>&gt;<i> active-active on both core n firewall? Can anybody give me insight ? Btw My
</I>&gt;<i> objective is to save some bandwidths from user for internet access.
</I>
Go with independent Squid boxes until you are happy that they are
operating properly and you know whats going on. Number of Squid does not
matter much, so long as they each can handle the traffic load you put
through. If you are new to this start with just one and put only a small
amount of the traffic through, then increase gradually until you need 2,
and so on.

Sync'ing between the Squid caches, and interception proxying can each
have unwanted side effects. Its best to deal with those in separately to
avoid confusion and troubles.


&quot;active-active on both core n firewall&quot; does not matter. You MUST NOT
perform destination-NAT (or TPROXY) on any machine other than the Squid
box receiving the TCP connection from client(s). The firewalls and core
only perform *routing* (perhapse over a tunnel) to get the TCP packets
to the right Squid box. This has the nice side effect of greatly
reducing the amount of data the firewalls need to sync.


Hints for beginners:

 Caching can make some traffic appear slower - all MISS and some REFRESH
transactions. There is extra packet processing done by the proxy and
latency getting the packets around. This is the tradeoff for bandwidth
saving. Super-fast HITs and traffic optimization can make up for that,
but not always.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003534.html">[squid-users] Squid as transparent in 'caching layer'
</A></li>
	<LI>Next message (by thread): <A HREF="003537.html">[squid-users] Squid as transparent in 'caching layer'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3535">[ date ]</a>
              <a href="thread.html#3535">[ thread ]</a>
              <a href="subject.html#3535">[ subject ]</a>
              <a href="author.html#3535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
