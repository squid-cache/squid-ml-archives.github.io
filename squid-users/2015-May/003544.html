<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Client IP spoofing via squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20IP%20spoofing%20via%20squid%20proxy&In-Reply-To=%3C5550A952.5090109%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003542.html">
   <LINK REL="Next"  HREF="003476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Client IP spoofing via squid proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20IP%20spoofing%20via%20squid%20proxy&In-Reply-To=%3C5550A952.5090109%40treenet.co.nz%3E"
       TITLE="[squid-users] Client IP spoofing via squid proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May 11 13:06:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003542.html">[squid-users] Client IP spoofing via squid proxy
</A></li>
        <LI>Next message (by thread): <A HREF="003476.html">[squid-users] FQDN assigned to loopback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3544">[ date ]</a>
              <a href="thread.html#3544">[ thread ]</a>
              <a href="subject.html#3544">[ subject ]</a>
              <a href="author.html#3544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/05/2015 11:27 p.m., Ambadas Hibare wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> The problem is many clients are already preconfigured with proxy ip/port settings due to previous setup.
</I>&gt;<i> 
</I>
huh? your &quot;problem&quot; is that clients are setup correctly?

TPROXY and NAT interception (aka. hjacking attack on users) are the
*hacked workaround* way to do proxying when one has no better choices
due to broken UA implementation or configuration.

It also has nothing to do with the Squid-&gt;server connections.

So I ask again, why do you say you are required to perform IP spoofing
(aka. forgery of users identification details) on outbound server
connections?

I think that you or someone setting the requirements is mistaken about
what is needed. Possibly even mistaken about what some problem is.

...

Clients which *are* configured to use a proxy explicitly, can continue
to use Squid as that proxy. If the proxy receiving IP or domain has
changed the traffic can be NAT'ed to the new proxy with no need to
change anything - not even configure Squid with &quot;intercept&quot; flags.


Clients which are *not* configured to use the proxy, but needing to be
gatewayed through it need to be TPROXY or NAT intercepted. But only as
per common &quot;normal&quot; client connection interception.

In both cases the server connections will &quot;just work&quot; when proxied
without TPROXY spoofing. If TPROXY spoofing is performed the routing
needs special configuration we have been over already.


&gt;<i> If you don&#8217;t mind, may I know like its squid's feature, or the Linux OS feature, which doesn&#8217;t do transparency only towards web server?
</I>&gt;<i> 
</I>
Both. The OS restrictions more than Squid. And legal restrictions in
many places.

Consider that your workplace might need a guard to see your passport or
similar form of private ID to purchase some service for you. Is it legal
(and right) for that guard to photocopy it, then use it as their own
name/ID to do some things of their choosing?

Compare that to a Guard who does the same copying, but uses it saying to
the service provider &quot;I come representing the person identified by this
token&quot;.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003542.html">[squid-users] Client IP spoofing via squid proxy
</A></li>
	<LI>Next message (by thread): <A HREF="003476.html">[squid-users] FQDN assigned to loopback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3544">[ date ]</a>
              <a href="thread.html#3544">[ thread ]</a>
              <a href="subject.html#3544">[ subject ]</a>
              <a href="author.html#3544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
