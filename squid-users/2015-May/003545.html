<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Cache peers with different load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Cache%20peers%20with%20different%20load&In-Reply-To=%3C5550AFB2.4070401%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003543.html">
   <LINK REL="Next"  HREF="003546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Cache peers with different load</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Cache%20peers%20with%20different%20load&In-Reply-To=%3C5550AFB2.4070401%40treenet.co.nz%3E"
       TITLE="[squid-users] Cache peers with different load">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May 11 13:33:38 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003543.html">[squid-users] Cache peers with different load
</A></li>
        <LI>Next message (by thread): <A HREF="003546.html">[squid-users] Cache peers with different load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3545">[ date ]</a>
              <a href="thread.html#3545">[ thread ]</a>
              <a href="subject.html#3545">[ subject ]</a>
              <a href="author.html#3545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/05/2015 12:01 a.m., Stakres wrote:
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> A crazy thing I cannot understand:
</I>&gt;<i> - 3 squid 3.5.4
</I>&gt;<i> 
</I>&gt;<i> the child (172.10.1.1) is like that:
</I>&gt;<i> cache_peer 172.10.1.2 parent 8182 8183 proxy-only weighted-round-robin
</I>&gt;<i> background-ping no-tproxy
</I>&gt;<i> cache_peer 172.10.1.3 parent 8182 8183 proxy-only weighted-round-robin
</I>&gt;<i> background-ping no-tproxy
</I>&gt;<i> 
</I>&gt;<i> ICP is allowed on the 3 squids.
</I>&gt;<i> 
</I>&gt;<i> Traffic is not equal, not balanced as I expect.
</I>&gt;<i> cache .2 is 200MB after 10 min
</I>&gt;<i> cache .3 is 4GB in the same time
</I>&gt;<i> 
</I>&gt;<i> Sure I'm missing something here, but what ? 
</I>
The difference between bandwidth load, transaction load, and connection
load.

Squid load balancing algorithms are all message load balancing
algorithms. They do not balance bandwidth load. They all contain
connection (and/or message) bias.

This is explained in the
&lt;<A HREF="http://wiki.squid-cache.org/Features/LoadBalance#Weighted_Round-Robin">http://wiki.squid-cache.org/Features/LoadBalance#Weighted_Round-Robin</A>&gt;
last few paragraphs about response time bias. The connection bias and
effects (other than latency) described in the round-robin section of
that page are also having an effect since this is a variation on
round-robin.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003543.html">[squid-users] Cache peers with different load
</A></li>
	<LI>Next message (by thread): <A HREF="003546.html">[squid-users] Cache peers with different load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3545">[ date ]</a>
              <a href="thread.html#3545">[ thread ]</a>
              <a href="subject.html#3545">[ subject ]</a>
              <a href="author.html#3545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
