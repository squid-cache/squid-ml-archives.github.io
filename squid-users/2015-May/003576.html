<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL Peak and Splice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Peak%20and%20Splice&In-Reply-To=%3C55552CA4.6080206%40cd.kcfam.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003573.html">
   <LINK REL="Next"  HREF="003577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL Peak and Splice</H1>
    <B>Casey Daniels</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Peak%20and%20Splice&In-Reply-To=%3C55552CA4.6080206%40cd.kcfam.net%3E"
       TITLE="[squid-users] SSL Peak and Splice">mailinglist at cd.kcfam.net
       </A><BR>
    <I>Thu May 14 23:15:48 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003573.html">[squid-users] SSL Peak and Splice
</A></li>
        <LI>Next message (by thread): <A HREF="003577.html">[squid-users] SSL Peak and Splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3576">[ date ]</a>
              <a href="thread.html#3576">[ thread ]</a>
              <a href="subject.html#3576">[ subject ]</a>
              <a href="author.html#3576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 05/14/2015 12:37 AM, Amos Jeffries wrote:
&gt;&gt;<i> Yes the second option, not the particular machine, but the FQDN
</I>&gt;&gt;<i> (i.e.&lt;<A HREF="http://www.cooking.com">http://www.cooking.com</A>&gt; )
</I>&gt;<i>
</I>&gt;<i>   # get TLS SNI details etc
</I>&gt;<i>   ssl_bump peek all
</I>&gt;<i>
</I>&gt;<i>   # some get rejected
</I>&gt;<i>   acl blocked ssl:server_name .example.com
</I>&gt;<i>   ssl_bump reject blocked
</I>&gt;<i>
</I>&gt;<i>   # the rest allowed without decrypting
</I>&gt;<i>   ssl_bump splice all
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> When is the TLS SNI information made available by the client?
</I>&gt;<i> They send it or they dont. Nothign you or we can do about it.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
One Follow up question.

You said &quot;They send it or they don't. Nothing you or we can do about 
it.&quot; Are you referring to that we don't have control if they send it or 
not, or there is nothing we can do if they don't?

My question is, is there some way to either reject the conection, or do 
a full SSL bump the connection for further examnation if the TLS SNI 
information isn't present?  From my understanding all modern browsers 
should be sending the TLS SNI information, and the SSL fallback has been 
disabled by default on them except for Windows IE.  So blocking 
connections that fail to give TLS SNI information doesn't appear to be a 
problem except for people using outdated devices.

Casey



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003573.html">[squid-users] SSL Peak and Splice
</A></li>
	<LI>Next message (by thread): <A HREF="003577.html">[squid-users] SSL Peak and Splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3576">[ date ]</a>
              <a href="thread.html#3576">[ thread ]</a>
              <a href="subject.html#3576">[ subject ]</a>
              <a href="author.html#3576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
