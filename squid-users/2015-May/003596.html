<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.4.10 and sslcrtd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.10%20and%20sslcrtd&In-Reply-To=%3C5559DAE7.5050104%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003590.html">
   <LINK REL="Next"  HREF="003626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.4.10 and sslcrtd</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.10%20and%20sslcrtd&In-Reply-To=%3C5559DAE7.5050104%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.4.10 and sslcrtd">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May 18 12:28:23 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003590.html">[squid-users] Squid 3.4.10 and sslcrtd
</A></li>
        <LI>Next message (by thread): <A HREF="003626.html">[squid-users] Squid 3.4.10 and sslcrtd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3596">[ date ]</a>
              <a href="thread.html#3596">[ thread ]</a>
              <a href="subject.html#3596">[ subject ]</a>
              <a href="author.html#3596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 18/05/2015 11:23 p.m., Veiko Kukk wrote:
&gt;<i> Hi
</I>&gt;<i> 
</I>&gt;<i> I'd like to know if I understand Squid documentation properly.
</I>&gt;<i> I have following http_port and sslbump configuration:
</I>&gt;<i> 
</I>&gt;<i> http_port 127.0.0.1:3128 ssl-bump generate-host-certificates=off
</I>&gt;<i> cert=/var/spool/squid/ssl_cert/squid_ca.pem
</I>&gt;<i> ssl_bump server-first all
</I>&gt;<i> 
</I>&gt;<i> From documentation:
</I>&gt;<i> generate-host-certificates[=&lt;on|off&gt;]
</I>&gt;<i> Dynamically create SSL server certificates for the destination hosts of
</I>&gt;<i> bumped CONNECT requests. When enabled, the cert and key options are used
</I>&gt;<i> to sign generated certificates. Otherwise generated certificate will be
</I>&gt;<i> selfsigned.
</I>&gt;<i> 
</I>&gt;<i> I guess, that means, if generate-host-certificates=off, there is no need
</I>&gt;<i> for sslcrtd_program. Do I understand this correctly?
</I>
Good question. The answer is yes.

&gt;<i> 
</I>&gt;<i> Why does it still need sslcrtd_program? Note that error message WARNING:
</I>&gt;<i> ssl_crtd #Hlpr0 exited is misleading, because currently, all sslcrtd
</I>&gt;<i> related configuration options are commented out and none of the ssl_crtd
</I>&gt;<i> processes are started.
</I>
Having a directive commented out means the default value for it is used.
There is a default helper built by --enable-ssl-crtd that gets used
unless you specify otherwise.

Currently Squid is not detecting that the helper is unused, so checks
for its existence and attempts to run some. Some other helpers also have
this problem.

The workaround is to also explicitly configure:
 sslcrtd_children 0

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003590.html">[squid-users] Squid 3.4.10 and sslcrtd
</A></li>
	<LI>Next message (by thread): <A HREF="003626.html">[squid-users] Squid 3.4.10 and sslcrtd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3596">[ date ]</a>
              <a href="thread.html#3596">[ thread ]</a>
              <a href="subject.html#3596">[ subject ]</a>
              <a href="author.html#3596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
