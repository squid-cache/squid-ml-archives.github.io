<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] block inappropriate images of google
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20block%20inappropriate%20images%20of%20google&In-Reply-To=%3CDB5PR04MB11280751D6CB4436981343118FC40%40DB5PR04MB1128.eurprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003603.html">
   <LINK REL="Next"  HREF="003605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] block inappropriate images of google</H1>
    <B>Rafael Akchurin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20block%20inappropriate%20images%20of%20google&In-Reply-To=%3CDB5PR04MB11280751D6CB4436981343118FC40%40DB5PR04MB1128.eurprd04.prod.outlook.com%3E"
       TITLE="[squid-users] block inappropriate images of google">rafael.akchurin at diladele.com
       </A><BR>
    <I>Mon May 18 18:21:00 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003603.html">[squid-users] block inappropriate images of google
</A></li>
        <LI>Next message (by thread): <A HREF="003605.html">[squid-users] block inappropriate images of google
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Andres,

N.B. Please take my answer with a huge grain of salt.

The google images search returns image results  (thumbnails) as inline base 64 encoded images in the CSS. Selectively blocking them with any URL redirector will not work. It is possible to completely block google images but I assume this is not the way to follow for a school where a lot of pupil projects need access to the image search results.

Our current recommend the strategy for blocking explicit search results for schools are (please note you must be doing SSL decryption for this to work!):

- enforce Safe Search for Google. In this way proxy adds some special parameter to URL and some HTTP header to all outgoing requests to google servers asking it to show only safe images. Unfortunately this sometime misses quite offensive images as no safe search is safe enough.

- add keyword filtering to filter results of image search as it also contains some textual description of images and their original URLs that greatly improves detection rate. Some possible overblocking definitely will occur.

- add image tone detection filtering to the mix (works only for JPEGs for now and higly experimental) :(

In order to do that you need to integrate a content scanning server with your Squid - as possible variant consider taking a look at what we develop exactly for this purpose (search google for qlproxy ICAP - please note it is a commercial product).

Other choices are DansGuardian as parent proxy and SquidGuard/ufdbGuard/other redirectors.
I hope some other members of the list can explain how to do what your require with these.

Best regards,
Rafael


From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Andres Granados
Sent: Monday, May 18, 2015 7:50 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] block inappropriate images of google

hello!
I need help on how to block pornographic images of google, I was trying different options and still do not succeed, try: http_reply_access with request_header_add, and even with a configuration dns, I think is to request_header_add the best, though not it has worked for me, I hope your help, is to implement a school, thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150518/c6cf7d29/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150518/c6cf7d29/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003603.html">[squid-users] block inappropriate images of google
</A></li>
	<LI>Next message (by thread): <A HREF="003605.html">[squid-users] block inappropriate images of google
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
