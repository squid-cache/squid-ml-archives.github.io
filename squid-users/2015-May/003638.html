<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] pass ssl through Squid reverse proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20pass%20ssl%20through%20Squid%20reverse%20proxy&In-Reply-To=%3C555C64BE.2080302%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003634.html">
   <LINK REL="Next"  HREF="003635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] pass ssl through Squid reverse proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20pass%20ssl%20through%20Squid%20reverse%20proxy&In-Reply-To=%3C555C64BE.2080302%40treenet.co.nz%3E"
       TITLE="[squid-users] pass ssl through Squid reverse proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May 20 10:41:02 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003634.html">[squid-users] pass ssl through Squid reverse proxy
</A></li>
        <LI>Next message (by thread): <A HREF="003635.html">[squid-users] Squid 3.5.4 + OpenBSD 5.7 + ROCK store = kid1 registration timed out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/05/2015 5:03 p.m., &#1044;&#1084;&#1080;&#1090;&#1088;&#1080;&#1081; &#1051;&#1086;&#1079;&#1080;&#1094;&#1082;&#1080;&#1081; wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have a requirement to setup a reverse proxy for a secure connection to a
</I>&gt;<i> server where tomcat is working.
</I>&gt;<i> Services on tomcat already have ssl setup, but as tomcat doesn't have
</I>&gt;<i> explicit certificate and a key file for ssl connection, I'd like to let the
</I>&gt;<i> https traffic from a client to pass through the reverse proxy directly to a
</I>&gt;<i> server and use encryption on a server instead of on reverse proxy.
</I>&gt;<i> 
</I>&gt;<i> Can anyone please give an idea if it possible to do?
</I>
What you are asking for is not possible with Squid. But its also
unnecessary and very much *not* reverse-proxy.


What reverse-proxy Squid do is terminate the client TLS connection then
proxy the embeded HTTP request(s) to the backend server(s). Optionally
using TLS on the connections between Squid and the server (Tomcat).

Like so:
 https_port 443 accel defaultdomain=example.com \
    ssl cert=/path/to/example.com.pem

 cache_peer tomcat.local 443 0 originserver ssl

... and the relevant TLS parameters. With DNS of course pointing at the
Squid instead of tomcat.

THe iwki config example
&lt;<A HREF="http://wiki.squid-cache.org/ConfigExamples/Reverse/SslWithWildcardCertifiate">http://wiki.squid-cache.org/ConfigExamples/Reverse/SslWithWildcardCertifiate</A>&gt;
should have what you need.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003634.html">[squid-users] pass ssl through Squid reverse proxy
</A></li>
	<LI>Next message (by thread): <A HREF="003635.html">[squid-users] Squid 3.5.4 + OpenBSD 5.7 + ROCK store = kid1 registration timed out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
