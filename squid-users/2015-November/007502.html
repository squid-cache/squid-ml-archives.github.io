<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP_REFRESH_MODIFIED
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C56391050.8080403%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007501.html">
   <LINK REL="Next"  HREF="007503.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP_REFRESH_MODIFIED</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C56391050.8080403%40treenet.co.nz%3E"
       TITLE="[squid-users] TCP_REFRESH_MODIFIED">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Nov  3 19:51:44 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007501.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
        <LI>Next message (by thread): <A HREF="007503.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7502">[ date ]</a>
              <a href="thread.html#7502">[ thread ]</a>
              <a href="subject.html#7502">[ subject ]</a>
              <a href="author.html#7502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi jo,
  Pause. Breath.

If I'm reading that long sentence right you are getting REFRESH_MODIFIED
responses from servers with &quot;new&quot; content to be cached, which has not
actually changed.

What URL or URLs ?

&gt;<i> 
</I>&gt;<i> as i understand  squid look at
</I>&gt;<i> file size
</I>&gt;<i> date expiery 
</I>&gt;<i> +++ if the income header of the file never change why would squid see it as
</I>&gt;<i> TCP_REFRESH_MODIFIED
</I>&gt;<i> mmmmmm
</I>
There are many things that might make a cached object need revalidation.
Expires timestamp is just one of them. Having authentication credentials
embeded in it is another. Private cookies attached, client happened to
press force-reload button in their browser, etc. etc.

Unfortunately in this case the server is responding with an entirely new
object each time. Squid can't exactly prevent that happening. It is the
server choosing what to send.


If it is happening with a specific URL, or a few URLs the tool at
redbot.org can say whether there is anything broken with the server
responses that are causing problems.

Otherwise a bit more detail about what your particular setup is will be
needed to figure it out. What the proxy is intended to do / what its
used for, how its connected to from clients, and the squid.conf.


If you had any questions you want answers to in the rest of that text,
please re-phrase them a bit more clearly and I will try to answer as
best I can.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007501.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
	<LI>Next message (by thread): <A HREF="007503.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7502">[ date ]</a>
              <a href="thread.html#7502">[ thread ]</a>
              <a href="subject.html#7502">[ subject ]</a>
              <a href="author.html#7502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
