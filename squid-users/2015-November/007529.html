<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP_REFRESH_MODIFIED
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C5639DD50.6030205%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007514.html">
   <LINK REL="Next"  HREF="007532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP_REFRESH_MODIFIED</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C5639DD50.6030205%40treenet.co.nz%3E"
       TITLE="[squid-users] TCP_REFRESH_MODIFIED">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov  4 10:26:24 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007514.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
        <LI>Next message (by thread): <A HREF="007532.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/11/2015 11:53 a.m., HackXBack wrote:
&gt;<i> what joe is going to tell us is that his HIT ratio decrease and he is seeing
</I>&gt;<i> TCP_REFRESH_MODIFIED  instead of tcp_hit when he used V4
</I>&gt;<i> this problem is right also with tcp swalfail miss
</I>
I don't think the two are the same at all.

REFRESH is (in jo's case) an indicator that the private content is being
checked before use. If the server behaves itself the answer would be
UNMODIFIED/304 not MODIFIED/200 status, and the transfer size under 1KB.

SWAPFAIL is errors loading the on-disk file where the object ws stored
in the cache. Unless you want to serve random bytes out to the client
that failure will always have a MISS/200 or DENIED/500 result.
 In your case the bug is that you are having the disk I/O failure at
all. jo is not.


&gt;<i> with V3.4 these strange problems is not exists ..
</I>&gt;<i> 
</I>
3.4 does not cache several of the types of objects that 3.5+ do.

We are still in the process of converting Squid from HTTP/1.0 behaviour
to HTTP/1.1 behaviour. It is going slowly, one step at a time.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007514.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
	<LI>Next message (by thread): <A HREF="007532.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
