<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP_REFRESH_MODIFIED
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C563A0B44.6000406%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007536.html">
   <LINK REL="Next"  HREF="007542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP_REFRESH_MODIFIED</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_REFRESH_MODIFIED&In-Reply-To=%3C563A0B44.6000406%40treenet.co.nz%3E"
       TITLE="[squid-users] TCP_REFRESH_MODIFIED">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov  4 13:42:28 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007536.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
        <LI>Next message (by thread): <A HREF="007542.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7541">[ date ]</a>
              <a href="thread.html#7541">[ thread ]</a>
              <a href="subject.html#7541">[ subject ]</a>
              <a href="author.html#7541">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/11/2015 11:51 p.m., joe wrote:
&gt;&gt;<i> I don't think the two are the same at all. 
</I>&gt;<i> right they ar 2 diferent problem and they ar very bad for production to be
</I>&gt;<i> on
</I>&gt;<i> 
</I>&gt;&gt;<i> REFRESH is (in jo's case) an indicator that the private content is being 
</I>&gt;&gt;<i> checked before use. If the server behaves itself the answer would be 
</I>&gt;&gt;<i> UNMODIFIED/304 not MODIFIED/200 status, and the transfer size under 1KB.
</I>&gt;<i>
</I>&gt;<i> i test almost all the rev...  from 4.02 down 
</I>
Down to what?

&gt;<i> here is wat i found  squid
</I>&gt;<i> become as browser 
</I>
Squid does not do graphics rendering.

&gt;<i> that all it dose not save object as i show the header on
</I>&gt;<i> top of the topic so min max ar use less and overide reload ar just a extra
</I>&gt;<i> word to type  as i sayd   squid supost to be cache server not browser
</I>
I'm wondering what you think a browser does? it has caching you know. Of
a type called a &quot;private cache&quot;. Which is part of the problem with
caching private content in Squid.

Putting two caches in a row and fetching objects through them from one
client will only use the first cache for HITs and the second cache will
have low traffic of mostly MISS. Consider that your browser cache is
always the first cache, Squid can only be the second.

A shared cache (such as Squid) requires multiple clients to be fetching
from it to have much chance to have any HIT's. Which is indicated
partially by the word &quot;shared&quot; in the classification name.

It is kind of funny that you are configuring Squid to force it to store
private content in ways only a browser cache is technically allowed to
do, then turning around and complaining about how Squid acts like a
browser. When you told it to do so.


&gt;<i> folowing the rools of google or the rfc is bad it depend to us admin to
</I>&gt;<i> control witsh object need to be stored and how long
</I>&gt;<i> so that for the REFRESH
</I>&gt;<i> 
</I>
You seem to be expecting and demanding a cache to act like an archive.
Serving up responses stored from a snapshot of what the Internet used to
look like some time ago. The words are different because the behaviour
is different. Squid is a caching proxy, not an archive.

The rules in the RFC are how HTTP *works*. Not following them breaks
things, sometimes very very badly.

If you really want software that *doesn't* do HTTP. By all means go and
use something other than Squid. Squid is an HTTP proxy.



&gt;&gt;<i> SWAPFAIL is errors loading the on-disk file where the object ws stored 
</I>&gt;&gt;<i> in the cache. Unless you want to serve random bytes out to the client 
</I>&gt;&gt;<i> that failure will always have a MISS/200 or DENIED/500 result. 
</I>&gt;&gt;<i> In your case the bug is that you are having the disk I/O failure at 
</I>&gt;&gt;<i> all. jo is not. 
</I>&gt;<i>  the swap fail   another very very bad bug  it happen that yesterday i got
</I>&gt;<i> almost evry object scrooling one after the other with swap fail
</I>
How did that happen?

I've been trying to figure out how it happens for the last year or so.
Apparently everybody (all three of you...) but not me can see it happening.

The proxies I manage do not have it happen, and I can't seem to force it
to happen either unless I unmount or delete the HDD cache directories
while Squid is still running - which is when SWAPFAIL is the expected
working beaviour.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007536.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
	<LI>Next message (by thread): <A HREF="007542.html">[squid-users] TCP_REFRESH_MODIFIED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7541">[ date ]</a>
              <a href="thread.html#7541">[ thread ]</a>
              <a href="subject.html#7541">[ subject ]</a>
              <a href="author.html#7541">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
