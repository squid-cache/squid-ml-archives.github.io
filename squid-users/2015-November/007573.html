<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] caching issues - caching traffic from another proxy, and caching https traffic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20issues%20-%20caching%20traffic%20from%20another%0A%20proxy%2C%20and%20caching%20https%20traffic&In-Reply-To=%3CCAEKmLn9W5zCEXjH79RPpvO-7jCqdYv5_yq0WGfddxb-95L89Fw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007572.html">
   <LINK REL="Next"  HREF="007575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] caching issues - caching traffic from another proxy, and caching https traffic</H1>
    <B>John Smith</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20issues%20-%20caching%20traffic%20from%20another%0A%20proxy%2C%20and%20caching%20https%20traffic&In-Reply-To=%3CCAEKmLn9W5zCEXjH79RPpvO-7jCqdYv5_yq0WGfddxb-95L89Fw%40mail.gmail.com%3E"
       TITLE="[squid-users] caching issues - caching traffic from another proxy, and caching https traffic">burnncrashnow at gmail.com
       </A><BR>
    <I>Thu Nov  5 15:47:01 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007572.html">[squid-users] caching issues - caching traffic from another proxy, and caching https traffic
</A></li>
        <LI>Next message (by thread): <A HREF="007575.html">[squid-users] caching issues - caching traffic from another proxy, and caching https traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7573">[ date ]</a>
              <a href="thread.html#7573">[ thread ]</a>
              <a href="subject.html#7573">[ subject ]</a>
              <a href="author.html#7573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos,

Thanks (again) very much for the reply.
The news does not surprise me at all, but I needed to ask the questions.

Let's assume I could require a different port for http and https, and
cleaned up the squid configurations like we did privately for http.  How
hard would it be to solve either caching problem at that point?  Would that
solve problem #1 without taking any further action?  At that point, how
hard would it be to implement ssl-bump?

Thanks,
John


On Thu, Nov 5, 2015 at 7:31 AM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> On 5/11/2015 7:16 a.m., John Smith wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm trying to improve our cache hit ratio.  We have a fairly complicated
</I>&gt;<i> &gt; layer of squid 3.10 proxies as previously detailed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Problem 1.  Some of the traffic is identified by domain to go to another
</I>&gt;<i> &gt; layer of proxies.  I've called this proxy otherl1proxy in the squid.conf
</I>&gt;<i> &gt; below.  I've noticed that this traffic is not cached at all on either set
</I>&gt;<i> &gt; of proxies.   I'd like it cached at the top layer if possible because
</I>&gt;<i> these
</I>&gt;<i> &gt; will be the largest servers with the largest caches.  I've removed
</I>&gt;<i> &gt; 'originserver' from the squid.conf to test but that didn't seem to help.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Problem 2.  We are not caching any https traffic.  Is it possible to
</I>&gt;<i> cache
</I>&gt;<i> &gt; https traffic, and if so how would one do it?  As many websites are
</I>&gt;<i> moving
</I>&gt;<i> &gt; towards https for all traffic this lowers the effectiveness of cache...
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Hi John,
</I>&gt;<i>
</I>&gt;<i> Sorry to be the bearer of bad news. But problem #1 is another side
</I>&gt;<i> effect of the ELB situation. These will also come right back to the same
</I>&gt;<i> ELB problems, and the same multiple-ports solution.
</I>&gt;<i>
</I>&gt;<i> Every time you get that NAT failure message from the last issue we
</I>&gt;<i> discussed, the requests in that connection will not be cacheable.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As for #2, there is SSL-bump feature in Squid. But for your current
</I>&gt;<i> configuration it would be extremely painful to deal with.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151105/2f107688/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151105/2f107688/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007572.html">[squid-users] caching issues - caching traffic from another proxy, and caching https traffic
</A></li>
	<LI>Next message (by thread): <A HREF="007575.html">[squid-users] caching issues - caching traffic from another proxy, and caching https traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7573">[ date ]</a>
              <a href="thread.html#7573">[ thread ]</a>
              <a href="subject.html#7573">[ subject ]</a>
              <a href="author.html#7573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
