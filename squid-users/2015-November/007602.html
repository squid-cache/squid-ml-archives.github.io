<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd: Re: HTTP 503 error in squid proxy server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Re%3A%20HTTP%20503%20error%20in%20squid%20proxy%20server&In-Reply-To=%3C563E0E66.5020800%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007599.html">
   <LINK REL="Next"  HREF="007604.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd: Re: HTTP 503 error in squid proxy server</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Re%3A%20HTTP%20503%20error%20in%20squid%20proxy%20server&In-Reply-To=%3C563E0E66.5020800%40treenet.co.nz%3E"
       TITLE="[squid-users] Fwd: Re: HTTP 503 error in squid proxy server">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Nov  7 14:44:54 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007599.html">[squid-users] Fwd: Re:  HTTP 503 error in squid proxy server
</A></li>
        <LI>Next message (by thread): <A HREF="007604.html">[squid-users] Fwd: Re: HTTP 503 error in squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;<i> On Saturday 07 November 2015 at 09:30:04, &#32865;&#21496;&#34541;&#30000; wrote:
</I>&gt;&gt;&gt;&gt;<i> Dear
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have question about HTTPS communication through Squid Proxy Server.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> HTTP 503 error frequency occurs.
</I>&gt;&gt;&gt;&gt;<i> 10.xx.xx.xx - - [01/Nov/2015:03:44:33 +0900] &quot;CONNECT
</I>&gt;&gt;&gt;<i> xxxx.xxxx.xxx.io:443
</I>&gt;&gt;&gt;&gt;<i> HTTP/1.1&quot; 503 0 &quot;-&quot; &quot;Javaa/1.7.0_71&quot; TCP_MISS:DIRECT
</I>&gt;&gt;&gt;&gt;<i> xxxx.xxxx.xxx.io:443 is ELB (Internet-Facing Load Balancer) DNS name.
</I>&gt;&gt;&gt;<i>
</I>
Hold up.

Squid is being instructed to open a TCP connection from itself to
xxxx.xxxx.xxx.io and deliver the contents that follow the CONNECT
message there.


If xxxx.xxxx.xxx.io is the ELB, what do you expect will happen when
Squid obeys?

The short answer is &quot;Forwarding Loop&quot;, eventually the cycle of
ELB-&gt;Squid-&gt;ELB-&gt;Squid ... ends up going through one of the Squid it has
already passed through which kills the loop with a 503.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007599.html">[squid-users] Fwd: Re:  HTTP 503 error in squid proxy server
</A></li>
	<LI>Next message (by thread): <A HREF="007604.html">[squid-users] Fwd: Re: HTTP 503 error in squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
