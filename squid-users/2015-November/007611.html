<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 4.0.2: ALE missing URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%204.0.2%3A%20ALE%20missing%20URL&In-Reply-To=%3C563FD33E.6020107%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007603.html">
   <LINK REL="Next"  HREF="007594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 4.0.2: ALE missing URL</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%204.0.2%3A%20ALE%20missing%20URL&In-Reply-To=%3C563FD33E.6020107%40treenet.co.nz%3E"
       TITLE="[squid-users] 4.0.2: ALE missing URL">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Nov  8 22:57:02 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007603.html">[squid-users] 4.0.2: ALE missing URL
</A></li>
        <LI>Next message (by thread): <A HREF="007594.html">[squid-users] HTTP 503 error in squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7611">[ date ]</a>
              <a href="thread.html#7611">[ thread ]</a>
              <a href="subject.html#7611">[ subject ]</a>
              <a href="author.html#7611">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/11/2015 12:03 p.m., David Touzeau wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Le 07/11/2015 15:07, Amos Jeffries a &#233;crit :
</I>&gt;&gt;<i> On 7/11/2015 11:55 p.m., David Touzeau wrote:
</I>&gt;&gt;&gt;<i> Hi Alex,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I'm using extra token %&gt;ha{X-Forwarded-For} in helper configuration
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is it help ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> Where you are using that ACL is also needed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;<i> 
</I>&gt;<i> Using as this:
</I>&gt;<i> external_acl_type ArticaRestrictAccess  ttl=360 negative_ttl=360
</I>&gt;<i> children-startup=1 children-idle=1 children-max=5 ipv4 %SRC %SRCEUI48
</I>&gt;<i> %&gt;ha{X-Forwarded-For}
</I>&gt;<i> /usr/share/artica-postfix/external_acl_restrict_access.php
</I>&gt;<i> acl ArticaRestrictAccess external ArticaRestrictAccess
</I>&gt;<i> 
</I>&gt;<i> external_acl_type MacToUid  ttl=360 negative_ttl=360 children-startup=1
</I>&gt;<i> children-idle=1 children-max=5 ipv4 %SRC %SRCEUI48 %&gt;ha{X-Forwarded-For}
</I>&gt;<i> /usr/share/artica-postfix/external_acl_usersMacs.php --mactouid
</I>&gt;<i> acl MacToUid_acl external MacToUid
</I>&gt;<i> 
</I>
Sorry I should have been clearer. The critical info there includes all
the access control lines where the ACLs are tested.

The problem is not the token being used, but that the object apparently
tracking transaction state has not been updated early enough with the
state even though it would be available some other way.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007603.html">[squid-users] 4.0.2: ALE missing URL
</A></li>
	<LI>Next message (by thread): <A HREF="007594.html">[squid-users] HTTP 503 error in squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7611">[ date ]</a>
              <a href="thread.html#7611">[ thread ]</a>
              <a href="subject.html#7611">[ subject ]</a>
              <a href="author.html#7611">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
