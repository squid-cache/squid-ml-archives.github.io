<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid module to &quot;simulate&quot; CONNECT setup to	facilitate intercepted https
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20module%20to%20%22simulate%22%20CONNECT%20setup%20to%0A%09facilitate%20intercepted%20https&In-Reply-To=%3CCA%2BffBu4jr%3D-6Rmpavz83jeD4eDb3rNn7iSQ%2BUuJ0wEyABKOJxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007615.html">
   <LINK REL="Next"  HREF="007621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid module to &quot;simulate&quot; CONNECT setup to	facilitate intercepted https</H1>
    <B>Mark Carey</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20module%20to%20%22simulate%22%20CONNECT%20setup%20to%0A%09facilitate%20intercepted%20https&In-Reply-To=%3CCA%2BffBu4jr%3D-6Rmpavz83jeD4eDb3rNn7iSQ%2BUuJ0wEyABKOJxQ%40mail.gmail.com%3E"
       TITLE="[squid-users] squid module to &quot;simulate&quot; CONNECT setup to	facilitate intercepted https">mark.carey at gmail.com
       </A><BR>
    <I>Mon Nov  9 06:33:59 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007615.html">[squid-users] [squid-announce] Squid 4.0.2 beta is available
</A></li>
        <LI>Next message (by thread): <A HREF="007621.html">[squid-users] squid module to &quot;simulate&quot; CONNECT setup to facilitate intercepted https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7616">[ date ]</a>
              <a href="thread.html#7616">[ thread ]</a>
              <a href="subject.html#7616">[ subject ]</a>
              <a href="author.html#7616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Squid has some great features for traffic managament policy and accounting.

The web is moving more and more to https which negates squids
advantages in caching.  I know that squid can not transparently proxy
https - i've run squid in intercept mode and pointed https traffic at
it and watched the rubbish that fills the logs.

Squid remains a great platform for centralising site policy in regards
to access and accounting for web traffic (even if it is only total
bytes to/from a host).  Replicating such policy is a pain in the
backside (try using iptables for domain wide rules, or reliable user
agent matching).

What I am interested in is whether there is or ever was a squid module that;

1. is suitable for running in intercept mode

2. maintains a list of active https connections

3. checks the acls to see if access is permitted, to the extent
permitted by https, so some checks would need to pass through lack of
sufficient information

4. when a new https connection is intercepted (internally fakes the
setup of a CONNECT tunnel)

5. if permitted and a suitable CONNECT tunnel exists shovels bits back
and forward like a traditional non intercepted proxy

6. if not returns icmp host unreachable

7. accounts for traffic in the same way as squid would in a configured
proxy setup

Has anyone tried this?  Or is the answer download the source and
patches welcome?

Thank you.

Mark Carey

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007615.html">[squid-users] [squid-announce] Squid 4.0.2 beta is available
</A></li>
	<LI>Next message (by thread): <A HREF="007621.html">[squid-users] squid module to &quot;simulate&quot; CONNECT setup to facilitate intercepted https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7616">[ date ]</a>
              <a href="thread.html#7616">[ thread ]</a>
              <a href="subject.html#7616">[ subject ]</a>
              <a href="author.html#7616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
