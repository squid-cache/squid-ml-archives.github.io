<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] logging to syslog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20logging%20to%20syslog&In-Reply-To=%3C2F3AADF230295040BDC74C6F96094F3D0225A19E%40SRVEXAFA.verwaltung.afa-ag.loc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007674.html">
   <LINK REL="Next"  HREF="007669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] logging to syslog</H1>
    <B>Sebastian Kirschner</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20logging%20to%20syslog&In-Reply-To=%3C2F3AADF230295040BDC74C6F96094F3D0225A19E%40SRVEXAFA.verwaltung.afa-ag.loc%3E"
       TITLE="[squid-users] logging to syslog">s.kirschner at afa-finanz.de
       </A><BR>
    <I>Wed Nov 11 12:55:37 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007674.html">[squid-users] logging to syslog
</A></li>
        <LI>Next message (by thread): <A HREF="007669.html">[squid-users] logging to syslog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7667">[ date ]</a>
              <a href="thread.html#7667">[ thread ]</a>
              <a href="subject.html#7667">[ subject ]</a>
              <a href="author.html#7667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Avraham,

1. Please do not contact me direct, use the Mailing List.

I read the sentences you wrote to me again,
do you really want that squid logs the things that would go in access.log to your /var/log/syslog (default debian path),
or do you just want to see what is written in the access.log.

For Changing the location/ way that squid log the access entries read 2. , if not the default
path of the access log is /usr/local/squid/var/logs/access.log. 

2. As you could see what Yuri Voinov wrote
&gt;<i> #  
</I>&gt;<i>#    udp    To send each log line as text data to a UDP receiver.
</I>&gt;<i>#        Place: The destination host name or IP and port.
</I>&gt;<i>#        Place Format:   //host:port
</I>&gt;<i>#
</I>&gt;<i>#    tcp    To send each log line as text data to a TCP receiver.
</I>&gt;<i>#        Lines may be accumulated before sending (see buffered_logs).
</I>&gt;<i>#        Place: The destination host name or IP and port.
</I>&gt;<i>#        Place Format:   //host:port
</I>&gt;<i>#
</I>&gt;<i>#    Default:
</I>&gt;<i>#        access_log daemon:/var/log/squid/access.log squid
</I>&gt;<i>#Default:
</I>&gt;<i># access_log daemon:/var/log/squid/access.log squid
</I>
These is snipped from the squid configuration documents on squid page (<A HREF="http://www.squid-cache.org/Doc/config/access_log/">http://www.squid-cache.org/Doc/config/access_log/</A>).

You could try ( I didn&#8217;t do it before) to use syslog as module and insert it in your squid.conf

Best Regards
Sebastian


Von: Avraham Serour [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">tovmeod at gmail.com</A>] 
Gesendet: Mittwoch, 11. November 2015 11:48
An: Sebastian Kirschner
Betreff: Re: [squid-users] logging to syslog

I'm actually using rsyslog, it comes with ubuntu
in any case my conf for now is:

template(name=&quot;lesquid_accessFormat&quot; type=&quot;string&quot; string=&quot;programname=%programname% %msg%\n&quot;)
action(type=&quot;omfile&quot; dirCreateMode=&quot;0700&quot; FileCreateMode=&quot;0644&quot;
   File=&quot;/var/log/messages&quot; template=&quot;lesquid_accessFormat&quot;)

then I tail the /var/log/messages file and check what happens when I make a request using the proxy

On Wed, Nov 11, 2015 at 12:09 PM, Avraham Serour &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">tovmeod at gmail.com</A>&gt; wrote:
so where should the symlink should be? what is the default unix socket path that squid tried to use?

On Wed, Nov 11, 2015 at 10:11 AM, Sebastian Kirschner &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">s.kirschner at afa-finanz.de</A>&gt; wrote:
Hi Avraham,

I think it wouldnt be a good idea to just create a symlink because squid (or the user under which squid runs) then must have access to the syslog,
and if your squid instance get compromised the the syslog is open to read for these one.

Best Regards
Sebastian
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007674.html">[squid-users] logging to syslog
</A></li>
	<LI>Next message (by thread): <A HREF="007669.html">[squid-users] logging to syslog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7667">[ date ]</a>
              <a href="thread.html#7667">[ thread ]</a>
              <a href="subject.html#7667">[ subject ]</a>
              <a href="author.html#7667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
