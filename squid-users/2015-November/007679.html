<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Pass client DNS requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Pass%20client%20DNS%20requests&In-Reply-To=%3C56436FA7.8090002%40afo.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007678.html">
   <LINK REL="Next"  HREF="007652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Pass client DNS requests</H1>
    <B>Mike</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Pass%20client%20DNS%20requests&In-Reply-To=%3C56436FA7.8090002%40afo.net%3E"
       TITLE="[squid-users] Pass client DNS requests">mcsnv96 at afo.net
       </A><BR>
    <I>Wed Nov 11 16:41:11 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007678.html">[squid-users] Pass client DNS requests
</A></li>
        <LI>Next message (by thread): <A HREF="007652.html">[squid-users] YouTube Resolution Locker Plugin for Squid Proxy	Cache 3.5.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7679">[ date ]</a>
              <a href="thread.html#7679">[ thread ]</a>
              <a href="subject.html#7679">[ subject ]</a>
              <a href="author.html#7679">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/11/2015 8:52 AM, Matus UHLAR - fantomas wrote:
&gt;<i> On 10.11.15 17:03, Patrick Flaherty wrote:
</I>&gt;&gt;<i> Again I'm fairly new to Squid but loving it. We enforce only certain 
</I>&gt;&gt;<i> domains
</I>&gt;&gt;<i> be accessible via the whitelist directive. Is there a way to pass DNS
</I>&gt;&gt;<i> requests through the proxy for resolution? We are currently using 
</I>&gt;&gt;<i> Windows
</I>&gt;&gt;<i> host entries. L
</I>&gt;<i>
</I>&gt;<i> no. Squid is a HTTP proxy. it's not a DNS proxy.
</I>&gt;<i> use DNS server or DNS proxy for that.
</I>&gt;<i>
</I>Squid cannot, but you can use an external DNS server, either at the same 
location or elsewhere.
You can setup another server (or two) with your own DNS (we use PowerDNS 
or pDNS), and then add the entry in squid.conf to use that DNS server. 
We have several setup this way.

The squid.conf entry would be like this:

dns_nameservers 11.22.33.44 11.22.33.45

Then on the DNS server just create entries for rerouted or blocked 
sites. I would suggest looking at the powerdns groups and mailing list 
for more details on this.

Mike


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007678.html">[squid-users] Pass client DNS requests
</A></li>
	<LI>Next message (by thread): <A HREF="007652.html">[squid-users] YouTube Resolution Locker Plugin for Squid Proxy	Cache 3.5.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7679">[ date ]</a>
              <a href="thread.html#7679">[ thread ]</a>
              <a href="subject.html#7679">[ subject ]</a>
              <a href="author.html#7679">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
