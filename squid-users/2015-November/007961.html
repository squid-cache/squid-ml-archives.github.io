<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C5654FE9F.3080600%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007958.html">
   <LINK REL="Next"  HREF="007963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C5654FE9F.3080600%40treenet.co.nz%3E"
       TITLE="[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov 25 00:19:43 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007958.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
        <LI>Next message (by thread): <A HREF="007963.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7961">[ date ]</a>
              <a href="thread.html#7961">[ thread ]</a>
              <a href="subject.html#7961">[ subject ]</a>
              <a href="author.html#7961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/11/2015 12:20 p.m., Dan Charlesworth wrote:
&gt;<i> Thanks for the perspective on this, folks.
</I>&gt;<i> 
</I>&gt;<i> Going back to the technical stuff&#8212;and this isn&#8217;t really a squid thing&#8212;but is there any way I can minimise this using my DNS server? 
</I>&gt;<i> 
</I>&gt;<i> Can I force my local DNS to only ever return 1 address from the pool on a hostname I&#8217;m having trouble with?
</I>
That depends on your resolver, but I doubt it.

The DNS setup I mentioned in my last email to this thread is all I'm
aware of that gets even close to a fix.

Note that you may have to intercept clients port 53 traffic (both UDP
and TCP) to the resolver. That has implications with DNSSEC but should
still work as long as you do not alter the DNS responses, the resolver
is just there to ensure the same result goes to both querying parties.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007958.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
	<LI>Next message (by thread): <A HREF="007963.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7961">[ date ]</a>
              <a href="thread.html#7961">[ thread ]</a>
              <a href="subject.html#7961">[ subject ]</a>
              <a href="author.html#7961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
