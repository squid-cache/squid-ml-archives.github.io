<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid memory leak on ubuntu 14.04
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20memory%20leak%20on%20ubuntu%2014.04&In-Reply-To=%3C565C0EFE.40904%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008031.html">
   <LINK REL="Next"  HREF="008006.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid memory leak on ubuntu 14.04</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20memory%20leak%20on%20ubuntu%2014.04&In-Reply-To=%3C565C0EFE.40904%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid memory leak on ubuntu 14.04">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Nov 30 08:55:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008031.html">[squid-users] Squid memory leak on ubuntu 14.04
</A></li>
        <LI>Next message (by thread): <A HREF="008006.html">[squid-users] Issue when accessing a web page on an Apache Server with authentification.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8032">[ date ]</a>
              <a href="thread.html#8032">[ thread ]</a>
              <a href="subject.html#8032">[ subject ]</a>
              <a href="author.html#8032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/11/2015 9:31 p.m., &#39118;&#22768; wrote:
&gt;<i> We did not enable squid cache, so I think memory is ok for our case, and we
</I>&gt;<i> run squid servers (without cache, without cache cluster, just as forward
</I>&gt;<i> proxy) more than 100 servers more than 1 years in AWS serveral regions with
</I>&gt;<i> EC2 c3.xlarge on ubuntu 12.04. It was always running well.
</I>&gt;<i> 
</I>&gt;<i> Just after upgrade ubuntu 14.04, we found the memory usage increased.
</I>&gt;<i> 
</I>&gt;<i> Server Spec: AWS EC2 c3.xlarge (4 Cores, 7.5GB Memory, 2 x 40 GB SSD)
</I>&gt;<i> 
</I>&gt;<i> Before upgrade:
</I>&gt;<i> 
</I>&gt;<i> 12.04:
</I>&gt;<i> Memory usage is always less than 50% (3.5GB), will increase or decrease
</I>&gt;<i> because traffic changes
</I>&gt;<i> CPU is very low, same as Disk IO, B/W (In or Out) is 500Mb/s at most, is
</I>&gt;<i> around 200Mb/s most of time.
</I>&gt;<i> 
</I>&gt;<i> 14:04
</I>&gt;<i> Memory usage is about 80-90 % (nearly 7GB), will increase , but it decrease
</I>&gt;<i> very slow, and always keeping more than 50% (3.5GB),
</I>&gt;<i> CPU is very low, same as Disk IO, B/W (In or Out) is 500Mb/s at most, is
</I>&gt;<i> around 200Mb/s most of time.
</I>&gt;<i> 
</I>&gt;<i> I tested with squid-3.3.8 (ubuntu offical packages), and squid-3.5.11 on
</I>&gt;<i> 12.04 and 14.04, I think it is most likely ubuntu related issue ? because
</I>&gt;<i> same version, same configs, but different OS versions.
</I>
Most likely. Though a whole OS of difference has many moving parts. By
keeping Squid the same you have eliminated it specifically as the cause.
But all the libraries it uses will be different in each OS.

If there was a 32-bit to 64-bit change in the hardware or memory
allocation system you could also see this same change.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008031.html">[squid-users] Squid memory leak on ubuntu 14.04
</A></li>
	<LI>Next message (by thread): <A HREF="008006.html">[squid-users] Issue when accessing a web page on an Apache Server with authentification.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8032">[ date ]</a>
              <a href="thread.html#8032">[ thread ]</a>
              <a href="subject.html#8032">[ subject ]</a>
              <a href="author.html#8032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
