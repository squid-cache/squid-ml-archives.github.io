<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 2 way SSL on a non standard SSL Port
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%202%20way%20SSL%20on%20a%20non%20standard%20SSL%20Port&In-Reply-To=%3CCAMxDymd5OQyqSTsYB2qCUqf04kTWpnEV4mve5NjnPrzXy8P4sw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008049.html">
   <LINK REL="Next"  HREF="008051.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 2 way SSL on a non standard SSL Port</H1>
    <B>Bart Spedden</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%202%20way%20SSL%20on%20a%20non%20standard%20SSL%20Port&In-Reply-To=%3CCAMxDymd5OQyqSTsYB2qCUqf04kTWpnEV4mve5NjnPrzXy8P4sw%40mail.gmail.com%3E"
       TITLE="[squid-users] 2 way SSL on a non standard SSL Port">bart.spedden at 3sharecorp.com
       </A><BR>
    <I>Mon Nov 30 17:53:54 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008049.html">[squid-users] 2 way SSL on a non standard SSL Port
</A></li>
        <LI>Next message (by thread): <A HREF="008051.html">[squid-users] 2 way SSL on a non standard SSL Port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8050">[ date ]</a>
              <a href="thread.html#8050">[ thread ]</a>
              <a href="subject.html#8050">[ subject ]</a>
              <a href="author.html#8050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I can successfully connect as long as I don't use squid for either 1 way or
2 way TLS connections. I've also successfully connect via curl. So, I feel
like the site's certs are working well. I could be totally off base here
but my interpretation of the the 503 (service unavailable) is that squid is
timing out on tls handshake? But what is weird is that when using squid I
can successfully connect to google using https. So, that is what makes me
wonder if it has something to do with the non-standard https port?

On Mon, Nov 30, 2015 at 10:44 AM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
wrote:

&gt;<i> It seems like the issue is not in the basic access control but rather in
</I>&gt;<i> the TCP level.
</I>&gt;<i> a 503 means some kind of network errors in most cases.
</I>&gt;<i> Have you tried contacting the site\ip using netcat or openssl -sa ?
</I>&gt;<i>
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 30/11/2015 19:40, Bart Spedden wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Well, interestingly, it seems like the install from the rpm worked.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> squid -v
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Squid Cache: Version 3.5.11
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, I still see the same error. I also tried the following
</I>&gt;&gt;<i> configuration thinking that it would allow ssl on any port and I still the
</I>&gt;&gt;<i> same error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #http_access deny CONNECT !SSL_ports
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, maybe the problem has nothing to do with the non-standard SSL port?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also, Here's the actual error that I'm seeing:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> TAG_NONE/503 0 CONNECT
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Bart Spedden  |  Senior Developer
+1.720.210.7041  |
*<A HREF="https://lists.squid-cache.org/listinfo/squid-users">bart.spedden at 3sharecorp.com</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">bart.spedden at 3sharecorp.com</A>&gt;*
3 | S H A R E  |  Adobe Digital Marketing Experts  |  An Adobe&#174;  Business
Plus Level Solution PartnerConsulting  |  Training  |  Remote Operations
Management
&lt;<A HREF="http://www.3sharecorp.com/en/services/rom.html">http://www.3sharecorp.com/en/services/rom.html</A>&gt;
&lt;<A HREF="http://www.3sharecorp.com/en/services/rom.html">http://www.3sharecorp.com/en/services/rom.html</A>&gt;
&lt;<A HREF="http://www.3sharecorp.com/en/services/rom.html">http://www.3sharecorp.com/en/services/rom.html</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151130/98517e38/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151130/98517e38/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rom-email-sig4_600x100.png
Type: image/png
Size: 16361 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151130/98517e38/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151130/98517e38/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008049.html">[squid-users] 2 way SSL on a non standard SSL Port
</A></li>
	<LI>Next message (by thread): <A HREF="008051.html">[squid-users] 2 way SSL on a non standard SSL Port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8050">[ date ]</a>
              <a href="thread.html#8050">[ thread ]</a>
              <a href="subject.html#8050">[ subject ]</a>
              <a href="author.html#8050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
