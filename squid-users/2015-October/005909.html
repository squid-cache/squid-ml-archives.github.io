<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Reverse proxy caching from SSL cache_peer depending on urlpath_regex
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Reverse%20proxy%20caching%20from%20SSL%20cache_peer%20depending%0A%20on%20urlpath_regex&In-Reply-To=%3C1444344120580-4673627.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005907.html">
   <LINK REL="Next"  HREF="005910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Reverse proxy caching from SSL cache_peer depending on urlpath_regex</H1>
    <B>Manuel</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Reverse%20proxy%20caching%20from%20SSL%20cache_peer%20depending%0A%20on%20urlpath_regex&In-Reply-To=%3C1444344120580-4673627.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Reverse proxy caching from SSL cache_peer depending on urlpath_regex">manuelfgarcia at reconmail.com
       </A><BR>
    <I>Thu Oct  8 22:42:00 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005907.html">[squid-users] SSL Bump and error 14090086
</A></li>
        <LI>Next message (by thread): <A HREF="005910.html">[squid-users] Reverse proxy caching from SSL cache_peer depending on urlpath_regex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5909">[ date ]</a>
              <a href="thread.html#5909">[ thread ]</a>
              <a href="subject.html#5909">[ subject ]</a>
              <a href="author.html#5909">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am thinking about the idea of using Squid as a reverse proxy on https
(also on http), doing some caching and connecting to a SSL cache_peer and a
non SSL cache_peer depending on the address (e.g. login related addresses
would use the SSL cache_peer).

The goal is to make faster the browsing experience of the website by not
encrypting and decrypting on both the reverse proxy and the webserver
requests that do not need to be secured on the reverse proxy-webserver side.
Of course this could be done too on part of the server-client connections
but it would give a lot of problems such as web browsers alerts changing
from HTTPS to HTTP, similar alerts because of partial content on HTTPS, HTTP
would be worse for SEO too, safety risks sending login POST data from HTTP
to HTTPS, etc.

This approach makes me wonder the following questions and I would like to
confirm my thoughts:

- Can squid acting as a reverse proxy deal with caching with SSL similar
than it can do it without SSL? In any combination https_port accel and
cache_peer ssl; https_port accel and cache_peer (not ssl); http_port accel
and cache_peer ssl; http_port and cache_peer (not ssl)?

My understanding is that, yes, it can do it and that Squid get the content
from the cache_peer (encrypted if ssl), decrypt it if encrypted and store it
always not encrypted. Am I right?

- Can Squid use a SSL cache_peer just for specific addresses of the same
website/domain and a non SSL cache_peer for the rest of the addresses on the
same website/domain?

My understanding is that such a thing would be possible setting those two
different named cache_peers, one on port 443 with the ssl option and the
other on port 80; and then using acl urlpath_regex to choose what cache_peer
to use. Is that correct?

Cheers



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Reverse-proxy-caching-from-SSL-cache-peer-depending-on-urlpath-regex-tp4673627.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Reverse-proxy-caching-from-SSL-cache-peer-depending-on-urlpath-regex-tp4673627.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005907.html">[squid-users] SSL Bump and error 14090086
</A></li>
	<LI>Next message (by thread): <A HREF="005910.html">[squid-users] Reverse proxy caching from SSL cache_peer depending on urlpath_regex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5909">[ date ]</a>
              <a href="thread.html#5909">[ thread ]</a>
              <a href="subject.html#5909">[ subject ]</a>
              <a href="author.html#5909">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
