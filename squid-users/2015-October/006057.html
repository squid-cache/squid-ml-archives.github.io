<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Frequent messages from helperHandleRead
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Frequent%20messages%20from%20helperHandleRead&In-Reply-To=%3C5625CF0B.3030705%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006039.html">
   <LINK REL="Next"  HREF="006126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Frequent messages from helperHandleRead</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Frequent%20messages%20from%20helperHandleRead&In-Reply-To=%3C5625CF0B.3030705%40treenet.co.nz%3E"
       TITLE="[squid-users] Frequent messages from helperHandleRead">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Oct 20 05:20:11 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006039.html">[squid-users] Frequent messages from helperHandleRead
</A></li>
        <LI>Next message (by thread): <A HREF="006126.html">[squid-users] Frequent messages from helperHandleRead
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6057">[ date ]</a>
              <a href="thread.html#6057">[ thread ]</a>
              <a href="subject.html#6057">[ subject ]</a>
              <a href="author.html#6057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/10/2015 3:47 a.m., Carlo Filippetto wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I can find several messages on 'cache.log&quot; file with this message:
</I>&gt;<i> 
</I>&gt;<i> 2015/10/19 16:42:54 kid1| helperHandleRead: unexpected read from redirector
</I>&gt;<i> #Hlpr2, 1 bytes '
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I search somenthing on the web, but I can't understand if this a problem or
</I>&gt;<i> is only a warnig.
</I>&gt;<i> 
</I>&gt;<i> What I have to do?
</I>
Fix the helper. It is sending garbage output back to Squid. Which is
sometimes being treated as (wrong) responses to waiting lookups, and
sometimes logged as you can see when there are no waiting lookups to
corrupt.

Despite the lack of wording it is an error. And a rather serious one
that corrupts the security operations you are expecting the helper to
perform for many transactions.


&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> CentOS release 6.4 (Final) - x86_64
</I>&gt;<i> Squid Cache: Version 3.5.2
</I>&gt;<i> SquidGuard: 1.4
</I>&gt;<i> 
</I>
SG is outdated software and no longer being maintained. There are some
patches it needs to have applied to talk with Squid 3.4 or later.

Or you can move to a helper like ufdbguard which is still maintained.

Or you could move your SG rules into squid.conf, where most of them
should have been to begin with. That will speed traffic up by not having
to wait for helper lookups.



PS. please upgrade your Squid version too. 3.5.10 is the current release
and has several serious bugs and security issues fixed.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006039.html">[squid-users] Frequent messages from helperHandleRead
</A></li>
	<LI>Next message (by thread): <A HREF="006126.html">[squid-users] Frequent messages from helperHandleRead
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6057">[ date ]</a>
              <a href="thread.html#6057">[ thread ]</a>
              <a href="subject.html#6057">[ subject ]</a>
              <a href="author.html#6057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
