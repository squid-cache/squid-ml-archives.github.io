<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid/NTLM Auth
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid/NTLM%20Auth&In-Reply-To=%3Cb61d22509f934b0da363009c5c6f5e29%40de36s02aexc02.ucc.merckgroup.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006121.html">
   <LINK REL="Next"  HREF="006120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid/NTLM Auth</H1>
    <B>Keith White</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid/NTLM%20Auth&In-Reply-To=%3Cb61d22509f934b0da363009c5c6f5e29%40de36s02aexc02.ucc.merckgroup.com%3E"
       TITLE="[squid-users] Squid/NTLM Auth">keith.white at emdmillipore.com
       </A><BR>
    <I>Wed Oct 21 19:21:45 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006121.html">[squid-users] How can I change the Squid logo on an access denied page.
</A></li>
        <LI>Next message (by thread): <A HREF="006120.html">[squid-users] Squid/NTLM Auth
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6097">[ date ]</a>
              <a href="thread.html#6097">[ thread ]</a>
              <a href="subject.html#6097">[ subject ]</a>
              <a href="author.html#6097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have squid running on Centos 7 and am trying to setup AD authentication.  I have samba/winbindd installed and the system was added to the domain with authconfig.  I have tested authentication with auth_ntlm and that works. I have also tested group membership with auth_ntlm and that works as well.  When attempting to access squid with either IE or Firefox I am presented with the authentication dialog box.  Manually entering credentials does not work.  What debugging can I enable to see what is going on?  Squid is built with the following

Squid Cache: Version 3.5.9-20150917-r13917
Service Name: squid
configure options:  '--prefix=/usr' '--includedir=/usr/include' '--datadir=/usr/share' '--bindir=/usr/sbin' '--libexecdir=/usr/lib/squid' '--localstatedir=/varsquid' '--sysconfdir=/etc/squid' '--enable-auth' '--enable-auth-ntlm' '--enable-external-acl-helpers' '--enable-auth-negotiate' '--enable-auth-basic' '--enable-auth-digest'


relevant section from squid.conf

auth_param ntlm program /usr/bin/ntlm_auth --diagnostics --helper-protocol=squid-2.5-ntlmssp
auth_param ntlm children 5
auth_param ntlm keep_alive on
auth_param basic program /usr/bin/ntlm_auth --diagnostics --helper-protocol=squid-2.5-basic
auth_param basic children 5
auth_param basic realm Squid proxy-caching web server
auth_param basic credentialsttl 2 hours

acl AuthorizedUsers proxy_auth REQUIRED
http_access allow localnet
http_access allow AuthorizedUsers
http_access allow localhost


Thanks,

Keith





This message and any attachment are confidential and may be privileged or otherwise protected from disclosure. If you are not the intended recipient, you must not copy this message or attachment or disclose the contents to any other person. If you have received this transmission in error, please notify the sender immediately and delete the message and any attachment from your system. Merck KGaA, Darmstadt, Germany and any of its subsidiaries do not accept liability for any omissions or errors in this message which may arise as a result of E-Mail-transmission or for damages resulting from any unauthorized changes of the content of this message and any attachment thereto. Merck KGaA, Darmstadt, Germany and any of its subsidiaries do not guarantee that this message is free of viruses and does not accept liability for any damages caused by any virus transmitted therewith.



Click <A HREF="http://www.merckgroup.com/disclaimer">http://www.merckgroup.com/disclaimer</A> to access the German, French, Spanish and Portuguese versions of this disclaimer.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151021/d3c63b4c/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151021/d3c63b4c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006121.html">[squid-users] How can I change the Squid logo on an access denied page.
</A></li>
	<LI>Next message (by thread): <A HREF="006120.html">[squid-users] Squid/NTLM Auth
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6097">[ date ]</a>
              <a href="thread.html#6097">[ thread ]</a>
              <a href="subject.html#6097">[ subject ]</a>
              <a href="author.html#6097">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
