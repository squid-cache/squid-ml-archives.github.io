<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C5628B349.6060103%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006082.html">
   <LINK REL="Next"  HREF="006129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C5628B349.6060103%40treenet.co.nz%3E"
       TITLE="[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct 22 09:58:33 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006082.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
        <LI>Next message (by thread): <A HREF="006129.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6128">[ date ]</a>
              <a href="thread.html#6128">[ thread ]</a>
              <a href="subject.html#6128">[ subject ]</a>
              <a href="author.html#6128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/10/2015 4:53 p.m., Dan Charlesworth wrote:
&gt;<i> I&#8217;m getting these very frequently for api.github.com and github.com
</I>&gt;<i> 
</I>&gt;<i> I&#8217;m using the same DNS servers as my intercepting squid 3.5.10 proxy and they only return the one IP when I do an nslookup as well &#8230;
</I>&gt;<i> 
</I>&gt;<i> Any updates from your end, Roel?
</I>

I just did a quick test of api.github.com and what I'm seeing is only
one IP at a time being delivered. BUT that IP is showing signs of being
geo-DNS based result and also has a 60 second TTL.

So ... when using the Google &quot;free&quot; DNS service it changes IP number
almost every second. Based on which of the Google servers you happen to
be working through with that particular request.

You can watch it cycling if you like:
 watch dig A api.github.com @8.8.8.8


You could run a local bind server and redirect UDP port 53 requests from
clients to it so they stop using 8.8.8.8 etc and start using a DNS like
its supposed to work.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006082.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
	<LI>Next message (by thread): <A HREF="006129.html">[squid-users] Host header forgery detected after upgrade from	3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6128">[ date ]</a>
              <a href="thread.html#6128">[ thread ]</a>
              <a href="subject.html#6128">[ subject ]</a>
              <a href="author.html#6128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
