<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] big files caching-only proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20big%20files%20caching-only%20proxy&In-Reply-To=%3C20151023080252.GA31811%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006150.html">
   <LINK REL="Next"  HREF="006091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] big files caching-only proxy</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20big%20files%20caching-only%20proxy&In-Reply-To=%3C20151023080252.GA31811%40fantomas.sk%3E"
       TITLE="[squid-users] big files caching-only proxy">uhlar at fantomas.sk
       </A><BR>
    <I>Fri Oct 23 08:02:52 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006150.html">[squid-users] big files caching-only proxy
</A></li>
        <LI>Next message (by thread): <A HREF="006091.html">[squid-users] Squid 3.5.10 SSL Bump whitelist domains issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6166">[ date ]</a>
              <a href="thread.html#6166">[ thread ]</a>
              <a href="subject.html#6166">[ subject ]</a>
              <a href="author.html#6166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>Em 22/10/15 06:08, Amos Jeffries escreveu:
</I>&gt;&gt;<i>On 22/10/2015 7:13 a.m., Leonardo Rodrigues wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>It sounds to me that you are not so much wanting to cache only big
</I>&gt;&gt;<i>things, you are wanting to cache only certain sites which contain mostly
</I>&gt;&gt;<i>big things.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>The best way to confgure that is with the cache directive. Just allow
</I>&gt;&gt;<i>those sites you want, and deny all others. Then you dont have to worry
</I>&gt;&gt;<i>about big vs small object size limits.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Though why you would want to avoid caching everything that was designed
</I>&gt;&gt;<i>to be cached is a bit mystifying. You might find better performance
</I>&gt;&gt;<i>providing several cache_dir with different size ranges in each for
</I>&gt;&gt;<i>optimal caching to be figured out by Squid.
</I>
On 22.10.15 16:48, Leonardo Rodrigues wrote:
&gt;<i>    At first that (caching only 'big' things) was the idea, but when 
</I>&gt;<i>i look to cache instagram, that really changed. I know i dont have a 
</I>&gt;<i>good hardware (I/O limitation) and having a VERY heterogenous group 
</I>&gt;<i>of people, hits were low when caching 'everything' and, in some 
</I>&gt;<i>cases, access was even getting slower as i do have a good internet 
</I>&gt;<i>pipe.
</I>
the slower pipe you have, the results should caching give you.
Did you try to tune caching options?

For example, replacement policy - I use heap GDSF for memory cache and heap
LFUDA for disk cache.  The latter should give better data rate (will spare
your pipe), while the first better object hit rate (better feel when
downloading web pages)

Caching files below a few KB may not be good for disk, but may be perfect
for RAM.  With COSS or rock storage, even small files should be on-disk
cacheable and that could give you another improvement.

of course, with slow disk i/o you can't get much benefits.

-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
The early bird may get the worm, but the second mouse gets the cheese. 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006150.html">[squid-users] big files caching-only proxy
</A></li>
	<LI>Next message (by thread): <A HREF="006091.html">[squid-users] Squid 3.5.10 SSL Bump whitelist domains issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6166">[ date ]</a>
              <a href="thread.html#6166">[ thread ]</a>
              <a href="subject.html#6166">[ subject ]</a>
              <a href="author.html#6166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
