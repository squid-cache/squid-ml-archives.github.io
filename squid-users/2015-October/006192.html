<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562D2DA8.2040304%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006198.html">
   <LINK REL="Next"  HREF="006197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562D2DA8.2040304%40gmail.com%3E"
       TITLE="[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache">yvoinov at gmail.com
       </A><BR>
    <I>Sun Oct 25 19:29:44 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006198.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
        <LI>Next message (by thread): <A HREF="006197.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6192">[ date ]</a>
              <a href="thread.html#6192">[ thread ]</a>
              <a href="subject.html#6192">[ subject ]</a>
              <a href="author.html#6192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
In a nutshell - I need no possible explanation. I want to know - it's a
bug or so conceived?

26.10.15 1:17, Eliezer Croitoru &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Hey Yuri,
</I>&gt;<i>
</I>&gt;<i> I am not sure if you think that Squid version 4 with extreme low hit
</I>ratio is bad or not but I can understand your sight about things.
&gt;<i> Usually I am redirecting to this page:
</I><A HREF="http://wiki.squid-cache.org/Features/StoreID/CollisionRisks#Several_real_world_examples">http://wiki.squid-cache.org/Features/StoreID/CollisionRisks#Several_real_world_examples</A>
&gt;<i>
</I>&gt;<i> But this time I can proudly say that the squid project is doing things
</I>the right way while it might not be understood by some.
&gt;<i> Before you or anyone declares that there is a low hit ratio due to
</I>something that is missing I will try to put some sense into how things
looks in the real world.
&gt;<i> Small thing from a nice day of mine:
</I>&gt;<i> I was sitting talking with a friend of mine, a MD to be exact and
</I>while we were talking I was just comforting him about the wonders of
Computers.
&gt;<i> He was complaining on how the software in the office moves so slow and
</I>he needs to wait for the software to response with results. So I
hesitated a bit but then I asked him &quot;What would have happen if some MD
here in the office will receive the wrong content\results on a patient
from the software? he described it to me terrified from the question 'He
can get the wrong decision!' and then I described to him how he is in
such a good place when he doesn't need to fear from such scenarios.
&gt;<i> In this same office Squid is being used for many things and it's
</I>crucial that besides the option to cache content the possibility to
validate cache properly will be set right.
&gt;<i>
</I>&gt;<i> I do understand that there is a need for caches and sometimes it is
</I>crucial in order to give the application more CPU cycles or more RAM but
sometimes the hunger for cache can consume the actual requirement for
the content integrity and it must be re-validated from time to time.
&gt;<i>
</I>&gt;<i> I have seen couple times how a cache in a DB or other levels results
</I>with a very bad and unwanted result while I do understand some of the
complexity and caution that the programmers take when building all sort
of systems with cache in them.
&gt;<i>
</I>&gt;<i> If you do want to understand more about the subject pick your favorite
</I>scripting language and just try to implement a simple object caching.
&gt;<i> You would then see how complex the task can be and you can maybe then
</I>understand why caches are not such a simple thing and specially why
ignore-no-cache should not be used in any environment if it is possible.
&gt;<i>
</I>&gt;<i> While I do advise you to not use it I would hint you and others on
</I>another approach to the subject.
&gt;<i> If you are greedy and you have hunger for cache for specific
</I>sites\traffic and you would like to be able to benefit from over-caching
there is a solution for that!
&gt;<i> - You can alter\hack squid code to meet your needs
</I>&gt;<i> - You can write an ICAP service that will be able to alter the
</I>response headers so squid would think it is cachable by default.
&gt;<i> - You can write an ECAP module that will be able to alter the response
</I>headers ...
&gt;<i> - Write your own cache service with your algorithms in it.
</I>&gt;<i>
</I>&gt;<i> Take in account that the squid project tries to be as fault tolerance
</I>as possible due to it being a very sensitive piece of software in very
big production systems.
&gt;<i> Squid doesn't try to meet the requirement of &quot;Maximum Cache&quot; and it is
</I>not squid that as a caching proxy makes a reduction of any cache percentage!
&gt;<i> The reason that the content is not cachable is due to all these
</I>application that describe their content as not cachable!
&gt;<i> For a second of sanity from the the squid project, try to contact
</I>google\youtube admins\support\operators\forces\what-ever to understand
how would you be able to benefit from a local cache.
&gt;<i> If and when you do manage to contact them let them know I was looking
</I>for a contact and I never managed to find one of these available to me
on the phone or email. You cannot say anything like that on the squid
project, the squid project can be contacted using an email and if
required you can get a hold of the man behind the software(while he is a
human).
&gt;<i>
</I>&gt;<i> And I will try to write it in a geeky way:
</I>&gt;<i> deny_info 302:<A HREF="https://support.google.com/youtube/">https://support.google.com/youtube/</A>
</I>big_system_that_doesnt_want_to_be_cached
&gt;<i>
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i> * P.S If you do want to write an ICAP service or an ECAP module to
</I>replace the &quot;ignore-no-cache&quot; I can give you some code that will might
help you as a starter.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 25/10/2015 17:17, Yuri Voinov wrote:
</I>&gt;&gt;<i>
</I>&gt;<i> Hi gents,
</I>&gt;<i>
</I>&gt;<i> Pay attention to whether someone from the test SQUID 4 as extremely low
</I>&gt;<i> of cache hits from the new version? Particularly with respect to sites
</I>&gt;<i> HTTPS directive &quot;no cache&quot;? After replacing the Squid 3.4 to 4 squid
</I>&gt;<i> cache hit collapsed from 85 percent or more on the level of 5-15
</I>&gt;<i> percent. I believe this is due to the exclusion of support guidelines
</I>&gt;<i> ignore-no-cache, which eliminates the possibility of aggressive caching
</I>&gt;<i> and reduces the value of caching proxy to almost zero.
</I>&gt;<i>
</I>&gt;<i> This HTTP caches normally. However, due to the widespread use of HTTPS
</I>&gt;<i> trends - caching dramatically decreased to unacceptable levels.
</I>&gt;<i>
</I>&gt;<i> Noticed there anyone else this effect? And what is now with caching?
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJWLS2oAAoJENNXIZxhPexGupAIAM4ss9lrXBloXAWpGlQXLH0A
aoyPKYYd4qQ/MMhKH7TWGOQnU+qJsOY28x8/jVu2O2A6pwUPmRx6czf2TEK1hRB2
e1hDSP2sU/CNUHEJ+r1tIuMIM8zIX7BX5rdqhDKdVFj25w9cNS2r3Hv9zRfL833A
/CzVthnTWguykI3P8IEChoANV8Li8Uz6rDxi8X+MIQ0dEvFoVWnOiPamcbur7iBg
lnKPAORuQ3C0Jch4AzfYxVaDuw+r9Snw93a6ZDISv4UsWbI8pBWvhcOE2X7M+akY
Huuhi0FkuAla4dXN2mA5+Lu+4MBJ+z0yqtu/KQ2zgdF2znGDA1JPJwjYgCfIjOg=
=OjYt
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20151026/4b7da758/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20151026/4b7da758/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006198.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
	<LI>Next message (by thread): <A HREF="006197.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6192">[ date ]</a>
              <a href="thread.html#6192">[ thread ]</a>
              <a href="subject.html#6192">[ subject ]</a>
              <a href="author.html#6192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
