<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562D3855.7090803%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006191.html">
   <LINK REL="Next"  HREF="006194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562D3855.7090803%40ngtech.co.il%3E"
       TITLE="[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache">eliezer at ngtech.co.il
       </A><BR>
    <I>Sun Oct 25 20:15:17 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006191.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
        <LI>Next message (by thread): <A HREF="006194.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6193">[ date ]</a>
              <a href="thread.html#6193">[ thread ]</a>
              <a href="subject.html#6193">[ subject ]</a>
              <a href="author.html#6193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/10/2015 21:28, Yuri Voinov wrote:
&gt;<i> It's not about that. It's about the fact that, with exactly the same
</I>&gt;<i> parameters caching and maintaining the cache at the same URL, which I
</I>&gt;<i> used to get 85% cache hit, I am now, with a SQUID 4, I get 0%. That's all.
</I>
OK then, if it's that important for you and it worth money for the 
business you are running\working for think about writing an ECAP module 
or an ICAP service that will do this same thing and sometimes will do 
more then you are asking for.

I didn't mentioned this before but you if you are using a non tproxy 
environment you can use two squid instances to get the same effect.
You would be able to asses the network stress you have and decide which 
of the solution is for you.
Maybe you are already know the article I wrote at:
<A HREF="http://wiki.squid-cache.org/ConfigExamples/DynamicContent/Coordinator">http://wiki.squid-cache.org/ConfigExamples/DynamicContent/Coordinator</A>
Which you can use to use a similar thing.

 From my side of the picture I think you are over-simplifying the issue.
I cannot speak for everyone and I know that there are other opinions 
about this subject and similar other but, I can say for sure that from 
what I have seen, squid have had many issues which resulted from the 
basic fact the it was something like a &quot;geany in lamp&quot; project which 
many just asked for something they needed.
If you do not know, some literally *hate* squid.
One of the reasons is that it has a huge list of open bugs which are 
waiting for someone to find them attractive enough to write a patch for 
them.

And yes with exactly the same parameters which resulted in 85% cache hit 
you are now getting 0% like you should have been.
I am not sure how many users are happy with this change and I encourage 
others to write their opinions and ideas about it.

I am staying with my suggestions for a set of solutions for the specific 
issue.

I am not the greatest squid programmer but if someone will fund my time 
I will might be able to write a module that will do just what you and 
maybe others want. And if I might add that it's like in any other 
software, you have an API and you can use it. if you think it's 
important file a bug and send your question to the squid-dev list with 
hope that you will get some answers even if these will not be to your 
liking.

All The Bests,
Eliezer

* Somebody told me on squid once something like &quot;I am sharing your 
sorrow&quot; while I was very happy with it.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006191.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
	<LI>Next message (by thread): <A HREF="006194.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6193">[ date ]</a>
              <a href="thread.html#6193">[ thread ]</a>
              <a href="subject.html#6193">[ subject ]</a>
              <a href="author.html#6193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
