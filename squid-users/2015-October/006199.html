<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] delay pools question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20delay%20pools%20question&In-Reply-To=%3C562D8964.6070006%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006195.html">
   <LINK REL="Next"  HREF="006204.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] delay pools question</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20delay%20pools%20question&In-Reply-To=%3C562D8964.6070006%40treenet.co.nz%3E"
       TITLE="[squid-users] delay pools question">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Oct 26 02:01:08 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006195.html">[squid-users] delay pools question
</A></li>
        <LI>Next message (by thread): <A HREF="006204.html">[squid-users] Size of icap request chanks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6199">[ date ]</a>
              <a href="thread.html#6199">[ thread ]</a>
              <a href="subject.html#6199">[ subject ]</a>
              <a href="author.html#6199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/10/2015 12:48 p.m., Alex Samad wrote:
&gt;<i> HI
</I>&gt;<i> 
</I>&gt;<i> I have had a look at <A HREF="http://wiki.squid-cache.org/Features/DelayPools">http://wiki.squid-cache.org/Features/DelayPools</A>
</I>&gt;<i> 
</I>&gt;<i> Wondering if somebody can maybe explain how it rate limits downloads.
</I>&gt;<i> 
</I>
Quite simple. Each request transaction gets assigned into some pool(s)
based on your delay_parameters and delay_access settings.

Each time a read(2) from the server connection is requested the pools
are checked to see what size is permitted, and the smaller of the
permitted size or the wanted size is read in.


&gt;<i> So I can understand it would be able to limit proxy to client traffic
</I>&gt;<i> as squid is the sender and can limit how it sends.
</I>&gt;<i> 
</I>
To limit client traffic use client_delay_* pools settings. They operate
the same but for reading on the client connection.

Note that simply trottling read(2) operations is not great. It ignores
all the TCP level transactions, and bandwidth from other protocols
outside HTTP, and even some parts for HTTP traffic done before a pool is
assigned (ie the HTTP headers on some requests). It is far better to use
the available OS level QoS functionality for bandwidth control.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006195.html">[squid-users] delay pools question
</A></li>
	<LI>Next message (by thread): <A HREF="006204.html">[squid-users] Size of icap request chanks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6199">[ date ]</a>
              <a href="thread.html#6199">[ thread ]</a>
              <a href="subject.html#6199">[ subject ]</a>
              <a href="author.html#6199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
