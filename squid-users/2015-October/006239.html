<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562E80E2.1070104%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006225.html">
   <LINK REL="Next"  HREF="006242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4%20has%20extremely%20low%20hit%20ratio%20due%20to%20lacks%0A%20of%20ignore-no-cache&In-Reply-To=%3C562E80E2.1070104%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Oct 26 19:37:06 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006225.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
        <LI>Next message (by thread): <A HREF="006242.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6239">[ date ]</a>
              <a href="thread.html#6239">[ thread ]</a>
              <a href="subject.html#6239">[ subject ]</a>
              <a href="author.html#6239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/10/2015 6:22 a.m., Yuri Voinov wrote:
&gt;<i> 
</I>&gt;<i> Ah, ok:
</I>&gt;<i> 
</I>&gt;<i> We see in redbot.org this info in server response:
</I>&gt;<i> 
</I>&gt;<i>  Cache-Control: no-cache
</I>&gt;<i> 
</I>
It also says &quot;this content was negotiated but does not have an
appropriate Vary header&quot;. Which is marked as a protocol error.

And has a status code of 400 (unspecified error by the client).

And has passed through three non-Squid proxies without being cached
there either.


&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So, what? 3.5.10 permit ignore this. 4.0.x - deny.
</I>&gt;<i> 
</I>
Rather bold statement. Where is the cache.log line(s) saying that was
the decision Squid made?


&gt;<i> Squid decides?
</I>&gt;<i> 
</I>
No, the content owner does.


&gt;<i> Maybe I'll decide what and how to cache in the my setup?
</I>
You are just the caretaker of the information. It belongs to its
creators. What you can do with their property depends on what they allow
to be done with it.

HTTP is the legal rights granting methodology they chose to distribute
with. The creators have granted you/anyone the license to cache
(redistribute) that object. They did so via the badly named
Cache-Control:no-cache header. Which comes with the license condition
that the content be revalidated before redistribution.

In other words, the content owner(s) retain the right to veto any
recipient receiving their content or to provide alternative content at
any time.

[[ Given that it seems to flip between an error page and an image
depicting the internal design of a nuclear device - depending on where
in the world one views it from. It would seem that the behaviour is
probably intentional. ]]


Within your new right to cache and redistribute you then get to choose
how long for - on that particular item.


BTW: Revalidate does not lead to MISS. It leads to a REFRESH_MODIFIED or
REFRESH_UNMODIFIED.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006225.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
	<LI>Next message (by thread): <A HREF="006242.html">[squid-users] Squid4 has extremely low hit ratio due to lacks of ignore-no-cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6239">[ date ]</a>
              <a href="thread.html#6239">[ thread ]</a>
              <a href="subject.html#6239">[ subject ]</a>
              <a href="author.html#6239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
