<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.8 cross compile SSL ACL issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.8%20cross%20compile%20SSL%20ACL%20issues&In-Reply-To=%3C562EC785.6000200%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007366.html">
   <LINK REL="Next"  HREF="006248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.8 cross compile SSL ACL issues</H1>
    <B>Darren Breeze ML</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.8%20cross%20compile%20SSL%20ACL%20issues&In-Reply-To=%3C562EC785.6000200%40gmail.com%3E"
       TITLE="[squid-users] Squid 3.5.8 cross compile SSL ACL issues">darren.j.breeze.ml at gmail.com
       </A><BR>
    <I>Tue Oct 27 00:38:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007366.html">[squid-users] R: R: R:  delay pools
</A></li>
        <LI>Next message (by thread): <A HREF="006248.html">[squid-users] Cache everything for 15 minutes - nothing more or	less (offline_mode + refresh_pattern?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6247">[ date ]</a>
              <a href="thread.html#6247">[ thread ]</a>
              <a href="subject.html#6247">[ subject ]</a>
              <a href="author.html#6247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I am trying to get 3.5.8 running via the yockto project on an Arm7.

I have everything compiling file but have an odd issue with the 
ssl::certuntrusted acl

I have it all running with the same conf file on a pc, but on the arm7 I 
get this

<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at test</A>:/opt/remote/scripts# squid -v
Squid Cache: Version 3.5.8
Service Name: squid
configure options:  '--build=x86_64-linux' 
'--host=arm-poky-linux-gnueabi' '--target=arm-poky-linux-gnueabi' 
'--prefix=/usr' '--exec_prefix=/usr' '--bindir=/usr/bin' 
'--sbindir=/usr/sbin' '--libexecdir=/usr/lib/squid' 
'--datadir=/usr/share' '--sysconfdir=/etc' '--sharedstatedir=/com' 
'--localstatedir=/var' '--libdir=/usr/lib' '--includedir=/usr/include' 
'--oldincludedir=/usr/include' '--infodir=/usr/share/info' 
'--mandir=/usr/share/man' '--disable-silent-rules' 
'--disable-dependency-tracking' 
'--with-libtool-sysroot=/home/darren/yockto/build/tmp/sysroots/rk3188' 
'--with-default-user=squid' '--enable-ssl' '--enable-ssl-crtd' 
'--with-openssl' '--disable-auth-negotiate' '--enable-icap-client' 
'--disable-auth-ntlm' '--disable-external-acl-helpers' 
'--disable-auth-digest' '--disable-auth-basic' '--disable-wccp' 
'--disable-wccpv2' '--disable-snmp' '--disable-htcp' 
'--without-heimdal-krb5' '--without-mit-krb5' 
'--without-netfilter-conntrack' 'build_alias=x86_64-linux' 
'host_alias=arm-poky-linux-gnueabi' 
'target_alias=arm-poky-linux-gnueabi' 'CC=arm-poky-linux-gnueabi-gcc  
-march=armv7-a -mthumb-interwork -mfloat-abi=softfp -mfpu=neon 
--sysroot=/home/darren/yockto/build/tmp/sysroots/rk3188' 'CFLAGS= -O2 
-pipe -g -feliminate-unused-debug-types' 'LDFLAGS=-Wl,-O1 
-Wl,--hash-style=gnu -Wl,--as-needed' 'CPPFLAGS=' 
'CPP=arm-poky-linux-gnueabi-gcc -E 
--sysroot=/home/darren/yockto/build/tmp/sysroots/rk3188 -march=armv7-a 
-mthumb-interwork -mfloat-abi=softfp -mfpu=neon' 
'CXX=arm-poky-linux-gnueabi-g++  -march=armv7-a -mthumb-interwork 
-mfloat-abi=softfp -mfpu=neon 
--sysroot=/home/darren/yockto/build/tmp/sysroots/rk3188' 'CXXFLAGS= -O2 
-pipe -g -feliminate-unused-debug-types -fvisibility-inlines-hidden' 
'PKG_CONFIG_PATH=/home/darren/yockto/build/tmp/sysroots/rk3188/usr/lib/pkgconfig:/home/darren/yockto/build/tmp/sysroots/rk3188/usr/share/pkgconfig''PKG_CONFIG_LIBDIR=/home/darren/yockto/build/tmp/sysroots/rk3188/usr/lib/pkgconfig'

<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at test</A>:/opt/remote/scripts# squid
2015/09/09 04:02:03| ACL not found: ssl::certUntrusted
FATAL: Bungled Default Configuration (postscriptum) line 1: 
sslproxy_cert_sign signUntrusted ssl::certUntrusted
Squid Cache (Version 3.5.8): Terminated abnormally.
CPU Usage: 0.030 seconds = 0.020 user + 0.010 sys
Maximum Resident Size: 14016 KB
Page faults with physical i/o: 0

In the pc build, the &quot;ACL not found: ssl::certUntrusted&quot; log entry 
results in squid creating the ACL. in the Arm7 build, the missing ACL 
just results in an error.

thanks in advance


Darren Breeze








</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007366.html">[squid-users] R: R: R:  delay pools
</A></li>
	<LI>Next message (by thread): <A HREF="006248.html">[squid-users] Cache everything for 15 minutes - nothing more or	less (offline_mode + refresh_pattern?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6247">[ date ]</a>
              <a href="thread.html#6247">[ thread ]</a>
              <a href="subject.html#6247">[ subject ]</a>
              <a href="author.html#6247">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
