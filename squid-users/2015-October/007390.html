<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Inconsistent accessing of the cache,	craigslist.org images, wacky stuff.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Inconsistent%20accessing%20of%20the%20cache%2C%0A%09craigslist.org%20images%2C%20wacky%20stuff.&In-Reply-To=%3C001a01d111ed%24e4eb9220%24aec2b660%24%40optimera.us%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007378.html">
   <LINK REL="Next"  HREF="007393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Inconsistent accessing of the cache,	craigslist.org images, wacky stuff.</H1>
    <B>Jester Purtteman</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Inconsistent%20accessing%20of%20the%20cache%2C%0A%09craigslist.org%20images%2C%20wacky%20stuff.&In-Reply-To=%3C001a01d111ed%24e4eb9220%24aec2b660%24%40optimera.us%3E"
       TITLE="[squid-users] Inconsistent accessing of the cache,	craigslist.org images, wacky stuff.">jester at optimera.us
       </A><BR>
    <I>Thu Oct 29 02:02:34 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007378.html">[squid-users] Inconsistent accessing of the cache, craigslist.org images, wacky stuff.
</A></li>
        <LI>Next message (by thread): <A HREF="007393.html">[squid-users] Inconsistent accessing of the cache, craigslist.org images, wacky stuff.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7390">[ date ]</a>
              <a href="thread.html#7390">[ thread ]</a>
              <a href="subject.html#7390">[ subject ]</a>
              <a href="author.html#7390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Probably a good idea there, I have not used bind in a very, very long time, but I will give it a shot.  

I am still having some issues, but at least now they're all within the bounds of consistent and &quot;what-i-expect&quot; behavior, I just need to think through how to outsmart a couple issues.  The big one now is that many addresses appears to change by the time it the system downloads a particularly large file (Windows updates, to be specific), so it ends up releasing it almost immediately (because of the header spoofing prevention I was talking about in this chain), which is only frustrating because caching big updates would be a huge gain for us.  So far, out of 20 GB transferred, about 6-gb has been windows/apple updates, and that from several hosts.  I'll see if I can get BIND to grab that and cache that resolution a little longer, and hang on to it, but my bigger question is:  if I setup a parent proxy that ONLY grabs the big updates down on my big-fast-cheap connection, then set my little-slow-expensive-connection up to pull from that connection, would that have a higher chance of success?  Since the proxy on the slow system is requesting the same object, I'm wondering if that may work out better.  Not sure that will have the desired effect, but I'm going to try it out, I'll let you know how that works out.  

&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On
</I>&gt;<i> Behalf Of Eliezer Croitoru
</I>&gt;<i> Sent: Wednesday, October 28, 2015 2:16 PM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Inconsistent accessing of the cache, craigslist.org
</I>&gt;<i> images, wacky stuff.
</I>&gt;<i> 
</I>&gt;<i> Hey Jester,
</I>&gt;<i> 
</I>&gt;<i> I know that installing bind would probably not be much of a trouble and I
</I>&gt;<i> recommend to use it instead of using dnsmasq.
</I>&gt;<i> It will do everything much better even if you are using it as a forwarder and
</I>&gt;<i> not a recursive DNS service.
</I>&gt;<i> 
</I>&gt;<i> Eliezer
</I>&gt;<i> 
</I>&gt;<i> On 28/10/2015 20:24, Jester Purtteman wrote:
</I>&gt;<i> &gt; So, I just installed dnsmasq on two of my servers, pointed my clients
</I>&gt;<i> toward that address, and so far it is working a whoel lot better.  My hit rate is
</I>&gt;<i> up in the 10% range, and that is with a nearly empty cache, so that may be
</I>&gt;<i> the trick.  I only made the change about a short time ago.  More importantly,
</I>&gt;<i> that error in the log has gone away and I am getting consistent caching
</I>&gt;<i> behavior, so that is huge.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you!
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007378.html">[squid-users] Inconsistent accessing of the cache, craigslist.org images, wacky stuff.
</A></li>
	<LI>Next message (by thread): <A HREF="007393.html">[squid-users] Inconsistent accessing of the cache, craigslist.org images, wacky stuff.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7390">[ date ]</a>
              <a href="thread.html#7390">[ thread ]</a>
              <a href="subject.html#7390">[ subject ]</a>
              <a href="author.html#7390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
