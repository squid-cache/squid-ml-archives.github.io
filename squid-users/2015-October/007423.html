<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C20151029172926.GA28474%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007413.html">
   <LINK REL="Next"  HREF="007424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Host%20header%20forgery%20detected%20after%20upgrade%20from%0A%203.5.8%20to%203.5.9&In-Reply-To=%3C20151029172926.GA28474%40fantomas.sk%3E"
       TITLE="[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9">uhlar at fantomas.sk
       </A><BR>
    <I>Thu Oct 29 17:29:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007413.html">[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
</A></li>
        <LI>Next message (by thread): <A HREF="007424.html">[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7423">[ date ]</a>
              <a href="thread.html#7423">[ thread ]</a>
              <a href="subject.html#7423">[ subject ]</a>
              <a href="author.html#7423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>On 10/28/2015 10:46 PM, Amos Jeffries wrote:
</I>&gt;&gt;<i> NP: these problems do not exist for forward proxies. Only for traffic
</I>&gt;&gt;<i> hijacking interceptor proxies.
</I>
On 29.10.15 09:05, Alex Rousskov wrote:
&gt;<i>For intercepted connections, Squid should, with an admin permission,
</I>&gt;<i>connect to the intended IP address without validating whether that IP
</I>&gt;<i>address matches the domain name (and without any side effects of such
</I>&gt;<i>validation). In interception mode, the proxy should be as &quot;invisible&quot;
</I>&gt;<i>(or as &quot;invasive&quot;) as the admin wants it to be IMO -- all validations
</I>&gt;<i>and protections should be optional. We could still enable them by
</I>&gt;<i>default, of course.
</I>&gt;<i>
</I>&gt;<i>SslBumped CONNECT-to-IP tunnels are essentially intercepted connections
</I>&gt;<i>as well, even if they are using forwarding (not intercepting) http_ports.
</I>
the &quot;admin permission&quot; is the key qestion here.  There's possible problem
where the malicious client can connect to malicious server, ask for any
server name and the malicious content could get cached by squid as a proper
response.

I guess most of admins do intercepting to avoid client configuration, not to
hide the proxies. 
-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
I don't have lysdexia. The Dog wouldn't allow that.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007413.html">[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
</A></li>
	<LI>Next message (by thread): <A HREF="007424.html">[squid-users] Host header forgery detected after upgrade from 3.5.8 to 3.5.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7423">[ date ]</a>
              <a href="thread.html#7423">[ thread ]</a>
              <a href="subject.html#7423">[ subject ]</a>
              <a href="author.html#7423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
