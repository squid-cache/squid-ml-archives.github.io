<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL-Bump to specific users
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL-Bump%20to%20specific%20users&In-Reply-To=%3C5633AE3D.9020606%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007476.html">
   <LINK REL="Next"  HREF="007478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL-Bump to specific users</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL-Bump%20to%20specific%20users&In-Reply-To=%3C5633AE3D.9020606%40treenet.co.nz%3E"
       TITLE="[squid-users] SSL-Bump to specific users">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Oct 30 17:51:57 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007476.html">[squid-users] SSL-Bump to specific users
</A></li>
        <LI>Next message (by thread): <A HREF="007478.html">[squid-users] SSL-Bump to specific users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7477">[ date ]</a>
              <a href="thread.html#7477">[ thread ]</a>
              <a href="subject.html#7477">[ subject ]</a>
              <a href="author.html#7477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 31/10/2015 5:36 a.m., Rodrigo de Lima Silva wrote:
&gt;<i> Thanks for your reply Alex,
</I>&gt;<i> 
</I>&gt;<i> I understood your considerations. Maybe, I really didn't understand very
</I>&gt;<i> well how the SslBump works, the differences between peek and splice and
</I>&gt;<i> steps SslBump1, 2 and 3.
</I>&gt;<i> 
</I>&gt;<i> I'm searching and studing about this last two days, and I need to undertand
</I>&gt;<i> better about this questions.
</I>

You may have found them already, but if not these wiki pages should help
you understand a bit more.

The particular one Alex and I think you need to understand is
&lt;<A HREF="http://wiki.squid-cache.org/SquidFaq/SquidAcl">http://wiki.squid-cache.org/SquidFaq/SquidAcl</A>&gt; which documents how
Squid access controls operate. What they are and how to use them.

Once you understand the ACLs you may have a clearer idea how to extend
yoru rules properly using the information in
&lt;<A HREF="http://wiki.squid-cache.org/Features/SslPeekAndSplice">http://wiki.squid-cache.org/Features/SslPeekAndSplice</A>&gt;. Which documents
what the SSL-Bump actions are, what they do and at what stages of the
TLS handshake process they can happen.

&gt;<i> 
</I>&gt;<i> There's a way to join ssl_bump + a simple acl? Basicly, I would like to
</I>&gt;<i> permit access to some sites, like facebbok, linkedin, for example. during a
</I>&gt;<i> period of day time, for example:
</I>&gt;<i> 
</I>&gt;<i> acl after_work time MTWHFAS 18:00-21:00
</I>&gt;<i> ssl_bump terminate deny_https_sites !after_work
</I>&gt;<i> 
</I>
Once you understand what the &quot;Common Mistakes&quot; section of the ACL wiki
page is talking about you will know the answer to your question. It
describes the problem Alex was talking about, but in slightly simpler terms.

Hint: you say you want to permit things. But you are writing rules with
&quot;deny&quot; / &quot;terminate&quot; as the action for Squid to do. Seems a bit
backwards, yes?

The outcome of the above rules may be the behaviour you desire. But the
rule is not specifying the policy you wrote about. It is specifying
another policy that happens to act the same (most of the time). And
&quot;most of the time&quot; is how strange problems appear later.



PS. Apologies if we seems to be obstructing. But you really do need to
properly know how Squid ACLs work if you are going to be configuring
Squid. They are used for controlling almost everything, as you will see
in those wiki pages.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007476.html">[squid-users] SSL-Bump to specific users
</A></li>
	<LI>Next message (by thread): <A HREF="007478.html">[squid-users] SSL-Bump to specific users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7477">[ date ]</a>
              <a href="thread.html#7477">[ thread ]</a>
              <a href="subject.html#7477">[ subject ]</a>
              <a href="author.html#7477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
