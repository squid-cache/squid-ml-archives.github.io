<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Default ssl-bump that works with chrome/opera
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Default%20ssl-bump%20that%20works%20with%20chrome/opera&In-Reply-To=%3CVI1PR04MB1359A9E1BFACBC50D82CF5338F560%40VI1PR04MB1359.eurprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005404.html">
   <LINK REL="Next"  HREF="005406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Default ssl-bump that works with chrome/opera</H1>
    <B>Rafael Akchurin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Default%20ssl-bump%20that%20works%20with%20chrome/opera&In-Reply-To=%3CVI1PR04MB1359A9E1BFACBC50D82CF5338F560%40VI1PR04MB1359.eurprd04.prod.outlook.com%3E"
       TITLE="[squid-users] Default ssl-bump that works with chrome/opera">rafael.akchurin at diladele.com
       </A><BR>
    <I>Sat Sep  5 12:22:21 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005404.html">[squid-users] Default ssl-bump that works with chrome/opera
</A></li>
        <LI>Next message (by thread): <A HREF="005406.html">[squid-users] Default ssl-bump that works with chrome/opera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5405">[ date ]</a>
              <a href="thread.html#5405">[ thread ]</a>
              <a href="subject.html#5405">[ subject ]</a>
              <a href="author.html#5405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Xen,

The certificate warning was most probably indeed caused by default SHA-1 signature of the mimicked certificate in stock version of Squid present by default in popular Linux distribs. Latest version does that correctly and your &quot;not private&quot; connection warnings in Chrome/etc is now gone.

Please see <A HREF="http://docs.diladele.com/faq/filtering/chrome_not_private.html">http://docs.diladele.com/faq/filtering/chrome_not_private.html</A> - I tried to explain it clearly.
Please note this is may also be caused by your trusted root certificates expiring in 2017+.

Hope other members of the list know better the cipher set. I am very interested in this too.

Best regards,
Rafael Akchurin
Diladele B.V.


-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Xen
Sent: Saturday, September 5, 2015 1:58 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Default ssl-bump that works with chrome/opera

Hey,

Might I perhaps ask.

Currently with the default minimum configuration for ssl-bump that is advocated everywhere, my Firefox bumping works but Chrome and Opera are more strict and will say my certificate is invalid.

The certificate was simply generated (self-signed) with openssl x509 with no additional options for cipher or message digest or whatever. 
Browsers typically complain that the certificate was signed using an insecure hash (sha1). I don't know if this is the result of my own certificate or whether it is the result of what Squid does to it using the regen it does.

Actually Chromium works fine now, I don't know why that change. I had so many problems with it.

In fact, I don't know what happened. Both Chromium and Opera now work.

I did upgrade to 3.5.7 but I tested after.

All browsers mostly complain about using obsolete cipher suites though.

So that is the question I wanted to ask: Is there a default SSL configuration for Squid that will limit or reduce or do away with those obsolete cipher questions and remarks?

I have been trying to find configs on the web, but they go into great technical detail about those ciphers and also require you to make difficult choices you can't make until and unless you are a security expert.

I believe going from RSA to ECDHE_ECDSA (or something similar) will do the trick. But I also read here about Squid supporting something only in version 4.

Even typing that word makes me sick. ECDHE_ECDSA buh.

Does it have to be anything more difficult :P.

Is there a smallest subset SSL configuration for Squid that will simply reduce those messages and allow the level of security of the original site not to go down as much? I would think that Squid doesn't communicate with that server any different than it does with me. So the whole chain is now using something less than it did before.

So that is my question: give me 3 lines of code (or configuration) that will allow this?

I beg of you :p :).

Regards, X.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005404.html">[squid-users] Default ssl-bump that works with chrome/opera
</A></li>
	<LI>Next message (by thread): <A HREF="005406.html">[squid-users] Default ssl-bump that works with chrome/opera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5405">[ date ]</a>
              <a href="thread.html#5405">[ thread ]</a>
              <a href="subject.html#5405">[ subject ]</a>
              <a href="author.html#5405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
