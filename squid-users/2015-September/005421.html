<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Bug in the squid snmp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bug%20in%20the%20squid%20snmp&In-Reply-To=%3C55EC24BA.60103%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005419.html">
   <LINK REL="Next"  HREF="005423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Bug in the squid snmp</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bug%20in%20the%20squid%20snmp&In-Reply-To=%3C55EC24BA.60103%40treenet.co.nz%3E"
       TITLE="[squid-users] Bug in the squid snmp">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Sep  6 11:34:18 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005419.html">[squid-users] Bug in the squid snmp
</A></li>
        <LI>Next message (by thread): <A HREF="005423.html">[squid-users] Bug in the squid snmp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5421">[ date ]</a>
              <a href="thread.html#5421">[ thread ]</a>
              <a href="subject.html#5421">[ subject ]</a>
              <a href="author.html#5421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/09/2015 8:20 p.m., FredT wrote:
&gt;<i> Hi Amos,
</I>&gt;<i> 
</I>&gt;<i> So what ?
</I>&gt;<i> I noticed it's a  32 bit integer &lt;<A HREF="https://en.wikipedia.org/wiki/32-bit">https://en.wikipedia.org/wiki/32-bit</A>&gt;  
</I>&gt;<i> with a &quot;4,294,967,295&quot; limit in unsigned but it cannot be an excuse to
</I>&gt;<i> provide a wrong number...
</I>&gt;<i> The squidclient displays the right value but as the same value from the snmp
</I>&gt;<i> is an unsigned so here it's allowed to truncate the value ? does not make
</I>&gt;<i> sense...
</I>
The mgr report is not limited to 32-bit gauge semantics. So its showing
the true underlying value.

&gt;<i> 
</I>&gt;<i> What's the right way: respect the unsigned int limit or display the right
</I>&gt;<i> value ?
</I>&gt;<i> From my side I suppose the right way is to display the right value, so I
</I>&gt;<i> think you should fix the snmp with the right types to provide the reality 
</I>&gt;<i> 
</I>&gt;<i> Does it make sense for you too ?
</I>&gt;<i> 
</I>
That is the right value for a 32-bit gauge AFAICT.

The way gauges work is analogous to open-topped vessel such as a cup.
You can pour part-cups into it, or you can pour a whole lake into it. At
the end it will still only show up to 1 cup worth, because that is its
capacity limit everything else overflows and is gone.

The numbers you are trying to get out of Squid are &quot;off the scale&quot;.


None of us current dev understand SNMP well enough to provide an
alternative 64-bit gauge. We do know that OID must never ever change
their types or meaning. Which is why you see the version indicators in
the FAQ table. Once somene comes along who knows SNMP properly and can
define correct OID binary type values for 64-bit we will probably have
to add whole new OID for those anywany and leave this one showing what
you see now.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005419.html">[squid-users] Bug in the squid snmp
</A></li>
	<LI>Next message (by thread): <A HREF="005423.html">[squid-users] Bug in the squid snmp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5421">[ date ]</a>
              <a href="thread.html#5421">[ thread ]</a>
              <a href="subject.html#5421">[ subject ]</a>
              <a href="author.html#5421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
