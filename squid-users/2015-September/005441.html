<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Building squid | Best Practices?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Building%20squid%20%7C%20Best%20Practices%3F&In-Reply-To=%3C55EE0B63.1060201%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005440.html">
   <LINK REL="Next"  HREF="005445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Building squid | Best Practices?</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Building%20squid%20%7C%20Best%20Practices%3F&In-Reply-To=%3C55EE0B63.1060201%40ngtech.co.il%3E"
       TITLE="[squid-users] Building squid | Best Practices?">eliezer at ngtech.co.il
       </A><BR>
    <I>Mon Sep  7 22:10:43 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005440.html">[squid-users] Building squid | Best Practices?
</A></li>
        <LI>Next message (by thread): <A HREF="005445.html">[squid-users] Building squid | Best Practices?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5441">[ date ]</a>
              <a href="thread.html#5441">[ thread ]</a>
              <a href="subject.html#5441">[ subject ]</a>
              <a href="author.html#5441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Howard,

I forgot to mention that squid uses the directory &quot;/var/run/squid&quot; as 
the IPC directory which should be owned by the proxy or squid 
user(depends on the OS).
 From what you have mentioned squid tries to access some directory and 
is getting denied by permissions.
Please Don't run squid with a &quot;-n&quot; option if possible, it will limit 
your options to using only one worker(which is the default and is OK in 
most basic cases).
Try to take advantage of the cache.log file to get the relevant 
information about an issue.
I am recommending it since squid is designed to run in a &quot;daemon&quot; like 
mode and in most cases this is how it is defined.

Eliezer

On 08/09/2015 00:57, Howard Waterfall wrote:
&gt;<i> Thanks Eliezer.
</I>&gt;<i>
</I>&gt;<i> Looking at my notes, I'm pretty sure that:
</I>&gt;<i>
</I>&gt;<i> *apt-get build-dep squid*
</I>&gt;<i>
</I>&gt;<i> was a typo and I actually did
</I>&gt;<i>
</I>&gt;<i> *apt-get build-dep squid3*
</I>&gt;<i>
</I>&gt;<i> Is there something in the output I provided that confirms it's actually
</I>&gt;<i> squid and not squid3? It built OK...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I enabled deb-src because when I did:
</I>&gt;<i>
</I>&gt;<i> *apt-get build-dep squid3*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I got:
</I>&gt;<i>
</I>&gt;<i> *You must put some 'source' uris in your sources.list*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In the meantime, I'll purge and try again and follow your wiki a little
</I>&gt;<i> more closely.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Howard
</I>&gt;<i>
</I>&gt;<i> On Mon, Sep 7, 2015 at 1:58 PM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hey Howard,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 07/09/2015 21:32, Howard Waterfall wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1) Earlier in the thread, Amos suggested I run:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> apt-get build-dep squid
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You would need to use the &quot;squid3&quot; and not &quot;squid&quot; since this is the
</I>&gt;&gt;<i> package ubuntu builds squid for.
</I>&gt;&gt;<i> so the command should be:
</I>&gt;&gt;<i> apt-get build-dep squid3
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have seen you enabled deb-src in your sources.list file.
</I>&gt;&gt;<i> This is the opposite to the requirements.
</I>&gt;&gt;<i> You must have a deb-src that will have &quot;squid3&quot; sources in it.
</I>&gt;&gt;<i> If you try &quot;squid&quot; it(apt-get) assumes that you know what package you want
</I>&gt;&gt;<i> and in a case you it can't find sources for that package it will tell you
</I>&gt;&gt;<i> that it needs a relevant deb-src.
</I>&gt;&gt;<i> All that is irrelevant since you have used the wrong package.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There is also a big different between building a basic squid to a more
</I>&gt;&gt;<i> advanced squid which supports all sorts of helpers.
</I>&gt;&gt;<i> The manual way of compiling as I showed in the past at:
</I>&gt;&gt;<i> <A HREF="http://ubuntuforums.org/showthread.php?t=1847884">http://ubuntuforums.org/showthread.php?t=1847884</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I had a init script for ubuntu somewhere but it kind of got lost in a data
</I>&gt;&gt;<i> loss couple years ago.
</I>&gt;&gt;<i> You can however install squid3, copy the init script and then purge it or
</I>&gt;&gt;<i> just download the source package(mentioned in diladele article)that
</I>&gt;&gt;<i> includes the init script.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All The Bests,
</I>&gt;&gt;<i> Eliezer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005440.html">[squid-users] Building squid | Best Practices?
</A></li>
	<LI>Next message (by thread): <A HREF="005445.html">[squid-users] Building squid | Best Practices?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5441">[ date ]</a>
              <a href="thread.html#5441">[ thread ]</a>
              <a href="subject.html#5441">[ subject ]</a>
              <a href="author.html#5441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
