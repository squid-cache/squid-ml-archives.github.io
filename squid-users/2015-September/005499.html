<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20high%20volume%20of%20%27missing%20files%27%20in%0A%09cache....TCP_SWAPFAIL&In-Reply-To=%3C55F3CB52.1080001%40tlinx.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005497.html">
   <LINK REL="Next"  HREF="005502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL</H1>
    <B>Linda W</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20high%20volume%20of%20%27missing%20files%27%20in%0A%09cache....TCP_SWAPFAIL&In-Reply-To=%3C55F3CB52.1080001%40tlinx.org%3E"
       TITLE="[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL">squid-user at tlinx.org
       </A><BR>
    <I>Sat Sep 12 06:50:58 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005497.html">[squid-users] Possible memory leak?
</A></li>
        <LI>Next message (by thread): <A HREF="005502.html">[squid-users] high volume of 'missing files' in cache....TCP_SWAPFAIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5499">[ date ]</a>
              <a href="thread.html#5499">[ thread ]</a>
              <a href="subject.html#5499">[ subject ]</a>
              <a href="author.html#5499">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>looking in the access log:

&gt;<i>  wc -l access.log
</I>123246 access.log
&gt;<i>  grep TCP_SWAPFAIL access.log|wc -l
</I>2369

 From the cache.log:
Ishtar:/var/log/squid# wc cache.log
 10263  92323 905184 cache.log
# grep &quot;No such&quot; /var/log/squid/cache.log|wc
   2642   27035  238727

Seems unlikely that a shutdown would cut it off:
2015/08/22 23:51:42 kid1| storeDirWriteCleanLogs: Starting...
2015/08/22 23:51:42 kid1|     65536 entries written so far.
2015/08/22 23:51:42 kid1|    131072 entries written so far.
2015/08/22 23:51:42 kid1|    196608 entries written so far.
2015/08/22 23:51:42 kid1|    262144 entries written so far.
2015/08/22 23:51:42 kid1|    327680 entries written so far.
2015/08/22 23:51:42 kid1|   Finished.  Wrote 349041 entries.
2015/08/22 23:51:42 kid1|   Took 0.08 seconds (4348607.74 entries/sec).
...
2015/09/11 17:10:41 kid1| NETDB state saved; 0 entries, 0 msec
2015/09/11 17:25:01 kid1| DiskThreadsDiskFile::openDone: (2) No such 
file or direct
ory
2015/09/11 17:25:01 kid1|   /var/cache/squid/25/30/00025C24
2015/09/11 17:25:03 kid1| DiskThreadsDiskFile::openDone: (2) No such 
file or direct
ory
2015/09/11 17:25:03 kid1|   /var/cache/squid/25/30/00025C25
2015/09/11 17:25:07 kid1| DiskThreadsDiskFile::openDone: (2) No such 
file or direct
ory
....
so like for the files mentioned above:
Notice 24 and 25 are really gone --   and they likely should have expired...

-rw-rwSr-- 1  12472 Sep 19  2014 00025C20
-rw-rwSr-- 1    348 Aug 22 14:23 00025C21
-rw-rwSr-- 1 461035 Aug  2 18:13 00025C22
-rw-rwSr-- 1   6466 Aug 22 14:23 00025C23
-rw-rwSr-- 1  37570 Aug 22 14:24 00025C26

Is there a command to run against the DB to have it check for
consistency?  I.e. maybe it will go away if the db is made consistent --
or... it will start doing this again after some period of time.





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005497.html">[squid-users] Possible memory leak?
</A></li>
	<LI>Next message (by thread): <A HREF="005502.html">[squid-users] high volume of 'missing files' in cache....TCP_SWAPFAIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5499">[ date ]</a>
              <a href="thread.html#5499">[ thread ]</a>
              <a href="subject.html#5499">[ subject ]</a>
              <a href="author.html#5499">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
