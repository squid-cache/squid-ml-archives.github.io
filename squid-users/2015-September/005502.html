<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] high volume of 'missing files' in cache....TCP_SWAPFAIL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20high%20volume%20of%20%27missing%20files%27%20in%0A%20cache....TCP_SWAPFAIL&In-Reply-To=%3C55F4D22C.6020608%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005499.html">
   <LINK REL="Next"  HREF="005558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] high volume of 'missing files' in cache....TCP_SWAPFAIL</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20high%20volume%20of%20%27missing%20files%27%20in%0A%20cache....TCP_SWAPFAIL&In-Reply-To=%3C55F4D22C.6020608%40treenet.co.nz%3E"
       TITLE="[squid-users] high volume of 'missing files' in cache....TCP_SWAPFAIL">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Sep 13 01:32:28 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005499.html">[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL
</A></li>
        <LI>Next message (by thread): <A HREF="005558.html">[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5502">[ date ]</a>
              <a href="thread.html#5502">[ thread ]</a>
              <a href="subject.html#5502">[ subject ]</a>
              <a href="author.html#5502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/09/2015 6:50 p.m., Linda W wrote:
&gt;<i> Is there a command to run against the DB to have it check for
</I>&gt;<i> consistency?  I.e. maybe it will go away if the db is made consistent --
</I>&gt;<i> or... it will start doing this again after some period of time.
</I>
The SWAPFAIL actions you see being logged are the cleaning up happening.
There is no manual command to do it.

Something outside the Squid worker has erased disk contents. Shutdown is
saving the swap.state, so that leaves other programs or other Squid
workers. ufs/aufs/diskd cache_dir are not SMP enabled and cannot be
shared between workers.

Also be aware that these disk files may have been erased at any point in
the past and simply not needed to be accessed by any client until now.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005499.html">[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL
</A></li>
	<LI>Next message (by thread): <A HREF="005558.html">[squid-users] high volume of 'missing files' in	cache....TCP_SWAPFAIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5502">[ date ]</a>
              <a href="thread.html#5502">[ thread ]</a>
              <a href="subject.html#5502">[ subject ]</a>
              <a href="author.html#5502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
