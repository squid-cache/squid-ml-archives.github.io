<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as reverse proxy with EC private key
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20reverse%20proxy%20with%20EC%20private%20key&In-Reply-To=%3CCAM-4Y7Hq2gH_ZrHXRmqQ%2BPrpe3bA0xpbJ9wAxZYdsgOOBrfgpw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005926.html">
   <LINK REL="Next"  HREF="005611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as reverse proxy with EC private key</H1>
    <B>Johannes Engel</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20reverse%20proxy%20with%20EC%20private%20key&In-Reply-To=%3CCAM-4Y7Hq2gH_ZrHXRmqQ%2BPrpe3bA0xpbJ9wAxZYdsgOOBrfgpw%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid as reverse proxy with EC private key">jcnengel at gmail.com
       </A><BR>
    <I>Mon Sep 21 14:09:37 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005926.html">[squid-users] [squid-announce] [ADVISORY] SQUID-2015:3 Multiple Remote Denial of service issues in SSL/TLS processing
</A></li>
        <LI>Next message (by thread): <A HREF="005611.html">[squid-users] Squid as reverse proxy with EC private key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5610">[ date ]</a>
              <a href="thread.html#5610">[ thread ]</a>
              <a href="subject.html#5610">[ subject ]</a>
              <a href="author.html#5610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

I would like to run squid 3.5.8 as a reverse proxy for our webserver. I
already have a certificate which is currently in use by the Apache
Webserver 2.4 itself. It is based upon an EC (elliptic curve) private key
of length 384.
Until now I have not managed to fire up squid with by specifying https_port
with private key and certificate. It will run, but all connection attempts
(e.g. using openssl s_client or gnutls-cli) will break down with the
following server-side error:

Error negotiating SSL connection on FD 14: error:1408A0C1:SSL
routines:SSL3_GET_CLIENT_HELLO:no shared cipher (1/-1)

The https_port line looks like this:
https_port 443 accel cert=/etc/squid/test.pem key=/etc/squid/test.key
cafile=/etc/squid/globalsign.pem dhparams=/etc/squid/dhparams.pem
defaultsite=my.web.site

Does Squid simply not support elliptic curvers for primary keys? OpenSSL
1.0.1k is installed which works fine with the Apache...

Thank you very much for your help.

Best regards,
Johannes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/c9b39377/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/c9b39377/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005926.html">[squid-users] [squid-announce] [ADVISORY] SQUID-2015:3 Multiple Remote Denial of service issues in SSL/TLS processing
</A></li>
	<LI>Next message (by thread): <A HREF="005611.html">[squid-users] Squid as reverse proxy with EC private key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5610">[ date ]</a>
              <a href="thread.html#5610">[ thread ]</a>
              <a href="subject.html#5610">[ subject ]</a>
              <a href="author.html#5610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
