<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid with AD - missing libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20with%20AD%20-%20missing%20libraries&In-Reply-To=%3CSNT148-W49D3D80CA50CE9F7E867859E450%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005635.html">
   <LINK REL="Next"  HREF="005637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid with AD - missing libraries</H1>
    <B>Ver&#243;nica Ovando</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20with%20AD%20-%20missing%20libraries&In-Reply-To=%3CSNT148-W49D3D80CA50CE9F7E867859E450%40phx.gbl%3E"
       TITLE="[squid-users] Squid with AD - missing libraries">vero.ovando at live.com
       </A><BR>
    <I>Tue Sep 22 11:52:10 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005635.html">[squid-users] front netdata
</A></li>
        <LI>Next message (by thread): <A HREF="005637.html">[squid-users] Squid with AD - missing libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5633">[ date ]</a>
              <a href="thread.html#5633">[ thread ]</a>
              <a href="subject.html#5633">[ subject ]</a>
              <a href="author.html#5633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody,
I am newbie with Squid3. I am trying to integrate my squid con with Active Directory. Squid works well in non-transparent mode. I followed this tutorial: <A HREF="http://wiki.bitbinary.com/index.php/Active_Directory_Integrated_Squid_Proxy#Authentication">http://wiki.bitbinary.com/index.php/Active_Directory_Integrated_Squid_Proxy#Authentication</A> for the set up.I need to authenticate clients not authenticated via Kerberos and users authenticated in the AD.
I installed squid3 and ldap-utils from repositories (over Debian Jessie), but i can&#180;t find some libraries such as /usr/lib/squid3/squid_ldap_group and /usr/lib/squid3/squid_ldap_auth. They are not in the expected directories. I used apt-file search but with no results.
These are the libraries in the /usr/lib/squid3 dir:basic_db_auth		      basic_radius_auth		   	basic_fake_auth		      basic_sasl_auth		   	 basic_getpwnam_auth	      basic_smb_auth		   		 basic_ldap_auth		      basic_smb_auth.sh		   	 basic_msnt_auth		      	   		 basic_msnt_multi_domain_auth  		   		 basic_ncsa_auth		      		   basic_nis_auth		     			   		basic_pam_auth		      	   basic_pop3_auth		      cert_tool		digest_ldap_auth diskddigest_file_authext_kerberos_ldap_group_acl  ext_ldap_group_acl		ext_file_userip_aclext_unix_group_acl	ext_sql_session_aclext_session_acl	ext_ldap_group_acl	 ext_wbinfo_group_aclhelper-mux.pllog_db_daemon		log_file_daemonnegotiate_wrapper_auth negotiate_wrapper_authnegotiate_kerberos_auth_test ntlm_fake_authpingerstoreid_file_rewriteunlinkd url_fake_rewrite.shnegotiate_kerberos_auth url_fake_rewritentlm_smb_lm_auth
I can't test if an user belongs to a group as shown here/usr/lib/squid3/squid_ldap_group -R -K -S -b &quot;dc=example,dc=local&quot; -D <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid at example.local</A> -W /etc/squid3/ldappass.txt -f &quot;(&amp;(objectclass=person)(sAMAccountName=%v)(memberof=cn=%g,ou=Security Groups,ou=MyBusiness,dc=example,dc=local))&quot; -h dc1.example.local
EXAMPLE\Username Internet%20Users%20StandardI had to use ext_wbinfo_group_acl to perform that test.
Because of the missing libraries, I can't create the authentication for users not authenticated with Kerberos/NTLM:auth_param basic program /usr/lib/squid3/squid_ldap_auth -R -b &quot;dc=example,dc=local&quot; -D <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid at example.local</A> -W /etc/squid3/ldappass.txt -f sAMAccountName=%s -h dc1.example.local
and cannot create the LDAP authorisation for groups:external_acl_type memberof %LOGIN /usr/lib/squid3/squid_ldap_group -R -K -S -b &quot;dc=example,dc=local&quot; -D <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid at example.local</A> -W /etc/squid3/ldappass.txt -f &quot;(&amp;(objectclass=person)(sAMAccountName=%v)(memberof=cn=%g,ou=Security Groups,ou=MyBusiness,dc=example,dc=local))&quot; -h dc1.example.local

Why those libraries does not exists? Can I perform the same authentications using others? 
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150922/ecdeebbb/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150922/ecdeebbb/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005635.html">[squid-users] front netdata
</A></li>
	<LI>Next message (by thread): <A HREF="005637.html">[squid-users] Squid with AD - missing libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5633">[ date ]</a>
              <a href="thread.html#5633">[ thread ]</a>
              <a href="subject.html#5633">[ subject ]</a>
              <a href="author.html#5633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
