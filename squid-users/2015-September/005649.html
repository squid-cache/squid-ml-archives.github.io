<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid-users Digest, Vol 13, Issue 62
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%0A%09%3D%3Futf-8%3Fq%3Fsquid-users_Digest%3D2C_Vol_13%3D2C_Issue_62%3F%3D&In-Reply-To=%3CSNT406-EAS276A90441146C596F8EA81AD1440%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005631.html">
   <LINK REL="Next"  HREF="005650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid-users Digest, Vol 13, Issue 62</H1>
    <B>Mumin Coder</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%0A%09%3D%3Futf-8%3Fq%3Fsquid-users_Digest%3D2C_Vol_13%3D2C_Issue_62%3F%3D&In-Reply-To=%3CSNT406-EAS276A90441146C596F8EA81AD1440%40phx.gbl%3E"
       TITLE="[squid-users] squid-users Digest, Vol 13, Issue 62">mumincoder at outlook.com
       </A><BR>
    <I>Tue Sep 22 09:38:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005631.html">[squid-users] need help for using squid
</A></li>
        <LI>Next message (by thread): <A HREF="005650.html">[squid-users] Sanitised websites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5649">[ date ]</a>
              <a href="thread.html#5649">[ thread ]</a>
              <a href="subject.html#5649">[ subject ]</a>
              <a href="author.html#5649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I need database to store sanitized websites (cleaned from javascript malicious parts). If CRC changes webpage should be resanitized, otherwise serve proxy version of the website.





Von: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>
Gesendet: &#8206;Montag&#8206;, &#8206;21&#8206;. &#8206;September&#8206; &#8206;2015 &#8206;13&#8206;:&#8206;59
An: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>





Send squid-users mailing list submissions to
        <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
        <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
or, via email, send a message with subject or body 'help' to
        <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>

You can reach the person managing the list at
        <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-owner at lists.squid-cache.org</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of squid-users digest...&quot;


Today's Topics:

   1. Squid not following 302 (Ashish Mukherjee)
   2. Database dilema (Mumin Coder)
   3. Re: Database dilema (Eliezer Croitoru)
   4. Re: Squid not following 302 (Antony Stone)
   5. Re: Lots of &quot;Vary object loop!&quot; (Eliezer Croitoru)
   6. Re: Squid not following 302 (Amos Jeffries)


----------------------------------------------------------------------

Message: 1
Date: Mon, 21 Sep 2015 14:50:56 +0530
From: Ashish Mukherjee &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ashish.mukherjee at gmail.com</A>&gt;
To: Squid Users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
Subject: [squid-users] Squid not following 302
Message-ID:
        &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">CACgMzfwVAabOrx__YxRJg3VEXda9zY3_7jYNarow+DUHadyckQ at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hello,

Squid does not follow 302 and sends back the 302 header to the client. I am
aware it is so as it would be bad to hide the ultimate url from the client
and for reasons of cache poisoning etc.

However, I have a scenario where I need to implement a proxy browsing
pattern for a controlled audience such that I would like Squid to follow
redirections. How can I configure Squid to do so?

Regards,
Ashish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/f6b51a90/attachment-0001.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/f6b51a90/attachment-0001.html</A>&gt;

------------------------------

Message: 2
Date: Tue, 15 Sep 2015 09:23:01 +0000
From: Mumin Coder &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">mumincoder at outlook.com</A>&gt;
To: &quot;=?utf-8?Q?<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>?=&quot;
        &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
Subject: [squid-users] Database dilema
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">SNT406-EAS398B813270931CE94F54CCBD1460 at phx.gbl</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;


I want to make some kind of safe transparent proxy using ubuntu, squid, icap or ecap, database (MongoDB or MySql) and XSS prevention module. I want to be able to inspect URL and javascript/xml inside web page with my sandboxed module (javascript engine) which will be connected to squid and database using content adaptation. I want to make it optimal when it comes to processing/analysing of  requested webpage. Thus I want to use database in order to store visited safe or unsafe URLs and javascript code. Currently I am using Greasyspoon as ICAP server, which I am adapting to my needs. I am not sure which database should I use to fit my needs and how to connect/configure it?


Thank you in advance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150915/17737051/attachment-0001.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150915/17737051/attachment-0001.html</A>&gt;

------------------------------

Message: 3
Date: Mon, 21 Sep 2015 12:56:26 +0300
From: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Database dilema
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">55FFD44A.8050901 at ngtech.co.il</A>&gt;
Content-Type: text/plain; charset=utf-8; format=flowed

Hey Mumin,

What do you need from the db?
If you need a blacklist I can offer you to use SquidBlocker which I wrote:
<A HREF="http://ngtech.co.il/squidblocker/">http://ngtech.co.il/squidblocker/</A>
The DB is not fully documented but it works under a very heavy load and 
seems to give good results.

Eliezer

On 15/09/2015 12:23, Mumin Coder wrote:
&gt;<i>
</I>&gt;<i> I want to make some kind of safe transparent proxy using ubuntu, squid, icap or ecap, database (MongoDB or MySql) and XSS prevention module. I want to be able to inspect URL and javascript/xml inside web page with my sandboxed module (javascript engine) which will be connected to squid and database using content adaptation. I want to make it optimal when it comes to processing/analysing of  requested webpage. Thus I want to use database in order to store visited safe or unsafe URLs and javascript code. Currently I am using Greasyspoon as ICAP server, which I am adapting to my needs. I am not sure which database should I use to fit my needs and how to connect/configure it?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you in advance.
</I>


------------------------------

Message: 4
Date: Mon, 21 Sep 2015 11:56:43 +0200
From: Antony Stone &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Squid not following 302
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">201509211156.43947.Antony.Stone at squid.open.source.it</A>&gt;
Content-Type: Text/Plain;  charset=&quot;iso-8859-15&quot;

On Monday 21 September 2015 at 11:20:56, Ashish Mukherjee wrote:

&gt;<i> Squid does not follow 302 and sends back the 302 header to the client. I am
</I>&gt;<i> aware it is so as it would be bad to hide the ultimate url from the client
</I>&gt;<i> and for reasons of cache poisoning etc.
</I>&gt;<i> 
</I>&gt;<i> However, I have a scenario where I need to implement a proxy browsing
</I>&gt;<i> pattern for a controlled audience such that I would like Squid to follow
</I>&gt;<i> redirections. How can I configure Squid to do so?
</I>
1. Why not just let the browser handle the 302 as normal?

2. I suggest you look at
<A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/302-td4658091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/302-td4658091.html</A>

Regards,


Antony.

-- 
This email was created using 100% recycled electrons.

                                                   Please reply to the list;
                                                         please *don't* CC me.


------------------------------

Message: 5
Date: Mon, 21 Sep 2015 13:03:08 +0300
From: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Lots of &quot;Vary object loop!&quot;
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">55FFD5DC.2020201 at ngtech.co.il</A>&gt;
Content-Type: text/plain; charset=utf-8; format=flowed

Is it happening also with ram cahce only? no disk cache?

Eliezer

On 04/09/2015 00:02, Sebasti&#225;n Goicochea wrote:
&gt;<i> But still seeing all those Vary loops all the time
</I>&gt;<i>
</I>&gt;<i> :(
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Sebastian
</I>


------------------------------

Message: 6
Date: Mon, 21 Sep 2015 23:08:39 +1200
From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Squid not following 302
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">55FFE537.20307 at treenet.co.nz</A>&gt;
Content-Type: text/plain; charset=utf-8

On 21/09/2015 9:20 p.m., Ashish Mukherjee wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Squid does not follow 302 and sends back the 302 header to the client. I am
</I>&gt;<i> aware it is so as it would be bad to hide the ultimate url from the client
</I>&gt;<i> and for reasons of cache poisoning etc.
</I>
Then why do you expect Squid would be allowed to be configured to do that?

Besides the corruption problems 302 messages contain a payload/body
which some clients need to display and/or process instead of the
Location header.


&gt;<i> 
</I>&gt;<i> However, I have a scenario where I need to implement a proxy browsing
</I>&gt;<i> pattern for a controlled audience such that I would like Squid to follow
</I>&gt;<i> redirections. How can I configure Squid to do so?
</I>
You would need a ICAP or eCAP RESPMOD adaptor to do that. Since you are
requesting whole-message adaptation.


PS. any server which is fooled by the behaviour you are trying to
achieve is violating the HTTP requirenment:
&quot;
   server MUST NOT assume that two requests on the same connection are
   from the same user agent
&quot;

Amos



------------------------------

Subject: Digest Footer

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


------------------------------

End of squid-users Digest, Vol 13, Issue 62
*******************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20150922/028b61b7/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20150922/028b61b7/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005631.html">[squid-users] need help for using squid
</A></li>
	<LI>Next message (by thread): <A HREF="005650.html">[squid-users] Sanitised websites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5649">[ date ]</a>
              <a href="thread.html#5649">[ thread ]</a>
              <a href="subject.html#5649">[ subject ]</a>
              <a href="author.html#5649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
