<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to avoid Squid disclosing the origin server IP when there is an error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20avoid%20Squid%20disclosing%20the%20origin%20server%0A%20IP%20when%20there%20is%20an%20error&In-Reply-To=%3C560720E2.6050805%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005711.html">
   <LINK REL="Next"  HREF="005715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to avoid Squid disclosing the origin server IP when there is an error</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20avoid%20Squid%20disclosing%20the%20origin%20server%0A%20IP%20when%20there%20is%20an%20error&In-Reply-To=%3C560720E2.6050805%40treenet.co.nz%3E"
       TITLE="[squid-users] How to avoid Squid disclosing the origin server IP when there is an error">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Sep 26 22:49:06 UTC 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005711.html">[squid-users] How to avoid Squid disclosing the origin server IP when there is an error
</A></li>
        <LI>Next message (by thread): <A HREF="005715.html">[squid-users] How to avoid Squid disclosing the origin server IP when there is an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5712">[ date ]</a>
              <a href="thread.html#5712">[ thread ]</a>
              <a href="subject.html#5712">[ subject ]</a>
              <a href="author.html#5712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/09/2015 11:48 p.m., Manuel wrote:
&gt;<i> When Squid -even as a reverse proxy (which is my concern)- can not retrieve
</I>&gt;<i> the requested URL, it dicloses the IP address of the server trying to
</I>&gt;<i> contact with. Is there any way to hide that IP address to the public for
</I>&gt;<i> security reasons?
</I>
This is not a security problem.

1) security by obscurity does not work.

2) &quot;127.0.0.1&quot; does not leak any information other than a CDN proxy is
being used. The existence of the error page itself and several other
mandatory details in the HTTP protocol provides the exact same information.

3) If 127.0.0.1 interface on your server is accessible from a remote
machine; then you have much, much worse security problems that need fixing.


This is a privacy related thing.

I say thing specifically because &quot;problem&quot; and &quot;issue&quot; would imply
actually being a problem. There is zero privacy loss from server IPs
being known. It is required to inform the client to prevent it repeating
this query via other routes which intersect or terminate at the same
broken server IP.



&gt;<i> 
</I>&gt;<i> Example of the error message I am referring to:
</I>&gt;<i> &quot;The requested URL could not be retrieved
</I>&gt;<i> 
</I>&gt;<i> While trying to retrieve the URL: <A HREF="http://www.domainame.com/">http://www.domainame.com/</A>
</I>&gt;<i> 
</I>&gt;<i> The following error was encountered:
</I>&gt;<i> 
</I>&gt;<i> * Connection to 127.0.0.1 Failed
</I>&gt;<i> 
</I>&gt;<i> The system returned:
</I>&gt;<i> 
</I>&gt;<i> (110) Connection timed out
</I>&gt;<i> 
</I>&gt;<i> The remote host or network may be down. Please try the request again.
</I>&gt;<i> 
</I>&gt;<i> Your cache administrator is @
</I>
Thats a funky email address to have for administrative / webmaster contact.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005711.html">[squid-users] How to avoid Squid disclosing the origin server IP when there is an error
</A></li>
	<LI>Next message (by thread): <A HREF="005715.html">[squid-users] How to avoid Squid disclosing the origin server IP when there is an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5712">[ date ]</a>
              <a href="thread.html#5712">[ thread ]</a>
              <a href="subject.html#5712">[ subject ]</a>
              <a href="author.html#5712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
