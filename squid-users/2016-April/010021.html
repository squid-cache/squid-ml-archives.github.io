<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] how to use squid as a tcp forward proxy?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20how%20to%20use%20squid%20as%20a%20tcp%20forward%20proxy%3F&In-Reply-To=%3C570428B5.8060007%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010014.html">
   <LINK REL="Next"  HREF="010015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] how to use squid as a tcp forward proxy?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20how%20to%20use%20squid%20as%20a%20tcp%20forward%20proxy%3F&In-Reply-To=%3C570428B5.8060007%40measurement-factory.com%3E"
       TITLE="[squid-users] how to use squid as a tcp forward proxy?">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Apr  5 21:05:57 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010014.html">[squid-users] how to use squid as a tcp forward proxy?
</A></li>
        <LI>Next message (by thread): <A HREF="010015.html">[squid-users] squid ftp-proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10021">[ date ]</a>
              <a href="thread.html#10021">[ thread ]</a>
              <a href="subject.html#10021">[ subject ]</a>
              <a href="author.html#10021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/05/2016 01:50 AM, phafer wrote:

&gt;<i> how can I extend squid to process/modify payload of my private
</I>&gt;<i> application protocol basing on TCP?
</I>
You probably should not -- Squid is not designed to be a TCP proxy and
there ought to be better/true TCP proxies out there.


&gt;<i> Client-&gt;squid-&gt;my squid plugin which is used to process/modify payload
</I>&gt;<i> of tcp traffic-&gt;Server
</I>
If you insist on modifying Squid, you can try to do what Native FTP code
in Squid does today:

1. Accept traffic from FTP clients at ftp_port.
2. Convert FTP traffic into fake HTTP messages.
3. General Squid code, including eCAP/ICAP, handles those HTTP messages.
4. Convert fake HTTP messages back into FTP traffic sent to FTP servers.

Doing so requires lots of complicated development, but should give you
what you want at the end. Standard eCAP/ICAP &quot;plugin&quot; interfaces can
then be used for message adaptation:
<A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A>


Again, most likely, Squid is the wrong solution for your problem.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010014.html">[squid-users] how to use squid as a tcp forward proxy?
</A></li>
	<LI>Next message (by thread): <A HREF="010015.html">[squid-users] squid ftp-proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10021">[ date ]</a>
              <a href="thread.html#10021">[ thread ]</a>
              <a href="subject.html#10021">[ subject ]</a>
              <a href="author.html#10021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
