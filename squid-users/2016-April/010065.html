<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.16 and vary loop objects (bug ?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.16%20and%20vary%20loop%20objects%20%28bug%20%3F%29&In-Reply-To=%3C57065F3C.3020201%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010049.html">
   <LINK REL="Next"  HREF="010130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.16 and vary loop objects (bug ?)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.16%20and%20vary%20loop%20objects%20%28bug%20%3F%29&In-Reply-To=%3C57065F3C.3020201%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.5.16 and vary loop objects (bug ?)">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Apr  7 13:23:08 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010049.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
        <LI>Next message (by thread): <A HREF="010130.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10065">[ date ]</a>
              <a href="thread.html#10065">[ thread ]</a>
              <a href="subject.html#10065">[ subject ]</a>
              <a href="author.html#10065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/04/2016 1:42 a.m., joe wrote:
&gt;<i> yes
</I>&gt;<i> 
</I>&gt;<i> FredB wrote
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Attached is a patch which I think will fix 3.5.16 (should apply fine
</I>&gt;&gt;&gt;<i> on
</I>&gt;&gt;&gt;<i> 4.0.8 too) without needing the cache reset. Anyone able to test it
</I>&gt;&gt;&gt;<i> please?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Reset the cache still needed, at least in my case 
</I>&gt;&gt;<i>
</I>
Hmm. I'm not sure why that reset would be needed. I just ran a series of
tests with detailed debugging of the vary details being loaded from disk
and it seems the last patch was correctly erasing the \0 terminators
(and they were wrongly being stored).

So at least this new regression is fixed. Anything else seen in Vary is
a separate bug.

FYI Ralf reported bug 4481 to track it. I have updated the bug with an
explanation of the issue and applied that last patch to Squid-4 now. It
should be in 3.5 in a day or two.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010049.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
	<LI>Next message (by thread): <A HREF="010130.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10065">[ date ]</a>
              <a href="thread.html#10065">[ thread ]</a>
              <a href="subject.html#10065">[ subject ]</a>
              <a href="author.html#10065">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
