<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.16 and vary loop objects (bug ?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.16%20and%20vary%20loop%20objects%20%28bug%20%3F%29&In-Reply-To=%3C1460039953628-4676990.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010066.html">
   <LINK REL="Next"  HREF="010076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.16 and vary loop objects (bug ?)</H1>
    <B>joe</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.16%20and%20vary%20loop%20objects%20%28bug%20%3F%29&In-Reply-To=%3C1460039953628-4676990.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid 3.5.16 and vary loop objects (bug ?)">chip_pop at hotmail.com
       </A><BR>
    <I>Thu Apr  7 14:39:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010066.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
        <LI>Next message (by thread): <A HREF="010076.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10071">[ date ]</a>
              <a href="thread.html#10071">[ thread ]</a>
              <a href="subject.html#10071">[ subject ]</a>
              <a href="author.html#10071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>some of my post you miss reading or
wen i ask for water  and i get water  same size same glas  but i was offered
somthing else i was refuse that
and my friend ask for the same he should get same glas of water same size
so what i was trying to enplane is
 

i ask  for gzip  the the md5 vary calculate with string
accept-encoding=&quot;gzip,%20deflate,%20sdch&quot; 
so the gzip dose not have %20  on front of it so we can use only that and
filter out those ,%20deflate,%20sdch
it will be string accept-encoding=&quot;gzip&quot; use  that in md5 calc only
if other browser has in vary string accept-encoding=&quot;gzip,%20deflate&quot; 
without examle  %20sdch
md5 calc use string accept-encoding=&quot;gzip,%20deflate&quot;
so we also filter out -- &gt; ,%20deflate
and keep only to use md5 with  string accept-encoding=&quot;gzip&quot;

since  gzip dose not have %20 on front of it

that will make a beter hit without any problem on all browser

as i says and i test the link i provide before   
on firefox   first time after the cache ar empty  i get HIT  alwes just by
using firefox
until now perfect

but  wen i use chrome since it send and resive in very  string
accept-encoding=&quot;gzip,%20deflate,%20sdch&quot;
the cached file ar deleted and resolt  = MISS  then it re creat new file
with HIT alwes just by using chrome

if i return to firefox its  MISS  then file got purged from cache then its
HIT again

if other browser has  vary  with string
accept-encoding=&quot;%20gzip,deflate,%20sdch&quot;
watch this      deflate   has no ---&gt;&gt; %20 in front of it so md5 calc should
use only deflate   not encluding the one with  %20   string
this how i understand it   and i monitor those prossess i prove that is
waste

so anoter example cause i dont know if im trying to explain it in right
manner 
 another browser get vary  string accept-encoding=&quot;%20gzip,%20deflate,sdch&quot;
as you see  sdch  its the one used  so we must use that filter out the rest 

variety with string confuse the correct match match lookup it it purge the
same file just becaus somthing in vary has extra string and its not used






--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-3-5-16-and-vary-loop-objects-bug-tp4676901p4676990.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-3-5-16-and-vary-loop-objects-bug-tp4676901p4676990.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010066.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
	<LI>Next message (by thread): <A HREF="010076.html">[squid-users] Squid 3.5.16 and vary loop objects (bug ?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10071">[ date ]</a>
              <a href="thread.html#10071">[ thread ]</a>
              <a href="subject.html#10071">[ subject ]</a>
              <a href="author.html#10071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
