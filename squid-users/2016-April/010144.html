<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 4: Cloudflare SSL connection problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204%3A%20Cloudflare%20SSL%20connection%20problem&In-Reply-To=%3C570D5C81.2030900%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010143.html">
   <LINK REL="Next"  HREF="010167.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 4: Cloudflare SSL connection problem</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204%3A%20Cloudflare%20SSL%20connection%20problem&In-Reply-To=%3C570D5C81.2030900%40gmail.com%3E"
       TITLE="[squid-users] Squid 4: Cloudflare SSL connection problem">yvoinov at gmail.com
       </A><BR>
    <I>Tue Apr 12 20:37:21 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010143.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
        <LI>Next message (by thread): <A HREF="010167.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10144">[ date ]</a>
              <a href="thread.html#10144">[ thread ]</a>
              <a href="subject.html#10144">[ subject ]</a>
              <a href="author.html#10144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
I suggests the matter can be openssl not OS:

root @ cthulhu /patch # openssl version -a
OpenSSL 1.0.1s  1 Mar 2016
built on: Tue Mar  1 15:42:26 2016
platform: solaris64-x86_64-cc-sunw
options:  bn(64,64) rc4(16x,int) des(ptr,cisc,16,int) idea(int)
blowfish(ptr)
compiler: /opt/solarisstudio12.4/bin/cc -I. -I.. -I../include  -KPIC
-DOPENSSL_PIC -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H
-DPK11_LIB_LOCATION=&quot;/usr/lib/64/libpkcs11.so&quot; -DHAVE_ISSETUGID
-DAV_SPARC_FJAES=0 -xO3 -m64 -xstrconst -Xa -DL_ENDIAN
-DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5
-DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM
-DAES_ASM -DVPAES_ASM -DBSAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM
OPENSSLDIR: &quot;/etc/opt/csw/ssl&quot;


13.04.16 2:29, Yuri Voinov &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;<i> root @ cthulhu /patch # dig www.cloudflare.com
</I>&gt;<i>
</I>&gt;<i> ; &lt;&lt;&gt;&gt; DiG 9.6-ESV-R11-P4 &lt;&lt;&gt;&gt; www.cloudflare.com
</I>&gt;<i> ;; global options: +cmd
</I>&gt;<i> ;; Got answer:
</I>&gt;<i> ;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 32548
</I>&gt;<i> ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 0
</I>&gt;<i>
</I>&gt;<i> ;; QUESTION SECTION:
</I>&gt;<i> ;www.cloudflare.com.            IN      A
</I>&gt;<i>
</I>&gt;<i> ;; ANSWER SECTION:
</I>&gt;<i> www.cloudflare.com.     86400   IN      A       198.41.214.162
</I>&gt;<i> www.cloudflare.com.     86400   IN      A       198.41.215.162
</I>&gt;<i>
</I>&gt;<i> ;; Query time: 538 msec
</I>&gt;<i> ;; SERVER: 127.0.0.1#53(127.0.0.1)
</I>&gt;<i> ;; WHEN: Wed Apr 13 02:28:34 ALMT 2016
</I>&gt;<i> ;; MSG SIZE  rcvd: 68
</I>&gt;<i>
</I>&gt;<i> root @ cthulhu /patch # uname -a
</I>&gt;<i> SunOS cthulhu 5.10 Generic_150401-30 i86pc i386 i86pc Solaris
</I>&gt;<i>
</I>&gt;<i> But I think OS does not matter here.
</I>&gt;<i>
</I>&gt;<i> 13.04.16 2:02, Eliezer Croitoru &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> &gt; What &quot;dig www.cloudflare.com&quot;
</I>&gt;<i>       results with?
</I>&gt;<i>
</I>&gt;<i>       &gt; Also what OS are you using? I am using CentOS 7 up to date...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>       &gt; Eliezer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>       &gt; On 12/04/2016 21:39, Yuri Voinov wrote:
</I>&gt;<i>
</I>&gt;<i>       &gt;&gt; root @ cthulhu /patch # openssl s_client -cipher
</I>&gt;<i>       'ECDHE-ECDSA-AES128-GCM-SHA256' -connect www.cloudflare.com:443
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>       &gt; _______________________________________________
</I>&gt;<i>
</I>&gt;<i>       &gt; squid-users mailing list
</I>&gt;<i>
</I>&gt;<i>       &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i>       &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJXDVyBAAoJENNXIZxhPexGpbAIALBIKKiTm3MsZYgftZ9sNzjg
CU0EzJIWxAnkVLfqcZEHOe+LyTV5wVLsHvv6jE2WjHmk84OL13OQh2vxSgB0uDa/
KwPfVr1cnibUku4KrA/+gScSIxjk0chkjugHjFGIlBz1wb8ARV3Rb7Ug5KbFMEbt
1QYuOX/iOntzzZYaXi0a2xL2+9e3r75GLZc39NStYBq169qFI9WsO2nweB/0WZMO
pcWX8Q5rxy6ha3xgxS4vLmyGdNNYVP3JBHQFJurDtd32zV+CJpZjK2OB0Pqj74kN
PMrUi3voUZNG2QZRVUwxkIHCWK4o44F7ZZvRjWbIhoLhQi8MP0m63gY+xS12KYU=
=DEfh
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160413/565836c9/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160413/565836c9/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x613DEC46.asc
Type: application/pgp-keys
Size: 2437 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160413/565836c9/attachment.key">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160413/565836c9/attachment.key</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010143.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
	<LI>Next message (by thread): <A HREF="010167.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10144">[ date ]</a>
              <a href="thread.html#10144">[ thread ]</a>
              <a href="subject.html#10144">[ subject ]</a>
              <a href="author.html#10144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
