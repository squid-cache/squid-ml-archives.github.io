<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Dynamic/CDN Content Caching Challenges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamic/CDN%20Content%20Caching%20Challenges&In-Reply-To=%3C570F6061.7000100%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010155.html">
   <LINK REL="Next"  HREF="010160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Dynamic/CDN Content Caching Challenges</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamic/CDN%20Content%20Caching%20Challenges&In-Reply-To=%3C570F6061.7000100%40treenet.co.nz%3E"
       TITLE="[squid-users] Dynamic/CDN Content Caching Challenges">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Apr 14 09:18:25 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010155.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
        <LI>Next message (by thread): <A HREF="010160.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10159">[ date ]</a>
              <a href="thread.html#10159">[ thread ]</a>
              <a href="subject.html#10159">[ subject ]</a>
              <a href="author.html#10159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/04/2016 8:03 p.m., Muhammad Faisal wrote:
&gt;<i> Hi,
</I>&gt;<i> I'm trying to deal with dynamic content to be cached by Squid 3.5 (i
</I>&gt;<i> tried many other version of squid e.g 2.7, 3.1, 3.4). By Dynamic I mean
</I>&gt;<i> the URL for the actual content is always change this results in the
</I>&gt;<i> wastage of Cache storage and low hit rate. As per my understanding I
</I>&gt;<i> have two challenges atm:
</I>&gt;<i> 
</I>&gt;<i> 1- Websites with dynamic URL for requested content (e.g filehippo,
</I>&gt;<i> download.com etc etc)
</I>
If the URL is dynamicaly generated, the resource/content behind it may
be too and thus would fail to meet the uniqueness requirement of StoreID:
 That every *object* cached at a particular store ID MUST be identical
(either binary and/or semantically) regardless of the URL(s) mapped to
that ID.


&gt;<i> 2- Streaming web sites where the dynamic URL has 206 (partial content)
</I>&gt;<i> tune.pk videos for e.g or windows updates (enabling range off set limit
</I>&gt;<i> to -1 causes havoc on upstream to we kept it disable is there some way
</I>&gt;<i> to control the behavior ?)
</I>
3- non-HTTP streaming. ICY and such like which are transferred over HTTP
proxies and supported by Squid but are not cacheable.

4- Dynamic sites where the content *actually* changes between two URLs
which you think are the same. Unless one has access to the server code
(ie open source CDN, or at minimum they published the mirroring URL
structure) it can be a lot of work to guarantee that any two URLs
matched by a regex pattern meet the uniqueness requirement of StoreID.

Solving #4 usually solves #1 on the way.


&gt;<i> 
</I>&gt;<i> If someone has successfully configured the above scenario please help me
</I>&gt;<i> out as i dont have programming background to deal with this complexity.
</I>
NP: You should not need programming know-how for this. Just &quot;good&quot; level
of regex experience and knowledge (mistakes are painful in this
particular situation). Plus ability+willingness to analyse the targeted
CDNs URL structure vs behaviour in a lot of detail (more systems
analysis skill than coding).


The Store-ID helper provided with Squid fed with the regex patterns in
the wiki &quot;database&quot; for some of the popular CDNs should give you some
savings. If only the popular jQuery ones.


&gt;<i> 
</I>&gt;<i> I tried using different store-ID helpers but no saving on upstream the
</I>&gt;<i> content is still coming from origin. Below is the helper i have used:
</I>
Your low success rate may be from the focus on <A HREF="http://">http://</A> URLs. Most of the
majors CDNs you are listing in this helper are actually using <A HREF="https://">https://</A>
URLs for their content nowdays.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010155.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
	<LI>Next message (by thread): <A HREF="010160.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10159">[ date ]</a>
              <a href="thread.html#10159">[ thread ]</a>
              <a href="subject.html#10159">[ subject ]</a>
              <a href="author.html#10159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
