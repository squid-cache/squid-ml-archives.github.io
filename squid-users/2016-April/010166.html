<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Dynamic/CDN Content Caching Challenges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamic/CDN%20Content%20Caching%20Challenges&In-Reply-To=%3C570F9FC1.50208%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010165.html">
   <LINK REL="Next"  HREF="010171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Dynamic/CDN Content Caching Challenges</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamic/CDN%20Content%20Caching%20Challenges&In-Reply-To=%3C570F9FC1.50208%40treenet.co.nz%3E"
       TITLE="[squid-users] Dynamic/CDN Content Caching Challenges">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Apr 14 13:48:49 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010165.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
        <LI>Next message (by thread): <A HREF="010171.html">[squid-users] grove.microsoft.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10166">[ date ]</a>
              <a href="thread.html#10166">[ thread ]</a>
              <a href="subject.html#10166">[ subject ]</a>
              <a href="author.html#10166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/04/2016 1:18 a.m., Muhammad Faisal wrote:
&gt;<i> Hi Amos,
</I>&gt;<i> As you mentioned &quot;Better to Store-ID cache the thing its Location header
</I>&gt;<i> is pointing to.&quot; The problem is Location header has random strings in
</I>&gt;<i> the URL that caused unique URL for the same object.
</I>&gt;<i> Location:
</I>&gt;<i> <A HREF="http://fs37.filehippo.com/9546/46cfd241f1da4ae9812f512f7b36643c/vlc-2.2.2-win64.exe">http://fs37.filehippo.com/9546/46cfd241f1da4ae9812f512f7b36643c/vlc-2.2.2-win64.exe</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Random string in the URL &quot;/9546/46cfd241f1da4ae9812f512f7b36643c&quot;
</I>&gt;<i> 
</I>&gt;<i> I was trying to deal with this situation.
</I>
I think you are missing the point of Store-ID.

Store-ID helper is simply the process of removing such randomness from
the URL - to point all possible permutations of the URL(s) at one cache
slot (aka ID). De-duplication of duplicate cache objects - nothing more.

The Store-ID is a text string naming the cache slot where the object is
stored. It can be anything but is important that your custom ones not
accidentally match a real possible URL - the &quot;.squid.internal&quot; piece in
the helper output is used for that.


That long and sometimes difficult analysis I wrote about is needed to
ensure that it truely is randomness that can be dropped and does not
have any meaning that affects the object in the response. If you drop
something that is not actual randomness then you end up with wrong
client responses sometimes - usually nasty results.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010165.html">[squid-users] Dynamic/CDN Content Caching Challenges
</A></li>
	<LI>Next message (by thread): <A HREF="010171.html">[squid-users] grove.microsoft.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10166">[ date ]</a>
              <a href="thread.html#10166">[ thread ]</a>
              <a href="subject.html#10166">[ subject ]</a>
              <a href="author.html#10166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
