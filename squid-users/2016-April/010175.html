<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 4: Cloudflare SSL connection problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204%3A%20Cloudflare%20SSL%20connection%20problem&In-Reply-To=%3C5710B19F.4020504%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010170.html">
   <LINK REL="Next"  HREF="010189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 4: Cloudflare SSL connection problem</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204%3A%20Cloudflare%20SSL%20connection%20problem&In-Reply-To=%3C5710B19F.4020504%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 4: Cloudflare SSL connection problem">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Apr 15 09:17:19 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010170.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
        <LI>Next message (by thread): <A HREF="010189.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10175">[ date ]</a>
              <a href="thread.html#10175">[ thread ]</a>
              <a href="subject.html#10175">[ subject ]</a>
              <a href="author.html#10175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/04/2016 6:31 a.m., Yuri Voinov wrote:
&gt;<i> 
</I>&gt;<i> Ok, nobody.
</I>&gt;<i> 
</I>&gt;<i> Well.
</I>&gt;<i> 
</I>&gt;<i> I've done my own research.
</I>&gt;<i> 
</I>&gt;<i> My suggestions:
</I>&gt;<i> 
</I>&gt;<i> CloudFlare now uses it's own custom OpenSSL 1.0.2 with very custom
</I>&gt;<i> patches with CHACHA Poly support.
</I>&gt;<i> 
</I>&gt;<i> This patches is not in upstream. Moreover, OpenSSL team no plans in the
</I>&gt;<i> foreseeable future to support the latest ciphers.
</I>&gt;<i> 
</I>&gt;<i> So, Squid 4 can't handshake TLS with CF right now. Possible it is Squid
</I>&gt;<i> 4.x branch bug. Because of 3.5.x does CF handshake.
</I>&gt;<i> 
</I>&gt;<i> LibreSSL does CHACHA right now.
</I>&gt;<i> 
</I>&gt;<i> The question is:
</I>&gt;<i> 
</I>&gt;<i> Amos, does Squid can support LibreSSL and, if no, when you plan to support?
</I>
Yes Squid does support LibreSSL. You can build against it with the
--with-openssl configure option, maybe using a =path parameter to ensure
it dont find an OpenSSL install.

The difference between LibreSSL and OpenSSL is likely to be more visible
in the squid.conf settings that it will accept and those that it
rejects. They are still basically the same but I know that the LibreSSL
guys are being very proactive removing old things like SSLv2 support. So
those config options wont work even when Squid-3.5 normally would
accepts them with OpenSSL.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010170.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
	<LI>Next message (by thread): <A HREF="010189.html">[squid-users] Squid 4: Cloudflare SSL connection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10175">[ date ]</a>
              <a href="thread.html#10175">[ thread ]</a>
              <a href="subject.html#10175">[ subject ]</a>
              <a href="author.html#10175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
