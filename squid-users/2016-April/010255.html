<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl_bump newbie troubles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl_bump%20newbie%20troubles&In-Reply-To=%3CCAAdA2WMSKPDMwicdQbqz62B_nCsJQ2mdbeu7Zj0yQr_AaeYkxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010254.html">
   <LINK REL="Next"  HREF="010256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl_bump newbie troubles</H1>
    <B>Odhiambo Washington</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl_bump%20newbie%20troubles&In-Reply-To=%3CCAAdA2WMSKPDMwicdQbqz62B_nCsJQ2mdbeu7Zj0yQr_AaeYkxQ%40mail.gmail.com%3E"
       TITLE="[squid-users] ssl_bump newbie troubles">odhiambo at gmail.com
       </A><BR>
    <I>Wed Apr 20 22:18:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010254.html">[squid-users] ssl_bump newbie troubles
</A></li>
        <LI>Next message (by thread): <A HREF="010256.html">[squid-users] ssl_bump newbie troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10255">[ date ]</a>
              <a href="thread.html#10255">[ thread ]</a>
              <a href="subject.html#10255">[ subject ]</a>
              <a href="author.html#10255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21 April 2016 at 00:11, Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
wrote:

&gt;<i> On 04/20/2016 02:22 PM, Odhiambo Washington wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; All I want is the ability to intercept SSL sites and control access to
</I>&gt;<i> &gt; them using TIME ACLs. That's all.
</I>&gt;<i>
</I>&gt;<i> I will assume that your definition of a &quot;site&quot; is &quot;domain name&quot;.
</I>&gt;<i>
</I>
Yes.


&gt;<i>
</I>&gt;<i> &gt; So in simple:
</I>&gt;<i> &gt; 1. UserX tries to access facebook.com/youtube.com
</I>&gt;<i> &gt; 2. I intercept transparently https traffic
</I>&gt;<i> &gt; 3. I tell squid &quot;don't allow this user to access facebook.com
</I>&gt;<i> &gt;  at this time, but let them access at some-other-time
</I>&gt;<i> &gt; 4. If time is right, let userX access the site.
</I>&gt;<i>
</I>&gt;<i> &gt; So looks like all I need is a setup of passive monitoring, given my
</I>&gt;<i> &gt; explanation above, right?
</I>&gt;<i>
</I>&gt;<i> The answer depends on what you want Squid to do when access is not
</I>&gt;<i> allowed. If you are OK with terminating the prohibited connection (no
</I>&gt;<i> error messages explaining company policy sent by Squid to your users!),
</I>&gt;<i> then yes:
</I>&gt;<i>
</I>&gt;<i>   ssl_bump terminate restricted_sites
</I>&gt;<i>   ssl_bump peek all
</I>&gt;<i>   ssl_bump splice all
</I>&gt;<i>
</I>

What I would like is:

1. that squid is able to 'see' that *userX* is trying to visit
<A HREF="https://www.facebook.com">https://www.facebook.com</A>
2. but at that particular time (time ACL) *userX* is not allowed to go to
facebook.com, so squid denies access, throws a default error on their
browser
3. However, *userY* has unrestricted access to anywhere at all times so
squid allows the user to proceed.
The time logic is already built in squid.conf. All that remains is just
intercept https traffic and let the time acls decide whether or not a user
can get there..


So allow me to ask: in *ssl_bump terminate restricted_sites, * I am lost as
to what restricted_sites represent.

If my squid.conf matters, I have it here: <A HREF="http://goo.gl/vA6nrB.">http://goo.gl/vA6nrB.</A> All I want
is to restrict/control (using time) access to TIMEWASTAGESITES :-)
I do not need to bump at all.

(My English could be my undoing here :-))

Thanks for your patience in baby-sitting me.


-- 
Best regards,
Odhiambo WASHINGTON,
Nairobi,KE
+254 7 3200 0004/+254 7 2274 3223
&quot;Oh, the cruft.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160421/68fd129a/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160421/68fd129a/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010254.html">[squid-users] ssl_bump newbie troubles
</A></li>
	<LI>Next message (by thread): <A HREF="010256.html">[squid-users] ssl_bump newbie troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10255">[ date ]</a>
              <a href="thread.html#10255">[ thread ]</a>
              <a href="subject.html#10255">[ subject ]</a>
              <a href="author.html#10255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
