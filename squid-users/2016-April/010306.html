<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid SSL Bump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20SSL%20Bump&In-Reply-To=%3C571AF12B.9000003%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010303.html">
   <LINK REL="Next"  HREF="010331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid SSL Bump</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20SSL%20Bump&In-Reply-To=%3C571AF12B.9000003%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid SSL Bump">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Apr 23 03:51:07 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010303.html">[squid-users] Squid SSL Bump
</A></li>
        <LI>Next message (by thread): <A HREF="010331.html">[squid-users] Squid SSL Bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10306">[ date ]</a>
              <a href="thread.html#10306">[ thread ]</a>
              <a href="subject.html#10306">[ subject ]</a>
              <a href="author.html#10306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/04/2016 7:02 a.m., Zee wrote:
&gt;<i> I am doing SSL bump it seems like Squid utilizes openssl library. I went ahead and updated openssl library to reflect new CA certificates, but it still fails to work and I see the following error.
</I>&gt;<i> &quot;The system returned:
</I>&gt;<i> (71) Protocol error (TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY)&quot;
</I>&gt;<i> Upgraded the library with the following yum install ca-certificates
</I>&gt;<i> 
</I>&gt;<i> --&gt; Running transaction check
</I>&gt;<i> ---&gt; Package ca-certificates.noarch 0:2014.1.98-65.1.el6 will be updated
</I>&gt;<i> ---&gt; Package ca-certificates.noarch 0:2015.2.6-65.0.1.el6_7 will be an update
</I>&gt;<i> 
</I>
The date in that package name (Feb 2015) seems to still be very old. IME
the global CA certs list changes every month or two. Particularly in the
past year when all CA have been rolling over to 2048 or 4096 bit crypto.

&gt;<i> But it still fails to work.
</I>&gt;<i> 
</I>
Squid version?
 The latest 4.0.9 (beta) and 3.5.17 releases contain several bug fixes
to intermediate cert handling that might show up like this.


What CA certificate can't be found?
 If needed you can always workaround it by loading the CA cert into
Squid explicitly.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010303.html">[squid-users] Squid SSL Bump
</A></li>
	<LI>Next message (by thread): <A HREF="010331.html">[squid-users] Squid SSL Bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10306">[ date ]</a>
              <a href="thread.html#10306">[ thread ]</a>
              <a href="subject.html#10306">[ subject ]</a>
              <a href="author.html#10306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
