<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Using Squid with 1 NIC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20Squid%20with%201%20NIC&In-Reply-To=%3C201604231946.40422.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010316.html">
   <LINK REL="Next"  HREF="010318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Using Squid with 1 NIC</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20Squid%20with%201%20NIC&In-Reply-To=%3C201604231946.40422.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Using Squid with 1 NIC">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Sat Apr 23 17:46:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010316.html">[squid-users] Using Squid with 1 NIC
</A></li>
        <LI>Next message (by thread): <A HREF="010318.html">[squid-users] Using Squid with 1 NIC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10317">[ date ]</a>
              <a href="thread.html#10317">[ thread ]</a>
              <a href="subject.html#10317">[ subject ]</a>
              <a href="author.html#10317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 23 April 2016 at 19:12:56, Yuri Voinov wrote:

&gt;<i> <A HREF="http://wiki.squid-cache.org/ConfigExamples/Intercept">http://wiki.squid-cache.org/ConfigExamples/Intercept</A>
</I>
Surely there's no reason to have to set up intercept mode (unless the OP can't 
configure the applications to use an explicit proxy)?

I'm assuming the gateway 192.168.1.1 does outbound NAT to the Internet 
(otherwise nothing would work), so all that's needed is to set up Squid on 
192.168.1.2 to allow access from 192.168.1.0/24, with a default gateway of 
192.168.1.1, and then configure each of the 192.168.1.x client machines to use 
192.168.1.2:3128 as their proxy server?

&gt;<i> 23.04.16 23:08, Tom Ku &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> &gt; Hi All,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I know this question has been beaten to death but I can't seem to find
</I>&gt;<i> &gt; any answers via google.  So i'm trying to set up a Squid proxy for my
</I>&gt;<i> &gt; VMware infrastructure.  I have multiple port groups networks and I plan
</I>&gt;<i> &gt; to put a Squid server in each port group to monitor network/internet
</I>&gt;<i> &gt; traffic.  So I would like my setup like this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 192.168.1.1 - Gateway
</I>&gt;<i> &gt; ^
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; Squid Proxy - 192.168.1.2)
</I>&gt;<i> &gt; ^
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; l
</I>&gt;<i> &gt; VMs (clients - 192.168.1.x/24)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Now i can only have 1 NIC on the Squid server.  I've read that
</I>&gt;<i> &gt; iptables will probably have to be configured.  Any help would be
</I>&gt;<i> &gt; appreciated.
</I>
I think one important thing you have missed out is why you need to use Squid 
at all in such a setup?  What are you trying to achieve by implementing it, 
instead of just giving all clients direct access to the Internet?



Antony.

-- 
There are two possible outcomes:

 If the result confirms the hypothesis, then you've made a measurement.
 If the result is contrary to the hypothesis, then you've made a discovery.

 - Enrico Fermi

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010316.html">[squid-users] Using Squid with 1 NIC
</A></li>
	<LI>Next message (by thread): <A HREF="010318.html">[squid-users] Using Squid with 1 NIC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10317">[ date ]</a>
              <a href="thread.html#10317">[ thread ]</a>
              <a href="subject.html#10317">[ subject ]</a>
              <a href="author.html#10317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
