<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.4.8 helpers doesn't work how I want !
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.8%20helpers%20doesn%27t%20work%20how%20I%20want%20%21&In-Reply-To=%3C571E5D33.3000601%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010337.html">
   <LINK REL="Next"  HREF="010338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.4.8 helpers doesn't work how I want !</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.4.8%20helpers%20doesn%27t%20work%20how%20I%20want%20%21&In-Reply-To=%3C571E5D33.3000601%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.4.8 helpers doesn't work how I want !">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Apr 25 18:08:51 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010337.html">[squid-users] Squid 3.4.8 helpers doesn't work how I want !
</A></li>
        <LI>Next message (by thread): <A HREF="010338.html">[squid-users] Logging ACL that triggered denied access with	http_access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10341">[ date ]</a>
              <a href="thread.html#10341">[ thread ]</a>
              <a href="subject.html#10341">[ subject ]</a>
              <a href="author.html#10341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/04/2016 3:28 a.m., Jok Thuau wrote:
&gt;<i> On Mon, Apr 25, 2016 at 7:33 AM, Hack Ensolo wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> ### http_access rules
</I>&gt;&gt;<i> http_access allow manager localhost
</I>&gt;&gt;<i> http_access allow auth
</I>&gt;&gt;<i> http_access deny !auth
</I>&gt;&gt;<i> http_access allow kerbusers
</I>&gt;&gt;<i> http_access allow localnet
</I>&gt;&gt;<i> http_access deny manager
</I>&gt;&gt;<i> http_access deny all
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Since the rules are &quot;first match&quot;, once you have &quot;allow auth&quot;, squid is
</I>&gt;<i> done. it will not look at the group membership (under &quot;kerbusers&quot;).
</I>&gt;<i> 
</I>&gt;<i> you should look at the acl type &quot;all-of&quot; and &quot;any-of&quot; to build your logic:
</I>&gt;<i> acl authn_authz all-of auth kerbusers
</I>&gt;<i> 
</I>&gt;<i> might be helpful and would make your config slightly easier to read...
</I>
I this simple case it will just make it a bit more confusing. Especially
since the admin is clearly not understanding the basics properly yet.

It also slows down Squid with additional authentication checks compared
to the config he does need.

&gt;<i> 
</I>&gt;<i> With that in mind, reconsider how you organize the rules...
</I>&gt;<i> 
</I>
Seconded. &lt;<A HREF="http://wiki.squid-cache.org/SquidFaq/SquidAcl#Common_Mistakes">http://wiki.squid-cache.org/SquidFaq/SquidAcl#Common_Mistakes</A>&gt;

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010337.html">[squid-users] Squid 3.4.8 helpers doesn't work how I want !
</A></li>
	<LI>Next message (by thread): <A HREF="010338.html">[squid-users] Logging ACL that triggered denied access with	http_access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10341">[ date ]</a>
              <a href="thread.html#10341">[ thread ]</a>
              <a href="subject.html#10341">[ subject ]</a>
              <a href="author.html#10341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
