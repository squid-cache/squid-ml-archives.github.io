<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] sslproxyflags DONT_VERIFY_PEER
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslproxyflags%20DONT_VERIFY_PEER&In-Reply-To=%3CCAHaxnUJAs7savtS-E-y907pvRxDfXB_r3qSTQ2zv87jGQ9i9Xg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011780.html">
   <LINK REL="Next"  HREF="011782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] sslproxyflags DONT_VERIFY_PEER</H1>
    <B>Bruce Rosenberg</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslproxyflags%20DONT_VERIFY_PEER&In-Reply-To=%3CCAHaxnUJAs7savtS-E-y907pvRxDfXB_r3qSTQ2zv87jGQ9i9Xg%40mail.gmail.com%3E"
       TITLE="[squid-users] sslproxyflags DONT_VERIFY_PEER">bruce.rosenberg.au at gmail.com
       </A><BR>
    <I>Thu Aug  4 01:05:08 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011780.html">[squid-users] sslproxyflags DONT_VERIFY_PEER
</A></li>
        <LI>Next message (by thread): <A HREF="011782.html">[squid-users] sslproxyflags DONT_VERIFY_PEER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11781">[ date ]</a>
              <a href="thread.html#11781">[ thread ]</a>
              <a href="subject.html#11781">[ subject ]</a>
              <a href="author.html#11781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It looks like you are missing the Verisign Class 3 Public Primary Root cert.
Notice the certificate chain list below.
Yahoo correctly send back all intermediate certificates in the TLS
handshake so the only certificate you need to make sure squid trusts (via
openssl) is the Verisign root.

You should be able to determine if the openssl client on the squid proxy
can verify the complete chain by running the following command on the proxy.
The important part is that at each step it outputs &quot;verify return: 1&quot;
meaning that the certificate at that depth in the chain was successfully
verified by it's issuing certificate i.e. the certificate at the previous
higher level depth that we have already established we trust.
The root certificate is automagically verified by virtue of being
explicitly trusted by your openssl.


$ openssl s_client -connect www.yahoo.com:443 &lt;/dev/null

                                    &#9166;
CONNECTED(00000003)
depth=3 C = US, O = &quot;VeriSign, Inc.&quot;, OU = Class 3 Public Primary
Certification Authority
verify return:1
depth=2 C = US, O = &quot;VeriSign, Inc.&quot;, OU = VeriSign Trust Network, OU =
&quot;(c) 2006 VeriSign, Inc. - For authorized use only&quot;, CN = VeriSign Class 3
Public Primary Certification Authority - G5
verify return:1
depth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN =
Symantec Class 3 Secure Server CA - G4
verify return:1
depth=0 C = US, ST = California, L = Sunnyvale, O = Yahoo Inc., OU =
Information Technology, CN = www.yahoo.com
verify return:1
---
Certificate chain
 0 s:/C=US/ST=California/L=Sunnyvale/O=Yahoo Inc./OU=Information
Technology/CN=www.yahoo.com
   i:/C=US/O=Symantec Corporation/OU=Symantec Trust Network/CN=Symantec
Class 3 Secure Server CA - G4
 1 s:/C=US/O=Symantec Corporation/OU=Symantec Trust Network/CN=Symantec
Class 3 Secure Server CA - G4
   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign,
Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary
Certification Authority - G5
 2 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=(c) 2006 VeriSign,
Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary
Certification Authority - G5
   i:/C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification
Authority


On Thu, Aug 4, 2016 at 9:51 AM, Stanford Prescott &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">stan.prescott at gmail.com</A>&gt;
wrote:

&gt;<i> Okay, it's not a name of the cert problem.
</I>&gt;<i>
</I>&gt;<i> I turned on extra debug info to see what I get when I remove the
</I>&gt;<i> DONT_VERIFY_PEER flag and tried accessing <A HREF="https://www.yahoo.com.">https://www.yahoo.com.</A> This is
</I>&gt;<i> what I got in the cache.log. I only see a couple of lines about a
</I>&gt;<i> certificate error. Sorry this is long but I didn't know what to include so
</I>&gt;<i> I just included everything for that one access attempt.
</I>&gt;<i>
</I>&gt;<i> *2016/08/03 18:12:16.701 kid1| 28,4| Eui48.cc(178) lookup: id=0xa2064b0
</I>&gt;<i> query ARP table*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(222) lookup: id=0xa2064b0
</I>&gt;<i> query ARP on each interface (128 found)*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface lo*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface eth2*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(237) lookup: id=0xa2064b0
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth2*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface eth1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(237) lookup: id=0xa2064b0
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Eui48.cc(280) lookup: id=0xa2064b0
</I>&gt;<i> got address 08:00:27:29:24:4a on eth1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rules)*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> localhostgreen*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:49732/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff%5D">http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff%5D</A>&gt;
</I>&gt;<i> (10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;)  vs
</I>&gt;<i> 10.40.40.1-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> localhostgreen = 0*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/3is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s1_connect*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s1_connect = 1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:49732/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5B:">http://10.40.40.110:49732/%5B:</A>&gt;:] ([::]:49732)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rules) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa210ad8 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 33,2| client_side.cc(3909)
</I>&gt;<i> httpsSslBumpAccessCheckDone: sslBump needed for local=52.34.245.108:443
</I>&gt;<i> &lt;<A HREF="http://52.34.245.108:443">http://52.34.245.108:443</A>&gt; remote=10.40.40.110:49732
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt; FD 14 flags=33 method 3*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,3| Checklist.cc(70) preCheck: 0xa214d28
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access#1*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> SWE_subnets*
</I>&gt;<i> *2016/08/03 18:12:16.702 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:49732/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D">http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D</A>&gt;
</I>&gt;<i> (10.40.40.0:49732 &lt;<A HREF="http://10.40.40.0:49732">http://10.40.40.0:49732</A>&gt;)  vs
</I>&gt;<i> 192.168.192.0-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:49732/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D">http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D</A>&gt;
</I>&gt;<i> (10.40.40.0:49732 &lt;<A HREF="http://10.40.40.0:49732">http://10.40.40.0:49732</A>&gt;)  vs
</I>&gt;<i> 10.40.40.0-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:49732/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D">http://10.40.40.110:49732/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D</A>&gt;
</I>&gt;<i> (10.40.40.0:49732 &lt;<A HREF="http://10.40.40.0:49732">http://10.40.40.0:49732</A>&gt;)  vs
</I>&gt;<i> 10.40.40.0-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> SWE_subnets = 1*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access#1 = 1*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access = 1*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa214d28 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa214d28 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf94fc08*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf94fc08*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf94fd3c*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf94fd3c*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa214d28*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa214d28*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:16.703 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rules)*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0 is  banned*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/3is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s1_connect*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s1_connect = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/6is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s2_client_hello*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s2_client_hello = 1*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_to_splice*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_allowed_hsts*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'tiles.services.mozilla.com &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt;'*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:tiles.services.mozilla.com
</I>&gt;<i> &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt; &lt;&gt;  .akamaihd.net &lt;<A HREF="http://akamaihd.net">http://akamaihd.net</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(47) match:
</I>&gt;<i> 'tiles.services.mozilla.com &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'none'*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:none &lt;&gt;  .akamaihd.net &lt;<A HREF="http://akamaihd.net">http://akamaihd.net</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(47) match: 'none' NOT
</I>&gt;<i> found*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_allowed_hsts = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_server_is_bank*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'tiles.services.mozilla.com &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt;'*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:tiles.services.mozilla.com
</I>&gt;<i> &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt; &lt;&gt;  .wellsfargo.com
</I>&gt;<i> &lt;<A HREF="http://wellsfargo.com">http://wellsfargo.com</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(47) match:
</I>&gt;<i> 'tiles.services.mozilla.com &lt;<A HREF="http://tiles.services.mozilla.com">http://tiles.services.mozilla.com</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'none'*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:none &lt;&gt;  .wellsfargo.com
</I>&gt;<i> &lt;<A HREF="http://wellsfargo.com">http://wellsfargo.com</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| ServerName.cc(47) match: 'none' NOT
</I>&gt;<i> found*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_server_is_bank = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_to_splice = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/4is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s2_client_hello*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s2_client_hello = 1*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:49732/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5B:">http://10.40.40.110:49732/%5B:</A>&gt;:] ([::]:49732)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rules) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa210ad8 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf95080c*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf95080c*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:16.704 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:16.869 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking fast rules*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,5| Checklist.cc(346) fastCheck:
</I>&gt;<i> aclCheckFast: list: 0x9de0a80*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> sslproxy_cert_error*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'DENIED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> sslproxy_cert_error#1*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:49732/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:49732/%5B:">http://10.40.40.110:49732/%5B:</A>&gt;:] ([::]:49732)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> sslproxy_cert_error#1 = 1*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> sslproxy_cert_error = 1*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer DENIED for match*
</I>&gt;<i> *2016/08/03 18:12:16.870 kid1| Error negotiating SSL on FD 16:
</I>&gt;<i> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify
</I>&gt;<i> failed (1/-1/0)*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,3| Checklist.cc(70) preCheck: 0xbf950b68
</I>&gt;<i> checking fast ACLs*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line)*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log = 1*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xbf950b68 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950b68*
</I>&gt;<i> *2016/08/03 18:12:16.871 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950b68*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 33,2| client_side.cc(816) swanSong:
</I>&gt;<i> local=52.34.245.108:443 &lt;<A HREF="http://52.34.245.108:443">http://52.34.245.108:443</A>&gt;
</I>&gt;<i> remote=10.40.40.110:49732 &lt;<A HREF="http://10.40.40.110:49732">http://10.40.40.110:49732</A>&gt; flags=33*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,3| Checklist.cc(70) preCheck: 0xbf950c28
</I>&gt;<i> checking fast ACLs*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line)*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line) = 1*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log = 1*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xbf950c28 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950c28*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950c28*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:16.998 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(178) lookup: id=0xa2064b0
</I>&gt;<i> query ARP table*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(222) lookup: id=0xa2064b0
</I>&gt;<i> query ARP on each interface (128 found)*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface lo*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface eth2*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(237) lookup: id=0xa2064b0
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth2*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(228) lookup: id=0xa2064b0
</I>&gt;<i> found interface eth1*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(237) lookup: id=0xa2064b0
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth1*
</I>&gt;<i> *2016/08/03 18:12:21.031 kid1| 28,4| Eui48.cc(280) lookup: id=0xa2064b0
</I>&gt;<i> got address 08:00:27:29:24:4a on eth1*
</I>&gt;<i> *2016/08/03 18:12:21.032 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:21.032 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access#1*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> SWE_subnets*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:40595/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:40595/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D">http://10.40.40.110:40595/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D</A>&gt;
</I>&gt;<i> (10.40.40.0:40595 &lt;<A HREF="http://10.40.40.0:40595">http://10.40.40.0:40595</A>&gt;)  vs
</I>&gt;<i> 10.40.40.0-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:40595 &lt;<A HREF="http://10.40.40.110:40595">http://10.40.40.110:40595</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> SWE_subnets = 1*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access#1 = 1*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access = 1*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa210ad8 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950198*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950198*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf9502cc*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf9502cc*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf94f87c*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf94f87c*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.054 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.101 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf9509dc*
</I>&gt;<i> *2016/08/03 18:12:21.102 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf9509dc*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,3| Checklist.cc(70) preCheck: 0xbf950ae8
</I>&gt;<i> checking fast ACLs*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line)*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log = 1*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xbf950ae8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950ae8*
</I>&gt;<i> *2016/08/03 18:12:21.150 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950ae8*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(178) lookup: id=0xa224638
</I>&gt;<i> query ARP table*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(222) lookup: id=0xa224638
</I>&gt;<i> query ARP on each interface (128 found)*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(228) lookup: id=0xa224638
</I>&gt;<i> found interface lo*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(228) lookup: id=0xa224638
</I>&gt;<i> found interface eth2*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(237) lookup: id=0xa224638
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth2*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(228) lookup: id=0xa224638
</I>&gt;<i> found interface eth1*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(237) lookup: id=0xa224638
</I>&gt;<i> looking up ARP address for 10.40.40.110 on eth1*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Eui48.cc(280) lookup: id=0xa224638
</I>&gt;<i> got address 08:00:27:29:24:4a on eth1*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950dec*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rules)*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> localhostgreen*
</I>&gt;<i> *2016/08/03 18:12:21.171 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:35474/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff%5D">http://10.40.40.110:35474/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff%5D</A>&gt;
</I>&gt;<i> (10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;)  vs
</I>&gt;<i> 10.40.40.1-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> localhostgreen = 0*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/3is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s1_connect*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s1_connect = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:35474/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474/%5B:">http://10.40.40.110:35474/%5B:</A>&gt;:] ([::]:35474)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rules) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa210ad8 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 33,2| client_side.cc(3909)
</I>&gt;<i> httpsSslBumpAccessCheckDone: sslBump needed for local=98.138.253.109:443
</I>&gt;<i> &lt;<A HREF="http://98.138.253.109:443">http://98.138.253.109:443</A>&gt; remote=10.40.40.110:35474
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt; FD 18 flags=33 method 3*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Checklist.cc(70) preCheck: 0xa214d28
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> http_access#1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> SWE_subnets*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare:
</I>&gt;<i> 10.40.40.110:35474/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D">http://10.40.40.110:35474/%5Bffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00%5D</A>&gt;
</I>&gt;<i> (10.40.40.0:35474 &lt;<A HREF="http://10.40.40.0:35474">http://10.40.40.0:35474</A>&gt;)  vs
</I>&gt;<i> 10.40.40.0-[::]/[ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00]*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> SWE_subnets = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access#1 = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> http_access = 1*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa214d28 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa214d28 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf94fc08*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf94fc08*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf94fd3c*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf94fd3c*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa214d28*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa214d28*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.172 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking slow rules*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rules)*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/0 is  banned*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/3is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s1_connect*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s1_connect = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/6is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s2_client_hello*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s2_client_hello = 1*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_to_splice*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_allowed_hsts*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt;'*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt; &lt;&gt;
</I>&gt;<i>  .akamaihd.net &lt;<A HREF="http://akamaihd.net">http://akamaihd.net</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(47) match:
</I>&gt;<i> 'www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'none'*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:none &lt;&gt;  .akamaihd.net &lt;<A HREF="http://akamaihd.net">http://akamaihd.net</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(47) match: 'none' NOT
</I>&gt;<i> found*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_allowed_hsts = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_server_is_bank*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt;'*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt; &lt;&gt;
</I>&gt;<i>  .wellsfargo.com &lt;<A HREF="http://wellsfargo.com">http://wellsfargo.com</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(47) match:
</I>&gt;<i> 'www.yahoo.com &lt;<A HREF="http://www.yahoo.com">http://www.yahoo.com</A>&gt;' NOT found*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(42) match: checking
</I>&gt;<i> 'none'*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,7| ServerName.cc(32)
</I>&gt;<i> aclHostDomainCompare: Match:none &lt;&gt;  .wellsfargo.com
</I>&gt;<i> &lt;<A HREF="http://wellsfargo.com">http://wellsfargo.com</A>&gt;*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| ServerName.cc(47) match: 'none' NOT
</I>&gt;<i> found*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_server_is_bank = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_to_splice = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 0*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'ALLOWED/4is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (ssl_bump rule)*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> tls_s2_client_hello*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> tls_s2_client_hello = 1*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:35474/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474/%5B:">http://10.40.40.110:35474/%5B:</A>&gt;:] ([::]:35474)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rule) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (ssl_bump rules) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,3| Checklist.cc(163) checkCallback:
</I>&gt;<i> ACLChecklist::checkCallback: 0xa210ad8 answer=ALLOWED*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf95080c*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf95080c*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.173 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Checklist.cc(70) preCheck: 0xa210ad8
</I>&gt;<i> checking fast rules*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,5| Checklist.cc(346) fastCheck:
</I>&gt;<i> aclCheckFast: list: 0x9de0a80*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> sslproxy_cert_error*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,5| Checklist.cc(400) bannedAction:
</I>&gt;<i> Action 'DENIED/0is not banned*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> sslproxy_cert_error#1*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,5| Acl.cc(138) matches: checking all*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,9| Ip.cc(95) aclIpAddrNetworkCompare:
</I>&gt;<i> aclIpAddrNetworkCompare: compare: 10.40.40.110:35474/[:
</I>&gt;<i> &lt;<A HREF="http://10.40.40.110:35474/%5B:">http://10.40.40.110:35474/%5B:</A>&gt;:] ([::]:35474)  vs [::]-[::]/[::]*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Ip.cc(539) match: aclIpMatchIp:
</I>&gt;<i> '10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt;' found*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Acl.cc(158) matches: checked: all = 1*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> sslproxy_cert_error#1 = 1*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> sslproxy_cert_error = 1*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xa210ad8 answer DENIED for match*
</I>&gt;<i> *2016/08/03 18:12:21.278 kid1| Error negotiating SSL on FD 20:
</I>&gt;<i> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify
</I>&gt;<i> failed (1/-1/0)*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,3| Checklist.cc(70) preCheck: 0xbf950b68
</I>&gt;<i> checking fast ACLs*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line)*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log = 1*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xbf950b68 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950b68*
</I>&gt;<i> *2016/08/03 18:12:21.279 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950b68*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 33,2| client_side.cc(816) swanSong:
</I>&gt;<i> local=98.138.253.109:443 &lt;<A HREF="http://98.138.253.109:443">http://98.138.253.109:443</A>&gt;
</I>&gt;<i> remote=10.40.40.110:35474 &lt;<A HREF="http://10.40.40.110:35474">http://10.40.40.110:35474</A>&gt; flags=33*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,3| Checklist.cc(70) preCheck: 0xbf950c28
</I>&gt;<i> checking fast ACLs*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,5| Acl.cc(138) matches: checking
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line)*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> (cache_access_log stdio:/var/log/squid/access.log line) = 1*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,3| Acl.cc(158) matches: checked:
</I>&gt;<i> cache_access_log stdio:/var/log/squid/access.log = 1*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,3| Checklist.cc(63) markFinished:
</I>&gt;<i> 0xbf950c28 answer ALLOWED for match*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xbf950c28*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xbf950c28*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,4| FilledChecklist.cc(66)
</I>&gt;<i> ~ACLFilledChecklist: ACLFilledChecklist destroyed 0xa210ad8*
</I>&gt;<i> *2016/08/03 18:12:21.331 kid1| 28,4| Checklist.cc(197) ~ACLChecklist:
</I>&gt;<i> ACLChecklist::~ACLChecklist: destroyed 0xa210ad8*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The web browser error says:
</I>&gt;<i> &quot;Failed to establish a secure connection to (a yahoo.com IP address was
</I>&gt;<i> here)&quot;
</I>&gt;<i> and another message of &quot;(71) Protocol error (TLS code:
</I>&gt;<i> X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY)&quot;
</I>&gt;<i> and &quot;Certificate issuer (CA) not known&quot;.
</I>&gt;<i>
</I>&gt;<i> On Wed, Aug 3, 2016 at 4:12 PM, Stanford Prescott &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">stan.prescott at gmail.com</A>
</I>&gt;<i> &gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Thanks for the info, Alex. That's very helpful about cleaning up my ACLs.
</I>&gt;&gt;<i> Those ACLs are a collection of ACLs that others have suggested I use, but
</I>&gt;&gt;<i> it would be nice to make them less confusing for me.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> With my limited understanding of how sslbump works, the idea for squid to
</I>&gt;&gt;<i> play MITM is that a self-signed cert like squidCA.der is imported to a
</I>&gt;&gt;<i> browser's root CAs. I have left a copy of the self-signed cert named
</I>&gt;&gt;<i> squidCA.pem in the squid's cert directory which only works if squid is told
</I>&gt;&gt;<i> to not verify the peer. When following the instructions how to generate the
</I>&gt;&gt;<i> self-signed cert with openssl, the .pem file must be converted to a .der
</I>&gt;&gt;<i> file for the browser to accept it. It just dawned on me that, could this be
</I>&gt;&gt;<i> related to the fact that the squid self-signed certs are not named the same?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Aug 3, 2016 at 3:01 PM, Alex Rousskov &lt;
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 08/03/2016 08:45 AM, Stanford Prescott wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &gt; ssl_bump none localhostgreen
</I>&gt;&gt;&gt;<i> &gt; ssl_bump peek tls_s1_connect all
</I>&gt;&gt;&gt;<i> &gt; ssl_bump splice tls_s2_client_hello tls_to_splice
</I>&gt;&gt;&gt;<i> &gt; ssl_bump stare tls_s2_client_hello all
</I>&gt;&gt;&gt;<i> &gt; ssl_bump bump tls_s3_server_hello all
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> AFAICT, the above is too complex. You can simplify it with:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   ssl_bump splice localhostgreen
</I>&gt;&gt;&gt;<i>   ssl_bump peek tls_s1_connect
</I>&gt;&gt;&gt;<i>   ssl_bump splice tls_to_splice
</I>&gt;&gt;&gt;<i>   ssl_bump stare all
</I>&gt;&gt;&gt;<i>   ssl_bump bump all
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and, after polishing your ACLs a little, possibly even with:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   ssl_bump splice transactions_to_splice
</I>&gt;&gt;&gt;<i>   ssl_bump peek tls_s1_connect
</I>&gt;&gt;&gt;<i>   ssl_bump stare all
</I>&gt;&gt;&gt;<i>   ssl_bump bump all
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> where transactions_to_splice is &quot;localhostgreen or (tls_s2_client_hello
</I>&gt;&gt;&gt;<i> and tls_to_splice)&quot;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> As for your original question, I recommend figuring out why Squid cannot
</I>&gt;&gt;&gt;<i> verify the peer. For example, your setup might be missing fresh
</I>&gt;&gt;&gt;<i> certificates for some well-known Root CAs. I do not know a good way to
</I>&gt;&gt;&gt;<i> figure out why peer verification does not work, but analyzing cache.log
</I>&gt;&gt;&gt;<i> with high-enough debugging level should be doable, especially if you can
</I>&gt;&gt;&gt;<i> reproduce the problem using a single transaction:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://wiki.squid-cache.org/SquidFaq/BugReporting#Debugging_a_single_transaction">http://wiki.squid-cache.org/SquidFaq/BugReporting#Debugging_a_single_transaction</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> HTH,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Alex.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160804/a6bc1991/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160804/a6bc1991/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011780.html">[squid-users] sslproxyflags DONT_VERIFY_PEER
</A></li>
	<LI>Next message (by thread): <A HREF="011782.html">[squid-users] sslproxyflags DONT_VERIFY_PEER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11781">[ date ]</a>
              <a href="thread.html#11781">[ thread ]</a>
              <a href="subject.html#11781">[ subject ]</a>
              <a href="author.html#11781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
