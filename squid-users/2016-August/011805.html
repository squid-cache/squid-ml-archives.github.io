<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Seeking insight into zeros, negative values in log: 2.6.STABLE18
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Seeking%20insight%20into%20zeros%2C%0A%20negative%20values%20in%20log%3A%202.6.STABLE18&In-Reply-To=%3Cec9d7dd1-99f6-91b4-ff6d-7b2f4ed95bd8%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011798.html">
   <LINK REL="Next"  HREF="011807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Seeking insight into zeros, negative values in log: 2.6.STABLE18</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Seeking%20insight%20into%20zeros%2C%0A%20negative%20values%20in%20log%3A%202.6.STABLE18&In-Reply-To=%3Cec9d7dd1-99f6-91b4-ff6d-7b2f4ed95bd8%40treenet.co.nz%3E"
       TITLE="[squid-users] Seeking insight into zeros, negative values in log: 2.6.STABLE18">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Aug  5 11:23:27 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011798.html">[squid-users] Seeking insight into zeros,	negative values in log: 2.6.STABLE18
</A></li>
        <LI>Next message (by thread): <A HREF="011807.html">[squid-users] Seeking insight into zeros,	negative values in log: 2.6.STABLE18
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11805">[ date ]</a>
              <a href="thread.html#11805">[ thread ]</a>
              <a href="subject.html#11805">[ subject ]</a>
              <a href="author.html#11805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/08/2016 12:37 a.m., Henry S. Thompson wrote:
&gt;<i> Thanks for your patience with this, but still not quite getting it.
</I>&gt;<i> 
</I>&gt;<i> I thought there were two cases:
</I>&gt;<i> 
</I>&gt;<i>   1) Client drops the connection before the interaction is complete ==
</I>&gt;<i>      log shows HTTP result code 000, almost always size 0 as well;
</I>&gt;<i> 
</I>&gt;<i>   2) Interaction completed successfully == HTTP result code as from
</I>&gt;<i>      cache or remote, size as sent to client.
</I>&gt;<i> 
</I>&gt;<i> See below how I can't make that fit with your reply
</I>

#1 is correct but incomplete. The 000 status means dropped any time
before the status to be delivered became known. So while &quot;incomplete&quot; is
true, there are very short times in the transaction where &quot;incomplete&quot;
is still true but are logged with non-000 status and size 0.

NP: There are also later times during payload delivery where drop can
happen so incomplete is still true and both status and size have values.
Those are impossible to detect in HTTP/1.0, so another reason to upgrade
to HTTP/1.1 software (Squid-3.2+).

The difference in timing between all these state changes should be a
very, very small number of milliseconds. Enough to see differently in
logs sometimes but should not be something to worry about.


The duration column is more important on these error entries as it shows
the user-visible latency. If that has big values (relative to your
usually expected network latency to the server) then its probably a sign
of network congestion slowing the TCP handshake or DNS lag. Not Squid
problems directly, but something to fix nevertheless.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011798.html">[squid-users] Seeking insight into zeros,	negative values in log: 2.6.STABLE18
</A></li>
	<LI>Next message (by thread): <A HREF="011807.html">[squid-users] Seeking insight into zeros,	negative values in log: 2.6.STABLE18
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11805">[ date ]</a>
              <a href="thread.html#11805">[ thread ]</a>
              <a href="subject.html#11805">[ subject ]</a>
              <a href="author.html#11805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
