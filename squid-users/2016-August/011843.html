<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Rate limiting bad clients?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rate%20limiting%20bad%20clients%3F&In-Reply-To=%3Cf5e1392a-5d46-6b5a-0bd4-89dd744812c4%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011832.html">
   <LINK REL="Next"  HREF="011833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Rate limiting bad clients?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rate%20limiting%20bad%20clients%3F&In-Reply-To=%3Cf5e1392a-5d46-6b5a-0bd4-89dd744812c4%40treenet.co.nz%3E"
       TITLE="[squid-users] Rate limiting bad clients?">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Aug  9 16:23:34 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011832.html">[squid-users] Rate limiting bad clients?
</A></li>
        <LI>Next message (by thread): <A HREF="011833.html">[squid-users] I redirect some http traffic to squid ( 90Mbps) and i found TIME_WAIT is 20840 and one of squid process is 57% , whether it will be fine ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11843">[ date ]</a>
              <a href="thread.html#11843">[ thread ]</a>
              <a href="subject.html#11843">[ subject ]</a>
              <a href="author.html#11843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/08/2016 5:39 p.m., Dan Charlesworth wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> This is more of a squid-adjacent query. Hopefully relevant enough for someone here to help&#8230;
</I>&gt;<i> 
</I>&gt;<i> I&#8217;m sick of all these web apps that take it upon themselves to hammer proxies when they don&#8217;t get the response they want, like if they have to authenticate for example. On big networks, behind a forward proxy, there&#8217;s always a few computers with some software doing dozens of identical, failing, requests per second.
</I>&gt;<i> 
</I>&gt;<i> - What&#8217;s a good approach for rate limiting the clients computers which are doing this?
</I>&gt;<i> - Can anyone point to a good tutorial for this using, say, iptables if that&#8217;s appropriate?
</I>&gt;<i> 
</I>&gt;<i> Any advice welcome.
</I>
HTTP being stateless Squid does not track correlations enough to do
anything like that.

I've been suggesting people add an external ACL helper that tracks
requests per client IP and tells Squid whether to accept or reject any
given request based on its history.
Recent Squid releases bundle ext_delayer_acl which is a Perl script that
can be adjusted for this type of thing.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011832.html">[squid-users] Rate limiting bad clients?
</A></li>
	<LI>Next message (by thread): <A HREF="011833.html">[squid-users] I redirect some http traffic to squid ( 90Mbps) and i found TIME_WAIT is 20840 and one of squid process is 57% , whether it will be fine ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11843">[ date ]</a>
              <a href="thread.html#11843">[ thread ]</a>
              <a href="subject.html#11843">[ subject ]</a>
              <a href="author.html#11843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
