<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl-bump / https traffic not cacheing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20/%20https%20traffic%20not%20cacheing&In-Reply-To=%3CCABs_askfq-CY-TEWw1qatwf8qySpzmVhjAcMf-sfeiRRgScdZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012099.html">
   <LINK REL="Next"  HREF="012077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl-bump / https traffic not cacheing</H1>
    <B>JR Dalrymple</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20/%20https%20traffic%20not%20cacheing&In-Reply-To=%3CCABs_askfq-CY-TEWw1qatwf8qySpzmVhjAcMf-sfeiRRgScdZQ%40mail.gmail.com%3E"
       TITLE="[squid-users] ssl-bump / https traffic not cacheing">jr at jrssite.com
       </A><BR>
    <I>Sat Aug 20 02:56:42 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012099.html">[squid-users] squid shutdown or reconfigure in Multi-instance	environment 3.5.2
</A></li>
        <LI>Next message (by thread): <A HREF="012077.html">[squid-users] ssl-bump / https traffic not cacheing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12072">[ date ]</a>
              <a href="thread.html#12072">[ thread ]</a>
              <a href="subject.html#12072">[ subject ]</a>
              <a href="author.html#12072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm sure I'm missing something stupid, but https traffic just isn't
caching. I really want to cache https alongside http as this project is for
a customer who lives in the sticks and pays dearly for every byte.

1471660884.894  11402 172.22.19.48 TCP_MISS/200 746898 GET
<A HREF="https://www.jrssite.com/newfi/fullsizes/081916214031.jpg">https://www.jrssite.com/newfi/fullsizes/081916214031.jpg</A> - ORIGINAL_DST/
23.30.254.3 image/jpeg
1471660967.389  14392 172.22.22.68 TCP_MISS/200 746898 GET
<A HREF="https://www.jrssite.com/newfi/fullsizes/081916214031.jpg">https://www.jrssite.com/newfi/fullsizes/081916214031.jpg</A> - ORIGINAL_DST/
23.30.254.3 image/jpeg
1471661329.884  33506 172.22.22.68 TCP_MISS/200 746898 GET
<A HREF="http://www.jrssite.com/newfi/fullsizes/081916214031.jpg">http://www.jrssite.com/newfi/fullsizes/081916214031.jpg</A> - ORIGINAL_DST/
23.30.254.3 image/jpeg
1471661385.282    402 172.22.19.48 TCP_HIT/200 746906 GET
<A HREF="http://www.jrssite.com/newfi/fullsizes/081916214031.jpg">http://www.jrssite.com/newfi/fullsizes/081916214031.jpg</A> - HIER_NONE/-
image/jpeg

# grep -i ssl /usr/local/squid/etc/squid.conf
acl SSL_ports port 443
# Deny CONNECT to other than secure SSL ports
http_access deny CONNECT !SSL_ports
ssl_bump stare all
ssl_bump bump all
https_port 127.0.0.1:3129 intercept ssl-bump generate-host-certificates=on
dynamic_cert_mem_cache_size=4MB cert=/usr/local/squid/etc/ssl/CACert.pem
sslcrtd_program /usr/local/squid/libexec/ssl_crtd -s
/usr/local/squid/var/lib/ssl_db -M 4MB
sslcrtd_children 10

Happy to provide any other information someone else might find useful. I'm
sure that there is just some point of ignorance on my part. This is indeed
all very new to me.

Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160820/1468db86/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160820/1468db86/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012099.html">[squid-users] squid shutdown or reconfigure in Multi-instance	environment 3.5.2
</A></li>
	<LI>Next message (by thread): <A HREF="012077.html">[squid-users] ssl-bump / https traffic not cacheing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12072">[ date ]</a>
              <a href="thread.html#12072">[ thread ]</a>
              <a href="subject.html#12072">[ subject ]</a>
              <a href="author.html#12072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
