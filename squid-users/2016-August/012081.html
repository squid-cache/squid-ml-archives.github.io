<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Samba 4 and ntlm_auth concurrency question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Samba%204%20and%20ntlm_auth%20concurrency%20question&In-Reply-To=%3C7611006e-ff51-5f4c-f789-2f250e3bdb52%40mdx.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012077.html">
   <LINK REL="Next"  HREF="012086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Samba 4 and ntlm_auth concurrency question</H1>
    <B>David Webb</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Samba%204%20and%20ntlm_auth%20concurrency%20question&In-Reply-To=%3C7611006e-ff51-5f4c-f789-2f250e3bdb52%40mdx.ac.uk%3E"
       TITLE="[squid-users] Squid Samba 4 and ntlm_auth concurrency question">d.webb at mdx.ac.uk
       </A><BR>
    <I>Sat Aug 20 13:34:12 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012077.html">[squid-users] ssl-bump / https traffic not cacheing
</A></li>
        <LI>Next message (by thread): <A HREF="012086.html">[squid-users] Squid Samba 4 and ntlm_auth concurrency question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12081">[ date ]</a>
              <a href="thread.html#12081">[ thread ]</a>
              <a href="subject.html#12081">[ subject ]</a>
              <a href="author.html#12081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm currently using the binary version of squid provided by yum with 
RHEL 7.2  (3.3.8) with Samba 4's  winbind ntlm_auth to authenticate 
against AD which is working fine

auth_param negotiate program /usr/bin/ntlm_auth --helper-protocol=gss-spnego
auth_param negotiate children 250  startup=2 idle=1
auth_param negotiate keep_alive off
#
auth_param ntlm program /usr/bin/ntlm_auth 
--helper-protocol=squid-2.5-ntlmssp
auth_param ntlm children 250  startup=2 idle=1
auth_param ntlm keep_alive off
#

However I'm wondering if I can reduce the number of  ntlm_auth processes 
created by introducing some concurrency.

I've seen mention of helper-mux.pl but from what I've seen on the web 
I'm not sure if this will work with negotiate and ntlm.
Also it  looks like in the future with Squid 4  helper-mux.pl is being 
retired.
I've also seen some mention of Samba 4 building in some concurrency 
itself into ntlm_auth but I'm not sure that this is fully supported.

So my question is what is the current state of play for squid 3.x (and 
upcoming squid 4) with respect to negotiate and ntlm concurrency with 
samba4 ?


-- 

David Webb  (CISSP-ISSAP)
Information Systems Security Architecture Professional
IT Security team leader
CCSS
Middlesex University




---------------------------------------------------------------------------


Please note that all incoming post to Middlesex University is opened and scanned by our digital document handler and then emailed to the recipient. If you do not want your correspondence to processed in this way please email the recipient directly. Parcels, couriered items and recorded delivery items will not be opened or scanned.  


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012077.html">[squid-users] ssl-bump / https traffic not cacheing
</A></li>
	<LI>Next message (by thread): <A HREF="012086.html">[squid-users] Squid Samba 4 and ntlm_auth concurrency question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12081">[ date ]</a>
              <a href="thread.html#12081">[ thread ]</a>
              <a href="subject.html#12081">[ subject ]</a>
              <a href="author.html#12081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
