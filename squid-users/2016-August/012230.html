<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid with random outgoing ip from pool of 1000	ips
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20with%20random%20outgoing%20ip%20from%20pool%20of%201000%0A%09ips&In-Reply-To=%3C8814f0a6-fae9-0483-d1fc-014b3d533dea%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012221.html">
   <LINK REL="Next"  HREF="012234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid with random outgoing ip from pool of 1000	ips</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20with%20random%20outgoing%20ip%20from%20pool%20of%201000%0A%09ips&In-Reply-To=%3C8814f0a6-fae9-0483-d1fc-014b3d533dea%40measurement-factory.com%3E"
       TITLE="[squid-users] squid with random outgoing ip from pool of 1000	ips">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun Aug 28 23:38:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012221.html">[squid-users] squid with random outgoing ip from pool of 1000	ips
</A></li>
        <LI>Next message (by thread): <A HREF="012234.html">[squid-users] squid with random outgoing ip from pool of 1000	ips
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12230">[ date ]</a>
              <a href="thread.html#12230">[ thread ]</a>
              <a href="subject.html#12230">[ subject ]</a>
              <a href="author.html#12230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/28/2016 03:56 AM, --Ahmad-- wrote:

&gt;<i> the rotation is very bad and the outgoing ip now is the ip that is
</I>&gt;<i> on my eth0 ipv6 address  only .
</I>&gt;<i> i mean the lists above not working at all and all request go with  1
</I>&gt;<i> ipv6 which is the ip that is on my eth0 address .
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> what wrong did i do ?
</I>
I do not know. I recommend the following procedure:

1. Start with just one outgoing IP address (that is not the default!)
and make that work well first. Does all from-Squid traffic originate at
that alternative IP address?

2. Move to two outgoing IP addresses (none of which is the default!) and
make that work well. Do you get a nice 50/50 distribution?

3. Use three IP addresses. This step will allow you to test your script.
Again, make sure everything works very well before you proceed any
further. Do measure the actual IP probabilities for a large number of
transactions to verify that your configuration is correct. You should
see ~33% of transactions using each alternative IP.

4. Move on to 1000 IP addresses. Check again.

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012221.html">[squid-users] squid with random outgoing ip from pool of 1000	ips
</A></li>
	<LI>Next message (by thread): <A HREF="012234.html">[squid-users] squid with random outgoing ip from pool of 1000	ips
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12230">[ date ]</a>
              <a href="thread.html#12230">[ thread ]</a>
              <a href="subject.html#12230">[ subject ]</a>
              <a href="author.html#12230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
