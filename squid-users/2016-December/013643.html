<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Transparent Proxy in AWS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Transparent%20Proxy%20in%20AWS&In-Reply-To=%3Cfb7baf0d-51aa-36e2-3f82-6647f5cd1cdb%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013641.html">
   <LINK REL="Next"  HREF="013644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Transparent Proxy in AWS</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Transparent%20Proxy%20in%20AWS&In-Reply-To=%3Cfb7baf0d-51aa-36e2-3f82-6647f5cd1cdb%40treenet.co.nz%3E"
       TITLE="[squid-users] Transparent Proxy in AWS">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Dec  2 00:00:21 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013641.html">[squid-users] Transparent Proxy in AWS
</A></li>
        <LI>Next message (by thread): <A HREF="013644.html">[squid-users] 100% cpu after about an hour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13643">[ date ]</a>
              <a href="thread.html#13643">[ thread ]</a>
              <a href="subject.html#13643">[ subject ]</a>
              <a href="author.html#13643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/12/2016 6:27 a.m., klops wrote:
&gt;<i> Does this mean the squid box has to be the overall gateway for the internal
</I>&gt;<i> network for transparrancy to work?
</I>
That is just one option. The other two are routing or tunnel, as I
mentioned in the second sentence.

&gt;<i> 
</I>&gt;<i> The reason the proposed setup the way it is is because AWS VPC  service has
</I>&gt;<i> a service based NAT gateway which we have not low level control over and it
</I>&gt;<i> is the default gateway. We want to only route http/https traffic over to
</I>&gt;<i> squid and the rest via their NAT gateway
</I>
NAT is a destructive process. DNAT erases the clients original
destination-IP and the only way around that requires that DNAT to happen
on the same machine as Squid.

If you cannot do that, then you cannot use intercept or tproxy modes on
this Squid.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013641.html">[squid-users] Transparent Proxy in AWS
</A></li>
	<LI>Next message (by thread): <A HREF="013644.html">[squid-users] 100% cpu after about an hour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13643">[ date ]</a>
              <a href="thread.html#13643">[ thread ]</a>
              <a href="subject.html#13643">[ subject ]</a>
              <a href="author.html#13643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
