<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Config Recommendations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Config%20Recommendations&In-Reply-To=%3C3b7f5b04-0b6f-4b4e-ce40-b6ecc1b27bff%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013685.html">
   <LINK REL="Next"  HREF="013662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Config Recommendations</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Config%20Recommendations&In-Reply-To=%3C3b7f5b04-0b6f-4b4e-ce40-b6ecc1b27bff%40treenet.co.nz%3E"
       TITLE="[squid-users] Config Recommendations">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Dec  7 00:38:12 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013685.html">[squid-users] Config Recommendations
</A></li>
        <LI>Next message (by thread): <A HREF="013662.html">[squid-users] Bad HTTP requests trigger ICAP suspension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13703">[ date ]</a>
              <a href="thread.html#13703">[ thread ]</a>
              <a href="subject.html#13703">[ subject ]</a>
              <a href="author.html#13703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/12/2016 4:05 a.m., <A HREF="https://lists.squid-cache.org/listinfo/squid-users">creditu at eml.cc</A> wrote:
&gt;<i> 
</I>&gt;<i> Quick follow up.  When using debug 28,3 does this record
</I>&gt;<i> cache_peer_access and deny_info acls in the cache log?  Since I'm using
</I>&gt;<i> the same ACL declaration  for both the cache_peer_access and http_access
</I>&gt;<i> statements,  in a lot of cases, I just want to make sure I'm
</I>&gt;<i> interpreting  the ACL debug information correctly.
</I>&gt;<i> 
</I>
In 3.1 that debug level logs details of ACL tests, regardless of where
that test is used.

Current Squid log the config line being checked at one of those levels.
But IIRC that is not available in 3.1.


&gt;<i> For example:
</I>&gt;<i> acl www dstdomain www.example.com
</I>&gt;<i> cache_peer 10.10.10.1 parent 80 0 no-query no-digest originserver
</I>&gt;<i> round-robin
</I>&gt;<i> cache_peer_access 10.10.10.1 allow www
</I>&gt;<i> cache_peer_access 10.10.10.1 deny all
</I>&gt;<i> 
</I>&gt;<i> cache_peer 10.10.10.2 parent 80 0 no-query no-digest originserver
</I>&gt;<i> round-robin
</I>&gt;<i> cache_peer_access 10.10.10.2 allow www
</I>&gt;<i> cache_peer_access 10.10.10.2 deny all
</I>&gt;<i> . . . 
</I>&gt;<i> http_access allow www
</I>&gt;<i> 
</I>
For any given request http_access is checked long before cache_peer_access.

see &lt;<A HREF="http://wiki.squid-cache.org/SquidFaq/OrderIsImportant">http://wiki.squid-cache.org/SquidFaq/OrderIsImportant</A>&gt; about
callout sequence.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013685.html">[squid-users] Config Recommendations
</A></li>
	<LI>Next message (by thread): <A HREF="013662.html">[squid-users] Bad HTTP requests trigger ICAP suspension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13703">[ date ]</a>
              <a href="thread.html#13703">[ thread ]</a>
              <a href="subject.html#13703">[ subject ]</a>
              <a href="author.html#13703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
