<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Proper Cache Peer Access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proper%20Cache%20Peer%20Access&In-Reply-To=%3C6ac90a52-3089-2d21-417d-98ed4a159200%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013754.html">
   <LINK REL="Next"  HREF="013756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Proper Cache Peer Access</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proper%20Cache%20Peer%20Access&In-Reply-To=%3C6ac90a52-3089-2d21-417d-98ed4a159200%40treenet.co.nz%3E"
       TITLE="[squid-users] Proper Cache Peer Access">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Dec 14 01:33:45 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013754.html">[squid-users] Proper Cache Peer Access
</A></li>
        <LI>Next message (by thread): <A HREF="013756.html">[squid-users] Proper Cache Peer Access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13755">[ date ]</a>
              <a href="thread.html#13755">[ thread ]</a>
              <a href="subject.html#13755">[ subject ]</a>
              <a href="author.html#13755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/12/2016 2:10 p.m., creditu wrote:
&gt;<i> Looking for the best way to provide cache peer access for two urls on a
</I>&gt;<i> 3.1 accelerator.  For example if a set of backend servers fullfill
</I>&gt;<i> requests for both www.example.com and www-legacy.example.com is the
</I>&gt;<i> following the correct way to handle them in regards to the cach peer
</I>&gt;<i> access? 
</I>&gt;<i> 
</I>
What you have works and is fine for simple setups like yours.

However, since you ask for &quot;proper&quot; ...

&lt;snip&gt;
&gt;<i> 
</I>&gt;<i> # Backend servers for www and www-legacy
</I>&gt;<i> acl www dstdomain www.example.com
</I>&gt;<i> acl www-legacy dstdomain www-legacy.example.com
</I>
Recommended practice when you have same-type data and ACLs used in
identical ways like these ones. Is to place both those domain values in
the one ACL named 'www'. That will simplify your access lines.

There are some tiny memory and (cumulative) speed gains. But the biggest
reason is easier understanding and maintenance of the config if/when it
gets more complex.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013754.html">[squid-users] Proper Cache Peer Access
</A></li>
	<LI>Next message (by thread): <A HREF="013756.html">[squid-users] Proper Cache Peer Access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13755">[ date ]</a>
              <a href="thread.html#13755">[ thread ]</a>
              <a href="subject.html#13755">[ subject ]</a>
              <a href="author.html#13755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
