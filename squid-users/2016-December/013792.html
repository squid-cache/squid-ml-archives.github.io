<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid.conf blocking live video stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid.conf%20blocking%20live%20video%20stream&In-Reply-To=%3C9f6760ea-6d4c-25e8-b5d1-c86019e09d03%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013791.html">
   <LINK REL="Next"  HREF="013811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid.conf blocking live video stream</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid.conf%20blocking%20live%20video%20stream&In-Reply-To=%3C9f6760ea-6d4c-25e8-b5d1-c86019e09d03%40treenet.co.nz%3E"
       TITLE="[squid-users] squid.conf blocking live video stream">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Dec 17 05:43:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013791.html">[squid-users] squid.conf blocking live video stream
</A></li>
        <LI>Next message (by thread): <A HREF="013811.html">[squid-users] squid.conf blocking live video stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13792">[ date ]</a>
              <a href="thread.html#13792">[ thread ]</a>
              <a href="subject.html#13792">[ subject ]</a>
              <a href="author.html#13792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/12/2016 6:00 p.m., Robert Watson wrote:
&gt;<i> Sorry if this shows up twice on the mailing list...
</I>&gt;<i> I've setup a transparent proxy squid v3.5.22 on a x86_64 Arch Linux
</I>&gt;<i> server.  The transparent proxy is working fine for web page caching but
</I>&gt;<i> live video isn't getting through.  I thought it was a netfilter issue but
</I>&gt;<i> bypassing the proxy fixes this issue.
</I>&gt;<i> 
</I>&lt;snip&gt;
&gt;<i> 
</I>&gt;<i> could someone please tell me what request_header_access I need to all, or
</I>&gt;<i> how to further trouble shoot this configuration?
</I>&gt;<i> 
</I>
Via.

I expect that will then reveal that you have configured a forwarding
loop in your iptables rules.
Please check that you are using *all* of the iptables rules mentioned in
&lt;<A HREF="http://wiki.squid-cache.org/ConfigExamples/Intercept/LinuxRedirect">http://wiki.squid-cache.org/ConfigExamples/Intercept/LinuxRedirect</A>&gt;
(when that wiki is fixed, it seems to be down right now).


To allow the HTTP standard headers, but not application specific
extensions it is simpler to use just this one line:
  request_header_access Other deny all

Then you only need to add &quot;deny&quot; lines for any of the standard headers
you want to block above that one.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013791.html">[squid-users] squid.conf blocking live video stream
</A></li>
	<LI>Next message (by thread): <A HREF="013811.html">[squid-users] squid.conf blocking live video stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13792">[ date ]</a>
              <a href="thread.html#13792">[ thread ]</a>
              <a href="subject.html#13792">[ subject ]</a>
              <a href="author.html#13792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
