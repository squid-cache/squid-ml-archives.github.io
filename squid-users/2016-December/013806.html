<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [squid-announce] [ADVISORY] SQUID-2016:10 - Information disclosure in Collapsed Forwarding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20%5BADVISORY%5D%20SQUID-2016%3A10%20-%0A%20Information%20disclosure%20in%20Collapsed%20Forwarding&In-Reply-To=%3C81d5db94-2b35-c178-4d3c-b8413a2e1999%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013805.html">
   <LINK REL="Next"  HREF="013807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [squid-announce] [ADVISORY] SQUID-2016:10 - Information disclosure in Collapsed Forwarding</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20%5BADVISORY%5D%20SQUID-2016%3A10%20-%0A%20Information%20disclosure%20in%20Collapsed%20Forwarding&In-Reply-To=%3C81d5db94-2b35-c178-4d3c-b8413a2e1999%40treenet.co.nz%3E"
       TITLE="[squid-users] [squid-announce] [ADVISORY] SQUID-2016:10 - Information disclosure in Collapsed Forwarding">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Dec 17 16:04:19 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013805.html">[squid-users] [squid-announce] Squid 4.0.17 beta is available
</A></li>
        <LI>Next message (by thread): <A HREF="013807.html">[squid-users] [squid-announce] Squid 3.5.23 is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13806">[ date ]</a>
              <a href="thread.html#13806">[ thread ]</a>
              <a href="subject.html#13806">[ subject ]</a>
              <a href="author.html#13806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>__________________________________________________________________

    Squid Proxy Cache Security Update Advisory SQUID-2016:10
__________________________________________________________________

Advisory ID:        SQUID-2016:10
Date:               Dec 16, 2016
Summary:            Information disclosure
                    in Collapsed Forwarding.
Affected versions:  Squid 3.5 -&gt; 3.5.22
                    Squid 4.0 -&gt; 4.0.16
Fixed in version:   Squid 4.0.17, 3.5.23
__________________________________________________________________

    <A HREF="http://www.squid-cache.org/Advisories/SQUID-2016_10.txt">http://www.squid-cache.org/Advisories/SQUID-2016_10.txt</A>
__________________________________________________________________

Problem Description:

 Due to incorrect comparsion of request headers Squid can deliver
 responses containing private data to clients it should not have
 reached.

__________________________________________________________________

Severity:

 This problem allows a remote attacker to discover private and
 sensitive information about another clients browsing session.
 Potentially including credentials which allow access to further
 sensitive resources.

 This problem only affects Squid configured to use the Collapsed
 Forwarding feature.

 It is of particular importance for HTTPS reverse-proxy sites
 with Collapsed Forwarding.

__________________________________________________________________

Updated Packages:

 This bug is fixed by Squid version 3.5.23 and 4.0.17.

 In addition, patches addressing this problem can be found in our
 patch archives:

Squid 3.5 (excluding 3.5.22):
 &lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/changesets/SQUID-2016_10_a.patch">http://www.squid-cache.org/Versions/v3/3.5/changesets/SQUID-2016_10_a.patch</A>&gt;

Squid 3.5.22:
 &lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/changesets/squid-3.5-14127.patch">http://www.squid-cache.org/Versions/v3/3.5/changesets/squid-3.5-14127.patch</A>&gt;

Squid 4.0:
 &lt;<A HREF="http://www.squid-cache.org/Versions/v4/changesets/squid-4-14956.patch">http://www.squid-cache.org/Versions/v4/changesets/squid-4-14956.patch</A>&gt;

 If you are using a prepackaged version of Squid then please refer
 to the package vendor for availability information on updated
 packages.

__________________________________________________________________

Determining if your version is vulnerable:

 Squid-2.x have not been tested.


 The following command can be used to determine if Squid-3 or
 later have collapsed_forwarding in squid.conf:

  (squid -k parse 2&gt;&amp;1) | grep collapsed_forwarding


 All Squid-3.x versions without collapsed_forwarding configured
 are not vulnerable.

 All Squid-3.5 versions with 'collapsed_forwarding off'
 configured are not vulnerable.

 All Squid-3.5 versions up to and including Squid-3.5.22 with
 'collapsed_forwarding on' configured are vulnerable.

 All Squid-4.0 versions without collapsed_forwarding configured
 are not vulnerable.

 All Squid-4.0 versions with 'collapsed_forwarding off'
 configured are not vulnerable.

 All Squid-4.0 versions up to and including Squid-4.0.16 with
 'collapsed_forwarding on' configured are vulnerable.

__________________________________________________________________

Workaround:

 Remove all uses of 'collapsed_forwarding' from squid.conf and
 included sub-files.

__________________________________________________________________

Contact details for the Squid project:

 For installation / upgrade support on binary packaged versions
 of Squid: Your first point of contact should be your binary
 package vendor.

 If your install and build Squid from the original Squid sources
 then the <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> mailing list is your
 primary support point. For subscription details see
 &lt;<A HREF="http://www.squid-cache.org/Support/mailing-lists.html">http://www.squid-cache.org/Support/mailing-lists.html</A>&gt;.

 For reporting of non-security bugs in the latest STABLE release
 the squid bugzilla database should be used
 &lt;<A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A>&gt;.

 For reporting of security sensitive bugs send an email to the
 <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-bugs at lists.squid-cache.org</A> mailing list. It's a closed
 list (though anyone can post) and security related bug reports
 are treated in confidence until the impact has been established.

__________________________________________________________________

Credits:

 This issue was reported by Felix Hassert from Sevenval
 Technologies GmbH.

 Fixed by Eduard Bagdasaryan from Measurement Factory.

__________________________________________________________________

Revision history:

 2016-11-28 17:28:43 UTC Initial Report
 2016-12-16 18:37:00 UTC Packages Released
__________________________________________________________________
END

_______________________________________________
squid-announce mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-announce at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-announce">http://lists.squid-cache.org/listinfo/squid-announce</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013805.html">[squid-users] [squid-announce] Squid 4.0.17 beta is available
</A></li>
	<LI>Next message (by thread): <A HREF="013807.html">[squid-users] [squid-announce] Squid 3.5.23 is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13806">[ date ]</a>
              <a href="thread.html#13806">[ thread ]</a>
              <a href="subject.html#13806">[ subject ]</a>
              <a href="author.html#13806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
