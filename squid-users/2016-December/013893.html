<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Bypassed Proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bypassed%20Proxy&In-Reply-To=%3Ce8296830-8af9-a8d2-8a99-30cbf4d1e60d%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013892.html">
   <LINK REL="Next"  HREF="013890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Bypassed Proxy</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bypassed%20Proxy&In-Reply-To=%3Ce8296830-8af9-a8d2-8a99-30cbf4d1e60d%40gmail.com%3E"
       TITLE="[squid-users] Bypassed Proxy">yvoinov at gmail.com
       </A><BR>
    <I>Fri Dec 23 17:43:43 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013892.html">[squid-users] Bypassed Proxy
</A></li>
        <LI>Next message (by thread): <A HREF="013890.html">[squid-users] Bypassed Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13893">[ date ]</a>
              <a href="thread.html#13893">[ thread ]</a>
              <a href="subject.html#13893">[ subject ]</a>
              <a href="author.html#13893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

23.12.2016 23:30, Sameh Onaissi &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Thank you all for the suggestions.
</I>&gt;<i>
</I>&gt;<i> I will try to read up on iptables and add the necessary rules, as well as try to add norhtghost IPs to the blacklist.
</I>AFAIK not IPs, but network ranges. And you require to regullarry update
it, to keep up-to-date, and made enough exceptions - to work innocent sites.
&gt;<i>
</I>&gt;<i> On another note, I noticed Tor Browser bypasses squid completely. The only search results I found on how to block it with squid date back to 2011. (Amos has a script for that?)
</I>&gt;<i> Any idea how to block Tor? I downloaded it and ran it and none of its traffic is detected by Squid.
</I>Bridged Tor?! Cool story, bro. Ever China government, with Great China
Firewall, can't block Tor.

PS. Personal advice. Forget about blocking Tor. Forever. It desined to
prevent any blocking. And good designed.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> On Dec 23, 2016, at 4:31 AM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My suggestion would be to find the holes in the system.
</I>&gt;&gt;<i> There are couple good networking tools ie:
</I>&gt;&gt;<i> Iptstate
</I>&gt;&gt;<i> Iptraf-ng
</I>&gt;&gt;<i> netstat-nat
</I>&gt;&gt;<i> conntrackd-tools
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The above tools have the options to see what parts of the IP is not ports such as:
</I>&gt;&gt;<i> 53
</I>&gt;&gt;<i> 80
</I>&gt;&gt;<i> 443
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which you can control easily.
</I>&gt;&gt;<i> You can easily add a DROP or REJECT rule in iptables for all new connections on other then these ports as a starter.
</I>&gt;&gt;<i> It's very simple to write and I think you should dig a bit on iptables so you would be able to understand how it works better to give you a glimpse into the networking security world.
</I>&gt;&gt;<i> This amazing site and page:
</I>&gt;&gt;<i> <A HREF="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch14_:_Linux_Firewalls_Using_iptables">http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch14_:_Linux_Firewalls_Using_iptables</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gives a better understanding to iptables and also on networking.
</I>&gt;&gt;<i> If you need more guidance let me know.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Eliezer 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----
</I>&gt;&gt;<i> Eliezer Croitoru
</I>&gt;&gt;<i> Linux System Administrator
</I>&gt;&gt;<i> Mobile: +972-5-28704261
</I>&gt;&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Sameh Onaissi
</I>&gt;&gt;<i> Sent: Friday, December 23, 2016 2:03 AM
</I>&gt;&gt;<i> To: Antony Stone &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt;
</I>&gt;&gt;<i> Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> Subject: Re: [squid-users] Bypassed Proxy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have been trying to replicate what he is doing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have tried 4 or 5 VPN software and none connects, including Hotspot Shield. My iptables seem to be doing the job in that regard (Eliezer helped me set them up)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Dec 22, 2016, at 5:14 PM, Antony Stone &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Thursday 22 December 2016 at 22:50:33, Sameh Onaissi wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The user has hotspot shield installed on his PC, which I believe is a 
</I>&gt;&gt;&gt;&gt;<i> similar extension to the one you mentioned.
</I>&gt;&gt;&gt;&gt;<i> He is getting by squid with some sort of VPN, I thought squid can be 
</I>&gt;&gt;&gt;&gt;<i> configured against such things?
</I>&gt;&gt;&gt;<i> It sounds as though you need to review your firewall (routing) policies.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Anyone who is allowed to use a VPN can effectively bypass all security 
</I>&gt;&gt;&gt;<i> policies on your network.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Antony.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Schr&#246;dinger's rule of data integrity: the condition of any backup is 
</I>&gt;&gt;&gt;<i> unknown until a restore is attempted.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>                                                  Please reply to the list;
</I>&gt;&gt;&gt;<i>                                                        please *don't* CC me.
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-- 
What is the fundamental difference between the programmer and by a fag?
Fag never become five times to free the memory of one object. Fag will
not use two almost identical string libraries in the same project. Fag
will never write to a mixture of C and C ++. Fag will never pass objects
by pointer. Now you know why these two categories so often mentioned
together, and one of them is worse :)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x613DEC46.asc
Type: application/pgp-keys
Size: 2437 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20161223/4e4f5f59/attachment.key">http://lists.squid-cache.org/pipermail/squid-users/attachments/20161223/4e4f5f59/attachment.key</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20161223/4e4f5f59/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20161223/4e4f5f59/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013892.html">[squid-users] Bypassed Proxy
</A></li>
	<LI>Next message (by thread): <A HREF="013890.html">[squid-users] Bypassed Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13893">[ date ]</a>
              <a href="thread.html#13893">[ thread ]</a>
              <a href="subject.html#13893">[ subject ]</a>
              <a href="author.html#13893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
