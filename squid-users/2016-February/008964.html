<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Sending json error messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sending%20json%20error%20messages&In-Reply-To=%3C56AFA157.2040300%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008963.html">
   <LINK REL="Next"  HREF="008965.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Sending json error messages</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sending%20json%20error%20messages&In-Reply-To=%3C56AFA157.2040300%40ngtech.co.il%3E"
       TITLE="[squid-users] Sending json error messages">eliezer at ngtech.co.il
       </A><BR>
    <I>Mon Feb  1 18:17:59 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008963.html">[squid-users] Sending json error messages
</A></li>
        <LI>Next message (by thread): <A HREF="008965.html">[squid-users] Sending json error messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8964">[ date ]</a>
              <a href="thread.html#8964">[ thread ]</a>
              <a href="subject.html#8964">[ subject ]</a>
              <a href="author.html#8964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I do not have an answer to your question but I wanted to ask a question.
If you would be able to send the whole page with the data directly to 
the client would it be OK for your use case?
It's just that based on your external helper logic it might be possible 
to use ICAP or eCAP instead of an external acl helper(if indeed your 
helper is externel_acl type)

Eliezer

On 01/02/2016 19:53, Sreenath BH wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> We want to send error message in json format when external acl deny's a request.
</I>&gt;<i> Even if we send a json formatted message (using message= key value
</I>&gt;<i> pair) in external helper, the final output is still html.
</I>&gt;<i>
</I>&gt;<i> We have a custom error file in share/error/templates directory, and we
</I>&gt;<i> use %o to pickup the message token.
</I>&gt;<i>
</I>&gt;<i> Is there any way to not send any html tags at all and simply send
</I>&gt;<i> whatever was output by the external helper?
</I>&gt;<i>
</I>&gt;<i> I am trying to understand the contents of the files in template folder
</I>&gt;<i> but is going above my head.
</I>&gt;<i>
</I>&gt;<i> thanks for any help,
</I>&gt;<i> Sreenath
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008963.html">[squid-users] Sending json error messages
</A></li>
	<LI>Next message (by thread): <A HREF="008965.html">[squid-users] Sending json error messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8964">[ date ]</a>
              <a href="thread.html#8964">[ thread ]</a>
              <a href="subject.html#8964">[ subject ]</a>
              <a href="author.html#8964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
