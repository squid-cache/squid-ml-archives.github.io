<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error Negotiating SSL on FD 22 with chrome
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20Negotiating%20SSL%20on%20FD%2022%20with%20chrome&In-Reply-To=%3C56B2DA97.4080402%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008993.html">
   <LINK REL="Next"  HREF="008998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error Negotiating SSL on FD 22 with chrome</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20Negotiating%20SSL%20on%20FD%2022%20with%20chrome&In-Reply-To=%3C56B2DA97.4080402%40treenet.co.nz%3E"
       TITLE="[squid-users] Error Negotiating SSL on FD 22 with chrome">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Feb  4 04:59:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008993.html">[squid-users] Error Negotiating SSL on FD 22 with chrome
</A></li>
        <LI>Next message (by thread): <A HREF="008998.html">[squid-users] username from external_acl to url_rewrite_program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8995">[ date ]</a>
              <a href="thread.html#8995">[ thread ]</a>
              <a href="subject.html#8995">[ subject ]</a>
              <a href="author.html#8995">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/02/2016 4:11 p.m., xxiao8 wrote:
&gt;<i> I'm running squid/3.5.13/sslbump/intercept and saw the below when
</I>&gt;<i> visiting gmail.com from Chrome 48, gmail.com can not be opened.
</I>&gt;<i> 
</I>&gt;<i> However Firefox works fine, no errors in the log, gmail.com opens as
</I>&gt;<i> expected.
</I>&gt;<i> 
</I>&gt;<i> Error in the log:
</I>&gt;<i> ==============
</I>&gt;<i> Error negotiating SSL on FD 22:
</I>&gt;<i> error:140920F8:lib(20):func(146):reason(248)
</I>&gt;<i> ==============
</I>&gt;<i> 
</I>&gt;<i> So, is this because of Chrome enforced ssl-pinning on google sites? I
</I>&gt;<i> can open www.google.com under Chrome just fine though not the rest
</I>&gt;<i> Google sites(gmail,youtube,etc). Again, Firefox has no such issues.
</I>
No. That error mssages is output when Squid hits a problem attempting to
do TLS handshake to the server or peer.

It may be caused by what Chrome is sending to Squid (and thus affecting
what Squid emits to the server), but its not pinning related unless they
have drastically changed the pinning algorithms. Pinning shows up as a
client connecting, being bumped (splice works okay AFAIK), then suddenly
disconnecting/aborting.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008993.html">[squid-users] Error Negotiating SSL on FD 22 with chrome
</A></li>
	<LI>Next message (by thread): <A HREF="008998.html">[squid-users] username from external_acl to url_rewrite_program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8995">[ date ]</a>
              <a href="thread.html#8995">[ thread ]</a>
              <a href="subject.html#8995">[ subject ]</a>
              <a href="author.html#8995">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
