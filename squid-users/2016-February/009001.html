<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Reverse DNS Lookup for client IPs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Reverse%20DNS%20Lookup%20for%20client%20IPs&In-Reply-To=%3C56B350A8.30703%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008999.html">
   <LINK REL="Next"  HREF="009003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Reverse DNS Lookup for client IPs</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Reverse%20DNS%20Lookup%20for%20client%20IPs&In-Reply-To=%3C56B350A8.30703%40treenet.co.nz%3E"
       TITLE="[squid-users] Reverse DNS Lookup for client IPs">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Feb  4 13:22:48 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008999.html">[squid-users] Reverse DNS Lookup for client IPs
</A></li>
        <LI>Next message (by thread): <A HREF="009003.html">[squid-users] Reverse DNS Lookup for client IPs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9001">[ date ]</a>
              <a href="thread.html#9001">[ thread ]</a>
              <a href="subject.html#9001">[ subject ]</a>
              <a href="author.html#9001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/02/2016 12:41 a.m., Stefan H&#246;lzle wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I'm using a squid configured as proxy.
</I>&gt;<i> According to the cache log, squid is doing a reverse dns lookup for
</I>&gt;<i> client ips:
</I>&gt;<i> 
</I>&gt;<i> 78,3| dns_internal.cc(1794) idnsPTRLookup: idnsPTRLookup: buf is 42
</I>&gt;<i> bytes for SOME_SOURCE_IP
</I>&gt;<i> 
</I>&gt;<i> I'm only using the following configuration parameters that might be
</I>&gt;<i> relevant for this issue.
</I>&gt;<i> external_acl_type
</I>&gt;<i> acl aclname src
</I>&gt;<i> acl aclname dst
</I>&gt;<i> acl aclname dstdom_regex
</I>&gt;<i> acl aclname port
</I>&gt;<i> acl aclname proxy_auth
</I>&gt;<i> acl aclname external
</I>&gt;<i> acl aclname url_regex
</I>&gt;<i> 
</I>&gt;<i> Any ideas why squid is doing PTR lookups anyway ?
</I>
Because that list is incomplete.

The format parameters for external_acl_type, any *_extras rules for
helper formats, and logformat rules also may make use of the client
hostname (if any).

Also, anyone viewing the cachemanager clientdb report will trigger some
as the report is generated.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008999.html">[squid-users] Reverse DNS Lookup for client IPs
</A></li>
	<LI>Next message (by thread): <A HREF="009003.html">[squid-users] Reverse DNS Lookup for client IPs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9001">[ date ]</a>
              <a href="thread.html#9001">[ thread ]</a>
              <a href="subject.html#9001">[ subject ]</a>
              <a href="author.html#9001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
