<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Crashing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Crashing&In-Reply-To=%3CCAAa1tfEw8yVQZxNqkPoos5VC2PyYqytMJzSJ6SwcGgMCuY85aw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009067.html">
   <LINK REL="Next"  HREF="009076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Crashing</H1>
    <B>Panda Admin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Crashing&In-Reply-To=%3CCAAa1tfEw8yVQZxNqkPoos5VC2PyYqytMJzSJ6SwcGgMCuY85aw%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid Crashing">pandanonomous at gmail.com
       </A><BR>
    <I>Tue Feb  9 19:00:01 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009067.html">[squid-users] Squid Crashing
</A></li>
        <LI>Next message (by thread): <A HREF="009076.html">[squid-users] Squid Crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9075">[ date ]</a>
              <a href="thread.html#9075">[ thread ]</a>
              <a href="subject.html#9075">[ subject ]</a>
              <a href="author.html#9075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The acl files are up to 16M in size.  The RAM on the machine is 4G.
Allocating swap space 8G for the OS has fixed the crashing issue. The only
issue now is startup time. Squid is taking several minutes to start up.  Is
there a better solution that I'm missing?

Thanks!

On Tue, Feb 9, 2016 at 12:42 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> On 10/02/2016 5:21 a.m., Kinkie wrote:
</I>&gt;<i> &gt; If you are swapping performance will suffer terribly. How large are these
</I>&gt;<i> &gt; files and how much ram do youbhave?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NP: fork() which is used by Squid can require virtual memory in large
</I>&gt;<i> amounts. Even though the processes do not actually use that much RAM.
</I>&gt;<i>
</I>&gt;<i> In your particular case with Squid worker using 30% (say 'N') of your
</I>&gt;<i> RAM, the fork() for those 5 ssl_crtd helpers will require Nx5 of virtual
</I>&gt;<i> memory to start, while only using ~4MB of real RAM.
</I>&gt;<i>
</I>&gt;<i> Some OS do it better than others. Some actually allocate swap space for
</I>&gt;<i> all that virtual memory and never use it (yuck).
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160209/ed52cd40/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160209/ed52cd40/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009067.html">[squid-users] Squid Crashing
</A></li>
	<LI>Next message (by thread): <A HREF="009076.html">[squid-users] Squid Crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9075">[ date ]</a>
              <a href="thread.html#9075">[ thread ]</a>
              <a href="subject.html#9075">[ subject ]</a>
              <a href="author.html#9075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
