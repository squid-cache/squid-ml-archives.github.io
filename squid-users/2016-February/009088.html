<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] unable to bypass authentication for certain	domains
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20unable%20to%20bypass%20authentication%20for%20certain%0A%09domains&In-Reply-To=%3C1455117370155-4675966.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009107.html">
   <LINK REL="Next"  HREF="009090.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] unable to bypass authentication for certain	domains</H1>
    <B>lravelo</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20unable%20to%20bypass%20authentication%20for%20certain%0A%09domains&In-Reply-To=%3C1455117370155-4675966.post%40n4.nabble.com%3E"
       TITLE="[squid-users] unable to bypass authentication for certain	domains">tornadoofsouls87 at gmail.com
       </A><BR>
    <I>Wed Feb 10 15:16:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009107.html">[squid-users] Squid 3.4.1 as a reverse Proxy for Exchange 2016 - Problems with Exchange Active Sync
</A></li>
        <LI>Next message (by thread): <A HREF="009090.html">[squid-users] cache_peer - ssloptions / sslv3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9088">[ date ]</a>
              <a href="thread.html#9088">[ thread ]</a>
              <a href="subject.html#9088">[ subject ]</a>
              <a href="author.html#9088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK so an update. I was able to bypass this but it seems like it might be a
maintenance nightmare. I created the following acl's:acl netscaler	src		
172.21.11.0/24acl direct		dstdomain	       
&quot;/etc/squid3/sites.direct.txt&quot;essentially we have a Citrix NetScaler that we
use as a load balancer for a bunch of stuff and we have four squid proxies
that use such a scheme but aren't doing any authentication at the moment
(which is where this one comes into play). Unfortunately, all the traffic
that squid sees is coming from the NetScaler (not really a big issue, but I
digress). I created a list of dstdomains that I want all non-domain PC's and
users with local accounts to access without authenticating. And so I created
this http_access rule:http_access allow netscaler directSo, for example, one
of the domains is .adp.com. The problem becomes when I actually go to any
adp.com site, I still get prompted for authentication. But if I hit cancel
enough times, I eventually get to the page. This led me to believe that
there are other domains at play here. So I've taken a look at the access.log
in order to see what other TCP_DENIED entries I was getting. Turns out there
were a whole bunch of other domains (like 20-30) that were also requested
and thus why I was getting multiple prompts to log in. I added every single
domain into the sites.direct.txt file and now I'm able to get to the site
with no issues on non-domain PC's and domain-joined PC's that are used with
local accounts only.Is this the best way to actually accomplish this? I
don't want to keep updating this txt file constantly every time adp modifies
their site.



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/unable-to-bypass-authentication-for-certain-domains-tp4675921p4675966.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/unable-to-bypass-authentication-for-certain-domains-tp4675921p4675966.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009107.html">[squid-users] Squid 3.4.1 as a reverse Proxy for Exchange 2016 - Problems with Exchange Active Sync
</A></li>
	<LI>Next message (by thread): <A HREF="009090.html">[squid-users] cache_peer - ssloptions / sslv3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9088">[ date ]</a>
              <a href="thread.html#9088">[ thread ]</a>
              <a href="subject.html#9088">[ subject ]</a>
              <a href="author.html#9088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
