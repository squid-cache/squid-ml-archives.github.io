<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Youtube &quot;challenges&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Youtube%20%22challenges%22&In-Reply-To=%3Cc6dd40dd-9d4f-48fd-9bfe-48a41ba0989d%40getmailbird.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009232.html">
   <LINK REL="Next"  HREF="009215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Youtube &quot;challenges&quot;</H1>
    <B>Darren</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Youtube%20%22challenges%22&In-Reply-To=%3Cc6dd40dd-9d4f-48fd-9bfe-48a41ba0989d%40getmailbird.com%3E"
       TITLE="[squid-users] Youtube &quot;challenges&quot;">darren.j.breeze.ml at gmail.com
       </A><BR>
    <I>Tue Feb 23 05:01:56 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009232.html">[squid-users] Squid 4.06 compile errors on Ubuntu 12.04
</A></li>
        <LI>Next message (by thread): <A HREF="009215.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9214">[ date ]</a>
              <a href="thread.html#9214">[ thread ]</a>
              <a href="subject.html#9214">[ subject ]</a>
              <a href="author.html#9214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all

AI am putting together a config to allow the kids to access selected videos in&#160;YouTube&#160;from a page of links on a local&#160;server.

I am serving up the YouTube links in the &lt;iframe&gt; format that is used for embedding and they play&#160;embedded&#160;on a page&#160;from a local server.

The issues is that YouTube is &quot;doing the world a&#160;favor&quot; by enforcing HTTPS connections from within the code it&#160;services into the iframe so I can't see anything that goes on and need to allow CONNECT to&#160;YouTube&#160;via squid or I&#160;don't get any video.

I want to make sure the kids don't stray out of the selected library and I don't want them being able to go onto <A HREF="https://www.youtube.com">https://www.youtube.com</A> (the the CONNECT ACL)

Ideally I would only allow connect for that session and only if they viewed a clip that needed to get to YouTube. I would also need to stop them from opening another browser tab whilst viewing a clip and going directly to YouTube.

The https upgrade happens after the browser fetches the http version of the link with a 301 redirect the first time and a 307 (internal redirect) from then on once the browser has it cached. I can control assess to teh http version of the embed link just fine, but I just cant figure out how to just allow the CONNECT to Youtube for just that browser tab / session.

I have tried both Chrome and Firefox and both do the same thing.

I have been looking at possibly building an ACL that the browser page could fetch as a url_regex that would then allow connects to happen provided they come from that session but can't seem to make it work. It would be something like the captive portal style ACLS with a key being stored and checked for validity before allowing a connect.

Can anyone point me to a way forward on this, I my be trying to over complicate it but judging from various forums I have seen,&#160;YouTube&#160;is a pain and a moving target.

thanks

Darren B.













Sent from Mailbird [<A HREF="http://www.getmailbird.com/?utm_source=Mailbird&amp;amp;utm_medium=email&amp;amp;utm_campaign=sent-from-mailbird">http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird</A>]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160223/f2d47f81/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160223/f2d47f81/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009232.html">[squid-users] Squid 4.06 compile errors on Ubuntu 12.04
</A></li>
	<LI>Next message (by thread): <A HREF="009215.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9214">[ date ]</a>
              <a href="thread.html#9214">[ thread ]</a>
              <a href="subject.html#9214">[ subject ]</a>
              <a href="author.html#9214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
