<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as forward proxy far slow than Shadowsocks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20forward%20proxy%20far%20slow%20than%20Shadowsocks&In-Reply-To=%3C56CC832F.8020103%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009211.html">
   <LINK REL="Next"  HREF="009372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as forward proxy far slow than Shadowsocks</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20forward%20proxy%20far%20slow%20than%20Shadowsocks&In-Reply-To=%3C56CC832F.8020103%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid as forward proxy far slow than Shadowsocks">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Feb 23 16:05:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009211.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
        <LI>Next message (by thread): <A HREF="009372.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9222">[ date ]</a>
              <a href="thread.html#9222">[ thread ]</a>
              <a href="subject.html#9222">[ subject ]</a>
              <a href="author.html#9222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/02/2016 6:41 a.m., Billy.Zheng (zw963) wrote:
&gt;<i> and connect to server with shadowssocks android app, the speed is
</I>&gt;<i> improve a lot, I can access almost any website as i did in my laptop ,
</I>&gt;<i> and more faster.
</I>&gt;<i> 
</I>&gt;<i> I love squid, so I want to know why those big difference between those
</I>&gt;<i> two software.
</I>
The main difference is protocol type. You are comparing SOCKS protocol
with HTTP.

SOCKS has more in common with NAT. A simple mapping of &quot;packets with
certain IP:port (all) go to router X:y&quot;. Processing this is extremely
fast as all it requires is swapping ~12 bytes in each packet to new
values and leaving it to be delivered to the new location.

Squid is actually parsing and processing the TLS and HTTP(S) messages
inside each packet stream - which have to be queued and buffered to get
enough packet data for each message (messages being bigger than
packets). All that work slows the traffic down and takes up machine
resources, which further slows down how much traffic can be processed
per second.

Which one you need to use depends on your requirements. If its just
getting the traffic from A to B, then SOCKS is as good or better than
Squid. Proper routing rules would be even better.

If you need to manage traffic based on anything in the HTTP messages
themselves. Then Squid is the better tool despite the speed differences.

You will find the same tradeoff between fine grained control and speed
with any networking software or protocols. Even between different Squid
configurations. For example you might get faster traffic by moving from
stunnel+Squid to a Squid with intercept, ssl-bump and &quot;ssl_bump splice
all&quot; in the latest Squid-3.5 releases.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009211.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
	<LI>Next message (by thread): <A HREF="009372.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9222">[ date ]</a>
              <a href="thread.html#9222">[ thread ]</a>
              <a href="subject.html#9222">[ subject ]</a>
              <a href="author.html#9222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
