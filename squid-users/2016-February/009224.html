<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20String.cc%3A174%3A%20%22len_%20%2B%20len%20%3C%0A%2065536%22&In-Reply-To=%3C20160223161301.GS30785%40charite.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009223.html">
   <LINK REL="Next"  HREF="009225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;</H1>
    <B>Ralf Hildebrandt</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20String.cc%3A174%3A%20%22len_%20%2B%20len%20%3C%0A%2065536%22&In-Reply-To=%3C20160223161301.GS30785%40charite.de%3E"
       TITLE="[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;">Ralf.Hildebrandt at charite.de
       </A><BR>
    <I>Tue Feb 23 16:13:01 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009223.html">[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
</A></li>
        <LI>Next message (by thread): <A HREF="009225.html">[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9224">[ date ]</a>
              <a href="thread.html#9224">[ thread ]</a>
              <a href="subject.html#9224">[ subject ]</a>
              <a href="author.html#9224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* Ralf Hildebrandt &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Ralf.Hildebrandt at charite.de</A>&gt;:
&gt;<i> * Marco Berizzi &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">pupilla at hotmail.com</A>&gt;:
</I>&gt;<i> &gt; Hi Folks,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm running squid 3.5.14 on slackware linux 64 bit (compiled from source).
</I>&gt;<i> &gt; When users connect to <A HREF="http://www.oggi.it/global_assets/js/plugins.js?v=1.6">http://www.oggi.it/global_assets/js/plugins.js?v=1.6</A> squid crash with the following message:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
</I>&gt;<i> 
</I>&gt;<i> I can reproduce this.
</I>&gt;<i> Creating a backtrace...
</I>
2016/02/23 17:10:17| ctx: enter level  0: '<A HREF="http://www.oggi.it/global_assets/js/plugins.js?v=1.6">http://www.oggi.it/global_assets/js/plugins.js?v=1.6</A>'
2016/02/23 17:10:17| assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at proxy-cbf-1</A>] /etc/service/squid3# gdb /usr/sbin/squid core.50478

...

Core was generated by /usr/sbin/squid -NsYC'.
Program terminated with signal SIGABRT, Aborted.
#0  0x00007ffff62e0cc9 in __GI_raise (sig=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">sig at entry</A>=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
56      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.
(gdb) bt
#0  0x00007ffff62e0cc9 in __GI_raise (sig=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">sig at entry</A>=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
#1  0x00007ffff62e40d8 in __GI_abort () at abort.c:89
#2  0x000000000055609f in xassert (msg=&lt;optimized out&gt;, file=&lt;optimized out&gt;, line=&lt;optimized out&gt;) at debug.cc:544
#3  0x000000000062e957 in String::append (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0xba4990 &lt;httpMakeVaryMark(HttpRequest*, HttpReply const*)::vstr&gt;, str=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">str at entry</A>=0xc80c620 &quot;x-rcs-cookiepolicy&quot;, len=18) at String.cc:174
#4  0x000000000062eea5 in strListAdd (str=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">str at entry</A>=0xba4990 &lt;httpMakeVaryMark(HttpRequest*, HttpReply const*)::vstr&gt;, item=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">item at entry</A>=0xc80c620 &quot;x-rcs-cookiepolicy&quot;, del=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">del at entry</A>=44 ',') at StrList.cc:27
#5  0x00000000005acdfe in httpMakeVaryMark (request=0xd3e3de0, reply=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">reply at entry</A>=0xcbe2530) at http.cc:603
#6  0x00000000005ad1ec in HttpStateData::haveParsedReplyHeaders (this=0xa54abb8) at http.cc:920
#7  0x000000000078d4d1 in Client::setFinalReply (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0xa54abb8, rep=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rep at entry</A>=0xcbe2530) at Client.cc:155
#8  0x000000000078d79a in Client::handleAdaptedHeader (this=0xa54abb8, msg=&lt;optimized out&gt;) at Client.cc:706
#9  0x00000000007c97d9 in JobDialer&lt;Adaptation::Initiator&gt;::dial (this=0xd46af00, call=...) at ../../src/base/AsyncJobCalls.h:174 #10 0x00000000006f6471 in AsyncCall::make (this=0xd46aed0) at AsyncCall.cc:40
#11 0x00000000006fa815 in AsyncCallQueue::fireNext (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0xdcb010) at AsyncCallQueue.cc:56 
#12 0x00000000006fac70 in AsyncCallQueue::fire (this=0xdcb010) at AsyncCallQueue.cc:42
#13 0x0000000000576c41 in dispatchCalls (this=0x7fffffffeae0) at EventLoop.cc:143
#14 EventLoop::runOnce (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7fffffffeae0) at EventLoop.cc:120
#15 0x0000000000576e30 in EventLoop::run (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7fffffffeae0) at EventLoop.cc:82
#16 0x00000000005e6008 in SquidMain (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1539
#17 0x00000000004df58d in SquidMainSafe (argv=&lt;optimized out&gt;, argc=&lt;optimized out&gt;) at main.cc:1263
#18 main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1256
(gdb) 

-- 
Ralf Hildebrandt                   Charite Universit&#228;tsmedizin Berlin
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ralf.hildebrandt at charite.de</A>        Campus Benjamin Franklin
<A HREF="http://www.charite.de">http://www.charite.de</A>              Hindenburgdamm 30, 12203 Berlin
Gesch&#228;ftsbereich IT, Abt. Netzwerk fon: +49-30-450.570.155

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009223.html">[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
</A></li>
	<LI>Next message (by thread): <A HREF="009225.html">[squid-users] assertion failed: String.cc:174: &quot;len_ + len &lt; 65536&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9224">[ date ]</a>
              <a href="thread.html#9224">[ thread ]</a>
              <a href="subject.html#9224">[ subject ]</a>
              <a href="author.html#9224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
