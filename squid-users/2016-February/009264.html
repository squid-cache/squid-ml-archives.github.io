<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [squid-announce] Squid 4.0.7 beta is available
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%204.0.7%20beta%20is%20available&In-Reply-To=%3C56CD35FF.8040504%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009277.html">
   <LINK REL="Next"  HREF="009260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [squid-announce] Squid 4.0.7 beta is available</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%204.0.7%20beta%20is%20available&In-Reply-To=%3C56CD35FF.8040504%40treenet.co.nz%3E"
       TITLE="[squid-users] [squid-announce] Squid 4.0.7 beta is available">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb 24 04:47:59 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009277.html">[squid-users] [squid-announce] Squid 3.5.15 is available
</A></li>
        <LI>Next message (by thread): <A HREF="009260.html">[squid-users] Android OS / Updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9264">[ date ]</a>
              <a href="thread.html#9264">[ thread ]</a>
              <a href="subject.html#9264">[ subject ]</a>
              <a href="author.html#9264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The Squid HTTP Proxy team is very pleased to announce the availability
of the Squid-4.0.7 release!


This release is a security release resolving several major
vulnerabilities found in the prior Squid releases.


The major changes to be aware of:


* SQUID-2016:2 - Multiple Denial of Service issues in HTTP Response
  processing

    <A HREF="http://www.squid-cache.org/Advisories/SQUID-2016_2.txt">http://www.squid-cache.org/Advisories/SQUID-2016_2.txt</A>

The visible symptoms of these are various assertions about:
 &quot;String.cc:*: 'len_ + len &lt;65536'&quot;
 &quot;store.cc:*: 'isEmpty()'&quot;

There are a number of known attacks involved for both of these
assertions. Almost all are now fully fixed or rendered harmless to other
transactions. However some hard to trigger ones are not yet resolved.

Normally we would not release this advisory and packages until a full
fix or workaround was confirmed. However these assertions have recently
become the topic of a lot of public discussion and a trivial PoC is now
available. We have chosen to release the existing fixes now as work
continues towards a final resolution.

  All Squid-3 and Squid-4 releases to date are affected.

See the advisory for further details. Upgrade or patching should be
considered a high priority.


* Bug 4111: leave_suid() does not properly handle error codes returned
by setuid

This bug was technically a privilege escalation. However there are no
known instances of it occuring. So it is considered minor issue and this
change should have no noticible effects on installations.

However, be aware that any installations which would previously have
been even at risk and ignoring the security ALERT messages will now
abort with an FATAL error. In such cases the system environment needs to
be corrected so that Squid will run without needing root privileges for
the HTTP handing worker process.


* Fix external_acl parameters separated by %20 instead of space

The 'ACL data' sent to external ACL helpers may contain whitespace
delimited lists of ACL values to be tested, or otherwise used by the helper.

It has come to light that Squid-4 backward compatibility code in
external ACL helper lookups handling when the %DATA token(s) sent to the
helper are to be %-encoded as a single token is unable to accurately
emulate previous versions. Due to various bugs Squid-3 versions
alternately encoded the explicit %DATA token as a single token, sent &quot;-&quot;
as its value (again as a single value). Or implicitly sent an
individually encoded set of multiple values. Older Squid-2 sent a
different set of possibilities as well.

For simplicity as of this release we are dropping backward compatibility
variance in the encoding of %DATA. Token(s) will not be encoded by
default whether explicitly used at a certain position, or implicitly
appended to the lookup line. A logformat encoding modifier must be
specified inside the %DATA format code if the helper requires a single
token/field in its input.

Some helpers may need re-coding or squid.conf updates to handle the new
protocol syntax or potential whitespace in the token(s) produced by
%DATA format code.

For maximum compatibility with older Squid versions helpers should
expect several whitespace delimited values on the end of the lookup line
and RFC1738 un-encoding what gets given is recommended.



* Fix memory leak using sslcrtvalidator_program with no cache

When the helper response cache is disabled by the ttl=0 parameter for
these helpers previous Squid would leak a large amount of memory used to
store the certificate details.



 All users of Squid-4.0.x are urged to upgrade to this release as soon
as possible.

 All users of Squid-3 are encouraged to test this release out and plan
for upgrades where possible.


 See the ChangeLog for the full list of changes in this and earlier
 releases.

Please refer to the release notes at
<A HREF="http://www.squid-cache.org/Versions/v4/RELEASENOTES.html">http://www.squid-cache.org/Versions/v4/RELEASENOTES.html</A>
when you are ready to make the switch to Squid-4

This new release can be downloaded from our HTTP or FTP servers

 <A HREF="http://www.squid-cache.org/Versions/v4/">http://www.squid-cache.org/Versions/v4/</A>
 <A HREF="ftp://ftp.squid-cache.org/pub/squid/">ftp://ftp.squid-cache.org/pub/squid/</A>
 <A HREF="ftp://ftp.squid-cache.org/pub/archive/4/">ftp://ftp.squid-cache.org/pub/archive/4/</A>

or the mirrors. For a list of mirror sites see

 <A HREF="http://www.squid-cache.org/Download/http-mirrors.html">http://www.squid-cache.org/Download/http-mirrors.html</A>
 <A HREF="http://www.squid-cache.org/Download/mirrors.html">http://www.squid-cache.org/Download/mirrors.html</A>

If you encounter any issues with this release please file a bug report.
<A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A>


Amos Jeffries

_______________________________________________
squid-announce mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-announce at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-announce">http://lists.squid-cache.org/listinfo/squid-announce</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009277.html">[squid-users] [squid-announce] Squid 3.5.15 is available
</A></li>
	<LI>Next message (by thread): <A HREF="009260.html">[squid-users] Android OS / Updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9264">[ date ]</a>
              <a href="thread.html#9264">[ thread ]</a>
              <a href="subject.html#9264">[ subject ]</a>
              <a href="author.html#9264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
