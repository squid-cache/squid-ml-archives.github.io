<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Rock Store max object size 3.5.14
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rock%20Store%20max%20object%20size%203.5.14&In-Reply-To=%3C56CDF769.9050204%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009250.html">
   <LINK REL="Next"  HREF="009236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Rock Store max object size 3.5.14</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rock%20Store%20max%20object%20size%203.5.14&In-Reply-To=%3C56CDF769.9050204%40gmail.com%3E"
       TITLE="[squid-users] Rock Store max object size 3.5.14">yvoinov at gmail.com
       </A><BR>
    <I>Wed Feb 24 18:33:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009250.html">[squid-users] Rock Store max object size 3.5.14
</A></li>
        <LI>Next message (by thread): <A HREF="009236.html">[squid-users] Rock Store max object size 3.5.14
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9282">[ date ]</a>
              <a href="thread.html#9282">[ thread ]</a>
              <a href="subject.html#9282">[ subject ]</a>
              <a href="author.html#9282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 


24.02.16 3:38, Heiler Bemerguy &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 23/02/2016 16:40, Yuri Voinov wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> When you CPU's/cores waiting for HDD access, they got high-loag.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Are you sure it would show up as &quot;User&quot; load and not as &quot;Wait&quot; ?
</I>Depending OS. Most likely &quot;User&quot; exactly. Still looks like overloaded IO
queue.
&gt;<i> On linux &quot;TOP&quot; it shows something like:
</I>&gt;<i> %Cpu0  :  99,0 *us*,  1,0 sy,  0,0 ni, 0,0 id,  0,0 *wa*,  0,0 hi, 
</I>0,0 si,  0,0 st
top is not performance tool. It hides most important aspects of
performance-related problem. Use it only at a glance tool.

For performance tuning usually uses more specific (and OS-specific, of
course) tools. iostat, vmstat, swap -l, sar etc.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 23/02/2016 16:55, Amos Jeffries wrote:
</I>&gt;&gt;<i> What GHz rating is each CPU core?  200-250 RPS is roughly in the range I
</I>&gt;&gt;<i> would expect from a 1.xGHz core going full speed / 100% usage.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are you using RAID on the disk storage? IME, RAID can more than halve
</I>&gt;&gt;<i> the speed of the proxy. Although the CPU thrashing effect is mostly
</I>&gt;&gt;<i> hidden away out of sight in the disk controller processor(s).
</I>&gt;<i>
</I>&gt;<i> 6-core of Intel(R) Xeon(R) CPU E5-2667 v2 @ 3.30GHz
</I>&gt;<i> It's a vmware VM with a NetApp 266TB storage. This VM has access to 2
</I>different LUNs in 2 different controllers to a bunch SAS HDs,
&gt;<i> dd if=/dev/zero of=testfile bs=2G count=1 oflag=dsync = ~391 MB/s
</I>This is tells nothing about SAN topology and whole IO subsystem. There
is much questions occurs here:
- - Which connection uses HDD's bunches? FC? iSCSI? FCoE? If
iSCSI/some_ethernet-Based - did you turned on jumbograms?
- - How much hardware cache installed in controllers and which type?
- - How was created LUN's?
- - Which RAID type you uses and what is it parameters?
- - How configured VMWare? Does you configure deferred syncing VM
caches? Or not?
etc.etc.etc.

Note: NetApp (you have forgotten to specify your NetApp model and
licensed options) has known issues with: CoW with WAFL, hardware
read-cache and write-cache - this is product specific options sold
separately (!) and, generally, tuning NetApp is separated complex task.
Especially with virtualized environment.

And please note: One DD's file - it's about nothing. This is unrelated
to REAL load. As by as abstract IOPS numbers.
&gt;<i>
</I>&gt;<i> Best Regards,
</I>&gt;<i> --
</I>&gt;<i> Heiler Bemerguy - (91) 98151-4894
</I>&gt;<i> Assessor T&#233;cnico - CINBESA (91) 3184-1751
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJWzfdpAAoJENNXIZxhPexGYnwIALmxL3FA75PfEiaeHeRXu4a5
kFuzHgSb9pjldlOPHxorgbVul3BU5HE+LVFmzYsD0lMIK9hbqutKz/m/ji5B0QBN
yDevoIi+rGKUgXTGs0VvPZprLzbCc9X1V7uIQeCFne1gvWruyr4dx4xrjZSONdUP
8wcNN5irNZ0Zn+fcqQUK+G9vmvHWDBeQK/gjOFk4ZdUsWZkNx4vB7RGeBBTSH5Lo
G/vzY4j/Cd0L89B1PPrWrrTdko0jGe4Z0D4kFaA+bNb+eV56uRx0m7Qii4Cnl4Vu
KGSHhwD6gaI0sJGwWqwRgcNEPEtMcAGtO8IvaWmHGVGCEz+Bf5NyAbAtF7cQ9Zc=
=zPnN
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160225/95f3d17c/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160225/95f3d17c/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x613DEC46.asc
Type: application/pgp-keys
Size: 2437 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160225/95f3d17c/attachment.key">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160225/95f3d17c/attachment.key</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009250.html">[squid-users] Rock Store max object size 3.5.14
</A></li>
	<LI>Next message (by thread): <A HREF="009236.html">[squid-users] Rock Store max object size 3.5.14
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9282">[ date ]</a>
              <a href="thread.html#9282">[ thread ]</a>
              <a href="subject.html#9282">[ subject ]</a>
              <a href="author.html#9282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
