<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL Bump matching Subject Alternative Names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Bump%20matching%20Subject%20Alternative%20Names&In-Reply-To=%3CD2F49839.5058A%25adam.cohen-rose%40sky.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009312.html">
   <LINK REL="Next"  HREF="009335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL Bump matching Subject Alternative Names</H1>
    <B>Cohen-Rose, Adam</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Bump%20matching%20Subject%20Alternative%20Names&In-Reply-To=%3CD2F49839.5058A%25adam.cohen-rose%40sky.uk%3E"
       TITLE="[squid-users] SSL Bump matching Subject Alternative Names">Adam.Cohen-Rose at sky.uk
       </A><BR>
    <I>Thu Feb 25 11:38:35 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009312.html">[squid-users] Squid 3.5.15 for Microsoft Windows 64-bit is available
</A></li>
        <LI>Next message (by thread): <A HREF="009335.html">[squid-users] SSL Bump matching Subject Alternative Names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9308">[ date ]</a>
              <a href="thread.html#9308">[ thread ]</a>
              <a href="subject.html#9308">[ subject ]</a>
              <a href="author.html#9308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We&#185;re trying to use SSL bump to splice traffic from a CDN (cdn.teads.tv)

The CDN server certificate uses Subject Alternative Names in its
certificate to identify the cdn.teads.tv domain rather than the Common
Name (which is set to aka.proceau.net).

Can we use SSL bump to splice requests to cdn.teads.tv or do we need to
use the CN domain to identify the CDN?


We&#185;d like to terminate other connections so our current SSL Bump config is:

acl tcp_level at_step SslBump1
acl client_hello_peeked at_step SslBump2
ssl_bump peek tcp_level all

acl to_teads_tv_ssl ssl::server_name cdn.teads.tv

ssl_bump splice client_hello_peeked to_teads_tv_ssl

ssl_bump terminate all


Thanks for your help!

Adam

Information in this email including any attachments may be privileged, confidential and is intended exclusively for the addressee. The views expressed may not be official policy, but the personal views of the originator. If you have received it in error, please notify the sender by return e-mail and delete it from your system. You should not reproduce, distribute, store, retransmit, use or disclose its contents to anyone. Please note we reserve the right to monitor all e-mail communication through our internal and external networks. SKY and the SKY marks are trademarks of Sky plc and Sky International AG and are used under licence. Sky UK Limited (Registration No. 2906991), Sky-In-Home Service Limited (Registration No. 2067075) and Sky Subscribers Services Limited (Registration No. 2340150) are direct or indirect subsidiaries of Sky plc (Registration No. 2247735). All of the companies mentioned in this paragraph are incorporated in England and Wales and share the same registered office at Grant Way, Isleworth, Middlesex TW7 5QD.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009312.html">[squid-users] Squid 3.5.15 for Microsoft Windows 64-bit is available
</A></li>
	<LI>Next message (by thread): <A HREF="009335.html">[squid-users] SSL Bump matching Subject Alternative Names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9308">[ date ]</a>
              <a href="thread.html#9308">[ thread ]</a>
              <a href="subject.html#9308">[ subject ]</a>
              <a href="author.html#9308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
