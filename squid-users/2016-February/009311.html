<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Youtube &quot;challenges&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Youtube%20%22challenges%22&In-Reply-To=%3C56CF159D.5000402%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009310.html">
   <LINK REL="Next"  HREF="009309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Youtube &quot;challenges&quot;</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Youtube%20%22challenges%22&In-Reply-To=%3C56CF159D.5000402%40ngtech.co.il%3E"
       TITLE="[squid-users] Youtube &quot;challenges&quot;">eliezer at ngtech.co.il
       </A><BR>
    <I>Thu Feb 25 14:54:21 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009310.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
        <LI>Next message (by thread): <A HREF="009309.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9311">[ date ]</a>
              <a href="thread.html#9311">[ thread ]</a>
              <a href="subject.html#9311">[ subject ]</a>
              <a href="author.html#9311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK so I think that you are just on-top of YouTube\Google.
I would like to clear out couple things so you would have a better view 
of couple things from my knowledge and understanding of YouTube way of 
action.

 From what I and couple others analyzed it seems that YouTube\Google are 
using a nice technique that is not really new in the web world in order 
to achieve almost the same goal as you want.
Every request to YouTube and probably also Google systems is somehow 
being stamped or marked for identification. If they do have so many 
storage and CPU resources they might be able to also save these for 
historical analysis.(somebody said something about &quot;everything you do is 
written in the book&quot;?)
For the temporary side of the picture it would give YouTube systems the 
option to generate a somehow unique enough links that only this specific 
IP+UA+Other properties(maybe) can use. The user can access these special 
videos links only if the request matches the protocol the source ip and 
the other properties.
If you are able to predict or produce these links you are in a good 
enough state and you can somehow allow or deny access based on something 
solid rather then plain YouTube domains splice.

It is a bit hard for me to understand what application will be run on 
the local server and it could also be some reverse proxy to YouTube systems.

Since you where mentioning links in a local page then it is much simpler 
to choose the desired link.. plain HTTP can be good enough to easy up 
the task. If for any reason you would be required to touch any public 
YouTube links I would really suggest you to start digging into SSL-BUMP.

Indeed the heart beat idea is nice and if indeed you do have the option 
to tie the specific browser\user session and the YouTube connection to 
this specific page request you will have an easy job but I suspect it 
might be an issue unless you do have some kind of client side software 
that &quot;knows&quot; anything that moves on the client machine\pc\device.

If you do have the option to run an ICAP or eCAP solution all the above 
tasks are much simpler but still do not provide you anything that ties 
the request\user\device to session unless you will be able to use 
SSL-BUMP on the connections.

And I have another trump card for you\others in the case you do have the 
option to somehow install your own software on the client side.
Indeed squid has SSL-BUMP and it requires you\client install a ROOT CA 
certificate on the device. But there are other options for targeted 
domains such as YouTube.
In theory you can somehow install a specific certificate that will be 
tied to one or more local hosts that will be some kind of reverse proxy 
to YouTube services. It's not so &quot;simple&quot; since certificates changes 
and\or updates might be applied but it is commonly used in the PC world 
by more then one Internet security product and sometimes is considered 
more secured then a permanent ROOT CA certificate installation.

All The Bests,
Eliezer

On 25/02/2016 05:52, Darren wrote:
&gt;<i> Hi All
</I>&gt;<i>
</I>&gt;<i> Thanks for the feedback and thanks Eliezer for the Brain Dump on the
</I>&gt;<i> subject. I shall have a good dig through and see if I can gain further
</I>&gt;<i> inspiration.
</I>&gt;<i>
</I>&gt;<i> What I am chiseling away at now is the following idea.
</I>&gt;<i>
</I>&gt;<i> The user visits a page on my server with the YouTube links. Visiting
</I>&gt;<i> this page triggers a state based ACL (something like the captive portal
</I>&gt;<i> login).
</I>&gt;<i>
</I>&gt;<i> The user then clicks a YouTube link and squid checks this ACL to see if
</I>&gt;<i> the user is originating the request from my local page and if it is,
</I>&gt;<i> allows the splice to YouTube and the video can play.
</I>&gt;<i>
</I>&gt;<i> The ACL would need to be tied to the client and the browser session some
</I>&gt;<i> way.
</I>&gt;<i>
</I>&gt;<i> Once the user leaves the page, the ACL goes away (or expires) and
</I>&gt;<i> splicing to YouTube is blocked again.
</I>&gt;<i>
</I>&gt;<i> As I control the master page, I could have it send a heartbeat to the
</I>&gt;<i> local server to keep the splice to YouTube ACL active to allow setting a
</I>&gt;<i> shorter timeout to remove the ACL permission once the user moves on.
</I>&gt;<i>
</I>&gt;<i> thanks again to all, I will let you know if I crack this nut.
</I>&gt;<i>
</I>&gt;<i> Darren Breeze
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sent from Mailbird
</I>&gt;<i> &lt;<A HREF="http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird">http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 25/02/2016 10:33:48 AM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hey Steve,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have not reviewed every product but I have tried couple and these I
</I>&gt;&gt;<i> have tested do not have a really good system that filters YouTube videos
</I>&gt;&gt;<i> the way I would have imagined.
</I>&gt;&gt;<i> I have not tested your product... and I was wondering if the next URL
</I>&gt;&gt;<i> will be filtered by you software in some way?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://www.youtubeeducation.com/embed/KdS6HFQ_LUc">https://www.youtubeeducation.com/embed/KdS6HFQ_LUc</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have seen couple pretty really amazing filtering ideas but each has
</I>&gt;&gt;<i> it's own limits. For example it is possible to analyze every in-transit
</I>&gt;&gt;<i> image and video+audio and categorize them which actually is a great
</I>&gt;&gt;<i> solution for many but the Achilles heel is there always.
</I>&gt;&gt;<i> Some filters has higher false positive rates while others has less but
</I>&gt;&gt;<i> leaves the user in abyss after reading a weird faked ransom malware JS
</I>&gt;&gt;<i> page.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am not sure if Darren requires a very restrictive environment or not,
</I>&gt;&gt;<i> which will result in the use of something like url based filtering or a
</I>&gt;&gt;<i> local portal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If there is a requirement for a local playback of YouTube videos rather
</I>&gt;&gt;<i> then a filtering solution I would try a simpler solution.
</I>&gt;&gt;<i> An example to such would be a local hosting service with some kind of
</I>&gt;&gt;<i> simple html5 or flash based player. It's far more simple then doing all
</I>&gt;&gt;<i> sort of weird things with YouTube links as embed inside an iframe.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have seen examples of couple projects that gives a full local video
</I>&gt;&gt;<i> library platform which is far better then YouTube for many use cases but
</I>&gt;&gt;<i> I have never used any of these. I have worked with couple html5 and
</I>&gt;&gt;<i> flash based video players and it actually pretty simple to use them with
</I>&gt;&gt;<i> any normal browser.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I cannot really recommend my simple videos collection
</I>&gt;&gt;<i> page[<A HREF="http://ngtech.co.il/squid/videos/">http://ngtech.co.il/squid/videos/</A>] as a tempting and a good looking
</I>&gt;&gt;<i> example but it can give something to anyone that needs.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Eliezer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * Darren, Take a glimpse at these ideas:
</I>&gt;&gt;<i> - <A HREF="http://blog.plumi.org/">http://blog.plumi.org/</A>
</I>&gt;&gt;<i> - <A HREF="http://cumulusclips.org/">http://cumulusclips.org/</A>
</I>&gt;&gt;<i> - <A HREF="http://mediadrop.net/">http://mediadrop.net/</A>
</I>&gt;&gt;<i> - <A HREF="http://demo.softaculous.com/enduser/index.php?act=software&amp;soft=435">http://demo.softaculous.com/enduser/index.php?act=software&amp;soft=435</A>
</I>&gt;&gt;<i> - <A HREF="http://www.netup.tv/en-EN/open_source.php">http://www.netup.tv/en-EN/open_source.php</A>
</I>&gt;&gt;<i> - <A HREF="http://www.cubiware.com/cubitv-iptv-middleware/">http://www.cubiware.com/cubitv-iptv-middleware/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 24/02/2016 11:59, Steve Hill wrote:
</I>&gt;&gt;<i> &gt; On 23/02/16 05:01, Darren wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; AI am putting together a config to allow the kids to access selected
</I>&gt;&gt;<i> &gt;&gt; videos in YouTube from a page of links on a local server.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I am serving up the YouTube links in the
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009310.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
	<LI>Next message (by thread): <A HREF="009309.html">[squid-users] Youtube &quot;challenges&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9311">[ date ]</a>
              <a href="thread.html#9311">[ thread ]</a>
              <a href="subject.html#9311">[ subject ]</a>
              <a href="author.html#9311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
