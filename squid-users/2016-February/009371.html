<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid SMP rock store ,	any luck with new releases ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20SMP%20rock%20store%20%2C%0A%09any%20luck%20with%20new%20releases%20%3F&In-Reply-To=%3C56D1BE2D.8060509%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009367.html">
   <LINK REL="Next"  HREF="009368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid SMP rock store ,	any luck with new releases ?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20SMP%20rock%20store%20%2C%0A%09any%20luck%20with%20new%20releases%20%3F&In-Reply-To=%3C56D1BE2D.8060509%40measurement-factory.com%3E"
       TITLE="[squid-users] squid SMP rock store ,	any luck with new releases ?">rousskov at measurement-factory.com
       </A><BR>
    <I>Sat Feb 27 15:18:05 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009367.html">[squid-users] &#1585;&#1583;:  squid SMP rock store , any luck with new releases ?
</A></li>
        <LI>Next message (by thread): <A HREF="009368.html">[squid-users] proxy not staying logged in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9371">[ date ]</a>
              <a href="thread.html#9371">[ thread ]</a>
              <a href="subject.html#9371">[ subject ]</a>
              <a href="author.html#9371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/27/2016 02:01 AM, Ahmad wrote:

&gt;<i> How much can we store in rock ?
</I>
As much as your disk space allows, essentially.

A single cache_dir (of any type) is limited to about 16 million objects
(of any size).


&gt;<i> I already used the rock with 3.5.15 squid and it seems mean object size like 35K
</I>
The mean [cachable] object size is a traffic property so it does not
depend on what cache_dir type you are using. Once you know your traffic,
you can tune cache_dir parameters accordingly (or you can leave the
optional parameters at their default settings if you do not want to tune
anything).

Please note that tuning rock db slot size based on _mean_ object size is
probably a bad idea because occasional huge objects skew mean a lot. You
probably need a histogram of sizes and a good idea of what you are
trying to optimize (disk space waste, hit response time, or something
else). I do not have a ready-to-use recipe for slot size optimization. I
hope the default 32KB works well for many (most?) cases.


&gt;<i> So im not getting any good things
</I>
What &quot;good things&quot; do you desire to get and why [do you think] you are
not getting them?


&gt;<i> Can  I cache like 10 M object size in rock ?
</I>
Yes, you should be able to cache a 10 megabyte object in your rock
cache_dir if that store is large enough (e.g. 100 megabytes).


&gt;<i> Can I cache that in memeory ?
</I>
Yes, if your cache_mem is large enough.


&gt;<i> Can u just tell me the max object size I can have with the last version of squid?
</I>
I cannot because there is no hard-coded limit AFAIK (except for the
impractical ~9'223'372'036'854'775'808 byte limit due to various 64-bit
counters used by Squid). I am sure Squid will not work well much sooner
than that limit is reached.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009367.html">[squid-users] &#1585;&#1583;:  squid SMP rock store , any luck with new releases ?
</A></li>
	<LI>Next message (by thread): <A HREF="009368.html">[squid-users] proxy not staying logged in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9371">[ date ]</a>
              <a href="thread.html#9371">[ thread ]</a>
              <a href="subject.html#9371">[ subject ]</a>
              <a href="author.html#9371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
