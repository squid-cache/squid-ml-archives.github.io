<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as forward proxy far slow than Shadowsocks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20forward%20proxy%20far%20slow%20than%20Shadowsocks&In-Reply-To=%3C87wppqkn5q.fsf%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009372.html">
   <LINK REL="Next"  HREF="009212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as forward proxy far slow than Shadowsocks</H1>
    <B>Billy.Zheng (zw963)</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20forward%20proxy%20far%20slow%20than%20Shadowsocks&In-Reply-To=%3C87wppqkn5q.fsf%40163.com%3E"
       TITLE="[squid-users] Squid as forward proxy far slow than Shadowsocks">zw963 at 163.com
       </A><BR>
    <I>Sat Feb 27 18:45:21 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009372.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
        <LI>Next message (by thread): <A HREF="009212.html">[squid-users] Squid 4.06 compile errors on Ubuntu 12.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9377">[ date ]</a>
              <a href="thread.html#9377">[ thread ]</a>
              <a href="subject.html#9377">[ subject ]</a>
              <a href="author.html#9377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,  I had read some squid wiki about following info.

&gt;&gt;<i> For example you might get faster traffic by moving from
</I>&gt;<i> stunnel+Squid to a Squid with intercept &gt;&gt;  Squid with intercept,
</I>&gt;&gt;<i> ssl-bump and &quot;ssl_bump splice all&quot; in the latest Squid-3.5 releases.
</I>
My current case is, from china inner Intranet =&gt; Squid server in Japan
vps must use https encrypt to communication. otherwize, GFW will block
request automaticly and disconnect my home internet some minutes.

If not used with stunnel, does this need my firefox browser to sent
https encrypt content to squid directly?

What about if I want to download from a blocked url with wget
in my Terminal?

I am still have no clear understood about how to connect to 
ss-bump enabled squid forward proxy server.

Thanks very much.

Amos Jeffries writes:

&gt;<i> On 23/02/2016 6:41 a.m., Billy.Zheng (zw963) wrote:
</I>&gt;&gt;<i> and connect to server with shadowssocks android app, the speed is
</I>&gt;&gt;<i> improve a lot, I can access almost any website as i did in my laptop ,
</I>&gt;&gt;<i> and more faster.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I love squid, so I want to know why those big difference between those
</I>&gt;&gt;<i> two software.
</I>&gt;<i>
</I>&gt;<i> The main difference is protocol type. You are comparing SOCKS protocol
</I>&gt;<i> with HTTP.
</I>&gt;<i>
</I>&gt;<i> SOCKS has more in common with NAT. A simple mapping of &quot;packets with
</I>&gt;<i> certain IP:port (all) go to router X:y&quot;. Processing this is extremely
</I>&gt;<i> fast as all it requires is swapping ~12 bytes in each packet to new
</I>&gt;<i> values and leaving it to be delivered to the new location.
</I>&gt;<i>
</I>&gt;<i> Squid is actually parsing and processing the TLS and HTTP(S) messages
</I>&gt;<i> inside each packet stream - which have to be queued and buffered to get
</I>&gt;<i> enough packet data for each message (messages being bigger than
</I>&gt;<i> packets). All that work slows the traffic down and takes up machine
</I>&gt;<i> resources, which further slows down how much traffic can be processed
</I>&gt;<i> per second.
</I>&gt;<i>
</I>&gt;<i> Which one you need to use depends on your requirements. If its just
</I>&gt;<i> getting the traffic from A to B, then SOCKS is as good or better than
</I>&gt;<i> Squid. Proper routing rules would be even better.
</I>&gt;<i>
</I>&gt;<i> If you need to manage traffic based on anything in the HTTP messages
</I>&gt;<i> themselves. Then Squid is the better tool despite the speed differences.
</I>&gt;<i>
</I>&gt;<i> You will find the same tradeoff between fine grained control and speed
</I>&gt;<i> with any networking software or protocols. Even between different Squid
</I>&gt;<i> configurations. For example you might get faster traffic by moving from
</I>&gt;<i> stunnel+Squid to a Squid with intercept, ssl-bump and &quot;ssl_bump splice
</I>&gt;<i> all&quot; in the latest Squid-3.5 releases.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-- 
Geek, Rubyist, Emacser
Homepage: <A HREF="http://zw963.github.io">http://zw963.github.io</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009372.html">[squid-users] Squid as forward proxy far slow than Shadowsocks
</A></li>
	<LI>Next message (by thread): <A HREF="009212.html">[squid-users] Squid 4.06 compile errors on Ubuntu 12.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9377">[ date ]</a>
              <a href="thread.html#9377">[ thread ]</a>
              <a href="subject.html#9377">[ subject ]</a>
              <a href="author.html#9377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
