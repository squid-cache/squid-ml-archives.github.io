<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to prevent caching of request or configure smart	handling?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20prevent%20caching%20of%20request%20or%20configure%20smart%0A%09handling%3F&In-Reply-To=%3C56D34864.9020409%40richtercloud.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009386.html">
   <LINK REL="Next"  HREF="009402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to prevent caching of request or configure smart	handling?</H1>
    <B>Karl-Philipp Richter</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20prevent%20caching%20of%20request%20or%20configure%20smart%0A%09handling%3F&In-Reply-To=%3C56D34864.9020409%40richtercloud.de%3E"
       TITLE="[squid-users] How to prevent caching of request or configure smart	handling?">richter at richtercloud.de
       </A><BR>
    <I>Sun Feb 28 19:20:04 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009386.html">[squid-users] A squid current version status JSON feed.
</A></li>
        <LI>Next message (by thread): <A HREF="009402.html">[squid-users] How to prevent caching of request or configure smart handling?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9400">[ date ]</a>
              <a href="thread.html#9400">[ thread ]</a>
              <a href="subject.html#9400">[ subject ]</a>
              <a href="author.html#9400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm experiencing trouble with IP lookup service used by DDNS clients
like `ddclient` and bittorrent frontends like `rutorrent`. After
configuring `squid` as intercepting HTTP caching proxy services like
<A HREF="http://canyouseeme.org,">http://canyouseeme.org,</A> <A HREF="http://checkip.dyndns.org/">http://checkip.dyndns.org/</A> and
<A HREF="http://ipdetect.dnspark.com">http://ipdetect.dnspark.com</A> report result for local addresses within
192.168.0.0/16. My questions are now:

  * Since all services cause trouble: is `squid` misconfigured for
caching request which obviously don't make sense to be cached (am I
missing a configuration tweak to handle those services generically, i.e.
without listing their addresses in an exclusion list) or are all tested
services replying in an incorrect manner and squid does what it's
supposed to?
  * Why are requests to canyouseeme.org still served from cache after I
added

        acl domain_all dstdom_regex -i .*
        cache allow domain_all

        acl ip_services dstdomain &quot;/etc/squid3/no-cache.acl&quot;
        cache deny ip_services

        always_direct allow ip_services

    with `.canyouseeme.org` in `/etc/squid3/no-cache.acl`? I observe
TCP_HIT and TPC_MEM_HIT in `access.log` after restarting the service.

Any help or pointers are appreciated.

-Kalle

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160228/bb10e8fe/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160228/bb10e8fe/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009386.html">[squid-users] A squid current version status JSON feed.
</A></li>
	<LI>Next message (by thread): <A HREF="009402.html">[squid-users] How to prevent caching of request or configure smart handling?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9400">[ date ]</a>
              <a href="thread.html#9400">[ thread ]</a>
              <a href="subject.html#9400">[ subject ]</a>
              <a href="author.html#9400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
