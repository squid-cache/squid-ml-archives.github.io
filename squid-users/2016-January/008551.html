<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Compile install Squid, configure default options.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20install%20Squid%2C%20configure%20default%20options.&In-Reply-To=%3C150a22b2.1799.1520bf1ee96.Coremail.zw963%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008648.html">
   <LINK REL="Next"  HREF="008554.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Compile install Squid, configure default options.</H1>
    <B>&#37073;&#20255;</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20install%20Squid%2C%20configure%20default%20options.&In-Reply-To=%3C150a22b2.1799.1520bf1ee96.Coremail.zw963%40163.com%3E"
       TITLE="[squid-users] Compile install Squid, configure default options.">zw963 at 163.com
       </A><BR>
    <I>Mon Jan  4 09:22:30 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008648.html">[squid-users] squid 4.0.3 - sslflags not working?
</A></li>
        <LI>Next message (by thread): <A HREF="008554.html">[squid-users] Compile install Squid, configure default options.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8551">[ date ]</a>
              <a href="thread.html#8551">[ thread ]</a>
              <a href="subject.html#8551">[ subject ]</a>
              <a href="author.html#8551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
Hi, I have tried to compile and install Squid 3.5.12 in a fresh
CentOS 7 VPS host, because I doesn't understood so many configure,
so I just with minimum configure  I understood, I need openssl
to open a https port, and I need basic_auth to support user/password
authentication, so I just with following config:

./configure --build=x86_64-linux-gnu \
    --prefix=/usr \
    --exec-prefix=/usr \
    '--bindir=${prefix}/bin' \
    '--sbindir=${prefix}/sbin' \
    '--libdir=${prefix}/lib64' \
    '--libexecdir=${prefix}/lib64/squid' \
    '--includedir=${prefix}/include' \
    '--datadir=${prefix}/share/squid' \
    '--mandir=${prefix}/share/man' \
    '--infodir=${prefix}/share/info' \
    --localstatedir=/var \
    '--with-logdir=${localstatedir}/log/squid' \
    '--with-pidfile=${localstatedir}/run/squid.pid' \
    '--with-swapdir=${localstatedir}/spool/squid' \
    --sysconfdir=/etc/squid \
    --with-openssl \
    --enable-epoll \
    --enable-auth \
    --enable-auth-basic
    
it worked!

But compare to the CentOS 7 yum package version, I found my own less many
config. following is missing list I never use in my own compile version.

--host=x86_64-redhat-linux-gnu \
--disable-strict-error-checking \
--disable-dependency-tracking \
--enable-follow-x-forwarded-for \
--enable-auth-ntlm=smb_lm,fake \
--enable-auth-digest=file,LDAP,eDirectory \
--enable-auth-negotiate=kerberos \
--enable-external-acl-helpers=file_userip,LDAP_group,time_quota,session,unix_group,wbinfo_group \
--enable-cache-digests \
--enable-cachemgr-hostname=localhost \
--enable-delay-pools \
--enable-icap-client \
--enable-ident-lookups \
--enable-linux-netfilter \
--enable-removal-policies=heap,lru \
--enable-ssl-crtd \
--enable-storeio=aufs,diskd,ufs \
--enable-wccpv2 \
--enable-esi \
--enable-ecap \
--with-aio \
--with-default-user=squid \
--with-filedescriptors=16384 \
--with-dl \
--with-pthreads
'build_alias=x86_64-redhat-linux-gnu'
'host_alias=x86_64-redhat-linux-gnu'
'CFLAGS=-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
-fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches
-m64 -mtune=generic -fpie'
'LDFLAGS=-Wl,-z,relro  -pie -Wl,-z,relro -Wl,-z,now'
'CXXFLAGS=-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
-fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches
-m64 -mtune=generic -fpie'
'PKG_CONFIG_PATH=:/usr/lib64/pkgconfig:/usr/share/pkgconfig'

I want to use newest version Squid, but i think I perhaps missing
something important option maybe, which can cause risk in some case?

Could any please help me for a `standard necessary' configure arguments
for current 3.5 serious?

Or, just tell me, this worked, it is fine, and I will very happy to use.

btw: When I first install, ./configure is passed, but make is failed.
because I am not install gcc-c++. I have to install gcc-c++, reconfigure
again, make is passed. I thought if ./configure could detect gcc-c++
is not installed, will more good.

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160104/5b946e52/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160104/5b946e52/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008648.html">[squid-users] squid 4.0.3 - sslflags not working?
</A></li>
	<LI>Next message (by thread): <A HREF="008554.html">[squid-users] Compile install Squid, configure default options.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8551">[ date ]</a>
              <a href="thread.html#8551">[ thread ]</a>
              <a href="subject.html#8551">[ subject ]</a>
              <a href="author.html#8551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
