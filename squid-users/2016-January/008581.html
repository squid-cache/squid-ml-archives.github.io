<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] problem with squidGuard redirect page after upgrading squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squidGuard%20redirect%20page%20after%0A%20upgrading%20squid&In-Reply-To=%3C568BA329.6040500%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008578.html">
   <LINK REL="Next"  HREF="008613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] problem with squidGuard redirect page after upgrading squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squidGuard%20redirect%20page%20after%0A%20upgrading%20squid&In-Reply-To=%3C568BA329.6040500%40treenet.co.nz%3E"
       TITLE="[squid-users] problem with squidGuard redirect page after upgrading squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jan  5 11:04:09 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008578.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
        <LI>Next message (by thread): <A HREF="008613.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8581">[ date ]</a>
              <a href="thread.html#8581">[ thread ]</a>
              <a href="subject.html#8581">[ subject ]</a>
              <a href="author.html#8581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/01/2016 10:39 p.m., Jason Haar wrote:
&gt;<i> On 31/12/15 23:43, Amos Jeffries wrote:
</I>&gt;&gt;<i>  But that said; everything SG provides a current Squid can also do
</I>&gt;&gt;<i> (maybe better) by itself. 
</I>&gt;<i> Hi Amos
</I>&gt;<i> 
</I>&gt;<i> Are you saying the squid acl model can support (say) 100M acl lists? The
</I>&gt;<i> main feature of the squidguard redirector was that it had indexed files
</I>&gt;<i> that allowed for rapid searching for matches - is this done within squid
</I>&gt;<i> now? (presumably it wasn't some time ago?). If so, is that done in
</I>&gt;<i> memory or via the acl files? (ala SG) - the former means a much slower
</I>&gt;<i> squid startup?
</I>&gt;<i> 
</I>
Yes. Squid always has been able to given enough RAM. Squid stores most
ACLs in memory as Splay trees, so entries are sorted by frequency of use
which is dynamically adapted over time. Regex are pre-parsed and
aggregated together for reduced matching instead of re-interpreted and
parsed per-request.

SquidGuard is from the era when servers only had 100's MB of RAM, not
tens of GB. So storing things on disk in files made sense. With OS level
file caching in memory that can look like fast ACLs - but in reality it
is still slower than directly accessing the listed value in RAM where
the entries are stored in a format that can be quickly tested against
the on-wire protocol data, not to mention the Squid&lt;-&gt;helper protocol
overheads.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008578.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
	<LI>Next message (by thread): <A HREF="008613.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8581">[ date ]</a>
              <a href="thread.html#8581">[ thread ]</a>
              <a href="subject.html#8581">[ subject ]</a>
              <a href="author.html#8581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
