<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] confused over ipv6 failing on ipv4-only network
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20confused%20over%20ipv6%20failing%20on%20ipv4-only%20network&In-Reply-To=%3C568C923F.6000607%40trimble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008656.html">
   <LINK REL="Next"  HREF="008599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] confused over ipv6 failing on ipv4-only network</H1>
    <B>Jason Haar</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20confused%20over%20ipv6%20failing%20on%20ipv4-only%20network&In-Reply-To=%3C568C923F.6000607%40trimble.com%3E"
       TITLE="[squid-users] confused over ipv6 failing on ipv4-only network">Jason_Haar at trimble.com
       </A><BR>
    <I>Wed Jan  6 04:04:15 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008656.html">[squid-users] Intercepting BITS_POST
</A></li>
        <LI>Next message (by thread): <A HREF="008599.html">[squid-users] confused over ipv6 failing on ipv4-only network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8598">[ date ]</a>
              <a href="thread.html#8598">[ thread ]</a>
              <a href="subject.html#8598">[ subject ]</a>
              <a href="author.html#8598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there

Weird - several times in the past couple of months I have found I cannot
get to <A HREF="http://wiki.squid-cache.org/">http://wiki.squid-cache.org/</A> - I get the error below from my
squid-3.5.11 server which does not have a Global ipv6 address (it has a
Local ipv6/fe80: on the Ethernet card - but nothing else). Google.com
(which is fully ipv6 capable) works fine - so far only
wiki.squid-cache.org has shown up this way to me (ie I don't see this
error message.

On the squid server, &quot;dig a&quot; shows valid ipv4 addresses and &quot;dig aaaa&quot;
shows the ipv6 address - but why is squid even trying to connect over
ipv6 If doesn't have an ipv6 address?

Could this be a case of the &quot;A&quot; record failing to return fast enough,
forcing squid to only try ipv6 - which then leads to the error message
referring to the ipv6 address? This error message may be correct, but is
very confusing to anyone who knows they are only running ipv4: maybe
squid should know how to differentiate between locally routable and
globally routable ipv6 addresses and basically disable ipv6 if there is
no Global route? Obviously I could recompile squid without ipv6 support,
but Amos has made it clear that is &quot;the wrong way&quot; - so how else could
that be done (as adding ipv6 support to an entire network is not an
option either - if it was I wouldn't be sending this email! :-)

As an aside - I've seen this several times and yet only with
wiki.squid-cache.org - perhaps there's a performance issue/bug with one
of the associated DNS servers there?

The following error was encountered while trying to retrieve the URL:
<A HREF="http://wiki.squid-cache.org/SquidFaq/SquidAcl">http://wiki.squid-cache.org/SquidFaq/SquidAcl</A>

    Connection to 2001:4b78:2003::1 failed.

The system returned: (101) Network is unreachable

The remote host or network may be down. Please try the request again.

Your cache administrator is webmaster.

-- 
Cheers

Jason Haar
Corporate Information Security Manager, Trimble Navigation Ltd.
Phone: +1 408 481 8171
PGP Fingerprint: 7A2E 0407 C9A6 CAF6 2B9F 8422 C063 5EBB FE1D 66D1


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008656.html">[squid-users] Intercepting BITS_POST
</A></li>
	<LI>Next message (by thread): <A HREF="008599.html">[squid-users] confused over ipv6 failing on ipv4-only network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8598">[ date ]</a>
              <a href="thread.html#8598">[ thread ]</a>
              <a href="subject.html#8598">[ subject ]</a>
              <a href="author.html#8598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
