<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] problem with squidGuard redirect page after upgrading squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squidGuard%20redirect%20page%20after%0A%20upgrading%20squid&In-Reply-To=%3C568DD190.4010208%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008613.html">
   <LINK REL="Next"  HREF="008617.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] problem with squidGuard redirect page after upgrading squid</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20problem%20with%20squidGuard%20redirect%20page%20after%0A%20upgrading%20squid&In-Reply-To=%3C568DD190.4010208%40ngtech.co.il%3E"
       TITLE="[squid-users] problem with squidGuard redirect page after upgrading squid">eliezer at ngtech.co.il
       </A><BR>
    <I>Thu Jan  7 02:46:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008613.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
        <LI>Next message (by thread): <A HREF="008617.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8614">[ date ]</a>
              <a href="thread.html#8614">[ thread ]</a>
              <a href="subject.html#8614">[ subject ]</a>
              <a href="author.html#8614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/01/2016 04:31, Jason Haar wrote:
&gt;<i> On 06/01/16 00:04, Amos Jeffries wrote:
</I>&gt;&gt;<i> Yes. Squid always has been able to given enough RAM. Squid stores most
</I>&gt;&gt;<i> ACLs in memory as Splay trees, so entries are sorted by frequency of use
</I>&gt;&gt;<i> which is dynamically adapted over time. Regex are pre-parsed and
</I>&gt;&gt;<i> aggregated together for reduced matching instead of re-interpreted and
</I>&gt;&gt;<i> parsed per-request.
</I>&gt;<i> Great to hear. I've got some 600,000+ domain lists (ie dstdomain) and
</I>&gt;<i> 60,000+ url lists (ie url_regex) acls, and there are a couple of
</I>&gt;<i> &quot;gotchas&quot; I've picked up during testing
</I>
commercial paid lists?

&gt;<i> 1. at startup squid reports &quot;WARNING: there are more than 100 regular
</I>&gt;<i> expressions. Consider using less REs&quot;. Is that now legacy and ignorable?
</I>&gt;<i> (should that be removed?). Obviously I have over 60,000 REs
</I>
&gt;<i> 2. making any change to squid and restarting/reconfiguring it now means
</I>&gt;<i> I'm seeing a 12sec outage as squid reads those acls off SSD
</I>&gt;<i> drives/parses them/etc. With squidguard that outage is hidden because
</I>&gt;<i> squidguard uses indexed files instead of the raw files and that
</I>&gt;<i> parsing/etc can be done offline. That behavioral change is pretty
</I>&gt;<i> dramatic: making a minor, unrelated change to squid now involves a
</I>&gt;<i> 10+sec outage (instead of &lt;1sec). I'd say &quot;outsourcing&quot; this kind of
</I>&gt;<i> function to another process (such as url_rewriter or ICAP) still has
</I>&gt;<i> it's advantages ;-)
</I>
I have been working for a while on SquidBlocker which is a filtering 
engine\DB that has a built-in ICAP service.
My plan is to publish the stable version 1.0 at the end of the 
month(31/01/2016) after couple long month of testing in production.
It's not open source but parts of it are.

One of the main points with it was blazing fast online updates with 
almost 0 down time if at all, ie a restart doesn't really exists(The 
only reasons I have restarted the service was for an update).

Eliezer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008613.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
	<LI>Next message (by thread): <A HREF="008617.html">[squid-users] problem with squidGuard redirect page after upgrading squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8614">[ date ]</a>
              <a href="thread.html#8614">[ thread ]</a>
              <a href="subject.html#8614">[ subject ]</a>
              <a href="author.html#8614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
