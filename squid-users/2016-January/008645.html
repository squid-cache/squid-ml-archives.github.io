<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl-bump and accel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20and%20accel&In-Reply-To=%3C5691DE6E.8080304%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008630.html">
   <LINK REL="Next"  HREF="008654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl-bump and accel</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20and%20accel&In-Reply-To=%3C5691DE6E.8080304%40treenet.co.nz%3E"
       TITLE="[squid-users] ssl-bump and accel">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Jan 10 04:30:38 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008630.html">[squid-users] ssl-bump and accel
</A></li>
        <LI>Next message (by thread): <A HREF="008654.html">[squid-users] ssl-bump and accel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8645">[ date ]</a>
              <a href="thread.html#8645">[ thread ]</a>
              <a href="subject.html#8645">[ subject ]</a>
              <a href="author.html#8645">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/01/2016 7:48 a.m., Nir Krakowski wrote:
&gt;<i> This is what needs to be done to get it to work in squid &gt;3.5 in function
</I>&gt;<i> ClientRequestContext::hostHeaderIpVerify(const ipcache_addrs* ia, const
</I>&gt;<i> Dns::LookupDetails &amp;dns):
</I>&gt;<i> 
</I>
Hell NO!!!!

clientConn is the state data about the TCP connection the message
arrived on. HTTP and SSL-Bump in no way alter the reality of what
src/dst IPs those TCP packets contain.

There may be a bug needing a fix, but it absolutely is not that patch.


By applying that patch you are allowing a remote sender to both bypass
all your Squid protections, and any network firewall security you may
have external to Squid. While simultaneously recording in your Squid
logs any value of its choosing for the destination IPs of its attack
traffic.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008630.html">[squid-users] ssl-bump and accel
</A></li>
	<LI>Next message (by thread): <A HREF="008654.html">[squid-users] ssl-bump and accel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8645">[ date ]</a>
              <a href="thread.html#8645">[ thread ]</a>
              <a href="subject.html#8645">[ subject ]</a>
              <a href="author.html#8645">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
