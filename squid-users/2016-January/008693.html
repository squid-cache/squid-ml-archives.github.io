<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Compile install Squid, configure default options.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20install%20Squid%2C%20configure%20default%20options.&In-Reply-To=%3C87egdma8yg.fsf%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008554.html">
   <LINK REL="Next"  HREF="008694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Compile install Squid, configure default options.</H1>
    <B>Billy.Zheng (zw963)</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Compile%20install%20Squid%2C%20configure%20default%20options.&In-Reply-To=%3C87egdma8yg.fsf%40163.com%3E"
       TITLE="[squid-users] Compile install Squid, configure default options.">zw963 at 163.com
       </A><BR>
    <I>Tue Jan 12 19:34:38 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008554.html">[squid-users] Compile install Squid, configure default options.
</A></li>
        <LI>Next message (by thread): <A HREF="008694.html">[squid-users] Compile install Squid, configure default options.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8693">[ date ]</a>
              <a href="thread.html#8693">[ thread ]</a>
              <a href="subject.html#8693">[ subject ]</a>
              <a href="author.html#8693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; 
</I>&gt;<i> &gt; Or, just tell me, this worked, it is fine, and I will very happy to use.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; btw: When I first install, ./configure is passed, but make is failed.
</I>&gt;<i> &gt; because I am not install gcc-c++. I have to install gcc-c++, reconfigure
</I>&gt;<i> &gt; again, make is passed. I thought if ./configure could detect gcc-c++
</I>&gt;<i> &gt; is not installed, will more good.
</I>
&gt;<i> What C++ compiler did you have installed instead of gcc-c++ ?
</I>
I use CentOS 7.0 in VPS.

I just follow squid document from here: <A HREF="http://wiki.squid-cache.org/SquidFaq/CompilingSquid">http://wiki.squid-cache.org/SquidFaq/CompilingSquid</A>

with following operation:

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at vultr</A> squid-3.5.12]# yum install -y perl gcc autoconf automake make sudo wget
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at vultr</A> squid-3.5.12]# yum install openssl-devel
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at vultr</A> squid-3.5.12]# g++
-bash: g++: command not found

and then run my new config, Thanks for guide.

    ./configure --build=x86_64-linux-gnu \
        --prefix=/usr \
        --exec-prefix=/usr \
        '--bindir=${prefix}/bin' \
        '--sbindir=${prefix}/sbin' \
        '--libdir=${prefix}/lib64' \
        '--libexecdir=${prefix}/lib64/squid' \
        '--includedir=${prefix}/include' \
        '--datadir=${prefix}/share/squid' \
        '--mandir=${prefix}/share/man' \
        '--infodir=${prefix}/share/info' \
        --localstatedir=/var \
        '--with-logdir=${localstatedir}/log/squid' \
        '--with-pidfile=${localstatedir}/run/squid.pid' \
        '--with-swapdir=${localstatedir}/spool/squid' \
        --sysconfdir=/etc/squid \
        --with-openssl \
        --with-default-user=squid \
        --with-filedescriptors=16384

it worked. and end with Makefile created.

It seem like not c++ compile included initially, ./configure is not detect out
for it for this OS, so no any error occur.

when I run make, it told me `g++: command not found'

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at vultr</A> squid-3.5.12]# make
Making all in compat
make[1]: Entering directory `/root/squid-3.5.12/compat'
source='assert.cc' object='assert.lo' libtool=yes \
DEPDIR=.deps depmode=none /bin/sh ../cfgaux/depcomp \
/bin/sh ../libtool  --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H   -I.. -I../include -I../lib -I../src -I../include   -I../libltdl    -c -o assert.lo assert.cc
libtool: compile:  g++ -DHAVE_CONFIG_H -I.. -I../include -I../lib -I../src -I../include -I../libltdl -c assert.cc  -o .libs/assert.o
../libtool: line 1125: g++: command not found
make[1]: *** [assert.lo] Error 1
make[1]: Leaving directory `/root/squid-3.5.12/compat'
make: *** [all-recursive] Error 1

following is a part of ./configure output:

checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /usr/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking whether UID '0' is supported by ustar format... yes
checking whether GID '0' is supported by ustar format... yes
checking how to create a ustar tar archive... gnutar
checking whether to enable maintainer-specific portions of Makefiles... no
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for g++... no
checking for c++... no
checking for gpp... no
checking for aCC... no
checking for CC... no
checking for cxx... no
checking for cc++... no
checking for cl.exe... no
checking for FCC... no
checking for KCC... no
checking for RCC... no
checking for xlC_r... no
checking for xlC... no
checking whether we are using the GNU C++ compiler... no
checking whether g++ accepts -g... no
checking dependency style of g++... none
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
configure: CPU arch native optimization enabled: auto
checking whether compiler accepts -march=native... no
checking simplified host os... linux (version )
checking what kind of compiler we're using... none
checking whether g++ supports C++11 features by default... no
checking whether g++ supports C++11 features with -std=c++11... no
checking whether g++ supports C++11 features with -std=c++0x... no
configure: No compiler with C++11 support was found
checking for ranlib... ranlib
checking how to run the C preprocessor... gcc -E
checking whether ln -s works... yes
checking for egrep... /usr/bin/egrep
checking for sh... /usr/bin/sh
checking for false... /usr/bin/false
checking for true... /usr/bin/true

-- 
Geek, Rubyist, Emacser
Homepage: <A HREF="http://zw963.github.io">http://zw963.github.io</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008554.html">[squid-users] Compile install Squid, configure default options.
</A></li>
	<LI>Next message (by thread): <A HREF="008694.html">[squid-users] Compile install Squid, configure default options.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8693">[ date ]</a>
              <a href="thread.html#8693">[ thread ]</a>
              <a href="subject.html#8693">[ subject ]</a>
              <a href="author.html#8693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
