<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] cache_mem differs from output in mgr:config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache_mem%20differs%20from%20output%20in%20mgr%3Aconfig&In-Reply-To=%3C56957BA5.8040704%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008689.html">
   <LINK REL="Next"  HREF="008690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] cache_mem differs from output in mgr:config</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache_mem%20differs%20from%20output%20in%20mgr%3Aconfig&In-Reply-To=%3C56957BA5.8040704%40treenet.co.nz%3E"
       TITLE="[squid-users] cache_mem differs from output in mgr:config">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jan 12 22:18:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008689.html">[squid-users] cache_mem differs from output in mgr:config
</A></li>
        <LI>Next message (by thread): <A HREF="008690.html">[squid-users] host header forgery false positives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8699">[ date ]</a>
              <a href="thread.html#8699">[ thread ]</a>
              <a href="subject.html#8699">[ subject ]</a>
              <a href="author.html#8699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/01/2016 2:36 p.m., XUFENG wrote:
&gt;<i> My squid's cache_mem in squid.conf differs from output in mgr:config.
</I>&gt;<i> 
</I>...
&gt;<i> 
</I>&gt;<i> Anything wrong? 
</I>
Just a bug in the mgr report display code I think. There are some others
known as well. The reporter code has often been overlooked by people
changing the squid.conf parser.

Your config file looks fine, and should be running with the values you
configured.


Some notes on what you could do to improve your squid.conf:

&gt;<i> unique_hostname squid-cache.xufeng.info
</I>&gt;<i> visible_hostname squid-cache.xufeng.info
</I>
unique_hostname default value is to copy the visible_hostname. So you
can remove it when the two are identical like this.

Also, you only need to configure the visible_hostname line if Squid is
unable to locate the machine hostname automatically, or if it differs
from the name you want to publish publicly. You may want to experiment
with that.


&gt;<i> acl PURGE method PURGE
</I>&gt;<i> http_access allow PURGE localhost
</I>&gt;<i> http_access deny PURGE
</I>
If you can avoid PURGE entirely (including the acl line above) Squid
will be able to operate a bit more efficiently by disabling the feature.

Your config is not doing anything special with refresh_pattern overrides
that would make PURGE necessary. So you (and your visitors) can use the
browser refresh button (reload requests) instead of the special PURGE
method to fix any broken content identified.


&gt;<i> cache_effective_user squid
</I>&gt;<i> cache_effective_group squid
</I>
If you can avoid configuring these manually it is a good idea to remove
them.
 * The default cache_effective_group is to use the group(s) the OS has
membership assigned for the cache_effective_user.
 (eg with command line &quot;adduser squid squid&quot;)

 * The default cache_effective_user can be built into Squid using the
build parameter:  --with-default-user=squid


&gt;<i> cache_peer 10.1.6.38 parent 80 0 no-query originserver round-robin
</I>name=server_xufeng_info

You may want to also set the no-netdb-exchange and no-digest options if
your Squid accepts them.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008689.html">[squid-users] cache_mem differs from output in mgr:config
</A></li>
	<LI>Next message (by thread): <A HREF="008690.html">[squid-users] host header forgery false positives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8699">[ date ]</a>
              <a href="thread.html#8699">[ thread ]</a>
              <a href="subject.html#8699">[ subject ]</a>
              <a href="author.html#8699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
