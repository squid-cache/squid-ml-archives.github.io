<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] receive only (asymatric routing)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20receive%20only%20%28asymatric%20routing%29&In-Reply-To=%3C201601181141.05467.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008812.html">
   <LINK REL="Next"  HREF="008798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] receive only (asymatric routing)</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20receive%20only%20%28asymatric%20routing%29&In-Reply-To=%3C201601181141.05467.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] receive only (asymatric routing)">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Mon Jan 18 10:41:05 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008812.html">[squid-users] receive only (asymatric routing)
</A></li>
        <LI>Next message (by thread): <A HREF="008798.html">[squid-users] SSLBUMP certificate verify failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8813">[ date ]</a>
              <a href="thread.html#8813">[ thread ]</a>
              <a href="subject.html#8813">[ subject ]</a>
              <a href="author.html#8813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 18 January 2016 at 11:32:02, behrad eslami wrote:

&gt;<i> User traffic diagram is like this:
</I>&gt;<i> 
</I>&gt;<i>          _____receive____ squid &lt;-----router1--         |                  
</I>&gt;<i>                                                 |     &lt;---&gt; internetuser
</I>&gt;<i>  -------send----&gt; router2------------------------
</I>
So, the user sends packets via router2, and these do not go through Squid?

Packets from the remote webserver coming back to the user do pass through 
Squid, which then has no idea what to do with them, because it never saw the 
requests.

No, this will not work.

In fact, I don't even see how you can get the replies to come back &quot;through 
Squid&quot;, because those reply packets will have the destination address of the 
client, therefore that's where router1 will send them.

What are you trying to achieve with such a setup?

If, instead of the client machine sending requests directly to the webserver 
via router2, it sent them to Squid, it then doesn't matter to Squid whether 
they get to the remote webserver via router1 or router2, and it doesn't care 
whether the replies come back via router1 or router2 (provided these are both 
just plain routers and are not doing NAT).

However, you can not expect Squid to do anything useful if it sees replies but 
no requests.

&gt;<i>     On Monday, January 18, 2016 1:41 PM, Antony Stone
</I>&gt;<i> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>  On Monday 18 January 2016 at 10:56:27, behrad eslami wrote:
</I>&gt;<i> &gt; Thanks for you reply
</I>&gt;<i> &gt; Im askinng about one way traffic. Some user sends traffic ,route from
</I>&gt;<i> &gt; another ISP and only received packet route from squid
</I>&gt;<i> 
</I>&gt;<i> Sorry, this is still not clear to me.
</I>&gt;<i> 
</I>&gt;<i> Do the requests from the client to the server pass through Squid?
</I>&gt;<i> 
</I>&gt;<i> Antony.
</I>&gt;<i> 
</I>&gt;<i> &gt; On Sunday, January 17, 2016 12:21 PM, Antony Stone wrote:
</I>&gt;<i> &gt;  On Sunday 17 January 2016 at 08:55:56, behrad eslami wrote:
</I>&gt;<i> &gt; &gt; Hi
</I>&gt;<i> &gt; &gt; Some part of our traffic is asymmatric (send and receive had different
</I>&gt;<i> &gt; &gt; route)Is squid cat work on one direct (only on receive)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If you're asking whether Squid will cache and/or proxy replies from
</I>&gt;<i> &gt; webservers where it hasn't seen the requests, then no.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If you're asking whether Squid cares about whether its upstream
</I>&gt;<i> &gt; connection to the webserver/s, and the downstream replies from the
</I>&gt;<i> &gt; webserver/s go along different routes, then no.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; So, both request and reply packets have to pass through Squid.  How those
</I>&gt;<i> &gt; packets get routed between client and Squid, and between Squid and
</I>&gt;<i> &gt; server, and then back again, is immaterial (provided any NAT along the
</I>&gt;<i> &gt; way is correctly reversed on replies, but if you weren't doing that,
</I>&gt;<i> &gt; then replies would never get back to the clients anyway).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Antony.
</I>
-- 
You can spend the whole of your life trying to be popular,
but at the end of the day the size of the crowd at your funeral
will be largely dictated by the weather.

 - Frank Skinner

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008812.html">[squid-users] receive only (asymatric routing)
</A></li>
	<LI>Next message (by thread): <A HREF="008798.html">[squid-users] SSLBUMP certificate verify failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8813">[ date ]</a>
              <a href="thread.html#8813">[ thread ]</a>
              <a href="subject.html#8813">[ subject ]</a>
              <a href="author.html#8813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
