<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid reverse proxy cache_peer failover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20reverse%20proxy%20cache_peer%20failover&In-Reply-To=%3C569E269A.1010207%40xvidservices.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008838.html">
   <LINK REL="Next"  HREF="008844.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid reverse proxy cache_peer failover</H1>
    <B>Veiko Kukk</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20reverse%20proxy%20cache_peer%20failover&In-Reply-To=%3C569E269A.1010207%40xvidservices.com%3E"
       TITLE="[squid-users] Squid reverse proxy cache_peer failover">vkukk at xvidservices.com
       </A><BR>
    <I>Tue Jan 19 12:05:46 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008838.html">[squid-users] delay pools
</A></li>
        <LI>Next message (by thread): <A HREF="008844.html">[squid-users] Squid reverse proxy cache_peer failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8842">[ date ]</a>
              <a href="thread.html#8842">[ thread ]</a>
              <a href="subject.html#8842">[ subject ]</a>
              <a href="author.html#8842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I did read documentation and googled for that, but did not find anything 
really useful.

I'm using Squid 3.5.13 and trying to achieve that with multiple 
cache_peer parents, only one is used if it is available. Only when it's 
not available, secondary is used. Something like this in configuration:


cache_peer foobar name=cache1
cache_peer barfoo name=cache2

if cache1 accessible, use it, else use cache2.


I did not find any 'backup' or 'priority' option for cache_peer 
configuration. For example, haproxy allows configuring some backend 
servers with keyword 'backup' and those servers are accessed only when 
main server(s) are down.

How would that be possible with squid?
Note that I'm not interested in load balancing, only high 
availability/failover.

Best regards,
Veiko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008838.html">[squid-users] delay pools
</A></li>
	<LI>Next message (by thread): <A HREF="008844.html">[squid-users] Squid reverse proxy cache_peer failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8842">[ date ]</a>
              <a href="thread.html#8842">[ thread ]</a>
              <a href="subject.html#8842">[ subject ]</a>
              <a href="author.html#8842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
