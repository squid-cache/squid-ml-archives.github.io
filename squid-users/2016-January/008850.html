<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] MS update woes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20MS%20update%20woes&In-Reply-To=%3C569EFE90.2040608%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008849.html">
   <LINK REL="Next"  HREF="008886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] MS update woes</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20MS%20update%20woes&In-Reply-To=%3C569EFE90.2040608%40treenet.co.nz%3E"
       TITLE="[squid-users] MS update woes">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jan 20 03:27:12 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008849.html">[squid-users] MS update woes
</A></li>
        <LI>Next message (by thread): <A HREF="008886.html">[squid-users] MS update woes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8850">[ date ]</a>
              <a href="thread.html#8850">[ thread ]</a>
              <a href="subject.html#8850">[ subject ]</a>
              <a href="author.html#8850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/01/2016 1:56 p.m., Alex Samad wrote:
&gt;<i> Oh
</I>&gt;<i> 
</I>&gt;<i> I am missing something. your saying the actualy get include more past
</I>&gt;<i> the ? and that squid logging isn't recording it !
</I>
Yes. There is part of the URL that is not logged by default. Sometimes
that part is very big by many KB, and/or wrongly containing sensitive info.
Set &lt;<A HREF="http://www.squid-cache.org/Doc/config/strip_query_terms/">http://www.squid-cache.org/Doc/config/strip_query_terms/</A>&gt; to
show/hide that part.

&gt;<i> 
</I>&gt;<i> So what I really need to do is modify the original to exclude any urls
</I>&gt;<i> that have ?
</I>&gt;<i> 
</I>&gt;<i> something like ?
</I>&gt;<i> &quot;windowsupdate.com/.*\.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)[^?]&quot;
</I>&gt;<i> 
</I>
What I suspect is that some part of the hidden query-string is different
between the MISS and possibly between your prefetch request.

You may be able to use the Store-ID feature to compact duplicates if the
changing part is unimportant. But that would have to be done very
carefully as there are some nasty side effects worse than bandwidth
usage if it goes wrong.
 So leave off trying for a fix until you/we are clear on what exactly
the reason for the MISS is.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008849.html">[squid-users] MS update woes
</A></li>
	<LI>Next message (by thread): <A HREF="008886.html">[squid-users] MS update woes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8850">[ date ]</a>
              <a href="thread.html#8850">[ thread ]</a>
              <a href="subject.html#8850">[ subject ]</a>
              <a href="author.html#8850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
