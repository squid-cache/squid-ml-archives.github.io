<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] log sslbump for sslbump steps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20log%20sslbump%20for%20sslbump%20steps&In-Reply-To=%3C569F0FF9.4060707%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008852.html">
   <LINK REL="Next"  HREF="008855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] log sslbump for sslbump steps</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20log%20sslbump%20for%20sslbump%20steps&In-Reply-To=%3C569F0FF9.4060707%40treenet.co.nz%3E"
       TITLE="[squid-users] log sslbump for sslbump steps">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jan 20 04:41:29 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008852.html">[squid-users] log sslbump for sslbump steps
</A></li>
        <LI>Next message (by thread): <A HREF="008855.html">[squid-users] Capitive portal with squid just to put small info	then have internet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8854">[ date ]</a>
              <a href="thread.html#8854">[ thread ]</a>
              <a href="subject.html#8854">[ subject ]</a>
              <a href="author.html#8854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/01/2016 5:16 p.m., xxiao8 wrote:
&gt;<i> <A HREF="http://www.squid-cache.org/Doc/config/logformat/">http://www.squid-cache.org/Doc/config/logformat/</A> showed a new logformat
</I>&gt;<i> in Squid-3.3:
</I>&gt;<i> 
</I>&gt;<i> &quot;New token %ssl::bump_mode to log the SSL-bump mode type performed on a
</I>&gt;<i> request. Logs values of: -, none, client-first, or server-first.&quot;
</I>&gt;<i> 
</I>&gt;<i> For Squid-3.5, does Squid have logformat that tells ssl-bump mode, e.g.
</I>&gt;<i> splice, bump,etc that I put into access.log? All my spliced domain names
</I>&gt;<i> are probably bumped and I would like to debug that.
</I>
Try that code. The meaning of the code has not changed between versions.
But the modes themselves have, so it should log the new mode names even
if the docs are outdated.

(if anyone can confirm its changed values I will happily fix the docs).

&gt;<i> 
</I>&gt;<i> Additionally, I noticed for intercept proxying, https and http video
</I>&gt;<i> streaming(from <A HREF="https://youtube.com">https://youtube.com</A> and <A HREF="http://dailymotion.com">http://dailymotion.com</A>) gave me
</I>&gt;<i> the same high cpu load on the squid 3.5.13 box, which is strange. I
</I>&gt;<i> would expect the http proxy which has no ssl bump should put a _much_
</I>&gt;<i> lighter load to the system instead, or am I missing something?
</I>&gt;<i> 
</I>
It could be a matter of temporal flow.

CPU load is not related to the type of video, but to the amount of work
performed per second. Each event cycle Squid receives, decodes, and
delivers as much as it can.

Squid often runs faster than the data can arrive from the network, so
spends more CPU cycling than strictly necessary. Up to a point the more
traffic you throw at Squid the more efficient it gets.
 Since TLS decoding takes time, it can slow Squid to allow larger chunks
to be received on each cycle.
 Thus on average: few expensive cycles per byte (TLS) vs many cheap
cycles per byte (TCP).

The TLS algorithms may also be hardware accelerated. Meaning no core CPU
load for adding them. Just delay. Which also affects the balance
mentioned above through chunk size.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008852.html">[squid-users] log sslbump for sslbump steps
</A></li>
	<LI>Next message (by thread): <A HREF="008855.html">[squid-users] Capitive portal with squid just to put small info	then have internet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8854">[ date ]</a>
              <a href="thread.html#8854">[ thread ]</a>
              <a href="subject.html#8854">[ subject ]</a>
              <a href="author.html#8854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
