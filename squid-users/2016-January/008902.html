<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to setup a secure(!) squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20setup%20a%20secure%28%21%29%20squid%20proxy&In-Reply-To=%3C56A86798.4000008%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008896.html">
   <LINK REL="Next"  HREF="008903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to setup a secure(!) squid proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20setup%20a%20secure%28%21%29%20squid%20proxy&In-Reply-To=%3C56A86798.4000008%40treenet.co.nz%3E"
       TITLE="[squid-users] How to setup a secure(!) squid proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jan 27 06:45:44 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008896.html">[squid-users] How to setup a secure(!) squid proxy
</A></li>
        <LI>Next message (by thread): <A HREF="008903.html">[squid-users] How to setup a secure(!) squid proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8902">[ date ]</a>
              <a href="thread.html#8902">[ thread ]</a>
              <a href="subject.html#8902">[ subject ]</a>
              <a href="author.html#8902">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/01/2016 11:22 p.m., L.P.H. van Belle wrote:
&gt;<i> Hai, 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Ok, good is its working now, i was pulling my hair out for you ;-) 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> This : sed -i 's/g++ (&gt;= 4:5.2)/g++/g' libecap-1.0.1/debian/control
</I>&gt;<i> 
</I>&gt;<i> Is not any problem, because squid is reconfigured and recompiled with G++ 4.9. 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> If you want a more secure set, you can change this to : 
</I>&gt;<i> 
</I>&gt;<i> sed -i 's/g++ (&gt;= 4:5.2)/g++ (&gt;= 4:4.9)/g' libecap-1.0.1/debian/control
</I>&gt;<i> 
</I>&gt;<i> This way its &#8220;locked&#8221;  to minimal g++ 4.9. 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> And i cant think of any other restriction.  
</I>&gt;<i> 
</I>&gt;<i> Maybe Amos knows, but i dont know that. 
</I>

It is to do with the Debian GCC 5 transition. If a binary and library
are built with different GCC 4.9 and GCC 5 versions there can be some
very strange behaviours from memory corruption on the stack.

That condition is there to ensure the new ecap library is only ever
built with GCC 5, and thus the Squid which depend on it need to be as well.

If you don't need eCAP I recommend removing it entirely from your
backport build. That will make future upgrades easier.

If you do need eCAP then you should backport the libecap package to use
a different package name than the one used by Debian and adjust your
Squid dependency to that new name. The above stack issues could appear
if squid auto-upgrades later and the libecap does not.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008896.html">[squid-users] How to setup a secure(!) squid proxy
</A></li>
	<LI>Next message (by thread): <A HREF="008903.html">[squid-users] How to setup a secure(!) squid proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8902">[ date ]</a>
              <a href="thread.html#8902">[ thread ]</a>
              <a href="subject.html#8902">[ subject ]</a>
              <a href="author.html#8902">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
