<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] how to fix proxy squid on virtualmin (ubuntu 16,	04)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20how%20to%20fix%20proxy%20squid%20on%20virtualmin%20%28ubuntu%2016%2C%0A%0904%29%3F&In-Reply-To=%3C201607031602.29266.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011407.html">
   <LINK REL="Next"  HREF="011409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] how to fix proxy squid on virtualmin (ubuntu 16,	04)?</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20how%20to%20fix%20proxy%20squid%20on%20virtualmin%20%28ubuntu%2016%2C%0A%0904%29%3F&In-Reply-To=%3C201607031602.29266.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] how to fix proxy squid on virtualmin (ubuntu 16,	04)?">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Sun Jul  3 14:02:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011407.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16, 04)?
</A></li>
        <LI>Next message (by thread): <A HREF="011409.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16,	04)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11408">[ date ]</a>
              <a href="thread.html#11408">[ thread ]</a>
              <a href="subject.html#11408">[ subject ]</a>
              <a href="author.html#11408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 03 July 2016 at 15:04:57, james82 wrote:

&gt;<i> <A HREF="http://i.stack.imgur.com/DEVbl.png">http://i.stack.imgur.com/DEVbl.png</A>
</I>&gt;<i> 
</I>&gt;<i> my /etc/squid3/squid.conf file:
</I>&gt;<i> <A HREF="https://ghostbin.com/paste/cwrdw">https://ghostbin.com/paste/cwrdw</A>
</I>
You have just copied the sample configuration from the commented-out lines in 
squid.conf, without adapting them to where you want your cache to be and what 
size to use.

The comments tell you to use:

# cache_dir Type Directory-Name Fs-specific-data [options]

and specifically for the rock store type:

# cache_dir rock Directory-Name Mbytes [options]

So, you need to change your configuration lines:

	cache_dir rock /hdd1 ... min-size=100000
	cache_dir rock /ssd1 ... max-size=99999
	cache_dir rock /hdd2 ... min-size=100000
	cache_dir rock /ssd2 ... max-size=99999
	cache_dir rock /hdd3 ... min-size=100000
	cache_dir rock /ssd3 ... max-size=99999

so that they make sense according to the above format guidelines.  (Hint: the 
&quot;...&quot; above means &quot;fill in the appropriate details&quot;, it doesn't mean &quot;type 
three dots here&quot;).

However, since you also have a line:

	cache_dir ufs /var/spool/squid 100 16 256

(which I notice is also copied direct from the sample in the documentation, 
making me wonder whether you have thought about what size you want your cache 
to be, for example)

why do you also have the 'rock' cache lines?


PS: In future please post your squid.conf without any comments or blank lines.

Regards,


Antony.

-- 
This sentence contains exacly three erors.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011407.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16, 04)?
</A></li>
	<LI>Next message (by thread): <A HREF="011409.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16,	04)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11408">[ date ]</a>
              <a href="thread.html#11408">[ thread ]</a>
              <a href="subject.html#11408">[ subject ]</a>
              <a href="author.html#11408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
