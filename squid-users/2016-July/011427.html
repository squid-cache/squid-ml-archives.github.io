<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] valgrind ??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20valgrind%20%3F%3F&In-Reply-To=%3C1467570309188-4678383.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011424.html">
   <LINK REL="Next"  HREF="011407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] valgrind ??</H1>
    <B>joe</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20valgrind%20%3F%3F&In-Reply-To=%3C1467570309188-4678383.post%40n4.nabble.com%3E"
       TITLE="[squid-users] valgrind ??">chip_pop at hotmail.com
       </A><BR>
    <I>Sun Jul  3 18:25:09 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011424.html">[squid-users] valgrind ??
</A></li>
        <LI>Next message (by thread): <A HREF="011407.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16, 04)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11427">[ date ]</a>
              <a href="thread.html#11427">[ thread ]</a>
              <a href="subject.html#11427">[ subject ]</a>
              <a href="author.html#11427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi amos 
Squid Cache: Version 3.5.19-20160524-r14057

and its only wen you start squid i get planty of



==32532== Mismatched free() / delete / delete []
==32532==    at 0x4C2A360: operator delete(void*) (vg_replace_malloc.c:507)
==32532==    by 0x55A56C: ~ConfigOptionVector (ConfigOption.cc:20)
==32532==    by 0x55A56C: ConfigOptionVector::~ConfigOptionVector()
(ConfigOption.cc:17)
==32532==    by 0x55A5E8: ConfigOptionVector::~ConfigOptionVector()
(ConfigOption.cc:20)
==32532==    by 0x651026: SwapDir::parseOptions(int) (SwapDir.cc:273)
==32532==    by 0x4F9EE3: parse_cachedir (cache_cf.cc:1929)
==32532==    by 0x4F9EE3: parse_line(char*) (cf_parser.cci:1491)
==32532==    by 0x4FE42B: parseOneConfigFile(char const*, unsigned int)
(cache_cf.cc:536)
==32532==    by 0x4FEE62: parseConfigFile(char const*) (cache_cf.cc:577)
==32532==    by 0x5E22D3: SquidMain(int, char**) (main.cc:1411)
==32532==    by 0x4DA21C: SquidMainSafe (main.cc:1263)
==32532==    by 0x4DA21C: main (main.cc:1256)
==32532==  Address 0x70212d0 is 0 bytes inside a block of size 16 alloc'd
==32532==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)
==32532==    by 0x7EC47C: xmalloc (xalloc.cc:114)
==32532==    by 0x65147B: operator new (SquidNew.h:23)
==32532==    by 0x65147B: allocate (new_allocator.h:104)
==32532==    by 0x65147B: allocate (alloc_traits.h:357)
==32532==    by 0x65147B: _M_allocate (stl_vector.h:170)
==32532==    by 0x65147B: void std::vector&lt;ConfigOption*,
std::allocator&lt;ConfigOption*&gt;
&gt;::<i>_M_emplace_back_aux&lt;ConfigOption*&gt;(ConfigOption*&amp;&amp;) (vector.tcc:412)
</I>==32532==    by 0x651368: push_back (stl_vector.h:932)
==32532==    by 0x651368: SwapDir::getOptionTree() const (SwapDir.cc:246)
==32532==    by 0x6E31FC: Fs::Ufs::UFSSwapDir::getOptionTree() const
(UFSSwapDir.cc:252)
==32532==    by 0x650E66: SwapDir::parseOptions(int) (SwapDir.cc:256)
==32532==    by 0x4F9EE3: parse_cachedir (cache_cf.cc:1929)
==32532==    by 0x4F9EE3: parse_line(char*) (cf_parser.cci:1491)
==32532==    by 0x4FE42B: parseOneConfigFile(char const*, unsigned int)
(cache_cf.cc:536)
==32532==    by 0x4FEE62: parseConfigFile(char const*) (cache_cf.cc:577)
==32532==    by 0x5E22D3: SquidMain(int, char**) (main.cc:1411)
==32532==    by 0x4DA21C: SquidMainSafe (main.cc:1263)
==32532==    by 0x4DA21C: main (main.cc:1256)


and 

==32532== Use of uninitialised value of size 8
==32532==    at 0x7E4289: hash_remove_link (hash.cc:231)
==32532==    by 0x62D38A: StoreEntry::hashDelete() (store.cc:456)
==32532==    by 0x633494: destroyStoreEntry(void*) (store.cc:435)
==32532==    by 0x635861: StoreEntry::release() (store.cc:1262)
==32532==    by 0x6360AC: StoreEntry::setPublicKey() (store.cc:751)
==32532==    by 0x63E1EF: StoreController::allowCollapsing(StoreEntry*,
RequestFlags const&amp;, HttpRequestMethod const&amp;) (store_dir.cc:919)
==32532==    by 0x53CADE:
clientReplyContext::createStoreEntry(HttpRequestMethod const&amp;, RequestFlags)
(client_side_reply.cc:2215)
==32532==    by 0x54251F: clientReplyContext::processMiss()
(client_side_reply.cc:673)
==32532==    by 0x544229: clientReplyContext::cacheHit(StoreIOBuffer)
(client_side_reply.cc:472)
==32532==    by 0x6385BC: store_client::callback(long, bool)
(store_client.cc:130)
==32532==    by 0x639FA7: store_client::readHeader(char const*, long)
(store_client.cc:593)
==32532==    by 0x6ED5D1: Fs::Ufs::UFSStoreState::readCompleted(char const*,
int, int, RefCount&lt;ReadRequest&gt;) (UFSStoreState.cc:261)
==32532== 




--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/valgrind-tp4678360p4678383.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/valgrind-tp4678360p4678383.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011424.html">[squid-users] valgrind ??
</A></li>
	<LI>Next message (by thread): <A HREF="011407.html">[squid-users] how to fix proxy squid on virtualmin (ubuntu 16, 04)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11427">[ date ]</a>
              <a href="thread.html#11427">[ thread ]</a>
              <a href="subject.html#11427">[ subject ]</a>
              <a href="author.html#11427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
