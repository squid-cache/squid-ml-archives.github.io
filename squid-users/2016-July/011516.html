<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] time based range_offset_limit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20time%20based%20range_offset_limit&In-Reply-To=%3C5785AAE1.3000301%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011515.html">
   <LINK REL="Next"  HREF="011521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] time based range_offset_limit</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20time%20based%20range_offset_limit&In-Reply-To=%3C5785AAE1.3000301%40measurement-factory.com%3E"
       TITLE="[squid-users] time based range_offset_limit">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Jul 13 02:43:45 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011515.html">[squid-users] time based range_offset_limit
</A></li>
        <LI>Next message (by thread): <A HREF="011521.html">[squid-users] time based range_offset_limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11516">[ date ]</a>
              <a href="thread.html#11516">[ thread ]</a>
              <a href="subject.html#11516">[ subject ]</a>
              <a href="author.html#11516">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/12/2016 03:56 PM, Heiler Bemerguy wrote:

&gt;<i> (if the first one had already received at
</I>&gt;<i> least the replying HEADER of the server) 
</I>
That is not collapsed forwarding. That is regular caching. Collapsed
forwarding covers the time range from the first parsed request header
until the corresponding response header is parsed.


&gt;<i> (without using Range: header).
</I>
That's your squid.conf customization, I presume.


&gt;<i> After the server starts sending the data, squid will correctly forward
</I>&gt;<i> the traffic to the clients. Each one will get the range it asked for....
</I>
That's expected.


&gt;<i> That's why I don't understand why it does not work on a REAL
</I>&gt;<i> enviroment.
</I>
Many things can go wrong -- the real requests may require collapsed
forwarding that you do not test, the real requests may have no-cache,
the real response may not be cachable, or there is some Range handling
bug that your test scripts do not tickle (e.g., they request ranges that
are always close to each other and are always available at the same time).

You need to figure out the difference between your test and the real
world. Comparing test and real access.log might help. If that does not
help, you can try capturing incoming/outgoing traffic.

You can also try your test script against the real Squid. Does it still
work?

Beyond that, you would have to do detailed traffic analysis (packet
captures; ALL,2; ALL,9).

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011515.html">[squid-users] time based range_offset_limit
</A></li>
	<LI>Next message (by thread): <A HREF="011521.html">[squid-users] time based range_offset_limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11516">[ date ]</a>
              <a href="thread.html#11516">[ thread ]</a>
              <a href="subject.html#11516">[ subject ]</a>
              <a href="author.html#11516">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
