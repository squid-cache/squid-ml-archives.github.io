<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] time based range_offset_limit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20time%20based%20range_offset_limit&In-Reply-To=%3C3333a731-a491-69ee-ba40-a14bef606ed7%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011521.html">
   <LINK REL="Next"  HREF="011524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] time based range_offset_limit</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20time%20based%20range_offset_limit&In-Reply-To=%3C3333a731-a491-69ee-ba40-a14bef606ed7%40treenet.co.nz%3E"
       TITLE="[squid-users] time based range_offset_limit">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul 13 13:26:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011521.html">[squid-users] time based range_offset_limit
</A></li>
        <LI>Next message (by thread): <A HREF="011524.html">[squid-users] time based range_offset_limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11522">[ date ]</a>
              <a href="thread.html#11522">[ thread ]</a>
              <a href="subject.html#11522">[ subject ]</a>
              <a href="author.html#11522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/07/2016 12:43 a.m., Heiler Bemerguy wrote:
&gt;<i> 
</I>&gt;<i> Em 12/07/2016 23:43, Alex Rousskov escreveu:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (without using Range: header).
</I>&gt;&gt;<i> That's your squid.conf customization, I presume.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> The squid won't send a Range: header to the server because the request
</I>&gt;<i> is matching the range_offset_limit -1 ACL. I presume. So squid will try
</I>&gt;<i> to fetch the file from the beginning, faking a full request, right?
</I>
No faking. Is making.

&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> That's why I don't understand why it does not work on a REAL
</I>&gt;&gt;&gt;<i> enviroment.
</I>&gt;&gt;<i> Many things can go wrong -- the real requests may require collapsed
</I>&gt;&gt;<i> forwarding that you do not test, the real requests may have no-cache,
</I>&gt;&gt;<i> the real response may not be cachable, or there is some Range handling
</I>&gt;&gt;<i> bug that your test scripts do not tickle (e.g., they request ranges that
</I>&gt;&gt;<i> are always close to each other and are always available at the same
</I>&gt;&gt;<i> time).
</I>&gt;<i> Well, if I turn off collapsed_forwarding and try to GET the same file on
</I>&gt;<i> the same server in a row (only changing the Range), it will create *two
</I>&gt;<i> *connections to the server instead of only *one*.
</I>&gt;<i> I use &quot;override-expire ignore-private ignore-no-store ignore-reload
</I>&gt;<i> ignore-must-revalidate store-stale&quot; for this particular request, won't
</I>&gt;<i> it override the no-cache or whatever?
</I>
No. Those refresh_pattern options are overriding the response
requirements mandated by the server.

The &quot;no-cache&quot; Alex speaks of is a client requirement that no cached
data be sent. Which also means that client request cannot be collapsed
with others, since collapsing is essentially just using 'cached' data
before it gets stored to the cache.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011521.html">[squid-users] time based range_offset_limit
</A></li>
	<LI>Next message (by thread): <A HREF="011524.html">[squid-users] time based range_offset_limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11522">[ date ]</a>
              <a href="thread.html#11522">[ thread ]</a>
              <a href="subject.html#11522">[ subject ]</a>
              <a href="author.html#11522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
