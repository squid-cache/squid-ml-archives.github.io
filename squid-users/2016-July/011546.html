<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid and mysql to autenticate groups
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20and%20mysql%20to%20autenticate%20groups&In-Reply-To=%3Cloom.20160714T190501-350%40post.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011632.html">
   <LINK REL="Next"  HREF="011551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid and mysql to autenticate groups</H1>
    <B>Ottavia Neruda</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20and%20mysql%20to%20autenticate%20groups&In-Reply-To=%3Cloom.20160714T190501-350%40post.gmane.org%3E"
       TITLE="[squid-users] squid and mysql to autenticate groups">ottaviane at gmail.com
       </A><BR>
    <I>Thu Jul 14 17:14:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011632.html">[squid-users] Authenticacion with Active Directory fails
</A></li>
        <LI>Next message (by thread): <A HREF="011551.html">[squid-users] squid and mysql to autenticate groups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11546">[ date ]</a>
              <a href="thread.html#11546">[ thread ]</a>
              <a href="subject.html#11546">[ subject ]</a>
              <a href="author.html#11546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hello,
I'have 2 tables in mysql.
First table is Group1 and other is Group2.
I'd like that user in Group1 are enabled to surfing in Sites1 list of 
sites and Group2 in Sites2 list of sites.
In squid.conf I did:

auth_param basic program  /usr/lib/squid/basic_db_auth --dsn 
&quot;DBI:mysql:database=squid&quot; --user &quot;utente_lettore&quot; --password &quot;password&quot; 
--table &quot;Group1&quot; --usercol &quot;user&quot; --passwdcol &quot;passwor$

auth_param basic children 15
auth_param basic realm proxy2
auth_param basic credentialsttl 1 minute
auth_param basic casesensitive off

acl db-Group1 proxy_auth REQUIRED

auth_param basic program  /usr/lib/squid/basic_db_auth --dsn 
&quot;DBI:mysql:database=squid&quot; --user &quot;utente_lettore&quot; --password &quot;password&quot; 
--table &quot;Group2&quot; --usercol &quot;user&quot; --passwdcol &quot;passwor$

auth_param basic children 15
auth_param basic realm proxy2
auth_param basic credentialsttl 1 minute
auth_param basic casesensitive off

acl db-Group2 proxy_auth REQUIRED


acl Sites1 dstdomain &quot;/etc/squid/webconsentiti.txt&quot;
acl Sites2 dstdomain &quot;/etc/squid/webconsentiti2.txt&quot;


http_access allow db-Group1 Sites1
http_access allow db-Group2 Sites2
 
http_access deny all


Why it does'nt work?
bye.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011632.html">[squid-users] Authenticacion with Active Directory fails
</A></li>
	<LI>Next message (by thread): <A HREF="011551.html">[squid-users] squid and mysql to autenticate groups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11546">[ date ]</a>
              <a href="thread.html#11546">[ thread ]</a>
              <a href="subject.html#11546">[ subject ]</a>
              <a href="author.html#11546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
