<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] about cpu status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20about%20cpu%20status&In-Reply-To=%3C57886BA7.1020402%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011547.html">
   <LINK REL="Next"  HREF="011549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] about cpu status</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20about%20cpu%20status&In-Reply-To=%3C57886BA7.1020402%40measurement-factory.com%3E"
       TITLE="[squid-users] about cpu status">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Jul 15 04:50:47 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011547.html">[squid-users] about cpu status
</A></li>
        <LI>Next message (by thread): <A HREF="011549.html">[squid-users] How to connect squid proxy to ubuntu network proxy?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11548">[ date ]</a>
              <a href="thread.html#11548">[ thread ]</a>
              <a href="subject.html#11548">[ subject ]</a>
              <a href="author.html#11548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/14/2016 08:17 PM, johnzeng wrote:

&gt;<i> i deployed a set of squid 3.5.2 and redirect 300Mbps http traffic .
</I>&gt;<i> 
</I>&gt;<i>                 workers 4
</I>&gt;<i>                 cpu_affinity_map process_numbers=1,2,3,4 cores=1,3,5,7
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>                 i check cpu status via top command ,and i found one of
</I>&gt;<i>                 squid is 92% at a time, whether it will be correct ?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Tasks: 292 total, 5 running, 287 sleeping, 0 stopped, 0 zombie
</I>&gt;<i> Cpu(s): 5.8%us, 1.2%sy, 0.0%ni, 89.4%id, 2.1%wa, 0.0%hi, 1.5%si, 0.0%st
</I>&gt;<i> Mem: 65889452k total, 64218068k used, 1671384k free, 138480k buffers
</I>&gt;<i> Swap: 29116412k total, 0k used, 29116412k free, 53204068k cached
</I>&gt;<i> 
</I>&gt;<i> PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
</I>&gt;<i> 1982 cacheuser 20 0 33.9g 1.3g 408m R 92 2.0 228:49.60 squid
</I>&gt;<i> 1983 cacheuser 20 0 33.9g 1.3g 408m R 56 2.1 254:23.07 squid
</I>&gt;<i> 1981 cacheuser 20 0 33.9g 1.3g 406m S 36 2.0 159:40.23 squid
</I>&gt;<i> 1984 cacheuser 20 0 33.5g 897m 408m R 33 1.4 189:14.00 squid
</I>

The uneven distribution of work among workers [on Linux] is discussed at
[1]. AFAIK, there were no significant relevant changes in Linux and in
Squid since that wiki page section was written, but YMMV.

[1]
<A HREF="http://wiki.squid-cache.org/Features/SmpScale#Will_similar_workers_receive_similar_amount_of_work.3F">http://wiki.squid-cache.org/Features/SmpScale#Will_similar_workers_receive_similar_amount_of_work.3F</A>


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011547.html">[squid-users] about cpu status
</A></li>
	<LI>Next message (by thread): <A HREF="011549.html">[squid-users] How to connect squid proxy to ubuntu network proxy?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11548">[ date ]</a>
              <a href="thread.html#11548">[ thread ]</a>
              <a href="subject.html#11548">[ subject ]</a>
              <a href="author.html#11548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
