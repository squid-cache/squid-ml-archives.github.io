<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Skype+intercept+ssl_bump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Skype%2Bintercept%2Bssl_bump&In-Reply-To=%3C8db650ae-f784-2fd4-365f-ac4ae7b59323%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011557.html">
   <LINK REL="Next"  HREF="011605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Skype+intercept+ssl_bump</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Skype%2Bintercept%2Bssl_bump&In-Reply-To=%3C8db650ae-f784-2fd4-365f-ac4ae7b59323%40treenet.co.nz%3E"
       TITLE="[squid-users] Skype+intercept+ssl_bump">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jul 18 07:27:22 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011557.html">[squid-users] Skype+intercept+ssl_bump
</A></li>
        <LI>Next message (by thread): <A HREF="011605.html">[squid-users] Skype+intercept+ssl_bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11588">[ date ]</a>
              <a href="thread.html#11588">[ thread ]</a>
              <a href="subject.html#11588">[ subject ]</a>
              <a href="author.html#11588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/07/2016 10:38 p.m., Evgeniy Kononov wrote:
&gt;<i>  Hello!
</I>&gt;<i> 
</I>&gt;<i> Can you help me with correct settings for squid to use skype ?
</I>&gt;<i> 
</I>
FYI: there are currently no known &quot;correct&quot; setting for Skype when
SSL-Bump is involved.

There are settings known to work when Squid is setup as an explicit
proxy, and some which almost-always (but only 99.999%) working for Squid
intercepting port 80.

Intercepting port 443 and bumping the crypto has issues distinguishing
Skype-TLS from real TLS and HTTPS.


That said, I have been giving it some thought today and suspect that
since MS are apparently filtering Skype traffic through their own
machines these days we could maybe use the &quot;dst&quot; ACL reverse-DNS
behaviour to detect and splice that traffic.

If you want to experiment with that and have good results there are many
here who would like some good news on this.



&gt;<i> With this setup I have problem with group chats, calls and attachments in messages.
</I>&gt;<i> Attachments sended, but not delivered to respondent.
</I>&gt;<i> Unable to create group chats and if it created, what respondents do not see the chat or can not make calls.
</I>&gt;<i> I tried add IP regexp to access list, but after that all https traffic was spliced.
</I>&gt;<i> Skype work well when I change ssl_bump bump all to ssl_bump splice all
</I>&gt;<i> How can I exclude skype from SSL bumping ?
</I>
The problem is with identifying it in fairly reliable way from all the
other traffic. That is where we are currently all stuck.

Yuri and Eliezer have been trying various things and talking about it
on-list in recent weeks/months. But so far no results I'm confident
about recommending.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011557.html">[squid-users] Skype+intercept+ssl_bump
</A></li>
	<LI>Next message (by thread): <A HREF="011605.html">[squid-users] Skype+intercept+ssl_bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11588">[ date ]</a>
              <a href="thread.html#11588">[ thread ]</a>
              <a href="subject.html#11588">[ subject ]</a>
              <a href="author.html#11588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
