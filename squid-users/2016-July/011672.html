<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HTTPS and Headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20and%20Headers&In-Reply-To=%3C4ea6c4e9-f2b5-b6ac-4457-95769a5cf759%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011670.html">
   <LINK REL="Next"  HREF="011675.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HTTPS and Headers</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20and%20Headers&In-Reply-To=%3C4ea6c4e9-f2b5-b6ac-4457-95769a5cf759%40treenet.co.nz%3E"
       TITLE="[squid-users] HTTPS and Headers">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Jul 21 07:11:04 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011670.html">[squid-users] HTTPS and Headers
</A></li>
        <LI>Next message (by thread): <A HREF="011675.html">[squid-users] HTTPS and Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11672">[ date ]</a>
              <a href="thread.html#11672">[ thread ]</a>
              <a href="subject.html#11672">[ subject ]</a>
              <a href="author.html#11672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/07/2016 6:41 p.m., FredB wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I wonder what headers can be see by squid with a SSL website ? Without SSLBump of course
</I>&gt;<i> In my logs I'm seeing User-Agent, Proxy-Authorization and some others but when I try to put some new headers it works only with an HTTP website
</I>&gt;<i> 
</I>&gt;<i> I can't do that ? What are the limitations ?
</I>&gt;<i> 
</I>&gt;<i> My goal is to mark in logs a specific information from a user for all proxies (proxy chaining)
</I>&gt;<i> 
</I>

What can be expected to sometimes happen are:

 All the RFC 7230 headers (Host, Connection, TE, Transfer-Encoding, Via,
Date, Forwarded, etc) which are defined for negotiating the Transport
itself can be expected *if* the sending agent supports those mechanisms.

 The RFC 7231 control headers (Upgrade, etc) which determine application
specific changes to the transport.

 The RFC 7235 Proxy-Auth* headers which authenticate the transport hop.


For example; The Squid generated CONNECT for bypassing bumping and
unsupported protocols only sends Host. Browser and other UA send a lot more.

The User-Agent line is optional. I expect that will disappear when
browsers get a lot more onboard with privacy concerns.


The other headers defined for HTTP which usually define or negotiate the
data content of messages, or custom header from web applications can all
be expected to be absent.
 eg. Accept-* and Content-*, Cookie, Set-Cookie, WWW-Auth* etc.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011670.html">[squid-users] HTTPS and Headers
</A></li>
	<LI>Next message (by thread): <A HREF="011675.html">[squid-users] HTTPS and Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11672">[ date ]</a>
              <a href="thread.html#11672">[ thread ]</a>
              <a href="subject.html#11672">[ subject ]</a>
              <a href="author.html#11672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
