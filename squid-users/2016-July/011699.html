<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] protect squid.conf file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20protect%20squid.conf%20file&In-Reply-To=%3C201607222204.59687.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011698.html">
   <LINK REL="Next"  HREF="011700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] protect squid.conf file</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20protect%20squid.conf%20file&In-Reply-To=%3C201607222204.59687.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] protect squid.conf file">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Fri Jul 22 20:04:59 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011698.html">[squid-users] protect squid.conf file
</A></li>
        <LI>Next message (by thread): <A HREF="011700.html">[squid-users] protect squid.conf file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11699">[ date ]</a>
              <a href="thread.html#11699">[ thread ]</a>
              <a href="subject.html#11699">[ subject ]</a>
              <a href="author.html#11699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 22 July 2016 at 21:53:31, Yuri Voinov wrote:

&gt;<i> The simplest way I see is:
</I>&gt;<i> 
</I>&gt;<i> - Write you own custom squid's startup script (with bash/any shell you
</I>&gt;<i> want).
</I>&gt;<i> 
</I>&gt;<i> - This script will decrypt squid.conf before any
</I>&gt;<i> startup/shutdown/reconfigure operation then encrypt config again.
</I>&gt;<i> 
</I>&gt;<i> - Therefore squid.conf will stored encrypted most time on fs.
</I>
How does this help?

A root-privileged user can see the decryption process and run it for 
themselves, thus getting the plain text.

A non-root-privileged user cannot read an unencrypted squid.conf if it is 
chmod 600 and owned by user squid.

Therefore making squid.conf owned by the squid user (who has no login shell) 
and readable only by that user, as recommended by several people so far, is a 
far simpler and very effective solution.


If you do not trust people with root access to your machine:

a) you have lost control

b) you shouldn't allow them root access

c) you probably have more important things to worry about than your Squid 
configuration file.


Antony.

-- 
&quot;The future is already here.   It's just not evenly distributed yet.&quot;

 - William Gibson

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011698.html">[squid-users] protect squid.conf file
</A></li>
	<LI>Next message (by thread): <A HREF="011700.html">[squid-users] protect squid.conf file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11699">[ date ]</a>
              <a href="thread.html#11699">[ thread ]</a>
              <a href="subject.html#11699">[ subject ]</a>
              <a href="author.html#11699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
