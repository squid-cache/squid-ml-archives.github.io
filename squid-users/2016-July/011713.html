<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] What do the bytes and duration fields in squid	log count for https (CONNECT)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20What%20do%20the%20bytes%20and%20duration%20fields%20in%20squid%0A%09log%20count%20for%20https%20%28CONNECT%29%3F&In-Reply-To=%3Cf5bwpk9nctg.fsf%40troutbeck.inf.ed.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011712.html">
   <LINK REL="Next"  HREF="011714.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] What do the bytes and duration fields in squid	log count for https (CONNECT)?</H1>
    <B>Henry S. Thompson</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20What%20do%20the%20bytes%20and%20duration%20fields%20in%20squid%0A%09log%20count%20for%20https%20%28CONNECT%29%3F&In-Reply-To=%3Cf5bwpk9nctg.fsf%40troutbeck.inf.ed.ac.uk%3E"
       TITLE="[squid-users] What do the bytes and duration fields in squid	log count for https (CONNECT)?">ht at inf.ed.ac.uk
       </A><BR>
    <I>Mon Jul 25 12:04:43 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011712.html">[squid-users] What do the bytes and duration fields in squid log count for https (CONNECT)?
</A></li>
        <LI>Next message (by thread): <A HREF="011714.html">[squid-users] What do the bytes and duration fields in squid log count for https (CONNECT)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11713">[ date ]</a>
              <a href="thread.html#11713">[ thread ]</a>
              <a href="subject.html#11713">[ subject ]</a>
              <a href="author.html#11713">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amos Jeffries writes:

&gt;<i> On 25/07/2016 10:34 p.m., Henry S. Thompson wrote:
</I>&gt;&gt;<i> Standard squid config only logs one CONNECT line for any https
</I>&gt;&gt;<i> transaction. What is being counted/timed by the reported bytes and
</I>&gt;&gt;<i> duration fields in that line?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm guessing it's the total time taken and total bytes delivered to the
</I>&gt;&gt;<i> client by any and all transactions in the course of the TLS connection
</I>&gt;&gt;<i> established by that CONNECT, but I can't find anything in the log
</I>&gt;&gt;<i> documentation which confirms that.
</I>&gt;<i>
</I>&gt;<i> Yes. There is no HTTPS or TLS as far as Squid is concerned. (In modern
</I>&gt;<i> traffic you are also very likely to be wrong about it being HTTPS or TLS
</I>&gt;<i> on port 443. The (browser?) URL saying &quot;<A HREF="https://">https://</A>&quot; does not make it HTTPS
</I>&gt;<i> inside the tunnel).
</I>
Indeed, understood

&gt;<i> An HTTP CONNECT message with opaque data is all Squid sees. Its duration
</I>&gt;<i> is how long it takes, and the opaque data is the size it is.
</I>
Thanks for your reply, but this part leaves me confused.  The CONNECT
message itself is short, as is the likely reply, and presumably doesn't
take long to process.  But the times and sizes I'm seeing are long/big,
so it doesn't seem likely that they are the time and size of the
response to the CONNECT as such, which is what you appear to be saying
above...

That is, what is the 'it' you refer to in your final sentence?

ht
-- 
       Henry S. Thompson, School of Informatics, University of Edinburgh
      10 Crichton Street, Edinburgh EH8 9AB, SCOTLAND -- (44) 131 650-4440
                Fax: (44) 131 650-4587, e-mail: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ht at inf.ed.ac.uk</A>
                       URL: <A HREF="http://www.ltg.ed.ac.uk/~ht/">http://www.ltg.ed.ac.uk/~ht/</A>
 [mail from me _always_ has a .sig like this -- mail without it is forged spam]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011712.html">[squid-users] What do the bytes and duration fields in squid log count for https (CONNECT)?
</A></li>
	<LI>Next message (by thread): <A HREF="011714.html">[squid-users] What do the bytes and duration fields in squid log count for https (CONNECT)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11713">[ date ]</a>
              <a href="thread.html#11713">[ thread ]</a>
              <a href="subject.html#11713">[ subject ]</a>
              <a href="author.html#11713">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
