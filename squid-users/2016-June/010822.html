<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] missing negotiate_kerberos_auth on my squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20missing%20negotiate_kerberos_auth%20on%20my%20squid&In-Reply-To=%3Cvmime.574eeeb4.1821.1fbd4eec458867f4%40ms249-lin-003.rotterdam.bazuin.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010821.html">
   <LINK REL="Next"  HREF="010824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] missing negotiate_kerberos_auth on my squid</H1>
    <B>L.P.H. van Belle</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20missing%20negotiate_kerberos_auth%20on%20my%20squid&In-Reply-To=%3Cvmime.574eeeb4.1821.1fbd4eec458867f4%40ms249-lin-003.rotterdam.bazuin.nl%3E"
       TITLE="[squid-users] missing negotiate_kerberos_auth on my squid">belle at bazuin.nl
       </A><BR>
    <I>Wed Jun  1 14:18:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010821.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
        <LI>Next message (by thread): <A HREF="010824.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10822">[ date ]</a>
              <a href="thread.html#10822">[ thread ]</a>
              <a href="subject.html#10822">[ subject ]</a>
              <a href="author.html#10822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hai. 

&#160;

First before you read through all. 

&#160;

Please check if the squid user kan read the keytab file.

This can be a thing. And check the KVNO with the auth here can be a mismatch also. 

&#160;

Second, test with in the negotiate wrapper. 

&#160;&#160;&#160; --kerberos /usr/lib/squid/negotiate_kerberos_auth -s GSS_C_NO_NAME 

&#160;

I did read. 

<A HREF="http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory">http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory</A>

This is not entry correct anymore due to last changed in samba, dont know how this applies to Win 2012 ADDC these patches also applied to windows. 

Sorry no windows here anymore, only samba.

&#160;

Now, below is all tested on debian with samba 4.4.3 AD and squid 3.5.19. 

&#160;

&#160;

This needed te be added in smb.conf to make sure all auth is done over encrypted layers. 

&#160;

&#160;&#160;&#160; server signing = mandatory

&#160;&#160;&#160; ntlm auth = no

&#160;

&#160;&#160;&#160; #Add and Update TLS Key of your proxy and Root ) 

&#160;&#160;&#160; tls enabled = yes

&#160;&#160;&#160; tls keyfile = /etc/ssl/local/private/-proxy.key.pem

&#160;&#160;&#160; tls certfile = /etc/ssl/local/certs/proxy.cert.pem

&#160;&#160;&#160; tls cafile = /etc/ssl/certs/INTERNALROOT-ca.pem

&#160;

Extra info&#160; on&#160; tls cafile = /etc/ssl/certs/INTERNALROOT-ca.pem. 

The original file is located in /usr/local/ca-certificates/companyname/ 

When the &#8220;correct&#8221; ca setup is done, then you see a simlink in /etc/ssl/certs. 

&#160;

The &#8220;correct&#8221; way to setup the ROOT CA &#160;Look here. 

<A HREF="http://ram.kossboss.com/debian-install-trusted-ssl/">http://ram.kossboss.com/debian-install-trusted-ssl/</A> 

works fine also with own certs, thats what i use internal here also.

&#160;

In /etc/ldap/ldap.conf

Make sure you have al least. 

# TLS certificates (needed for GnuTLS)

TLS_CACERT&#160;&#160;&#160;&#160;&#160; /etc/ssl/certs/ca-certificates.crt

TLS_REQCERT allow 

&#160;

&#160;

This is what i now use in squid auth. 

Kerberos , fallback to NTLM , fallback to basic LDAP(S) auth.

&#160;

auth_param negotiate program /usr/lib/squid/negotiate_wrapper_auth \

&#160;&#160;&#160; --kerberos /usr/lib/squid/negotiate_kerberos_auth -s HTTP/<A HREF="https://lists.squid-cache.org/listinfo/squid-users">proxy1.internal.dnsdomain.tld at REALM</A> \

&#160;&#160;&#160; --ntlm /usr/bin/ntlm_auth --helper-protocol=squid-2.5-ntlmssp --domain=NTDOMAIN

&#160;

# A NOT SSL HOST format &#8211;h setup. 

#auth_param basic program /usr/lib/squid/basic_ldap_auth -R -v 3 \

#&#160;&#160;&#160; -b &quot;ou=Office,dc=internal,dc=domain,dc=tld&quot; \

#&#160;&#160;&#160; -D <A HREF="https://lists.squid-cache.org/listinfo/squid-users">bind-user at REALM</A> \

#&#160;&#160;&#160; -W /etc/squid/private/bind-user \

#&#160;&#160;&#160; -f (sAMAccountName=%s) \

#&#160;&#160;&#160; -h dc2.internal.dnsdomain.tld \

#&#160;&#160;&#160; -h dc1.internal.dnsdomain.tld

&#160;

## A SSL enabled URI format -H &#160;setup

auth_param basic program /usr/lib/squid/basic_ldap_auth -R -v 3 \

&#160;&#160;&#160; -b &quot;ou=Office,dc=internal,dc=domain,dc=tld&quot; \

&#160;&#160;&#160; -D <A HREF="https://lists.squid-cache.org/listinfo/squid-users">bind-user at REALM</A> \

&#160;&#160;&#160; -W /etc/squid/private/bind-user \

&#160;&#160;&#160; -f sAMAccountName=%s \

&#160;&#160;&#160; -H <A HREF="ldaps://">ldaps://</A> dc2.internal.dnsdomain.tld \

&#160;&#160;&#160; -H <A HREF="ldaps://dc1.internal.dnsdomain.tld">ldaps://dc1.internal.dnsdomain.tld</A> \

&#160;

For /etc/krb5.conf &#160;i only have 

[libdefaults]

&#160;&#160;&#160; default_realm = REALM

&#160;&#160;&#160; dns_lookup_kdc = true

&#160;&#160;&#160; dns_lookup_realm = false

&#160;

If above does not help, well then ask for more help here. &#160;

&#160;

&#160;

Greetz, 

&#160;

Louis

&#160;

&#160;

&#160;

&#160;


Van: Nilesh Gavali [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>] 
Verzonden: woensdag 1 juni 2016 14:45
Aan: L.P.H. van Belle
CC: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at squid-cache.org</A>
Onderwerp: RE: missing negotiate_kerberos_auth on my squid


&#160;

Hi Louise; 
refer the comment on below questions. 

&#160; 
1) &#160; &#160; &#160; is the time in sync with the proxy and AD server? &#160;- YES 
2) &#160; &#160; &#160; Did you set the krb5.conf &#160;with or without the enctypes types? it is set with enctypes 
3) &#160; &#160; &#160; Which browser are you using? we tried using IE and chorme. 
4) &#160; &#160; &#160; Did you configure the browser to use the kerberos auth? YES. 
5) &#160; &#160; &#160; Did the PC join the domain, and are u using a domain user login? YES. 
6) &#160; &#160; &#160; Does kinit <A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at REALM</A> work? &#160;( kdestroy to remove the user ticket ) YES. it shows the desire O/P 
7) &#160; &#160; &#160; Last, does the proxy server have an A and PTR record? YES. 

below error got in cache.log 

negotiate_kerberos_auth:ERROR: gss_accept_sec_context() failed: Unsepecified GSS failure. Minor code may provide more information. 
Kid1 | ERROR: negotiate Authentication validating user. Error returned 'BH gss_accept_sec_context_() failed: Unspecified GSS failure. Minor code may provide more information. 


Thanks &amp; Regards
Nilesh Suresh Gavali






From: &#160; &#160; &#160; &#160;L.P.H. van Belle &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">belle at bazuin.nl</A>&gt; 
To: &#160; &#160; &#160; &#160;Nilesh Gavali &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>&gt; 
Cc: &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at squid-cache.org</A>&gt; 
Date: &#160; &#160; &#160; &#160;01/06/2016 09:53 
Subject: &#160; &#160; &#160; &#160;RE: missing negotiate_kerberos_auth on my squid 





Wel first, great, you made it to install it, 
&#160; 
Yes, but your auth pop-up can be normal, but we need more info, this can be multple things. 
&#160; 
So, few small questions. 
&#160; 
1) &#160; &#160; &#160; is the time in sync with the proxy and AD server? 
2) &#160; &#160; &#160; Did you set the krb5.conf &#160;with or without the enctypes types? 
3) &#160; &#160; &#160; Which browser are you using? 
4) &#160; &#160; &#160; Did you configure the browser to use the kerberos auth? 
5) &#160; &#160; &#160; Did the PC join the domain, and are u using a domain user login? 
6) &#160; &#160; &#160; Does kinit <A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at REALM</A> work? &#160;( kdestroy to remove the user ticket ) 
7) &#160; &#160; &#160; Last, does the proxy server have an A and PTR record? 
&#160; 
Also check this site, review your settings. 
<A HREF="https://ping.force.com/Support/PingFederate/Integrations/How-to-configure-supported-browsers-for-Kerberos-NTLM">https://ping.force.com/Support/PingFederate/Integrations/How-to-configure-supported-browsers-for-Kerberos-NTLM</A> 
&#160; 
And last tip your auth line. 
auth_param negotiate program /usr/lib/squid/negotiate_kerberos_auth -s HTTP/<A HREF="https://lists.squid-cache.org/listinfo/squid-users">hostname.domain.org at DOMAIN.ORG</A> 
&#160; 
Can also be a problem so test, if the upn is setup incorrectly, then above does not work, below the should work. 
auth_param negotiate program /usr/lib/squid/negotiate_kerberos_auth -s GSS_C_NO_NAME 
&#160; 
add &#160;-d to get more debug info. 
&#160; 
greetz, 
&#160; 
Louis 
&#160; 



Van: Nilesh Gavali [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>] 
Verzonden: dinsdag 31 mei 2016 21:20
Aan: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
CC: L.P.H. van Belle
Onderwerp: missing negotiate_kerberos_auth on my squid 
&#160; 
Hello All; 

Configured the steps require for kerberos authentication as given at <A HREF="http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos">http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos</A> 
but instead of SSO to work when we try to open url; it is prompt for username and password, when passing credential it is not authenticating. 
attached is our squid config for your reference. 

Kindly let us know what went wrong. 

we are using windows 2012 AD. 



Thanks &amp; Regards
Nilesh Suresh Gavali




From: &#160; &#160; &#160; &#160;Nilesh Gavali/MUM/TCS 
To: &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">belle at bazuin.nl</A> 
Date: &#160; &#160; &#160; &#160;27/05/2016 15:07 
Subject: &#160; &#160; &#160; &#160; missing negotiate_kerberos_auth on my squid 





Thanks louise for reply. 

but 

Should be include imo. -- not sure what is imo



Shoud be in any Squid-3.2 and later.



And on my debian server its locate here. 

/usr/lib/squid/negotiate_kerberos_auth - check the path but it is not there on my linux box.



Did you enable : --enable-auth-negotiate=kerberos,wrapper on compile ? &#160;---- NO didn't gave this option while compilation



Run squid &#8211;v to check it. -- we have&quot;--enable-auth-negotiate&quot; only and some other configured option. 

can you help me how to get hit recomipled with reuqire options. 


Thanks &amp; Regards
Nilesh Suresh Gavali

----- Forwarded by Nilesh Gavali/MUM/TCS on 27/05/2016 15:01 ----- 

From: &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A> 
To: &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
Date: &#160; &#160; &#160; &#160;27/05/2016 12:42 
Subject: &#160; &#160; &#160; &#160;squid-users Digest, Vol 21, Issue 101 
Sent by: &#160; &#160; &#160; &#160;&quot;squid-users&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; 






Send squid-users mailing list submissions to
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
or, via email, send a message with subject or body 'help' to
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>

You can reach the person managing the list at
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-owner at lists.squid-cache.org</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of squid-users digest...&quot;


Today's Topics:

&#160;1. NULL characters (joe)
&#160;2. Re: Looking for a way to route into cache_peer traffic
&#160; &#160; dynamically. (Alex Rousskov)
&#160;3. The system returned: (111) Connection refused; (deepa ganu)
&#160;4. Re: NULL characters (Eliezer Croitoru)
&#160;5. missing negotiate_kerberos_auth on my squid (Nilesh Gavali)
&#160;6. Re: missing negotiate_kerberos_auth on my squid (L.P.H. van Belle)


----------------------------------------------------------------------

Message: 1
Date: Thu, 26 May 2016 07:30:16 -0700 (PDT)
From: joe &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">chip_pop at hotmail.com</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] NULL characters
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">1464273016183-4677691.post at n4.nabble.com</A>&gt;
Content-Type: text/plain; charset=us-ascii

2016/05/26 06:41:28 kid1| ctx: enter level &#160;0:
'<A HREF="http://js.advert.mirtesen.ru/data/js/82090.js">http://js.advert.mirtesen.ru/data/js/82090.js</A>'
2016/05/26 06:41:28 kid1| WARNING: HTTP header contains NULL characters
{Server: nginx
Date: Thu, 26 May 2016 03:46:52 GMT
Content-Type: application/javascript;charset=utf-8
Transfer-Encoding: chunked
Connection: close
Vary: Accept-Encoding
X-MaxSize: 5
X-MaxShm: 5
X-ShmTol: 2
X-Loc: 2347
X-MID: 16
X-Node: ssel6
X-ChosenReserve: 2
X-TotalPrimary: 290
X-ExclByGeo: 266
X-TotalPrimaryPayable: 219
X-ChosenPrimary: 3
X-ExclByTime: 18
X-ShmNews: 1989237,2010118,2009700,
X-TotalPrimaryExchange: 0
X-TotalReserve: 332
X-ChosenPayable: 3
X-ShmCnt: 3
Set-Cookie: nid}
NULL
{Server: nginx
Date: Thu, 26 May 2016 03:46:52 GMT
Content-Type: application/javascript;charset=utf-8
Transfer-Encoding: chunked
Connection: close
Vary: Accept-Encoding
X-MaxSize: 5
X-MaxShm: 5
X-ShmTol: 2
X-Loc: 2347
X-MID: 16
X-Node: ssel6
X-ChosenReserve: 2
X-TotalPrimary: 290
X-ExclByGeo: 266
X-TotalPrimaryPayable: 219
X-ChosenPrimary: 3
X-ExclByTime: 18
X-ShmNews: 1989237,2010118,2009700,
X-TotalPrimaryExchange: 0
X-TotalReserve: 332
X-ChosenPayable: 3
X-ShmCnt: 3
Set-Cookie: nid
2016/05/26 06:41:28 kid1| ctx: exit level &#160;0

is it bad ?????



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/NULL-characters-tp4677691.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/NULL-characters-tp4677691.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.


------------------------------

Message: 2
Date: Thu, 26 May 2016 09:16:52 -0600
From: Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Looking for a way to route into cache_peer
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;traffic dynamically.
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">57471364.4030007 at measurement-factory.com</A>&gt;
Content-Type: text/plain; charset=utf-8

On 05/26/2016 03:52 AM, Eliezer Croitoru wrote:

&gt;<i> I think that the best way is to use an ICAP meta header instead of altering
</I>&gt;<i> the request itself 
</I>
Agreed.


&gt;<i> but I am not sure if it is possible
</I>
It is not possible today: Converting ICAP headers into annotations
understood by Squid ACLs is only supported for eCAP services.

IIRC, somebody posted a patch (on squid-dev) with a similar feature for
ICAP, but that implementation needed to be redone to be officially
accepted (IMO). I do not know whether the author will adjust their code
to follow my recommendations. Perhaps you can do it for them.

Alex.



------------------------------

Message: 3
Date: Fri, 27 May 2016 14:25:19 +0530
From: deepa ganu &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">deepaganu at gmail.com</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] The system returned: (111) Connection refused;
Message-ID:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">CA+qV5k+cSUThvZYCS1JLcNuXsFCA8Vnk1Rmc5opK1w15W6asyg at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hi
I am using squid as a reverse.

#http_port &#160;80 accel defaultsite=202.53.13.19
https_port 443 accel &#160;cert=/var/www/html/webrtc/imp/teleuniv.net.crt
key=/var/www/html/webrtc/imp/teleuniv.net.key
cafile=/var/www/html/webrtc/imp/intermediate.crt defaultsite=202.53.13.19
no-vhost


#this ACL is url path specific which accepts only portal urls and deny
others.
acl portal urlpath_regex ^/portal6may
cache_peer 172.20.36.144 parent 80 0 no-query originserver name=portalserver
cache_peer_access portalserver allow portal
cache_peer_access portalserver deny all
http_access allow portal


cache_peer 172.20.36.150 parent 443 0 no-query originserver ssl
sslflags=DONT_VERIFY_PEER login=PASS connection-auth=off name=teleuniv
acl our_sites dstdomain 202.53.13.19
http_access allow our_sites
cache_peer_access teleuniv allow our_sites
cache_peer_access teleuniv deny all

SO when i try to access the url MailScanner heeft een e-mail met mogelijk een poging tot fraude gevonden van &quot;202.53.13.19&quot; MailScanner warning: numerical links are often malicious: <A HREF="https://202.53.13.19/">https://202.53.13.19/</A> I get the following
error
&quot;The following error was encountered while trying to retrieve the URL: The
system returned: (111) Connection refused; The remote host or network may
be down. Please try the request again.&quot;

It only gives for 172.20.36.144 not for the urlpath acl. But this happens
only sometimes. When I physically go to that server (172.20.36.150) and
click on the wired connection (one of the LAN options using linux). It
works again. I am very confused

-- 
Regards
Deepa Ganu
R&amp;D Head(CSE) KMIT
Ph no : 9908036660
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/998e60f3/attachment-0001.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/998e60f3/attachment-0001.html</A>&gt;

------------------------------

Message: 4
Date: Fri, 27 May 2016 14:17:17 +0300
From: &quot;Eliezer Croitoru&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
To: &quot;'joe'&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">chip_pop at hotmail.com</A>&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
Subject: Re: [squid-users] NULL characters
Message-ID: &lt;33b501d1b809$541a9620$fc4fc260$@ngtech.co.il&gt;
Content-Type: text/plain; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; charset=&quot;utf-8&quot;

If it ended with some kind of server issues else then the logs, then it would be considered not nice.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of joe
Sent: Thursday, May 26, 2016 5:30 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] NULL characters

2016/05/26 06:41:28 kid1| ctx: enter level &#160;0:
'<A HREF="http://js.advert.mirtesen.ru/data/js/82090.js">http://js.advert.mirtesen.ru/data/js/82090.js</A>'
2016/05/26 06:41:28 kid1| WARNING: HTTP header contains NULL characters
{Server: nginx
Date: Thu, 26 May 2016 03:46:52 GMT
Content-Type: application/javascript;charset=utf-8
Transfer-Encoding: chunked
Connection: close
Vary: Accept-Encoding
X-MaxSize: 5
X-MaxShm: 5
X-ShmTol: 2
X-Loc: 2347
X-MID: 16
X-Node: ssel6
X-ChosenReserve: 2
X-TotalPrimary: 290
X-ExclByGeo: 266
X-TotalPrimaryPayable: 219
X-ChosenPrimary: 3
X-ExclByTime: 18
X-ShmNews: 1989237,2010118,2009700,
X-TotalPrimaryExchange: 0
X-TotalReserve: 332
X-ChosenPayable: 3
X-ShmCnt: 3
Set-Cookie: nid}
NULL
{Server: nginx
Date: Thu, 26 May 2016 03:46:52 GMT
Content-Type: application/javascript;charset=utf-8
Transfer-Encoding: chunked
Connection: close
Vary: Accept-Encoding
X-MaxSize: 5
X-MaxShm: 5
X-ShmTol: 2
X-Loc: 2347
X-MID: 16
X-Node: ssel6
X-ChosenReserve: 2
X-TotalPrimary: 290
X-ExclByGeo: 266
X-TotalPrimaryPayable: 219
X-ChosenPrimary: 3
X-ExclByTime: 18
X-ShmNews: 1989237,2010118,2009700,
X-TotalPrimaryExchange: 0
X-TotalReserve: 332
X-ChosenPayable: 3
X-ShmCnt: 3
Set-Cookie: nid
2016/05/26 06:41:28 kid1| ctx: exit level &#160;0

is it bad ?????



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/NULL-characters-tp4677691.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/NULL-characters-tp4677691.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>



------------------------------

Message: 5
Date: Fri, 27 May 2016 12:32:15 +0100
From: Nilesh Gavali &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] missing negotiate_kerberos_auth on my squid
Message-ID:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">OF9C6F8F89.5CF2ECB1-ON80257FC0.003EE232-80257FC0.003F5EF7 at tcs.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hello ;
I have installed latest squid 3.5.19 on red hat Linux yesterday. That 
means I am new to squid and linux. 
able to start the squid and its working fine. 
now we are trying to authenticate user via Kerberos with windows AD. but 
facing issues.
followed the steps provided on 
<A HREF="http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos">http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos</A>
But unable to find negotiate_kerberos_auth &#160;on my Linux box at any 
location. 
now I need to know where i can find/download &#160;negotiate_kerberos_auth &#160;and 
compile it to make authentication successful.

Thanks &amp; Regards
Nilesh Suresh Gavali
Tata Consultancy Services
3rd Floor, Tithebarn House
Tithebarn Street
Liverpool - L2 2NZ
United Kingdom
Mailto: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>
Website: <A HREF="http://www.tcs.com">http://www.tcs.com</A>
____________________________________________
Experience certainty. &#160; IT Services
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Business Solutions
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Consulting
____________________________________________

Tata Consultancy Services Limited , incorporated &#160;with limited liability 
and registered with Registrar of Companies, Mumbai, India - No: 11-84781
HQ : Nirmal Building , 9th Floor, Nariman Point, Mumbai - 400 021, India - 
Registered &#160;in UK : 18 Grosvenor Place, London SW1X 7HS - BR :007627
=====-----=====-----=====
Notice: The information contained in this e-mail
message and/or attachments to it may contain 
confidential or privileged information. If you are 
not the intended recipient, any dissemination, use, 
review, distribution, printing or copying of the 
information contained in this e-mail message 
and/or attachments to it are strictly prohibited. If 
you have received this communication in error, 
please notify us by reply e-mail or telephone and 
immediately and permanently delete the message 
and any attachments. Thank you


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/b812d6ac/attachment-0001.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/b812d6ac/attachment-0001.html</A>&gt;

------------------------------

Message: 6
Date: Fri, 27 May 2016 13:41:34 +0200
From: L.P.H. van Belle &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">belle at bazuin.nl</A>&gt;
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at squid-cache.org</A> &#160;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at squid-cache.org</A>&gt;
Subject: Re: [squid-users] missing negotiate_kerberos_auth on my squid
Message-ID:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">vmime.5748326e.63bf.32264d027089be4e at ms249-lin-003.rotterdam.bazuin.nl</A>&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
Content-Type: text/plain; charset=&quot;windows-1252&quot;

Should be include imo. 



Shoud be in any Squid-3.2 and later.



And on my debian server its locate here. 

/usr/lib/squid/negotiate_kerberos_auth 



Did you enable : --enable-auth-negotiate=kerberos,wrapper on compile ? 



Run squid &#8211;v to check it. 



Greetz, 



Louis






Van: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] Namens Nilesh Gavali
Verzonden: vrijdag 27 mei 2016 13:32
Aan: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Onderwerp: [squid-users] missing negotiate_kerberos_auth on my squid




Hello ; 
I have installed latest squid 3.5.19 on red hat Linux yesterday. That means I am new to squid and linux. 
able to start the squid and its working fine. 
now we are trying to authenticate user via Kerberos with windows AD. but facing issues. 
followed the steps provided on <A HREF="http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos">http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos</A> 
But unable to find negotiate_kerberos_auth &#160;on my Linux box at any location. 
now I need to know where i can find/download &#160;negotiate_kerberos_auth &#160;and compile it to make authentication successful. 

Thanks &amp; Regards
Nilesh Suresh Gavali
Tata Consultancy Services
3rd Floor, Tithebarn House
Tithebarn Street
Liverpool - L2 2NZ
United Kingdom
Mailto: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">nilesh.gavali at tcs.com</A>
Website: <A HREF="http://www.tcs.com">http://www.tcs.com</A>
____________________________________________
Experience certainty. &#160; &#160; &#160; &#160;IT Services
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Business Solutions
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Consulting
____________________________________________

Tata Consultancy Services Limited , incorporated &#160;with limited liability and registered with Registrar of Companies, Mumbai, India - No: 11-84781
HQ : Nirmal Building , 9th Floor, Nariman Point, Mumbai - 400 021, India - &#160;Registered &#160;in UK : 18 Grosvenor Place, London SW1X 7HS - BR :007627

=====-----=====-----=====
Notice: The information contained in this e-mail
message and/or attachments to it may contain 
confidential or privileged information. If you are 
not the intended recipient, any dissemination, use, 
review, distribution, printing or copying of the 
information contained in this e-mail message 
and/or attachments to it are strictly prohibited. If 
you have received this communication in error, 
please notify us by reply e-mail or telephone and 
immediately and permanently delete the message 
and any attachments. Thank you


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/bbeb60e2/attachment.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/bbeb60e2/attachment.html</A>&gt;

------------------------------

Subject: Digest Footer

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


------------------------------

End of squid-users Digest, Vol 21, Issue 101
******************************************** 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160601/4b55aed1/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160601/4b55aed1/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010821.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
	<LI>Next message (by thread): <A HREF="010824.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10822">[ date ]</a>
              <a href="thread.html#10822">[ thread ]</a>
              <a href="subject.html#10822">[ subject ]</a>
              <a href="author.html#10822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
