<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] DNS lookup fails initially for FQDN in squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20DNS%20lookup%20fails%20initially%20for%20FQDN%20in%20squid&In-Reply-To=%3C88212108-afb7-65b0-679b-3cb6d7c08688%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010988.html">
   <LINK REL="Next"  HREF="010818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] DNS lookup fails initially for FQDN in squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20DNS%20lookup%20fails%20initially%20for%20FQDN%20in%20squid&In-Reply-To=%3C88212108-afb7-65b0-679b-3cb6d7c08688%40treenet.co.nz%3E"
       TITLE="[squid-users] DNS lookup fails initially for FQDN in squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Jun  9 23:26:43 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010988.html">[squid-users] DNS lookup fails initially for FQDN in squid
</A></li>
        <LI>Next message (by thread): <A HREF="010818.html">[squid-users] pinger crash - Bad opcode: 112
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10994">[ date ]</a>
              <a href="thread.html#10994">[ thread ]</a>
              <a href="subject.html#10994">[ subject ]</a>
              <a href="author.html#10994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/06/2016 8:06 a.m., Aashima Madaan wrote:
&gt;<i> Any updates on this issue? and regarding patch ?
</I>&gt;<i> 
</I>
Is the reply-to function of yoru mailer working? This is the 11th unique
thread you started under this same name in the past few weeks.


The patch I came up with in thread #6 was an experiment to see if it
would be possible to do DNS during the configure stage.

The segfault you received tells the tale of DNS not being configured at
the time ICAP settings are loaded from squid.conf. Therefore, no it will
not be possible to seed Squid internal DNS with details of the service
hostname until after configuration has completed.

After config would be the point at which the first OPTIONS request is
being constructed and DNS looked up already. So duplicating DNS lookup
there is pointless.

The fix will have to be done some other way inside the ICAP client logic
and I'm not aware of anyone working on it.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010988.html">[squid-users] DNS lookup fails initially for FQDN in squid
</A></li>
	<LI>Next message (by thread): <A HREF="010818.html">[squid-users] pinger crash - Bad opcode: 112
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10994">[ date ]</a>
              <a href="thread.html#10994">[ thread ]</a>
              <a href="subject.html#10994">[ subject ]</a>
              <a href="author.html#10994">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
