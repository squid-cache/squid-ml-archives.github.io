<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centos%207%20squid%203.5.2%20/%20kid2%7C%20commBind%3A%20Cannot%0A%09bind%09socket%20FD%20782%20to%20%5B%3A%3A%5D%3A%20%282%29%20No%20such%20file%20or%20directory&In-Reply-To=%3CF655691F-C599-4194-9530-FD03BC0CC850%40netstream.ps%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010989.html">
   <LINK REL="Next"  HREF="010998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory</H1>
    <B>--Ahmad--</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Centos%207%20squid%203.5.2%20/%20kid2%7C%20commBind%3A%20Cannot%0A%09bind%09socket%20FD%20782%20to%20%5B%3A%3A%5D%3A%20%282%29%20No%20such%20file%20or%20directory&In-Reply-To=%3CF655691F-C599-4194-9530-FD03BC0CC850%40netstream.ps%3E"
       TITLE="[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory">ahmed.zaeem at netstream.ps
       </A><BR>
    <I>Fri Jun 10 08:54:16 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010989.html">[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory
</A></li>
        <LI>Next message (by thread): <A HREF="010998.html">[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10997">[ date ]</a>
              <a href="thread.html#10997">[ thread ]</a>
              <a href="subject.html#10997">[ subject ]</a>
              <a href="author.html#10997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi eliezer
=============================================
1- selinux is disabled
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# sestatus
SELinux status:                 disabled
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# 

2-
i have the PID file with permission to squid
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# ls -l /var/run/squid.pid 
-rw-r--r-- 1 squid squid 5 Jun 10 04:45 /var/run/squid.pid
[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# 

but here i don&#8217;t see the file /var/run/squid &#8230;&#8230;.i used to see file called /var/run/squid not /var/run/squid.pid

i also tried to add directive to squid.conf ==&gt; pid_filename /var/run/squid.pid

but i have the same errror

3-im using kernel default for Centos 7 and it do support IPV6 , i didn&#8217;t compile any kernel 



agin the error that i have is :
kid2| commBind: Cannot bind	socket FD 782 to [::]: (2) No such file or directory


not 
kid2| commBind: Cannot bind	socket FD 782 to [::]: permission denied


here is again compile options :

&gt;&gt;<i> Squid Cache: Version 3.5.2
</I>&gt;&gt;<i> Service Name: squid
</I>&gt;&gt;<i> configure options:  '--prefix=/usr' '--includedir=/include' '--mandir=/share/man' '--infodir=/share/info' '--sysconfdir=/etc' '--enable-cachemgr-hostname=Ahmad-Allzaeem' '--localstatedir=/var' '--libexecdir=/lib/squid' '--disable-maintainer-mode' '--disable-dependency-tracking' '--disable-silent-rules' '--srcdir=.' '--datadir=/usr/share/squid' '--sysconfdir=/etc/squid' '--mandir=/usr/share/man' '--enable-inline' '--enable-async-io=8' '--enable-storeio=ufs,aufs,diskd,rock' '--enable-removal-policies=lru,heap' '--enable-delay-pools' '--enable-cache-digests' '--enable-underscores' '--enable-icap-client' '--enable-follow-x-forwarded-for' '--enable-auth' '--enable-basic-auth-helpers=LDAP,MSNT,NCSA,PAM,SASL,SMB,YP,DB,POP3,getpwnam,squid_radius_auth,multi-domain-NTLM' '--enable-ntlm-auth-helpers=smb_lm' '--enable-digest-auth-helpers=ldap,password' '--enable-negotiate-auth-helpers=squid_kerb_auth' '--enable-esi' '--disable-translation' '--with-logdir=/var/log/squid' '--with-pidfile=/var/run/squid.pid' '' '--with-large-files' '--with-default-user=squid' --with-openssl' '--enable-snmp' '--with-included-ltdl' '--disable-arch-native'
</I>&gt;&gt;<i> [<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# 
</I>

and here is squid.conf 

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# cat /etc/squid/squid.conf | less
cache deny all
#################
#pid_filename /var/run/squid.pid
####################
visible_hostname squid
cache_effective_user squid
cache_effective_group squid
####################################
#workers 2
########################################################################
# Lockdown Procedures
auth_param basic program /lib/squid/basic_ncsa_auth /etc/squid/squid_user
acl ncsa_users proxy_auth REQUIRED
http_access allow ncsa_users
############################
f
####################################
#
# Recommended minimum configuration:
#

# Example rule allowing access from your local networks.
# Adapt to list your (internal) IP networks from where browsing
# should be allowed
acl localnet src 10.0.0.0/8     # RFC1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines
max_filedescriptors 131072
acl SSL_ports port 443
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl CONNECT method CONNECT

#
# Recommended minimum Access Permission configuration:
#
# Deny requests to certain unsafe ports
http_access deny !Safe_ports

# Deny CONNECT to other than secure SSL ports
http_access deny CONNECT !SSL_ports

# Only allow cachemgr access from localhost
http_access allow localhost manager
http_access deny manager

# We strongly recommend the following be uncommented to protect innocent
# web applications running on the proxy server who think the only
# one who can access services on &quot;localhost&quot; is a local user
#http_access deny to_localhost

#
# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS
#

# Example rule allowing access from your local networks.
# Adapt localnet in the ACL section to list your (internal) IP networks
# from where browsing should be allowed
http_access allow localnet
http_access allow localhost

# And finally deny all other access to this proxy
http_access deny all

# Squid normally listens to port 3128
http_port 1234
##############################


thank you 
&gt;<i> On Jun 10, 2016, at 12:23 AM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hey Ahmad,
</I>&gt;<i>  
</I>&gt;<i> I do not why you are suffering from the issue.
</I>&gt;<i> The options are:
</I>&gt;<i> -          Selinux
</I>&gt;<i> -          Permission
</I>&gt;<i> -          Directory existence
</I>&gt;<i> -          Self compiled kernel withtou IPV6 support
</I>&gt;<i> -          And many more
</I>&gt;<i> From my point of view I suggest first to try my RPMs as it works with many setups.
</I>&gt;<i> Second try to simplify your squid.conf and share it.
</I>&gt;<i> What addition to squid.conf make this issue appear?
</I>&gt;<i> Also have you tried looking at the SMP FAQ at:
</I>&gt;<i> <A HREF="http://wiki.squid-cache.org/Features/SmpScale#Cannot_bind_socket_FD_NN_to_.5B::.5D:_.2813.29_Permission_denied">http://wiki.squid-cache.org/Features/SmpScale#Cannot_bind_socket_FD_NN_to_.5B::.5D:_.2813.29_Permission_denied</A> &lt;<A HREF="http://wiki.squid-cache.org/Features/SmpScale#Cannot_bind_socket_FD_NN_to_.5B::.5D:_.2813.29_Permission_denied">http://wiki.squid-cache.org/Features/SmpScale#Cannot_bind_socket_FD_NN_to_.5B::.5D:_.2813.29_Permission_denied</A>&gt;
</I>&gt;<i>  
</I>&gt;<i> If this and the RPMs do not help you to resolve the issue then share a very simplified squid.conf and we can try to see if there is some direction for help.
</I>&gt;<i>  
</I>&gt;<i> Eliezer
</I>&gt;<i>  
</I>&gt;<i> ----
</I>&gt;<i> Eliezer Croitoru &lt;<A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>&gt;
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
</I>&gt;<i> &lt;image003.png&gt;
</I>&gt;<i>  
</I>&gt;<i> From: --Ahmad-- [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ahmed.zaeem at netstream.ps</A>] 
</I>&gt;<i> Sent: Thursday, June 9, 2016 10:55 AM
</I>&gt;<i> To: Eliezer Croitoru
</I>&gt;<i> Cc: Squid Users
</I>&gt;<i> Subject: Re: [squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot bind socket FD 782 to [::]: (2) No such file or directory
</I>&gt;<i>  
</I>&gt;<i> hi Mr elieizer
</I>&gt;<i>  
</I>&gt;<i> i already check the mailing list  before i post here , but no luck with me .
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> i don&#8217;t think its a permissions issue 
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> i have the file /var/run/squid is missing 
</I>&gt;<i>  
</I>&gt;<i> and  there is /var/run/squid.pid
</I>&gt;<i>  
</I>&gt;<i> and it has the squid permissions 
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> kindly can you point to me  if i figure it out using compile options ? or from the os side ?
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> thank you 
</I>&gt;&gt;<i> On Jun 9, 2016, at 3:14 AM, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> Hey Ahmed,
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> Have you tried my RPMs for CentOS 7?
</I>&gt;&gt;<i> The latest version is 3.5.19 which is far more advanced then 3.5.2 and it works for me..
</I>&gt;&gt;<i> This issue you mentioned has lots of references in the mailing list history.
</I>&gt;&gt;<i> I assume it's a simple issue.
</I>&gt;&gt;<i> If you can try my RPMs and verify that you get the same error with them I will try to see if I can reproduce the issue.
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> Eliezer
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> ----
</I>&gt;&gt;<i> Eliezer Croitoru &lt;<A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>&gt;
</I>&gt;&gt;<i> Linux System Administrator
</I>&gt;&gt;<i> Mobile: +972-5-28704261
</I>&gt;&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
</I>&gt;&gt;<i> &lt;image001.png&gt;
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt;] On Behalf Of --Ahmad--
</I>&gt;&gt;<i> Sent: Thursday, June 9, 2016 1:57 AM
</I>&gt;&gt;<i> To: Squid Users
</I>&gt;&gt;<i> Subject: [squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot bind socket FD 782 to [::]: (2) No such file or directory
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> here is error when i run squid :
</I>&gt;&gt;<i> 2016/06/08 18:48:29 kid2| commBind: Cannot bind socket FD 782 to [::]: (2) No such file or directory
</I>&gt;&gt;<i> 2016/06/08 18:48:29 kid1| HTCP Disabled.
</I>&gt;&gt;<i> 2016/06/08 18:48:29 kid1| Squid plugin modules loaded: 0
</I>&gt;&gt;<i> 2016/06/08 18:48:29 kid1| Adaptation support is off.
</I>&gt;&gt;<i> 2016/06/08 18:48:29 kid1| commBind: Cannot bind socket FD 782 to [::]: (2) No such file or directory
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> I&#8217;m sure if i use it on centos 6 it work&#8230;...
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> but on centos 7 with same compile options it don&#8217;t allow me to use workers SMP
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> any help ?
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> Squid Cache: Version 3.5.2
</I>&gt;&gt;<i> Service Name: squid
</I>&gt;&gt;<i> configure options:  '--prefix=/usr' '--includedir=/include' '--mandir=/share/man' '--infodir=/share/info' '--sysconfdir=/etc' '--enable-cachemgr-hostname=Ahmad-Allzaeem' '--localstatedir=/var' '--libexecdir=/lib/squid' '--disable-maintainer-mode' '--disable-dependency-tracking' '--disable-silent-rules' '--srcdir=.' '--datadir=/usr/share/squid' '--sysconfdir=/etc/squid' '--mandir=/usr/share/man' '--enable-inline' '--enable-async-io=8' '--enable-storeio=ufs,aufs,diskd,rock' '--enable-removal-policies=lru,heap' '--enable-delay-pools' '--enable-cache-digests' '--enable-underscores' '--enable-icap-client' '--enable-follow-x-forwarded-for' '--enable-auth' '--enable-basic-auth-helpers=LDAP,MSNT,NCSA,PAM,SASL,SMB,YP,DB,POP3,getpwnam,squid_radius_auth,multi-domain-NTLM' '--enable-ntlm-auth-helpers=smb_lm' '--enable-digest-auth-helpers=ldap,password' '--enable-negotiate-auth-helpers=squid_kerb_auth' '--enable-esi' '--disable-translation' '--with-logdir=/var/log/squid' '--with-pidfile=/var/run/squid.pid' '' '--with-large-files' '--with-default-user=squid' --with-openssl' '--enable-snmp' '--with-included-ltdl' '--disable-arch-native'
</I>&gt;&gt;<i> [<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at localhost</A> ~]# 
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> thank   you 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160610/86b1d908/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160610/86b1d908/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010989.html">[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory
</A></li>
	<LI>Next message (by thread): <A HREF="010998.html">[squid-users] Centos 7 squid 3.5.2 / kid2| commBind: Cannot	bind	socket FD 782 to [::]: (2) No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10997">[ date ]</a>
              <a href="thread.html#10997">[ thread ]</a>
              <a href="subject.html#10997">[ subject ]</a>
              <a href="author.html#10997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
