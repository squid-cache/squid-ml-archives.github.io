<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Skype Issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Skype%20Issues&In-Reply-To=%3C5153128f-ddd0-c134-22f1-158aa97575b4%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011245.html">
   <LINK REL="Next"  HREF="011268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Skype Issues</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Skype%20Issues&In-Reply-To=%3C5153128f-ddd0-c134-22f1-158aa97575b4%40gmail.com%3E"
       TITLE="[squid-users] Skype Issues">yvoinov at gmail.com
       </A><BR>
    <I>Sat Jun 25 17:34:49 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011245.html">[squid-users] Skype Issues
</A></li>
        <LI>Next message (by thread): <A HREF="011268.html">[squid-users] Skype Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11247">[ date ]</a>
              <a href="thread.html#11247">[ thread ]</a>
              <a href="subject.html#11247">[ subject ]</a>
              <a href="author.html#11247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 


25.06.2016 23:09, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> On 26/06/2016 4:32 a.m., Yuri Voinov wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos, you are a wrong.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No Squid-4. It's unstable and not ready for production. Whenever it's
</I>&gt;&gt;<i> features.
</I>&gt;<i>
</I>&gt;<i> So some beta software has bugs therefore nobody should ever use it for
</I>&gt;<i> anything. I find that to be a strange and sad view of the world.
</I>&gt;<i>
</I>&gt;<i> Care to guess why I listed it as the last option amongst several?
</I>&gt;<i>  Or why 4.0.11 exists as a beta still?
</I>&gt;<i> It *is* an option for the mentioned problem(s) though whatever its
</I>utility.
Agreed.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Some time ago I have the same issue and know what happens exactly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Skype initial connection site uses RC4 cipher. Which is disabled in most
</I>&gt;&gt;<i> squid's configuration.
</I>&gt;<i>
</I>&gt;<i> Your &quot;know what happens exactly&quot; differs from at least two other peoples
</I>&gt;<i> debugging experiences with Skype.
</I>&gt;<i>
</I>&gt;<i> RC4 is on the hitlist for most of the big vendors for the past year or
</I>&gt;<i> so. IIRC there were several Windows Updates to remove it and other
</I>&gt;<i> broken bits from a lot of things over the past year.
</I>&gt;<i> If Skype is still using RC4 it might be part of this problem.
</I>I'm sure this is problem and this problem exists. MS do nothing to make
they sites/services more secure. BTW, MS Updates uses RC4 ciphers itself
this time. With strong siphers there is no way to setup WU via Squid.
I've spent much time to identify this problem in my setup and find
working workaround.

Another part of problem is: MS often uses it's own self-signed roots,
which is exists in Windows, but nowhere else. And which has not
cross-signed by well-known root CA's. They think it make MS services
more secure. They wrong. But we can't do anything with it. So, this is
forced us to add self-signed MS roots to our Squid's CA bundles to
bump/splice.
&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To make it works (as by as most M$ update sites) it's require simple use
</I>&gt;&gt;<i> this cipher's suite:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HIGH:MEDIUM:RC4:3DES:!aNULL:!eNULL:!LOW:!MD5:!EXP:!PSK:!SRP:!DSS
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That works for me in 5 SSL bumped setups. There is no matter which squid
</I>&gt;&gt;<i> version installed.
</I>&gt;<i>
</I>&gt;<i> Thank you. Thats another option then. I'd rate that below trying the EC
</I>&gt;<i> ciphers, and above library updates.
</I>You are welcome.

Just for information: MS has own IT infrastructure, with some strange
configured and non well-managed elements. I can't guarantee this
workaround will work everywhere or for every MS service.

When I made my research, I've seen some strange security TLS
combinations on MS sites/services. I.e., for example, RC4+ECDSA+TLSv1.2.
Or, for example, RC4+MD5+TLSv1. And some similar. Very idiotic and
potentially dangerous combinations. And - they support ignores all
requests. As usual.

To my regret, I can not order all of its users to abandon the use of
Windows. So far, in my infrastructure have machines with Windows XP.

With this nothing can be done, it is necessary only to weaken the
security - for the sake of compatibility.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJXbsC5AAoJENNXIZxhPexGiFoH/jrtimBNppF1uHpVTNwOO10z
yF2APMA56S8woNZzhUNjT8+oJFPrthnMoQFrqgicjS77SBAFp9KcOV+SxOKl9+sW
OdAHDPuCD7dGnKzAdFDR1YR7Vp5IpElP1rFO5rqKXeBc3iKjq65BfF+T6atHy6cS
0VAaluvqvHQps2wVKoYxGURDf3Y2K0lJn+qF+s2CaBwEufhzgKSvG0aUIDqTfHfK
3EMQTpPtlTqm+pcexR+oZM1WE1hlES1khOXs51fgo6puPryqWJiHGvO4EBEfWoXF
Skval2COzcdzMvC5jjfGbMEPNGNJrYUeq/KNgppRvE2wQJ+gCLYG317decKHty0=
=8BTp
-----END PGP SIGNATURE-----

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x613DEC46.asc
Type: application/pgp-keys
Size: 2437 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160625/5502bc69/attachment.key">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160625/5502bc69/attachment.key</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011245.html">[squid-users] Skype Issues
</A></li>
	<LI>Next message (by thread): <A HREF="011268.html">[squid-users] Skype Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11247">[ date ]</a>
              <a href="thread.html#11247">[ thread ]</a>
              <a href="subject.html#11247">[ subject ]</a>
              <a href="author.html#11247">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
