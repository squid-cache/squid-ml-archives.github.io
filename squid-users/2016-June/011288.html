<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Running squid on a machine with only one network	interface.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Running%20squid%20on%20a%20machine%20with%20only%20one%20network%0A%09interface.&In-Reply-To=%3C201606272257.26270.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011287.html">
   <LINK REL="Next"  HREF="011290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Running squid on a machine with only one network	interface.</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Running%20squid%20on%20a%20machine%20with%20only%20one%20network%0A%09interface.&In-Reply-To=%3C201606272257.26270.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Running squid on a machine with only one network	interface.">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Mon Jun 27 20:57:26 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011287.html">[squid-users] Running squid on a machine with only one network interface.
</A></li>
        <LI>Next message (by thread): <A HREF="011290.html">[squid-users] Running squid on a machine with only one network	interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11288">[ date ]</a>
              <a href="thread.html#11288">[ thread ]</a>
              <a href="subject.html#11288">[ subject ]</a>
              <a href="author.html#11288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 27 June 2016 at 22:45:19, Ataro wrote:

&gt;<i> Hi there,
</I>&gt;<i> 
</I>&gt;<i> I've set up a FreeBSD machine inside a VirtualBox machine and used IPFW to
</I>&gt;<i> forward all the requests to the internet through a squid server running on
</I>&gt;<i> the same machine in port 3128 in intercept mode.
</I>
Please show us your IPFW rules.

&gt;<i> The problem is that I get 403 http responses on every site I try to access
</I>&gt;<i> to, even on the sites that I've explicitly allowed in the squid.conf file.
</I>
Maybe show us your squid.conf as well (without comments or blank lines).

&gt;<i> I also get a warning message on the tty that squid is running on (I've run
</I>&gt;<i> squid in no daemon mode) which says: Warning: Forwarding loop detected
</I>&gt;<i> for:.....
</I>
So, NAT is not working correctly...

&gt;<i> I guess that this error occurs since the squid server and the IPFW firewall
</I>&gt;<i> are running on the same machine which have only one network interface.
</I>&gt;<i> 
</I>&gt;<i> Am I right?
</I>
Not in the sense that &quot;you can't do this with only one interface&quot;, no.

However, quite possibly in the sense that you haven't told IPFW how to 
distinguish between requests in from your clients, and requests out from your 
squid instance.

The former need to go to squid, the latter need to go to the Internet.


Give us a bit more information and we might be able to give you a bit more 
help.



Antony.

-- 
I don't know, maybe if we all waited then cosmic rays would write all our 
software for us. Of course it might take a while.

 - Ron Minnich, Los Alamos National Laboratory

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011287.html">[squid-users] Running squid on a machine with only one network interface.
</A></li>
	<LI>Next message (by thread): <A HREF="011290.html">[squid-users] Running squid on a machine with only one network	interface.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11288">[ date ]</a>
              <a href="thread.html#11288">[ thread ]</a>
              <a href="subject.html#11288">[ subject ]</a>
              <a href="author.html#11288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
