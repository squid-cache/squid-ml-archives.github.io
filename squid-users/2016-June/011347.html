<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] url_rewrite_program is ignored by squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20url_rewrite_program%20is%20ignored%20by%20squid&In-Reply-To=%3C02a501d1d245%24afa7ef50%240ef7cdf0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011336.html">
   <LINK REL="Next"  HREF="011348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] url_rewrite_program is ignored by squid</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20url_rewrite_program%20is%20ignored%20by%20squid&In-Reply-To=%3C02a501d1d245%24afa7ef50%240ef7cdf0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] url_rewrite_program is ignored by squid">eliezer at ngtech.co.il
       </A><BR>
    <I>Wed Jun 29 20:34:50 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011336.html">[squid-users] url_rewrite_program is ignored by squid
</A></li>
        <LI>Next message (by thread): <A HREF="011348.html">[squid-users] url_rewrite_program is ignored by squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11347">[ date ]</a>
              <a href="thread.html#11347">[ thread ]</a>
              <a href="subject.html#11347">[ subject ]</a>
              <a href="author.html#11347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Moataz,( is this the first name?)

 

I would be able to test it later next week on a testing machine.

It's not clear what you expect to happen.

What are seeing in the squid access.log file at the same time you are using the proxy?

It should show something when you load a simple HTTP page such as:

<A HREF="http://www.squid-cache.org/">http://www.squid-cache.org/</A>

 

And Yuri,

As was mentioned here in another thread.

Indeed SquidGuard is not maintained anymore for at least 2 years but it works for more then once place.

If it works and does good work for the users, then what is the blocker from using it?

If it will work, what then?

 

Eliezer

 

----

 &lt;<A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>&gt; Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



 

From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Yuri Voinov
Sent: Wednesday, June 29, 2016 8:20 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] url_rewrite_program is ignored by squid

 


-----BEGIN PGP SIGNED MESSAGE----- 
Hash: SHA256 
 
Squidguard abandoned for years. Drop it out.


29.06.2016 23:12, Moataz Elmasry &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Hi all,
</I>


      &gt;



      &gt; I'm trying to use squid with squidguard, but it seems that

      squid3 is somehow ignoring the url_rewrite_program completely.

      While starting squid I'm getting the message: 



      &gt;



      &gt; &quot;



      &gt; helperOpenServers: Starting 0/20 'squidGuard' processes



      &gt; helperOpenServers: No 'squidGuard' processes needed



      &gt; &quot;



      &gt;



      &gt; And nothing is being directed to squidguard. 



      &gt; Just to be sure, I tried a simple bash program as well as a

      php program to handle the redirection, and I'm receiving a similar

      message and nothing is being redirected. 



      &gt; Config files are listed below. All files are owned by the

      user &quot;proxy&quot;



      &gt; OS: ubuntu 16.04



      &gt; squid: 3.5.12-1ubuntu7.2



      &gt; squidguard: 1.5-5



      &gt;



      &gt; Here's  squid.conf



      &gt;



      &gt; &quot;



      &gt; pinger_enable off



      &gt; url_rewrite_access allow all



      &gt; url_rewrite_program /usr/bin/squidGuard -c

      /etc/squidguard/squidGuard.conf



      &gt; acl SSL_ports port 443



      &gt; acl Safe_ports port 80          # http



      &gt; acl Safe_ports port 443         # https



      &gt; acl Safe_ports port 1025-65535  # unregistered ports



      &gt; acl CONNECT method CONNECT



      &gt; http_access deny !Safe_ports



      &gt; http_access deny CONNECT !SSL_ports



      &gt; http_access allow localhost manager



      &gt; http_access deny manager



      &gt; http_access allow localhost



      &gt; acl whitelist dstdomain play.google.com

       &lt;<A HREF="http://play.google.com">http://play.google.com</A>&gt; &lt;<A HREF="http://play.google.com">http://play.google.com</A>&gt;



      &gt; http_access allow whitelist



      &gt; http_access deny all



      &gt; http_port 3128



      &gt; coredump_dir /var/spool/squid



      &gt;



      &gt; &quot;



      &gt;



      &gt; And here's squidGuard.conf



      &gt;



      &gt; &quot;



      &gt; dbhome /var/lib/squidguard/db



      &gt; logdir /var/log/squidguard



      &gt;



      &gt; dest ads {



      &gt;         domainlist ads/domains



      &gt; }



      &gt;



      &gt; dest whitelist {



      &gt;     domainlist    whitelist/domains



      &gt; }



      &gt;



      &gt; acl {



      &gt;         default {



      &gt;                 pass whitelist none



      &gt;                 redirect <A HREF="http://www.contensi.com">http://www.contensi.com</A>



      &gt;         }



      &gt; }



      &gt;



      &gt; &quot;



      &gt;



      &gt; Any ideas what the problem is?



      &gt;



      &gt; Thanks 



      &gt; Moataz



      &gt;



      &gt;



      &gt; _______________________________________________



      &gt; squid-users mailing list



      &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt; 



      &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>

-----BEGIN PGP SIGNATURE----- 
Version: GnuPG v2 
 
iQEcBAEBCAAGBQJXdANQAAoJENNXIZxhPexGR3wH/RPyuwxWqbSvIHnjSpUMoXBd 
muVKH3FDM61X2sB0qOHt5vNQneNkGvQctnRAzJHQFm3ljtPV0W+YmNGR9z7ie1XW 
CO0eREMLfKtCcmkIaXJA5GwRwV4qWh6I9/J9dDOokocila1SXudXwNW8nH4etaKd 
kKOloVER1MsPNBJOp3QZ9PbJU4vSj4o56iyfPn9nnnaTGOeKmqhnKBycC/t71TjC 
NnVlLh5NndW6Jvd59fjNLuJkd6XxxXVAF0rvoBUi5WtdHOFXf7gKuIC+4IzvOUAi 
wnT9HJKZzLYoejMeA/rKsK8v6qzYM6NO/iZRwHCYOcbBQYurQtqrgSor7vrtPzc= 
=5u95 
-----END PGP SIGNATURE----- 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160629/1c0dbd7a/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160629/1c0dbd7a/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 11307 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160629/1c0dbd7a/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160629/1c0dbd7a/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011336.html">[squid-users] url_rewrite_program is ignored by squid
</A></li>
	<LI>Next message (by thread): <A HREF="011348.html">[squid-users] url_rewrite_program is ignored by squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11347">[ date ]</a>
              <a href="thread.html#11347">[ thread ]</a>
              <a href="subject.html#11347">[ subject ]</a>
              <a href="author.html#11347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
