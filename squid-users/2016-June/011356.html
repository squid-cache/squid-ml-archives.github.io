<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Proxy SSL Bump Certificates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Proxy%20SSL%20Bump%20Certificates&In-Reply-To=%3C201606301104.38546.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011355.html">
   <LINK REL="Next"  HREF="011357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Proxy SSL Bump Certificates</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Proxy%20SSL%20Bump%20Certificates&In-Reply-To=%3C201606301104.38546.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Squid Proxy SSL Bump Certificates">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Thu Jun 30 09:04:38 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011355.html">[squid-users] Squid Proxy SSL Bump Certificates
</A></li>
        <LI>Next message (by thread): <A HREF="011357.html">[squid-users] NOTICE: Authentication not applicable on intercepted	requests.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11356">[ date ]</a>
              <a href="thread.html#11356">[ thread ]</a>
              <a href="subject.html#11356">[ subject ]</a>
              <a href="author.html#11356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 30 June 2016 at 10:53:57, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">info at comunicacionesman.com</A> wrote:

&gt;<i> What I'm trying to do now is to use an external certificate from a
</I>&gt;<i> trusted certificate authority (in this case I'm using a free SSL
</I>&gt;<i> certificate from comodo), but I can't see my certificate in the
</I>&gt;<i> certificates list when enabling SSL Man in the middle. I can only see
</I>&gt;<i> CA's, which are certificate authorities, but when I upload comodo's Root
</I>&gt;<i> CA certificate and select it, service does not start. Throws this error:
</I>&gt;<i> 
</I>&gt;<i> Jun 30 08:52:40	squid		No valid signing SSL certificate configured
</I>&gt;<i> for HTTP_port 192.168.1.1:3128
</I>&gt;<i> 
</I>&gt;<i> Does Squid not accept a SSL Certificate from external authorities or am
</I>&gt;<i> I missing something?
</I>
Squid would be quite happy to accept a certificate from external authorities, 
but you will never get one.

You're missing the significance of the word &quot;signing&quot; in that error message.

What you have from Comodo is a signED certificate (and you also have the CA 
certificate to prove that they signed it).

What you do not have is a signING certificate (together with the accompanying 
private key) to be able to create and sign certificates on the fly, which is 
what Squid does for SSL MITM interception.

You will never get an appropriate key and certificate for this purpose from an 
external CA, because if they gave you those, you could forge certificates for 
any website on the Internet and their trust model would collapse.

SSL MITM has to be done with a self-signed certificate, and a self-generated CA 
certificate on the clients.


Antony.

-- 
Python is executable pseudocode.
Perl is executable line noise.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011355.html">[squid-users] Squid Proxy SSL Bump Certificates
</A></li>
	<LI>Next message (by thread): <A HREF="011357.html">[squid-users] NOTICE: Authentication not applicable on intercepted	requests.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11356">[ date ]</a>
              <a href="thread.html#11356">[ thread ]</a>
              <a href="subject.html#11356">[ subject ]</a>
              <a href="author.html#11356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
