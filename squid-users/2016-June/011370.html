<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Force DNS queries over TCP?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Force%20DNS%20queries%20over%20TCP%3F&In-Reply-To=%3C57755828.4080401%40integrafin.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011369.html">
   <LINK REL="Next"  HREF="011371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Force DNS queries over TCP?</H1>
    <B>Alex Crow</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Force%20DNS%20queries%20over%20TCP%3F&In-Reply-To=%3C57755828.4080401%40integrafin.co.uk%3E"
       TITLE="[squid-users] Force DNS queries over TCP?">acrow at integrafin.co.uk
       </A><BR>
    <I>Thu Jun 30 17:34:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011369.html">[squid-users] Force DNS queries over TCP?
</A></li>
        <LI>Next message (by thread): <A HREF="011371.html">[squid-users] Force DNS queries over TCP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11370">[ date ]</a>
              <a href="thread.html#11370">[ thread ]</a>
              <a href="subject.html#11370">[ subject ]</a>
              <a href="author.html#11370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd suggest changing IP as this practice is

a) a violation of trust, forcing you to use a potentially compromised
resource you have no control over
b) a clear violation of net-neutrality
c) a violation of standards (as it's probably one of those that instead
of returning NXDOMAIN as required sends you to an advertising page.
)
I'm pretty sure you /can/ configure BIND to work like that. I should
imagine you could set up forwarders to TCP-based DNS servers.

The other option is to get a DNS server set up on a VPS and tunnel your
requests to it via IPSEC.

Alex

On 30/06/16 18:21, Chris Horry wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> My ISP have started forcing DNS queries to pass through their own DNS
</I>&gt;<i> server, which appears to have many issues (can't resolve twitter.com for
</I>&gt;<i> one).  I won't bore the list with my conversations with them over that part.
</I>&gt;<i>
</I>&gt;<i> They are not actively blocking TCP DNS queries so I have a workaround.
</I>&gt;<i>
</I>&gt;<i> Recognising that DNS over TCP is not an ideal solution....
</I>&gt;<i>
</I>&gt;<i> 1. Can Squid be configured to use TCP by default for DNS inquiries?  If
</I>&gt;<i> not consider this a feature request :)
</I>&gt;<i> 2. Is there a DNS caching server that can do this instead (BIND9 doesn't
</I>&gt;<i> seem to have it as an option)
</I>&gt;<i>
</I>&gt;<i> Any help appreciated.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

--
This message is intended only for the addressee and may contain
confidential information. Unless you are that person, you may not
disclose its contents or use it in any way and are requested to delete
the message along with any attachments and notify us immediately.
This email is not intended to, nor should it be taken to, constitute advice.
The information provided is correct to our knowledge &amp; belief and must not
be used as a substitute for obtaining tax, regulatory, investment, legal or
any other appropriate advice.

&quot;Transact&quot; is operated by Integrated Financial Arrangements Ltd.
29 Clement's Lane, London EC4N 7AE. Tel: (020) 7608 4900 Fax: (020) 7608 5300.
(Registered office: as above; Registered in England and Wales under
number: 3727592). Authorised and regulated by the Financial Conduct
Authority (entered on the Financial Services Register; no. 190856).

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160630/502fe266/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160630/502fe266/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011369.html">[squid-users] Force DNS queries over TCP?
</A></li>
	<LI>Next message (by thread): <A HREF="011371.html">[squid-users] Force DNS queries over TCP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11370">[ date ]</a>
              <a href="thread.html#11370">[ thread ]</a>
              <a href="subject.html#11370">[ subject ]</a>
              <a href="author.html#11370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
