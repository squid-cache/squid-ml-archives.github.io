<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Survey on assertions: When the impossible happens
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Survey%20on%20assertions%3A%20When%20the%20impossible%20happens&In-Reply-To=%3C56D4FBF8.20405%40urlfilterdb.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009430.html">
   <LINK REL="Next"  HREF="009441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Survey on assertions: When the impossible happens</H1>
    <B>Marcus Kool</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Survey%20on%20assertions%3A%20When%20the%20impossible%20happens&In-Reply-To=%3C56D4FBF8.20405%40urlfilterdb.com%3E"
       TITLE="[squid-users] Survey on assertions: When the impossible happens">marcus.kool at urlfilterdb.com
       </A><BR>
    <I>Tue Mar  1 02:18:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009430.html">[squid-users] Survey on assertions: When the impossible happens
</A></li>
        <LI>Next message (by thread): <A HREF="009441.html">[squid-users] Survey on assertions: When the impossible happens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9437">[ date ]</a>
              <a href="thread.html#9437">[ thread ]</a>
              <a href="subject.html#9437">[ subject ]</a>
              <a href="author.html#9437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;<i> This is not really #4. It is an enhancement for any of the three
</I>&gt;&gt;<i> options. IIRC, Squid even supported gdb stack tracing natively on some
</I>&gt;&gt;<i> platforms (but a script would arguably be better, except for busy
</I>&gt;&gt;<i> proxies that cannot be blocked for 2-4 seconds it takes to run that script).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This already exists. Squid does it *right now*.
</I>&gt;<i>
</I>&gt;<i> You never received a &quot;The Squid Cache (version %s) died.&quot; email ?
</I>
Nope.

&gt;<i> When mail [1] is working on the proxy Squid will use it to send an email
</I>&gt;<i> to the configured administrator email address [2], root@ address for the
</I>&gt;<i> proxies private hostname [3], or root@ address for the proxies public
</I>&gt;<i> hostname [4] - in that order or preference.
</I>&gt;<i>   - Of course, far too many people dont use FQDN for those config settings...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="http://www.squid-cache.org/Doc/config/mail_program/">http://www.squid-cache.org/Doc/config/mail_program/</A>
</I>&gt;<i> [2] <A HREF="http://www.squid-cache.org/Doc/config/mail_from/">http://www.squid-cache.org/Doc/config/mail_from/</A>
</I>&gt;<i> [3] <A HREF="http://www.squid-cache.org/Doc/config/unique_hostname/">http://www.squid-cache.org/Doc/config/unique_hostname/</A>
</I>&gt;<i> [4] <A HREF="http://www.squid-cache.org/Doc/config/visible_hostname/">http://www.squid-cache.org/Doc/config/visible_hostname/</A>
</I>
I learned something today :-)  (does not happen every day)

&gt;&gt;&gt;<i> The stack dumps will be save in an assertion failure log file which admins
</I>&gt;&gt;&gt;<i> can send to Squid developers.
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If Squid is also built with --enable-stacktraces a stack trace will be
</I>&gt;<i> recorded in cache.log after FATAL messages.
</I>&gt;<i> - Of course. Speed at any cost &quot;needs&quot; prohibit doing anything that
</I>&gt;<i> might slow down the Squid restart process. So that gets disabled.
</I>
Hmm. are you suggesting that this wonderful feature is not widely used?

If not, then calling gdb is preferred.
gdb also prints parameters, local variables and contents of data structures etc.
hence superior than backtrace().

Marcus

&gt;<i>
</I>&gt;<i> Amos
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009430.html">[squid-users] Survey on assertions: When the impossible happens
</A></li>
	<LI>Next message (by thread): <A HREF="009441.html">[squid-users] Survey on assertions: When the impossible happens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9437">[ date ]</a>
              <a href="thread.html#9437">[ thread ]</a>
              <a href="subject.html#9437">[ subject ]</a>
              <a href="author.html#9437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
