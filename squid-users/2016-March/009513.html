<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.x install problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.x%20install%20problem&In-Reply-To=%3Cvmime.56d846c2.4bfe.231e34e194215e2%40ms249-lin-003.rotterdam.bazuin.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009512.html">
   <LINK REL="Next"  HREF="009517.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.x install problem</H1>
    <B>L.P.H. van Belle</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.x%20install%20problem&In-Reply-To=%3Cvmime.56d846c2.4bfe.231e34e194215e2%40ms249-lin-003.rotterdam.bazuin.nl%3E"
       TITLE="[squid-users] Squid 3.5.x install problem">belle at bazuin.nl
       </A><BR>
    <I>Thu Mar  3 14:14:26 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009512.html">[squid-users] Squid 3.5.x install problem
</A></li>
        <LI>Next message (by thread): <A HREF="009517.html">[squid-users] Squid 3.5.x install problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9513">[ date ]</a>
              <a href="thread.html#9513">[ thread ]</a>
              <a href="subject.html#9513">[ subject ]</a>
              <a href="author.html#9513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Or if you cant wait use this script, works on debian Jessie so adapting it to ubuntu should be easy. 

Im using this for 3.5.10 to 3.5.15 

&#160;

## PROGRAM BUILD SQUID for DEB PACKAGING

#!/bin/bash

#

## LAST TEST DATE : 01-02-2016. ( debian Jessie ) 

#

## to make squid 3.5.x from Debian SID work on Debian Jessie, the following ## is needed.

## 1) libecap dependes on GCC 5.2, this is changed to 4.9 (Jessie version) ## (debian/control)

## 2) we added --enable-ssl, --with-openssl, for ssl support

## 3) we changed : --enable-async-io=8 to --enable-async-io

## 4) the correct order of installing files is needed.

##

## !! first run must be with parameter : all !!

## !! if this is not done, the build wil fail !

&#160;

# Build path, where the sources are downloaded to, we also add the build date to the folder

# normaly not needed to change.

YOURFILES=/home/build

&#160;

# SET THE BUILDNAME HERE !

# your packages now look like :

#&#160;&#160;&#160;&#160; squid_3.5.15-1custom1-ssl_amd64.deb

BUILDNAME=&quot;custom&quot;

&#160;

# where do created debs go.

# ! this wil result in /var/www/html/OS/OS_release 

# like : /var/www/html/debian/jessie

# not tested on ubuntu yet, but this should work. 

# The best is to keep this default

DEBLOCATION=&quot;/var/www/html&quot;

&#160;

# Repo-Type choose : local or web

# example : in /etc/apt/sources.list.d/localrepo.list you get:

#&#160;&#160;&#160; deb file:/var/www/html/debian/jessie&#160;&#160;&#160;&#160;&#160; (= local)

# or deb <A HREF="http://localhost/debian/jessie&#160;&#160;&#160;&#160;&#160;&#160;&#160;">http://localhost/debian/jessie&#160;&#160;&#160;&#160;&#160;&#160;&#160;</A> (= web, localhost only)

# or deb <A HREF="http://hostname.fqdn/debian/jessie&#160;&#160;&#160;">http://hostname.fqdn/debian/jessie&#160;&#160;&#160;</A> (= web, network enabled)

# If you choose web, we check if there is a process LISTEN 80

# if not, apache2 is installed automaticly. 

# best it to keep web, but only apache2 is supported for now.

REPOTYPE=&quot;web&quot;

&#160;

# Optional

# set to no if you NEVER want apache to be installed.

INSTALL_APACHE=yes

&#160;

&#160;

########## CODE BELOW

&#160;

if [ -z $1 ]; then

&#160;&#160;&#160; echo &quot;Please use one of the following parameters&quot;

&#160;&#160;&#160; echo &quot;squid c-icap libecap all&quot;

&#160;&#160;&#160; echo &quot;example. ./setup-squid.sh all&quot;

&#160;&#160;&#160; echo &quot;example. ./setup-squid.sh squid&quot;

&#160;&#160;&#160; echo &quot; !!! The first build MUST BE : ./setup-squid.sh all&#160; !!!!&quot;

&#160;&#160;&#160; exit 0

fi

&#160;

DATE_NOW=$(date +%Y-%m-%d)

CURRENT_DATE=$(date -R)

BUILDPATH=${YOURFILES}/${DATE_NOW}

&#160;

if [ -e /etc/os-release ]; then

&#160;&#160;&#160; source /etc/os-release

&#160;&#160;&#160; ID_RELEASE=$(echo ${VERSION} | awk '{print $2}' | cut -c2-10| rev |cut -c2-10|rev)

&#160;&#160;&#160; if [ ! -d /var/www/html/${ID}/${ID_RELEASE} ]; then

&#160;&#160;&#160;&#160;&#160;&#160;&#160; mkdir -p /var/www/html/${ID}/${ID_RELEASE}

&#160;&#160;&#160; fi

else

&#160;&#160;&#160; echo &quot;Error, able import settings from /etc/os-release file&quot;

&#160;&#160;&#160; echo &quot;exiting now, unable to detect you running OS. &quot;

&#160;&#160;&#160; exit 0

fi

&#160;

function update-debs () {

&#160;&#160;&#160; cd ${BUILDPATH}

&#160;&#160;&#160; mv *.deb ${DEBLOCATION}/${ID}/${ID_RELEASE}

&#160;&#160;&#160; cd ${DEBLOCATION}

&#160;&#160;&#160; dpkg-scanpackages ${ID}/${ID_RELEASE} /dev/null | gzip -9c &gt; ${ID}/${ID_RELEASE}/Packages.gz

&#160;&#160;&#160; echo &quot;Running apt-get update, please wait.&quot;

&#160;&#160;&#160; apt-get update 2&gt; /dev/null

&#160;&#160;&#160; sleep 1

&#160;&#160;&#160; cd ${BUILDPATH}

}

&#160;

function change-c-icap () {

&#160;&#160;&#160; C_ICAP_VER=$(ls | grep c-icap | grep -v modules | grep tar.xz | tail -n1 | rev| cut -d&quot;.&quot; -f4 | cut -d&quot;-&quot; -f1 | rev)

&#160;&#160;&#160; C_ICAP_PKGVER=$(ls | grep c-icap | grep -v modules | grep orig.tar.gz | tail -n1|&#160; cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3)

&#160;&#160;&#160; C_ICAP_CUSTOMVER=$(ls | grep c-icap | grep -v modules | grep ${BUILDNAME} | wc -l)

&#160;&#160;&#160; C_ICAP_COUNTER=$(expr $C_ICAP_CUSTOMVER + 1)

&#160;

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; c-icap-${C_ICAP_PKGVER}/debian/changelog.new

c-icap (1:${C_ICAP_PKGVER}-${C_ICAP_VER}-${BUILDNAME}${C_ICAP_COUNTER}) unstable; urgency=medium

&#160;

&#160; * Rebuilt for ${ID} ${ID_RELEASE}

&#160;

&#160;-- Unknown User &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">not at existing.tld</A>&gt;&#160; ${CURRENT_DATE}

&#160;

EOF

&#160;

&#160;&#160;&#160; cat c-icap-${C_ICAP_PKGVER}/debian/changelog &gt;&gt; c-icap-${C_ICAP_PKGVER}/debian/changelog.new

&#160;&#160;&#160; mv c-icap-${C_ICAP_PKGVER}/debian/changelog c-icap-${C_ICAP_PKGVER}/debian/changelog.old

&#160;&#160;&#160; mv c-icap-${C_ICAP_PKGVER}/debian/changelog.new c-icap-${C_ICAP_PKGVER}/debian/changelog

}

&#160;

function change-c-icap-modules () {

&#160;&#160;&#160; C_ICAP_MODVER=$(ls | grep c-icap | grep modules | grep tar.xz | tail -n1 | rev| cut -d&quot;.&quot; -f4 | cut -d&quot;-&quot; -f1 | rev)

&#160;&#160;&#160; C_ICAP_MODPKGVER=$(ls | grep c-icap | grep modules | grep orig.tar.gz | tail -n1|&#160; cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3)

&#160;&#160;&#160; C_ICAP_MODCUSTOMVER=$(ls | grep c-icap | grep modules | grep ${BUILDNAME} | wc -l)

&#160;&#160;&#160; C_ICAP_MODCOUNTER=$(expr $C_ICAP_MODCUSTOMVER + 1)

&#160;

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog.new

c-icap-modules (1:${C_ICAP_MODPKGVER}-${C_ICAP_MODVER}-${BUILDNAME}${C_ICAP_MODCOUNTER}) unstable; urgency=medium

&#160;

&#160; * Rebuilt for ${ID} ${ID_RELEASE}

&#160;

&#160;-- Unknown User &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">not at existing.tld</A>&gt;&#160; ${CURRENT_DATE}

&#160;

EOF

&#160;

&#160;&#160;&#160; cat c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog &gt;&gt; c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog.new

&#160;&#160;&#160; mv c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog.old

&#160;&#160;&#160; mv c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog.new c-icap-modules-${C_ICAP_MODPKGVER}/debian/changelog

}

&#160;

function change-libecap () {

&#160;&#160;&#160; LIBECAPVER=$(ls | grep libecap| grep tar.xz | tail -n1 | cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3 | cut -d&quot;-&quot; -f2)

&#160;&#160;&#160; LIBECAPPKGVER=$(ls | grep libecap| grep orig.tar.gz | tail -n1| cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3)

&#160;&#160;&#160; LIBECAPCUSTOMVER=$(ls | grep libecap| grep ${BUILDNAME} | wc -l)

&#160;&#160;&#160; LIBECAPCOUNTER=$(expr $LIBECAPCUSTOMVER + 1)

&#160;

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; libecap-${LIBECAPPKGVER}/debian/changelog.new

libecap (${LIBECAPPKGVER}-${LIBECAPVER}-${BUILDNAME}${LIBECAPCOUNTER}) unstable; urgency=medium

&#160;

&#160; * debian/control changed G++ 5.2 to G++ 4.9 ${ID_RELEASE}

&#160;&#160;&#160; - Rebuilt for ${ID} ${ID_RELEASE}

&#160;

&#160;-- Unknown User &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">not at existing.tld</A>&gt;&#160; ${CURRENT_DATE}

&#160;

EOF

&#160;

&#160;&#160;&#160; sed -i 's/g++ (&gt;= 4:5.2)/g++ (&gt;= 4:4.9)/g' libecap-${LIBECAPPKGVER}/debian/control

&#160;&#160;&#160; cat libecap-${LIBECAPPKGVER}/debian/changelog &gt;&gt; libecap-${LIBECAPPKGVER}/debian/changelog.new

&#160;&#160;&#160; mv libecap-${LIBECAPPKGVER}/debian/changelog libecap-${LIBECAPPKGVER}/debian/changelog.old

&#160;&#160;&#160; mv libecap-${LIBECAPPKGVER}/debian/changelog.new libecap-${LIBECAPPKGVER}/debian/changelog

}

&#160;

function change-squid () {

&#160;&#160;&#160; SQUIDVER=`ls | grep squid | grep tar.xz | cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3 | cut -d&quot;-&quot; -f2`

&#160;&#160;&#160; SQUIDPKGVER=`ls | grep squid | grep orig.tar.gz | cut -d&quot;_&quot; -f2 | cut -d&quot;.&quot; -f1,2,3`

&#160;&#160;&#160; SQUIDCUSTOMVER=$(ls | grep squid | grep ${BUILDNAME} | wc -l)

&#160;&#160;&#160; SQUIDCOUNTER=$(expr $SQUIDCUSTOMVER + 1)

if [ `cat squid3-${SQUIDPKGVER}/debian/rules | grep &quot;with-openssl&quot; | wc -l` -ge 1 ]; then

&#160;&#160;&#160; echo &quot;squid rules already changed&quot;

else

&#160;&#160;&#160; sed -i 's/--with-default-user=proxy/--with-default-user=proxy \\/g' squid3-${SQUIDPKGVER}/debian/rules

&#160;&#160;&#160; sed -i '/with-default-user=proxy/a \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ --enable-ssl \\'&#160; squid3-${SQUIDPKGVER}/debian/rules

&#160;&#160;&#160; sed -i '/enable-ssl/a \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ --with-openssl \\'&#160; squid3-${SQUIDPKGVER}/debian/rules

&#160;&#160;&#160; sed -i 's/--enable-async-io=8/--enable-async-io/g' squid3-${SQUIDPKGVER}/debian/rules

&#160;

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; squid3-${SQUIDPKGVER}/debian/changelog.new

squid3 (${SQUIDPKGVER}-${SQUIDVER}-${BUILDNAME}${SQUIDCOUNTER}-ssl) unstable; urgency=medium

&#160;

&#160; * rebuild from Debian Sid to ${ID_RELEASE}

&#160;&#160;&#160; - rebuild against G++ 4.9

&#160;&#160;&#160; - added parameters debian/rules

&#160;&#160;&#160;&#160;&#160;&#160;&#160; --enable-ssl-crtd

&#160;&#160;&#160;&#160;&#160;&#160;&#160; --with-open-ssl

&#160;&#160;&#160; - changed parameters debian/rules

&#160;&#160;&#160;&#160;&#160;&#160;&#160; --enable-async-io=8 to --enable-async-io

&#160;

&#160;-- Unknown User &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">not at existing.tld</A>&gt;&#160; ${CURRENT_DATE}

&#160;

EOF

&#160;&#160;&#160;&#160;&#160;&#160;&#160; cat squid3-${SQUIDPKGVER}/debian/changelog &gt;&gt; squid3-${SQUIDPKGVER}/debian/changelog.new

&#160;&#160;&#160;&#160;&#160;&#160;&#160; mv squid3-${SQUIDPKGVER}/debian/changelog squid3-${SQUIDPKGVER}/debian/changelog.old

&#160;&#160;&#160;&#160;&#160;&#160;&#160; mv squid3-${SQUIDPKGVER}/debian/changelog.new squid3-${SQUIDPKGVER}/debian/changelog

&#160;

fi

}

&#160;

function setup-repo () {

if [ ! -e ${DEBLOCATION}/${ID}/${ID_RELEASE} ]; then

&#160;&#160;&#160; mkdir -p&#160; ${DEBLOCATION}/${ID}/${ID_RELEASE}

&#160;&#160;&#160; apt-get install dpkg-dev cdbs -y

else

&#160;&#160;&#160; echo &quot;setup of ${DEBLOCATION} already done&quot;

fi

&#160;

if [ ! -e ${BUILDPATH} ]; then

&#160;&#160;&#160; mkdir -p&#160; ${BUILDPATH}

else

&#160;&#160;&#160; echo &quot;setup of ${BUILDPATH} already done&quot;

fi

&#160;

if [ ! -e /etc/apt/sources.list.d/sid.list ]; then

&#160;&#160;&#160; # adding sid repo

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; /etc/apt/sources.list.d/sid.list

#

#deb <A HREF="http://ftp.nl.debian.org/debian/">http://ftp.nl.debian.org/debian/</A> sid main non-free contrib

deb-src <A HREF="http://ftp.nl.debian.org/debian/">http://ftp.nl.debian.org/debian/</A> sid main non-free contrib

EOF

else

&#160;&#160;&#160; echo &quot;sid repo already setup&quot;

fi

&#160;

echo &quot;Updating apt-repo, please wait&quot;

apt-get update &gt;/dev/null

&#160;

if [ ! -e /etc/apt/sources.list.d/localrepo.list ]; then

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; /etc/apt/sources.list.d/localrepo.list

#

# change to your needs.

EOF

&#160;

if [ ${REPOTYPE} = &quot;local&quot; ]; then

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; /etc/apt/sources.list.d/localrepo.list

deb file:${DEBLOCATION}/${ID}/ ${ID_RELEASE}/

#deb <A HREF="http://localhost/${ID">http://localhost/${ID</A>}/ ${ID_RELEASE}/

EOF

fi

if [ ${REPOTYPE} = &quot;web&quot; ]; then

&#160;&#160;&#160; if [ `netstat -tan | grep tcp | grep &quot;:80&quot; | wc -l` -ge 0 ]; then

&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [ ${INSTALL_APACHE} = &quot;yes&quot; ]; then

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; apt-get install apache2 -y --no-install-recommends

&#160;&#160;&#160;&#160;&#160;&#160;&#160; fi

&#160;&#160;&#160; fi

&#160;&#160;&#160; cat &lt;&lt; EOF &gt;&gt; /etc/apt/sources.list.d/localrepo.list

#deb file:${DEBLOCATION}/${ID}/ ${ID_RELEASE}/

deb <A HREF="http://localhost/${ID">http://localhost/${ID</A>}/ ${ID_RELEASE}/

EOF

&#160;&#160;&#160; fi

&#160;

else

&#160;&#160;&#160; echo &quot;local repo already setup&quot;

fi

&#160;

&#160;&#160;&#160; cd ${BUILDPATH}

&#160;

}

## Program start

## setup the repo, 

## its needed to make below happen because of depends of packages.

setup-repo

&#160;

if [ &quot;${1}&quot; = &quot;all&quot; ]; then

### AGAIN,!! ORDER IS IMPORTANT BECAUSE OF THE DEPENDS.. 

## C-icap

apt-get source c-icap

change-c-icap

apt-get build-dep c-icap

apt-get source c-icap -b

update-debs

&#160;

## C-icap-modules

apt-get source c-icap-modules

change-c-icap-modules

apt-get build-dep c-icap-modules

apt-get source c-icap-modules -b

update-debs

&#160;

## Libecap

apt-get source libecap

change-libecap

apt-get build-dep libecap

apt-get source libecap -b

update-debs

&#160;

## Squid

apt-get source squid

change-squid

apt-get build-dep squid

apt-get source squid -b

update-debs

&#160;

fi

&#160;

if [ &quot;${1}&quot; = &quot;squid&quot; ]; then

## Squid

apt-get source squid

change-squid

apt-get build-dep squid

apt-get source squid -b

update-debs

&#160;

fi

&#160;

if [ &quot;${1}&quot; = &quot;c-icap&quot; ]; then

apt-get source c-icap

change-c-icap

apt-get build-dep c-icap

apt-get source c-icap -b

update-debs

&#160;

## C-icap-modules

apt-get source c-icap-modules

change-c-icap-modules

apt-get build-dep c-icap-modules

apt-get source c-icap-modules -b

update-debs

fi

&#160;

if [ &quot;${1}&quot; = &quot;libecap&quot; ]; then

## Libecap

apt-get source libecap

change-libecap

apt-get build-dep libecap

apt-get source libecap -b

update-debs

fi

&#160;

&#160;

## PROGRAM END ### 

&#160;

&#160;

&gt;<i> -----Oorspronkelijk bericht-----
</I>
&gt;<i> Van: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] Namens
</I>
&gt;<i> Rafael Akchurin
</I>
&gt;<i> Verzonden: donderdag 3 maart 2016 14:55
</I>
&gt;<i> Aan: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>
&gt;<i> Onderwerp: Re: [squid-users] Squid 3.5.x install problem
</I>
&gt;<i> 
</I>
&gt;<i> And if you donot mind waiting a week or so - we plan to have ready to
</I>
&gt;<i> sslbump + ecap squid3 for ubuntu 14.04 at ubuntu.diladele.com repo.
</I>
&gt;<i> 
</I>
&gt;<i> Best regards,
</I>
&gt;<i> Rafael
</I>
&gt;<i> 
</I>
&gt;<i> &gt; Op 3 mrt. 2016 om 13:06 heeft Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; het
</I>
&gt;<i> volgende geschreven:
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt;&gt; On 3/03/2016 10:45 p.m., secoonder wrote:
</I>
&gt;<i> &gt;&gt; Hello
</I>
&gt;<i> &gt;&gt; i used debian(ubuntu 14.04)
</I>
&gt;<i> &gt;&gt; I read&#160; a lot of articles on the Internet for squid 443 enable
</I>
&gt;<i> redirection.
</I>
&gt;<i> &gt;&gt; As i learned,if port 443 is active from squid,The installed needs by
</I>
&gt;<i> the
</I>
&gt;<i> &gt;&gt; compiled squid.is it true ?
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Yes, The Debian and Ubuntu binary packages do not come with OpenSSL
</I>
&gt;<i> support.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt;&gt; am i installed apt-get install squid for 443 redirect?(80.ports
</I>
&gt;<i> redirect
</I>
&gt;<i> &gt;&gt; wasno problem,it works.the problem is 443 port)
</I>
&gt;<i> &gt;&gt;
</I>
&gt;<i> &gt;&gt; i installed squid 3.5.8 package from squid-cache.And then i went to
</I>
&gt;<i> &gt;&gt; squid.3.5.8 folder.
</I>
&gt;<i> &gt;&gt; and then ,
</I>
&gt;<i> &gt;&gt; ./configure --with-openssl --enable-ssl-crtd
</I>
&gt;<i> &gt;&gt; make
</I>
&gt;<i> &gt;&gt; make install
</I>
&gt;<i> &gt;&gt; When it was finished, i wanted to go /etc/squid folder.
</I>
&gt;<i> &gt;&gt;
</I>
&gt;<i> &gt;&gt; But the /etc/squid or /etc/squid3 folder does not exit.
</I>
&gt;<i> &gt;&gt; What can i do?
</I>
&gt;<i> &gt;&gt; am i find step by step squid 3.5.x SSL (80 and 443 port) installation?
</I>
&gt;<i> &gt;&gt; Thank you very Much
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Are you aware of how to use alternative repositories with apt-get ?
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; There is now a 3.5 package in the Ubuntu xenial repository. You will
</I>
&gt;<i> &gt; need to add that repository to your sources.list for deb and deb-src.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; If you want/need eCAP you will need to build a new libecap3 and
</I>
&gt;<i> &gt; libecap3-dev package for your old Ubuntu system and install those before
</I>
&gt;<i> &gt; starting to build Squid:
</I>
&gt;<i> &gt;&#160; apt-get -t trusty build-dep libecap
</I>
&gt;<i> &gt;&#160; apt-get -t xenial -b source libecap3
</I>
&gt;<i> &gt;&#160; apt-get -t xenial -b source libecap3-ev
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Otherwise you will need to remove the --enable-ecap line when eiting the
</I>
&gt;<i> &gt; squid package debian/rules file.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; To build squid:
</I>
&gt;<i> &gt; apt-get -t trusty install libssl-dev
</I>
&gt;<i> &gt; apt-get -t trusty build-dep squid
</I>
&gt;<i> &gt; apt-get -t xenial -b source squid
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; the first time you run the build of 'squid' package should fail.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Go into the folder it creates and then the debian/ sub-folder and edit
</I>
&gt;<i> &gt; the file called 'rules'.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; What you are doing is adding --with-openssl to the list of Squid
</I>
&gt;<i> &gt; features to build. And maybe removing the --enable-ecap if you dont want
</I>
&gt;<i> &gt; do the above ecap steps.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Then go back out to th directory you started in and run this command
</I>
&gt;<i> again:
</I>
&gt;<i> &gt;&#160; apt-get -t xenial -b source squid
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; this should succeed, and the resulting package will have OpenSSL
</I>
&gt;<i> support.
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; Amos
</I>
&gt;<i> &gt;
</I>
&gt;<i> &gt; _______________________________________________
</I>
&gt;<i> &gt; squid-users mailing list
</I>
&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>
&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
&gt;<i> _______________________________________________
</I>
&gt;<i> squid-users mailing list
</I>
&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>
&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160303/3940d90b/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160303/3940d90b/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009512.html">[squid-users] Squid 3.5.x install problem
</A></li>
	<LI>Next message (by thread): <A HREF="009517.html">[squid-users] Squid 3.5.x install problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9513">[ date ]</a>
              <a href="thread.html#9513">[ thread ]</a>
              <a href="subject.html#9513">[ subject ]</a>
              <a href="author.html#9513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
