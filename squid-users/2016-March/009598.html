<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Sudden but sustained high bandwidth usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sudden%20but%20sustained%20high%20bandwidth%20usage&In-Reply-To=%3C56DDBE5E.60705%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009596.html">
   <LINK REL="Next"  HREF="009601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Sudden but sustained high bandwidth usage</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sudden%20but%20sustained%20high%20bandwidth%20usage&In-Reply-To=%3C56DDBE5E.60705%40treenet.co.nz%3E"
       TITLE="[squid-users] Sudden but sustained high bandwidth usage">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Mar  7 17:46:06 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009596.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
        <LI>Next message (by thread): <A HREF="009601.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9598">[ date ]</a>
              <a href="thread.html#9598">[ thread ]</a>
              <a href="subject.html#9598">[ subject ]</a>
              <a href="author.html#9598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/03/2016 4:01 a.m., Heiler Bemerguy wrote:
&gt;<i> 
</I>&gt;<i> Hi Yuri,
</I>&gt;<i> 
</I>&gt;<i> Only rock-store.. as they told me there's no file limit any more...
</I>&gt;<i> 
</I>
Not being limited does not mean it is a good idea to go huge. It is
still a database made up of 32KB slots. They are just able to be chained
in sequence now to store objects bigger than 32KB (one single slot).

There are still issues around the mime headers portion needing to be
fully within the first slot, the fact that the DB is loaded in MB
chunks, and sequentially walking the lists of slots an object takes up.


&gt;<i> maximum_object_size 10 GB
</I>&gt;<i> store_dir_select_algorithm round-robin
</I>&gt;<i> cache_dir rock /cache2/rock1 90000 min-size=0 max-size=32768
</I>&gt;<i> cache_dir rock /cache/rock1 300000 min-size=32769 max-size=10737418240
</I>&gt;<i> 
</I>
Can you try an experiment?
 breaking that very big rock dir into a few with different object size
ranges in each.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009596.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
	<LI>Next message (by thread): <A HREF="009601.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9598">[ date ]</a>
              <a href="thread.html#9598">[ thread ]</a>
              <a href="subject.html#9598">[ subject ]</a>
              <a href="author.html#9598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
