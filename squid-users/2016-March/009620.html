<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] http host rewrite for origin (reverse proxy)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20http%20host%20rewrite%20for%20origin%20%28reverse%20proxy%29&In-Reply-To=%3CCAG6MAzR2xjiXtqB0SFaLA%2BPv5-ncc%2BcxHU4hob%2BNyu0qpWTTvg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009843.html">
   <LINK REL="Next"  HREF="009631.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] http host rewrite for origin (reverse proxy)</H1>
    <B>Tomas Mozes</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20http%20host%20rewrite%20for%20origin%20%28reverse%20proxy%29&In-Reply-To=%3CCAG6MAzR2xjiXtqB0SFaLA%2BPv5-ncc%2BcxHU4hob%2BNyu0qpWTTvg%40mail.gmail.com%3E"
       TITLE="[squid-users] http host rewrite for origin (reverse proxy)">hydrapolic at gmail.com
       </A><BR>
    <I>Tue Mar  8 15:32:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009843.html">[squid-users] parent_proxy kerberos authentication logging
</A></li>
        <LI>Next message (by thread): <A HREF="009631.html">[squid-users] http host rewrite for origin (reverse proxy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9620">[ date ]</a>
              <a href="thread.html#9620">[ thread ]</a>
              <a href="subject.html#9620">[ subject ]</a>
              <a href="author.html#9620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I would like to create a file distribution cache with squid. There is an
origin server that has some fixed limited capacity and I'd like to place a
few servers close to clients, in a mesh configuration (reverse proxy).

http_port 80 accel
cache_peer IP_ORIGIN parent 80 0 default no-query no-digest
no-netdb-exchange
cache_peer IP_SIBLING1 sibling 3128 3130
cache_peer IP_SIBLING2 sibling 3128 3130
...

Now the question is - is it possible to specify a mapping between the
hostname used on the cache vs the origin hostname? For example the origin
is reachable via storage.example.com and I'd like the cache to be
accesssible via cdn.example.com. So when a request comes to cdn.example.com,
it goes to the cache and it requests files from storage.example.com - map
cdn.example.com -&gt; storage.example.com. I failed to find such an option for
cache_peer.

Thank you,
Tomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160308/c9715467/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160308/c9715467/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009843.html">[squid-users] parent_proxy kerberos authentication logging
</A></li>
	<LI>Next message (by thread): <A HREF="009631.html">[squid-users] http host rewrite for origin (reverse proxy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9620">[ date ]</a>
              <a href="thread.html#9620">[ thread ]</a>
              <a href="subject.html#9620">[ subject ]</a>
              <a href="author.html#9620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
