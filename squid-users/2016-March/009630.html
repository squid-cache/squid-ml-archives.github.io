<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Sudden but sustained high bandwidth usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sudden%20but%20sustained%20high%20bandwidth%20usage&In-Reply-To=%3C56DFE90A.308%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009629.html">
   <LINK REL="Next"  HREF="009640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Sudden but sustained high bandwidth usage</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Sudden%20but%20sustained%20high%20bandwidth%20usage&In-Reply-To=%3C56DFE90A.308%40ngtech.co.il%3E"
       TITLE="[squid-users] Sudden but sustained high bandwidth usage">eliezer at ngtech.co.il
       </A><BR>
    <I>Wed Mar  9 09:12:42 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009629.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
        <LI>Next message (by thread): <A HREF="009640.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9630">[ date ]</a>
              <a href="thread.html#9630">[ thread ]</a>
              <a href="subject.html#9630">[ subject ]</a>
              <a href="author.html#9630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/03/2016 10:54, L.P.H. van Belle wrote:
&gt;<i> No,
</I>&gt;<i>
</I>&gt;<i> Aufs :
</I>&gt;<i> cache_dir aufs /var/spool/squid 9216 16 256 max-size=100663296
</I>
Then the cases are different by nature...
you have 9GB and he uses 90+++ GB, you are using AUFS which is a FS 
based and he is using ROCK which is a DB structure.

The issues he present are probably related to some kind of DISK access 
or DB structure integrity and probably not directly to squid.conf but it 
is also possible that it is related to the cache_dir settings not being 
properly tuned.

The main issues that are related to the rock cache_dir DB in general can 
be reviewed at:
<A HREF="http://wiki.squid-cache.org/Features/RockStore">http://wiki.squid-cache.org/Features/RockStore</A>

I have tried couple times to compare ufs\aufs to rock and each has it's 
own limitations.
The ufs\aufs is relying mainly on the OS FS structure which has lots of 
testing and tuning in it while rock do not have this kind of luxury yet.
I do not have the resources an funding an knowledge to test and compare 
them.
However I do know that there are couple basic test cases that can help 
to identify if it fit for this specific task without deep inspection.

Eliezer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009629.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
	<LI>Next message (by thread): <A HREF="009640.html">[squid-users] Sudden but sustained high bandwidth usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9630">[ date ]</a>
              <a href="thread.html#9630">[ thread ]</a>
              <a href="subject.html#9630">[ subject ]</a>
              <a href="author.html#9630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
