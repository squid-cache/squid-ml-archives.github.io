<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid crash on restart
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20crash%20on%20restart&In-Reply-To=%3C56E1519E.9020909%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009682.html">
   <LINK REL="Next"  HREF="009686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid crash on restart</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20crash%20on%20restart&In-Reply-To=%3C56E1519E.9020909%40gmail.com%3E"
       TITLE="[squid-users] squid crash on restart">yvoinov at gmail.com
       </A><BR>
    <I>Thu Mar 10 10:51:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009682.html">[squid-users] squid crash on restart
</A></li>
        <LI>Next message (by thread): <A HREF="009686.html">[squid-users] Squid reverse proxy and WebSockets.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9684">[ date ]</a>
              <a href="thread.html#9684">[ thread ]</a>
              <a href="subject.html#9684">[ subject ]</a>
              <a href="author.html#9684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sounds known :)))))))

I faced this behaviour with 3.5 all time, which is forced me to jump to 
4.x. 3.5 dies on my platform every shutdown, so this made it completely 
unusable in production.

But 4.x has the similar issue:

<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4438">http://bugs.squid-cache.org/show_bug.cgi?id=4438</A>


10.03.16 16:16, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> On 10/03/2016 4:41 p.m., Alex Samad wrote:
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> running
</I>&gt;&gt;<i>   rpm -qa squid
</I>&gt;&gt;<i> squid-3.5.14-1.el6.x86_64
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> doing a restart saw this
</I>&gt;&gt;<i> 2016/03/10 14:36:28 kid1| Squid Cache (Version 3.5.14): Exiting normally.
</I>&gt;&gt;<i> FATAL: Received Segment Violation...dying.
</I>&gt;&gt;<i> 2016/03/10 14:36:28 kid1| storeDirWriteCleanLogs: Starting...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> in cache.log
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> and message log
</I>&gt;&gt;<i> Mar 10 14:29:38 alcdmz1 squid[31939]: Squid Parent: will start 1 kids
</I>&gt;&gt;<i> Mar 10 14:29:38 alcdmz1 squid[31939]: Squid Parent: (squid-1) process
</I>&gt;&gt;<i> 31941 started
</I>&gt;&gt;<i> Mar 10 14:36:28 alcdmz1 kernel: squid[31941]: segfault at 124c ip
</I>&gt;&gt;<i> 000000000076bfd6 sp 00007ffff50359c0 error 6 in squid[400000+613000]
</I>&gt;&gt;<i>
</I>&gt;<i> Thank you.
</I>&gt;<i>
</I>&gt;<i> You will need to get a backtrace to find out if this is a known issue or
</I>&gt;<i> not. Either from a core generated already by that SEGFAULT, or by
</I>&gt;<i> running Squid in a debugger and repeating the issue.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009682.html">[squid-users] squid crash on restart
</A></li>
	<LI>Next message (by thread): <A HREF="009686.html">[squid-users] Squid reverse proxy and WebSockets.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9684">[ date ]</a>
              <a href="thread.html#9684">[ thread ]</a>
              <a href="subject.html#9684">[ subject ]</a>
              <a href="author.html#9684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
