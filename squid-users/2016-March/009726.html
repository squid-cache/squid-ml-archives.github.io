<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] pages not being cached
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20pages%20not%20being%20cached&In-Reply-To=%3CCACxQaDyMatcfszq9uEOKsTWCi9vLTO%2BLZ%2Bkoek30gXEtCdMBHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009721.html">
   <LINK REL="Next"  HREF="009727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] pages not being cached</H1>
    <B>Cindy Cicalese</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20pages%20not%20being%20cached&In-Reply-To=%3CCACxQaDyMatcfszq9uEOKsTWCi9vLTO%2BLZ%2Bkoek30gXEtCdMBHA%40mail.gmail.com%3E"
       TITLE="[squid-users] pages not being cached">cindom at gmail.com
       </A><BR>
    <I>Sat Mar 12 20:38:19 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009721.html">[squid-users] pages not being cached
</A></li>
        <LI>Next message (by thread): <A HREF="009727.html">[squid-users] pages not being cached
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9726">[ date ]</a>
              <a href="thread.html#9726">[ thread ]</a>
              <a href="subject.html#9726">[ subject ]</a>
              <a href="author.html#9726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> Ah. That being an old version may be part of your problem. 3.1 only
</I>&gt;<i> supports ~60% of HTTP/1.1 requirements.
</I>&gt;<i>
</I>
I have spent some time trying to build 3.5.15 from source and install it on
Red Hat, hoping it would resolve the caching issue. It builds fine, but I'm
having permission issues with the log file that are probably caused by
SELinux. Any pointers would be appreciated.


&gt;<i> &gt; I had read that &quot;Cache-Control: no-cache&quot; indicates that caching should
</I>&gt;<i> not
</I>&gt;<i> &gt; be used to satisfy requests, but that &quot;Cache-Control: max-age=0&quot; only
</I>&gt;<i> &gt; indicates that *client* caching should not be used. Is this not the case?
</I>&gt;<i>
</I>&gt;<i> You don't have &quot;no-cache&quot; in those log entries. Your particular old
</I>&gt;<i> Squid version does not fully support no-cache subtle details anyway. So
</I>&gt;<i> it treats no-cache as if it were no-store.
</I>&gt;<i>
</I>
Yes, agreed, no-cache is not specified. I was trying to differentiate
between the no-cache behavior and max-age=0 behavior.

You have Q-CC values of max-age=0. That is called &quot;reload&quot; in HTTP
&gt;<i> terminology. The client overridding the REP-CC values and demanding that
</I>&gt;<i> the copy it gets given is no more than 0 seconds old. ie. forcing Squid
</I>&gt;<i> to fetch new data (MISS).
</I>&gt;<i>
</I>
Are you saying that Chrome (and I have done some further testing and
determined that Safari is acting the same way) is demanding that a cached
value, if one exists, not be returned? So the lack of returning a cached
value is to be expected? Why would the browser be demanding that? What
controls whether a browser sets &quot;max-age=0&quot;? Again, my reading seemed to
indicate that &quot;max-age=0&quot; should only control client side caching, not
server side caching.


&gt;<i> You can use the 'reload-into-ims' parameter on refresh_pattern rules to
</I>&gt;<i> make Squid 'reload' using a revalidation request when that pattern
</I>&gt;<i> matches. I think that will turn the Chrome actions into what IE is doing
</I>&gt;<i> below.
</I>

Could you please give me an example of what that line would look like?

Reading the squid documentation, it appears that the 'reload-into-ims' is
dangerous and not recommended. Is there a more compliant way of providing
the desired caching behavior?

Thanks,

Cindy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160312/5c594027/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160312/5c594027/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009721.html">[squid-users] pages not being cached
</A></li>
	<LI>Next message (by thread): <A HREF="009727.html">[squid-users] pages not being cached
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9726">[ date ]</a>
              <a href="thread.html#9726">[ thread ]</a>
              <a href="subject.html#9726">[ subject ]</a>
              <a href="author.html#9726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
