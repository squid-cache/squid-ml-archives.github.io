<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] runing squid on second processor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20runing%20squid%20on%20second%20processor&In-Reply-To=%3C57265160.9070702%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010388.html">
   <LINK REL="Next"  HREF="010390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] runing squid on second processor</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20runing%20squid%20on%20second%20processor&In-Reply-To=%3C57265160.9070702%40measurement-factory.com%3E"
       TITLE="[squid-users] runing squid on second processor">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun May  1 18:56:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010388.html">[squid-users] runing squid on second processor
</A></li>
        <LI>Next message (by thread): <A HREF="010390.html">[squid-users] runing squid on second processor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10389">[ date ]</a>
              <a href="thread.html#10389">[ thread ]</a>
              <a href="subject.html#10389">[ subject ]</a>
              <a href="author.html#10389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/29/2016 04:17 PM, joe wrote:
&gt;<i> hi i have 2 cpu 4 core each
</I>&gt;<i>  i need to leave alone first processor and use the second one for squid and
</I>&gt;<i> its helper
</I>&gt;<i> is that will do ???   taskset 0x000000f0 squid -YC -f /etc/squid/squid.conf
</I>&gt;<i> or other way around ??
</I>
SMP Squid has cpu_affinity_map to accomplish similar task. However, it
does not apply to helpers AFAIK. Also, be careful not to assign two busy
Squid workers to two _sibling_ hyper cores. Give them hyper-cores on
different physical cores instead.


&gt;<i> so i can keep the kernel and other program running on first cpu not
</I>&gt;<i> interfere  with squid
</I>
I do not know of a good solution to that. The solution I know is to tell
each active process or kernel task (e.g., NIC interrupts processing)
where to run, which is tedious when you have more than one or two such
activities to worry about.


&gt;<i> cause wen i run Calamaris Log Analysis on cpl large log it take cpu % very
</I>&gt;<i> hi and it slow delay squid performance until it finish :(
</I>
Yes, it can be a real problem. AFAICT, the previous responses on this
thread essentially ignore the [sad] fact that Linux kernels are not very
good at CPU scheduling in high-performance SMP Squid environments.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010388.html">[squid-users] runing squid on second processor
</A></li>
	<LI>Next message (by thread): <A HREF="010390.html">[squid-users] runing squid on second processor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10389">[ date ]</a>
              <a href="thread.html#10389">[ thread ]</a>
              <a href="subject.html#10389">[ subject ]</a>
              <a href="author.html#10389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
