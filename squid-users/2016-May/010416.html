<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ldap authentication with encrypted credentials
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ldap%20authentication%20with%20encrypted%20credentials&In-Reply-To=%3C580d1f7f1067229df5608be32af98124%40tiscali.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010402.html">
   <LINK REL="Next"  HREF="010419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ldap authentication with encrypted credentials</H1>
    <B>Sampei</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ldap%20authentication%20with%20encrypted%20credentials&In-Reply-To=%3C580d1f7f1067229df5608be32af98124%40tiscali.it%3E"
       TITLE="[squid-users] ldap authentication with encrypted credentials">sampei02 at tiscali.it
       </A><BR>
    <I>Wed May  4 11:56:15 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010402.html">[squid-users] ldap authentication with encrypted credentials
</A></li>
        <LI>Next message (by thread): <A HREF="010419.html">[squid-users] ldap authentication with encrypted credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10416">[ date ]</a>
              <a href="thread.html#10416">[ thread ]</a>
              <a href="subject.html#10416">[ subject ]</a>
              <a href="author.html#10416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'll explain better:
Squid is running on Debian 5 older server and every Windows (XP/7/10) 
client uses it to surf on web.
Clients are configured in outofdate Microsoft domain where Domain 
Controllers are based on Windows 2000 server.
So far I permit Internet access to clients by specify IP address of 
computers in squid.conf file but now I'd like to manage internet access 
by asking to user its AD credentials.
Now I'm not able to update systems so I have to schedule it upgrade for 
next year.

&gt;&gt;&gt;<i>Look into Negotiate/Kerberos authentication. You will need that for 
</I>&gt;&gt;&gt;<i> the Win7 and Win10 clients anyway
</I>For Windows 7/10 clients, the Basic authentication (Squid 2.7) with 
LDAP helper will not able to work ?
While Kerberos will work both with older clients and newer ones?




Il 02.05.2016 13:43 Amos Jeffries ha scritto:

&gt;<i> On 2/05/2016 6:39 p.m., Sampei wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm going to configure Squid 2.7 Stable3 to authenticate clients
</I>&gt;&gt;<i> (Windows XP/7/10) in Active Directory environment (Windows 2000
</I>&gt;&gt;<i> server).
</I>&gt;<i>
</I>&gt;<i> You have my most sincere condolences.
</I>&gt;<i>
</I>&gt;<i> Squid-3.5 is available for Windows. see
</I>&gt;<i> . At least
</I>&gt;<i> you can update that component.
</I>&gt;<i>
</I>&gt;<i> That is assuming Squid is running on a Windows box at all. There is 
</I>&gt;<i> no
</I>&gt;<i> need for it to do so. You might find it better to run Squid on a
</I>&gt;<i> non-Windows machine with Samba integration to the AD server. There 
</I>&gt;<i> are
</I>&gt;<i> socket limitations imposed by Windows that can make Squid peak 
</I>&gt;<i> service
</I>&gt;<i> x10 slower than on any other OS.
</I>&gt;<i>
</I>&gt;&gt;<i> I used directive &quot;auth_param basic program /usr/lib/squid/ldap_auth 
</I>&gt;&gt;<i> -v3
</I>&gt;&gt;<i> ...&quot; but I read basic authentication is extremely weak and It 
</I>&gt;&gt;<i> transmits
</I>&gt;&gt;<i> user passwords as cleartext.
</I>&gt;<i>
</I>&gt;<i> Lets put it this way. Clear text password in Basic authentication is
</I>&gt;<i> slightly more secure today than the encrypted NTLM implemented in 
</I>&gt;<i> that
</I>&gt;<i> Windows 2000 server you are using.
</I>&gt;<i>
</I>&gt;<i> (And neither one is a good choice unless the transport itself is
</I>&gt;<i> encrypted, ie TLS / HTTPS).
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> How can I transmit encrypted credentials
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Microsoft AD LDAP interface requires Basic authentication with 
</I>&gt;<i> cleartext
</I>&gt;<i> passwords. It is a limit imposed by the Microsoft implementation of 
</I>&gt;<i> AD.
</I>&gt;<i> Nobody I'm aware of has ever been able to adequately explain why, but
</I>&gt;<i> use of secure credentials was never implemented for their LDAP 
</I>&gt;<i> interface.
</I>&gt;<i>
</I>&gt;<i> There are other AD interfaces than LDAP though, and they actually 
</I>&gt;<i> allow
</I>&gt;<i> more secure credentials to be used. Look into Negotiate/Kerberos
</I>&gt;<i> authentication. You will need that for the Win7 and Win10 clients 
</I>&gt;<i> anyway.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> [2]
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A> [3]
</I>

Links:
------
[1] <A HREF="http://wiki.squid-cache.org/KnowledgeBase/Windows#Squid-3.5">http://wiki.squid-cache.org/KnowledgeBase/Windows#Squid-3.5</A>
[2] mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
[3] <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>



Con Tutto Incluso Light navighi fino a 20 Mega senza limiti e chiami a 
0 cent/minuto verso tutti i fissi e i mobili in Italia a 19,95 euro/mese 
per sempre. In piu' ora l'attivazione e' Gratis! <A HREF="http://casa.tiscali.it/">http://casa.tiscali.it/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010402.html">[squid-users] ldap authentication with encrypted credentials
</A></li>
	<LI>Next message (by thread): <A HREF="010419.html">[squid-users] ldap authentication with encrypted credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10416">[ date ]</a>
              <a href="thread.html#10416">[ thread ]</a>
              <a href="subject.html#10416">[ subject ]</a>
              <a href="author.html#10416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
