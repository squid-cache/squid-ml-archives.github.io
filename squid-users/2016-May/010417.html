<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is there a way to allow connection according to user certificate?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20a%20way%20to%20allow%20connection%20according%20to%0A%20user%20certificate%3F&In-Reply-To=%3C7dd98650-0b67-dc19-3437-b507d6590e85%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010415.html">
   <LINK REL="Next"  HREF="010418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is there a way to allow connection according to user certificate?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20a%20way%20to%20allow%20connection%20according%20to%0A%20user%20certificate%3F&In-Reply-To=%3C7dd98650-0b67-dc19-3437-b507d6590e85%40treenet.co.nz%3E"
       TITLE="[squid-users] Is there a way to allow connection according to user certificate?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May  4 12:05:06 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010415.html">[squid-users] Is there a way to allow connection according to user certificate?
</A></li>
        <LI>Next message (by thread): <A HREF="010418.html">[squid-users] Is there a way to allow connection according to user certificate?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10417">[ date ]</a>
              <a href="thread.html#10417">[ thread ]</a>
              <a href="subject.html#10417">[ subject ]</a>
              <a href="author.html#10417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/05/2016 11:20 p.m., Ser de Bronce wrote:
&gt;<i> Hi there,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Maybe someone already knows any solution:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have transparent proxy and according to some reasons I can&#8217;t use
</I>&gt;<i> login/password authentication. However I still need to control who can
</I>&gt;<i> access my proxy.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I can install certificates to my users. Is it possible to allow connection
</I>&gt;<i> only if a user has the certificate issued by my CA?
</I>
You seem not to quite understand what the &quot;some reasons&quot; actually are.
If you did you would not have to ask.


Firstly, there is only one reason behind it all.

The reason is that the client thinks it's talking to some service that
is *not your proxy*. That is very important.


Secondly, there is one criteria that determines what works and what fails.

That criteria is &quot;authentication&quot;. Specifically in-band authentication.
Any type of in-band authentication WILL fail. Any type. Not just passwords.

TLS client certificate is just another type of in-band authentication.
 * Which answers your question: No. It wont work the way you want.


If you can install certificates that easily. Then surely you can just as
easily assign explicit proxy settings. Doing that would avoid all the
issues with interception.


Also, Think about all the passive details / metadata you get from the
client traffic and how you can use it to authorize access without
actively engaging the client across the intercepted connection.

There are quite a lot of things you can do. Methods like RADIUS or DHCP
assigned IP addresses. Static IPs, or MAC address registrations a proxy
external ACL helper can lookup to identify the client account.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010415.html">[squid-users] Is there a way to allow connection according to user certificate?
</A></li>
	<LI>Next message (by thread): <A HREF="010418.html">[squid-users] Is there a way to allow connection according to user certificate?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10417">[ date ]</a>
              <a href="thread.html#10417">[ thread ]</a>
              <a href="subject.html#10417">[ subject ]</a>
              <a href="author.html#10417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
