<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] load balancer as squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20load%20balancer%20as%20squid&In-Reply-To=%3C81c93bb5-46a3-ac4f-3c4b-866c49d5a4ff%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010450.html">
   <LINK REL="Next"  HREF="010454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] load balancer as squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20load%20balancer%20as%20squid&In-Reply-To=%3C81c93bb5-46a3-ac4f-3c4b-866c49d5a4ff%40treenet.co.nz%3E"
       TITLE="[squid-users] load balancer as squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat May  7 03:19:33 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010450.html">[squid-users] load balancer as squid
</A></li>
        <LI>Next message (by thread): <A HREF="010454.html">[squid-users] youtube videos take 60 seconds to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10453">[ date ]</a>
              <a href="thread.html#10453">[ thread ]</a>
              <a href="subject.html#10453">[ subject ]</a>
              <a href="author.html#10453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/05/2016 1:33 p.m., deepa ganu wrote:
&gt;<i> Hi
</I>&gt;<i> I have been using squid as a reverse proxy
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> http_port 80 accel defaultsite=202.53.13.20 vhost
</I>&gt;<i> cache_peer 172.20.36.162 parent 80 0 proxy-only no-query no-digest
</I>&gt;<i> originserver name=server1
</I>&gt;<i> cache_peer 172.20.36.41 parent 80 0 proxy-only no-query no-digest
</I>&gt;<i> originserver name=server2
</I>&gt;<i> 
</I>&gt;<i> acl sites_server1 dstdomain 172.20.36.162
</I>&gt;<i> acl sites_server2 dstdomain 172.20.36.41
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> cache_peer_access server1 allow sites_server1
</I>&gt;<i> cache_peer_access server2 allow sites_server2
</I>&gt;<i> 
</I>&gt;<i> #cache_peer 172.20.36.41 parent 80 0 proxy-only name=telescope
</I>&gt;<i> #cache_peer 172.20.36.41 parent 80 0 proxy-only name=portal
</I>&gt;<i> http_access allow sites_server1
</I>&gt;<i> http_access allow sites_server2
</I>&gt;<i> 
</I>&gt;<i> Please let me know if this is correct, also how can I use it as a load
</I>&gt;<i> balancer , if my one more server is at 172.20.36.42 ?
</I>&gt;<i> 
</I>
Squid load balances between cache_peer by default.

Right now it is using virtual host details (dstdomain ACL) in
cache_peer_access to explicitly route to the specific originserver
instead of LB.

If you can describe clearly in words the details of exactly what you
want Squid to do that should turn out to be what you need to configure.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010450.html">[squid-users] load balancer as squid
</A></li>
	<LI>Next message (by thread): <A HREF="010454.html">[squid-users] youtube videos take 60 seconds to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10453">[ date ]</a>
              <a href="thread.html#10453">[ thread ]</a>
              <a href="subject.html#10453">[ subject ]</a>
              <a href="author.html#10453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
