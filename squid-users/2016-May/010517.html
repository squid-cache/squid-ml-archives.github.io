<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Use arp and time acls to control access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Use%20arp%20and%20time%20acls%20to%20control%20access&In-Reply-To=%3C20160510133617.GB18485%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010516.html">
   <LINK REL="Next"  HREF="010524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Use arp and time acls to control access</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Use%20arp%20and%20time%20acls%20to%20control%20access&In-Reply-To=%3C20160510133617.GB18485%40fantomas.sk%3E"
       TITLE="[squid-users] Use arp and time acls to control access">uhlar at fantomas.sk
       </A><BR>
    <I>Tue May 10 13:36:17 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010516.html">[squid-users] Use arp and time acls to control access
</A></li>
        <LI>Next message (by thread): <A HREF="010524.html">[squid-users] Squid 3.5.19 for Microsoft Windows 64-bit is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10517">[ date ]</a>
              <a href="thread.html#10517">[ thread ]</a>
              <a href="subject.html#10517">[ subject ]</a>
              <a href="author.html#10517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10.05.16 12:53, TarotApprentice wrote:
&gt;<i>I'm trying to restrict internet access of certain devices to certain times of the day. My config looks like:
</I>&gt;<i>acl devicename1 arp aa:bb:cc:dd:ee:ffacl devicename2 arp aa:bb:cc:ff:ee:ddacl usertime time MTWHF 06:30-08:00acl usertime time MTWHF 18:00-22:30
</I>
I see yahoo converts html to plaintext very badly - joins lines by
converting line breaks to no whte space at all (gmail does similar stuff too)

&gt;<i>http_access allow devicename1 usertimehttp_access allow devicename2 usertimehttp_access deny devicename
</I>
... (use real mail client instead of yahoo's if possible)

&gt;<i>I'm using squid 3.5.17 (the latest in Debian Stretch). The client devices are using the proxy in explicit mode.
</I>&gt;<i>devicename1 and devicename2 currently are getting dynamic IP's but I can set the router up to give a static IPv4 address&#160;and use that instead of the mac address.
</I>&gt;&gt;<i>From reading the docs it seems arp (the mac address) isn't available if they use IPv6.
</I>
Incorrect. mac address can't be used behind router, because it's only
visible on local network. Behing router, you only see IP Address, but mac
address already belongs to the router (that's the point of routing)

&gt;<i> Also if they're using an https site it isn't going to work unless I start
</I>&gt;<i> peeking. 
</I>
without peeking, you only see where the connection goes to, not the URL
since it's encrypted in the data stream.

&gt;<i> Is there a better way of restricting the access to the allowed
</I>&gt;<i> times for both http and https traffic?
</I>
no, in order to log more about HTTPS connections, you must effectively be
the attacker who does MITM.
-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
Linux is like a teepee: no Windows, no Gates and an apache inside...

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010516.html">[squid-users] Use arp and time acls to control access
</A></li>
	<LI>Next message (by thread): <A HREF="010524.html">[squid-users] Squid 3.5.19 for Microsoft Windows 64-bit is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10517">[ date ]</a>
              <a href="thread.html#10517">[ thread ]</a>
              <a href="subject.html#10517">[ subject ]</a>
              <a href="author.html#10517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
