<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Would it be possible to run a http to https gateway using squid?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Would%20it%20be%20possible%20to%20run%20a%20http%20to%20https%0A%20gateway%20using%20squid%3F&In-Reply-To=%3C8ed68e4f-c06d-76a5-8316-2a36fcce7add%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010534.html">
   <LINK REL="Next"  HREF="010637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Would it be possible to run a http to https gateway using squid?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Would%20it%20be%20possible%20to%20run%20a%20http%20to%20https%0A%20gateway%20using%20squid%3F&In-Reply-To=%3C8ed68e4f-c06d-76a5-8316-2a36fcce7add%40treenet.co.nz%3E"
       TITLE="[squid-users] Would it be possible to run a http to https gateway using squid?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May 11 05:40:05 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010534.html">[squid-users] Would it be possible to run a http to https gateway	using squid?
</A></li>
        <LI>Next message (by thread): <A HREF="010637.html">[squid-users] Would it be possible to run a http to https gateway using squid?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10538">[ date ]</a>
              <a href="thread.html#10538">[ thread ]</a>
              <a href="subject.html#10538">[ subject ]</a>
              <a href="author.html#10538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/05/2016 9:25 a.m., Eliezer Croitoru wrote:
&gt;<i> I was wondering to myself, If I can generate certificates and bump the
</I>&gt;<i> connection, I can use a 302\308 to redirect all traffic from https to a
</I>&gt;<i> http(intercepatble) connection.
</I>&gt;<i> 
</I>&gt;<i> Then on the http interceptor rewrite the request into https.
</I>
What would be the point? You already had to decrypt to do the bump and
redirect.

&gt;<i> 
</I>&gt;<i> I have a working setup which uses a redirection &quot;attack&quot; to authenticate
</I>&gt;<i> users over http+https.
</I>&gt;<i> 
</I>&gt;<i> Now the issue is that if all browsers will deny a redirection from https to
</I>&gt;<i> http(a downgrading attack) then the http world would look a bit weird.
</I>&gt;<i> 
</I>
Not that weird. It is called HTTP Strict Transport Security (HSTS).


&gt;<i> 
</I>&gt;<i> And as an addition I have seen that Microsoft use and &quot;FTP&quot; like transfer
</I>&gt;<i> protocol in their software.
</I>&gt;<i> 
</I>&gt;<i> They have a &quot;secured&quot; control channel which has certificates pinning or
</I>&gt;<i> something else as a safe guard,
</I>&gt;<i> and in more then one case they use another channel to fetch the request over
</I>&gt;<i> plain HTTP( when a proxy is defined).
</I>&gt;<i> 
</I>
You will note that this is a very cache friendly way to do crypto. The
bulky part of the content is cacheable by anyone who needs to reduce
bandwith, but remains securely verifiable and integrity checked using
the off-band details.

However, it is not what you are talking about for your tool. The above
method by MS requires intentional design in the web service with
integrity checking actually performed by the endpoints.

 Under downgrade attack conditions the endpoints would not know that the
extra work was needed so one cannot assume that it is getting done. One
of the reasons browsers are so into TLS is that the transport layer does
all the verification and leaves them able to skip perceived slow
security checks at higher levels.

&gt;<i> 
</I>&gt;<i> Would it be reasonable to write and publish such a tool? Or is it a security
</I>&gt;<i> risk to publish such a tool to the public?
</I>&gt;<i> 
</I>
Up to you. AIUI is illegal in most of the world to make use of it. Like
most hacking tools if used other than for permitted penetration testing
and research purposes.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010534.html">[squid-users] Would it be possible to run a http to https gateway	using squid?
</A></li>
	<LI>Next message (by thread): <A HREF="010637.html">[squid-users] Would it be possible to run a http to https gateway using squid?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10538">[ date ]</a>
              <a href="thread.html#10538">[ thread ]</a>
              <a href="subject.html#10538">[ subject ]</a>
              <a href="author.html#10538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
