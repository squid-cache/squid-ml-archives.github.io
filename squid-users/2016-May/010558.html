<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Problems configuring Squid with C-ICAP+Squidclamav
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problems%20configuring%20Squid%20with%20C-ICAP%2BSquidclamav&In-Reply-To=%3C20160511150449.GB15424%40beagle.bcn.sia.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010556.html">
   <LINK REL="Next"  HREF="010560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Problems configuring Squid with C-ICAP+Squidclamav</H1>
    <B>C. L. Martinez</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problems%20configuring%20Squid%20with%20C-ICAP%2BSquidclamav&In-Reply-To=%3C20160511150449.GB15424%40beagle.bcn.sia.es%3E"
       TITLE="[squid-users] Problems configuring Squid with C-ICAP+Squidclamav">carlopmart at gmail.com
       </A><BR>
    <I>Wed May 11 15:04:49 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010556.html">[squid-users] Problems configuring Squid with C-ICAP+Squidclamav
</A></li>
        <LI>Next message (by thread): <A HREF="010560.html">[squid-users] Problems configuring Squid with C-ICAP+Squidclamav
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10558">[ date ]</a>
              <a href="thread.html#10558">[ thread ]</a>
              <a href="subject.html#10558">[ subject ]</a>
              <a href="author.html#10558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed 11.May'16 at 20:53:56 +0600, Yuri Voinov wrote:
&gt;<i> 
</I>&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA256
</I>&gt;<i>  
</I>&gt;<i> Second try to check changelog for your version squidclamav. Looks like
</I>&gt;<i> you are using version still support method OPTIONS redirection which you
</I>&gt;<i> not permit in c-icap.conf. Which is desupported in squidclamav starting
</I>&gt;<i> version 6.14, as described here: <A HREF="http://squidclamav.darold.net/news.html">http://squidclamav.darold.net/news.html</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
Thanks Yuri. There is not anything relevant in c-icap's logs:

Wed May 11 14:19:24 2016, main proc, squidclamav.c(258) squidclamav_post_init_service: Wed May 11 14:19:24 2016, main proc, DEBUG squidguard not defined, good
Wed May 11 14:20:29 2016, main proc, Possibly a term signal received. Monitor process going to term all children
Wed May 11 14:20:31 2016, 10986/3923614016, squidclamav.c(273) squidclamav_close_service: Wed May 11 14:20:31 2016, 10986/3923614016, DEBUG clean all memory!
Wed May 11 14:20:31 2016, 8143/3923614016, squidclamav.c(273) squidclamav_close_service: Wed May 11 14:20:31 2016, 8143/3923614016, DEBUG clean all memory!
Wed May 11 14:20:31 2016, 9458/3923614016, squidclamav.c(273) squidclamav_close_service: Wed May 11 14:20:31 2016, 9458/3923614016, DEBUG clean all memory!
Wed May 11 14:20:31 2016, main proc, squidclamav.c(273) squidclamav_close_service: Wed May 11 14:20:31 2016, main proc, DEBUG clean all memory!
Wed May 11 14:20:55 2016, main proc, squidclamav.c(258) squidclamav_post_init_service: Wed May 11 14:20:55 2016, main proc, DEBUG squidguard not defined, good
Wed May 11 14:20:55 2016, main proc, Create shared mem, qsize=20 stat_block_size=560 childshared data:1120

 My squidclamav's version is 6.15:

bzip2-1.0.6p7       block-sorting file compressor, unencumbered
c-icap-0.4.2p1      ICAP server for use with web proxies
clamav-0.99p0       virus scanner
curl-7.47.0         get files from FTP, Gopher, HTTP or HTTPS servers
db-4.6.21p1v0       Berkeley DB package, revision 4
dnscrypt-proxy-1.6.1p0 secure communications between a DNS client and resolver
gettext-0.19.7      GNU gettext runtime libraries and programs
gmp-5.0.2p3         library for arbitrary precision arithmetic
gnutls-3.3.21       GNU Transport Layer Security library
libexecinfo-0.2p5v0 clone of backtrace facility found in the GNU libc
libffi-3.2.1p0      Foreign Function Interface
libiconv-1.14p3     character set conversion library
libidn-1.32         internationalized string handling
libltdl-2.4.2p1     GNU libtool system independent dlopen wrapper
libmilter-8.15.2    mail filter support library for sendmail
libnettle-3.2       cryptographic library
libsodium-1.0.8     library for network communications and cryptography
libtasn1-4.7        Abstract Syntax Notation One structure parser library
libxml-2.9.3        XML parsing library
nghttp2-1.6.0       library for HTTP/2
p11-kit-0.22.1p1    library for loading and enumurating of PKCS#11 modules
pcre-8.38           perl-compatible regular expression library
quirks-2.197        exceptions to pkg_add rules
squid-3.5.14        WWW and FTP proxy cache and accelerator
squidclamav-6.15    clamd-based virus scanner for c-icap
xz-5.2.2p0          LZMA compression and decompression tools

 Yes, Yes, I know, squid is outdated, but it is the default version for OpenBSD 5.9

-- 
Greetings,
C. L. Martinez

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010556.html">[squid-users] Problems configuring Squid with C-ICAP+Squidclamav
</A></li>
	<LI>Next message (by thread): <A HREF="010560.html">[squid-users] Problems configuring Squid with C-ICAP+Squidclamav
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10558">[ date ]</a>
              <a href="thread.html#10558">[ thread ]</a>
              <a href="subject.html#10558">[ subject ]</a>
              <a href="author.html#10558">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
