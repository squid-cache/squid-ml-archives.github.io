<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] explicit forward proxy to server requring client authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20explicit%20forward%20proxy%20to%20server%20requring%20client%0A%20authentication&In-Reply-To=%3C20160518070439.GB17118%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010684.html">
   <LINK REL="Next"  HREF="010689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] explicit forward proxy to server requring client authentication</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20explicit%20forward%20proxy%20to%20server%20requring%20client%0A%20authentication&In-Reply-To=%3C20160518070439.GB17118%40fantomas.sk%3E"
       TITLE="[squid-users] explicit forward proxy to server requring client authentication">uhlar at fantomas.sk
       </A><BR>
    <I>Wed May 18 07:04:39 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010684.html">[squid-users] explicit forward proxy to server requring client authentication
</A></li>
        <LI>Next message (by thread): <A HREF="010689.html">[squid-users] explicit forward proxy to server requring client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10685">[ date ]</a>
              <a href="thread.html#10685">[ thread ]</a>
              <a href="subject.html#10685">[ subject ]</a>
              <a href="author.html#10685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17.05.16 17:11, Robert W Weaver wrote:
&gt;<i>The issue is I need to connect to a site that requires client
</I>&gt;<i>authentication.  Don't want to put the key and cert on each individual
</I>&gt;<i>user, so instead want the key and cert on the proxy.
</I>&gt;<i>
</I>&gt;<i>Diagram:
</I>&gt;<i>
</I>&gt;<i>User A ---&gt; Squid S ---&gt; Server B
</I>&gt;<i>        ^            ^
</I>&gt;<i>        |            +-- TLS client authentication
</I>&gt;<i>        +-- cleartext okay
</I>&gt;<i>
</I>&gt;<i>I'm able to bump, but the client authentication to server B isn't working.
</I>
...of course it's not working. When you bump a connection, you are effectively
doing the MITM attack. The client talks to a proxy and the proxy talks to a
server. Squid can't use clients' certificate because it does not have the
clients' private key (the whole point of SSL is to avoid these situations)

SSL authentication can work between client and proxy, and another one
between proxy and the server.

If you have certification authority, you can create fake clients' key and
authenticate with it, but the server (site) must accept your authority.

-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
A day without sunshine is like, night.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010684.html">[squid-users] explicit forward proxy to server requring client authentication
</A></li>
	<LI>Next message (by thread): <A HREF="010689.html">[squid-users] explicit forward proxy to server requring client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10685">[ date ]</a>
              <a href="thread.html#10685">[ thread ]</a>
              <a href="subject.html#10685">[ subject ]</a>
              <a href="author.html#10685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
