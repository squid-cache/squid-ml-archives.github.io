<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Problem talking ICAP to McAfee Web Gateway
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20talking%20ICAP%20to%20McAfee%20Web%20Gateway&In-Reply-To=%3C573CF0BE.5070207%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010700.html">
   <LINK REL="Next"  HREF="010716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Problem talking ICAP to McAfee Web Gateway</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20talking%20ICAP%20to%20McAfee%20Web%20Gateway&In-Reply-To=%3C573CF0BE.5070207%40measurement-factory.com%3E"
       TITLE="[squid-users] Problem talking ICAP to McAfee Web Gateway">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed May 18 22:46:22 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010700.html">[squid-users] Problem talking ICAP to McAfee Web Gateway
</A></li>
        <LI>Next message (by thread): <A HREF="010716.html">[squid-users] Problem talking ICAP to McAfee Web Gateway
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10701">[ date ]</a>
              <a href="thread.html#10701">[ thread ]</a>
              <a href="subject.html#10701">[ subject ]</a>
              <a href="author.html#10701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/18/2016 03:56 PM, Rob Worsnop wrote:

&gt;<i> In certain circumstances, MWG will start streaming the RESPMOD response
</I>&gt;<i> before Squid has finished sending all the chunks in the RESPMOD request.
</I>&gt;<i> 
</I>&gt;<i> Squid does not like this.
</I>
If Squid does not like this, it is a Squid bug IMO.


&gt;<i> As far as I can tell, ICAP is no different from HTTP 
</I>
In both protocols, a server may start sending the response before the
entire request has been received, and a robust client implementation
ought to accept such &quot;early&quot; responses even if the protocol does not
explicitly require their support. An early response has to comply with
all the other protocol rules, of course, but there are cases where such
compliance is not a problem.

In HTTP, early responses are usually errors because the server is
unlikely to know that the request will be successful until seeing the
end of the request.

In ICAP, early responses are much more useful (and common) because an
ICAP server can &quot;pipeline&quot; the HTTP message back to the ICAP client,
drastically reducing message buffering requirements and user delays.
IIRC, Squid used to support early responses well.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010700.html">[squid-users] Problem talking ICAP to McAfee Web Gateway
</A></li>
	<LI>Next message (by thread): <A HREF="010716.html">[squid-users] Problem talking ICAP to McAfee Web Gateway
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10701">[ date ]</a>
              <a href="thread.html#10701">[ thread ]</a>
              <a href="subject.html#10701">[ subject ]</a>
              <a href="author.html#10701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
