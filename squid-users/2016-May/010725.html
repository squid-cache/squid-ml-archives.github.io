<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] CPU Load 100% after implementing SSL Bump ....
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CPU%20Load%20100%25%20after%20implementing%20SSL%20Bump%20....&In-Reply-To=%3C8c6d1310-21f4-147c-a04b-e3c101896c1a%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010724.html">
   <LINK REL="Next"  HREF="010727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] CPU Load 100% after implementing SSL Bump ....</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CPU%20Load%20100%25%20after%20implementing%20SSL%20Bump%20....&In-Reply-To=%3C8c6d1310-21f4-147c-a04b-e3c101896c1a%40treenet.co.nz%3E"
       TITLE="[squid-users] CPU Load 100% after implementing SSL Bump ....">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May 23 09:11:41 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010724.html">[squid-users] CPU Load 100% after implementing SSL Bump ....
</A></li>
        <LI>Next message (by thread): <A HREF="010727.html">[squid-users] What are the chunks per request limits in squid? if	at all? and Is there any client that comply with Retry-After	response?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10725">[ date ]</a>
              <a href="thread.html#10725">[ thread ]</a>
              <a href="subject.html#10725">[ subject ]</a>
              <a href="author.html#10725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/05/2016 8:18 p.m., Sagar Malve wrote:
&gt;<i> Hi Team,
</I>&gt;<i> 
</I>&gt;<i> Squid - Version 3.5.13
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Please find the below Squid Cache Logs
</I>&gt;<i> 2016/05/23 13:35:55 kid1| Error negotiating SSL connection on FD 138:
</I>&gt;<i> error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca (1/0)
</I>&gt;<i> 2016/05/23 13:35:55 kid1| Error negotiating SSL connection on FD 457:
</I>&gt;<i> error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca (1/0)
</I>&gt;<i> 2016/05/23 13:36:00 kid1| Error negotiating SSL connection on FD 33:
</I>&gt;<i> error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca (1/0)
</I>&gt;<i> 2016/05/23 13:36:01 kid1| Error negotiating SSL connection on FD 438:
</I>&gt;<i> error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca (1/0)
</I>&gt;<i> 2016/05/23 13:36:05 kid1| Error negotiating SSL connection on FD 555: (104)
</I>&gt;<i> Connection reset by peer
</I>&lt;snip&gt;

&gt;<i> 
</I>&gt;<i> ----------------------------Cache log End
</I>&gt;<i> --------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Do we need to update openssl? I got to know these from the forum previous
</I>&gt;<i> post ....
</I>&gt;<i> If we need to update the openssl then where can we find the updated version
</I>&gt;<i> of CA Certs ....
</I>&gt;<i> 
</I>
OpenSSL and the global &quot;Trusted CA&quot; certificates are separate things.

Keeping either of those to date would be a good idea even if doing so
does not solve your issue. Whatever provider was used to get your
current versions should have the latest available if you need updates.


You do need to upgrade your Squid though. Current stable is 3.5.19.
If the problems persist with that, you may want to try a 4.x beta
release. There are additional fixes only available there that might be
of use.

Your current 3.5.13 version and all later ones contain the
&lt;<A HREF="http://www.squid-cache.org/Doc/config/sslproxy_foreign_intermediate_certs/">http://www.squid-cache.org/Doc/config/sslproxy_foreign_intermediate_certs/</A>&gt;
directive for loading intermediate CA certs that some servers do not
provide. You can find talk about it and an archive maintained by Yuri in
other recent threads on this list. That can resolve some of the &quot;unknown
ca&quot; occurances.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010724.html">[squid-users] CPU Load 100% after implementing SSL Bump ....
</A></li>
	<LI>Next message (by thread): <A HREF="010727.html">[squid-users] What are the chunks per request limits in squid? if	at all? and Is there any client that comply with Retry-After	response?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10725">[ date ]</a>
              <a href="thread.html#10725">[ thread ]</a>
              <a href="subject.html#10725">[ subject ]</a>
              <a href="author.html#10725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
