<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] DNS lookup fails initially for FQDN in squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20DNS%20lookup%20fails%20initially%20for%20FQDN%20in%20squid&In-Reply-To=%3CCAO4ouAZaU5E_bd1TvwVO2gu%2BcvRMyHDm6_jEPw6RyH%3DG68EDPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010808.html">
   <LINK REL="Next"  HREF="010758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] DNS lookup fails initially for FQDN in squid</H1>
    <B>Aashima Madaan</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20DNS%20lookup%20fails%20initially%20for%20FQDN%20in%20squid&In-Reply-To=%3CCAO4ouAZaU5E_bd1TvwVO2gu%2BcvRMyHDm6_jEPw6RyH%3DG68EDPA%40mail.gmail.com%3E"
       TITLE="[squid-users] DNS lookup fails initially for FQDN in squid">amadaan at ncsu.edu
       </A><BR>
    <I>Fri May 27 14:12:47 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010808.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
        <LI>Next message (by thread): <A HREF="010758.html">[squid-users] DNS lookup fails initially for FQDN in squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10757">[ date ]</a>
              <a href="thread.html#10757">[ thread ]</a>
              <a href="subject.html#10757">[ subject ]</a>
              <a href="author.html#10757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

In my squid configuration file, I am adding a Fully Qualified Domain Name
instead of an IP address for my ICAP server but it is not able to resolve
that name initially and the service goes down saying

essential ICAP service is down after an options fetch failure: <A HREF="icap://">icap://</A>
short.domain.name:4321 [down,!opt]

It remains shut down for 3 minutes and then the icap service is up after
that much time. My concern is why there is so much delay in resolving fqdn
of an ip.

Plus, adding that IP with FQDN in my /etc/hosts file resolves the name
immediately on starting the service. But I dont want to do that since that
should not be required thing if know DNS entry for that particular IP works
through ping or nslookup or directly accessing that gateway console admin
from browser with fqdn.

Thanks

Aashima
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/2751463f/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160527/2751463f/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010808.html">[squid-users] missing negotiate_kerberos_auth on my squid
</A></li>
	<LI>Next message (by thread): <A HREF="010758.html">[squid-users] DNS lookup fails initially for FQDN in squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10757">[ date ]</a>
              <a href="thread.html#10757">[ thread ]</a>
              <a href="subject.html#10757">[ subject ]</a>
              <a href="author.html#10757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
