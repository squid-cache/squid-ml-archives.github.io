<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL bump not working w/some sites.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20bump%20not%20working%20w/some%20sites.&In-Reply-To=%3Cafa668eb-2332-cf2e-4120-edf5c00b8986%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013390.html">
   <LINK REL="Next"  HREF="013392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL bump not working w/some sites.</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20bump%20not%20working%20w/some%20sites.&In-Reply-To=%3Cafa668eb-2332-cf2e-4120-edf5c00b8986%40measurement-factory.com%3E"
       TITLE="[squid-users] SSL bump not working w/some sites.">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Nov  7 19:32:12 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013390.html">[squid-users] SSL bump not working w/some sites.
</A></li>
        <LI>Next message (by thread): <A HREF="013392.html">[squid-users] SSL bump not working w/some sites.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13391">[ date ]</a>
              <a href="thread.html#13391">[ thread ]</a>
              <a href="subject.html#13391">[ subject ]</a>
              <a href="author.html#13391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/07/2016 11:59 AM, L. A. Walsh wrote:
&gt;<i> I have the SSL bump feature setup and so far have been happy with
</I>&gt;<i> it, but today, I got an error from a website, 
</I>
You got an error from Squid, not a website.


&gt;<i> saying they detect my
</I>&gt;<i> ability to monitor my webtraffic and refuse to allow it:
</I>
Actually, the error says that Squid refuses to trust the web server.



&gt;<i> The system returned:
</I>&gt;<i> 
</I>&gt;<i>    (71) Protocol error (TLS code: X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN)
</I>&gt;<i> 
</I>&gt;<i>    Self-signed SSL Certificate in chain: /C=US/O=Entrust, Inc./OU=See
</I>&gt;<i> www.entrust.net/legal-terms/OU=(c) 2009 Entrust, Inc. - for authorized
</I>&gt;<i> use only/CN=Entrust Root Certification Authority - G2
</I>
... because your Squid/OpenSSL setup does not trust the above root
certificate at the end of the server certificate chain.


&gt;<i> This proxy and the remote host failed to negotiate a mutually acceptable
</I>&gt;<i> security settings for handling your request. It is possible that the
</I>&gt;<i> remote host does not support secure connections, or the proxy is not
</I>&gt;<i> satisfied with the host security credentials.
</I>
It is the latter -- &quot;not satisfied with the host security credentials&quot;.

If you believe that the missing root certificate is legitimate (i.e.,
your Squid should trust it), then you may want to update your OpenSSL
setup to include that root CA certificate.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013390.html">[squid-users] SSL bump not working w/some sites.
</A></li>
	<LI>Next message (by thread): <A HREF="013392.html">[squid-users] SSL bump not working w/some sites.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13391">[ date ]</a>
              <a href="thread.html#13391">[ thread ]</a>
              <a href="subject.html#13391">[ subject ]</a>
              <a href="author.html#13391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
