<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL bump not working w/some sites.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20bump%20not%20working%20w/some%20sites.&In-Reply-To=%3C42bcce32-7aba-8908-a2ce-40570769ac63%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013395.html">
   <LINK REL="Next"  HREF="013402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL bump not working w/some sites.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20bump%20not%20working%20w/some%20sites.&In-Reply-To=%3C42bcce32-7aba-8908-a2ce-40570769ac63%40treenet.co.nz%3E"
       TITLE="[squid-users] SSL bump not working w/some sites.">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Nov  8 03:05:58 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013395.html">[squid-users] SSL bump not working w/some sites.
</A></li>
        <LI>Next message (by thread): <A HREF="013402.html">[squid-users] SSL bump not working w/some sites.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13396">[ date ]</a>
              <a href="thread.html#13396">[ thread ]</a>
              <a href="subject.html#13396">[ subject ]</a>
              <a href="author.html#13396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/11/2016 3:40 p.m., L. A. Walsh wrote:
&gt;<i> Alex Rousskov wrote:
</I>&gt;&gt;<i> On 11/07/2016 11:59 AM, L. A. Walsh wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>    (71) Protocol error (TLS code: X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>    Self-signed SSL Certificate in chain: /C=US/O=Entrust, Inc./OU=See
</I>&gt;&gt;&gt;<i> www.entrust.net/legal-terms/OU=(c) 2009 Entrust, Inc. - for authorized
</I>&gt;&gt;&gt;<i> use only/CN=Entrust Root Certification Authority - G2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ... because your Squid/OpenSSL setup does not trust the above root
</I>&gt;&gt;<i> certificate at the end of the server certificate chain.
</I>&gt;<i> ---
</I>&gt;<i>     Weird.  I don't know who they are... it is on/for a US gov
</I>&gt;<i> website...   Given all the hacks going on recently, not so sure
</I>&gt;<i> I should just accept it.
</I>
It should be safe enough to check that your system CA set is up to date.
There were changes as recently as a week ago.

You will only have to face the tricky decisions about whether to trust
the CA if the problem remains when you have the latest globaly trusted
set installed.


You could try the sslproxy_foreign_intermediate_certs option Yuri
mentioned. But I think it will not help in this particular case since
Squid will trust those foreign certs only if they are used as
intermediate certs in a chain, this error apears to be about a root cert.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013395.html">[squid-users] SSL bump not working w/some sites.
</A></li>
	<LI>Next message (by thread): <A HREF="013402.html">[squid-users] SSL bump not working w/some sites.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13396">[ date ]</a>
              <a href="thread.html#13396">[ thread ]</a>
              <a href="subject.html#13396">[ subject ]</a>
              <a href="author.html#13396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
