<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] is ACL conditional directive possible ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20is%20ACL%20conditional%20directive%20possible%20%3F&In-Reply-To=%3C15521_1479231116_582B468C_15521_15515_1_270A64B14CA71A48B98968C2E3F95DC6F47753B4%40wancyexmbx01.ancy.fr.sopra%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013445.html">
   <LINK REL="Next"  HREF="013456.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] is ACL conditional directive possible ?</H1>
    <B>AUBERT Thibaud</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20is%20ACL%20conditional%20directive%20possible%20%3F&In-Reply-To=%3C15521_1479231116_582B468C_15521_15515_1_270A64B14CA71A48B98968C2E3F95DC6F47753B4%40wancyexmbx01.ancy.fr.sopra%3E"
       TITLE="[squid-users] is ACL conditional directive possible ?">thibaud.aubert at soprasteria.com
       </A><BR>
    <I>Tue Nov 15 17:31:55 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013445.html">[squid-users] is ACL conditional directive possible ?
</A></li>
        <LI>Next message (by thread): <A HREF="013456.html">[squid-users] is ACL conditional directive possible ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13455">[ date ]</a>
              <a href="thread.html#13455">[ thread ]</a>
              <a href="subject.html#13455">[ subject ]</a>
              <a href="author.html#13455">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

Ok, QoS might help to control traffic on the internet access side, but it won't help between the source, client on a small remote office/output, and the proxy. 

It might also be difficult to split this traffic between what is intended to internet or just internal.

Example : 1Gb/sec internet link used at 50%, a user on a remote site with a 15 mbits/sec link used at 80% launch a download. There's pretty much no impact on the internet link... but on the second, it add an extra 3mbits/sec that saturate the network.

If I add a restriction with a small value for the max size of file, I can hope that user won't bother others people on site too long. But it also mean that every people that use the internet link won't be able to download big file, even if they normally could.

I also think to use Delay Pool, but, it will penalize people that do not download big files. If anyone have some XP about individual delay pool, don't hesitate to share, because I'm not sure that it will fit my current needs.

Regards,

TAU

-----Message d'origine-----
De&#160;: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] De la part de Garri Djavadyan
Envoy&#233;&#160;: mardi 15 novembre 2016 11:36
&#192;&#160;: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Objet&#160;: Re: [squid-users] is ACL conditional directive possible ?

On Tue, 2016-11-15 at 22:48 +1300, Amos Jeffries wrote:
&gt;<i> Then you integrate Squid with those system QoS controls by using the 
</I>&gt;<i> tcp_outgoing_tos directive with ACLs to send the appropriate TOS label 
</I>&gt;<i> for the client IP.
</I>
Hi Amos,

AFAIK, the directive 'tcp_outgoing_tos' is applied only for traffic from Squid to origin servers.

The reference [1] and my quick test confirmed my expectations:

&#160; Allows you to select a TOS/Diffserv value for packets outgoing
&#160; on the server side, based on an ACL.


Nevertheless, the directive 'qos_flows' [2] could be used to set ToS for traffic from Squid to client.


[1]&#160;<A HREF="http://www.squid-cache.org/Doc/config/tcp_outgoing_tos/">http://www.squid-cache.org/Doc/config/tcp_outgoing_tos/</A>
[2]&#160;<A HREF="http://www.squid-cache.org/Doc/config/qos_flows/">http://www.squid-cache.org/Doc/config/qos_flows/</A>

Garri
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013445.html">[squid-users] is ACL conditional directive possible ?
</A></li>
	<LI>Next message (by thread): <A HREF="013456.html">[squid-users] is ACL conditional directive possible ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13455">[ date ]</a>
              <a href="thread.html#13455">[ thread ]</a>
              <a href="subject.html#13455">[ subject ]</a>
              <a href="author.html#13455">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
