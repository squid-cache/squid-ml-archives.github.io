<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid3.4 on Debian Jessie x64 - config problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid3.4%20on%20Debian%20Jessie%20x64%20-%20config%20problem&In-Reply-To=%3C13c201d24598%248b20e4e0%24a162aea0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013559.html">
   <LINK REL="Next"  HREF="013560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid3.4 on Debian Jessie x64 - config problem</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid3.4%20on%20Debian%20Jessie%20x64%20-%20config%20problem&In-Reply-To=%3C13c201d24598%248b20e4e0%24a162aea0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Squid3.4 on Debian Jessie x64 - config problem">eliezer at ngtech.co.il
       </A><BR>
    <I>Wed Nov 23 14:47:41 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013559.html">[squid-users] Squid3.4 on Debian Jessie x64 - config problem
</A></li>
        <LI>Next message (by thread): <A HREF="013560.html">[squid-users] Inquiry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry for jumping in but system can know if squid is running or not.
Maybe when rc init script is running it will not but system definitely known if the software runs.
This is since it was designed to follow the software when it runs.

I can suggest an alternative squid.service for systemd that will replace the rc init scrtipt.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Amos Jeffries
Sent: Wednesday, November 23, 2016 14:39
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Squid3.4 on Debian Jessie x64 - config problem

On 23/11/2016 2:06 a.m., Marcin Jak&#243;bik wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have a testing lab ( VBox ) with 2 VMs : 1st one with NICs in 
</I>&gt;<i> bridged mode, and in host-only mode, 2nd VM is also in bridged mode.
</I>&gt;<i> 
</I>&gt;<i> On 1st machine i have successfully set up Squid, but my config file 
</I>&gt;<i> sometimes works, sometimes no, f.eg. it sometimes blocks youtube, but 
</I>&gt;<i> a few secs later, just shows a few website elements. Moreover, if i 
</I>&gt;<i> choose to use proxy on windows machine, when it blocks sites - i can 
</I>&gt;<i> see that in logs, but in webbrowser i can see only white site. Nothing 
</I>&gt;<i> more. Same goes if I use default config file.
</I>
The default config from Debian disables access through the proxy. You have to enable the localnet ACL for anything to work.

Start by deciding what you want the proxy to do. Then tell us that.

&gt;<i> 
</I>&gt;<i> *STATUS :*
</I>&gt;<i> &quot;sudo /etc/init.d/squid3 status
</I>&gt;<i> &#9679; squid3.service - LSB: Squid HTTP Proxy version 3.x
</I>&gt;<i>    Loaded: loaded (/etc/init.d/squid3)
</I>&gt;<i>    Active: active (running)(...)&quot;
</I>&gt;<i> 
</I>
systemd lies. It cannot tell whether Squid-3 is runnign or not. If Squid was ever started systemd will say &quot;active (running)&quot; even if Squid aborted.

Which brings us to the config ...

&gt;<i> 
</I>&gt;<i> *CONFIG : *
</I>&gt;<i>
</I>
The pastebin config is missing http_port for receiving traffic. So any proxy asked to run it will abort on startup. No traffic going through there.

Amos

_______________________________________________
squid-users mailing list
mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013559.html">[squid-users] Squid3.4 on Debian Jessie x64 - config problem
</A></li>
	<LI>Next message (by thread): <A HREF="013560.html">[squid-users] Inquiry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
