<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.x and NTLM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.x%20and%20NTLM&In-Reply-To=%3C29c7622d-ce81-12d9-fbdc-b0fbf1cca63c%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013614.html">
   <LINK REL="Next"  HREF="013618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.x and NTLM</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.x%20and%20NTLM&In-Reply-To=%3C29c7622d-ce81-12d9-fbdc-b0fbf1cca63c%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.5.x and NTLM">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Nov 28 12:18:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013614.html">[squid-users] Squid 3.5.x and NTLM
</A></li>
        <LI>Next message (by thread): <A HREF="013618.html">[squid-users] Squid 3.5.x and NTLM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13615">[ date ]</a>
              <a href="thread.html#13615">[ thread ]</a>
              <a href="subject.html#13615">[ subject ]</a>
              <a href="author.html#13615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29/11/2016 12:26 a.m., FredB wrote:
&gt;<i> Hello
</I>&gt;<i> 
</I>&gt;<i> I wonder if I can use NTLM auth without any integration in AD ?
</I>
No, proper NTLM requires a DC allocated token be presented by the
client. This token is unique per TCP connection attempt. There is no
username/password available to Squid in NTLM.

&gt;<i> Just interrogate the AD for user/password, I can do that ?
</I>
The SMB_LM helper performs a downgrade attack on the NTLM protocol and
decrypts the resulting username and password. Then logs into AD using
Basic auth.
 This requires that the client supports the extremely insecure LM auth.
Any sane client will not.

Alternatively, the 'fake' helper accepts any credentials the client
presents as long as they are correctly formatted in NTLM syntax.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013614.html">[squid-users] Squid 3.5.x and NTLM
</A></li>
	<LI>Next message (by thread): <A HREF="013618.html">[squid-users] Squid 3.5.x and NTLM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13615">[ date ]</a>
              <a href="thread.html#13615">[ thread ]</a>
              <a href="subject.html#13615">[ subject ]</a>
              <a href="author.html#13615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
