<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Hint for howto wanted ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Hint%20for%20howto%20wanted%20...&In-Reply-To=%3C583C7C26.7020601%40mathemainzel.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013620.html">
   <LINK REL="Next"  HREF="013624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Hint for howto wanted ...</H1>
    <B>Walter H.</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Hint%20for%20howto%20wanted%20...&In-Reply-To=%3C583C7C26.7020601%40mathemainzel.info%3E"
       TITLE="[squid-users] Hint for howto wanted ...">Walter.H at mathemainzel.info
       </A><BR>
    <I>Mon Nov 28 18:49:10 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013620.html">[squid-users] Hint for howto wanted ...
</A></li>
        <LI>Next message (by thread): <A HREF="013624.html">[squid-users] Hint for howto wanted ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13622">[ date ]</a>
              <a href="thread.html#13622">[ thread ]</a>
              <a href="subject.html#13622">[ subject ]</a>
              <a href="author.html#13622">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

On 28.11.2016 14:51, Eliezer Croitoru wrote:
&gt;<i> Now to me the picture is much clear technically.
</I>&gt;<i> As Amos suggested fix the first proxy(and I am adding choose how to approach) and then move on to the next ones.
</I>why fix the first proxy, I wouldn't need it, if ssl-bump plus parent 
proxy (the remote one) worked ...
&gt;<i> There are couple subjects in your one single question which are conflicting your desire(or at least how they are written).
</I>&gt;<i> If you want to Intercept ssl traffic of clients at the network 172.16.0.0/24(or what ever you have there..) specific clients such as that cannot use a proxy, you will need to either bump them(and splice if no bump required) on the router level of the network or route their traffic towards the right next-hop.
</I>both proxies, the first and the local parent are VMs on my PC ...
&gt;<i> Since you are already blocking clients with iptables you should get familiar if not yet,
</I>this is just a few iptables rules ...
&gt;<i>   with connection marking or Policy Based Routing.
</I>I don't know what you mean by that?
&gt;<i> What router are you using a CentOS also?
</I>this is a NAT router, nothing more ...
&gt;<i> If so it would be pretty simple to configure a routing policy which will be based on the source IP address of the connections.
</I>&gt;<i> Choose if you want to bump on the first proxy ie the 3.1.23 by upgrading to 3.5.X or route the traffic over a tunnel instead of just blocking the traffic.
</I>a tunnel between 2 VMs which share the same LAN interface?
&gt;<i> Depend on your router OS you will have different instructions on how to route the &quot;blocked&quot; clients into a proxy that will intercept the connections which needs to be inspected.
</I>this is neither needed nor wanted ..., the clients configure their proxy 
manually ... this is my home LAN not a company environment ...
&gt;<i> Where are you stuck in the implementation?
</I>how to have a parent proxy even when SSL-bump is done ...
&gt;<i> Can't you upgrade the 3.1.23(First proxy)?
</I>this is just another VM like the 3.5.20 (parent proxy)
&gt;<i> What is blocking you from routing the traffic toward to the second parent proxy from the first one or from the router?
</I>these two share the same LAN interface, these are VMware guests of my 
VMware host running Windows ...

Walter

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3827 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20161128/740764dd/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20161128/740764dd/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013620.html">[squid-users] Hint for howto wanted ...
</A></li>
	<LI>Next message (by thread): <A HREF="013624.html">[squid-users] Hint for howto wanted ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13622">[ date ]</a>
              <a href="thread.html#13622">[ thread ]</a>
              <a href="subject.html#13622">[ subject ]</a>
              <a href="author.html#13622">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
