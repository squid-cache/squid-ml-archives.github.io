<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Large text ACL lists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3Ccfc50320-7d98-41e4-0761-aab51d2ef1b1%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012812.html">
   <LINK REL="Next"  HREF="012814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Large text ACL lists</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3Ccfc50320-7d98-41e4-0761-aab51d2ef1b1%40treenet.co.nz%3E"
       TITLE="[squid-users] Large text ACL lists">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Oct  2 04:15:30 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012812.html">[squid-users] Large text ACL lists
</A></li>
        <LI>Next message (by thread): <A HREF="012814.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12813">[ date ]</a>
              <a href="thread.html#12813">[ thread ]</a>
              <a href="subject.html#12813">[ subject ]</a>
              <a href="author.html#12813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/10/2016 2:08 p.m., Benjamin E. Nichols wrote:
&gt;<i> I wouldnt advise reconfigure for when you update your blacklists, sure
</I>&gt;<i> it sounds great, but in reality, as I said, in my experience, only
</I>&gt;<i> sometimes will it actually reload the acl from disk, sometimes it wont. 
</I>&gt;<i> Youll do a reconfigure and discover your squid is still running the old
</I>&gt;<i> acls which presumably are memory resident, now this may have been a bug
</I>&gt;<i> thats been since fixed, but Im not messing with it.  In our testig
</I>&gt;<i> environment we dont have time to be dealing with squid deciding to load
</I>&gt;<i> an acl from disk when it feels like it should do so, we need it to load
</I>&gt;<i> from disk every time.
</I>&gt;<i> 
</I>&gt;<i> Once you do your own testing youll see what im talking about, go ahead
</I>&gt;<i> and add some urls to your acl and -k reconfigure, do this a few times,
</I>
So you are sening Squid a series of reload signals so fast it does not
have time to complete one before the next is arriving?

There are many fixes in Squid-4 and latest 3.5 for those situations. But
still some open bug reports about the behaviour there. Those are not
related to ACLs specifically. Any reconfig task that takes longer than
the time between -k reconfigure signals being sent will trigger issues.

... Ironically using a helper is one of the things which breaks. Squid
looses track of whether any given new helper being started was for the
current or previous -k reconfigure signal.

And of course connections and transactions which are already underway
are not affected by newly loaded config details.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012812.html">[squid-users] Large text ACL lists
</A></li>
	<LI>Next message (by thread): <A HREF="012814.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12813">[ date ]</a>
              <a href="thread.html#12813">[ thread ]</a>
              <a href="subject.html#12813">[ subject ]</a>
              <a href="author.html#12813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
