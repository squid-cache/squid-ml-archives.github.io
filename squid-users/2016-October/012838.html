<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] handshake problems with stare and bump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20handshake%20problems%20with%20stare%20and%20bump&In-Reply-To=%3Cbdf4861d-b620-c837-9a97-a89d35f9a162%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012909.html">
   <LINK REL="Next"  HREF="012836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] handshake problems with stare and bump</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20handshake%20problems%20with%20stare%20and%20bump&In-Reply-To=%3Cbdf4861d-b620-c837-9a97-a89d35f9a162%40measurement-factory.com%3E"
       TITLE="[squid-users] handshake problems with stare and bump">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Oct  3 19:12:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012909.html">[squid-users] handshake problems with stare and bump
</A></li>
        <LI>Next message (by thread): <A HREF="012836.html">[squid-users] Problem with Squid3 Caches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12838">[ date ]</a>
              <a href="thread.html#12838">[ thread ]</a>
              <a href="subject.html#12838">[ subject ]</a>
              <a href="author.html#12838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/03/2016 11:50 AM, Marc wrote:

&gt;<i> 2) Squid forwards the Client Hello, including ciphers the host running
</I>&gt;<i> squid doesn't support (in my case, the DES and RC4 ones). This could
</I>&gt;<i> also potentially lead to problems. Why doesn't squid filter them out
</I>&gt;<i> from the Client Hello sent from squid to the webserver?
</I>
If this is what happens, then it is a Squid bug. During step2, the
matching &quot;stare&quot; action instructs Squid to start establishing the secure
connection with the origin server with the intent to &quot;bump&quot; it. Unlike
peeking, Squid must not advertise what it does not support in this case
because, as you said, doing so may jeopardize future bumping. If Squid
v4 does the same thing, I recommend filing a bug report.


&gt;<i> 3) Nice to have: Is it possible for squid to report errors to the user
</I>&gt;<i> over HTTPS instead of HTTP ?
</I>
Squid is supposed to report bumping errors over HTTPS whenever it can
establish a secure connection with the client. Based on your email, I am
not sure whether Squid could establish a secure connection with the
client, but I suspect that your FD 12 &quot;ssl3_get_client_hello:no shared
cipher&quot; error indicates that Squid tried but failed to do so.

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012909.html">[squid-users] handshake problems with stare and bump
</A></li>
	<LI>Next message (by thread): <A HREF="012836.html">[squid-users] Problem with Squid3 Caches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12838">[ date ]</a>
              <a href="thread.html#12838">[ thread ]</a>
              <a href="subject.html#12838">[ subject ]</a>
              <a href="author.html#12838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
