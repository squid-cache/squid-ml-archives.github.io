<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Multiple auth schemes in a single Squid instance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Multiple%20auth%20schemes%20in%20a%20single%20Squid%20instance&In-Reply-To=%3CCAOoFbVc3ubyri8iO3_D%2BCHHc08wvOpnAG1MzPZasAdMmGwzY%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012943.html">
   <LINK REL="Next"  HREF="012897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Multiple auth schemes in a single Squid instance</H1>
    <B>john jacob</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Multiple%20auth%20schemes%20in%20a%20single%20Squid%20instance&In-Reply-To=%3CCAOoFbVc3ubyri8iO3_D%2BCHHc08wvOpnAG1MzPZasAdMmGwzY%2BQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Multiple auth schemes in a single Squid instance">john.kj1984 at gmail.com
       </A><BR>
    <I>Wed Oct  5 11:07:04 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012943.html">[squid-users] Whitelist domain ignored?
</A></li>
        <LI>Next message (by thread): <A HREF="012897.html">[squid-users] Multiple auth schemes in a single Squid instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12896">[ date ]</a>
              <a href="thread.html#12896">[ thread ]</a>
              <a href="subject.html#12896">[ subject ]</a>
              <a href="author.html#12896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

We have a requirement to use the same Squid instance for Basic and NTLM
authentication to serve various customer groups (may not be on different
network sections). The customer groups which are using Basic authentication
(for legacy reasons) should not receive NTLM scheme and the customer groups
which use NTLM should not receive Basic scheme. I couldn't find a way to
implement this using the existing Squid 4.x config options. So I am
thinking of introducing a new config parameter called &quot;endpoints&quot; like
below.

auth_param basic endpoints ipofBasic portofBasic # Default is &quot;endpoints
all&quot;

auth_param ntlm endpoints ipofNTLM portofNTLM # Default is &quot;endpoints all&quot;

acl ipofBasic  localip 192.168.4.2
acl portofBasic localport 3129 3139

acl ipofNTLM ipofNTLM  192.168.4.2
acl portofNTLMlocalport 3149 3159


The idea is ,if Squid recieves a request on an endpoint on which only basic
authentication is needed (ie 192.168.4.2:3129 and 192.168.4.2:3139), NTLM
will not be presented to the client/browser. Vice versa for NTLM. If no
endpoints is configured , then the existing behavior will be applied.

Do you think this is reasonable and is there are any obvious problems with
this?. If you find this useful, I am happy to contribute back when I finish
implementing this module (I haven't yet started developing).

Please let me know your thoughts.

Regards,
John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20161005/a1a002e2/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20161005/a1a002e2/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012943.html">[squid-users] Whitelist domain ignored?
</A></li>
	<LI>Next message (by thread): <A HREF="012897.html">[squid-users] Multiple auth schemes in a single Squid instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12896">[ date ]</a>
              <a href="thread.html#12896">[ thread ]</a>
              <a href="subject.html#12896">[ subject ]</a>
              <a href="author.html#12896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
