<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Caching http google deb files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20http%20google%20deb%20files&In-Reply-To=%3Cb2e37fb3-7454-cc97-c674-c92a5af3d401%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012949.html">
   <LINK REL="Next"  HREF="013123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Caching http google deb files</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20http%20google%20deb%20files&In-Reply-To=%3Cb2e37fb3-7454-cc97-c674-c92a5af3d401%40measurement-factory.com%3E"
       TITLE="[squid-users] Caching http google deb files">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Oct  7 14:46:37 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012949.html">[squid-users] Caching http google deb files
</A></li>
        <LI>Next message (by thread): <A HREF="013123.html">[squid-users] Caching http google deb files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12955">[ date ]</a>
              <a href="thread.html#12955">[ thread ]</a>
              <a href="subject.html#12955">[ subject ]</a>
              <a href="author.html#12955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/07/2016 03:26 AM, Hardik Dangar wrote:
&gt;<i> 2) I want to build a module which will first handle Vary: * requests and
</I>&gt;<i> convert it into Vary: Accept-Encoding or something similar but only for
</I>&gt;<i> the ACL's specified by cache administrator.
</I>
If you want to convert/change the Vary response header, you can:

* write an ICAP RESPMOD service
* write an eCAP RESPMOD adapter
* add reply_header_replace code similar to request_header_replace code
  or, better, revamp related directives to make header replacing easier.

See <A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A>

As I tried to indicate earlier, a better solution would be not to
replace the Vary header (because that affects everybody receiving it
after Squid) but to make Vary interpretation configurable while still
forwarding the original Vary header. That requires more development.


If you want to minimize [C++] development, you could use c-icap or a
even a temporary ICAP server script and, instead of replacing Vary, add
an X-Squid-Vary header with the right value. After that, you can modify
Squid to honor X-Squid-Vary (instead of Vary) if it is present. Look for
ACCELERATOR_VARY for similar (but different?) code. Such code may not be
officially accepted, but it can work as a proof of concept.


&gt;<i> Basically, I need to know how to debug line by line source for squid.
</I>&gt;<i> Right now my method of testing involves building squid and adding debug
</I>&gt;<i> lines and its very slow process as it takes time every time. Can you
</I>&gt;<i> help me with this ? is there a way i could send a request directly to
</I>&gt;<i> squid source file i.e debug source code line by line ? If so what are
</I>&gt;<i> the tools required and how to set it up ?
</I>&gt;<i> 
</I>&gt;<i> Again, I am sorry if i am asking too much but my C experience is very
</I>&gt;<i> limited and i feel like i am asking very naive questions but these are
</I>&gt;<i> very difficult for me at this stage and i really appreciate all of the
</I>&gt;<i> squid dev teams who is been answering all of my questions.
</I>
Sorry, I personally cannot help you with that endeavor right now. This
may sound harsh, but seeing many folks with a lot more C++ skills fail
before you, I have to recommend staying away from non-trivial code
changes given your current skill level. It is possible to learn [C++ and
proxy] development on-the-fly, but Squid is just the wrong product for
doing that IMHO.


Good luck,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012949.html">[squid-users] Caching http google deb files
</A></li>
	<LI>Next message (by thread): <A HREF="013123.html">[squid-users] Caching http google deb files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12955">[ date ]</a>
              <a href="thread.html#12955">[ thread ]</a>
              <a href="subject.html#12955">[ subject ]</a>
              <a href="author.html#12955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
