<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [squid-announce] Squid 3.5.22 is available
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%203.5.22%20is%20available&In-Reply-To=%3Caa6d97d2-2174-12e9-b7e3-e50392bc4d7a%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013011.html">
   <LINK REL="Next"  HREF="013013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [squid-announce] Squid 3.5.22 is available</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%203.5.22%20is%20available&In-Reply-To=%3Caa6d97d2-2174-12e9-b7e3-e50392bc4d7a%40treenet.co.nz%3E"
       TITLE="[squid-users] [squid-announce] Squid 3.5.22 is available">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Oct 12 14:42:29 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013011.html">[squid-users] [squid-announce] Squid 4.0.15 beta is available
</A></li>
        <LI>Next message (by thread): <A HREF="013013.html">[squid-users] Getting latest 3.5 version into Debian
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13012">[ date ]</a>
              <a href="thread.html#13012">[ thread ]</a>
              <a href="subject.html#13012">[ subject ]</a>
              <a href="author.html#13012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The Squid HTTP Proxy team is very pleased to announce the availability
of the Squid-3.5.22 release!


This release is a bug fix release resolving several issues found in the
prior Squid releases.


The major changes to be aware of:

* Bug #4471: revalidation doesn't work when expired cached object lacks
  Last-Modified header.

Historically Squid used only Last-Modified header value for evaluating
entry's last modification time while making an internal revalidation
requests. So, without Last-Modified it was not possible to correctly
fill the If-Modified-Since header value. Which would result in many
unnecessary MISS. This release now uses Date header to synthesize a
Last-Modified value if none is provided.

IMPORTANT:
This change affects a binary difference in all cache objects stored.
 * When upgrading, older cache content is handled automatically.
 * When downgrading for any reason to an older version the cache will
need to be erased and rebuilt from empty to remove those new objects.


* Bug #4228: ./configure bug/typo

This bug caused Squid ./configure script to incorrectly fail to detect
missing but required Heimdal and GNU GSS Kerberos libraries. Squid would
build as if it were successful, then not provide the expected Kerberos
support and helpers.


* Bug #3819: &quot;fd &gt;= 0&quot; assertion in file_write() during reconfiguration

This bug shows up as UFS code hitting assertions if it has to log
entries or rebuild swap.state during reconfiguration steps.

Asynchronous UFS cache_dirs such as diskd were the most exposed, but
even blocking UFS caching code could probably hit [rebuild] assertions.
The swap.state rebuilding (always initiated at startup) probably did not
work as intended if reconfiguration happened during the rebuild time
because reconfiguration closed the swap.state file being rebuilt.

Squid now protects that swap.state file and delays rebuilding progress
until reconfiguration is over. There may be other related issues still
present.


* Bug #2833: Collapse internal revalidation requests
  (SMP-unaware caches)

This feature extends Collapsed Forwarding to internal revalidation
requests. This implementation does not support Vary-controlled cache
objects and is limited to SMP-unaware caching environments, where each
Squid worker knows nothing about requests and caches handled by other
workers.

Prior to these changes, multiple concurrent HTTP requests for the same
stale cached object always resulted in multiple internal revalidation
requests sent by Squid to the origin server. Those internal requests
were likely to result in multiple competing Squid cache updates, causing
cache misses and/or more internal revalidation requests, negating
collapsed forwarding savings.


* Bug #4302 pt2: IPFilter v5 transparent interception

This bug showed up as NAT lookup failures or strange IP values being
returned when IPv6 traffic was intercepted using IPFilter.


* Fix logged request size (%http::&gt;st) and other size-related %codes.

Squid was previously logging how many bytes it expected the size of HTTP
responses to be. Not the actual transferred sizes. On large aborted
objects it may be wildly wrong.
Also, the %http:: codes used in ICAP logs are related to the HTTP
message being delivered over ICAP, not the ICAP message.



 All users of Squid-3 are encouraged to upgrade to this release as
soon as possible.


 See the ChangeLog for the full list of changes in this and earlier
 releases.

Please refer to the release notes at
<A HREF="http://www.squid-cache.org/Versions/v3/3.5/RELEASENOTES.html">http://www.squid-cache.org/Versions/v3/3.5/RELEASENOTES.html</A>
when you are ready to make the switch to Squid-3.5

Upgrade tip:
  &quot;squid -k parse&quot; is starting to display even more
   useful hints about squid.conf changes.

This new release can be downloaded from our HTTP or FTP servers

 <A HREF="http://www.squid-cache.org/Versions/v3/3.5/">http://www.squid-cache.org/Versions/v3/3.5/</A>
 <A HREF="ftp://ftp.squid-cache.org/pub/squid/">ftp://ftp.squid-cache.org/pub/squid/</A>
 <A HREF="ftp://ftp.squid-cache.org/pub/archive/3.5/">ftp://ftp.squid-cache.org/pub/archive/3.5/</A>

or the mirrors. For a list of mirror sites see

 <A HREF="http://www.squid-cache.org/Download/http-mirrors.html">http://www.squid-cache.org/Download/http-mirrors.html</A>
 <A HREF="http://www.squid-cache.org/Download/mirrors.html">http://www.squid-cache.org/Download/mirrors.html</A>

If you encounter any issues with this release please file a bug report.
<A HREF="http://bugs.squid-cache.org/">http://bugs.squid-cache.org/</A>


Amos Jeffries

_______________________________________________
squid-announce mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-announce at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-announce">http://lists.squid-cache.org/listinfo/squid-announce</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013011.html">[squid-users] [squid-announce] Squid 4.0.15 beta is available
</A></li>
	<LI>Next message (by thread): <A HREF="013013.html">[squid-users] Getting latest 3.5 version into Debian
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13012">[ date ]</a>
              <a href="thread.html#13012">[ thread ]</a>
              <a href="subject.html#13012">[ subject ]</a>
              <a href="author.html#13012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
