<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] FYI - primitive hit-rate results w/sslbump vs. not
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FYI%20-%20primitive%20hit-rate%20results%20w/sslbump%20vs.%20not&In-Reply-To=%3C580599E7.1080102%40tlinx.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013075.html">
   <LINK REL="Next"  HREF="013081.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] FYI - primitive hit-rate results w/sslbump vs. not</H1>
    <B>L. A. Walsh</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FYI%20-%20primitive%20hit-rate%20results%20w/sslbump%20vs.%20not&In-Reply-To=%3C580599E7.1080102%40tlinx.org%3E"
       TITLE="[squid-users] FYI - primitive hit-rate results w/sslbump vs. not">squid-user at tlinx.org
       </A><BR>
    <I>Tue Oct 18 03:41:27 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013075.html">[squid-users] Squid 3.5 conf
</A></li>
        <LI>Next message (by thread): <A HREF="013081.html">[squid-users] CentOS 6.x and SELinux enforcing with Squid 3.5.x (thanks to Eliezer Croitoru for the RPM)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13076">[ date ]</a>
              <a href="thread.html#13076">[ thread ]</a>
              <a href="subject.html#13076">[ subject ]</a>
              <a href="author.html#13076">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Just as an FYI, I did a test today of squid's efficacy with
the ssl-bumping feature.  This is a preliminary result with
little or no review of the logs -- just going by access log
entries. 

I was interested because I've been running squid @ home for over
10 years to try to squeeze speed out of a home connection using
a largish-cache (at least for 1-2 users) of around 80G used
on a dedicated, 128G partition.

Over the years, I've gotten a vague feeling for what to expect and
have generally gotten around a 15-30% cache hit ratio. 

This dropped as google pushed https.  I noticed the web slowing
as my local cache hit-rate dropped and encryption overhead increased
request latency.

This was somewhat unscientific, but not so much in that it
does reflect a part of my traffic. 
I opened a bunch of (30+) news articles from news.google.com w/
my new ssl-bumping enabled and decided I wanted to get an idea of
cache-hit differences.  So changed proxy to go through a
non-bumping port and used the browser's saved-session
to quit the browser and restart all the tabs -- twice --
once for the https test, and a 2nd time for a repeat test.

Results:

Intial opening of the sites w/ssl bump got   730/3365   hits/requests.

The reload in solid https-CONNECT streams showed   40/1588 hits/requests.

And the 2nd reload of the same sites got    1268/2263 hits/requests. 

In percentages:

cold-view w/SSL-bump: 22% hit
no SSL-bump:           3% hit
repeat w/SSL-bump:    56% hit


Simply inter/intra-site redundancy resulted in 22% cache-hit
ratio, with a &quot;semi-real&quot; case of bringing up the same content
a second time, gave a 56% hit rate.

I'll have to see if how hard it is to get byte counts out of my
logs to get more detail, but since many of these request are small
there is a large delay caused / request.

FWIW, using a FF-clone (64-bit Palemoon) with no local disk cache
(it does have a memory cache, but that would have been cleared
between runs when I restarted the browser).

Initial results look good for using squid to subvert google's
campaign to keep your webtraffic content hidden, but mostly
from &quot;you&quot;.














</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013075.html">[squid-users] Squid 3.5 conf
</A></li>
	<LI>Next message (by thread): <A HREF="013081.html">[squid-users] CentOS 6.x and SELinux enforcing with Squid 3.5.x (thanks to Eliezer Croitoru for the RPM)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13076">[ date ]</a>
              <a href="thread.html#13076">[ thread ]</a>
              <a href="subject.html#13076">[ subject ]</a>
              <a href="author.html#13076">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
