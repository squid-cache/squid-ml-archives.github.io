<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file or directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20DiskThreadsDiskFile%3A%3AopenDone%3A%20%282%29%20No%20such%0A%20file%20or%20directory&In-Reply-To=%3Cc6b34fe3-57b6-b5b5-9a5b-9247e984bf2d%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013104.html">
   <LINK REL="Next"  HREF="013099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file or directory</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20DiskThreadsDiskFile%3A%3AopenDone%3A%20%282%29%20No%20such%0A%20file%20or%20directory&In-Reply-To=%3Cc6b34fe3-57b6-b5b5-9a5b-9247e984bf2d%40treenet.co.nz%3E"
       TITLE="[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file or directory">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Oct 19 13:56:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013104.html">[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file	or directory
</A></li>
        <LI>Next message (by thread): <A HREF="013099.html">[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13106">[ date ]</a>
              <a href="thread.html#13106">[ thread ]</a>
              <a href="subject.html#13106">[ subject ]</a>
              <a href="author.html#13106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/10/2016 1:59 a.m., erdosain9 wrote:
&gt;<i> Hi.
</I>&gt;<i> I try this
</I>&gt;<i> <A HREF="http://www.linuxtopic.com/2016/03/clear-squid-cache-and-re-create-cache.html">http://www.linuxtopic.com/2016/03/clear-squid-cache-and-re-create-cache.html</A>
</I>&gt;<i> 
</I>&gt;<i> but still the same...
</I>&gt;<i> 
</I>
Squid auto-corrects the cache data contents. The message you are seeing
is what gets logged during the correction process. You do not have to do
anything to &quot;fix&quot; the cache data, Squid has already done so when it
logged that message.

Clearing the cache does not fix anything - simply quietens the logs,
since you have erased all the broken objects along with the good ones.

The messages *will* occur again whenever the actual problem is
encountered next. Until you find out what that is and fix it the log
entries will just keep coming back.

&lt;snip&gt;
&gt;<i> 
</I>&gt;<i> Is there some problem????
</I>
Not in the config file. These errors occur in the following situations:

1) multiple Squid running accessing the same cache_dir path and
overwriting each others data.
 - can also be SMP workers sharing a UFS, AUFS or diskd cache_dir.

2) A Squid crash happening while some files are waiting to be written,
but after the swap.state journal has been updated to mention their
existence.

3) HDD or SSD disk corruption. Squid pushes disks very hard, and they do
die eventually. Usually much faster than manufacturer specs indicate.
Thats not a manufacturer issue, just a symptom of how hard Squid pushes
the disks.

4) some non-Squid script or software playing around with the Squid cache
directory contents. (see #1)


&gt;<i> how config diskd???
</I>
Replace &quot;aufs&quot; with &quot;diskd&quot; in your cache_dir line(s).
Then reconfigure Squid.


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013104.html">[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file	or directory
</A></li>
	<LI>Next message (by thread): <A HREF="013099.html">[squid-users] Error DiskThreadsDiskFile::openDone: (2) No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13106">[ date ]</a>
              <a href="thread.html#13106">[ thread ]</a>
              <a href="subject.html#13106">[ subject ]</a>
              <a href="author.html#13106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
