<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] possible to intercept https traffic in TCP_TUNNEL	CONNECT method ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20possible%20to%20intercept%20https%20traffic%20in%20TCP_TUNNEL%0A%09CONNECT%20method%20%3F&In-Reply-To=%3C201610221554.27436.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013139.html">
   <LINK REL="Next"  HREF="013145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] possible to intercept https traffic in TCP_TUNNEL	CONNECT method ?</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20possible%20to%20intercept%20https%20traffic%20in%20TCP_TUNNEL%0A%09CONNECT%20method%20%3F&In-Reply-To=%3C201610221554.27436.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] possible to intercept https traffic in TCP_TUNNEL	CONNECT method ?">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Sat Oct 22 13:54:27 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013139.html">[squid-users] possible to intercept https traffic in TCP_TUNNEL	CONNECT method ?
</A></li>
        <LI>Next message (by thread): <A HREF="013145.html">[squid-users] Slowness in Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13142">[ date ]</a>
              <a href="thread.html#13142">[ thread ]</a>
              <a href="subject.html#13142">[ subject ]</a>
              <a href="author.html#13142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 22 October 2016 at 15:42:23, --Ahmad-- wrote:

&gt;<i> Hi guys
</I>&gt;<i> say that i have squid proxy sever
</I>&gt;<i> and i was running  capturing traffic on that server .
</I>
You mean using ICAP or ECAP service?

&gt;<i> say that all users were using ip:port &#8212;&gt; ((tcp_connect  tunnel))) mode of
</I>&gt;<i> squid
</I>
I'm not sure what you mean here - are you saying the clients are configured to 
use the proxy, or that the proxy is operating in intercept mode, and the 
clients don't know?

&gt;<i> the question is being asked here &#8230; will i be able to see https traffic like
</I>&gt;<i> Facebook  as normal traffic ? or encrypted ?
</I>
You can always see the encrypted traffic - you don't need Squid for that - just 
run tcpdump, wireshark or similar on a router between your clients and the 
Internet.  Encrypted traffic isn't going to tell you much, though.

&gt;<i> the question in other way  &#8230;. is it possible to hack https traffic and see
</I>&gt;<i> it as not encrypted ?
</I>
Yes - you perform a Man-in-the-Middle attack, which requires configuring the 
clients to accept fake certificates from Squid by trusting its built-in 
Certificate Authority.  In other words, you cannot do it without clients 
knowing that the certificate presented by Squid does not belong to the site 
they're visiting.

Also, all technical possibilities aside, it may well be illegal for you to do 
this, depending on where you are and who your users are.

See <A HREF="http://wiki.squid-cache.org/Features/SslPeekAndSplice">http://wiki.squid-cache.org/Features/SslPeekAndSplice</A> and 
<A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A> for more details.


Antony.

-- 
&quot;Life is just a lot better if you feel you're having 10 [small] wins a day 
rather than a [big] win every 10 years or so.&quot;

 - Chris Hadfield, former skiing (and ski racing) instructor

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013139.html">[squid-users] possible to intercept https traffic in TCP_TUNNEL	CONNECT method ?
</A></li>
	<LI>Next message (by thread): <A HREF="013145.html">[squid-users] Slowness in Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13142">[ date ]</a>
              <a href="thread.html#13142">[ thread ]</a>
              <a href="subject.html#13142">[ subject ]</a>
              <a href="author.html#13142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
