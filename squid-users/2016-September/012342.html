<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] proxy authorization header remover from 3.5.x	squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20proxy%20authorization%20header%20remover%20from%203.5.x%0A%09squid&In-Reply-To=%3Cc15f7d2f-1a21-d09e-7fae-599ad77d5742%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012336.html">
   <LINK REL="Next"  HREF="012555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] proxy authorization header remover from 3.5.x	squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20proxy%20authorization%20header%20remover%20from%203.5.x%0A%09squid&In-Reply-To=%3Cc15f7d2f-1a21-d09e-7fae-599ad77d5742%40treenet.co.nz%3E"
       TITLE="[squid-users] proxy authorization header remover from 3.5.x	squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Sep  4 15:41:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012336.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
        <LI>Next message (by thread): <A HREF="012555.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12342">[ date ]</a>
              <a href="thread.html#12342">[ thread ]</a>
              <a href="subject.html#12342">[ subject ]</a>
              <a href="author.html#12342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/09/2016 3:31 a.m., Ahmed Alzaeem wrote:
&gt;<i> hi amos I&#8217;m curious to have my proxies not being detected from others .
</I>&gt;<i> 
</I>
Then you choose to make your clients and network internal structore
entirely visible to the upstream servers.

You can hide your network structure and clients, or you can hide the
proxy. Not both.


&gt;<i> thats all .
</I>&gt;<i> 
</I>&gt;<i> i already tried the header access directive 
</I>&gt;<i> request_header_access Proxy-Connection deny  all
</I>&gt;<i> request_header_access Proxy-Authorization deny all
</I>&gt;<i> request_header_access Proxy-Authenticate deny  all
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> but i still see the header 
</I>&gt;<i> 
</I>
Er. Those are hop-by-hop headers.

* Proxy-Connection is an experimental header that has not had any
meaningful use since Netscape Navigator 4.x died out.

* Squid removes the Auth related headers on upstream connections unless
you configure Squid to authenticate against the upstream server or proxy
the message is going to. see RFC 7235 for details on that.

* requests on the client-&gt;Squid connection are not under your control.
They are generated by the client.


Also, you said &quot;my proxy which has usr/pwd using basic_ncsa auth&quot;.
That means you have proxy authentication configured to happen. A forward
proxy can only do HTTP authentication with the use of Proxy-Auth* headers.

Amos


&gt;<i> 
</I>&gt;<i> thank you 
</I>&gt;<i> 
</I>&gt;&gt;<i> On Sep 3, 2016, at 4:53 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 3/09/2016 9:18 p.m., --Ahmad-- wrote:
</I>&gt;&gt;&gt;<i> hi squid users ,
</I>&gt;&gt;&gt;<i> I&#8217;m looking for the directive that will remove 
</I>&gt;&gt;&gt;<i> proxy authorization header 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> when i analyze my proxy which has usr/pwd using basic_ncsa auth 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> it still show that header 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> not sure  the directive to remove that header .
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't understand why authentication happening would be a problem after
</I>&gt;&gt;<i> you configured it to happen.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you describe the problem in a bit more detail please?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012336.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
	<LI>Next message (by thread): <A HREF="012555.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12342">[ date ]</a>
              <a href="thread.html#12342">[ thread ]</a>
              <a href="subject.html#12342">[ subject ]</a>
              <a href="author.html#12342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
