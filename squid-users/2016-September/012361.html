<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] range_offset_limit not working as expected
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20range_offset_limit%20not%20working%20as%20expected&In-Reply-To=%3C1444ed08-fc1b-d7b9-f54d-39a94d727346%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012358.html">
   <LINK REL="Next"  HREF="012357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] range_offset_limit not working as expected</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20range_offset_limit%20not%20working%20as%20expected&In-Reply-To=%3C1444ed08-fc1b-d7b9-f54d-39a94d727346%40treenet.co.nz%3E"
       TITLE="[squid-users] range_offset_limit not working as expected">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Sep  6 11:25:02 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012358.html">[squid-users] range_offset_limit not working as expected
</A></li>
        <LI>Next message (by thread): <A HREF="012357.html">[squid-users] TCP_RESET non http requests on port 80
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12361">[ date ]</a>
              <a href="thread.html#12361">[ thread ]</a>
              <a href="subject.html#12361">[ subject ]</a>
              <a href="author.html#12361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/09/2016 9:14 p.m., Omid Kosari wrote:
&gt;<i> It is tproxy cache . Is there a way to force caching them .
</I>
No, and trying to do so is a VERY bad idea. I cannot stress enough how
bad it is.  Allowing remote attackers to completely (and invisibly)
bypass almost all other security measures you might have in your
network, just for starters.

I fully realise that not being able to cache a fairly large chunk of CDN
hosted traffic is extremely annoying and also can be costly. But the
risks of this particular vulnerability outweight that price tag.


&gt;<i> current configs:
</I>&gt;<i> host_verify_strict off
</I>&gt;<i> client_dst_passthru on
</I>&gt;<i> 
</I>&gt;<i> dns_nameservers x.y.160.172
</I>&gt;<i> dns_nameservers 217.218.155.155
</I>&gt;<i> dns_nameservers 217.218.127.127
</I>&gt;<i> dns_nameservers 8.8.8.8
</I>&gt;<i> dns_nameservers 8.8.4.4
</I>&gt;<i> dns_nameservers 208.67.222.222
</I>&gt;<i> dns_nameservers 208.67.220.220
</I>&gt;<i> dns_nameservers 208.67.222.220
</I>&gt;<i> dns_nameservers 208.67.220.222
</I>&gt;<i> 
</I>&gt;<i> The first dns server is our caching dns server and its parents dns servers
</I>&gt;<i> are the others which appears in this config . Users dns traffic intercepted
</I>&gt;<i> to x.y.160.172 .
</I>&gt;<i> 
</I>&gt;<i> So the problem seems the cdn dns round-robin . Is there a way to solve that
</I>&gt;<i> ?
</I>
Use only that first DNS server in your squid.conf. Using it as an
aggregation point reduces the impact, but only if it is also the sole
point of resolving for Squid.
 NP: this is not a fix, just a workaround to reduce impact until Squid
DNS system can be updated to do things better.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012358.html">[squid-users] range_offset_limit not working as expected
</A></li>
	<LI>Next message (by thread): <A HREF="012357.html">[squid-users] TCP_RESET non http requests on port 80
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12361">[ date ]</a>
              <a href="thread.html#12361">[ thread ]</a>
              <a href="subject.html#12361">[ subject ]</a>
              <a href="author.html#12361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
