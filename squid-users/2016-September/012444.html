<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TProxy and client_dst_passthru
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TProxy%20and%20client_dst_passthru&In-Reply-To=%3C0906265c-186d-f6f4-a51c-3a5f56a6ef96%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012443.html">
   <LINK REL="Next"  HREF="012469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TProxy and client_dst_passthru</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TProxy%20and%20client_dst_passthru&In-Reply-To=%3C0906265c-186d-f6f4-a51c-3a5f56a6ef96%40measurement-factory.com%3E"
       TITLE="[squid-users] TProxy and client_dst_passthru">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun Sep 11 18:18:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012443.html">[squid-users] TProxy and client_dst_passthru
</A></li>
        <LI>Next message (by thread): <A HREF="012469.html">[squid-users] TProxy and client_dst_passthru
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12444">[ date ]</a>
              <a href="thread.html#12444">[ thread ]</a>
              <a href="subject.html#12444">[ subject ]</a>
              <a href="author.html#12444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/11/2016 10:23 AM, Amos Jeffries wrote:
&gt;<i> The only visible problem is why that 2% exists.
</I>&gt;<i> 
</I>&gt;<i> ==&gt; ORIGINAL_DST is should *only* ever be used on MISS or
</I>&gt;<i> REFRESH/revalidate traffic. Never on a HIT. Thus zero (0%) hit-ratio is
</I>&gt;<i> the expected behaviour.
</I>

It is possible that a terminology clash affects Squid code and Squid
output interpretation. There are two popular approaches:

A. &quot;Hit&quot; means &quot;served from the cache&quot; or, more precisely, &quot;the response
is based on the cache entry present in the cache at the time of request
interpretation&quot;. &quot;Pure hits&quot; (or similar) are served without an attempt
to contact the origin server. &quot;Revalidation hits&quot; (or similar) are
served after an attempt to check the cached entry freshness with the
origin server (that did not result in replacing or removing the
previously cached entry).

B. &quot;Hit&quot; means served without an attempt to contact the origin server.
Revalidation transactions are not hits (by definition).

The above definitions are not precise and do not cover all use cases,
but that is not important for highlighting the key difference between them.


Many people, including Amos in his email quoted above AFAICT, are using
approach &quot;B&quot;. Many people, including myself, are using approach &quot;A&quot;.
Squid code, output, and documentation mix the two approaches,
unfortunately. Be careful when you interpret what you see.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012443.html">[squid-users] TProxy and client_dst_passthru
</A></li>
	<LI>Next message (by thread): <A HREF="012469.html">[squid-users] TProxy and client_dst_passthru
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12444">[ date ]</a>
              <a href="thread.html#12444">[ thread ]</a>
              <a href="subject.html#12444">[ subject ]</a>
              <a href="author.html#12444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
