<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Web Whatsapp, Dropbox... problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Web%20Whatsapp%2C%20Dropbox...%20problem&In-Reply-To=%3C93b46cb9-a128-4adf-cef7-60da0e25265c%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012455.html">
   <LINK REL="Next"  HREF="012457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Web Whatsapp, Dropbox... problem</H1>
    <B>Yuri Voinov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Web%20Whatsapp%2C%20Dropbox...%20problem&In-Reply-To=%3C93b46cb9-a128-4adf-cef7-60da0e25265c%40gmail.com%3E"
       TITLE="[squid-users] Web Whatsapp, Dropbox... problem">yvoinov at gmail.com
       </A><BR>
    <I>Mon Sep 12 15:45:35 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012455.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
        <LI>Next message (by thread): <A HREF="012457.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12456">[ date ]</a>
              <a href="thread.html#12456">[ thread ]</a>
              <a href="subject.html#12456">[ subject ]</a>
              <a href="author.html#12456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
 
Both of you are caught in the access control list, completely lost sight
of that op basically wrote the wrong general rules for bump, skipped
step1 - SslBump1.

Which can be splice by server name without peek performing? Yes?

That is why he did not work. All the rest is not fundamental cosmetics
and can be written and debugged later.

12.09.2016 21:40, Marcus Kool &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 09/12/2016 12:15 PM, Chico Venancio wrote:
</I>&gt;&gt;<i> I'd think a regex consumes a lot more resources than server name, but
</I>don't know if it is significant.
&gt;&gt;<i> Anyway, without more details we can't be sure the server name not
</I>matching is the problem.
&gt;&gt;<i>
</I>&gt;&gt;<i> We need access logs and client(browser) details.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> By the way, acl excludeSSL ssl::server_name web.whatsapp.com
</I>&lt;<A HREF="http://web.whatsapp.com">http://web.whatsapp.com</A>&gt;
&gt;&gt;<i> Would not work, whatsapp uses some subdomains that also should not be
</I>bumped.
&gt;<i>
</I>&gt;<i> squid.conf.documented seems to imply that you can add a dot to match
</I>the subdomains also, just like with dstdomain :
&gt;<i>    acl excludeSSL ssl::server_name .web.whatsapp.com
</I>&gt;<i>
</I>&gt;<i> Be careful with the regex, it matches also web.whatsapp.com-24.site:
</I>it needs a $
&gt;<i>
</I>&gt;<i> Marcus
</I>&gt;<i>
</I>&gt;&gt;<i> Chico Venancio
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Em 12/09/2016 11:42, &quot;Yuri Voinov&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">yvoinov at gmail.com</A>
</I>&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">yvoinov at gmail.com</A>&gt;&gt; escreveu:
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Because ssl :: server_name_regex works reliably. As shown by my personal
</I>&gt;<i> practice. But in general it is by op's choice.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 12.09.2016 20:38, Marcus Kool &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; On 09/12/2016 11:14 AM, Yuri Voinov wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> &gt;&gt; Hash: SHA256
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Oooops,
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; acl must be:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; acl excludeSSL ssl::server_name_regex web\.whatsapp\.com
</I>&gt;<i>
</I>&gt;<i> &gt; why a regex?
</I>&gt;<i> &gt; why not the following ?
</I>&gt;<i> &gt;    acl excludeSSL ssl::server_name web.whatsapp.com
</I>&lt;<A HREF="http://web.whatsapp.com">http://web.whatsapp.com</A>&gt;
&gt;<i>
</I>&gt;<i> &gt; Marcus
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>&gt;
&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     _______________________________________________
</I>&gt;&gt;<i>     squid-users mailing list
</I>&gt;&gt;<i>     <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
&gt;&gt;<i>     <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&lt;<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>&gt;
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
 
iQEcBAEBCAAGBQJX1s2fAAoJENNXIZxhPexGRXoH/2TnA1g+DuwwXsg5qugSngC/
3mcMtqtSZ8szaESp0ofCuGvB7f3pYU3pOpm6OAumyDDIO9bVmHX7QLDK4hkNWaUo
f8BICxg/zqDbIxLOJyMRo9kCyT3CT1hUd7F/EtvAAcAUk68blAKupksYZ5gDSeN6
gY13RLeWoNgsaIZL+LgztRf8bKGepIK9vGFyIPvKXxYP0dey4/zndyjQbRf1ggtV
E8K/0xU6zaflcggKFPjBHWpekATRoza09/+BT8T/THndf1CBybmAo7wOGi1oG6nu
1qw3H2X32DyDjIOQ+YV6NVjSDb0jPaj/taanT3W5F1/VNhFshyw/IjIPLeoYw9k=
=TMa5
-----END PGP SIGNATURE-----

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160912/eb11414c/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160912/eb11414c/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x613DEC46.asc
Type: application/pgp-keys
Size: 2437 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160912/eb11414c/attachment.key">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160912/eb11414c/attachment.key</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012455.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
	<LI>Next message (by thread): <A HREF="012457.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12456">[ date ]</a>
              <a href="thread.html#12456">[ thread ]</a>
              <a href="subject.html#12456">[ subject ]</a>
              <a href="author.html#12456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
