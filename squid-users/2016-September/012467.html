<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSO (ldap kerberos)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSO%20%28ldap%20kerberos%29&In-Reply-To=%3C6bbebad5-7712-9b39-2510-8fcb7ece641b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012462.html">
   <LINK REL="Next"  HREF="012476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSO (ldap kerberos)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSO%20%28ldap%20kerberos%29&In-Reply-To=%3C6bbebad5-7712-9b39-2510-8fcb7ece641b%40treenet.co.nz%3E"
       TITLE="[squid-users] SSO (ldap kerberos)">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Sep 13 03:54:52 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012462.html">[squid-users] SSO (ldap kerberos)
</A></li>
        <LI>Next message (by thread): <A HREF="012476.html">[squid-users] SSO (ldap kerberos)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12467">[ date ]</a>
              <a href="thread.html#12467">[ thread ]</a>
              <a href="subject.html#12467">[ subject ]</a>
              <a href="author.html#12467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/09/2016 5:40 a.m., erdosain9 wrote:
&gt;<i> HI.
</I>&gt;<i> I want Single Sing on...
</I>
&quot;Single Sign-On&quot; is the emergent behaviour of multiple pieces of
software all sharing a single password manager - either to locate user
credentials or to perform the authentication on the software behalf.

The type(s) of authentication that can be peformed is limited only by
your chosen password managers abilities:

* ActiveDirectory only does SSO with NTLM or Negotiate/Kerberos credentials.

* Browser password managers allow any HTTP authentication type (and some
others) to be used.

* operating system &quot;wallets&quot; differ by system. Usually restricting to
TLS certificate authentication, though some allow Kerberos or Basic
credentials to be stored as well.


&gt;<i> i want can take groups to assing acl and control
</I>&gt;<i> bandwith, etc.
</I>
What clients can do with your proxy is unrelated to whether they perform
SSO or not.

&gt;<i> I need ldap???
</I>
&quot;need&quot; no. Squid provides helpers for LDAP or WinBind group lookup.
Worst case you could write your own (or have someone write it for you)
for other types of lookup.


&gt;<i> i know i need kerberos to sso...
</I>
No you don't. see above.

&gt;<i> but is necessary ldap for
</I>&gt;<i> take groups??? or with kerberos i can &quot;take&quot; groups??
</I>&gt;<i> 
</I>
What do you mean by &quot;take&quot; ?

In english 'take' is a word meaning movement of something from A to B -
where the things existence in A ceases to exist during the process. (B
takes from A).

Looking at what group an user belongs to does not change that group or
their user name. So it cannot be &quot;taken&quot;.


&gt;<i> by the way, 
</I>&gt;<i> i probe this
</I>&gt;<i> 
</I>&gt;<i> basic_ldap_auth -R -b &quot;cn=Users,dc=example,dc=lan&quot; -D
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-probe at example.lan</A> -w 123456  -f sAMAccountName=%s -v 3 -s sub -h
</I>&gt;<i> 192.168.1.102
</I>&gt;<i> 
</I>&gt;<i> basic_ldap_auth: WARNING, could not bind to binddn 'Strong(er)
</I>&gt;<i> authentication required'
</I>&gt;<i> 
</I>&gt;<i> Why this???
</I>
There are two logins:

1) the user login to the proxy. Used to send an HTTP message through the
proxy.

2) the helper login to AD. Used to verify if the login (1) credentials
are valid.

Your AD requires a different (stronger / more secure) login of type (2)
be used by the helper.

Check the AD settings you have for user &quot;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-probe at example.lan</A>&quot; with
password &quot;123456&quot;. That is the account this Squid helper is using to
access AD.


FWIW, the helper can use TLS connections to AD when the -Z option is
configured. Your AD may be wanting that.


&gt;<i> but anyway, i need ldap for take groups???
</I>&gt;<i> 
</I>
Many types of group lookup exist;

For Squid running on Windows natively:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_ad_group_acl">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_ad_group_acl</A>&gt;

For Squid receiving Kerberos or NTLM credentials and checking via LDAP:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_kerberos_ldap_group_acl.html">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_kerberos_ldap_group_acl.html</A>&gt;

For Squid receiving Basic credentials and checking via LDAP:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_ldap_group_acl.html">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_ldap_group_acl.html</A>&gt;

For Squid receiving LanManager credentials to check against a Windows
NT/2000 domain controller:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_lm_group_acl.html">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_lm_group_acl.html</A>&gt;

For Squid receiving credentials to check against Unix group membership:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_unix_group_acl.html">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_unix_group_acl.html</A>&gt;

For Squid receiving NTLM credentials to check against Samba, AD, or
eDirectory via WinBind service:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_wbinfo_group_acl.html">http://www.squid-cache.org/Versions/v3/3.5/manuals/ext_wbinfo_group_acl.html</A>&gt;


&gt;<i> my version of squid is 3.5.20 (on Centos 7)
</I>&gt;<i> AD (samba 4.3.9 on Ubuntu)
</I>
Then you want one of ext_ldap_group_acl, ext_kerberos_ldap_group_acl, or
ext_wbinfo_group_acl.

The first of those is most generic, so usually the one to use. But your
specific situation may or may not require one of the others.

Amos



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012462.html">[squid-users] SSO (ldap kerberos)
</A></li>
	<LI>Next message (by thread): <A HREF="012476.html">[squid-users] SSO (ldap kerberos)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12467">[ date ]</a>
              <a href="thread.html#12467">[ thread ]</a>
              <a href="subject.html#12467">[ subject ]</a>
              <a href="author.html#12467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
