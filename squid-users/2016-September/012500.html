<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] c-icap load balancing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20c-icap%20load%20balancing&In-Reply-To=%3C25eb8491-49bf-1166-adba-f94d6c00065f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012499.html">
   <LINK REL="Next"  HREF="012540.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] c-icap load balancing</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20c-icap%20load%20balancing&In-Reply-To=%3C25eb8491-49bf-1166-adba-f94d6c00065f%40measurement-factory.com%3E"
       TITLE="[squid-users] c-icap load balancing">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Sep 14 13:50:59 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012499.html">[squid-users] c-icap load balancing
</A></li>
        <LI>Next message (by thread): <A HREF="012540.html">[squid-users] c-icap load balancing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12500">[ date ]</a>
              <a href="thread.html#12500">[ thread ]</a>
              <a href="subject.html#12500">[ subject ]</a>
              <a href="author.html#12500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/13/2016 07:02 PM, yanghe wrote:
&gt;<i> I want to implement the c-icap cluster.the
</I>&gt;<i> traffic averagely distribute to each c-icap.
</I>
Unfortunately, Squid does not support true load balancing of ICAP and
eCAP services directly. It would be a welcomed feature[1].

However, there is a workaround: Use &quot;random&quot; ACLs in your
adaptation_access rules to select each service at random, with the same
probability. There are production deployments using that workaround to
approximate load balancing effects. When implementing this, be careful
not to fall into a common trap of mistaking an individual
adaptation_access rule match probability with the service selection
probability[2].

[1]
<A HREF="http://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F">http://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F</A>

[2]
<A HREF="http://lists.squid-cache.org/pipermail/squid-users/2016-August/012217.html">http://lists.squid-cache.org/pipermail/squid-users/2016-August/012217.html</A>


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012499.html">[squid-users] c-icap load balancing
</A></li>
	<LI>Next message (by thread): <A HREF="012540.html">[squid-users] c-icap load balancing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12500">[ date ]</a>
              <a href="thread.html#12500">[ thread ]</a>
              <a href="subject.html#12500">[ subject ]</a>
              <a href="author.html#12500">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
