<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Web Whatsapp, Dropbox... problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Web%20Whatsapp%2C%20Dropbox...%20problem&In-Reply-To=%3C11a31fcd-901a-351a-4f60-8b2fe054b224%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012507.html">
   <LINK REL="Next"  HREF="012511.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Web Whatsapp, Dropbox... problem</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Web%20Whatsapp%2C%20Dropbox...%20problem&In-Reply-To=%3C11a31fcd-901a-351a-4f60-8b2fe054b224%40measurement-factory.com%3E"
       TITLE="[squid-users] Web Whatsapp, Dropbox... problem">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Sep 14 23:31:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012507.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
        <LI>Next message (by thread): <A HREF="012511.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12508">[ date ]</a>
              <a href="thread.html#12508">[ thread ]</a>
              <a href="subject.html#12508">[ subject ]</a>
              <a href="author.html#12508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/14/2016 05:01 PM, erdosain9 wrote:

&gt;<i> acl step1 at_step SslBump1 
</I>&gt;<i> acl excludeSSL ssl::server_name_regex web/.whatsapp/.com 
</I>&gt;<i> 
</I>&gt;<i> ssl_bump peek step1 
</I>&gt;<i> ssl_bump splice excludeSSL 
</I>&gt;<i> ssl_bump bump all 
</I>&gt;<i> 
</I>&gt;<i> I dont get nothing about web.whatsapp.com in access.log 
</I>
I suspect you just do not know how to find relevant access.log records.
The first logged CONNECT (that I would expect to see) will not have
web.whatsapp.com domain name, but will have one of its IP addresses.


&gt;<i> except this, a lot of time after i close the tab window of web browser...:
</I>&gt;<i> 1473879972.435  37929 192.168.1.172 TCP_TUNNEL/200 1069 CONNECT
</I>&gt;<i> web.whatsapp.com:443 - HIER_DIRECT/31.13.85.51 - 
</I>&gt;<i> 
</I>&gt;<i> Just that
</I>
That is not nothing! That is exactly what I would expect -- an
indication of a successfully established tunnel, splicing client and
server connections. Keep in mind that Squid logs transactions when they
are over, not when they start. A tunnel may last for hours or more...

I trust that you do not expect to see HTTP transactions (besides opening
CONNECT) that happen inside the tunnel. After splicing SSL connections,
Squid does not (and cannot) inspect what happens inside the resulting
tunnel.

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012507.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
	<LI>Next message (by thread): <A HREF="012511.html">[squid-users] Web Whatsapp, Dropbox... problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12508">[ date ]</a>
              <a href="thread.html#12508">[ thread ]</a>
              <a href="subject.html#12508">[ subject ]</a>
              <a href="author.html#12508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
