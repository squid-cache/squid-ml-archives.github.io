<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] proxy authorization header remover from 3.5.x	squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20proxy%20authorization%20header%20remover%20from%203.5.x%0A%09squid&In-Reply-To=%3Cc44a438b-f29d-7217-c5e0-4af7a77e7703%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012555.html">
   <LINK REL="Next"  HREF="012557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] proxy authorization header remover from 3.5.x	squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20proxy%20authorization%20header%20remover%20from%203.5.x%0A%09squid&In-Reply-To=%3Cc44a438b-f29d-7217-c5e0-4af7a77e7703%40treenet.co.nz%3E"
       TITLE="[squid-users] proxy authorization header remover from 3.5.x	squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Sep 17 09:35:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012555.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
        <LI>Next message (by thread): <A HREF="012557.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12556">[ date ]</a>
              <a href="thread.html#12556">[ thread ]</a>
              <a href="subject.html#12556">[ subject ]</a>
              <a href="author.html#12556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/09/2016 9:05 p.m., --Ahmad-- wrote:
&gt;<i> Hi Amos again 
</I>&gt;<i> 
</I>&gt;<i> all what i need is the proxy authorization header get removed since some websites will ban may proxy incase there were any headers that comes with the proxy .
</I>&gt;<i> 
</I>&gt;<i> thats all
</I>&gt;<i> 
</I>&gt;<i> i could see that header myself in firefox as :
</I>&gt;<i> proxy-authorization &quot;Basic ZHJ2aXJ1czpkcnZpcnVz&#8221;
</I>&gt;<i> 
</I>
HTTP is a stateless and multiplexed protocol.

Firefox only sees the connection between it and the proxy. It cannot see
what happens on any of the connection(s) outgoing from the proxy.

Note: the proxy may not even be using HTTP to fetch the data it sends
back as an HTTP response.

If you want to see what Squid is sending upstream the way to do that is
to enable &quot;debug_options 11,2&quot; and look for the &quot;Server HTTP&quot; messages
in cache.log. They might surprise you.


&gt;<i> regarding to the upstream proxy , 
</I>&gt;<i> do you mean i setup cache peer directive to other proxy and the that header is gone ??
</I>&gt;<i> 
</I>
Certain headers in HTTP are only relevant to a single TCP connection.
These are called &quot;hop-by-hop&quot; headers.

They get erased on the receiving agent. Different ones containing same
or similar content MAY be generated outgoing from that agent, but only
if required by that different proxy-&gt;upstream TCP connection.

The request_header_access rules you configured earlier *only* affect
these outgoing proxy requests. Note that they are the ones Firefox
*cannot* see.

However;
* All the Proxy-Auth* headers are hop-by-hop headers.

* Proxy-Connection is a long ago obsolete experimental header. So Squid
receives it but never sends.

You only need those request_header_access rules to remove Proxy-*
headers *IF* they are actually being sent out by _Squid_ in that 11,2
debugs trace. Having them sent by Firfox is irrelevant.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012555.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
	<LI>Next message (by thread): <A HREF="012557.html">[squid-users] proxy authorization header remover from 3.5.x	squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12556">[ date ]</a>
              <a href="thread.html#12556">[ thread ]</a>
              <a href="subject.html#12556">[ subject ]</a>
              <a href="author.html#12556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
