<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20with%20Kerberos%20and%0A%20ext_kerberos_ldap_group_acl%20not%20being%20able%20to%20reach%20realm%27s%20KDC&In-Reply-To=%3C3655aec8-d4cc-83c0-fb75-b778b6fd4785%40coronamundi.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012580.html">
   <LINK REL="Next"  HREF="012615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC</H1>
    <B>Silamael</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20with%20Kerberos%20and%0A%20ext_kerberos_ldap_group_acl%20not%20being%20able%20to%20reach%20realm%27s%20KDC&In-Reply-To=%3C3655aec8-d4cc-83c0-fb75-b778b6fd4785%40coronamundi.de%3E"
       TITLE="[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC">Silamael at coronamundi.de
       </A><BR>
    <I>Tue Sep 20 13:20:06 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012580.html">[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC
</A></li>
        <LI>Next message (by thread): <A HREF="012615.html">[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12608">[ date ]</a>
              <a href="thread.html#12608">[ thread ]</a>
              <a href="subject.html#12608">[ subject ]</a>
              <a href="author.html#12608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19.09.2016 13:39, Silamael Darkomen wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 16.09.2016 22:11, Markus Moeller wrote:
</I>&gt;&gt;<i> Hi Silamael,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Can you perform a kinit <A HREF="https://lists.squid-cache.org/listinfo/squid-users">user at EXAMPLE.COM</A> ?   Does the squid user
</I>&gt;&gt;<i> have read access to  krb5.conf ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Markus
</I>&gt;<i> 
</I>&gt;<i> Hello Markus,
</I>&gt;<i> 
</I>&gt;<i> Yes, the permissions are correctly set up so that Squid and it's
</I>&gt;<i> processes can read every file needed.
</I>&gt;<i> For it seems that the Heimdal library ignores the dns_lookup_kdc and
</I>&gt;<i> dns_lookup_realm options in the krb5.conf...
</I>&gt;<i> As written in my other response, the helper also crashes at the end.
</I>&gt;<i> I'll take a look on the stack trace...
</I>
Ok, found one problem. Under OpenBSD I had some hack that the external
helper was linked against libbind (the bind resolver library) instead of
libc (as the helper uses some defines which have different names in the
OpenBSD libc). This caused that the Heimdal libs used also the Bind
resolver library instead of the libc resolver. And this lead to an error
in the getaddrinfo() call due to invalid ai_flags.
After patching the helper to compile with the libc now a new problem
comes up:
When binding to the LDAP server the helper uses SASL/GSSAPI. And then
ldap_sasl_interactive_bind_s failes with &quot;Unknown authentication method&quot;.
Is there anything special that must be given on the Windows side? Or
what's wrong now?

-- Matthias

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012580.html">[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC
</A></li>
	<LI>Next message (by thread): <A HREF="012615.html">[squid-users] Problem with Kerberos and ext_kerberos_ldap_group_acl not being able to reach realm's KDC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12608">[ date ]</a>
              <a href="thread.html#12608">[ thread ]</a>
              <a href="subject.html#12608">[ subject ]</a>
              <a href="author.html#12608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
