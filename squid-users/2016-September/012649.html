<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Accelerator Mode  - HSTS and Redirect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Accelerator%20Mode%20%20-%20HSTS%20and%20Redirect&In-Reply-To=%3C1474591520.68413.734388465.08421690%40webmail.messagingengine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012747.html">
   <LINK REL="Next"  HREF="012650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Accelerator Mode  - HSTS and Redirect</H1>
    <B>creditu at eml.cc</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Accelerator%20Mode%20%20-%20HSTS%20and%20Redirect&In-Reply-To=%3C1474591520.68413.734388465.08421690%40webmail.messagingengine.com%3E"
       TITLE="[squid-users] Accelerator Mode  - HSTS and Redirect">creditu at eml.cc
       </A><BR>
    <I>Fri Sep 23 00:45:20 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012747.html">[squid-users] Errors in cache.log
</A></li>
        <LI>Next message (by thread): <A HREF="012650.html">[squid-users] Accelerator Mode - HSTS and Redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12649">[ date ]</a>
              <a href="thread.html#12649">[ thread ]</a>
              <a href="subject.html#12649">[ subject ]</a>
              <a href="author.html#12649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We have been using squid in accelerator mode for a number of years. In
the current setup we have the squid frontends that send all the http
requests to the backend apache webservers using a simple redirect
script.  We need to switch to https for the public presence.

So, our initial thought would be to use https_port for public HTTPS
presence and send the requests using cache_peer to the backend apache
servers using plain http.  Basically terminating HTTPS from clients and
relaying it to backend servers using HTTP.  

We will need to implement HSTS at some point (i.e.
Strict-Transport-Security: max-age=8888; includeSubDomains; preload),
will we be able to do this in the above scenario?

Also, we will initially be providing both http and https, but will need
to stop http at some point.  Is there a way to redirect the clients that
try to connect via http to use https with squid?  Something like the
rewrite engine in apache?

We use RH 6.x which comes with squid 3.1.  Thanks for any feedback. 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012747.html">[squid-users] Errors in cache.log
</A></li>
	<LI>Next message (by thread): <A HREF="012650.html">[squid-users] Accelerator Mode - HSTS and Redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12649">[ date ]</a>
              <a href="thread.html#12649">[ thread ]</a>
              <a href="subject.html#12649">[ subject ]</a>
              <a href="author.html#12649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
