<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] connections from particular users sometimes get stuck
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20connections%20from%20particular%20users%20sometimes%20get%0A%20stuck&In-Reply-To=%3C91801fea-4baa-375b-7a91-91a0d1040e46%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012719.html">
   <LINK REL="Next"  HREF="012721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] connections from particular users sometimes get stuck</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20connections%20from%20particular%20users%20sometimes%20get%0A%20stuck&In-Reply-To=%3C91801fea-4baa-375b-7a91-91a0d1040e46%40measurement-factory.com%3E"
       TITLE="[squid-users] connections from particular users sometimes get stuck">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Sep 27 19:29:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012719.html">[squid-users] connections from particular users sometimes get stuck
</A></li>
        <LI>Next message (by thread): <A HREF="012721.html">[squid-users] connections from particular users sometimes get stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12720">[ date ]</a>
              <a href="thread.html#12720">[ thread ]</a>
              <a href="subject.html#12720">[ subject ]</a>
              <a href="author.html#12720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/27/2016 11:13 AM, Eugene M. Zheganin wrote:

&gt;<i> The wireshark screen where the issue is isolated for one particular
</I>&gt;<i> connection can be found here -
</I>&gt;<i> <A HREF="https://gyazo.com/fdec1d9d7c31a75afc7d4676abb83d15">https://gyazo.com/fdec1d9d7c31a75afc7d4676abb83d15</A> (it's really a simple
</I>&gt;<i> picture: TCP connection establishing, then GET -&gt; 407 -&gt; GET and bunch
</I>&gt;<i> of keepalives, not a rocket science).
</I>&gt;<i> 
</I>&gt;<i> Any ideas ?
</I>
Since you can reproduce this, I suggest collecting ALL,9 log for the
stuck master transaction:

<A HREF="http://wiki.squid-cache.org/SquidFaq/BugReporting#Debugging_a_single_transaction">http://wiki.squid-cache.org/SquidFaq/BugReporting#Debugging_a_single_transaction</A>

If collecting a debugging trace is impossible for some reason, then
collect the corresponding TCP packets on the Squid to origin server link
and post actual packets (not screenshots of packet summaries) from both
connections. The debugging trace will most likely have the answer. The
packet trace might have the answer.

You may need to change user credentials for this test or after posting
the details requested above.


Cheers,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012719.html">[squid-users] connections from particular users sometimes get stuck
</A></li>
	<LI>Next message (by thread): <A HREF="012721.html">[squid-users] connections from particular users sometimes get stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12720">[ date ]</a>
              <a href="thread.html#12720">[ thread ]</a>
              <a href="subject.html#12720">[ subject ]</a>
              <a href="author.html#12720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
