<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Caching application/octet-stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20application/octet-stream&In-Reply-To=%3CCAHhBkD0dXw7PztgqGdrZ%3D6aTxVpuXExx%2Bq%2BqVA%2B8rM3a%2B8Y8NA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012733.html">
   <LINK REL="Next"  HREF="012732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Caching application/octet-stream</H1>
    <B>Michael Varun</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20application/octet-stream&In-Reply-To=%3CCAHhBkD0dXw7PztgqGdrZ%3D6aTxVpuXExx%2Bq%2BqVA%2B8rM3a%2B8Y8NA%40mail.gmail.com%3E"
       TITLE="[squid-users] Caching application/octet-stream">michael.varun at inmobi.com
       </A><BR>
    <I>Wed Sep 28 10:17:55 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012733.html">[squid-users] R: Re: R: Re: problem reload configuration with workers
</A></li>
        <LI>Next message (by thread): <A HREF="012732.html">[squid-users] Caching application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12725">[ date ]</a>
              <a href="thread.html#12725">[ thread ]</a>
              <a href="subject.html#12725">[ subject ]</a>
              <a href="author.html#12725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Team -

Would like to know is there any specific config that we need to enable to
cache MIME attachement of application/octet-stream type

We are trying to caching docker image blobs which is of
application/octet-stream  and everytime we hit the docker registry via)GET
call squid throws up TCP_MISS/200  I had never got a CACHE HIT or MEM HIT
for these contents. Can someone show pointers to how to succeed in cache
hit


Logs
====
1475056789.667      0 10.0.0.160 TAG_NONE/200 0 CONNECT &lt;docker
registry&gt;:443 - HIER_NONE/- -
1475056789.706   1633 10.0.0.160 TCP_MISS/200 1114 GET <A HREF="https://docker">https://docker</A>
registry/v2/blobs/sha256:36e0da2b6e166c5e7b1f243e9257590d4fbd1be729773df7f3d6a779941b22d9
- FIRSTUP_PARENT/IP.xx.xx.xxapplication/octet-stream
1475056789.708      0 10.0.0.160 TAG_NONE/200 0 CONNECT &lt;docker
registry&gt;443 - HIER_NONE/- -
1475056791.259   1545 10.0.0.160 TCP_MISS/200 1698 GET <A HREF="https://docker">https://docker</A>
registry/v2/blobs/sha256:2a00f8fcea92b16de0de328c557da476e930aa038ccee482daf91a62de5afa33
- FIRSTUP_PARENT/IP.xx.xx.xx application/octet-stream


Configuration
=============
http_port docker registry:443 ssl-bump cert=/etc/ssl/private/docker
registry.certkey=/etc/ssl/private/docker registry.key
maximum_object_size 8 GB
maximum_object_size_in_memory 102400 KB
quick_abort_min -1
cache_dir ufs /data/squid/cache/squid 204800 16 256
cache_mem 51200 MB
cache allow all
cache_peer docker registry parent 443 0 no-query originserver no-digest
name=upstream ssl sslflags=DONT_VERIFY_PEER
never_direct allow all
#
acl site dstdomain /etc/mirror-dstdomain.acl
acl site1 dstdomain docker-registry.xx.xx
http_access allow site
http_access allow site1
cache_peer_access upstream allow site1
cache_peer_access upstream deny all
ssl_bump bump site1
ssl_bump splice all
sslproxy_flags DONT_VERIFY_PEER

-- 
_____________________________________________________________
The information contained in this communication is intended solely for the 
use of the individual or entity to whom it is addressed and others 
authorized to receive it. It may contain confidential or legally privileged 
information. If you are not the intended recipient you are hereby notified 
that any disclosure, copying, distribution or taking any action in reliance 
on the contents of this information is strictly prohibited and may be 
unlawful. If you have received this communication in error, please notify 
us immediately by responding to this email and then delete it from your 
system. The firm is neither liable for the proper and complete transmission 
of the information contained in this communication nor for any delay in its 
receipt.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160928/df9eb268/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160928/df9eb268/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012733.html">[squid-users] R: Re: R: Re: problem reload configuration with workers
</A></li>
	<LI>Next message (by thread): <A HREF="012732.html">[squid-users] Caching application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12725">[ date ]</a>
              <a href="thread.html#12725">[ thread ]</a>
              <a href="subject.html#12725">[ subject ]</a>
              <a href="author.html#12725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
