<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] No matter what I do I can not get %ssl:&gt;sni (or other %ssl) to log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20No%20matter%20what%20I%20do%20I%20can%20not%20get%20%25ssl%3A%3Esni%20%28or%0A%20other%20%25ssl%29%20to%20log&In-Reply-To=%3C9d59d390-9c53-8b2a-9f14-11d89c545450%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012766.html">
   <LINK REL="Next"  HREF="012769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other %ssl) to log</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20No%20matter%20what%20I%20do%20I%20can%20not%20get%20%25ssl%3A%3Esni%20%28or%0A%20other%20%25ssl%29%20to%20log&In-Reply-To=%3C9d59d390-9c53-8b2a-9f14-11d89c545450%40measurement-factory.com%3E"
       TITLE="[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other %ssl) to log">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Sep 29 23:01:27 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012766.html">[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other	%ssl) to log
</A></li>
        <LI>Next message (by thread): <A HREF="012769.html">[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other %ssl) to log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12767">[ date ]</a>
              <a href="thread.html#12767">[ thread ]</a>
              <a href="subject.html#12767">[ subject ]</a>
              <a href="author.html#12767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/29/2016 04:50 PM, Michael Pelletier wrote:

&gt;<i> I am trying to log some data during the ssl flow.
</I>
&gt;<i> logformat custom ... %ssl::&gt;sni %ssl::&gt;cert_subject %ssl::&gt;cert_issuer
</I>&gt;<i> 
</I>&gt;<i> Yet I get nothing from any of the %ssl:: entries....
</I>
Do your users send certificates to Squid? If not, %ssl::&gt;cert_subject
%ssl::&gt;cert_issuer should be &quot;-&quot;. These %codes are _not_ about the
origin server certificate.

ssl::&gt;sni is only available during certain SslBump steps. Do you use
SslBump? If yes, do you get the corresponding CONNECT entries in your
access log (there should be more than one CONNECT per SSL connection
IIRC)? What are your ssl_bump rules?

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012766.html">[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other	%ssl) to log
</A></li>
	<LI>Next message (by thread): <A HREF="012769.html">[squid-users] No matter what I do I can not get %ssl:&gt;sni (or other %ssl) to log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12767">[ date ]</a>
              <a href="thread.html#12767">[ thread ]</a>
              <a href="subject.html#12767">[ subject ]</a>
              <a href="author.html#12767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
