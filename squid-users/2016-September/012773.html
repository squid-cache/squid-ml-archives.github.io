<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20squid%20tproxy%20ssl-bump%20and%20Protocol%20error%20%28TLS%0A%20code%3A%20SQUID_ERR_SSL_HANDSHAKE%29&In-Reply-To=%3Ca901bd9b-6643-0088-7ee8-a4336094be90%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012762.html">
   <LINK REL="Next"  HREF="012790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20squid%20tproxy%20ssl-bump%20and%20Protocol%20error%20%28TLS%0A%20code%3A%20SQUID_ERR_SSL_HANDSHAKE%29&In-Reply-To=%3Ca901bd9b-6643-0088-7ee8-a4336094be90%40treenet.co.nz%3E"
       TITLE="[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Sep 30 02:04:04 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012762.html">[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS	code: SQUID_ERR_SSL_HANDSHAKE)
</A></li>
        <LI>Next message (by thread): <A HREF="012790.html">[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12773">[ date ]</a>
              <a href="thread.html#12773">[ thread ]</a>
              <a href="subject.html#12773">[ subject ]</a>
              <a href="author.html#12773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/09/2016 11:23 a.m., Eliezer Croitoru wrote:
&gt;<i> Hey Vieri,
</I>&gt;<i> 
</I>&gt;<i> Just as a tiny reply I must admit that it's expected.
</I>&gt;<i> What you see is the result of squid and it's ssl stack support the goal of a minimum specific version of ssl encrypted connections.
</I>&gt;<i> I am not sure but there might be  a way to make it all work for these clients.
</I>&gt;<i> Have you tried search the squid-cache lists using google\yahoo\bing\other?
</I>
Small correction. It is the &quot;Handshake with SSL server failed&quot; (note
&quot;server&quot;). After several years of ciphers and SSLv2/v3 protocol things
being found to be badly insecure and removed from browser and servers
all over the place. It is indeed expected.

Firefox works because Mozilla have their own SSL/TLS library built into
the browser with modern capabilities. IE uses the WinXP one which is no
longer compatible with most of the Internet servers.

Squid mimics the client details when contacting the server. So you would
get the same problem (though maybe different description) if going
directly without the proxy.

To get around this you require the latest Squid version (with
peek-and-splice feature) doing the &quot;bump&quot; action on these clients
traffic so that it can upgrade the TLS/SSL handshake and use some
ciphers etc the server will accept on their connections.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012762.html">[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS	code: SQUID_ERR_SSL_HANDSHAKE)
</A></li>
	<LI>Next message (by thread): <A HREF="012790.html">[squid-users] FW: squid tproxy ssl-bump and Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12773">[ date ]</a>
              <a href="thread.html#12773">[ thread ]</a>
              <a href="subject.html#12773">[ subject ]</a>
              <a href="author.html#12773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
