<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Large text ACL lists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3C54ee7d9a-96fe-4233-8db7-3b891455f07f%40getmailbird.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012775.html">
   <LINK REL="Next"  HREF="012781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Large text ACL lists</H1>
    <B>Darren</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3C54ee7d9a-96fe-4233-8db7-3b891455f07f%40getmailbird.com%3E"
       TITLE="[squid-users] Large text ACL lists">darren.j.breeze.ml at gmail.com
       </A><BR>
    <I>Fri Sep 30 05:58:32 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012775.html">[squid-users] Large text ACL lists
</A></li>
        <LI>Next message (by thread): <A HREF="012781.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12778">[ date ]</a>
              <a href="thread.html#12778">[ thread ]</a>
              <a href="subject.html#12778">[ subject ]</a>
              <a href="author.html#12778">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Amos

The resources I save not running multiple Squidguards will &#160;make more ram available as you say and having a simpler setup is never a bad thing either.

Just to clarify, so when squid fires up, it caches the ACL file into ram &#160;in it's entirety and then does some optimizations? If that is the case I would need to budget the ram to allow for this.

This sounds great and I get the bonus reverse DNS on dstdomain acls too, something Squidgard didn't do.

happy days

thanks

Darren B.





Sent from Mailbird [<A HREF="http://www.getmailbird.com/?utm_source=Mailbird&amp;amp;utm_medium=email&amp;amp;utm_campaign=sent-from-mailbird">http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird</A>]
On 30/09/2016 10:42:15 AM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
On 29/09/2016 10:44 p.m., Darren wrote:
&gt;<i> Hi All
</I>&gt;<i>
</I>&gt;<i> I have been tinkering with Squidguard for a while, using it to manage
</I>&gt;<i> ACL lists and time limits etc.
</I>&gt;<i>
</I>&gt;<i> While it works OK, it's not in active development and has it's
</I>&gt;<i> issues.
</I>&gt;<i>
</I>&gt;<i> What are the limitations with just pumping ACL lists directly into
</I>&gt;<i> Squid and letting it do all the work internally without running a
</I>&gt;<i> team of squidguards?
</I>
CPU mostly. The helpers will use Nx the RAM for N helpers, so Squid
technically uses less that way. But since Squid workers are internally
single-threaded the CPU time takes from the processing of things through
the lists does slow down the workers handling other transactions. There
is also the time on startup for loading the data into memory. With big
data lists both of those differences can be noticable.

There are some RAM differences purely due to the storage formats. We
have not particularly optimized Squid ACLs recently for large data sets.

&gt;<i>
</I>&gt;<i> how efficient is squid now at parsing the text files directly, will i
</I>&gt;<i> Need more ram as the list grows? Is it slower or are their
</I>&gt;<i> optimizations that I can do?
</I>&gt;<i>
</I>
You will. Regardless of whether you use a helper or Squid.

Optimizations center around reducing the list sizes, removing
duplication, overlaps and dead entries.

For regex ACLs compacting the patterns down helps a lot. Squid will do
that itself now but is not very smart about it, so manual optimizations
still can have big impact.


Amos

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20160930/61ac4163/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20160930/61ac4163/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012775.html">[squid-users] Large text ACL lists
</A></li>
	<LI>Next message (by thread): <A HREF="012781.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12778">[ date ]</a>
              <a href="thread.html#12778">[ thread ]</a>
              <a href="subject.html#12778">[ subject ]</a>
              <a href="author.html#12778">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
