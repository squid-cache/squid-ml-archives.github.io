<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Large text ACL lists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3C35c4e399-1050-06c7-1715-e0c1252955a4%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012778.html">
   <LINK REL="Next"  HREF="012788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Large text ACL lists</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Large%20text%20ACL%20lists&In-Reply-To=%3C35c4e399-1050-06c7-1715-e0c1252955a4%40treenet.co.nz%3E"
       TITLE="[squid-users] Large text ACL lists">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Sep 30 06:59:07 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="012778.html">[squid-users] Large text ACL lists
</A></li>
        <LI>Next message (by thread): <A HREF="012788.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12781">[ date ]</a>
              <a href="thread.html#12781">[ thread ]</a>
              <a href="subject.html#12781">[ subject ]</a>
              <a href="author.html#12781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/09/2016 6:58 p.m., Darren wrote:
&gt;<i> Thank you Amos
</I>&gt;<i> 
</I>&gt;<i> The resources I save not running multiple Squidguards will  make more
</I>&gt;<i> ram available as you say and having a simpler setup is never a bad
</I>&gt;<i> thing either.
</I>&gt;<i> 
</I>&gt;<i> Just to clarify, so when squid fires up, it caches the ACL file into
</I>&gt;<i> ram  in it's entirety and then does some optimizations? If that is
</I>&gt;<i> the case I would need to budget the ram to allow for this.
</I>
Not quite. Squid still reads the files line by line into a memory
structure for whatever type of ACL is being loaded. That is part of why
its so much slowe to load than the helpers (which generally do as you
describe).

The optimizations are type dependent and fairly simplistic. Ignoring
duplicate entries, catenating regex into bigger &quot; A|B &quot; patterns (faster
to check against), etc.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="012778.html">[squid-users] Large text ACL lists
</A></li>
	<LI>Next message (by thread): <A HREF="012788.html">[squid-users] Large text ACL lists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12781">[ date ]</a>
              <a href="thread.html#12781">[ thread ]</a>
              <a href="subject.html#12781">[ subject ]</a>
              <a href="author.html#12781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
