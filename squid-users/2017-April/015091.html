<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid proxy without name resolution for internet adresses behind parent proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20proxy%20without%20name%20resolution%20for%20internet%0A%20adresses%20behind%20parent%20proxy&In-Reply-To=%3Cf6d4410e-32af-de08-b875-c4c34efd8f4a%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015090.html">
   <LINK REL="Next"  HREF="015094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy</H1>
    <B>Dijxie</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20proxy%20without%20name%20resolution%20for%20internet%0A%20adresses%20behind%20parent%20proxy&In-Reply-To=%3Cf6d4410e-32af-de08-b875-c4c34efd8f4a%40gmail.com%3E"
       TITLE="[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy">dijxie at gmail.com
       </A><BR>
    <I>Fri Apr 28 09:38:41 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015090.html">[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy
</A></li>
        <LI>Next message (by thread): <A HREF="015094.html">[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15091">[ date ]</a>
              <a href="thread.html#15091">[ thread ]</a>
              <a href="subject.html#15091">[ subject ]</a>
              <a href="author.html#15091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>W dniu 28.04.2017 o 11:00, mbaltruschat pisze:
&gt;<i> Hello everybody,
</I>&gt;<i>
</I>&gt;<i> i am trying to migrate my old squid 2.7 to 3.5 and are getting stuck, the
</I>&gt;<i> new proxy is very slow, requests need very long until they open, i guess ist
</I>&gt;<i> a name resolution problem, because the proxy cant resolve internet domain
</I>&gt;<i> names by itself, the name resolution is done by the parent proxy of our
</I>&gt;<i> Network Provider. If i look at the statistics by &quot;mgr:info&quot; i see that the
</I>&gt;<i> median Service times for dns are around 30 seconds. I guess the old 2.7 just
</I>&gt;<i> &quot;ignored&quot; the name resolution because i didnt give him a nameserver to use
</I>&gt;<i> and although didnt configure dnshelper.
</I>&gt;<i>
</I>&gt;<i> How can i configure squid not to resolve the names by itself?
</I>&gt;<i>
</I>&gt;<i> Many thanks in advance
</I>&gt;<i> Best regards
</I>&gt;<i> M. Baltruschat
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-proxy-without-name-resolution-for-internet-adresses-behind-parent-proxy-tp4682225.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-proxy-without-name-resolution-for-internet-adresses-behind-parent-proxy-tp4682225.html</A>
</I>&gt;<i> Sent from the Squid - Users mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
Hi,

By &quot;by itself&quot; you ment squid-cache or squid host machine?

I'm using dnsmasq along with squid on the same machine. Dnsmasq has 250 
cache enabled and neg-cache disabled and 4-6 DNS configured. AFAIR 
dnsmasq asks all configured DNS at once an replies if any of them reply. 
But in mgr:dns, it is still squid asking 127.0.0.1.

By the way, what's going on in mgr:dns in your squid-cache? If it's name 
resolution problem, it will be there. If your OS uses resolf.conf order, 
than it is possible that at list 1st DNS server has problem and you will 
see than in mgr:dns stats.

-- 
Pozdrawiam, Remik


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015090.html">[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy
</A></li>
	<LI>Next message (by thread): <A HREF="015094.html">[squid-users] Squid proxy without name resolution for internet adresses behind parent proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15091">[ date ]</a>
              <a href="thread.html#15091">[ thread ]</a>
              <a href="subject.html#15091">[ subject ]</a>
              <a href="author.html#15091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
