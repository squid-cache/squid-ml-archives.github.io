<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Strange Problem with IE over WLAN: IE hangs on certain files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Strange%20Problem%20with%20IE%20over%20WLAN%3A%20IE%20hangs%20on%0A%20certain%20files&In-Reply-To=%3Cee4231fe-3745-f0a3-b504-a9509ef79ea1%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016128.html">
   <LINK REL="Next"  HREF="016137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Strange Problem with IE over WLAN: IE hangs on certain files</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Strange%20Problem%20with%20IE%20over%20WLAN%3A%20IE%20hangs%20on%0A%20certain%20files&In-Reply-To=%3Cee4231fe-3745-f0a3-b504-a9509ef79ea1%40treenet.co.nz%3E"
       TITLE="[squid-users] Strange Problem with IE over WLAN: IE hangs on certain files">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Aug 11 15:01:01 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016128.html">[squid-users] Strange Problem with IE over WLAN: IE hangs on	certain files
</A></li>
        <LI>Next message (by thread): <A HREF="016137.html">[squid-users] Fwd: Squid ACL Whitelist not working (?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16130">[ date ]</a>
              <a href="thread.html#16130">[ thread ]</a>
              <a href="subject.html#16130">[ subject ]</a>
              <a href="author.html#16130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/08/17 23:15, Rietzler, Markus (RZF, Ref 312 / &lt;RIETZLER_SOFTWARE&gt;) 
wrote:
&gt;<i> we have the following setup:
</I>&gt;<i> 
</I>&gt;<i> clients with windows7 and IE11 or Edge.
</I>&gt;<i> they have configured a squid proxy (3.5.20). squid is used for access to intranet and internet. the squid it self talks to different central proxies (internet, intranet) and they are talking to dmz proxies for internet access.
</I>&gt;<i> 
</I>&gt;<i> so Client -&gt; (user) proxy -&gt; (central) proxy internet -&gt; dmz proxy -&gt; internet
</I>&gt;<i>                            -&gt; (central) proxy intranet -&gt; intranet
</I>&gt;<i> 
</I>&gt;<i> we now see the folling problem:
</I>&gt;<i> 
</I>&gt;<i> when the clients are connected via wlan IE will hang on certain files and can't load them. one of the files is a javascript file and so the page itself is not loaded and waits and waits and waits. when you use the developer tools you can see the contents of the javascript file but IE can't &quot;finish&quot; loading.
</I>&gt;<i> 
</I>&gt;<i> the same file via wired connection is working without any problems. with all the caching on the different stations (client, proxy, central proxy) it is a bit complicated to narrow the problem down. we have so far examined that the size seems to matter. the javascript file with a size of 4039 bytes causes troubles. we also saw this behavior with files the same size. if we add a few lines and bytes to the that file it is working.
</I>
Can you send me a packet trace of the IE&lt;-&gt;Squid connection with one of 
those files going through please? if it can be one where the problem 
occurs perfect, but if that is too hard a working transfer with one of 
the problem ones might do.

4039 sounds suspiciously close to the 4096 memory page size. Perhapse 
the HTTP headers put something like a chunked encoding CRLF or NUL 
terminator right across the page boundary and some buffer I/O gets stuck.


&gt;<i> 
</I>&gt;<i> it seems not to make a difference whether if we talk about intranet or internet.
</I>&gt;<i> problem is, this error is a bit hard to reproduce. if IE is able to load the file then (for a certain time) it is working every time. so we don't know what happens if IE is not able to load the file.
</I>&gt;<i> 
</I>&gt;<i> the only thing that is clear at the moment is that a wired connection will work and wlan will cause troubles.
</I>&gt;<i> 
</I>&gt;<i> is it a client side problem or a squid problem? sure there are differences if connected via wlan or wire but which? and when how do they influence squid and the connection?
</I>&gt;<i> 
</I>

Connection type does not matter to Squid exactly, its just TCP over 
either. Though packet loss at the FIN portion of a TCP connection may 
result in this type of behaviour.


Any type of tunneling or packet level gateway happening differently on 
the lan or wlan connections? this kind of reminds me of some weird MTU 
related issues that used to be seen with IPv6 tunnels.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016128.html">[squid-users] Strange Problem with IE over WLAN: IE hangs on	certain files
</A></li>
	<LI>Next message (by thread): <A HREF="016137.html">[squid-users] Fwd: Squid ACL Whitelist not working (?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16130">[ date ]</a>
              <a href="thread.html#16130">[ thread ]</a>
              <a href="subject.html#16130">[ subject ]</a>
              <a href="author.html#16130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
