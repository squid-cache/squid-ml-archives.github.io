<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Content Adaptation with HTTPs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Content%20Adaptation%20with%20HTTPs&In-Reply-To=%3C1908e8e7-8ed6-1195-a5d9-898bcc2b58d4%40leviacomm.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016156.html">
   <LINK REL="Next"  HREF="016160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Content Adaptation with HTTPs</H1>
    <B>Christopher Ahrens</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Content%20Adaptation%20with%20HTTPs&In-Reply-To=%3C1908e8e7-8ed6-1195-a5d9-898bcc2b58d4%40leviacomm.net%3E"
       TITLE="[squid-users] Content Adaptation with HTTPs">christopher at leviacomm.net
       </A><BR>
    <I>Sun Aug 20 04:05:56 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016156.html">[squid-users] Content Adaptation with HTTPs
</A></li>
        <LI>Next message (by thread): <A HREF="016160.html">[squid-users] Content Adaptation with HTTPs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16159">[ date ]</a>
              <a href="thread.html#16159">[ thread ]</a>
              <a href="subject.html#16159">[ subject ]</a>
              <a href="author.html#16159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The current solution doesn't work for me since it only supports a very 
limited number of clients.  I am working with a charity that provides 
internet services to those with impaired vision, the intention of my 
project was to set up a semi-public proxy for recipient of the charity 
(EG, we would install DD-WRT like routers within their homes that would 
create a tunnel into our network so that they could browse the internet 
using off-the-shelf systems.  We recently received a large number of 
tablets form a corporate donor, the tablets themselves will work for our 
recipients, but unfortunately the internet at large does not.

We've looked into commercial systems in the past, but we cannot afford 
the cost of commercial systems, especially since we are unsure about the 
exact licensing that would be needed for our endeavor.  We have also 
been burnt in the past with commercial software where the project either 
goes dead, begins to require insanely expensive appliances, or the 
license price is sent sky-high.

Would it be possible to use a setup of Squid &lt;-&gt; Privoxy &lt;-&gt; Squid to 
execute this?  I figure we'd build an internal instance that will handle 
the client&lt;-&gt;proxy part, Privoxy handles the content modification, then 
a second Squid instance to handle the web server&lt;-&gt;proxy part.

SO it looks like the solution would be to find a developer to write an 
ECAP to cycle through regexes to replace/remove HTML/CSS content.  So 
time to dig out my old C++ books and get to work...

-Christopher

Eliezer Croitoru wrote:
&gt;<i> Hey Christopher,
</I>&gt;<i>
</I>&gt;<i> For such a solution you will be required to have a content adaptation service that was designed to render the JS and other content in the page.
</I>&gt;<i> It's not something you would find out there just waiting for you since a lot of work is required to write such a piece of software.
</I>&gt;<i> The current solution makes sense.
</I>&gt;<i>
</I>&gt;<i> All The Bests,
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Christopher Ahrens
</I>&gt;<i> Sent: Sunday, August 20, 2017 01:37
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [squid-users] Content Adaptation with HTTPs
</I>&gt;<i>
</I>&gt;<i> I am looking for guidance on doing Content Adaptation with https traffic
</I>&gt;<i> on my network to aid some accessibility systems like increasing the
</I>&gt;<i> contrast between text and the background (Modifying font color and
</I>&gt;<i> background tags, removing background images) or removing extraneous
</I>&gt;<i> content such a social media buttons, external javascript, removing
</I>&gt;<i> auto-play from audio streams (So that the audio stream does not drown
</I>&gt;<i> out the screen reader)
</I>&gt;<i>
</I>&gt;<i> Right now I am doing this AdBlockPlus + Element Hider and GreaseMonkey.
</I>&gt;<i>
</I>&gt;<i> My goal here is to essentially do the same as those tools but for the
</I>&gt;<i> entire network so that these changes can still be applied for devices
</I>&gt;<i> that do not support extensions and the like.
</I>&gt;<i>
</I>&gt;<i> I looked at the ICAP services available and nothing there will work for
</I>&gt;<i> my purposes.
</I>&gt;<i>
</I>&gt;<i> -Christopher
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016156.html">[squid-users] Content Adaptation with HTTPs
</A></li>
	<LI>Next message (by thread): <A HREF="016160.html">[squid-users] Content Adaptation with HTTPs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16159">[ date ]</a>
              <a href="thread.html#16159">[ thread ]</a>
              <a href="subject.html#16159">[ subject ]</a>
              <a href="author.html#16159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
