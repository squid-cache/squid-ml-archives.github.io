<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] WARNING: HTTP requires the use of Via
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20WARNING%3A%20HTTP%20requires%20the%20use%20of%20Via&In-Reply-To=%3C6471d8ca-7776-b686-e081-95f31e0db61a%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017197.html">
   <LINK REL="Next"  HREF="017199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] WARNING: HTTP requires the use of Via</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20WARNING%3A%20HTTP%20requires%20the%20use%20of%20Via&In-Reply-To=%3C6471d8ca-7776-b686-e081-95f31e0db61a%40treenet.co.nz%3E"
       TITLE="[squid-users] WARNING: HTTP requires the use of Via">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Dec 13 17:03:22 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017197.html">[squid-users] WARNING: HTTP requires the use of Via
</A></li>
        <LI>Next message (by thread): <A HREF="017199.html">[squid-users] Website bypass with always-direct
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17200">[ date ]</a>
              <a href="thread.html#17200">[ thread ]</a>
              <a href="subject.html#17200">[ subject ]</a>
              <a href="author.html#17200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/12/17 03:12, erdosain9 wrote:
&gt;<i> Im having this warning in the log.
</I>&gt;<i> I dont find anything related to this in google, so.
</I>&gt;<i> 
</I>&gt;<i> What could be??
</I>
You have configured &quot;via off&quot;.

HTTP specification RFC 7230 section 5.7.1:
&quot;
    A proxy MUST send an appropriate Via header field, as described
    below, in each message that it forwards.
&quot;

Thus the *warning*. Things can go horribly wrong if it is disabled.

Via headers' purpose is to reveal which transport protocols an HTTP 
message is traveling over so the client and server endpoints can 
automatically determine which HTTP mechanisms will (or not) work.

If used properly it can avoid multiple round-trips of 4xx and 5xx errors 
or message timeouts occuring - with all the bandwidth, CPU and delays 
involved with those.


&gt;<i> this is my config
</I>...
&gt;<i> 
</I>&gt;<i> ###ACTIVAR EN CASO DE &quot;Connection reset by peer&quot; EN MUCHOS HOST
</I>&gt;<i> via off
</I>&gt;<i> forwarded_for delete
</I>&gt;<i> 
</I>
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017197.html">[squid-users] WARNING: HTTP requires the use of Via
</A></li>
	<LI>Next message (by thread): <A HREF="017199.html">[squid-users] Website bypass with always-direct
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17200">[ date ]</a>
              <a href="thread.html#17200">[ thread ]</a>
              <a href="subject.html#17200">[ subject ]</a>
              <a href="author.html#17200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
