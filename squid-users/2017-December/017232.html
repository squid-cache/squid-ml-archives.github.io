<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid configuration not working to set up connection between local and remote hosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20configuration%20not%20working%20to%20set%20up%20connection%0A%20between%20local%20and%20remote%20hosts&In-Reply-To=%3C1513625214122-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017258.html">
   <LINK REL="Next"  HREF="017233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid configuration not working to set up connection between local and remote hosts</H1>
    <B>tappdint</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20configuration%20not%20working%20to%20set%20up%20connection%0A%20between%20local%20and%20remote%20hosts&In-Reply-To=%3C1513625214122-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid configuration not working to set up connection between local and remote hosts">akash.kumar.patel at appdirect.com
       </A><BR>
    <I>Mon Dec 18 19:26:54 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017258.html">[squid-users] TCP out of memory
</A></li>
        <LI>Next message (by thread): <A HREF="017233.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17232">[ date ]</a>
              <a href="thread.html#17232">[ thread ]</a>
              <a href="subject.html#17232">[ subject ]</a>
              <a href="author.html#17232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For some context I have a squid proxy  container
&lt;<A HREF="https://hub.docker.com/r/datadog/squid/">https://hub.docker.com/r/datadog/squid/</A>&gt;   running on my local computer as
well as my app. There is another &quot;app&quot; (Selenium) on another host that runs
test on my local app and needs to be on the same network to access the app.
This is what I use squid for, to have both the remote an local apps on the
same docker network.

With my current default configuration, the remote app starts up a chrome
browser to run the tests but then gives a ERR_PROXY_CONNECTION_FAILED error
message when trying to access the app host. This leads me to believe that my
squid proxy's configuration is not set up correctly. The docker hub states
that /&quot;the configuration available with the container is set for local
access, you may need to tweak it if your network scenario is different.&quot;/.
I'm not sure exactly what I should be looking into to tweak the config. When
I had the external app running in a vm locally the proxy was able to set up
the connection between the two properly but this remote host does not have
the same results.

Here is my configuration, its just the basic config provided with the image
with all the extra clutter/comments removed.
/
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl CONNECT method CONNECT

# Recommended minimum Access Permission configuration:
# Deny requests to certain unsafe ports
http_access deny !Safe_ports

# Deny CONNECT to other than secure SSL ports
http_access deny CONNECT !SSL_ports

# Only allow cachemgr access from localhost
http_access allow localhost manager
http_access deny manager

http_access deny to_localhost

http_access allow localnet
http_access allow localhost
# And finally deny all other access to this proxy
http_access deny all


# Squid normally listens to port 3128
http_port 3128

debug_options rotate=1 ALL,2/

Any ideas what I should look at for more information? Thanks!



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017258.html">[squid-users] TCP out of memory
</A></li>
	<LI>Next message (by thread): <A HREF="017233.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17232">[ date ]</a>
              <a href="thread.html#17232">[ thread ]</a>
              <a href="subject.html#17232">[ subject ]</a>
              <a href="author.html#17232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
