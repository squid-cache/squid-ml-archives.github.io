<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid configuration not working to set up connection between local and remote hosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20configuration%20not%20working%20to%20set%20up%0A%20connection%20between%20local%20and%20remote%20hosts&In-Reply-To=%3C9fc99492-e347-2fa9-6a63-d71063dd2b89%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017234.html">
   <LINK REL="Next"  HREF="017236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid configuration not working to set up connection between local and remote hosts</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20configuration%20not%20working%20to%20set%20up%0A%20connection%20between%20local%20and%20remote%20hosts&In-Reply-To=%3C9fc99492-e347-2fa9-6a63-d71063dd2b89%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid configuration not working to set up connection between local and remote hosts">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Dec 18 22:28:52 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017234.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
        <LI>Next message (by thread): <A HREF="017236.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17235">[ date ]</a>
              <a href="thread.html#17235">[ thread ]</a>
              <a href="subject.html#17235">[ subject ]</a>
              <a href="author.html#17235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/12/17 09:45, tappdint wrote:
&gt;<i> Amos Jeffries wrote
</I>&gt;&gt;<i> ^^ localnet and localhost are permitted, nothing else.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You need to find out what other access Selenium requires and how it can
</I>&gt;&gt;<i> reliably be identified. Then add http_access rules here to allow it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> # And finally deny all other access to this proxy
</I>&gt;&gt;&gt;<i> http_access deny all
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> # Squid normally listens to port 3128
</I>&gt;&gt;&gt;<i> http_port 3128
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> debug_options rotate=1 ALL,2/
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Any ideas what I should look at for more information? Thanks!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The access.log records the connection details for the failed requests.
</I>&gt;&gt;<i> You should usually be able to find most of the details necessary there.
</I>&gt;<i> 
</I>&gt;<i> Sorry could you clarify what is meant by /what other access Selenium
</I>&gt;<i> requires and how it can
</I>&gt;<i> reliably be identified/?
</I>
To let something through the proxy, you need to know what that thing is 
and either what its TCP connections or HTTP messages look like when it 
contacts the proxy.

Whatever those details are is what you need to find out before you can 
make any meaningful squid.conf changes.

(I don't know that test system to be any more specific.)


&gt;<i> In order for Selenium to run the tests I have to
</I>&gt;<i> set up the proxy address in the java code that creates the driver.  In that
</I>&gt;<i> code I use my inet address that I get from ifconfig. So the proxy address is
</I>&gt;<i> &quot;INET_IP:3128&quot;. The script that runs the test requires the host and port
</I>&gt;<i> where Selenium is located (external_host_address with port 443 since it is
</I>&gt;<i> https). As for the logs, I tried to look at the access logs after the tests
</I>&gt;<i> failed to run but unfortunately access.log was empty.
</I>
Empty access.log means it is not going through the proxy. Or maybe using 
a CONNECT tunnel which is still open when you checked.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017234.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
	<LI>Next message (by thread): <A HREF="017236.html">[squid-users] Squid configuration not working to set up connection between local and remote hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17235">[ date ]</a>
              <a href="thread.html#17235">[ thread ]</a>
              <a href="subject.html#17235">[ subject ]</a>
              <a href="author.html#17235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
