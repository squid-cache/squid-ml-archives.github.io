<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid error BUG 3279: HTTP reply without Date:
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20error%20BUG%203279%3A%20HTTP%20reply%20without%20Date%3A&In-Reply-To=%3Ceb5c8095-147d-ab50-64b3-90ad35a4f957%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014315.html">
   <LINK REL="Next"  HREF="014319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid error BUG 3279: HTTP reply without Date:</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20error%20BUG%203279%3A%20HTTP%20reply%20without%20Date%3A&In-Reply-To=%3Ceb5c8095-147d-ab50-64b3-90ad35a4f957%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid error BUG 3279: HTTP reply without Date:">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb  1 03:29:46 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014315.html">[squid-users] Squid error BUG 3279: HTTP reply without Date:
</A></li>
        <LI>Next message (by thread): <A HREF="014319.html">[squid-users] Squid error BUG 3279: HTTP reply without Date:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14316">[ date ]</a>
              <a href="thread.html#14316">[ thread ]</a>
              <a href="subject.html#14316">[ subject ]</a>
              <a href="author.html#14316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/02/2017 4:09 p.m., Tory M Blue wrote:
&gt;<i> I moved to a different disk today. System was down, I rsyncd the cache
</I>&gt;<i> directory over, including everything and the swap files etc. Squid starts
</I>&gt;<i> just fine but Im seeing this error once a minute or more.
</I>&gt;<i> 
</I>&gt;<i> Also note, I stopped the system, moved it back to the original disk and I'm
</I>&gt;<i> getting these errors. Nothing has changed on the original disk, so i'm
</I>&gt;<i> unclear what is happening here.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Any ideas?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Older version *squid*-3.3.8, on CentOS7
</I>&gt;<i> 
</I>
Squid is loading things that were provided to it without a Date header
out of the cache. It cannot handle that. Current versions will
synthesize a Date and Last-Modified if needed - which resolves most
cases of this problem. 3.3 does not have that improvement, it just
detects the bug and warns as it drops the object.

This can happen if you have refresh_pattern config options overriding
various of the caching headers. Squid can be fooled by those
override-*/ignore-* options into thinking it can re-use the object but
realy it lacks the headers to do so.

The warnings should gradually disappear as the old data in the cache
gets found and dropped. If it continues you should consider an upgrade.
You can find more up to date packages for CentOS at the links here:
&lt;<A HREF="http://wiki.squid-cache.org/KnowledgeBase/CentOS">http://wiki.squid-cache.org/KnowledgeBase/CentOS</A>&gt;


Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014315.html">[squid-users] Squid error BUG 3279: HTTP reply without Date:
</A></li>
	<LI>Next message (by thread): <A HREF="014319.html">[squid-users] Squid error BUG 3279: HTTP reply without Date:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14316">[ date ]</a>
              <a href="thread.html#14316">[ thread ]</a>
              <a href="subject.html#14316">[ subject ]</a>
              <a href="author.html#14316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
