<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] internal image call busted?	/squid-internal-static/icons/SN.png
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20internal%20image%20call%20busted%3F%0A%09/squid-internal-static/icons/SN.png&In-Reply-To=%3CCAEaSS0ZcrLJwwjaN762fKFNhNtrMeX4pv4sz81gq%2Bvw35YZY7w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014430.html">
   <LINK REL="Next"  HREF="014436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] internal image call busted?	/squid-internal-static/icons/SN.png</H1>
    <B>Tory M Blue</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20internal%20image%20call%20busted%3F%0A%09/squid-internal-static/icons/SN.png&In-Reply-To=%3CCAEaSS0ZcrLJwwjaN762fKFNhNtrMeX4pv4sz81gq%2Bvw35YZY7w%40mail.gmail.com%3E"
       TITLE="[squid-users] internal image call busted?	/squid-internal-static/icons/SN.png">tmblue at gmail.com
       </A><BR>
    <I>Sat Feb 11 01:05:07 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014430.html">[squid-users] internal image call busted?	/squid-internal-static/icons/SN.png
</A></li>
        <LI>Next message (by thread): <A HREF="014436.html">[squid-users] internal image call busted? /squid-internal-static/icons/SN.png
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14431">[ date ]</a>
              <a href="thread.html#14431">[ thread ]</a>
              <a href="subject.html#14431">[ subject ]</a>
              <a href="author.html#14431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 10, 2017 at 2:58 PM, Tory M Blue &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">tmblue at gmail.com</A>&gt; wrote:

&gt;<i> Sorry image didn't come through, i'm talking about this error
</I>&gt;<i>
</I>&gt;<i> ERRORThe requested URL could not be retrieved
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> *Invalid Request* error was encountered while trying to process the
</I>&gt;<i> request:
</I>&gt;<i>
</I>&gt;<i> GET /squid-internal-static/icons/SN.png HTTP/1.1
</I>&gt;<i> Connection: keep-alive
</I>&gt;<i> Upgrade-Insecure-Requests: 1
</I>&gt;<i> User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36
</I>&gt;<i> Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
</I>&gt;<i> DNT: 1
</I>&gt;<i> Accept-Encoding: gzip, deflate, sdch
</I>&gt;<i> Accept-Language: en-US,en;q=0.8,ru;q=0.6
</I>&gt;<i> Cookie: dtuid=1471486181650244744
</I>&gt;<i> Host: cache03
</I>&gt;<i>
</I>&gt;<i> Some possible problems are:
</I>&gt;<i>
</I>&gt;<i>    -
</I>&gt;<i>
</I>&gt;<i>    Request is too large.
</I>&gt;<i>    -
</I>&gt;<i>
</I>&gt;<i>    Content-Length missing for POST or PUT requests.
</I>&gt;<i>    -
</I>&gt;<i>
</I>&gt;<i>    Illegal character in hostname; underscores are not allowed.
</I>&gt;<i>    -
</I>&gt;<i>
</I>&gt;<i>    HTTP/1.1 Expect: feature is being asked from an HTTP/1.0 software.
</I>&gt;<i>
</I>&gt;<i> Your cache administrator is webmaster
</I>&gt;<i> &lt;webmaster?subject=CacheErrorInfo%20-%20ERR_INVALID_REQ&amp;body=CacheHost%3A%20cache03%0D%0AErrPage%3A%20ERR_INVALID_REQ%0D%0AErr%3A%20%5Bnone%5D%0D%0ATimeStamp%3A%20Fri,%2010%20Feb%202017%2022%3A58%3A21%20GMT%0D%0A%0D%0AClientIP%3A%20100.99.67.26%0D%0A%0D%0AHTTP%20Request%3A%0D%0AGET%20%2Fsquid-internal-static%2Ficons%2FSN.png%20HTTP%2F1.1%0AConnection%3A%20keep-alive%0D%0AUpgrade-Insecure-Requests%3A%201%0D%0AUser-Agent%3A%20Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_6)%20AppleWebKit%2F537.36%20(KHTML,%20like%20Gecko)%20Chrome%2F55.0.2883.95%20Safari%2F537.36%0D%0AAccept%3A%20text%2Fhtml,application%2Fxhtml+xml,application%2Fxml%3Bq%3D0.9,image%2Fwebp,*%2F*%3Bq%3D0.8%0D%0ADNT%3A%201%0D%0AAccept-Encoding%3A%20gzip,%20deflate,%20sdch%0D%0AAccept-Language%3A%20en-US,en%3Bq%3D0.8,ru%3Bq%3D0.6%0D%0ACookie%3A%20dtuid%3D1471486181650244744%0D%0AHost%3A%20cache03%0D%0A%0D%0A%0D%0A&gt;
</I>&gt;<i> .
</I>&gt;<i>
</I>&gt;<i> On Fri, Feb 10, 2017 at 12:52 PM, Tory M Blue &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">tmblue at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The request just from the browser or curl:
</I>&gt;&gt;<i> <A HREF="http://cache04.prod.ca.domain.net/squid-internal-static/icons/SN.png">http://cache04.prod.ca.domain.net/squid-internal-static/icons/SN.png</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyone know what could have changed in 3.5.20 CentOS7 to cause this check
</I>&gt;&gt;<i> to fail? I use it for internal load balancers to note if the system is able
</I>&gt;&gt;<i> to handle requests.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Not sure why this call is failing now, however it works on my stage
</I>&gt;&gt;<i> deployment &quot;*squid*-3.5.20-1.el7.centos.x86_64&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Same RPM as the impacted systems: *squid*-3.5.20-1.el7.centos.x86_64
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> any idea?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks
</I>&gt;&gt;<i> Tory
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>
Path changed, default is wrong

Where the RPM installed it, the default expects /usr/local/blah....
/usr/share/squid/icons/SN.png

Someone may want to figure out how, why this changed??

Tory
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170210/d5a7a078/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170210/d5a7a078/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014430.html">[squid-users] internal image call busted?	/squid-internal-static/icons/SN.png
</A></li>
	<LI>Next message (by thread): <A HREF="014436.html">[squid-users] internal image call busted? /squid-internal-static/icons/SN.png
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14431">[ date ]</a>
              <a href="thread.html#14431">[ thread ]</a>
              <a href="subject.html#14431">[ subject ]</a>
              <a href="author.html#14431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
