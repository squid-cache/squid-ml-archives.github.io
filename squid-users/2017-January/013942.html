<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] acls with the same name, last wins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20acls%20with%20the%20same%20name%2C%20last%20wins&In-Reply-To=%3Ca6e45038-88a5-bd55-ddda-7d790bbd7b73%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013950.html">
   <LINK REL="Next"  HREF="013945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] acls with the same name, last wins</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20acls%20with%20the%20same%20name%2C%20last%20wins&In-Reply-To=%3Ca6e45038-88a5-bd55-ddda-7d790bbd7b73%40measurement-factory.com%3E"
       TITLE="[squid-users] acls with the same name, last wins">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jan  2 05:40:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013950.html">[squid-users] Squid Websocket Issue
</A></li>
        <LI>Next message (by thread): <A HREF="013945.html">[squid-users] Squid 3.5.23-1 is available for Ubuntu 16.04 LTS (online repo ubuntu16.diladele.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13942">[ date ]</a>
              <a href="thread.html#13942">[ thread ]</a>
              <a href="subject.html#13942">[ subject ]</a>
              <a href="author.html#13942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/29/2016 10:44 PM, Amos Jeffries wrote:

&gt;<i> The intended design for ACLs is that basic/primitive tests check one
</I>&gt;<i> piece of state data and get chained explicitly in the access lines for
</I>&gt;<i> AND/OR conditions. That way it is clear what is being processed and
</I>&gt;<i> matched (or not matched).
</I>
The intended design is to OR same-name ACL lines, just like Ivan
expected. We cannot wiggle ourselves out of that fundamental rule by
pointing to those squid.conf directives that support similar ORing
logic. The behavior reported by Ivan is probably just an unintentional
consequence of header ACL _implementation_ rather than a conscious
design error.

FWIW, IMHO, effectively ignoring some ACLs is a serious bug!


&gt;<i> So for now I am making Squid produce a config ERROR when this config
</I>&gt;<i> situation is found.
</I>
Thank you. A non-fatal ERROR is the right temporary &quot;change&quot; until this
bug is properly fixed.

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013950.html">[squid-users] Squid Websocket Issue
</A></li>
	<LI>Next message (by thread): <A HREF="013945.html">[squid-users] Squid 3.5.23-1 is available for Ubuntu 16.04 LTS (online repo ubuntu16.diladele.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13942">[ date ]</a>
              <a href="thread.html#13942">[ thread ]</a>
              <a href="subject.html#13942">[ subject ]</a>
              <a href="author.html#13942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
