<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl_bump with intermediate CA
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl_bump%20with%20intermediate%20CA&In-Reply-To=%3CBN6PR17MB11400A4762F1969D486FEEFAF7600%40BN6PR17MB1140.namprd17.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013983.html">
   <LINK REL="Next"  HREF="013985.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl_bump with intermediate CA</H1>
    <B>senor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl_bump%20with%20intermediate%20CA&In-Reply-To=%3CBN6PR17MB11400A4762F1969D486FEEFAF7600%40BN6PR17MB1140.namprd17.prod.outlook.com%3E"
       TITLE="[squid-users] ssl_bump with intermediate CA">frio_cervesa at hotmail.com
       </A><BR>
    <I>Thu Jan  5 23:40:29 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013983.html">[squid-users] Squid 3.3.8 is available
</A></li>
        <LI>Next message (by thread): <A HREF="013985.html">[squid-users] ssl_bump with intermediate CA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13984">[ date ]</a>
              <a href="thread.html#13984">[ thread ]</a>
              <a href="subject.html#13984">[ subject ]</a>
              <a href="author.html#13984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All.
I'd like clarification of the documentation at
<A HREF="http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpWithIntermediateCA">http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpWithIntermediateCA</A>

In section &quot;CA certificate preparation&quot; it is stated that a file should
be created with &quot;intermediate CA2 followed by root CA1 in PEM format&quot;.
CA1 is the cert trusted by the clients. CA2 is used to sign the mimicked
certs. And finally the statement &quot;Now Squid can send the intermediate
CA2 public key with root CA1 to client and does not need to install
intermediate CA2 to clients.&quot;

The specification states that the clients MUST NOT use CA1 provided in
the TLS exchange. CA1 must be (and in this scenario is) already included
in its trusted store of CAs.

As I understand it, the TLS exchange with the client for a bumped
connection should have the mimicked server cert followed by the
intermediate cert (CA2) and that's all. The client completes the chain
with the already trusted CA1.

The example file created is used for cafile= option to http_port which
is supposed to be for verifying client certs which is not part of this
scenario.

This is getting a little long-winded so I'll wait to see what anyone has
to say about my assumptions or understanding.

Thanks,
Senor

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013983.html">[squid-users] Squid 3.3.8 is available
</A></li>
	<LI>Next message (by thread): <A HREF="013985.html">[squid-users] ssl_bump with intermediate CA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13984">[ date ]</a>
              <a href="thread.html#13984">[ thread ]</a>
              <a href="subject.html#13984">[ subject ]</a>
              <a href="author.html#13984">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
