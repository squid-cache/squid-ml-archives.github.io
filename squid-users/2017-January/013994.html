<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is it possible to modify cached object?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20it%20possible%20to%20modify%20cached%20object%3F&In-Reply-To=%3Cb52d58fd-336e-b1b8-1453-38ec44e38870%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013993.html">
   <LINK REL="Next"  HREF="014012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is it possible to modify cached object?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20it%20possible%20to%20modify%20cached%20object%3F&In-Reply-To=%3Cb52d58fd-336e-b1b8-1453-38ec44e38870%40measurement-factory.com%3E"
       TITLE="[squid-users] Is it possible to modify cached object?">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Jan  6 19:21:16 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013993.html">[squid-users] Is it possible to modify cached object?
</A></li>
        <LI>Next message (by thread): <A HREF="014012.html">[squid-users] Is it possible to modify cached object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13994">[ date ]</a>
              <a href="thread.html#13994">[ thread ]</a>
              <a href="subject.html#13994">[ subject ]</a>
              <a href="author.html#13994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/06/2017 11:35 AM, boruc wrote:

&gt;<i> I am facing a really big problem (for me). I've set up a home network (few
</I>&gt;<i> PCs, some mobiles) with squid proxying all requests. Is it possible to
</I>&gt;<i> change cached objects manually? Let's say I have an object that contains
</I>&gt;<i> /www.example.com/ page HTML source and what I want to do is e.g. change some
</I>&gt;<i> words so users will see modified pages. I won't do this with HTTPS of
</I>&gt;<i> course, just HTTP.
</I>&gt;<i> 
</I>&gt;<i> I tried to do that (I've changed one letter, so content length won't
</I>&gt;<i> change), but after refreshing a page that cached file disappeared. Here's my
</I>&gt;<i> refresh_pattern config section:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Or maybe there's another way to achieve my goal with squid?
</I>
If you just want to change one or two cached files once and do not care
that they will be replaced by fresher copies eventually (possibly
immediately; see P.S.), then you can very carefully hand-edit the cached
content on disk and restart Squid (to get rid of in-memory cached
copies, if any). You have to preserve the old content length of the
edited response and all [binary] metadata. Most editors will not do that
for you. A response may even contain a Content-MD5 checksum. This hack
is technically possible in some cases but it is unsupported.

Otherwise, what you want to do is called Content Adaptation. There are
several ways to do it as summarized at
<A HREF="http://wiki.squid-cache.org/SquidFaq/ContentAdaptation">http://wiki.squid-cache.org/SquidFaq/ContentAdaptation</A>

HTH,

Alex.
P.S. Squid may get a fresh copy from the origin server if you tell the
browser to refresh the page or if Squid decides to refresh it for other
reasons. Your refresh patterns may combat some of these problems. Please
note that the patterns you used did not reach this mailing list.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013993.html">[squid-users] Is it possible to modify cached object?
</A></li>
	<LI>Next message (by thread): <A HREF="014012.html">[squid-users] Is it possible to modify cached object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13994">[ date ]</a>
              <a href="thread.html#13994">[ thread ]</a>
              <a href="subject.html#13994">[ subject ]</a>
              <a href="author.html#13994">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
