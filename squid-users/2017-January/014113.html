<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Users inserted incorrectly in access.log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Users%20inserted%20incorrectly%20in%20access.log&In-Reply-To=%3C1484833020698-4681196.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014112.html">
   <LINK REL="Next"  HREF="014122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Users inserted incorrectly in access.log</H1>
    <B>Eduardo Carneiro</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Users%20inserted%20incorrectly%20in%20access.log&In-Reply-To=%3C1484833020698-4681196.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Users inserted incorrectly in access.log">eduardoocarneiro at gmail.com
       </A><BR>
    <I>Thu Jan 19 13:37:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014112.html">[squid-users] Connect strongSwan and Squid on same server
</A></li>
        <LI>Next message (by thread): <A HREF="014122.html">[squid-users] Users inserted incorrectly in access.log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14113">[ date ]</a>
              <a href="thread.html#14113">[ thread ]</a>
              <a href="subject.html#14113">[ subject ]</a>
              <a href="author.html#14113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone.

I have a environment with one frontend server and three parent servers in
culster. The frontend server receives all client connections and forward
them to parent servers. There is no exist any authentication method in the
frontend server. In the parent servers the requests are authenticated via
KERBEROS.

The problem is, when there are simultaneous accesses to any site, usernames,
many times, are inserted incorrectly in the access.log. Per example, the
user &quot;userA&quot; accesses microsoft.com, but on access.log, shows &quot;userB&quot;.

On the frontend server, there are these three lines:

cache_peer server1.domain.com parent 8080 3130 round-robin sourcehash
no-query login=PASSTHRU connection-auth=on
cache_peer server2.domain.com parent 8080 3130 round-robin sourcehash
no-query login=PASSTHRU connection-auth=on
cache_peer server3.domain.com parent 8080 3130 round-robin sourcehash
no-query login=PASSTHRU connection-auth=on

I noticed that when the access is direct to some parent server, this problem
do not occurs. Only if connection pass by frontend.

Is this a bug?

Someone could help me? 




--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Users-inserted-incorrectly-in-access-log-tp4681196.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Users-inserted-incorrectly-in-access-log-tp4681196.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014112.html">[squid-users] Connect strongSwan and Squid on same server
</A></li>
	<LI>Next message (by thread): <A HREF="014122.html">[squid-users] Users inserted incorrectly in access.log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14113">[ date ]</a>
              <a href="thread.html#14113">[ thread ]</a>
              <a href="subject.html#14113">[ subject ]</a>
              <a href="author.html#14113">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
