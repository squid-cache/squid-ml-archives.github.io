<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Dstdomain &quot;there are more than 100	regular	expressions&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dstdomain%20%22there%20are%20more%20than%20100%0A%09regular%09expressions%22&In-Reply-To=%3C011701d2f72d%2458041fe0%24080c5fa0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015831.html">
   <LINK REL="Next"  HREF="015834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Dstdomain &quot;there are more than 100	regular	expressions&quot;</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dstdomain%20%22there%20are%20more%20than%20100%0A%09regular%09expressions%22&In-Reply-To=%3C011701d2f72d%2458041fe0%24080c5fa0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Dstdomain &quot;there are more than 100	regular	expressions&quot;">eliezer at ngtech.co.il
       </A><BR>
    <I>Fri Jul  7 14:28:46 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015831.html">[squid-users] Dstdomain &quot;there are more than 100 regular expressions&quot;
</A></li>
        <LI>Next message (by thread): <A HREF="015834.html">[squid-users] Squid caching bad objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15849">[ date ]</a>
              <a href="thread.html#15849">[ thread ]</a>
              <a href="subject.html#15849">[ subject ]</a>
              <a href="author.html#15849">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

The choice to work with regular expressions on domain names is kind of weird to me.
I would try to explain why I am thinking this way.
Let say I have a domain such as:
p.ngtech.co.il
and this domain has many sub domains and I want to catch each and every one of these domains how would I block them using a regex?
^s1\.p\.ngtech\.co\.il$
Or
^s[0-9]+\.p.ngtech\.co\.il$

What did I earned if the whole ngtech.co.il domain contains content that I don&#8217;t want?
There are very specific cases which regex are good for domains blacklisting but if you need them so much then just split them into two groups of 90 to overcome the squid warning.
If you are using a blacklist which offers you a blacklist with regex then I think you are using the wrong one or using it the wrong way.

If you want me to help you with this matter we can findout together if there is a much smarter and better way to block these sites then first making sure that the domain is not a match for more then 100 regex.

All The Bests,
Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of erdosain9
Sent: Thursday, July 6, 2017 16:23
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Dstdomain &quot;there are more than 100 regular expressions&quot;

Hi. I have this in my cache.log

ad_block, is a list for block publicity. 

there is a best way to do that??

2017/07/06 10:35:49| /etc/squid/squid.conf line 55: acl ads dstdom_regex &quot;/etc/squid/listas/ad_block.lst&quot;
2017/07/06 10:35:49| WARNING: there are more than 100 regular expressions.
Consider using less REs or use rules without expressions like 'dstdomain'.


Thanks to all.



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Dstdomain-there-are-more-than-100-regular-expressions-tp4682999.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Dstdomain-there-are-more-than-100-regular-expressions-tp4682999.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015831.html">[squid-users] Dstdomain &quot;there are more than 100 regular expressions&quot;
</A></li>
	<LI>Next message (by thread): <A HREF="015834.html">[squid-users] Squid caching bad objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15849">[ date ]</a>
              <a href="thread.html#15849">[ thread ]</a>
              <a href="subject.html#15849">[ subject ]</a>
              <a href="author.html#15849">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
