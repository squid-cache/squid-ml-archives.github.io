<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Chaining%20icap%20and%20ecap%20services%20-%20FATAL%3A%20Received%0A%20Segment%20Violation...dying.&In-Reply-To=%3C1499672747720-4683042.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015869.html">
   <LINK REL="Next"  HREF="015872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.</H1>
    <B>bugreporter</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Chaining%20icap%20and%20ecap%20services%20-%20FATAL%3A%20Received%0A%20Segment%20Violation...dying.&In-Reply-To=%3C1499672747720-4683042.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.">bugreporter2017 at gmail.com
       </A><BR>
    <I>Mon Jul 10 07:45:47 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015869.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
        <LI>Next message (by thread): <A HREF="015872.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15870">[ date ]</a>
              <a href="thread.html#15870">[ thread ]</a>
              <a href="subject.html#15870">[ subject ]</a>
              <a href="author.html#15870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Yuri
,
Below the gdb backtrace. I hope that it could help you resolving the issue.

Regarding Squid-4.0 my understanding is that it is a beta version while I
need a stable version. Actually at this stage upgrading to 4.0  would
represent a lot of integration, testing and validation work. Therefore,
either I abandon the idea to have ecap and icap at the same time or the bug
can be fixed (or at least we can find a workaround).

8&lt;-----------------------------------------------------------------------------------------------------------------------------------------
GNU gdb (GDB) 7.5
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
&lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;x86_64-unknown-linux-gnu&quot;.
For bug reporting instructions, please see:
&lt;<A HREF="http://www.gnu.org/software/gdb/bugs/">http://www.gnu.org/software/gdb/bugs/</A>&gt;...
Reading symbols from /sbin/squid...done.
[New LWP 4452]

warning: Could not load shared library symbols for linux-vdso.so.1.
Do you need &quot;set solib-search-path&quot; or &quot;set sysroot&quot;?
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib/libthread_db.so.1&quot;.
Core was generated by `(squid-1) -f /etc/squid.conf'.
Program terminated with signal 6, Aborted.
#0  0x00007fc47fa6a3a9 in raise () from /lib/libc.so.6
(gdb) bt full
#0  0x00007fc47fa6a3a9 in raise () from /lib/libc.so.6
No symbol table info available.
#1  0x00007fc47fa6b7a8 in abort () from /lib/libc.so.6
No symbol table info available.
#2  0x000000000066186e in death (sig=&lt;optimized out&gt;) at tools.cc:356
No locals.
#3  &lt;signal handler called&gt;
No symbol table info available.
#4  0x00007fc45cfc8bb0 in Adapter::Xaction::noteVbContentDone
(this=0x25c8cb0, atEnd=&lt;optimized out&gt;) at adapter_gzip.cc:533
No locals.
#5  0x00000000007eff28 in
Adaptation::Ecap::XactionRep::noteBodyProductionEnded (this=0x25bd928,
bp=...) at XactionRep.cc:657
No locals.
#6  0x000000000057332d in UnaryMemFunT&lt;BodyConsumer, RefCount&lt;BodyPipe&gt;,
RefCount&lt;BodyPipe&gt; &gt;::doDial (this=0x261c880) at base/AsyncJobCalls.h:121
No locals.
#7  0x00000000005737f9 in JobDialer&lt;BodyConsumer&gt;::dial (this=0x261c880,
call=...) at base/AsyncJobCalls.h:174
        __FUNCTION__ = &quot;dial&quot;
#8  0x00000000006e45a7 in AsyncCall::make (this=0x261c850) at
AsyncCall.cc:40
        __FUNCTION__ = &quot;make&quot;
#9  0x00000000006e8722 in AsyncCallQueue::fireNext
(this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x1d94e20) at AsyncCallQueue.cc:56
        call = {p_ = 0x261c850}
        __FUNCTION__ = &quot;fireNext&quot;
#10 0x00000000006e8b60 in AsyncCallQueue::fire (this=0x1d94e20) at
AsyncCallQueue.cc:42
        made = true
#11 0x000000000058b109 in dispatchCalls (this=0x7ffd7f0c0e20) at
EventLoop.cc:143
        dispatchedSome = &lt;optimized out&gt;
#12 EventLoop::runOnce (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7ffd7f0c0e20) at EventLoop.cc:120
        sawActivity = &lt;optimized out&gt;
        waitingEngine = 0x7ffd7f0c0db0
#13 0x000000000058b1f0 in EventLoop::run (this=0x7ffd7f0c0e20) at
EventLoop.cc:82
No locals.
#14 0x00000000005ee425 in SquidMain (argc=&lt;optimized out&gt;, argv=&lt;optimized
out&gt;) at main.cc:1541
        __FUNCTION__ = &quot;SquidMain&quot;
        signalEngine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0x8829d0
&lt;vtable for SignalEngine+16&gt;}, &lt;No data fields&gt;}
        store_engine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0x882990
&lt;vtable for StoreRootEngine+16&gt;}, &lt;No data fields&gt;}
        comm_engine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0xb68ab0 &lt;vtable
for CommSelectEngine+16&gt;}, &lt;No data fields&gt;}
        mainLoop = {errcount = 0, static Running = 0x7ffd7f0c0e20, last_loop
= false, engines = {&lt;std::_Vector_base&lt;AsyncEngine*,
std::allocator&lt;AsyncEngine*&gt; &gt;&gt; = {
              _M_impl = {&lt;std::allocator&lt;AsyncEngine*&gt;&gt; =
{&lt;__gnu_cxx::new_allocator&lt;AsyncEngine*&gt;&gt; = {&lt;No data fields&gt;}, &lt;No data
fields&gt;}, _M_start = 0x2202150, _M_finish = 0x2202170, 
                _M_end_of_storage = 0x2202170}}, &lt;No data fields&gt;},
timeService = 0x7ffd7f0c0dc0, primaryEngine = 0x7ffd7f0c0db0, loop_delay =
0, error = false, runOnceResult = false}
        time_engine = {_vptr.TimeEngine = 0x892550 &lt;vtable for
TimeEngine+16&gt;}
#15 0x00000000005082cb in SquidMainSafe (argv=&lt;optimized out&gt;,
argc=&lt;optimized out&gt;) at main.cc:1265
No locals.
#16 main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1258
No locals.
(gdb)                                                                                                                                                                                                                                                                                                                                                                                                                                   
8&lt;-----------------------------------------------------------------------------------------------------------------------------------------

Warm Regards, 




-----
Bug Reporter Contributor
OpenSource = Open-Minded
--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Chaining-icap-and-ecap-services-FATAL-Received-Segment-Violation-dying-tp4683033p4683042.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Chaining-icap-and-ecap-services-FATAL-Received-Segment-Violation-dying-tp4683033p4683042.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015869.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
	<LI>Next message (by thread): <A HREF="015872.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15870">[ date ]</a>
              <a href="thread.html#15870">[ thread ]</a>
              <a href="subject.html#15870">[ subject ]</a>
              <a href="author.html#15870">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
