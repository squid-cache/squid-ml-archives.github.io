<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Chaining%20icap%20and%20ecap%20services%20-%20FATAL%3A%20Received%0A%20Segment%20Violation...dying.&In-Reply-To=%3C749fadf0-6b34-f1cc-9c1c-5f3c2304e3b4%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015870.html">
   <LINK REL="Next"  HREF="015896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.</H1>
    <B>Yuri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Chaining%20icap%20and%20ecap%20services%20-%20FATAL%3A%20Received%0A%20Segment%20Violation...dying.&In-Reply-To=%3C749fadf0-6b34-f1cc-9c1c-5f3c2304e3b4%40gmail.com%3E"
       TITLE="[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.">yvoinov at gmail.com
       </A><BR>
    <I>Mon Jul 10 13:50:33 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015870.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
        <LI>Next message (by thread): <A HREF="015896.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15872">[ date ]</a>
              <a href="thread.html#15872">[ thread ]</a>
              <a href="subject.html#15872">[ subject ]</a>
              <a href="author.html#15872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yup, seems this is

<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4597">http://bugs.squid-cache.org/show_bug.cgi?id=4597</A>


10.07.2017 13:45, bugreporter &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Hi Yuri
</I>&gt;<i> ,
</I>&gt;<i> Below the gdb backtrace. I hope that it could help you resolving the issue.
</I>&gt;<i>
</I>&gt;<i> Regarding Squid-4.0 my understanding is that it is a beta version while I
</I>&gt;<i> need a stable version. Actually at this stage upgrading to 4.0  would
</I>&gt;<i> represent a lot of integration, testing and validation work. Therefore,
</I>&gt;<i> either I abandon the idea to have ecap and icap at the same time or the bug
</I>&gt;<i> can be fixed (or at least we can find a workaround).
</I>&gt;<i>
</I>&gt;<i> 8&lt;-----------------------------------------------------------------------------------------------------------------------------------------
</I>&gt;<i> GNU gdb (GDB) 7.5
</I>&gt;<i> Copyright (C) 2012 Free Software Foundation, Inc.
</I>&gt;<i> License GPLv3+: GNU GPL version 3 or later
</I>&gt;<i> &lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;
</I>&gt;<i> This is free software: you are free to change and redistribute it.
</I>&gt;<i> There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
</I>&gt;<i> and &quot;show warranty&quot; for details.
</I>&gt;<i> This GDB was configured as &quot;x86_64-unknown-linux-gnu&quot;.
</I>&gt;<i> For bug reporting instructions, please see:
</I>&gt;<i> &lt;<A HREF="http://www.gnu.org/software/gdb/bugs/">http://www.gnu.org/software/gdb/bugs/</A>&gt;...
</I>&gt;<i> Reading symbols from /sbin/squid...done.
</I>&gt;<i> [New LWP 4452]
</I>&gt;<i>
</I>&gt;<i> warning: Could not load shared library symbols for linux-vdso.so.1.
</I>&gt;<i> Do you need &quot;set solib-search-path&quot; or &quot;set sysroot&quot;?
</I>&gt;<i> [Thread debugging using libthread_db enabled]
</I>&gt;<i> Using host libthread_db library &quot;/lib/libthread_db.so.1&quot;.
</I>&gt;<i> Core was generated by `(squid-1) -f /etc/squid.conf'.
</I>&gt;<i> Program terminated with signal 6, Aborted.
</I>&gt;<i> #0  0x00007fc47fa6a3a9 in raise () from /lib/libc.so.6
</I>&gt;<i> (gdb) bt full
</I>&gt;<i> #0  0x00007fc47fa6a3a9 in raise () from /lib/libc.so.6
</I>&gt;<i> No symbol table info available.
</I>&gt;<i> #1  0x00007fc47fa6b7a8 in abort () from /lib/libc.so.6
</I>&gt;<i> No symbol table info available.
</I>&gt;<i> #2  0x000000000066186e in death (sig=&lt;optimized out&gt;) at tools.cc:356
</I>&gt;<i> No locals.
</I>&gt;<i> #3  &lt;signal handler called&gt;
</I>&gt;<i> No symbol table info available.
</I>&gt;<i> #4  0x00007fc45cfc8bb0 in Adapter::Xaction::noteVbContentDone
</I>&gt;<i> (this=0x25c8cb0, atEnd=&lt;optimized out&gt;) at adapter_gzip.cc:533
</I>&gt;<i> No locals.
</I>&gt;<i> #5  0x00000000007eff28 in
</I>&gt;<i> Adaptation::Ecap::XactionRep::noteBodyProductionEnded (this=0x25bd928,
</I>&gt;<i> bp=...) at XactionRep.cc:657
</I>&gt;<i> No locals.
</I>&gt;<i> #6  0x000000000057332d in UnaryMemFunT&lt;BodyConsumer, RefCount&lt;BodyPipe&gt;,
</I>&gt;<i> RefCount&lt;BodyPipe&gt; &gt;::doDial (this=0x261c880) at base/AsyncJobCalls.h:121
</I>&gt;<i> No locals.
</I>&gt;<i> #7  0x00000000005737f9 in JobDialer&lt;BodyConsumer&gt;::dial (this=0x261c880,
</I>&gt;<i> call=...) at base/AsyncJobCalls.h:174
</I>&gt;<i>          __FUNCTION__ = &quot;dial&quot;
</I>&gt;<i> #8  0x00000000006e45a7 in AsyncCall::make (this=0x261c850) at
</I>&gt;<i> AsyncCall.cc:40
</I>&gt;<i>          __FUNCTION__ = &quot;make&quot;
</I>&gt;<i> #9  0x00000000006e8722 in AsyncCallQueue::fireNext
</I>&gt;<i> (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x1d94e20) at AsyncCallQueue.cc:56
</I>&gt;<i>          call = {p_ = 0x261c850}
</I>&gt;<i>          __FUNCTION__ = &quot;fireNext&quot;
</I>&gt;<i> #10 0x00000000006e8b60 in AsyncCallQueue::fire (this=0x1d94e20) at
</I>&gt;<i> AsyncCallQueue.cc:42
</I>&gt;<i>          made = true
</I>&gt;<i> #11 0x000000000058b109 in dispatchCalls (this=0x7ffd7f0c0e20) at
</I>&gt;<i> EventLoop.cc:143
</I>&gt;<i>          dispatchedSome = &lt;optimized out&gt;
</I>&gt;<i> #12 EventLoop::runOnce (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x7ffd7f0c0e20) at EventLoop.cc:120
</I>&gt;<i>          sawActivity = &lt;optimized out&gt;
</I>&gt;<i>          waitingEngine = 0x7ffd7f0c0db0
</I>&gt;<i> #13 0x000000000058b1f0 in EventLoop::run (this=0x7ffd7f0c0e20) at
</I>&gt;<i> EventLoop.cc:82
</I>&gt;<i> No locals.
</I>&gt;<i> #14 0x00000000005ee425 in SquidMain (argc=&lt;optimized out&gt;, argv=&lt;optimized
</I>&gt;<i> out&gt;) at main.cc:1541
</I>&gt;<i>          __FUNCTION__ = &quot;SquidMain&quot;
</I>&gt;<i>          signalEngine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0x8829d0
</I>&gt;<i> &lt;vtable for SignalEngine+16&gt;}, &lt;No data fields&gt;}
</I>&gt;<i>          store_engine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0x882990
</I>&gt;<i> &lt;vtable for StoreRootEngine+16&gt;}, &lt;No data fields&gt;}
</I>&gt;<i>          comm_engine = {&lt;AsyncEngine&gt; = {_vptr.AsyncEngine = 0xb68ab0 &lt;vtable
</I>&gt;<i> for CommSelectEngine+16&gt;}, &lt;No data fields&gt;}
</I>&gt;<i>          mainLoop = {errcount = 0, static Running = 0x7ffd7f0c0e20, last_loop
</I>&gt;<i> = false, engines = {&lt;std::_Vector_base&lt;AsyncEngine*,
</I>&gt;<i> std::allocator&lt;AsyncEngine*&gt; &gt;&gt; = {
</I>&gt;<i>                _M_impl = {&lt;std::allocator&lt;AsyncEngine*&gt;&gt; =
</I>&gt;<i> {&lt;__gnu_cxx::new_allocator&lt;AsyncEngine*&gt;&gt; = {&lt;No data fields&gt;}, &lt;No data
</I>&gt;<i> fields&gt;}, _M_start = 0x2202150, _M_finish = 0x2202170,
</I>&gt;<i>                  _M_end_of_storage = 0x2202170}}, &lt;No data fields&gt;},
</I>&gt;<i> timeService = 0x7ffd7f0c0dc0, primaryEngine = 0x7ffd7f0c0db0, loop_delay =
</I>&gt;<i> 0, error = false, runOnceResult = false}
</I>&gt;<i>          time_engine = {_vptr.TimeEngine = 0x892550 &lt;vtable for
</I>&gt;<i> TimeEngine+16&gt;}
</I>&gt;<i> #15 0x00000000005082cb in SquidMainSafe (argv=&lt;optimized out&gt;,
</I>&gt;<i> argc=&lt;optimized out&gt;) at main.cc:1265
</I>&gt;<i> No locals.
</I>&gt;<i> #16 main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at main.cc:1258
</I>&gt;<i> No locals.
</I>&gt;<i> (gdb)
</I>&gt;<i> 8&lt;-----------------------------------------------------------------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Warm Regards,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----
</I>&gt;<i> Bug Reporter Contributor
</I>&gt;<i> OpenSource = Open-Minded
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Chaining-icap-and-ecap-services-FATAL-Received-Segment-Violation-dying-tp4683033p4683042.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Chaining-icap-and-ecap-services-FATAL-Received-Segment-Violation-dying-tp4683033p4683042.html</A>
</I>&gt;<i> Sent from the Squid - Users mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015870.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
	<LI>Next message (by thread): <A HREF="015896.html">[squid-users] Chaining icap and ecap services - FATAL: Received Segment Violation...dying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15872">[ date ]</a>
              <a href="thread.html#15872">[ thread ]</a>
              <a href="subject.html#15872">[ subject ]</a>
              <a href="author.html#15872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
