<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Does squid generates/adds additional HTTP headers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20squid%20generates/adds%20additional%20HTTP%20headers%3F&In-Reply-To=%3C8ea43151-0de9-16fc-6cfd-9f9e7eb45f59%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015890.html">
   <LINK REL="Next"  HREF="015888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Does squid generates/adds additional HTTP headers?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20squid%20generates/adds%20additional%20HTTP%20headers%3F&In-Reply-To=%3C8ea43151-0de9-16fc-6cfd-9f9e7eb45f59%40treenet.co.nz%3E"
       TITLE="[squid-users] Does squid generates/adds additional HTTP headers?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jul 12 14:13:31 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015890.html">[squid-users] Does squid generates/adds additional HTTP headers?
</A></li>
        <LI>Next message (by thread): <A HREF="015888.html">[squid-users] Does squid generates/adds additional HTTP headers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15905">[ date ]</a>
              <a href="thread.html#15905">[ thread ]</a>
              <a href="subject.html#15905">[ subject ]</a>
              <a href="author.html#15905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/07/17 07:00, avi_h wrote:
&gt;<i> Hi Alex,
</I>&gt;<i> 
</I>&gt;<i> Thanks for this.
</I>&gt;<i> I can narrow it down, as you mentioned, I want to configure Squid to make
</I>&gt;<i> some server(s) think that the
</I>&gt;<i> request is coming directly from a user agent (e.g., browser).
</I>&gt;<i> However, I don't know what those servers use to detect proxies, any idea on
</I>&gt;<i> how I can figure it out?
</I>
I start with a copy of the HTTP traffic. Both the messages coming from 
the client and the ones going to the serve. For both the proxied and 
non-proxy traffic.

I then run a set of scripts I've built up over the years to see how the 
server responds to various of the header changes the proxy does, and 
some possible alternatives. That usually leads to identifying what the 
server will accept and what makes it crash or produce errors. Usually 
server crashing with uncommon normal inputs are the real problem, not 
the proxy &quot;breaking&quot; traffic.

If you will list the websites you are having trouble with and what 
behaviour you want to see happen vs what they currently do that would be 
a good start.


&gt;<i> Ideally, I would like to find a solution that would fit all (or the most
</I>&gt;<i> popular) detection mechanisms, if that's possible.
</I>
The solution is usually to accept that there is not actually a problem.

The average web object goes through something like 4-6 intermediaries 
(ie. proxy) before it arrives at an end users Browser. You have a proxy, 
everybody else does too. Nothing to gain by hiding.

In fact, hiding the proxy means literally revealing its users and some 
of your internal network structure to any web server they visit. Loosing 
privacy and a bit of security too. It is a lose-lose situation.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015890.html">[squid-users] Does squid generates/adds additional HTTP headers?
</A></li>
	<LI>Next message (by thread): <A HREF="015888.html">[squid-users] Does squid generates/adds additional HTTP headers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15905">[ date ]</a>
              <a href="thread.html#15905">[ thread ]</a>
              <a href="subject.html#15905">[ subject ]</a>
              <a href="author.html#15905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
