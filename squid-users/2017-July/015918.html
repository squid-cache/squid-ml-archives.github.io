<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Log to syslog issues with syslog priority
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Log%20to%20syslog%20issues%20with%20syslog%20priority&In-Reply-To=%3CCAPa6PsHhXdmnC7X%3DXv-d2tiFZ9v1GntZYQcY535HcV5uHj2Fkw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015907.html">
   <LINK REL="Next"  HREF="015926.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Log to syslog issues with syslog priority</H1>
    <B>Peter Viskup</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Log%20to%20syslog%20issues%20with%20syslog%20priority&In-Reply-To=%3CCAPa6PsHhXdmnC7X%3DXv-d2tiFZ9v1GntZYQcY535HcV5uHj2Fkw%40mail.gmail.com%3E"
       TITLE="[squid-users] Log to syslog issues with syslog priority">skupko.sk at gmail.com
       </A><BR>
    <I>Thu Jul 13 09:21:15 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015907.html">[squid-users] YouTube and IMDB video ID counter\stats helper
</A></li>
        <LI>Next message (by thread): <A HREF="015926.html">[squid-users] What would be the maximum ufs\aufs cache_dir objects?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15918">[ date ]</a>
              <a href="thread.html#15918">[ thread ]</a>
              <a href="subject.html#15918">[ subject ]</a>
              <a href="author.html#15918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tried to configure logging to syslog directly and experiencing issues
with not accepted syslog priority assigned in config files.

This is the configuration:
~# grep -E '^access_log|^icap_log|logstrmfilter' /etc/squid3/squid.conf
access_log syslog:local7.notice logformat=combined3
acl logstrmfilter http_status 403 500-
acl logstrmfilter2 http_status 200 404 300-304
access_log syslog:local7.err logformat=squidstrm logstrmfilter
access_log syslog:local7.warning logformat=squidstrm !logstrmfilter2
icap_log syslog:local7.info icap_squid

With aim to log all access entries to local7.notice, some errors to
local7.err and not retrievable requests to local7.warning in addition
to log ICAP to local7.info.

But the syslog receives access logs at local7.debug, ICAP and the
error filtered logs together at local7.info.
Squid version 3.5.21.
I want to forward those messages to remote syslog server for further
processing. This is the motivation of this setup.

Is there something I misunderstood in the access_log documentation?
Seems there is no ACL filtering effective for syslog module.

Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015907.html">[squid-users] YouTube and IMDB video ID counter\stats helper
</A></li>
	<LI>Next message (by thread): <A HREF="015926.html">[squid-users] What would be the maximum ufs\aufs cache_dir objects?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15918">[ date ]</a>
              <a href="thread.html#15918">[ thread ]</a>
              <a href="subject.html#15918">[ subject ]</a>
              <a href="author.html#15918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
