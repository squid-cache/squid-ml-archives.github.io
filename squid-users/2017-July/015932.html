<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HDD/RAM Capacity vs store_avg_object_size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HDD/RAM%20Capacity%20vs%20store_avg_object_size&In-Reply-To=%3Cd80d0cee-bd31-4336-d37c-3dba876820a5%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015922.html">
   <LINK REL="Next"  HREF="015907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HDD/RAM Capacity vs store_avg_object_size</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HDD/RAM%20Capacity%20vs%20store_avg_object_size&In-Reply-To=%3Cd80d0cee-bd31-4336-d37c-3dba876820a5%40treenet.co.nz%3E"
       TITLE="[squid-users] HDD/RAM Capacity vs store_avg_object_size">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Jul 14 16:53:18 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015922.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
        <LI>Next message (by thread): <A HREF="015907.html">[squid-users] YouTube and IMDB video ID counter\stats helper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15932">[ date ]</a>
              <a href="thread.html#15932">[ thread ]</a>
              <a href="subject.html#15932">[ subject ]</a>
              <a href="author.html#15932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/07/17 04:13, bugreporter wrote:
&gt;<i> Hi Amos,
</I>&gt;<i> 
</I>&gt;<i> When you say:
</I>&gt;<i> 
</I>&gt;<i> /&quot;The rest is harder. You need to do a scan of a disk cache separating the
</I>&gt;<i> message headers - both counting the number of items found and total size
</I>&gt;<i> of the headers processed. Multiplying the metadata size by the number of
</I>&gt;<i> objects in the cache and adding the total message header size.&quot;
</I>&gt;<i> /
</I>&gt;<i> What do you mean by message header in this context? Just the first line in
</I>&gt;<i> each file or all HTTP headers (head of each file until the first \r\n)? If
</I>&gt;<i> you mean all HTTP headers and if I correctly understood what Alex says, HTTP
</I>&gt;<i> headers are not taken into the consideration in this context. Therefore
</I>&gt;<i> should I eliminate them in the calculation?
</I>&gt;<i> 
</I>
Thats what I meant, but as Alex pointed out I was wrong. StoreEntry only 
pulls a small bit of the cached meta stuff into the index, and that is 
counted directly in the StoreEntry object size. The rest of it is only 
pulled in when things are moved to the cache_mem space for delivery to a 
client.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015922.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
	<LI>Next message (by thread): <A HREF="015907.html">[squid-users] YouTube and IMDB video ID counter\stats helper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15932">[ date ]</a>
              <a href="thread.html#15932">[ thread ]</a>
              <a href="subject.html#15932">[ subject ]</a>
              <a href="author.html#15932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
