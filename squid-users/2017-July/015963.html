<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HDD/RAM Capacity vs store_avg_object_size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HDD/RAM%20Capacity%20vs%20store_avg_object_size&In-Reply-To=%3C33db1e6f-fd06-00ec-2c99-19b6430a3457%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015962.html">
   <LINK REL="Next"  HREF="015966.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HDD/RAM Capacity vs store_avg_object_size</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HDD/RAM%20Capacity%20vs%20store_avg_object_size&In-Reply-To=%3C33db1e6f-fd06-00ec-2c99-19b6430a3457%40measurement-factory.com%3E"
       TITLE="[squid-users] HDD/RAM Capacity vs store_avg_object_size">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Jul 18 20:12:58 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015962.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
        <LI>Next message (by thread): <A HREF="015966.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15963">[ date ]</a>
              <a href="thread.html#15963">[ thread ]</a>
              <a href="subject.html#15963">[ subject ]</a>
              <a href="author.html#15963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/18/2017 12:32 PM, bugreporter wrote:
&gt;<i> Hi Alex &amp; Amos. Below results:
</I>&gt;<i> 
</I>&gt;<i> On a x64 machine:
</I>&gt;<i> v ~ 207 Bytes
</I>
For the record, sizeof(StoreEntry) + sizeof(LruNode) = 104 + 24 = 128
bytes (for Squid v5 on an x64 host).

If your results are correct, we cannot account for ~80 bytes, which is
~50 bytes too many to attribute to various index storage overheads IMO.
This is not important for you (you should use the numbers you got as
long as you trust them), but a developer should investigate where that
memory goes.


&gt;&gt;<i> According to <A HREF="http://wiki.squid-cache.org/SquidFaq/SquidMemory:">http://wiki.squid-cache.org/SquidFaq/SquidMemory:</A>
</I>&gt;&gt;<i> We need 14 MB of memory per 1 GB on disk for 64-bit Squid
</I>

Assuming 13KB mean object size would give us another x64 data point:
v ~ 182


&gt;<i> On a x86 machine:
</I>&gt;<i> v ~ 116
</I>

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015962.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
	<LI>Next message (by thread): <A HREF="015966.html">[squid-users] HDD/RAM Capacity vs store_avg_object_size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15963">[ date ]</a>
              <a href="thread.html#15963">[ thread ]</a>
              <a href="subject.html#15963">[ subject ]</a>
              <a href="author.html#15963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
