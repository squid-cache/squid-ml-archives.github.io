<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Version 3.5.20 Any Ideas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Version%203.5.20%20Any%20Ideas&In-Reply-To=%3C59772fe8-6c62-3d5d-efc1-e0e600188e8e%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015993.html">
   <LINK REL="Next"  HREF="016016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Version 3.5.20 Any Ideas</H1>
    <B>Yuri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Version%203.5.20%20Any%20Ideas&In-Reply-To=%3C59772fe8-6c62-3d5d-efc1-e0e600188e8e%40gmail.com%3E"
       TITLE="[squid-users] Squid Version 3.5.20 Any Ideas">yvoinov at gmail.com
       </A><BR>
    <I>Wed Jul 19 21:15:14 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015993.html">[squid-users] Squid Version 3.5.20 Any Ideas
</A></li>
        <LI>Next message (by thread): <A HREF="016016.html">[squid-users] Squid Version 3.5.20 Any Ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15995">[ date ]</a>
              <a href="thread.html#15995">[ thread ]</a>
              <a href="subject.html#15995">[ subject ]</a>
              <a href="author.html#15995">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

20.07.2017 3:09, Cherukuri, Naresh &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i>
</I>&gt;<i> Yuri,
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> I am new to squid I learned it through searching google. My question
</I>&gt;<i> is I generated self-signed SSL certificates and install certificates
</I>&gt;<i> on IE all clients. I didn&#8217;t install proxy public key. Can you tell me
</I>&gt;<i> where  I have to put proxy public key on clients. Appreciate you help!
</I>&gt;<i>
</I>Ah. Based on my experience,

you require to take *public* proxy key (not private, your use keypair to
setup ssl-bump configuration; do not mistake it) and install it at least
into two places on client's PC:

1. Into system trusted CA storage (uses by IE/Chrome/some IM etc.)
2. Into Firefox own storage (if applicable).
3. Sometimes it is also required to setup proxy's CA public key into old
JRE existing on clients. But AFAIK modern JRE uses system CA's storage
and no more required this step.

Actually, this should be enough.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Naresh
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> *From:*Yuri [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">yvoinov at gmail.com</A>]
</I>&gt;<i> *Sent:* Wednesday, July 19, 2017 5:06 PM
</I>&gt;<i> *To:* Cherukuri, Naresh; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> *Subject:* Re: [squid-users] Squid Version 3.5.20 Any Ideas
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Related OpenSSL public CA bundle - in theory it should be installed
</I>&gt;<i> together with OpenSSL.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> 20.07.2017 2:49, Cherukuri, Naresh &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i>
</I>&gt;<i>     Thanks Yuri for quick turnover!
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>     We inly installed root certificate on all clients. We didn&#8217;t
</I>&gt;<i>     install proxy CA&#8217;s public key on clients. So you suggestion fix
</I>&gt;<i>     that we need to install both certificate and proxy ca&#8217;s public key
</I>&gt;<i>     on clients.
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>     Thanks,
</I>&gt;<i>
</I>&gt;<i>     Naresh
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>     *From:*squid-users
</I>&gt;<i>     [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] *On Behalf Of *Yuri
</I>&gt;<i>     *Sent:* Wednesday, July 19, 2017 2:25 PM
</I>&gt;<i>     *To:* <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i>     *Subject:* Re: [squid-users] Squid Version 3.5.20 Any Ideas
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>     One out of two. Either the Squid does not see the OpenSSL/system
</I>&gt;<i>     root CAs bundle, or the proxy CA's public key is not installed in
</I>&gt;<i>     the clients. It's all.
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>     19.07.2017 23:30, Walter H. &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i>
</I>&gt;<i>         Hello,
</I>&gt;<i>
</I>&gt;<i>         this seems not to be the problem, as the error messages are in
</I>&gt;<i>         cache.log, which is not a browser problem ...
</I>&gt;<i>
</I>&gt;<i>         the question: are the SSL bumped sites in intranet, which use
</I>&gt;<i>         a self signed CA cert itself, which squid doesn't know?
</I>&gt;<i>
</I>&gt;<i>         On 19.07.2017 17:36, Yuri wrote:
</I>&gt;<i>
</I>&gt;<i>         <A HREF="http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit">http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit</A>
</I>&gt;<i>
</I>&gt;<i>         <A HREF="http://i.imgur.com/A153C7A.png">http://i.imgur.com/A153C7A.png</A>
</I>&gt;<i>
</I>&gt;<i>          
</I>&gt;<i>
</I>&gt;<i>         19.07.2017 21:34, Cherukuri, Naresh &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i>
</I>&gt;<i>             Hi All,
</I>&gt;<i>
</I>&gt;<i>              
</I>&gt;<i>
</I>&gt;<i>             I installed Squid version 3.5.20 on RHEL 7 and generated
</I>&gt;<i>             self-signed CA certificates,  My users are complaining
</I>&gt;<i>             about certificate errors. When I looked at cache.log I see
</I>&gt;<i>             so many error messages like below. Below is my squid.conf
</I>&gt;<i>             file. Any ideas how to address below errors.
</I>&gt;<i>
</I>&gt;<i>              
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             Cache.log
</I>&gt;<i>
</I>&gt;<i>              
</I>&gt;<i>
</I>&gt;<i>             2017/07/18 16:05:34 kid1| Error negotiating SSL connection
</I>&gt;<i>             on FD 689: error:14094416:SSL
</I>&gt;<i>             routines:SSL3_READ_BYTES:sslv3 alert certificate unknown
</I>&gt;<i>             (1/0)
</I>&gt;<i>
</I>&gt;<i>             2017/07/18 16:05:34 kid1| Error negotiating SSL connection
</I>&gt;<i>             on FD 1114: error:14094416:SSL
</I>&gt;<i>             routines:SSL3_READ_BYTES:sslv3 alert certificate unknown
</I>&gt;<i>             (1/0)
</I>&gt;<i>
</I>&gt;<i>             2017/07/18 16:05:37 kid1| Error negotiating SSL connection
</I>&gt;<i>             on FD 146: error:14094416:SSL
</I>&gt;<i>             routines:SSL3_READ_BYTES:sslv3 alert certificate unknown
</I>&gt;<i>             (1/0)
</I>&gt;<i>
</I>&gt;<i>             2017/07/18 16:05:41 kid1| Error negotiating SSL connection
</I>&gt;<i>             on FD 252: error:14094416:SSL
</I>&gt;<i>             routines:SSL3_READ_BYTES:sslv3 alert certificate unknown
</I>&gt;<i>             (1/0)
</I>&gt;<i>
</I>&gt;<i>             2017/07/18 16:05:41 kid1| Error negotiating SSL connection
</I>&gt;<i>             on FD 36: error:14094416:SSL
</I>&gt;<i>             routines:SSL3_READ_BYTES:sslv3 alert certificate unknown
</I>&gt;<i>             (1/0)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         _______________________________________________
</I>&gt;<i>
</I>&gt;<i>         squid-users mailing list
</I>&gt;<i>
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>         &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i>
</I>&gt;<i>         <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170720/7635a217/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170720/7635a217/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170720/7635a217/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170720/7635a217/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015993.html">[squid-users] Squid Version 3.5.20 Any Ideas
</A></li>
	<LI>Next message (by thread): <A HREF="016016.html">[squid-users] Squid Version 3.5.20 Any Ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15995">[ date ]</a>
              <a href="thread.html#15995">[ thread ]</a>
              <a href="subject.html#15995">[ subject ]</a>
              <a href="author.html#15995">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
