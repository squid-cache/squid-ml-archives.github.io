<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Content / Message JS Injection for HTTP Pages Only
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Content%20/%20Message%20JS%20Injection%20for%20HTTP%20Pages%20Only&In-Reply-To=%3C206ba3a9-bee4-01b2-995f-263b327df051%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015603.html">
   <LINK REL="Next"  HREF="015600.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Content / Message JS Injection for HTTP Pages Only</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Content%20/%20Message%20JS%20Injection%20for%20HTTP%20Pages%20Only&In-Reply-To=%3C206ba3a9-bee4-01b2-995f-263b327df051%40treenet.co.nz%3E"
       TITLE="[squid-users] Content / Message JS Injection for HTTP Pages Only">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jun 13 03:50:54 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015603.html">[squid-users] Content / Message JS Injection for HTTP Pages Only
</A></li>
        <LI>Next message (by thread): <A HREF="015600.html">[squid-users] client--&gt;iptables--&gt;squid-proxy-&gt;another-proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15604">[ date ]</a>
              <a href="thread.html#15604">[ thread ]</a>
              <a href="subject.html#15604">[ subject ]</a>
              <a href="author.html#15604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/06/17 08:36, Eliezer Croitoru wrote:
&gt;<i> Hey Naveen,
</I>&gt;<i>
</I>&gt;<i> ECAP and ICAP been in use for such things very long ago.
</I>&gt;<i> This is one of the reasons for the movement in the network to encrypt
</I>&gt;<i> traffic and also to pin certificates in the applications.
</I>&gt;<i> You will need to choose to go either with ECAP or ICAP and from there the
</I>&gt;<i> direction is pretty simple.
</I>&gt;<i> I was thinking of publishing an example using an ICAP service which is based
</I>&gt;<i> on this example:
</I>&gt;<i> <A HREF="https://github.com/elico/icap/blob/master/example/redirect.go">https://github.com/elico/icap/blob/master/example/redirect.go</A>
</I>&gt;<i>
</I>&gt;<i> But I am not sure if it would be a good idea to do so.
</I>&gt;<i> I believe that if you will be able to grasp the example you would be able to
</I>&gt;<i> mangle it a bit to act as &quot;proxy&quot; in a way and then to inject content into
</I>&gt;<i> the body of the response.
</I>&gt;<i> You will need some skills and experimentation with the GoLang language and
</I>&gt;<i> concepts to make it work.
</I>&gt;<i> It's not a beginner task so don't expect it to be accomplished in one week.
</I>&gt;<i>
</I>&gt;<i> Let me know if you need some more guidance.
</I>&gt;<i>
</I>&gt;<i> Eliezer
</I>
And don't forget that the content going through is often copyrighted by 
someone else. Being publicly accessible does not make it any less 
proprietary or restricted by its owners. Under copyright legislation 
altering other peoples content can be a form of theft.

Naveen: please get some legal advice about the above before going any 
further. This idea of injecting JS banners and notices into other 
peoples pages has a history lined with companies having major PR fallout 
or collapsing into bankruptcy in a few cases as a direct result of 
consumer and copyrigth content owners reaction to the injection.

Amos


&gt;<i> ----
</I>&gt;<i> <A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On
</I>&gt;<i> Behalf Of Norbert Naveen
</I>&gt;<i> Sent: Monday, June 12, 2017 8:49 PM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [squid-users] Content / Message JS Injection for HTTP Pages Only
</I>&gt;<i>
</I>&gt;<i> Hello Squid Admins
</I>&gt;<i> Squid 3.5 acts as HTTP Proxy only and does not allow any other kind of
</I>&gt;<i> Traffic
</I>&gt;<i> For Such a Setup where only HTTP traffic flows through Squid
</I>&gt;<i> I want to Insert a Banner / Java Script based Dynamic Page in the HTTP
</I>&gt;<i> response , to notify the users or alert the users based on their usage
</I>&gt;<i>
</I>&gt;<i> Would like to know how to go about the same
</I>&gt;<i> Should I use ICAP or ECAP or any other suggestions ?
</I>&gt;<i> Has anybody set up anything similar to this ?
</I>&gt;<i> Any words of advice is welcome
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Naveen
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015603.html">[squid-users] Content / Message JS Injection for HTTP Pages Only
</A></li>
	<LI>Next message (by thread): <A HREF="015600.html">[squid-users] client--&gt;iptables--&gt;squid-proxy-&gt;another-proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15604">[ date ]</a>
              <a href="thread.html#15604">[ thread ]</a>
              <a href="subject.html#15604">[ subject ]</a>
              <a href="author.html#15604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
