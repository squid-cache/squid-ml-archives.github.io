<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] source spoofing without tproxy?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20source%20spoofing%20without%20tproxy%3F&In-Reply-To=%3C20170613073458.GA4704%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015632.html">
   <LINK REL="Next"  HREF="015610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] source spoofing without tproxy?</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20source%20spoofing%20without%20tproxy%3F&In-Reply-To=%3C20170613073458.GA4704%40fantomas.sk%3E"
       TITLE="[squid-users] source spoofing without tproxy?">uhlar at fantomas.sk
       </A><BR>
    <I>Tue Jun 13 07:34:58 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015632.html">[squid-users] source spoofing without tproxy?
</A></li>
        <LI>Next message (by thread): <A HREF="015610.html">[squid-users] source spoofing without tproxy?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15608">[ date ]</a>
              <a href="thread.html#15608">[ thread ]</a>
              <a href="subject.html#15608">[ subject ]</a>
              <a href="author.html#15608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>On 13/06/17 13:48, David Kewley wrote:
</I>&gt;&gt;<i>I want my clients to explicitly address squid as a proxy (not use 
</I>&gt;&gt;<i>tproxy), but have squid spoof the source addresses in the forwarded 
</I>&gt;&gt;<i>connection, so that further hops know the original source address 
</I>&gt;&gt;<i>from the IPv4 headers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I could find no indication that anyone else has done this, and when 
</I>&gt;&gt;<i>I tried various things, I could not get it working.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Is this possible today? If not, is it worth considering as a future 
</I>&gt;&gt;<i>feature? Or am I overlooking a reason that this cannot work even in 
</I>&gt;&gt;<i>theory?
</I>
On 13.06.17 16:50, Amos Jeffries wrote:
&gt;<i>It is not possible.
</I>&gt;<i>
</I>&gt;<i>No, it is a terrible idea.
</I>&gt;<i>
</I>&gt;<i>It is prohibited by the OS kernel as part of the anti-malware 
</I>&gt;<i>protections, in this case to prevent the local machine being used to 
</I>&gt;<i>attack its surrounding network nodes. And by Squid to make it harder 
</I>&gt;<i>to use Squid as viral payload and damage the brand reputation.
</I>
For me to fully understand (I was curious about this some time ago), it is
allowed to fake clients' IPs when intercepting their connections, but not
when connections are done to proxy server directly?

What's the difference that makes it more terrible than spoofing IPs of
intercepted connections?

-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
Eagles may soar, but weasels don't get sucked into jet engines. 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015632.html">[squid-users] source spoofing without tproxy?
</A></li>
	<LI>Next message (by thread): <A HREF="015610.html">[squid-users] source spoofing without tproxy?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15608">[ date ]</a>
              <a href="thread.html#15608">[ thread ]</a>
              <a href="subject.html#15608">[ subject ]</a>
              <a href="author.html#15608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
