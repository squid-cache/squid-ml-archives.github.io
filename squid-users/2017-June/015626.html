<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1	on CentOS Linux release 7.3.1611
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20Compiling%20squid-3.5.26%20with%20libecap-1.0.1%0A%09on%20CentOS%20Linux%20release%207.3.1611&In-Reply-To=%3C007a01d2e478%244aecd850%24e0c688f0%24%40tayana.in%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015621.html">
   <LINK REL="Next"  HREF="015627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1	on CentOS Linux release 7.3.1611</H1>
    <B>Norbert Naveen</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%20Compiling%20squid-3.5.26%20with%20libecap-1.0.1%0A%09on%20CentOS%20Linux%20release%207.3.1611&In-Reply-To=%3C007a01d2e478%244aecd850%24e0c688f0%24%40tayana.in%3E"
       TITLE="[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1	on CentOS Linux release 7.3.1611">norbert.naveen at tayana.in
       </A><BR>
    <I>Tue Jun 13 19:07:24 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015621.html">[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1 on CentOS Linux release 7.3.1611
</A></li>
        <LI>Next message (by thread): <A HREF="015627.html">[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1	on CentOS Linux release 7.3.1611
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15626">[ date ]</a>
              <a href="thread.html#15626">[ thread ]</a>
              <a href="subject.html#15626">[ subject ]</a>
              <a href="author.html#15626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Alex 

Sorry for the mistake of missing the o/p of configure 
# PKG_CONFIG_PATH=/usr/local/lib/pkgconfig /usr/bin/pkg-config --print-errors --debug &quot;libecap &gt;= 1.0 libecap &lt; 1.1&quot;
Error printing disabled by default, value of --print-errors: 1
Error printing enabled
Adding virtual 'pkg-config' package to list of known packages
Scanning directory '/usr/local/lib/pkgconfig'
Ignoring file '.' in search directory; not a .pc file
Ignoring file '..' in search directory; not a .pc file
File 'libecap.pc' appears to be a .pc file
Will find package 'libecap' in file '/usr/local/lib/pkgconfig/libecap.pc'
Scanning directory '/usr/lib64/pkgconfig'
Ignoring file '.' in search directory; not a .pc file
Ignoring file '..' in search directory; not a .pc file
File 'fontutil.pc' appears to be a .pc file
Will find package 'fontutil' in file '/usr/lib64/pkgconfig/fontutil.pc'
File 'systemd.pc' appears to be a .pc file
Will find package 'systemd' in file '/usr/lib64/pkgconfig/systemd.pc'
File 'libpcre.pc' appears to be a .pc file
Will find package 'libpcre' in file '/usr/lib64/pkgconfig/libpcre.pc'
File 'libpcre16.pc' appears to be a .pc file
Will find package 'libpcre16' in file '/usr/lib64/pkgconfig/libpcre16.pc'
File 'libpcre32.pc' appears to be a .pc file
Will find package 'libpcre32' in file '/usr/lib64/pkgconfig/libpcre32.pc'
File 'libpcrecpp.pc' appears to be a .pc file
Will find package 'libpcrecpp' in file '/usr/lib64/pkgconfig/libpcrecpp.pc'
File 'libpcreposix.pc' appears to be a .pc file
Will find package 'libpcreposix' in file '/usr/lib64/pkgconfig/libpcreposix.pc'
File 'libsepol.pc' appears to be a .pc file
Will find package 'libsepol' in file '/usr/lib64/pkgconfig/libsepol.pc'
File 'libselinux.pc' appears to be a .pc file
Will find package 'libselinux' in file '/usr/lib64/pkgconfig/libselinux.pc'
File 'com_err.pc' appears to be a .pc file
Will find package 'com_err' in file '/usr/lib64/pkgconfig/com_err.pc'
File 'libverto.pc' appears to be a .pc file
Will find package 'libverto' in file '/usr/lib64/pkgconfig/libverto.pc'
File 'gssrpc.pc' appears to be a .pc file
Will find package 'gssrpc' in file '/usr/lib64/pkgconfig/gssrpc.pc'
File 'kadm-client.pc' appears to be a .pc file
Will find package 'kadm-client' in file '/usr/lib64/pkgconfig/kadm-client.pc'
File 'kadm-server.pc' appears to be a .pc file
Will find package 'kadm-server' in file '/usr/lib64/pkgconfig/kadm-server.pc'
File 'kdb.pc' appears to be a .pc file
Will find package 'kdb' in file '/usr/lib64/pkgconfig/kdb.pc'
File 'krb5-gssapi.pc' appears to be a .pc file
Will find package 'krb5-gssapi' in file '/usr/lib64/pkgconfig/krb5-gssapi.pc'
File 'krb5.pc' appears to be a .pc file
Will find package 'krb5' in file '/usr/lib64/pkgconfig/krb5.pc'
File 'mit-krb5-gssapi.pc' appears to be a .pc file
Will find package 'mit-krb5-gssapi' in file '/usr/lib64/pkgconfig/mit-krb5-gssapi.pc'
File 'mit-krb5.pc' appears to be a .pc file
Will find package 'mit-krb5' in file '/usr/lib64/pkgconfig/mit-krb5.pc'
File 'zlib.pc' appears to be a .pc file
Will find package 'zlib' in file '/usr/lib64/pkgconfig/zlib.pc'
File 'libcrypto.pc' appears to be a .pc file
Will find package 'libcrypto' in file '/usr/lib64/pkgconfig/libcrypto.pc'
File 'libssl.pc' appears to be a .pc file
Will find package 'libssl' in file '/usr/lib64/pkgconfig/libssl.pc'
File 'openssl.pc' appears to be a .pc file
Will find package 'openssl' in file '/usr/lib64/pkgconfig/openssl.pc'
Scanning directory '/usr/share/pkgconfig'
Ignoring file '.' in search directory; not a .pc file
Ignoring file '..' in search directory; not a .pc file
File 'shared-mime-info.pc' appears to be a .pc file
Will find package 'shared-mime-info' in file '/usr/share/pkgconfig/shared-mime-info.pc'
File 'spice-protocol.pc' appears to be a .pc file
Will find package 'spice-protocol' in file '/usr/share/pkgconfig/spice-protocol.pc'
File 'gnome-video-effects.pc' appears to be a .pc file
Will find package 'gnome-video-effects' in file '/usr/share/pkgconfig/gnome-video-effects.pc'
File 'udev.pc' appears to be a .pc file
Will find package 'udev' in file '/usr/share/pkgconfig/udev.pc'
File 'gnome-keybindings.pc' appears to be a .pc file
Will find package 'gnome-keybindings' in file '/usr/share/pkgconfig/gnome-keybindings.pc'
File 'usbutils.pc' appears to be a .pc file
Will find package 'usbutils' in file '/usr/share/pkgconfig/usbutils.pc'
File 'gnome-icon-theme-symbolic.pc' appears to be a .pc file
Will find package 'gnome-icon-theme-symbolic' in file '/usr/share/pkgconfig/gnome-icon-theme-symbolic.pc'
File 'bash-completion.pc' appears to be a .pc file
Will find package 'bash-completion' in file '/usr/share/pkgconfig/bash-completion.pc'
Looking for package 'libecap'
Looking for package 'libecap-uninstalled'
Reading 'libecap' from file '/usr/local/lib/pkgconfig/libecap.pc'
Parsing package file '/usr/local/lib/pkgconfig/libecap.pc'
  line&gt;prefix=/usr/local
 Variable declaration, 'prefix' has value '/usr/local'
  line&gt;exec_prefix=${prefix}
 Variable declaration, 'exec_prefix' has value '/usr/local'
  line&gt;libdir=${exec_prefix}/lib
 Variable declaration, 'libdir' has value '/usr/local/lib'
  line&gt;includedir=${prefix}/include
 Variable declaration, 'includedir' has value '/usr/local/include'
  line&gt;
  line&gt;Name: eCAP
  line&gt;Description: Allows a network application to outsource content analysis and adaptation to a loadable module.
  line&gt;URL: <A HREF="http://www.e-cap.org/">http://www.e-cap.org/</A>
  line&gt;Version: 1.0.1
  line&gt;Libs: -L${libdir} -lecap
  line&gt;Cflags: -I${includedir}
Path position of 'eCAP' is 1
Adding 'libecap' to list of known packages, returning as package 'libecap'

Shall make clean and send all the details 

Thanks 


-----Original Message-----
From: Alex Rousskov [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>] 
Sent: Tuesday, June 13, 2017 9:09 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">norbert.naveen at tayana.in</A>; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1 on CentOS Linux release 7.3.1611

On 06/13/2017 08:46 AM, Norbert Naveen wrote:

&gt;<i> # grep 'EXT_LIBECAP_.*=' src/adaptation/ecap/Makefile 
</I>&gt;<i> EXT_LIBECAP_CFLAGS = /usr/local/lib EXT_LIBECAP_LIBS = /usr/local/lib
</I>
Strange. These variables are malformed and do not match the contents of your /usr/local/lib/pkgconfig/libecap.pc file!

What output does the following one-line command produce?

PKG_CONFIG_PATH=/usr/local/lib/pkgconfig /usr/bin/pkg-config --print-errors --debug &quot;libecap &gt;= 1.0 libecap &lt; 1.1&quot;



&gt;<i> I did the below to no effect
</I>&gt;<i> make -k clean;
</I>&gt;<i> ./configure  --enable-ecap
</I>&gt;<i>  make &gt; /tmp/build.log 2&gt;&amp;1
</I>
FYI: The above is missing parenthesis and captures make output without capturing ./configure output. I doubt that lost ./configure output would be useful right now, but please be more careful next time.

Alex.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Alex Rousskov [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>]
</I>&gt;<i> Sent: Tuesday, June 13, 2017 2:12 AM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">norbert.naveen at tayana.in</A>; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Error Compiling squid-3.5.26 with 
</I>&gt;<i> libecap-1.0.1 on CentOS Linux release 7.3.1611
</I>&gt;<i> 
</I>&gt;<i> On 06/12/2017 11:29 AM, Norbert Naveen wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> I have attached Outputs of both Configure and Make And  libecap.pc 
</I>&gt;&gt;<i> contents are as below
</I>&gt;<i> 
</I>&gt;<i> Your ./configure output and libecap.pc contents look good to me, but 
</I>&gt;<i> there is no sign of the eCAP library (-lecap) being linked with Squid 
</I>&gt;<i> during &quot;make&quot;. If running &quot;make clean; ./configure ...; make&quot; does not 
</I>&gt;<i> fix this, then please find a way to post a link to the _entire_ build 
</I>&gt;<i> log. Something along these lines should be able to capture it:
</I>&gt;<i> 
</I>&gt;<i>   $ make -k clean; (./configure ...; make) &gt; /tmp/build.log 2&gt;&amp;1
</I>&gt;<i> 
</I>&gt;<i> You may want to compress /tmp/build.log. Please post a link to some 
</I>&gt;<i> public file sharing site here instead of the file itself. Even 
</I>&gt;<i> compressed, it may be too big to email.
</I>&gt;<i> 
</I>&gt;<i> Also, what does the following command output?
</I>&gt;<i> 
</I>&gt;<i>   $ grep 'EXT_LIBECAP_.*=' src/adaptation/ecap/Makefile
</I>&gt;<i> 
</I>&gt;<i> (adjust the Makefile path if necessary if you are not building Squid 
</I>&gt;<i> its source directory)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Alex.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015621.html">[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1 on CentOS Linux release 7.3.1611
</A></li>
	<LI>Next message (by thread): <A HREF="015627.html">[squid-users] Error Compiling squid-3.5.26 with libecap-1.0.1	on CentOS Linux release 7.3.1611
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15626">[ date ]</a>
              <a href="thread.html#15626">[ thread ]</a>
              <a href="subject.html#15626">[ subject ]</a>
              <a href="author.html#15626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
