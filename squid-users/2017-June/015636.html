<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] source spoofing without tproxy?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20source%20spoofing%20without%20tproxy%3F&In-Reply-To=%3C6096373a-cf74-ca7b-0558-646f9055791f%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015635.html">
   <LINK REL="Next"  HREF="015616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] source spoofing without tproxy?</H1>
    <B>Yuri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20source%20spoofing%20without%20tproxy%3F&In-Reply-To=%3C6096373a-cf74-ca7b-0558-646f9055791f%40gmail.com%3E"
       TITLE="[squid-users] source spoofing without tproxy?">yvoinov at gmail.com
       </A><BR>
    <I>Wed Jun 14 13:29:32 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015635.html">[squid-users] source spoofing without tproxy?
</A></li>
        <LI>Next message (by thread): <A HREF="015616.html">[squid-users] cacheable object dose not match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15636">[ date ]</a>
              <a href="thread.html#15636">[ thread ]</a>
              <a href="subject.html#15636">[ subject ]</a>
              <a href="author.html#15636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nice shoot, Eliezer :-D


14.06.2017 19:28, Eliezer Croitoru &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Rephrase the &quot;cheap nationally&quot; into &quot;cheat inernationally&quot;.
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Eliezer Croitoru
</I>&gt;<i> Sent: Wednesday, June 14, 2017 11:09 AM
</I>&gt;<i> To: 'David Kewley' &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">dkewley at uci.edu</A>&gt;; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] source spoofing without tproxy?
</I>&gt;<i>
</I>&gt;<i> Hey,
</I>&gt;<i>
</I>&gt;<i> This is a library I wrote that uses tproxy:
</I>&gt;<i> <A HREF="https://github.com/elico/go-linux-tproxy">https://github.com/elico/go-linux-tproxy</A>
</I>&gt;<i>
</I>&gt;<i> It&#8217;s doable using some enthusiasm but technically you cannot spoof just any IP since you need to be able to receive back this traffic.
</I>&gt;<i> You cannot really &quot;cheap nationally&quot; the BGP protocol but only for specific small areas which are all under your &quot;domain&quot; and management.
</I>&gt;<i>
</I>&gt;<i> All The Bests,
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i> <A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of David Kewley
</I>&gt;<i> Sent: Tuesday, June 13, 2017 4:48 AM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [squid-users] source spoofing without tproxy?
</I>&gt;<i>
</I>&gt;<i> I want my clients to explicitly address squid as a proxy (not use tproxy), but have squid spoof the source addresses in the forwarded connection, so that further hops know the original source address from the IPv4 headers.
</I>&gt;<i>
</I>&gt;<i> I could find no indication that anyone else has done this, and when I tried various things, I could not get it working.
</I>&gt;<i>
</I>&gt;<i> Is this possible today? If not, is it worth considering as a future feature? Or am I overlooking a reason that this cannot work even in theory?
</I>&gt;<i>
</I>&gt;<i> I got the nearly-equivalent functionality working for reverse proxying using nginx, but so far I've found no way to do it with forward proxying. Nginx doesn't do https forward proxying (no handling of CONNECT).
</I>&gt;<i>
</I>&gt;<i> If squid can't do what I'm looking for today, I would welcome pointers to other possible approaches.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170614/e00ff440/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170614/e00ff440/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015635.html">[squid-users] source spoofing without tproxy?
</A></li>
	<LI>Next message (by thread): <A HREF="015616.html">[squid-users] cacheable object dose not match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15636">[ date ]</a>
              <a href="thread.html#15636">[ thread ]</a>
              <a href="subject.html#15636">[ subject ]</a>
              <a href="author.html#15636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
