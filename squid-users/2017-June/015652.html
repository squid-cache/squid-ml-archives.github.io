<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] RV: squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20RV%3A%20squid&In-Reply-To=%3C027301d2e5e3%24b9eadec0%242dc09c40%24%40accelya.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015651.html">
   <LINK REL="Next"  HREF="015653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] RV: squid</H1>
    <B>javier perez</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20RV%3A%20squid&In-Reply-To=%3C027301d2e5e3%24b9eadec0%242dc09c40%24%40accelya.com%3E"
       TITLE="[squid-users] RV: squid">javier.perez at accelya.com
       </A><BR>
    <I>Thu Jun 15 14:28:59 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015651.html">[squid-users] RV: squid
</A></li>
        <LI>Next message (by thread): <A HREF="015653.html">[squid-users] RV: squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15652">[ date ]</a>
              <a href="thread.html#15652">[ thread ]</a>
              <a href="subject.html#15652">[ subject ]</a>
              <a href="author.html#15652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I found this on the oficial documentation:

<A HREF="ftp://ftp.fu-berlin.de/unix/www/squid/archive/3.5/squid-3.5.0.1-RELEASENOTES.html">ftp://ftp.fu-berlin.de/unix/www/squid/archive/3.5/squid-3.5.0.1-RELEASENOTES.html</A>

Section 2.6 Relay FTP
FTP Relay highlights:
2nd line:

&quot; Active and passive FTP support on the user-facing side; require passive 
connections to come from the control connection source IP address.&quot;

Does this mean that no active connections will be stablished between the 
dest. Host and squid?????

Thank you all in advance.

Regards

&gt;<i>On Thursday 15 June 2017 16:22:44 javier perez wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I installed squid(3.5.20) on CentOS 7 minimal to perform as an ftp-proxy.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My configuration file looks like this:
</I>&gt;<i>
</I>&gt;<i>...snip...
</I>&gt;<i>
</I>&gt;&gt;<i> acl SSL_ports port 443 21
</I>
On 15.06.17 13:03, Antony Stone wrote:
&gt;<i>Why are you specifying port 21 as SSL?
</I>
apparently result of windows settings &quot;enable folder view for FTP sites&quot; 
that causes explorer avoid using proxy for <A HREF="ftp://">ftp://</A> and connect directly as 
FTP client.

maybe IE in this case uses CONNECT tunnels for FTP protocol.

I wonder how would it behave if you enabled SOCKS server.

&gt;<i>&quot;ftp_passive off&quot; should mean that you can't do passive FTP through the
</I>&gt;<i>Squid server, but it won't stop the client application from trying.
</I>&gt;<i>
</I>&gt;<i>You need to tell the client system/s always to use active FTP (which
</I>&gt;<i>will go through Squid) - Squid can't do that for you - it will simply
</I>&gt;<i>allow or block whatever requests come its way.
</I>
clients using squid as CONNECT proxy technically can't use PORT mode, since 
HTTP does not contain anything like LISTEN.

intercepted FTP connections are something different, although support for 
this is relatively new (since 3.5)

there is SOCKS protocol that supports listening required by PORT/EPRT mode, 
although most of FTP clients use passive by default

(not sure about windows commandline FTP client - at least in XP is only 
supported PORT mode)


--
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
I intend to live forever - so far so good.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015651.html">[squid-users] RV: squid
</A></li>
	<LI>Next message (by thread): <A HREF="015653.html">[squid-users] RV: squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15652">[ date ]</a>
              <a href="thread.html#15652">[ thread ]</a>
              <a href="subject.html#15652">[ subject ]</a>
              <a href="author.html#15652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
