<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HIER_NONE on TCP_MISS?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HIER_NONE%20on%20TCP_MISS%3F&In-Reply-To=%3CCAJDqJL8pnoXCYadBxaff37iXkcxCjfXVK0TbXNj00iHoA6khLg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015767.html">
   <LINK REL="Next"  HREF="015755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HIER_NONE on TCP_MISS?</H1>
    <B>bump skier</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HIER_NONE%20on%20TCP_MISS%3F&In-Reply-To=%3CCAJDqJL8pnoXCYadBxaff37iXkcxCjfXVK0TbXNj00iHoA6khLg%40mail.gmail.com%3E"
       TITLE="[squid-users] HIER_NONE on TCP_MISS?">bumpski3r at gmail.com
       </A><BR>
    <I>Tue Jun 27 03:28:07 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015767.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
        <LI>Next message (by thread): <A HREF="015755.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15743">[ date ]</a>
              <a href="thread.html#15743">[ thread ]</a>
              <a href="subject.html#15743">[ subject ]</a>
              <a href="author.html#15743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to understand the following behavior I'm seeing with Squid
running in accelerator mode. In short, I'm seeing some TCP_MISS for
requests to a static javascript file which is initially cached and returned
as a cache hit. I suspect the missed cache hits are due to the cache size
being too small and the file eventually getting evicted. However, I'm
confused about what I'm seeing in the Squid access log. For some of the
cache misses I can see in the access log that Squid fetches the file from
the configured origin server but for a vast majority of them I see
HIER_NONE even though Squid is actually returning the file.

Under what situations would Squid fetch content from the origin server
during a cache miss but print HIER_NONE?

Sample Requests from Access Log (actual values have been replaced with
placeholders/fake values)

#What I would expect to see for TCP_MISS - Squid fetches from the origin
server
TIMESTAMP 1.2.3.4 TCP_MISS/200 17310 GET <A HREF="http://www.domain.com/myFile.js">http://www.domain.com/myFile.js</A>
FIRSTUP_PARENT/2.4.6.8 application/javascript

#Squid still appears to be fetching from the origin server however it
prints HIER_NONE in the access log
TIMESTAMP 4.3.2.1 TCP_MISS/200 17310 GET <A HREF="http://www.domain.com/myFile.js">http://www.domain.com/myFile.js</A>
HIER_NONE/- application/javascript

Thanks in advance for any help you can provide.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170626/79f778a1/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170626/79f778a1/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015767.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
	<LI>Next message (by thread): <A HREF="015755.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15743">[ date ]</a>
              <a href="thread.html#15743">[ thread ]</a>
              <a href="subject.html#15743">[ subject ]</a>
              <a href="author.html#15743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
