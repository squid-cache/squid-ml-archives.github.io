<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20NTLM%20authentication%20worked%20in%20Squid%202.7.STABLE8%0A%20Squid%20Web%20Proxy%2C%20now%20need%20it%20in%20v3.5%20hosted%20on%20Windows%20server%202k12&In-Reply-To=%3C52ad05f0-14cb-0b98-bb77-38333c25c988%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015742.html">
   <LINK REL="Next"  HREF="015763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20NTLM%20authentication%20worked%20in%20Squid%202.7.STABLE8%0A%20Squid%20Web%20Proxy%2C%20now%20need%20it%20in%20v3.5%20hosted%20on%20Windows%20server%202k12&In-Reply-To=%3C52ad05f0-14cb-0b98-bb77-38333c25c988%40treenet.co.nz%3E"
       TITLE="[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jun 27 15:39:54 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015742.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
        <LI>Next message (by thread): <A HREF="015763.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15753">[ date ]</a>
              <a href="thread.html#15753">[ thread ]</a>
              <a href="subject.html#15753">[ subject ]</a>
              <a href="author.html#15753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/06/17 12:06, Todd Pearson wrote:
&gt;<i> 
</I>&gt;<i> I am hosting the squid proxy on Windows 2K12 server.   Squid 2.7.STABLE8 
</I>&gt;<i> Squid Web Proxy version worked well for authentication until recent 
</I>&gt;<i> Windows 10 update killed Sha1.  Now I am upgrading to squid proxy 
</I>&gt;<i> version 3.5.x.x to restore authentication.
</I>
FYI: upgrading to Squid-3 will not solve that problem by itself. The 
helpers in both Squid series are performing the same logic, with the 
same crypto limitations.

The core problem is that NTLM protocol itself is not capable of anything 
actually considered secure these days. It was declared EOL by MS more 
then 11 years ago, so loss of NTLM related things in Win10 is hardly a 
surprise.

To solve your auth problem what you need is actually a migration to 
Kerberos authentication (Negotiate auth). You might find that slightly 
easier after the Squid-3 upgrade, but the two are really independent 
changes.


&gt;<i> 
</I>&gt;<i> The below settings are longer available in the 3.5.x.x version since the 
</I>&gt;<i> progams do not exist for the new version:
</I>&gt;<i> 
</I>&gt;<i> auth_param ntlm program c:/squid/libexec/mswin_ntlm_auth.exe
</I>&gt;<i> 
</I>&gt;<i> external_acl_type win_domain_group %LOGIN 
</I>&gt;<i> c:/squid/libexec/mswin_check_ad_group.exe -G
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What are the equivalent setting for v 3.5.  Once again I am in windows 
</I>&gt;<i> environment.
</I>
The helpers still exist, they just got renamed to follow a structured 
taxonomy:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6">http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6</A>&gt;


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015742.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
	<LI>Next message (by thread): <A HREF="015763.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15753">[ date ]</a>
              <a href="thread.html#15753">[ thread ]</a>
              <a href="subject.html#15753">[ subject ]</a>
              <a href="author.html#15753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
