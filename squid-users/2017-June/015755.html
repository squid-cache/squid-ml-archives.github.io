<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HIER_NONE on TCP_MISS?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HIER_NONE%20on%20TCP_MISS%3F&In-Reply-To=%3Cd10eabc0-2e7d-c6c7-2682-58297d00d51b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015743.html">
   <LINK REL="Next"  HREF="015765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HIER_NONE on TCP_MISS?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HIER_NONE%20on%20TCP_MISS%3F&In-Reply-To=%3Cd10eabc0-2e7d-c6c7-2682-58297d00d51b%40treenet.co.nz%3E"
       TITLE="[squid-users] HIER_NONE on TCP_MISS?">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jun 27 15:55:04 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015743.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
        <LI>Next message (by thread): <A HREF="015765.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15755">[ date ]</a>
              <a href="thread.html#15755">[ thread ]</a>
              <a href="subject.html#15755">[ subject ]</a>
              <a href="author.html#15755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/06/17 15:28, bump skier wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm trying to understand the following behavior I'm seeing with Squid 
</I>&gt;<i> running in accelerator mode. In short, I'm seeing some TCP_MISS for 
</I>&gt;<i> requests to a static javascript file which is initially cached and 
</I>&gt;<i> returned as a cache hit. I suspect the missed cache hits are due to the 
</I>&gt;<i> cache size being too small and the file eventually getting evicted. 
</I>&gt;<i> However, I'm confused about what I'm seeing in the Squid access log. For 
</I>&gt;<i> some of the cache misses I can see in the access log that Squid fetches 
</I>&gt;<i> the file from the configured origin server but for a vast majority of 
</I>&gt;<i> them I see HIER_NONE even though Squid is actually returning the file.
</I>&gt;<i> 
</I>&gt;<i> Under what situations would Squid fetch content from the origin server 
</I>&gt;<i> during a cache miss but print HIER_NONE?
</I>

It may happen if you have content adaptation (ICAP/eCAP) providing a 
response instead of either cache or origin server.

Maybe also if the collapsed forwarding feature is in use. AFAIK, we have 
not got the log entries quite right there yet.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015743.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
	<LI>Next message (by thread): <A HREF="015765.html">[squid-users] HIER_NONE on TCP_MISS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15755">[ date ]</a>
              <a href="thread.html#15755">[ thread ]</a>
              <a href="subject.html#15755">[ subject ]</a>
              <a href="author.html#15755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
