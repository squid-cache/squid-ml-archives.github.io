<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20NTLM%20authentication%20worked%20in%20Squid%202.7.STABLE8%0A%20Squid%20Web%20Proxy%2C%20now%20need%20it%20in%20v3.5%20hosted%20on%20Windows%20server%202k12&In-Reply-To=%3C1483595053.3721106.1498583561886%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015753.html">
   <LINK REL="Next"  HREF="015764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12</H1>
    <B>Todd Pearson</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20NTLM%20authentication%20worked%20in%20Squid%202.7.STABLE8%0A%20Squid%20Web%20Proxy%2C%20now%20need%20it%20in%20v3.5%20hosted%20on%20Windows%20server%202k12&In-Reply-To=%3C1483595053.3721106.1498583561886%40mail.yahoo.com%3E"
       TITLE="[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12">rtpearson at yahoo.com
       </A><BR>
    <I>Tue Jun 27 17:12:41 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015753.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
        <LI>Next message (by thread): <A HREF="015764.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15763">[ date ]</a>
              <a href="thread.html#15763">[ thread ]</a>
              <a href="subject.html#15763">[ subject ]</a>
              <a href="author.html#15763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thank you for the information. &#160;Is there any place to download the helper binaries for NTLM? &#160;Or do I need to build them myself?
Is there additional information on kerberos configuration in a windows environment. &#160;Trying to wrap my head around the keytab and creation of it in a windows only environment.      From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
 To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
 Sent: Tuesday, June 27, 2017 8:40 AM
 Subject: Re: [squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
   
On 27/06/17 12:06, Todd Pearson wrote:
&gt;<i> 
</I>&gt;<i> I am hosting the squid proxy on Windows 2K12 server.&#160; Squid 2.7.STABLE8 
</I>&gt;<i> Squid Web Proxy version worked well for authentication until recent 
</I>&gt;<i> Windows 10 update killed Sha1.&#160; Now I am upgrading to squid proxy 
</I>&gt;<i> version 3.5.x.x to restore authentication.
</I>
FYI: upgrading to Squid-3 will not solve that problem by itself. The 
helpers in both Squid series are performing the same logic, with the 
same crypto limitations.

The core problem is that NTLM protocol itself is not capable of anything 
actually considered secure these days. It was declared EOL by MS more 
then 11 years ago, so loss of NTLM related things in Win10 is hardly a 
surprise.

To solve your auth problem what you need is actually a migration to 
Kerberos authentication (Negotiate auth). You might find that slightly 
easier after the Squid-3 upgrade, but the two are really independent 
changes.


&gt;<i> 
</I>&gt;<i> The below settings are longer available in the 3.5.x.x version since the 
</I>&gt;<i> progams do not exist for the new version:
</I>&gt;<i> 
</I>&gt;<i> auth_param ntlm program c:/squid/libexec/mswin_ntlm_auth.exe
</I>&gt;<i> 
</I>&gt;<i> external_acl_type win_domain_group %LOGIN 
</I>&gt;<i> c:/squid/libexec/mswin_check_ad_group.exe -G
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What are the equivalent setting for v 3.5.&#160; Once again I am in windows 
</I>&gt;<i> environment.
</I>
The helpers still exist, they just got renamed to follow a structured 
taxonomy:
&lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6">http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6</A>&gt;


Amos
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170627/3262745d/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170627/3262745d/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015753.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
	<LI>Next message (by thread): <A HREF="015764.html">[squid-users] NTLM authentication worked in Squid 2.7.STABLE8 Squid Web Proxy, now need it in v3.5 hosted on Windows server 2k12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15763">[ date ]</a>
              <a href="thread.html#15763">[ thread ]</a>
              <a href="subject.html#15763">[ subject ]</a>
              <a href="author.html#15763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
