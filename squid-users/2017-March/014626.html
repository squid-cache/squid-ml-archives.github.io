<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid workers question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20workers%20question&In-Reply-To=%3Cf547a991-3178-7b95-113d-fb4b533c3056%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014650.html">
   <LINK REL="Next"  HREF="014629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid workers question</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20workers%20question&In-Reply-To=%3Cf547a991-3178-7b95-113d-fb4b533c3056%40measurement-factory.com%3E"
       TITLE="[squid-users] squid workers question">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Mar  9 16:07:19 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014650.html">[squid-users] squid workers question
</A></li>
        <LI>Next message (by thread): <A HREF="014629.html">[squid-users] squid workers question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14626">[ date ]</a>
              <a href="thread.html#14626">[ thread ]</a>
              <a href="subject.html#14626">[ subject ]</a>
              <a href="author.html#14626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/09/2017 07:21 AM, Matus UHLAR - fantomas wrote:

&gt;<i> I have installed squid 3.4.8 on linux 3.16/64bit (debian 8 / jessie
</I>&gt;<i> version)
</I>&gt;<i> 
</I>&gt;<i> (I know it's old, but I prefer using distribution-provided SW unless it has
</I>&gt;<i> real problem distribution isn't able to fix)
</I>
My answers are based on v5 code. (I know v5 is new, but I do not
remember v3.4 specifics and v5 answers will be valid for a longer time.)


&gt;<i> I configured rock store (for smaller files) and (later) standard aufs
</I>&gt;<i> for others:
</I>&gt;<i> 
</I>&gt;<i> cache_dir rock /var/spool/squid3/rock 1024 max-size=32768
</I>&gt;<i> #cache_dir aufs /var/spool/squid3 8192 16 256 min-size=32769
</I>&gt;<i> 
</I>&gt;<i> are those correct values? (bug 3411 says something about 256B metadata)
</I>
Both rock and AUFS stores support large objects so there is no
requirement to split storage based on object sizes. Each store has
various pros and cons, but lack of large object support is not one of
the distinguishing characteristics.


&gt;<i> - do I get it right that kid1 is the Master, kid2 is the disker for rock
</I>&gt;<i>   store and kid3 is the single worker process?
</I>
In SMP mode (which, BTW, AUFS store does not support), Master is not a
kid (it is a parent of all kids), the first N kids are workers, the next
D kids are diskers, and the last kid is Coordinator. Please see the
following wiki section for more details.

   <A HREF="http://wiki.squid-cache.org/Features/SmpScale#Terminology">http://wiki.squid-cache.org/Features/SmpScale#Terminology</A>

If possible, avoid relying on this specific numbering scheme because
mapping kid numbers to kid roles is not a part of a stable Squid
interface IMO.


&gt;<i> - restart with &quot;workers 1&quot; worked, but isn't that the default?
</I>
Yes, &quot;1&quot; is the default value for the workers directive.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014650.html">[squid-users] squid workers question
</A></li>
	<LI>Next message (by thread): <A HREF="014629.html">[squid-users] squid workers question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14626">[ date ]</a>
              <a href="thread.html#14626">[ thread ]</a>
              <a href="subject.html#14626">[ subject ]</a>
              <a href="author.html#14626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
