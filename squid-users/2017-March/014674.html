<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Data usage reported in log files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Data%20usage%20reported%20in%20log%20files&In-Reply-To=%3C0bab97e6-e503-a2f9-0c8d-371047e67b52%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014687.html">
   <LINK REL="Next"  HREF="014690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Data usage reported in log files</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Data%20usage%20reported%20in%20log%20files&In-Reply-To=%3C0bab97e6-e503-a2f9-0c8d-371047e67b52%40measurement-factory.com%3E"
       TITLE="[squid-users] Data usage reported in log files">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Mar 10 20:57:25 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014687.html">[squid-users] Data usage reported in log files
</A></li>
        <LI>Next message (by thread): <A HREF="014690.html">[squid-users] reply_body_max_size question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14674">[ date ]</a>
              <a href="thread.html#14674">[ thread ]</a>
              <a href="subject.html#14674">[ subject ]</a>
              <a href="author.html#14674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/10/2017 01:37 PM, Marcus Kool wrote:
&gt;<i> Squid has no idea how many bytes go through the (HTTPS) tunnels.
</I>
Actually, Squid knows the number of raw (encrypted) TCP payload bytes
inside a tunnel and should log that.

Squid also knows and logs the number of HTTP (decrypted) bytes if the
SSL tunnel is bumped. In that case, the logged number is often smaller
but could also be larger than the corresponding TCP payload, depending
on whether SSL uses compression.

In any case, Squid numbers do not contain TCP/IP/Ethernet headers and
control messages. They may also lack HTTP chunked encoding overheads.
Failed Squid-to-server connections are not logged if they were
successfully retried.

There are also logging/accounting bugs because there is currently no
automated system to detect them. For a recent example, see our fix at
<A HREF="http://bazaar.launchpad.net/~squid/squid/trunk/revision/14838">http://bazaar.launchpad.net/~squid/squid/trunk/revision/14838</A>

If you use the latest release and see a disparity (between Squid-logged
numbers and other sources of information) that cannot be explained by
known factors, consider reporting it.


Thank you,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014687.html">[squid-users] Data usage reported in log files
</A></li>
	<LI>Next message (by thread): <A HREF="014690.html">[squid-users] reply_body_max_size question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14674">[ date ]</a>
              <a href="thread.html#14674">[ thread ]</a>
              <a href="subject.html#14674">[ subject ]</a>
              <a href="author.html#14674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
