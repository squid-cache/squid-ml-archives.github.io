<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] URL list from a URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20URL%20list%20from%20a%20URL&In-Reply-To=%3C000d01d2a2a1%24aedd9fc0%240c98df40%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014787.html">
   <LINK REL="Next"  HREF="014799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] URL list from a URL</H1>
    <B>Eliezer  Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20URL%20list%20from%20a%20URL&In-Reply-To=%3C000d01d2a2a1%24aedd9fc0%240c98df40%24%40ngtech.co.il%3E"
       TITLE="[squid-users] URL list from a URL">eliezer at ngtech.co.il
       </A><BR>
    <I>Wed Mar 22 00:17:24 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="014787.html">[squid-users] URL list from a URL
</A></li>
        <LI>Next message (by thread): <A HREF="014799.html">[squid-users] URL list from a URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14788">[ date ]</a>
              <a href="thread.html#14788">[ thread ]</a>
              <a href="subject.html#14788">[ subject ]</a>
              <a href="author.html#14788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The current StoreID helper can be converted pretty fast into what he needs.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Alex Rousskov
Sent: Tuesday, March 21, 2017 11:43 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] URL list from a URL

On 03/21/2017 02:30 PM, Jason B. Nance wrote:

&gt;<i> I should have mentioned that I'm not caching, I'm only using Squid
</I>&gt;<i> for whitelisting in this case.  Would you still say this is the right
</I>&gt;<i> path? 
</I>
No. You probably have two better options:

1. Use a file with list of mirror URLs as an ACL parameter. Write a
script that updates that file and reconfigures Squid as needed. Please
keep in mind that Squid reconfiguration is currently a relatively
heavy/intrusive operation, even if there were not changes except for
that single ACL.

2. Write an external_acl helper that will consult the mirror list. This
will make each HTTP transaction a little slower (because it needs to go
to the helper) but eliminates reconfigurations. The helper itself or
some other script will still need to update the mirror list as needed,
of course.


HTH,

Alex.




&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm using Squid 3.5.20 and wonder if it is possible to define an ACL which retrieves the list of URLs from another URL (similar to pointing to a file).  In this specific use case it is to allow a Foreman server to sync Yum content from the CentOS mirrors.  I tell Foreman to use the following URL:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=updates">http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=updates</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which returns a list of URLs, such as:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://repo1.dal.innoscale.net/centos/7.3.1611/updates/x86_64/">http://repo1.dal.innoscale.net/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://linux.mirrors.es.net/centos/7.3.1611/updates/x86_64/">http://linux.mirrors.es.net/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://reflector.westga.edu/repos/CentOS/7.3.1611/updates/x86_64/">http://reflector.westga.edu/repos/CentOS/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://mirror.jax.hugeserver.com/centos/7.3.1611/updates/x86_64/">http://mirror.jax.hugeserver.com/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://ftp.linux.ncsu.edu/pub/CentOS/7.3.1611/updates/x86_64/">http://ftp.linux.ncsu.edu/pub/CentOS/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://mirror.nexcess.net/CentOS/7.3.1611/updates/x86_64/">http://mirror.nexcess.net/CentOS/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://mirror.web-ster.com/centos/7.3.1611/updates/x86_64/">http://mirror.web-ster.com/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://centos.host-engine.com/7.3.1611/updates/x86_64/">http://centos.host-engine.com/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://mirror.raystedman.net/centos/7.3.1611/updates/x86_64/">http://mirror.raystedman.net/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i> <A HREF="http://mirror.linux.duke.edu/pub/centos/7.3.1611/updates/x86_64/">http://mirror.linux.duke.edu/pub/centos/7.3.1611/updates/x86_64/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Foreman then starts a new HTTP connection (not a redirect) to attempt to connect to those in turn until it works.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So I would like to configure Squid to allow the Foreman server access to any of those URLs (the list changes somewhat often).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I started to go down the external_acl_type but am wondering if I'm missing something obvious.
</I>
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="014787.html">[squid-users] URL list from a URL
</A></li>
	<LI>Next message (by thread): <A HREF="014799.html">[squid-users] URL list from a URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14788">[ date ]</a>
              <a href="thread.html#14788">[ thread ]</a>
              <a href="subject.html#14788">[ subject ]</a>
              <a href="author.html#14788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
