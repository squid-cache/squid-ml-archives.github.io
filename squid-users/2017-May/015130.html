<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Tutorial for better authentication than basic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Tutorial%20for%20better%20authentication%20than%20basic&In-Reply-To=%3C1207337074.1242098.1493770232643%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015171.html">
   <LINK REL="Next"  HREF="015116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Tutorial for better authentication than basic</H1>
    <B>j m</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Tutorial%20for%20better%20authentication%20than%20basic&In-Reply-To=%3C1207337074.1242098.1493770232643%40mail.yahoo.com%3E"
       TITLE="[squid-users] Tutorial for better authentication than basic">acctforjunk at yahoo.com
       </A><BR>
    <I>Wed May  3 00:10:32 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015171.html">[squid-users] Tutorial for better authentication than basic
</A></li>
        <LI>Next message (by thread): <A HREF="015116.html">[squid-users] Squid cannot parse Content-Length header value and closes connection before sending body?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15130">[ date ]</a>
              <a href="thread.html#15130">[ thread ]</a>
              <a href="subject.html#15130">[ subject ]</a>
              <a href="author.html#15130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is in response to:
&quot;There is another option if you don't have any issue to allow a certain public IP address access to your network you can use some kind of portal which will allow based on a SSL(even with self signed certificate) the &quot;session&quot; access to the service.&quot;
I didn't receive the email so couldn't reply directly. &#160;
I'm pretty happy with digest auth as I think that is likely secure enough. &#160;The proxy is working, mostly &#160;However I'm having trouble with two things:
1. I'm not able to figure out what goes into squid.conf to allow SSH through proxy. &#160;My SSH server is on a non-standard port above 1024, and as I understand, squid.conf has to account for this. &#160;I have references to (ssh_port) and have the CONNECT method enabled (I believe) but I'm not sure if this is correct. &#160;I'm certainly not able to SSH thru it:

auth_param digest program /usr/lib/squid/digest_file_auth -c /etc/squid/passwdauth_param digest realm the_zone
auth_param digest children 2
acl auth_users proxy_auth REQUIRED
acl SSL_ports port (ssh_port)
acl Safe_ports port (ssh_port)
acl SSL_ports port 443
acl Safe_ports port 80 &#160; &#160; &#160; &#160;# httpacl Safe_ports port 21 &#160; &#160; &#160; &#160;# ftpacl Safe_ports port 443 &#160; &#160; &#160; &#160;# httpsacl Safe_ports port 70 &#160; &#160; &#160; &#160;# gopheracl Safe_ports port 210 &#160; &#160; &#160; &#160;# waisacl Safe_ports port 1025-65535 &#160; &#160;# unregistered portsacl Safe_ports port 280 &#160; &#160; &#160; &#160;# http-mgmtacl Safe_ports port 488 &#160; &#160; &#160; &#160;# gss-httpacl Safe_ports port 591 &#160; &#160; &#160; &#160;# filemakeracl Safe_ports port 777 &#160; &#160; &#160; &#160;# multiling httpacl CONNECT method CONNECT
http_access deny !Safe_ports
http_access deny CONNECT !SSL_portshttp_access allow auth_users
http_access allow all
http_port (proxy_port)
cache deny all
access_log none



2. I am no longer able to start squid in Ubuntu by using &quot;service squid start&quot;. &#160;This used to work, but it gives no error; it appears to immediately execute, but it's not running as a process. &#160; &#160;However, if I run &quot;squid -N -d 1 -D&quot;, it runs with no complaints.



      From: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
 To: 'j m' &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">acctforjunk at yahoo.com</A>&gt;; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> 
 Sent: Monday, May 1, 2017 3:30 PM
 Subject: RE: [squid-users] Tutorial for better authentication than basic
   
And what about digest authentication?

----
<A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>


From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of j m
Sent: Monday, May 1, 2017 4:18 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Tutorial for better authentication than basic

I'm using Ubuntu 16.04 Server in the home and would like to set up a proxy server for use from over the Internet.&#160; The main purpose for this is to easily access a few web-devices on my LAN without using VPN, and at times to route web traffic from a remote location through my home ISP.&#160; I do not need nor want any caching or filtering.

I previously used Tinyproxy and that did the job, but it had no authentication whatsoever.&#160; I have basic authentication working on squid 3.5, where it asks for the username and password, but I believe this login is sent in clear text.&#160; I've did some research and found squid supports various better methods, such as kerberos, ntlm, smb, etc.&#160; However, while I'm able to install Linux and set up various things, I'm struggling with this authentication aspect.&#160; I have a suspicion some of these methods will not work well because they rely on other services (such as SMB) and may require opening more ports on my router, something I'm not crazy about.

Amos previously suggested client cert auth, but I'm not sure how to set this up.&#160; Are there any other secure auth methods that would work well over the Internet and are fairly simple to configure?

In any case, can anyone point me to an online tutorial somewhere (for a authentication newbie) that outlines how this is done?


   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170503/0390f9f3/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170503/0390f9f3/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015171.html">[squid-users] Tutorial for better authentication than basic
</A></li>
	<LI>Next message (by thread): <A HREF="015116.html">[squid-users] Squid cannot parse Content-Length header value and closes connection before sending body?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15130">[ date ]</a>
              <a href="thread.html#15130">[ thread ]</a>
              <a href="subject.html#15130">[ subject ]</a>
              <a href="author.html#15130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
