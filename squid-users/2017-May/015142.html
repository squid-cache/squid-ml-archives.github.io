<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Passing Windows username to parent proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Passing%20Windows%20username%20to%20parent%20proxy&In-Reply-To=%3Cd5cc395d-65cc-e2c3-5811-4b61e33771b6%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015137.html">
   <LINK REL="Next"  HREF="015143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Passing Windows username to parent proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Passing%20Windows%20username%20to%20parent%20proxy&In-Reply-To=%3Cd5cc395d-65cc-e2c3-5811-4b61e33771b6%40treenet.co.nz%3E"
       TITLE="[squid-users] Passing Windows username to parent proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May  3 13:54:52 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015137.html">[squid-users] Passing Windows username to parent proxy
</A></li>
        <LI>Next message (by thread): <A HREF="015143.html">[squid-users] Passing Windows username to parent proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15142">[ date ]</a>
              <a href="thread.html#15142">[ thread ]</a>
              <a href="subject.html#15142">[ subject ]</a>
              <a href="author.html#15142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/05/17 22:47, BurningSky wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have been searching around the web for a while now to try and find a
</I>&gt;<i> solution but having not had much luck I was wondering if someone on here
</I>&gt;<i> could help.
</I>&gt;<i>
</I>&gt;<i> I have set up a Windows 2008 R2 server running the Diladele pre-complied
</I>&gt;<i> Squid 3.5 proxy and am looking to make use of our firewall for URL
</I>&gt;<i> filtering. Our firewall allows/denies access to certain web sites by using
</I>&gt;<i> the AD group memberships of the Windows end user.
</I>&gt;<i>
</I>&gt;<i> I have managed to get a basic config up and running and am using the line
</I>&gt;<i> below to forward the traffic via the proxy setup on our firewall. If I point
</I>&gt;<i> the end user machine directly at the firewall then the filtering works but
</I>&gt;<i> the firewall doesn't have caching, thus wanting to use Squid.
</I>&gt;<i> cache_peer whl-utm1.e2v.com parent 3128 0 no-query default login=PASSTHRU
</I>&gt;<i>
</I>&gt;<i> As I am new to Squid I thought, perhaps naively, that the end user domain
</I>&gt;<i> username would automatically be forwarded on with the requests to the parent
</I>&gt;<i> but in the parents log file I just seem to see the username of the account
</I>&gt;<i> that I have RDPed to the server on, not of the end user machine that the
</I>&gt;<i> request is coming from.
</I>
Not sure exactly what you mean by &quot;RPDd&quot;, but you can only authenticate 
one user at a time with connection based authentication.

The login=PASSTHRU is correct for passing whatever the clients sends 
through to the parent proxy and vice versa for the parents response auth 
headers. Squid must not itself perform any type of authentication with 
either client, or the parents cache_peer TCP connections.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015137.html">[squid-users] Passing Windows username to parent proxy
</A></li>
	<LI>Next message (by thread): <A HREF="015143.html">[squid-users] Passing Windows username to parent proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15142">[ date ]</a>
              <a href="thread.html#15142">[ thread ]</a>
              <a href="subject.html#15142">[ subject ]</a>
              <a href="author.html#15142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
