<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to make sslbump'ing more robust? (option to continue?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20make%20sslbump%27ing%20more%20robust%3F%20%28option%20to%0A%20continue%3F%29&In-Reply-To=%3C4f256c33-438b-96b4-7984-bc4e3a884ad4%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015221.html">
   <LINK REL="Next"  HREF="015226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to make sslbump'ing more robust? (option to continue?)</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20make%20sslbump%27ing%20more%20robust%3F%20%28option%20to%0A%20continue%3F%29&In-Reply-To=%3C4f256c33-438b-96b4-7984-bc4e3a884ad4%40measurement-factory.com%3E"
       TITLE="[squid-users] How to make sslbump'ing more robust? (option to continue?)">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu May 11 16:19:39 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015221.html">[squid-users] How to make sslbump'ing more robust? (option to	continue?)
</A></li>
        <LI>Next message (by thread): <A HREF="015226.html">[squid-users] How to make sslbump'ing more robust? (option to	continue?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15225">[ date ]</a>
              <a href="thread.html#15225">[ thread ]</a>
              <a href="subject.html#15225">[ subject ]</a>
              <a href="author.html#15225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/10/2017 11:15 PM, L A Walsh wrote:
&gt;<i> I tried accessing a site that had an expired certificate today
</I>
&gt;<i> In going through squid, I got [a Squid error page]
</I>
&gt;<i> But trying the same page through IE, I got [IE error page with]
</I>&gt;<i> Continue to this website (not recommended).
</I>
&gt;<i> Is there any way to put up some similar page to describe the problem,
</I>&gt;<i> and most importantly, allow the connection to continue at user
</I>&gt;<i> discretion?
</I>
Yes, there is a way. Your options include:

1. Tell Squid to ignore expired certificates errors. Squid will then
mimic the expired certificate while allowing the client traffic. The
client should then detect the expired (fake) certificate and may offer
the user to bypass the problem. However, if the client is not smart
enough, it may silently allow the connection to an attacker. In general,
not all clients are smart browsers (and not all users are smart enough
not to bypass warnings that should not be bypassed). It is your decision
who to delegate certificate freshness checks to. By default, Squid does
them (and smart browsers do them as well). This is not so much about
robustness but mostly about security.

2.1 Customize Squid error page(s). You can make them look almost exactly
like the browser error pages if you want.

2.2. Add user-driven error bypass to #2.1. Write Squid helper scripts
(at least!) that convert user clicking a link in a Squid-generated error
page to Squid ignoring the expired certificate error and generating a
fresh fake certificate (instead of the expired one). Implementing this
well is difficult, but, AFAICT, possible.

For more details and starting points, please see error_directory,
sslproxy_cert_error, sslproxy_cert_adapt, and external_acl_type in
squid.conf.documented.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015221.html">[squid-users] How to make sslbump'ing more robust? (option to	continue?)
</A></li>
	<LI>Next message (by thread): <A HREF="015226.html">[squid-users] How to make sslbump'ing more robust? (option to	continue?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15225">[ date ]</a>
              <a href="thread.html#15225">[ thread ]</a>
              <a href="subject.html#15225">[ subject ]</a>
              <a href="author.html#15225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
