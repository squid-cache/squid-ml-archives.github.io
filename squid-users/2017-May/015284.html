<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid + IPv6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20%2B%20IPv6&In-Reply-To=%3C04d401d2ce96%241fe84e20%245fb8ea60%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015283.html">
   <LINK REL="Next"  HREF="015285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid + IPv6</H1>
    <B>Eliezer  Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20%2B%20IPv6&In-Reply-To=%3C04d401d2ce96%241fe84e20%245fb8ea60%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Squid + IPv6">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue May 16 22:45:32 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015283.html">[squid-users] Squid + IPv6
</A></li>
        <LI>Next message (by thread): <A HREF="015285.html">[squid-users] Squid + IPv6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15284">[ date ]</a>
              <a href="thread.html#15284">[ thread ]</a>
              <a href="subject.html#15284">[ subject ]</a>
              <a href="author.html#15284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's doable but I really recommend to try and run squid on Linux instead of
Windows.
It's very important that you understand that the windows version cannot be
fully supported for your specific need.
Even if you will run a Linux virtual machine ontop of a windows box you will
probably have better results then trying to find a &quot;fix&quot; for the windows
version from this mailing list.

Specifically for the thousands of  IPv6 I believe that you will need a
custom solution either by patching squid for Linux or write the right
software for your needs.

Hope It Helps,
Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



-----Original Message-----
From: IAPS Security Services, Ltd. [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">jared at iaps.pro</A>] 
Sent: Wednesday, May 17, 2017 12:20 AM
To: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Squid + IPv6

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--E9SVe58D61BPqLwwes7HgAq2DqWH0WJJV
Content-Type: multipart/mixed; boundary=&quot;9uXrNjm44vJFPKovTw2oihDfwSCwtM6rd&quot;;
 protected-headers=&quot;v1&quot;
From: &quot;IAPS Security Services, Ltd.&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">jared at iaps.pro</A>&gt;
To: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">42b652f1-3bd6-a3c8-8a3f-821d14c0d0da at iaps.pro</A>&gt;
Subject: Re: [squid-users] Squid + IPv6
References: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">119093bb-bd72-b489-c10e-bde7b4e1b64c at iaps.pro</A>&gt;
 &lt;04c301d2ce89$6748a060$35d9e120$@ngtech.co.il&gt;
In-Reply-To: &lt;04c301d2ce89$6748a060$35d9e120$@ngtech.co.il&gt;

--9uXrNjm44vJFPKovTw2oihDfwSCwtM6rd
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

What I need from squid is the ability to use thousands of ipv6 ip addresses
in normal http mode. I am not concerned about https at this point. But the
original question was how to increase the ip limit of squid past the 128 ip
maximum on a Windows platform. The main purpose is to assign a specific set
of ipv6 proxies to specific users.

Best Regards,

Jared Twyler
On 5/16/2017 4:14 PM, Eliezer  Croitoru wrote:
&gt;<i> Hey,
</I>&gt;<i> (not sure what=E2=80=99s your first name)
</I>&gt;<i>=20
</I>&gt;<i> What do you actually need from squid, in words.
</I>&gt;<i> Do you need it as a caching proxy?
</I>&gt;<i> What functionality is the main business of squid in your scenario?
</I>&gt;<i> To give specific users ip addresses the option to use a specific 
</I>&gt;<i>outgoi=
</I>ng address?
&gt;<i> Do you need\want squid to enforce some policy else then the issue you 
</I>&gt;<i> a=
</I>re having?
&gt;<i> If you only need to &quot;load balance'&quot; or decide which outgoing ip will 
</I>&gt;<i> be=
</I> used for a specific user source IP then there are much more efficient wa=
ys to do that these days.
&gt;<i> Also when you are talking about &quot;big&quot; number of users with big numbers 
</I>&gt;<i> =
</I>of connections you need to be more specific about your upper limit.
&gt;<i> If you want it to be more then 128 but less the 1024 I would say go 
</I>&gt;<i> wit=
</I>h squid and compile it but... when you are talking about 1k+ I would reco=
mmend you to rethink your strategy.
&gt;<i> If you don't care about SSL-BUMP for example then there are really 
</I>&gt;<i> simp=
</I>le ways to write a simple proxy which will do what you need, you just nee= d
the right programmer.
&gt;<i>=20
</I>&gt;<i> All The Bests,
</I>&gt;<i> Eliezer
</I>&gt;<i>=20
</I>&gt;<i> * I am really not looking for a job to write a proxy.. but just think 
</I>&gt;<i>i=
</I>t's a kind suggestion to redirect into some other directions.
&gt;<i>=20
</I>&gt;<i> ----
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i> Linux System Administrator
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] 
</I>&gt;<i>On=
</I> Behalf Of IAPS Security Services, Ltd.
&gt;<i> Sent: Tuesday, May 16, 2017 10:21 PM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [squid-users] Squid + IPv6
</I>&gt;<i>=20
</I>&gt;<i> Greetings All,
</I>&gt;<i>=20
</I>&gt;<i> First time poster to the list, long time squid user.
</I>&gt;<i>=20
</I>&gt;<i> I have an issue I've come across and I'm greatful if the community can  
</I>&gt;<i>suggest ideas here. I've recently deployed squid for Windows from  
</I>&gt;<i>Diladele (<A HREF="http://squid.diladele.com/">http://squid.diladele.com/</A>) and they said to bring my issue 
</I>&gt;<i>t=
</I>o
&gt;<i> the mail list.
</I>&gt;<i>=20
</I>&gt;<i> Here goes:
</I>&gt;<i>=20
</I>&gt;<i> Squid requires each individual ip to be put on the network card 
</I>&gt;<i>instead=
</I>
&gt;<i> of being permitted to use a cidr annotation for dedicated ip's. There 
</I>&gt;<i> i=
</I>s
&gt;<i> a 128 ip limit for squid by default. This limit can be removed for 
</I>&gt;<i> linu=
</I>x
&gt;<i> machines by re-compiling and adjusting the limits. In the ipv6  
</I>&gt;<i>deployment that I'm trying to create, I need much more than 128 ip's.
</I>&gt;<i>=20
</I>&gt;<i> There are no instructions, at least none that I could find in a basic  
</I>&gt;<i>google search, on how to increase this limit on a windows deployment.
</I>&gt;<i> With ipv6 ip's I'm setting up individual ipv6's per squid acl's so 
</I>&gt;<i>that=
</I>
&gt;<i> users have access to specific ipv6 proxies. Only issue I have is the 
</I>&gt;<i> 12=
</I>8
&gt;<i> ip limit imposed by default. Now when you have access to an ipv6 /29 
</I>&gt;<i> range 128 usable ip's is a drop in the bucket and I'd need the ability 
</I>&gt;<i> to have squid to use thousands of ipv6 ip addresses on demand. The 
</I>&gt;<i> firs=
</I>t
&gt;<i> 128 work fine, but when adding the 129th, the entirety of squid  
</I>&gt;<i>immediately stops working. The acl that I'm using looks like this:
</I>&gt;<i>=20
</I>&gt;<i> acl ip1 myip 2axx:xxxx:285::1
</I>&gt;<i> tcp_outgoing_address 2axx:xxxx:285::1 ip1
</I>&gt;<i>=20
</I>&gt;<i> acl ip2 myip 2axx:xxxx:285::2
</I>&gt;<i> tcp_outgoing_address 2axxxx:xxxx:285::2 ip2
</I>&gt;<i>=20
</I>&gt;<i> How can I compile squid for windows to get around the 128 ip limit 
</I>&gt;<i>impo=
</I>sed?
&gt;<i>=20
</I>

--9uXrNjm44vJFPKovTw2oihDfwSCwtM6rd--

--E9SVe58D61BPqLwwes7HgAq2DqWH0WJJV
Content-Type: application/pgp-signature; name=&quot;signature.asc&quot;
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename=&quot;signature.asc&quot;

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQIcBAEBCAAGBQJZG2z0AAoJEHJVw0pF7EnlQK4QAKy+I3fflCY1Z9XXoRoygpg2
d2DBcJ688fXY9xqbonGQ6h46FqNZCSBmViiPhTPt0ebj5sXOdGcjA4o0SK03JW15
8vmlfCd2hDfRFtkkVkqa6muTF3SLvVSPhb48/5AvAI6rDzwRrZWx8UeGH0X9nei1
nUd/wQdCY4V8CTA/ZeJmqF855ZrNzKw0+rb/s/m4Ub+Q8KxyJ/z+ygu9IRyi10Bc
/94IjY+w0vL+fZzZN0FZIloVYNGFyHfu4fHe028jSZ00stwH1zS5M2g6D1A4JI1P
oSbJ/5wkxwX51h7+B70t8pHQIQ/XD9BZ71EvE+jz5ImtnJwOLq5EuTLHZtlzFr6e
lHdWw+Pp6mqIB+IXTuE8iXsTT1J5rullUdpCEtg7+nh9Sp3Z0Q7YdLQrRNF902v8
7qDptx1tIHQ9J9cBchGtsX1wgOKNIG8FH28XSSzfT45x69Z14r7mTSxLeszblcvN
LDzXr+DXLj0N6esOFQGzHM/YCn0A5bAWQinoLO/pmdflxGnbPPTXI4muxkz1E/Mp
Kz60FW3TYPHtYHJ66NKKu8iL7W0Ax+aEkaEuAX5c9e8LL15U1FCOlT7KfeE0WU9+
oPsOCW/eoTrtdWfGzSTShg3A3Plfip5jUpjz4lJl7VDD4v3Ldwcx4oCt4QGwoowC
2zRnoiMu+j+mFwNpGhkQ
=t2dJ
-----END PGP SIGNATURE-----

--E9SVe58D61BPqLwwes7HgAq2DqWH0WJJV--


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015283.html">[squid-users] Squid + IPv6
</A></li>
	<LI>Next message (by thread): <A HREF="015285.html">[squid-users] Squid + IPv6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15284">[ date ]</a>
              <a href="thread.html#15284">[ thread ]</a>
              <a href="subject.html#15284">[ subject ]</a>
              <a href="author.html#15284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
