<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] I want to get intact response
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20I%20want%20to%20get%20intact%20response&In-Reply-To=%3Ccbf43f2c-34e7-461b-a439-429f302078e1%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015286.html">
   <LINK REL="Next"  HREF="015290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] I want to get intact response</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20I%20want%20to%20get%20intact%20response&In-Reply-To=%3Ccbf43f2c-34e7-461b-a439-429f302078e1%40treenet.co.nz%3E"
       TITLE="[squid-users] I want to get intact response">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May 17 03:52:03 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015286.html">[squid-users] I want to get intact response
</A></li>
        <LI>Next message (by thread): <A HREF="015290.html">[squid-users] Retry on connection refused.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15288">[ date ]</a>
              <a href="thread.html#15288">[ thread ]</a>
              <a href="subject.html#15288">[ subject ]</a>
              <a href="author.html#15288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/05/17 14:29, Dominic Kim wrote:
&gt;<i> I am quite a newbie to Squid proxy.
</I>&gt;<i>
</I>&gt;<i> I am using it with default configuration by running this:
</I>&gt;<i>
</I>&gt;<i> |docker run --name squid -d --publish 3128:3128 sameersbn/squid:3.3.8-23|
</I>&gt;<i>
</I>&gt;<i> When I connect to backend server via squid, if backend server is not 
</I>&gt;<i> ready yet, squid get connection refused error or other connection error.
</I>&gt;<i> But squid always returns 503 service unavailable only.
</I>&gt;<i>
</I>&gt;<i> Is there any option to get intact response(connection refused or 
</I>&gt;<i> failed) from the backend server via squid?
</I>
If the backend is producing an HTTP response Squid delivers it. The 
exception being certain HTTP responses that indicate Squid should retry, 
in which case Squid does that retry and whatever happens on that gets 
delivered.

Connection Refused/Failed are control messages from the network 
infrastructure to Squid indicating that TCP SYN failed. There is no 
backend HTTP response when that happens, so Squid itself generates the 
503 to tell the client what happened. But if there are alternative 
servers the request can go to they will be attempted first.


PS. Squid-3.3 is very outdated, please look into upgrading to a 
currently supported release. As of this writing those are 3.5.x or 4.x 
series.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015286.html">[squid-users] I want to get intact response
</A></li>
	<LI>Next message (by thread): <A HREF="015290.html">[squid-users] Retry on connection refused.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15288">[ date ]</a>
              <a href="thread.html#15288">[ thread ]</a>
              <a href="subject.html#15288">[ subject ]</a>
              <a href="author.html#15288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
