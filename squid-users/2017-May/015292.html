<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid custom error page
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20custom%20error%20page&In-Reply-To=%3C1495020726548-4682433.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015291.html">
   <LINK REL="Next"  HREF="015293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid custom error page</H1>
    <B>chcs</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20custom%20error%20page&In-Reply-To=%3C1495020726548-4682433.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid custom error page">chicago_computers at hotmail.com
       </A><BR>
    <I>Wed May 17 11:32:06 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015291.html">[squid-users] Retry on connection refused.
</A></li>
        <LI>Next message (by thread): <A HREF="015293.html">[squid-users] Squid custom error page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15292">[ date ]</a>
              <a href="thread.html#15292">[ thread ]</a>
              <a href="subject.html#15292">[ subject ]</a>
              <a href="author.html#15292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Firefox 53.0.2 , Chrome 58.3029 y Opera 44 display &quot;Proxy Server Refused
Connection&quot; page, instead of Squid custom error page, when connect to HTTPS
site which blocked by proxy server.
For example we try to connect to <A HREF="https://www.something.com">https://www.something.com</A> via Squid proxy
server which denied with 403 error this connect and send custom error page
with description of problem in older versions it's worked.
I'm using pfSense 2.4 (actual version squid 3.5.24).

Reproducible: Always

Steps to Reproduce:
1. Configure Firefox to use proxy server (SSL Proxy).
2. HTTPS/SSL Interception , Enable SSL filtering, splice all, CA: Let's
Encript autority
3. Try to connect to HTTPS site, which will be blocked by proxy server

Actual Results:  
Firefox will display &quot;Page Load Error&quot; with description &quot;Proxy Server
Refused Connection. Firefox is configured to use a proxy server that is
refusing connections.&quot;
If we connect to HTTPS site which not blocked by proxy server OR using CA
self-signed issuer , all works fine.

Expected Results:  
Display proxy server error page with deny info. 



--
View this message in context: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-custom-error-page-tp4682433.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-custom-error-page-tp4682433.html</A>
Sent from the Squid - Users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015291.html">[squid-users] Retry on connection refused.
</A></li>
	<LI>Next message (by thread): <A HREF="015293.html">[squid-users] Squid custom error page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15292">[ date ]</a>
              <a href="thread.html#15292">[ thread ]</a>
              <a href="subject.html#15292">[ subject ]</a>
              <a href="author.html#15292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
