<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Tagged ACLs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Tagged%20ACLs%3F&In-Reply-To=%3C20170520160709.tdz2yyazxntqeasz%40charite.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015354.html">
   <LINK REL="Next"  HREF="015356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Tagged ACLs?</H1>
    <B>Ralf Hildebrandt</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Tagged%20ACLs%3F&In-Reply-To=%3C20170520160709.tdz2yyazxntqeasz%40charite.de%3E"
       TITLE="[squid-users] Tagged ACLs?">Ralf.Hildebrandt at charite.de
       </A><BR>
    <I>Sat May 20 16:07:09 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015354.html">[squid-users] Change are not taking
</A></li>
        <LI>Next message (by thread): <A HREF="015356.html">[squid-users] Tagged ACLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15355">[ date ]</a>
              <a href="thread.html#15355">[ thread ]</a>
              <a href="subject.html#15355">[ subject ]</a>
              <a href="author.html#15355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Currently we're using a few blacklists (from abuse.ch) as ACLs on our
squid installation.

This is working well, but we want to create statistics on how many
clients were &quot;caught&quot; trying to access blocked sites.

Currently, we're grepping the log for TCP_DENIED in conjunction with the
patterns from the ACLs. This is working somewhat OK, but if access was
blocked using a pettern that was in use when the client tried to
access and was subsequently removed (prior to the time of the log
analysis process), it won't be found...

Is there any way around this? Like &quot;tagging&quot; rejects or logging the
ACL that caused the rejection? (Using squid-5 HEAD here)

-- 
Ralf Hildebrandt                   Charite Universit&#228;tsmedizin Berlin
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ralf.hildebrandt at charite.de</A>        Campus Benjamin Franklin
<A HREF="https://www.charite.de">https://www.charite.de</A>             Hindenburgdamm 30, 12203 Berlin
Gesch&#228;ftsbereich IT, Abt. Netzwerk fon: +49-30-450.570.155

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015354.html">[squid-users] Change are not taking
</A></li>
	<LI>Next message (by thread): <A HREF="015356.html">[squid-users] Tagged ACLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15355">[ date ]</a>
              <a href="thread.html#15355">[ thread ]</a>
              <a href="subject.html#15355">[ subject ]</a>
              <a href="author.html#15355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
