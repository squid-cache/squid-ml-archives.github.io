<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] It is possible to use SSL_bump on my squid server	3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not	configured).
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20It%20is%20possible%20to%20use%20SSL_bump%20on%20my%20squid%20server%0A%093.5.23%2C%20if%20my%20parent%20cache%20%28cache_peer%29%20does%20not%20use%20ssl_bump%20%28not%0A%09configured%29.&In-Reply-To=%3C201705221014073007673%40ltu.sld.cu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015357.html">
   <LINK REL="Next"  HREF="015369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] It is possible to use SSL_bump on my squid server	3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not	configured).</H1>
    <B>yuriang</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20It%20is%20possible%20to%20use%20SSL_bump%20on%20my%20squid%20server%0A%093.5.23%2C%20if%20my%20parent%20cache%20%28cache_peer%29%20does%20not%20use%20ssl_bump%20%28not%0A%09configured%29.&In-Reply-To=%3C201705221014073007673%40ltu.sld.cu%3E"
       TITLE="[squid-users] It is possible to use SSL_bump on my squid server	3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not	configured).">yuriang at ltu.sld.cu
       </A><BR>
    <I>Mon May 22 14:14:07 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015357.html">[squid-users] It is possible to use SSL_bump on my squid server	3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not	configured).
</A></li>
        <LI>Next message (by thread): <A HREF="015369.html">[squid-users] It is possible to use SSL_bump on my squid server 3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not configured).
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15363">[ date ]</a>
              <a href="thread.html#15363">[ thread ]</a>
              <a href="subject.html#15363">[ subject ]</a>
              <a href="author.html#15363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
It is possible to use SSL_bump on my squid server 3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not configured).

# When I try to access an https: //
# With this setting:

http_port 127.0.0.1:3129 ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB cert=/etc/squid/ssl_cert/myCA.pem
sslproxy_options NO_SSLv2,NO_SSLv3,SINGLE_DH_USE
ssl_bump none localhost
ssl_bump server-first all
sslproxy_flags DONT_VERIFY_PEER
sslproxy_cert_error allow all

# Cache.log reports this error:
assertion failed: PeerConnector.cc:116: &quot;peer-&gt;use_ssl&quot;

# With this setting:
http_port 127.0.0.1:3129 ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB cert=/etc/squid/ssl_cert/myCA.pem
sslproxy_options NO_SSLv2,NO_SSLv3,SINGLE_DH_USE
ssl_bump none localhost
ssl_bump bump all
sslproxy_flags DONT_VERIFY_PEER
sslproxy_cert_error allow all

# The browser designates that the connection is not private, NET::ERR_CERT_AUTHORITY_INVALID

Is it necessary for the cache_peer to be compiled with --enable-ssl-crtd and --with-openssl and configured with ssl_bump to be able to use ssl_bump on my squid child server? Or there is a way to configure ssl_bump on the child only, even if the parent does not.

Please help.


--
Este mensaje le ha llegado mediante el servicio de correo electronico que ofrece Infomed para respaldar el cumplimiento de las misiones del Sistema Nacional de Salud. La persona que envia este correo asume el compromiso de usar el servicio a tales fines y cumplir con las regulaciones establecidas

Infomed: <A HREF="http://www.sld.cu/">http://www.sld.cu/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20170522/5c7aaf8a/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20170522/5c7aaf8a/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015357.html">[squid-users] It is possible to use SSL_bump on my squid server	3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not	configured).
</A></li>
	<LI>Next message (by thread): <A HREF="015369.html">[squid-users] It is possible to use SSL_bump on my squid server 3.5.23, if my parent cache (cache_peer) does not use ssl_bump (not configured).
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15363">[ date ]</a>
              <a href="thread.html#15363">[ thread ]</a>
              <a href="subject.html#15363">[ subject ]</a>
              <a href="author.html#15363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
