<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] this config is ok? is ok the order?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20this%20config%20is%20ok%3F%20is%20ok%20the%20order%3F&In-Reply-To=%3C1f29d3f2-3d4d-c55d-ad3b-4d06748b857f%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015480.html">
   <LINK REL="Next"  HREF="015491.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] this config is ok? is ok the order?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20this%20config%20is%20ok%3F%20is%20ok%20the%20order%3F&In-Reply-To=%3C1f29d3f2-3d4d-c55d-ad3b-4d06748b857f%40treenet.co.nz%3E"
       TITLE="[squid-users] this config is ok? is ok the order?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May 31 15:29:39 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015480.html">[squid-users] this config is ok? is ok the order?
</A></li>
        <LI>Next message (by thread): <A HREF="015491.html">[squid-users] failed to bump Twitter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15487">[ date ]</a>
              <a href="thread.html#15487">[ thread ]</a>
              <a href="subject.html#15487">[ subject ]</a>
              <a href="author.html#15487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The answer to your question really depends on what your policies are for 
who and what the proxy can be used by.

The config tells one set of policies. But if those are not the one(s) 
you actually want to happen, then the config is incorrect even if it 
&quot;looks okay&quot;.


If I assume that its doing what you want there are still two major 
issues that can be seen.

1) Mixing interception and authentication (ssl-bump is a type of 
interception, at least on the <A HREF="https://">https://</A> traffic). Intercepted messages 
cannot be authenticated - though there are some workarounds in place for 
ssl-bump to authenticate the CONNECT tunnel and label all the bumped 
traffic with that username.

2) using 8.8.8.8 directly in squid.conf can be amazingly harmful to 
performance. Despite the hype and marketing around Google services, the 
behaviour of this one is actively detrimental to HTTP persistant 
connections feature - namely it load balances which of their endpoint 
servers is handling each DNS query. As such Squid often sees domains 
rotating to a completely different bunch of IP addresses every TTL, 
which in turn means it cannot easily re-use any open connections to the 
prior bunch of IPs. Resulting in a huge churn on TCP sockets and 
unnecessary delays waiting for the new ones to open.


and there are a few minor polishing things you can doing you can do. But 
its not worth spending time on them until you are sure the config 
actually imposes your real wanted policy on the traffic.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015480.html">[squid-users] this config is ok? is ok the order?
</A></li>
	<LI>Next message (by thread): <A HREF="015491.html">[squid-users] failed to bump Twitter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15487">[ date ]</a>
              <a href="thread.html#15487">[ thread ]</a>
              <a href="subject.html#15487">[ subject ]</a>
              <a href="author.html#15487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
