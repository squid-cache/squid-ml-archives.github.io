<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SQUID memory error after vm.swappines changed from 60 to 10
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20memory%20error%20after%20vm.swappines%20changed%0A%20from%2060%20to%2010&In-Reply-To=%3Ccf19e140-7d8b-d216-d2c1-b8d4cdd8eb6b%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016905.html">
   <LINK REL="Next"  HREF="016909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SQUID memory error after vm.swappines changed from 60 to 10</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20memory%20error%20after%20vm.swappines%20changed%0A%20from%2060%20to%2010&In-Reply-To=%3Ccf19e140-7d8b-d216-d2c1-b8d4cdd8eb6b%40measurement-factory.com%3E"
       TITLE="[squid-users] SQUID memory error after vm.swappines changed from 60 to 10">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Nov 14 17:12:36 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016905.html">[squid-users] SQUID memory error after vm.swappines changed from 60 to 10
</A></li>
        <LI>Next message (by thread): <A HREF="016909.html">[squid-users] SQUID memory error after vm.swappines changed from 60 to 10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16906">[ date ]</a>
              <a href="thread.html#16906">[ thread ]</a>
              <a href="subject.html#16906">[ subject ]</a>
              <a href="author.html#16906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/14/2017 08:41 AM, Bike dernikov1 wrote:
&gt;<i> On Mon, Nov 13, 2017 at 4:36 PM, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 11/13/2017 02:34 AM, Bike dernikov1 wrote:
</I>&gt;&gt;&gt;<i> Swap could be used  to translate back data to mem if used, but it
</I>&gt;&gt;&gt;<i> stays on disk and purge after some time if not used ?
</I>
&gt;&gt;<i> The purging bit is wrong. Think of swap as very very very slow RAM.
</I>
&gt;<i> So, when squid need something from swap, it will load that data back to ram.
</I>
In this context, swap is an OS-level concept. Squid does not know that
the OS memory manager has swapped some of Squid data from RAM to disk.
OS does not know what swapped out data means to Squid. When Squid tries
to access data at a swapped out address, the OS blocks the Squid process
and loads the missing data from disk into RAM (usually after swapping
out some RAM bytes to free RAM space for those requested bytes).

Here, &quot;data&quot; essentially means any sequence of bytes allocated by Squid.
For example, some of those swapped out bytes may have nothing to do with
Squid memory cache. Swapped out bytes can even be Squid binary code.


&gt;<i> For purge, data then  stay in swap forever ?
</I>
Swapped out process data stays swapped out until it is either accessed
by the process (and is swapped in by the OS) or the process terminates
(without accessing those swapped out bytes). The latter is unlikely for
Squid data unless the Squid process dies prematurely (i.e., without
doing internal cleanup).


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016905.html">[squid-users] SQUID memory error after vm.swappines changed from 60 to 10
</A></li>
	<LI>Next message (by thread): <A HREF="016909.html">[squid-users] SQUID memory error after vm.swappines changed from 60 to 10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16906">[ date ]</a>
              <a href="thread.html#16906">[ thread ]</a>
              <a href="subject.html#16906">[ subject ]</a>
              <a href="author.html#16906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
