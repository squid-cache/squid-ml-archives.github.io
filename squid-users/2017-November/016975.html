<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Behavior to Ping Destination on Registered Ports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Behavior%20to%20Ping%20Destination%20on%20Registered%0A%20Ports&In-Reply-To=%3C5f9c051b-132f-c411-b676-d5c1d9a25405%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016974.html">
   <LINK REL="Next"  HREF="016976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Behavior to Ping Destination on Registered Ports</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Behavior%20to%20Ping%20Destination%20on%20Registered%0A%20Ports&In-Reply-To=%3C5f9c051b-132f-c411-b676-d5c1d9a25405%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid Behavior to Ping Destination on Registered Ports">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Nov 19 02:19:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016974.html">[squid-users] Squid Behavior to Ping Destination on Registered	Ports
</A></li>
        <LI>Next message (by thread): <A HREF="016976.html">[squid-users] squid 3.5.27 .https website show	SEC_ERROR_UNKNOWN_ISSUER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16975">[ date ]</a>
              <a href="thread.html#16975">[ thread ]</a>
              <a href="subject.html#16975">[ subject ]</a>
              <a href="author.html#16975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/11/17 11:37, Kevin Wong wrote:
&gt;<i> 
</I>&gt;<i> From: Antony Stone
</I>&gt;<i> 
</I>&gt;<i>     On Saturday 18 November 2017 at 21:21:38, Kevin Wong wrote:
</I>&gt;<i> 
</I>&gt;<i>      &gt; My firewall (Juniper SRX) caught outbound ICMP flows using
</I>&gt;<i>     vulnerable ports
</I>&gt;<i> 
</I>&gt;<i>     That makes no sense.&#160; ICMP doesn't use port numbers.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> That is why I asked the list and was a follow up question if somebody 
</I>&gt;<i> replied it is &quot;normal traffic to find the path to the destination or 
</I>&gt;<i> proxies in between&quot;.
</I>&gt;<i> 
</I>
Squid does use ICMP echo to determine RTT to peers and servers to select 
the fastest route. But it does not use ports, even sets the port in the 
payload to 0 so DPI should not mistake it.



&gt;<i>      &gt; before initiating outbound HTTP traffic.&#160; I am running an updated
</I>&gt;<i>     Squid
</I>&gt;<i>      &gt; Proxy on Ubuntu 16.04.&#160; Can anybody explain or confirm the Squid
</I>&gt;<i>     behavior?
</I>&gt;<i> 
</I>&gt;<i>     What ICMP traffic are you blocking and why?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Besides some basic IDS rules, I'm not blocking ICMP traffic.&#160; What's 
</I>&gt;<i> being blocked are all ports that are not explicitly allowed outbound.  
</I>&gt;<i> In this case, ports 1024, 1280, and 1536 were blocked and 80/tcp, 53/udp 
</I>&gt;<i> are allowed outbound.
</I>&gt;<i> 
</I>
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016974.html">[squid-users] Squid Behavior to Ping Destination on Registered	Ports
</A></li>
	<LI>Next message (by thread): <A HREF="016976.html">[squid-users] squid 3.5.27 .https website show	SEC_ERROR_UNKNOWN_ISSUER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16975">[ date ]</a>
              <a href="thread.html#16975">[ thread ]</a>
              <a href="subject.html#16975">[ subject ]</a>
              <a href="author.html#16975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
