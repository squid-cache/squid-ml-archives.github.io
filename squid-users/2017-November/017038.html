<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd: [Squid-3.5.20]Squid transparent proxy http/https without client site config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20%5BSquid-3.5.20%5DSquid%20transparent%20proxy%0A%20http/https%20without%20client%20site%20config&In-Reply-To=%3Cb96f1945-e7cd-72b9-0d93-5f4644d24555%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017037.html">
   <LINK REL="Next"  HREF="017015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd: [Squid-3.5.20]Squid transparent proxy http/https without client site config</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20%5BSquid-3.5.20%5DSquid%20transparent%20proxy%0A%20http/https%20without%20client%20site%20config&In-Reply-To=%3Cb96f1945-e7cd-72b9-0d93-5f4644d24555%40treenet.co.nz%3E"
       TITLE="[squid-users] Fwd: [Squid-3.5.20]Squid transparent proxy http/https without client site config">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov 29 13:29:59 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017037.html">[squid-users] Fwd: [Squid-3.5.20]Squid transparent proxy http/https without client site config
</A></li>
        <LI>Next message (by thread): <A HREF="017015.html">[squid-users] sqstat log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17038">[ date ]</a>
              <a href="thread.html#17038">[ thread ]</a>
              <a href="subject.html#17038">[ subject ]</a>
              <a href="author.html#17038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/11/17 01:34, minh h&#432;ng &#273;&#7895; ho&#224;ng wrote:
&gt;<i> Dear Amos,
</I>&gt;<i> Sorry for concluded hurriedly.
</I>&gt;<i> When i do a test with 1 user, it's seem ok, no more Aler from cache.log. 
</I>&gt;<i> But when i test with more users, the Alert log from cache.log happen 
</I>&gt;<i> again. And so i can't access some https page as chatwork.com , facebook.com.
</I>

You are understanding that this is a log entry that cannot be completely 
removed right? the problem can only be reduced in how much damage is 
done, not fixed.

Also be aware that the cache.log records every security event. Even when 
the user does not see anything unusual because Squid sends them 
transparently to the server they were trying to contact as if the proxy 
was not there (real transparency).

You seem to be doing everything that can be done about the connectivity 
issues related to that log message.


I suspect that any remaining issues you are now having with those HTTPS 
sites is a separate problem with the Squid-3 SSL-Bump code or TLS 
protocol itself. You need to take a closer look at the exact 
transactions that are going on with those remaining problem sites.

If the problem turns out to be anything in the TLS protocol messages the 
'splice' action that your Squid is currently doing means that type of 
problem has nothing to do with Squid. It is the client and server 
endpoints having the issue between themselves.

You could also try out Squid 3.5.27 or Squid-4 code for a more up to 
date SSL-Bump implementation. There are a few changes to how the 
connection management works that might show up as weird problems in 
Squid-3 despite the splice. Even the 7 months between your 3.5.20 and 
3.5.27 has a few of those.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017037.html">[squid-users] Fwd: [Squid-3.5.20]Squid transparent proxy http/https without client site config
</A></li>
	<LI>Next message (by thread): <A HREF="017015.html">[squid-users] sqstat log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17038">[ date ]</a>
              <a href="thread.html#17038">[ thread ]</a>
              <a href="subject.html#17038">[ subject ]</a>
              <a href="author.html#17038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
