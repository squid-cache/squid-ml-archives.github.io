<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Caching URL with ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20URL%20with%20%3F&In-Reply-To=%3C64a118ad-51d9-2e99-f957-b6753d48cb7f%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016538.html">
   <LINK REL="Next"  HREF="016539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Caching URL with ?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20URL%20with%20%3F&In-Reply-To=%3C64a118ad-51d9-2e99-f957-b6753d48cb7f%40treenet.co.nz%3E"
       TITLE="[squid-users] Caching URL with ?">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Oct  3 01:29:39 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016538.html">[squid-users] Caching URL with ?
</A></li>
        <LI>Next message (by thread): <A HREF="016539.html">[squid-users] IP_FREEBIND or IP_TRANSPARENT support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16545">[ date ]</a>
              <a href="thread.html#16545">[ thread ]</a>
              <a href="subject.html#16545">[ subject ]</a>
              <a href="author.html#16545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/10/17 06:44, Hector Chan wrote:
&gt;<i> I have a question about caching URLs with an auth token embedded in the 
</I>&gt;<i> URL parameter.&#160; For example:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://www.example.com/path/page?token=xxx135ynjy93tqi">https://www.example.com/path/page?token=xxx135ynjy93tqi</A>
</I>&gt;<i> 
</I>&gt;<i> The page can be uniquely identified without the URL parameters.&#160; It 
</I>&gt;<i> appears squid is using the full URL, including the URL parameters, as 
</I>&gt;<i> the cache key.&#160; Thus, causing the HIT rate to plummet.&#160; Is there any way 
</I>&gt;<i> I can tell squid to disregard the URL parameters when storing to or 
</I>&gt;<i> serving from cache?&#160; I know the store_id_program can do that, but is 
</I>&gt;<i> there any other way?
</I>
No there is not. Any change to any part of the URL means it is a 
different cache object. Store-ID is the way to de-duplicate identical 
objects caused by this type of broken URL.

PS. the token above is neither private nor secure. If you have any 
influence or contact with the devs of the software doing that please 
encourage them to use real authentication. It looks like OAuth2 Bearer 
is what that system needs to use.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016538.html">[squid-users] Caching URL with ?
</A></li>
	<LI>Next message (by thread): <A HREF="016539.html">[squid-users] IP_FREEBIND or IP_TRANSPARENT support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16545">[ date ]</a>
              <a href="thread.html#16545">[ thread ]</a>
              <a href="subject.html#16545">[ subject ]</a>
              <a href="author.html#16545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
