<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] tproxy first time implementation on squid.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tproxy%20first%20time%20implementation%20on%20squid.&In-Reply-To=%3CCAHWcLuNt4TNF1BW_yS5ynvMnDBj%3D0PHz5Yvfjs2FxHHJqpfUHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016705.html">
   <LINK REL="Next"  HREF="016707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] tproxy first time implementation on squid.</H1>
    <B>Hanoch Hanoch K</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tproxy%20first%20time%20implementation%20on%20squid.&In-Reply-To=%3CCAHWcLuNt4TNF1BW_yS5ynvMnDBj%3D0PHz5Yvfjs2FxHHJqpfUHA%40mail.gmail.com%3E"
       TITLE="[squid-users] tproxy first time implementation on squid.">for.work2920 at gmail.com
       </A><BR>
    <I>Sun Oct 22 16:08:33 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016705.html">[squid-users] Help to Compile Squid for Windows
</A></li>
        <LI>Next message (by thread): <A HREF="016707.html">[squid-users] tproxy first time implementation on squid.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16706">[ date ]</a>
              <a href="thread.html#16706">[ thread ]</a>
              <a href="subject.html#16706">[ subject ]</a>
              <a href="author.html#16706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
I am trying to configure tproxy to expose the ip address i am using to
internet sites and not the ip address of the squid server.
I did read the wiki from the squid web site and acted upon.
the environment i am using is test and i will need to deploy it into
producton when test will work and all the subject will be clear to me.
so the server is ubuntu 14.04.
squid was compiled with netfilter prefix.
the kernel is new and seems to have built in support in the tproxy.
iptables rules where created as the wiki request.
route option had been applied and the sysctl was configured as requested by
the wiki.
the client is windows 7 vmware vm and also the server is vmware vm with 2
ethernet adapters.
one of  the interfaces connect the windows 7 and one having ip from the
built in dhcp server at the router and it is the internet interface.
the server and the client both behind router and all have private ip.
till now the setup.
the problem is when I try to surf with this configuration i get time out.
at the wiki it says it is routing problem.
but digging the logs i do not understand where is my mistake.
can i use this configuration? lets say can i send ip like 10.0.0.2 to be
discovered at internet?
is this configuration is legal?
do not i need public ip on all the interfaces?
if not what is wrong.
i will be happy to supply any log or conf file.
please try to help me.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20171022/977979e7/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20171022/977979e7/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016705.html">[squid-users] Help to Compile Squid for Windows
</A></li>
	<LI>Next message (by thread): <A HREF="016707.html">[squid-users] tproxy first time implementation on squid.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16706">[ date ]</a>
              <a href="thread.html#16706">[ thread ]</a>
              <a href="subject.html#16706">[ subject ]</a>
              <a href="author.html#16706">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
