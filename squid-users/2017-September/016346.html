<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Need assistance debugging Squid error: ssl_ctrd helpers crashing too quickly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Need%20assistance%20debugging%20Squid%20error%3A%20ssl_ctrd%0A%20helpers%20crashing%20too%20quickly&In-Reply-To=%3Ce76b21e7-72d9-98b4-75bd-c321ddded06a%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016343.html">
   <LINK REL="Next"  HREF="016344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Need assistance debugging Squid error: ssl_ctrd helpers crashing too quickly</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Need%20assistance%20debugging%20Squid%20error%3A%20ssl_ctrd%0A%20helpers%20crashing%20too%20quickly&In-Reply-To=%3Ce76b21e7-72d9-98b4-75bd-c321ddded06a%40treenet.co.nz%3E"
       TITLE="[squid-users] Need assistance debugging Squid error: ssl_ctrd helpers crashing too quickly">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Sep 12 04:08:49 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016343.html">[squid-users] Need assistance debugging Squid error: ssl_ctrd helpers crashing too quickly
</A></li>
        <LI>Next message (by thread): <A HREF="016344.html">[squid-users] squid-users Digest, Vol 37, Issue 30
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16346">[ date ]</a>
              <a href="thread.html#16346">[ thread ]</a>
              <a href="subject.html#16346">[ subject ]</a>
              <a href="author.html#16346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

  You got so close but not quite.

Rohit;

* check your running Squid to see what user account it is using. You 
should not need to configure the effective user explicitly (unless it is 
that 'nobody' account - best prevent that account from playing with cert 
creation).

* Remove the ssl_db directory you have that was not working and create 
one fresh with write permissions to the Squid user *and* group. Note 
that is the top level ssl_db directory only.

* run restorecon on the new directory. This is needed for the create to 
work properly when SELinux is present.

* then run the ssl_crtd command _as the Squid user account_ (&quot;su squid&quot; 
or &quot;sudo -i -u squid&quot;).

* run restorecon *again* on the formatted directory structure. This is 
needed for the normal Squid uses to work properly when SELinux is present.


That should be all that is needed to use this helper.


As for upgrades, yes it would be a good idea regardless of this issue. 
3.5.20 was July 2016 release[1] and its best not to be more than a month 
or two behind with ssl-bump things. Eliezers packages[2] should be okay 
if you want to avoid compiling.

[1] &lt;<A HREF="http://www.squid-cache.org/Versions/v3/3.5/">http://www.squid-cache.org/Versions/v3/3.5/</A>&gt;
[2] &lt;<A HREF="https://wiki.squid-cache.org/KnowledgeBase/RedHat">https://wiki.squid-cache.org/KnowledgeBase/RedHat</A>&gt; this page was 
badly out of date sorry, now updated.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016343.html">[squid-users] Need assistance debugging Squid error: ssl_ctrd helpers crashing too quickly
</A></li>
	<LI>Next message (by thread): <A HREF="016344.html">[squid-users] squid-users Digest, Vol 37, Issue 30
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16346">[ date ]</a>
              <a href="thread.html#16346">[ thread ]</a>
              <a href="subject.html#16346">[ subject ]</a>
              <a href="author.html#16346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
