<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] delay pool not workin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20delay%20pool%20not%20workin&In-Reply-To=%3Ce44b476e-e2c7-047c-a0a1-7cf329f36c58%40dvm.esines.cu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016453.html">
   <LINK REL="Next"  HREF="016454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] delay pool not workin</H1>
    <B>Alex Guti&#233;rrez Mart&#237;nez</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20delay%20pool%20not%20workin&In-Reply-To=%3Ce44b476e-e2c7-047c-a0a1-7cf329f36c58%40dvm.esines.cu%3E"
       TITLE="[squid-users] delay pool not workin">alex at dvm.esines.cu
       </A><BR>
    <I>Fri Sep 22 16:30:07 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016453.html">[squid-users] delay pool not workin
</A></li>
        <LI>Next message (by thread): <A HREF="016454.html">[squid-users] delay pool not workin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16421">[ date ]</a>
              <a href="thread.html#16421">[ thread ]</a>
              <a href="subject.html#16421">[ subject ]</a>
              <a href="author.html#16421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pool #3 requires the domain name of a single transaction to
simultaneously be *mail.yahoo.com AND *.linkedin.com AND *.youtube.com
 &#160; Obviously that is impossible, so nothing can match the line that allows.

Pool #1 should match a few things. But probably not what you are testing
with.

I suggest you try to re-write your ACLs in a simpler way with less '!'
(not) modifiers. The way you are compressing lots of things into each
line is no faster than multiple lines, but much harder to understand
what is going on.

#######################################################################
#######################################################################
#######################################################################
#######################################################################

Mr. Jeffries, I rewrite my acl&#180;s on this ways:

# 1

#######################################################################

delay_pools 5

#Canal 1 extensiones.
delay_class 1 2
delay_access 1 allow extensiones
delay_access 1 deny navegacion lento sociales correos
delay_access 1 deny all
delay_parameters 1 16384/32768 32768/32768

#Canal 2 para usuarios.
delay_class 2 1
delay_access 2 allow navegacion
delay_access 2 deny lento sociales correos extensiones
delay_access 2 deny all
delay_parameters 2 65536/65536

#Canal 3 para cosas lentas.
delay_class 3 2
delay_access 3 allow lento
delay_access 3 deny navegacion extensiones sociales correos
delay_access 3 deny all
delay_parameters 3 4096/8192 8192/16384

#Canal 4 Sociales
delay_class 4 2
delay_access 4 allow sociales
delay_access 4 deny navegacion extensiones lento correos
delay_access 4 deny all
delay_parameters 4 4096/8192 8192/16384

#Canal 5 Correos
delay_class 5 2
delay_access 5 allow correos
delay_access 5 deny navegacion extensiones lento sociales
delay_access 5 deny all
delay_parameters 5 4096/8192 8192/16384

##############################################

#2

###################################################

delay_pools 5

#Canal 1 extensiones.
delay_class 1 2
delay_access 1 allow extensiones !navegacion !lento !sociales !correos
delay_access 1 deny all
delay_parameters 1 16384/32768 32768/32768

#Canal 2 para usuarios.
delay_class 2 1
delay_access 2 allow navegacion !lento !sociales !correos !extensiones
delay_access 2 deny all
delay_parameters 2 65536/65536

#Canal 3 para cosas lentas.
delay_class 3 2
delay_access 3 allow lento !navegacion !extensiones !sociales !correos
delay_access 3 deny all
delay_parameters 3 4096/8192 8192/16384

#Canal 4 Sociales
delay_class 4 2
delay_access 4 allow sociales !navegacion !extensiones !lento !correos
delay_access 4 deny all
delay_parameters 4 4096/8192 8192/16384

#Canal 5 Correos
delay_class 5 2
delay_access 5 allow correos !navegacion !extensiones !lento !sociales
delay_access 5 deny all
delay_parameters 5 4096/8192 8192/16384

#####################################################

#3

#######################################################

delay_pools 5

#Canal 1 extensiones.
delay_class 1 2
delay_access 1 allow extensiones
delay_access 1 deny all
delay_parameters 1 16384/32768 32768/32768

#Canal 2 para usuarios.
delay_class 2 1
delay_access 2 allow navegacion
delay_access 2 deny all
delay_parameters 2 65536/65536

#Canal 3 para cosas lentas.
delay_class 3 2
delay_access 3 allow lento
delay_access 3 deny all
delay_parameters 3 4096/8192 8192/16384

#Canal 4 Sociales
delay_class 4 2
delay_access 4 allow sociales
delay_access 4 deny all
delay_parameters 4 4096/8192 8192/16384

#Canal 5 Correos
delay_class 5 2
delay_access 5 allow correos
delay_access 5 deny all
delay_parameters 5 4096/8192 8192/16384
####################################################


Every request fails, only delay pool 2 is on use, execpt for example # 
2, in that case every request was transfer to delay pool # 1.

Any suggestions?

-- 
Saludos Cordiales

Lic. Alex Guti&#233;rrez Mart&#237;nez

Tel. +53 7 2710327




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016453.html">[squid-users] delay pool not workin
</A></li>
	<LI>Next message (by thread): <A HREF="016454.html">[squid-users] delay pool not workin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16421">[ date ]</a>
              <a href="thread.html#16421">[ thread ]</a>
              <a href="subject.html#16421">[ subject ]</a>
              <a href="author.html#16421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
