<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] tuning squid memory (aka avoiding the reaper)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tuning%20squid%20memory%20%28aka%20avoiding%20the%20reaper%29&In-Reply-To=%3C763e182c-d966-fd6a-ed2b-0c20d17c3274%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016484.html">
   <LINK REL="Next"  HREF="016494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] tuning squid memory (aka avoiding the reaper)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tuning%20squid%20memory%20%28aka%20avoiding%20the%20reaper%29&In-Reply-To=%3C763e182c-d966-fd6a-ed2b-0c20d17c3274%40treenet.co.nz%3E"
       TITLE="[squid-users] tuning squid memory (aka avoiding the reaper)">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Sep 29 05:05:05 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016484.html">[squid-users] tuning squid memory (aka avoiding the reaper)
</A></li>
        <LI>Next message (by thread): <A HREF="016494.html">[squid-users] tuning squid memory (aka avoiding the reaper)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16488">[ date ]</a>
              <a href="thread.html#16488">[ thread ]</a>
              <a href="subject.html#16488">[ subject ]</a>
              <a href="author.html#16488">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29/09/17 12:35, Aaron Turner wrote:
&gt;<i> Ok, i'll work on that.  One other thing, is that if I let it run long
</I>&gt;<i> enough, squid will crash with errors like the following:
</I>&gt;<i> 
</I>&gt;<i> FATAL: Received Bus Error...dying.
</I>&gt;<i> 2017/09/28 23:28:09 kid4| Closing HTTP port 10.93.3.4:3128
</I>&gt;<i> 2017/09/28 23:28:09 kid4| Closing HTTP port 127.0.0.1:3128
</I>&gt;<i> 2017/09/28 23:28:09 kid4| storeDirWriteCleanLogs: Starting...
</I>&gt;<i> 2017/09/28 23:28:09 kid4|   Finished.  Wrote 0 entries.
</I>&gt;<i> 2017/09/28 23:28:09 kid4|   Took 0.00 seconds (  0.00 entries/sec).
</I>&gt;<i> CPU Usage: 0.541 seconds = 0.466 user + 0.075 sys
</I>&gt;<i> Maximum Resident Size: 121440 KB
</I>&gt;<i> Page faults with physical i/o: 0
</I>&gt;<i> 
</I>&gt;<i> At first I thought the bus error was hardware, but it's happened on
</I>&gt;<i> two different EC2 instances now.
</I>&gt;<i> 
</I>
Yes &quot;Bus Error&quot; is definitely hardware. The OS kernel had an error 
loading some data from RAM into the CPU or something along those lines.

The only things we can do about it is check that your Squid is up to 
date with the system environment - eg fairly recent Squid version built 
with the OS latest compiler version against its current libc or whatever 
the equivalents of those are for your system. If there are binary level 
issues with the libc interfaces weird things can happen.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016484.html">[squid-users] tuning squid memory (aka avoiding the reaper)
</A></li>
	<LI>Next message (by thread): <A HREF="016494.html">[squid-users] tuning squid memory (aka avoiding the reaper)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16488">[ date ]</a>
              <a href="thread.html#16488">[ thread ]</a>
              <a href="subject.html#16488">[ subject ]</a>
              <a href="author.html#16488">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
