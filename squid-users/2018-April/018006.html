<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Disable SSLv3 Not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Disable%20SSLv3%20Not%20working&In-Reply-To=%3C1522684121.3111957.1323737992.27ADABFE%40webmail.messagingengine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018005.html">
   <LINK REL="Next"  HREF="018007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Disable SSLv3 Not working</H1>
    <B>squid at buglecreek.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Disable%20SSLv3%20Not%20working&In-Reply-To=%3C1522684121.3111957.1323737992.27ADABFE%40webmail.messagingengine.com%3E"
       TITLE="[squid-users] Disable SSLv3 Not working">squid at buglecreek.com
       </A><BR>
    <I>Mon Apr  2 15:48:41 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018005.html">[squid-users] ssl intercept and forward to privoxy
</A></li>
        <LI>Next message (by thread): <A HREF="018007.html">[squid-users] Disable SSLv3 Not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18006">[ date ]</a>
              <a href="thread.html#18006">[ thread ]</a>
              <a href="subject.html#18006">[ subject ]</a>
              <a href="author.html#18006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I missed that I needed that setting (sslproxy_options) in a reverse proxy mode of operation. We haven't had to use any pf the sslproxy_* options.  I'll test that and see if it takes care of the issue.  

Does this option need to be placed anywhere specifically in the config?  

Also, does this require and other sslproxy_* options.  Our goal is to just stop Nessus from flagging for sslv3.   Thanks

On Fri, Mar 30, 2018, at 8:29 PM, Amos Jeffries wrote:
&gt;<i> On 31/03/18 11:41, squid wrote:
</I>&gt;<i> &gt; We are using squid as reverse proxy and we have disabled SSLv3 :
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; https_port ... options=NO_SSLv2,NO_SSLv3,SINGLE_DH_USE,CIPHER_SERVER_PREFERENCE cipher=ECDHE-ECDSA . . .. dhparams=/etc/...dhparams.pem
</I>&gt;<i> 
</I>&gt;<i> NP: Squid-3.5 or later is required for EC cipher support.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Using Nessus scanning tool, it reports that SSLv3 is enabled, but not SSLv2.   Looking at the ssl handshake client hello and server hellos is does seem that the sslv3 is being used.  Is there something that we are missing?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Version of Squid  (3.1) is stock RH6 which I know is old, but for now we need to use.  We will be upgrading to RH7, but it may be a little while so I'd like to get this solved. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Secure Sockets Layer
</I>&gt;<i> &gt;     SSLv3 Record Layer: Handshake Protocol: Server Hello
</I>&gt;<i> &gt;         Content Type: Handshake (22)
</I>&gt;<i> &gt;         Version: SSL 3.0 (0x0300)
</I>&gt;<i> &gt;         Length: 74
</I>&gt;<i> &gt;         Handshake Protocol: Server Hello
</I>&gt;<i> &gt;             Handshake Type: Server Hello (2)
</I>&gt;<i> &gt;             Length: 70
</I>&gt;<i> &gt;             Version: SSL 3.0 (0x0300)
</I>&gt;<i> &gt;             Random: 5aa83ae26555f6dcc7042c341d090c6715a243a7be05d69b...
</I>&gt;<i> &gt;             Session ID Length: 32
</I>&gt;<i> &gt;             Session ID: 44bb10e985c067cc987bf2e698d458dd37d2b3c469ce9fe7...
</I>&gt;<i> &gt;             Cipher Suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA (0x0039)
</I>&gt;<i> &gt;             Compression Method: null (0)
</I>&gt;<i> 
</I>&gt;<i> Which of the TCP connections was that hello performed on?
</I>&gt;<i> 
</I>&gt;<i> You have apparently only disabled SSLv3 on the client-&gt;Squid connection.
</I>&gt;<i> No information is provided about the Squid-&gt;server settings
</I>&gt;<i> (sslproxy_options).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Also, these options are handled by OpenSSL. They only work if the
</I>&gt;<i> library Squid was built against supports them.
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018005.html">[squid-users] ssl intercept and forward to privoxy
</A></li>
	<LI>Next message (by thread): <A HREF="018007.html">[squid-users] Disable SSLv3 Not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18006">[ date ]</a>
              <a href="thread.html#18006">[ thread ]</a>
              <a href="subject.html#18006">[ subject ]</a>
              <a href="author.html#18006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
