<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid is very slow after moving to production	environment
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20is%20very%20slow%20after%20moving%20to%20production%0A%09environment&In-Reply-To=%3C201804092136.28285.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018088.html">
   <LINK REL="Next"  HREF="018036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid is very slow after moving to production	environment</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20is%20very%20slow%20after%20moving%20to%20production%0A%09environment&In-Reply-To=%3C201804092136.28285.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Squid is very slow after moving to production	environment">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Mon Apr  9 19:36:27 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018088.html">[squid-users] Squid is very slow after moving to production	environment
</A></li>
        <LI>Next message (by thread): <A HREF="018036.html">[squid-users] Squid is very slow after moving to production	environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18034">[ date ]</a>
              <a href="thread.html#18034">[ thread ]</a>
              <a href="subject.html#18034">[ subject ]</a>
              <a href="author.html#18034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 09 April 2018 at 21:00:21, Roberto Carna wrote:

&gt;<i> Dear, I have implemented a server with Dansguardian 10.2.1.1 and Squid
</I>&gt;<i> 3.5.23-5.
</I>&gt;<i> 
</I>&gt;<i> I've tested it with 5 users for along 2 months and always it worked OK.
</I>&gt;<i> 
</I>&gt;<i> But today when a moved it to production environment, it worked but
</I>&gt;<i> very very slow.
</I>
1. What is &quot;very very slow&quot;?  What difference are you noticing:

 - limited bandwidth for downloads?

 - high latency for reaching new URLs?

 - reduced ability to handle new requests?

Basically, how are you measuring the difference between test performance and 
production performance?

2. Please explain your networking setups for the test and production 
environments:

 - do they share the same Internet connection?

 - do they both go through the same firewall?

 - do they both use the same DNS server, or have their own DNS servers, or 
what?

 - are the same traffic rules implemented for each procy on the firewall/s?

 - do you use any form of user authentication, and if so, please give details

3. What volume of requests per hour / minute / day / whatever is convenient 
did you have in the test environment, and what volume do you have now in the 
production environment?

&gt;<i> I've just changed hostname and IP, in order to match with the old proxy
</I>&gt;<i> server and flush de ARP table of the firewall (because ths server has the same
</I>&gt;<i> IP but different MAC Address)....and no more. And let me say that in
</I>&gt;<i> production environment, there are 30-40 users at all, it's not a big number
</I>&gt;<i> of users at all.
</I>&gt;<i> 
</I>&gt;<i> Where can I start to see in order to analyze the problem? Any idea to help
</I>&gt;<i> me?
</I>

Regards,


Antony.

-- 
I thought I had type A blood, but it turned out to be a typo.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018088.html">[squid-users] Squid is very slow after moving to production	environment
</A></li>
	<LI>Next message (by thread): <A HREF="018036.html">[squid-users] Squid is very slow after moving to production	environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18034">[ date ]</a>
              <a href="thread.html#18034">[ thread ]</a>
              <a href="subject.html#18034">[ subject ]</a>
              <a href="author.html#18034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
