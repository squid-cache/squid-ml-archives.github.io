<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Proxy through another proxy possible?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proxy%20through%20another%20proxy%20possible%3F&In-Reply-To=%3C00fa01d3d06b%247fe134e0%247fa39ea0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018062.html">
   <LINK REL="Next"  HREF="018044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Proxy through another proxy possible?</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proxy%20through%20another%20proxy%20possible%3F&In-Reply-To=%3C00fa01d3d06b%247fe134e0%247fa39ea0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Proxy through another proxy possible?">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue Apr 10 01:30:05 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018062.html">[squid-users] Proxy through another proxy possible?
</A></li>
        <LI>Next message (by thread): <A HREF="018044.html">[squid-users] Proxy through another proxy possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18041">[ date ]</a>
              <a href="thread.html#18041">[ thread ]</a>
              <a href="subject.html#18041">[ subject ]</a>
              <a href="author.html#18041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Amos,

Would a PROXY protocol based &quot;router&quot; or &quot;load balancer&quot; be fine also?
I tested the PROXY protocol v1 against squid v3.5 at the time and It was working very well.
I believe that if the requirement is to be able to route specific clients to a specific proxy it should  be or might be done with as lowest CPU as possible.
It will however change for the case when the local proxy also needs to process specific traffic.

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>


-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Amos Jeffries
Sent: Saturday, April 7, 2018 09:31
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Proxy through another proxy possible?

On 07/04/18 18:02, xpro wrote:
&gt;<i> Would it be done like below?
</I>&gt;<i> 
</I>&gt;<i> http_port 3001
</I>&gt;<i> acl port1 myport 3001
</I>&gt;<i> tcp_outgoing_address myotherproxy.com:3114 port1
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I want anyone connecting to my proxy using port 3001, to use the the
</I>&gt;<i> proxy server on myotherproxy.com:3114
</I>
No. tcp_outgoing_address is the IP your Squid uses on its outgoing TCP
connections.

cache_peer is for configuring destination details about any specific
peer (upstream server or proxy) to relay messages through.
 see &lt;<A HREF="https://wiki.squid-cache.org/Features/CacheHierarchy">https://wiki.squid-cache.org/Features/CacheHierarchy</A>&gt;

Amos


&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 04/07/2018 01:05 AM, Amos Jeffries wrote:
</I>&gt;&gt;<i> On 07/04/18 11:34, xpro wrote:
</I>&gt;&gt;&gt;<i> I'm not sure if Squid is the right tool for this. I'm trying to achieve
</I>&gt;&gt;&gt;<i> the following.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I would have access to some exclusive proxies, but I would like for a
</I>&gt;&gt;&gt;<i> limited amount of people to use these proxies without getting the
</I>&gt;&gt;&gt;<i> original proxy IP. I want them to go through my proxy server and then my
</I>&gt;&gt;&gt;<i> proxy server would forward them to the proxy I use.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Would this be possible with Squid?
</I>&gt;&gt;<i> Of course. I'm not exactly clear on what you mean by original or
</I>&gt;&gt;<i> exclusive proxies, but HTTP and Squid are certainly able to chain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018062.html">[squid-users] Proxy through another proxy possible?
</A></li>
	<LI>Next message (by thread): <A HREF="018044.html">[squid-users] Proxy through another proxy possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18041">[ date ]</a>
              <a href="thread.html#18041">[ thread ]</a>
              <a href="subject.html#18041">[ subject ]</a>
              <a href="author.html#18041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
