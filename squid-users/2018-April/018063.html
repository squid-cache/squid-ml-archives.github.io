<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Ideas for better caching these popular urls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Ideas%20for%20better%20caching%20these%20popular%20urls&In-Reply-To=%3C05f601d3d0ee%24ae348df0%240a9da9d0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018050.html">
   <LINK REL="Next"  HREF="018072.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Ideas for better caching these popular urls</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Ideas%20for%20better%20caching%20these%20popular%20urls&In-Reply-To=%3C05f601d3d0ee%24ae348df0%240a9da9d0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Ideas for better caching these popular urls">eliezer at ngtech.co.il
       </A><BR>
    <I>Tue Apr 10 17:09:25 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018050.html">[squid-users] Ideas for better caching these popular urls
</A></li>
        <LI>Next message (by thread): <A HREF="018072.html">[squid-users] Ideas for better caching these popular urls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18063">[ date ]</a>
              <a href="thread.html#18063">[ thread ]</a>
              <a href="subject.html#18063">[ subject ]</a>
              <a href="author.html#18063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Omid,

&gt;<i>From what I remember the basics of math to verify the patter of a specific set of numbers have some kind of pattern is to have at-least 3 items.
</I>But in the cryptography world it another story.
I have not researched playstation downloads and will probably won't do that.
Others might offer some help but you must understand what you are trying to predict in these urls and downloads.
&gt;<i>From what I have seen it seem that this CDN &quot;llnwd.net&quot; is very cache friendly but you need to know how to handle their traffic.
</I>They don&#8217;t use any form of ETAG headers but they do provide some pieces of information in the url's that can identify something about it.
If they use a ticketing system such as couple other CDN providers you would need to know the &quot;ID&quot; of the url before it's being downloaded.
You will need more then just the urls but also the response headers for these.
I might be able to write an ICAP service that will log requests and response headers and it can assist Cache admins to improve their efficiency but this can take a while.

All The Bests,
Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Omid Kosari
Sent: Tuesday, April 10, 2018 14:20
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Ideas for better caching these popular urls

Thanks for reply . 

I assumed the community at different scales from little isp to large ISPs
may have common domains like those i highlighted so they may have same issue
as mine . So i ignored common parts .

One of problems with redbot is it shows timeout for big files like 

<A HREF="http://gs2.ww.prod.dl.playstation.net/gs2/appkgo/prod/CUSA00900_00/2/f_2df8e321f37e2f5ea3930f6af4e9571144916013ee38893d881890b454b5fed6/f/UP9000-CUSA00900_00-BLOODBORNE000000_4.pkg?downloadId=00000187&amp;du=000000000000018700e2291bda0f868f&amp;country=us&amp;downloadType=ob&amp;q=aa2cd9c8d1f359feb843ae4a6c99cfcdb6569ca9cc60ad6d28b6f8de3b5fac23&amp;threadId=0&amp;serverIpAddr=23.57.69.81&amp;r=00000027">http://gs2.ww.prod.dl.playstation.net/gs2/appkgo/prod/CUSA00900_00/2/f_2df8e321f37e2f5ea3930f6af4e9571144916013ee38893d881890b454b5fed6/f/UP9000-CUSA00900_00-BLOODBORNE000000_4.pkg?downloadId=00000187&amp;du=000000000000018700e2291bda0f868f&amp;country=us&amp;downloadType=ob&amp;q=aa2cd9c8d1f359feb843ae4a6c99cfcdb6569ca9cc60ad6d28b6f8de3b5fac23&amp;threadId=0&amp;serverIpAddr=23.57.69.81&amp;r=00000027</A>

<A HREF="http://gs2.ww.prod.dl.playstation.net/gs2/ppkgo/prod/CUSA07557_00/25/f_053bab8c9dec6fbc68a0bd9fc58793285ae350ccf7dadacb35b5840228a9d802/f/EP4001-CUSA07557_00-F12017EMASTER000-A0113-V0100_0.pkg?downloadId=00000059&amp;du=000000000000005900e22977e62f91a2&amp;downloadType=ob&amp;product=0183&amp;serverIpAddr=8.248.5.254&amp;r=00000032">http://gs2.ww.prod.dl.playstation.net/gs2/ppkgo/prod/CUSA07557_00/25/f_053bab8c9dec6fbc68a0bd9fc58793285ae350ccf7dadacb35b5840228a9d802/f/EP4001-CUSA07557_00-F12017EMASTER000-A0113-V0100_0.pkg?downloadId=00000059&amp;du=000000000000005900e22977e62f91a2&amp;downloadType=ob&amp;product=0183&amp;serverIpAddr=8.248.5.254&amp;r=00000032</A>


I assumed anyone with few thousand of users may have same problem and maybe
they like to share for example their refresh_pattern or storeid to solve my
problem . You better know that playstation is everywhere playstation ;)

Here is part of storeid_db file
^http:\/\/.*\.sonycoment\.loris-e\.llnwd\.net\/(.*?\.pkg)
<A HREF="http://playstation.net.squidinternal/$1">http://playstation.net.squidinternal/$1</A>
^http:\/\/.*\.playstation\.net\/(.*?\.pkg)
<A HREF="http://playstation.net.squidinternal/$1">http://playstation.net.squidinternal/$1</A>

Almost all of the playstation huge downloads are with 206 code but it will
download the file from start to end , if i remember correctly in this
situation squid will correctly cache the file .



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018050.html">[squid-users] Ideas for better caching these popular urls
</A></li>
	<LI>Next message (by thread): <A HREF="018072.html">[squid-users] Ideas for better caching these popular urls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18063">[ date ]</a>
              <a href="thread.html#18063">[ thread ]</a>
              <a href="subject.html#18063">[ subject ]</a>
              <a href="author.html#18063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
