<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Client to proxy encryption for Internet Explorer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20to%20proxy%20encryption%20for%20Internet%20Explorer&In-Reply-To=%3CCAPxN_PUr%2BDRvq1JumkogXbc9QLZ62NRaNuVxf7uehpPSrPHTXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018123.html">
   <LINK REL="Next"  HREF="018125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Client to proxy encryption for Internet Explorer</H1>
    <B>Panagiotis Bariamis</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20to%20proxy%20encryption%20for%20Internet%20Explorer&In-Reply-To=%3CCAPxN_PUr%2BDRvq1JumkogXbc9QLZ62NRaNuVxf7uehpPSrPHTXg%40mail.gmail.com%3E"
       TITLE="[squid-users] Client to proxy encryption for Internet Explorer">akismpa at gmail.com
       </A><BR>
    <I>Sun Apr 22 13:51:35 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018123.html">[squid-users] Client to proxy encryption for Internet Explorer
</A></li>
        <LI>Next message (by thread): <A HREF="018125.html">[squid-users] use tcp_outgoing_address based on incoming port	connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18124">[ date ]</a>
              <a href="thread.html#18124">[ thread ]</a>
              <a href="subject.html#18124">[ subject ]</a>
              <a href="author.html#18124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> &gt;Which is not supported by MSIE, so you are stuck with nothing at all for
&gt;<i>that traffic. :-(
</I>
The way things turn out , it seems like I am going to dedicate 1 or 2 proxy
servers (without authentication)
 and no tls client to proxy just for the domains that MS,Symantec and other
vendors needs for the updates ,
and populate that proxies depending on domain in the pac file.


&gt;<i> If the LB are really digging into the traffic sufficiently to see URLs
</I>&gt;<i>(from inside the encryption?) then they are HTTP(S) proxies in their own
</I>&gt;<i>right and need to be accounted for in your TLS-to-proxy plans.
</I>
My concern is the traffic client&lt;-&gt;LB which needs to be encypted.
Traffic LB&lt;-&gt;squid is safe.
The LB going to be used is HAProxy at layer 7 with url load balancing for
http requests
and least connections for https requests .
The LB is going to do tls termination (for the client to tls proxy
encryption part) for the squids as well .
 Problem with kerberos is the ticketing mechanism
 as far as  i know it cannot be shared between the squid proxies ,
so if at first a user authenticates at lets say at cachebox01 then every
time
he changes a cachebox during load balacning it is going to need to
authenticate again .
Unfortunately src ip tagging cannot be performed as all clients are behind
NAT.

On Sun, Apr 22, 2018 at 3:32 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> On 22/04/18 22:52, Panagiotis Bariamis wrote:
</I>&gt;<i> &gt;&gt;LDAP is a database type, it is not specifically tied to the type of
</I>&gt;<i> &gt;&gt;credentials used either. For example; have you looked into using
</I>&gt;<i> &gt;&gt;Kerberos authentication? this over clear-text is similar or sometimes
</I>&gt;<i> &gt;&gt;more secure than TLS.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Unfortunately administrators of LDAP can only provide basic
</I>&gt;<i> &gt; authentication scheme, so I am stuck with TLS proxy
</I>&gt;<i>
</I>&gt;<i> Which is not supported by MSIE, so you are stuck with nothing at all for
</I>&gt;<i> that traffic. :-(
</I>&gt;<i>
</I>&gt;<i>  , plus there are 16
</I>&gt;<i> &gt; squid boxes that a layer 7 load balancer routes the traffic depending on
</I>&gt;<i> &gt; the hash of the url , so I think even if the administrators of openldap
</I>&gt;<i> &gt; could provide me with kerberos or ntlm authentication I could not load
</I>&gt;<i> &gt; balance the traffic based on url .
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> If the LB are operating only at the TCP/IP level (most routing LB do)
</I>&gt;<i> they will not have any effect on the TLS, HTTP, or HTTP auth layers.
</I>&gt;<i> Negotiate and HTTPS will work fine (NTLM is just broken, do not go there
</I>&gt;<i> unless forced to).
</I>&gt;<i>
</I>&gt;<i> OR,
</I>&gt;<i>  If the LB are really digging into the traffic sufficiently to see URLs
</I>&gt;<i> (from inside the encryption?) then they are HTTP(S) proxies in their own
</I>&gt;<i> right and need to be accounted for in your TLS-to-proxy plans.
</I>&gt;<i>
</I>&gt;<i> It may be that the LB is the entity(s) which need to be sending TLS to
</I>&gt;<i> your Squid. With the browsers who can doing TLS to the LB proxy. That
</I>&gt;<i> would get a portion LB&lt;-&gt;Squid encrypted for MSIE even if the first bit
</I>&gt;<i> cannot.
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180422/29daa49d/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180422/29daa49d/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018123.html">[squid-users] Client to proxy encryption for Internet Explorer
</A></li>
	<LI>Next message (by thread): <A HREF="018125.html">[squid-users] use tcp_outgoing_address based on incoming port	connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18124">[ date ]</a>
              <a href="thread.html#18124">[ thread ]</a>
              <a href="subject.html#18124">[ subject ]</a>
              <a href="author.html#18124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
