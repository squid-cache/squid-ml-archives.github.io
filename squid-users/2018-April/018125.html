<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] use tcp_outgoing_address based on incoming port	connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20use%20tcp_outgoing_address%20based%20on%20incoming%20port%0A%09connection&In-Reply-To=%3C9229898e-329f-aa23-e74a-270ae73a0c11%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018124.html">
   <LINK REL="Next"  HREF="018129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] use tcp_outgoing_address based on incoming port	connection</H1>
    <B>xpro</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20use%20tcp_outgoing_address%20based%20on%20incoming%20port%0A%09connection&In-Reply-To=%3C9229898e-329f-aa23-e74a-270ae73a0c11%40gmail.com%3E"
       TITLE="[squid-users] use tcp_outgoing_address based on incoming port	connection">xpro6000 at gmail.com
       </A><BR>
    <I>Mon Apr 23 00:45:45 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018124.html">[squid-users] Client to proxy encryption for Internet Explorer
</A></li>
        <LI>Next message (by thread): <A HREF="018129.html">[squid-users] use tcp_outgoing_address based on incoming port connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18125">[ date ]</a>
              <a href="thread.html#18125">[ thread ]</a>
              <a href="subject.html#18125">[ subject ]</a>
              <a href="author.html#18125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have the following configuration that makes incoming connections 
coming to port 8000 to use the another proxy, in this case proxy8000

http_port 8000 name=port_8000
acl port_8000_acl myportname port_8000
always_direct deny port_8000_acl
never_direct allow port_8000_acl
cache_peer 11.12.12.12 parent 20006 0 no-query default name=proxy8000
cache_peer_access proxy8000 allow port_8000_acl
cache_peer_access proxy8000 deny all

But I want to modify it so I can tell it which local interface to use 
based on the incoming port. Right now I'm using the following in another 
Squid configuration, but it's not based on incoming port. It does it for 
all connections

tcp_outgoing_address 172.16.11.106 # &lt;-- that's my local ip

Does tcp_outgoing_address have the same ability as cache_peer in my case?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018124.html">[squid-users] Client to proxy encryption for Internet Explorer
</A></li>
	<LI>Next message (by thread): <A HREF="018129.html">[squid-users] use tcp_outgoing_address based on incoming port connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18125">[ date ]</a>
              <a href="thread.html#18125">[ thread ]</a>
              <a href="subject.html#18125">[ subject ]</a>
              <a href="author.html#18125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
