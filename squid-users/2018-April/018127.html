<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid keeps using ipv6 using ssl_bump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20keeps%20using%20ipv6%20using%20ssl_bump&In-Reply-To=%3C80085784-bb61-d9c9-e7dc-a1697e892665%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018126.html">
   <LINK REL="Next"  HREF="018128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid keeps using ipv6 using ssl_bump</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20keeps%20using%20ipv6%20using%20ssl_bump&In-Reply-To=%3C80085784-bb61-d9c9-e7dc-a1697e892665%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid keeps using ipv6 using ssl_bump">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Apr 23 10:42:33 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018126.html">[squid-users] Squid keeps using ipv6 using ssl_bump
</A></li>
        <LI>Next message (by thread): <A HREF="018128.html">[squid-users] Squid keeps using ipv6 using ssl_bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18127">[ date ]</a>
              <a href="thread.html#18127">[ thread ]</a>
              <a href="subject.html#18127">[ subject ]</a>
              <a href="author.html#18127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/04/18 20:27, Enrico Michieletti wrote:
&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> I&#8217;m using squid from long time, as my network isn&#8217;t ipv6 enabled, I&#8217;ve
</I>&gt;<i> disabled it in squid using
</I>&gt;<i> 
</I>&gt;<i> dns_v4_first on
</I>&gt;<i> 
</I>
That directives means it tries IPv4 *first*, not &quot;only&quot;.

If *all* attempts fail the last one tried will naturally be an IPv6
whenever the server has support for both v4 (tried first) and v6 (tried
last).


&gt;<i> tcp_outgoing_address 0.0.0.0 all
</I>&gt;<i> 
</I>
This does nothing by itself but waste CPU. Outgoing address is separated
by protocol, so the above only says &quot;use default address for all
IPv4-only traffic&quot;.

&gt;<i> 
</I>&gt;<i> and on the interface network script on centos
</I>&gt;<i> 
</I>&gt;<i> IPV6INIT=no
</I>&gt;<i> 
</I>
This does not prevent servers and clients outside your machine
supporting or trying to use IPv6. All it will do is break traffic going
through your proxy machine.

What you should really do is enable IPv6 and use firewall rules to block
the traffic you do not want to go through. Whether that is &quot;all IPv6&quot; or
something better suited to your clients needs.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018126.html">[squid-users] Squid keeps using ipv6 using ssl_bump
</A></li>
	<LI>Next message (by thread): <A HREF="018128.html">[squid-users] Squid keeps using ipv6 using ssl_bump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18127">[ date ]</a>
              <a href="thread.html#18127">[ thread ]</a>
              <a href="subject.html#18127">[ subject ]</a>
              <a href="author.html#18127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
