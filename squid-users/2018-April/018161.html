<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Dynamically updating iptables ipset to bypass squid.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamically%20updating%20iptables%20ipset%20to%20bypass%20squid.&In-Reply-To=%3C008e01d3ddc1%24c1fb60e0%2445f222a0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018156.html">
   <LINK REL="Next"  HREF="018164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Dynamically updating iptables ipset to bypass squid.</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dynamically%20updating%20iptables%20ipset%20to%20bypass%20squid.&In-Reply-To=%3C008e01d3ddc1%24c1fb60e0%2445f222a0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Dynamically updating iptables ipset to bypass squid.">eliezer at ngtech.co.il
       </A><BR>
    <I>Fri Apr 27 00:50:37 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018156.html">[squid-users] When does Squid reset upstream connections?
</A></li>
        <LI>Next message (by thread): <A HREF="018164.html">[squid-users] Squid 3.5.27 - While access https website, always &quot;Your connection is not secure&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18161">[ date ]</a>
              <a href="thread.html#18161">[ thread ]</a>
              <a href="subject.html#18161">[ subject ]</a>
              <a href="author.html#18161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I talked to a developer which uses dnsmasq and it seems to have an option to
add resolved ip addresses into a linux ipset set.

So it is possible to dynamically add IP addresses of domains out of the
proxy interception.

Ideally an ICAP service will be able to see the request and redirect the
client using some 30X code to a request that will not be considered a loop.

And.. by the time the client will is being &quot;redirected(maybe couple times)
the client traffic will no be intercept era at all leaving the OS and the
CPU to spend the right amount of resources.

 

Elizer 

 

----

Eliezer Croitoru &lt;<A HREF="http://ngtech.co.il/lmgtfy/">http://ngtech.co.il/lmgtfy/</A>&gt; 
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180427/b1a0e57e/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180427/b1a0e57e/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 11307 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180427/b1a0e57e/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180427/b1a0e57e/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018156.html">[squid-users] When does Squid reset upstream connections?
</A></li>
	<LI>Next message (by thread): <A HREF="018164.html">[squid-users] Squid 3.5.27 - While access https website, always &quot;Your connection is not secure&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18161">[ date ]</a>
              <a href="thread.html#18161">[ thread ]</a>
              <a href="subject.html#18161">[ subject ]</a>
              <a href="author.html#18161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
