<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid drops authorization header before forwarding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20drops%20authorization%20header%20before%20forwarding&In-Reply-To=%3Ca00c7c02-34a7-88cf-7851-e707d33fac5b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018865.html">
   <LINK REL="Next"  HREF="018867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid drops authorization header before forwarding</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20drops%20authorization%20header%20before%20forwarding&In-Reply-To=%3Ca00c7c02-34a7-88cf-7851-e707d33fac5b%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid drops authorization header before forwarding">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Aug  7 06:31:39 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018865.html">[squid-users] Squid drops authorization header before forwarding
</A></li>
        <LI>Next message (by thread): <A HREF="018867.html">[squid-users] Squid File descriptors warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18866">[ date ]</a>
              <a href="thread.html#18866">[ thread ]</a>
              <a href="subject.html#18866">[ subject ]</a>
              <a href="author.html#18866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/08/18 16:28, Hariharan Sethuraman wrote:
&gt;<i> I found that login=PASS in cache_peer directive helped.
</I>&gt;<i> 
</I>
Indeed. cache_peer controls what Squid sends to that particular peer server.

&gt;<i> 
</I>&gt;<i> On Mon, Aug 6, 2018 at 11:29 PM, Hariharan Sethuraman wrote:
</I>&gt;<i> 
</I>&gt;<i>     I tried allow_direct as well as defaultsite under accel.
</I>&gt;<i>     Wondering if I should recompile squid with enable-http-violation and
</I>&gt;<i>     use below ACL&#160;/
</I>&gt;<i> 
</I>&gt;<i>     request_header_access Authorization deny all
</I>&gt;<i> 
</I>
This tells Squid that it is forbidden from sending Authorization headers
to the origin server. If you still have it in your config after the
experiments you will need to remove.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018865.html">[squid-users] Squid drops authorization header before forwarding
</A></li>
	<LI>Next message (by thread): <A HREF="018867.html">[squid-users] Squid File descriptors warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18866">[ date ]</a>
              <a href="thread.html#18866">[ thread ]</a>
              <a href="subject.html#18866">[ subject ]</a>
              <a href="author.html#18866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
