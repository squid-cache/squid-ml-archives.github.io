<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as reverse proxy for two or more webs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20reverse%20proxy%20for%20two%20or%20more%20webs&In-Reply-To=%3C990689be-6237-c0c3-d7c2-f404124116b3%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018928.html">
   <LINK REL="Next"  HREF="018915.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as reverse proxy for two or more webs</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20reverse%20proxy%20for%20two%20or%20more%20webs&In-Reply-To=%3C990689be-6237-c0c3-d7c2-f404124116b3%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid as reverse proxy for two or more webs">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Aug 12 18:20:12 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018928.html">[squid-users] Squid as reverse proxy for two or more webs
</A></li>
        <LI>Next message (by thread): <A HREF="018915.html">[squid-users] Squid.conf Includes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18929">[ date ]</a>
              <a href="thread.html#18929">[ thread ]</a>
              <a href="subject.html#18929">[ subject ]</a>
              <a href="author.html#18929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/08/18 01:35, Antony Stone wrote:
&gt;<i> On Saturday 11 August 2018 at 15:26:40, Amos Jeffries wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> On 11/08/18 09:43, Antony Stone wrote:
</I>&gt;&gt;&gt;<i> On Friday 10 August 2018 at 20:13:06, erdosain9 wrote:
</I>&gt;&gt;&gt;&gt;<i> Thanks to all!!
</I>&gt;&gt;&gt;&gt;<i> Now is working fine.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Just, one question to know... i make this accessible from the
</I>&gt;&gt;&gt;&gt;<i> internet... so, i create some acl 0.0.0.0/0 and it's working.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That is almost but deceptively not quite the same as &quot;allow all&quot;.
</I>&gt;<i> 
</I>&gt;<i> Nice description :)
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> But.. this is a security issue??? or it's ok declare that ACL.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If you want everyone / anyone on the Intenet to be able to get to your
</I>&gt;&gt;&gt;<i> servers, that is the obvious (and correct) ACL to use.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No, sorry. It is not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The correct config is to use:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  http_access allow foo
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Where &quot;foo&quot; is the same ACLs you use on cache_peer_access to determine
</I>&gt;&gt;<i> which traffic goes to the peers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That way Squid is able to block random other domains that virus scans
</I>&gt;&gt;<i> etc try to use to detect open proxies.
</I>&gt;<i> 
</I>&gt;<i> Hm, I had thought that since this Squid was only configured to be a reverse 
</I>&gt;<i> proxy for the two servers under discussion, allowing access from anywhere 
</I>&gt;<i> would still only offer those two destinations?
</I>&gt;<i> 
</I>&gt;<i> It wouldn't offer forward-proxy services with that configuration, surely?
</I>
That is an implicit default, yes. But can be altered by several common
setups. We don't know what erdosain9's full config is (or will become),
so do not know if one of those cases is happening (or will happen later).

It is generally better to go with this explicit allow/deny than relying
on the implicit behaviour. One can always move to the implicit later if
its needed for performance - but backtracking may surprise users if they
were relying on the broken bits being broken.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018928.html">[squid-users] Squid as reverse proxy for two or more webs
</A></li>
	<LI>Next message (by thread): <A HREF="018915.html">[squid-users] Squid.conf Includes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18929">[ date ]</a>
              <a href="thread.html#18929">[ thread ]</a>
              <a href="subject.html#18929">[ subject ]</a>
              <a href="author.html#18929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
