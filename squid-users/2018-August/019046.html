<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error_directory to https not work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error_directory%20to%20https%20not%20work&In-Reply-To=%3Ce32c23df-9328-a622-e563-9005e2839f20%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019045.html">
   <LINK REL="Next"  HREF="019054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error_directory to https not work</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error_directory%20to%20https%20not%20work&In-Reply-To=%3Ce32c23df-9328-a622-e563-9005e2839f20%40treenet.co.nz%3E"
       TITLE="[squid-users] Error_directory to https not work">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Aug 23 04:36:45 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019045.html">[squid-users] Error_directory to https not work
</A></li>
        <LI>Next message (by thread): <A HREF="019054.html">[squid-users] Error_directory to https not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19046">[ date ]</a>
              <a href="thread.html#19046">[ thread ]</a>
              <a href="subject.html#19046">[ subject ]</a>
              <a href="author.html#19046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/08/18 11:13 AM, Rodrigo Cunha wrote:
&gt;<i> Dears,
</I>&gt;<i> My squid_http work fine and deny request to https too. But when i
</I>&gt;<i> request https(secure port 443) links deny in file (black_list) my squid
</I>&gt;<i> not report error_directory files, when i send request to http(insecure
</I>&gt;<i> port 80) domain the squid report with error_directory.
</I>&gt;<i> 
</I>&gt;<i> What a happen with my squid?Follow my squid.conf.
</I>&gt;<i> 
</I>
Nothing particular happened.

HTTPS is sent differently through proxies. Using CONNECT requests with
encrypted content. More details on that can be found at
&lt;<A HREF="https://wiki.squid-cache.org/Features/HTTPS">https://wiki.squid-cache.org/Features/HTTPS</A>&gt;.

Browsers in particular refuse to display error messages sent in response
to CONNECT requests. I think you will find the Squid does send the error
page but the Browser is refusing to display it.


The only thing you can do about this sad situation is use SSL-Bump
feature on the encrypted traffic so Squid can send the error message
within an encrypted response - which the Browser does display *if* it
trusts the proxy TLS certificate used by SSL-Bump.

Please be aware:
  SSL-Bump feature is sometimes forbidden or restricted-use by law. So
please get proper legal advice before using it. Anyone helping you setup
the feature will be assuming that you have done that due diligence check.


HTH
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019045.html">[squid-users] Error_directory to https not work
</A></li>
	<LI>Next message (by thread): <A HREF="019054.html">[squid-users] Error_directory to https not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19046">[ date ]</a>
              <a href="thread.html#19046">[ thread ]</a>
              <a href="subject.html#19046">[ subject ]</a>
              <a href="author.html#19046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
