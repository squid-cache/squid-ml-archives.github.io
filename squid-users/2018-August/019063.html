<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Git tag strategy in Squids GitHub repo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Git%20tag%20strategy%20in%20Squids%20GitHub%20repo&In-Reply-To=%3C63705c94-0513-5177-d7fd-38f95b241ada%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019062.html">
   <LINK REL="Next"  HREF="019036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Git tag strategy in Squids GitHub repo</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Git%20tag%20strategy%20in%20Squids%20GitHub%20repo&In-Reply-To=%3C63705c94-0513-5177-d7fd-38f95b241ada%40measurement-factory.com%3E"
       TITLE="[squid-users] Git tag strategy in Squids GitHub repo">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Aug 24 14:31:06 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019062.html">[squid-users] Git tag strategy in Squids GitHub repo
</A></li>
        <LI>Next message (by thread): <A HREF="019036.html">[squid-users] tcp_miss_aborted driving me crazy !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19063">[ date ]</a>
              <a href="thread.html#19063">[ thread ]</a>
              <a href="subject.html#19063">[ subject ]</a>
              <a href="author.html#19063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/24/2018 05:50 AM, Amos Jeffries wrote:
&gt;<i> The next opportunity I had for tagging the release checkouts was 4.2
</I>&gt;<i> which got tagged with SQUID_4_2 accordingly for PR 272.
</I>
&gt;<i> As you can see that tag still does not exist in the master repository.
</I>
Naturally. As I have tried to explain, tags are unrelated to GitHub PRs
and git branches. The official repository does not know what you tag in
your own repository, and GitHub cannot (correctly) automatically copy
tags between repositories because tags are independent names or objects
that can be (and often are!) specific to a repository.

FWIW, many projects use merge bots and protected GitHub branches. I have
not checked each project, so I am sure there are exceptions, but am not
aware of any of those projects tagging releases automatically. In fact,
the &quot;gold standard&quot; for tagging involves a human signing the tag! I am
not implying we must sign tags; this paragraph is only meant to
illustrate that what you think should be happening usually does not. The
previous paragraph (and my previous emails) explain that it probably
does not happen because it goes against git design.

As you know from my March email, GitHub actually has a web interface for
doing releases. Naturally, that functionality is based on tags. That
GitHub interface even allows you to tag a release! Again, I am not
saying we must use that interface or the underlying GitHub API. This
paragraph exists to provide one more example of releases/tagging being
treated separately from PRs and code commits. It also shows that you
have other tools to tag a release if you do not want to or cannot use
git command line.


&gt;<i> Alex &quot;proposal&quot; was to teach me about the git command line option(s) to
</I>&gt;<i> push tags to the repository. 
</I>
That was a small part of my email. A far more important (IMO) part was
about the nature of git tags. It looks like neither part had a desirable
effect.


&gt;<i> Which has worked fine .. for the repo I was using. It has not helped
</I>&gt;<i> with the public github one you are using.
</I>
Why not? In other words, what did you do to push a tag from one
repository into another, and what happened when you did that? It is
difficult for me to help unless you tell me that you need help and
provide sufficient information to triage the problem.

Needless to say, you should experiment on unofficial repositories.


&gt;<i> The Anubis bot gateways all changes to the master repository
</I>
That assertion is incorrect. For example, Anubis does not (and IMO
should not) deal with branch creation and release tagging.


&gt;<i> - so to me it seems like a reasonable place to be handling the issue
</I>&gt;<i> of some PR needing to be tagged as release.
</I>
Your suggestion to teach Anubis to tag releases is certainly reasonable.
However, I still think it is wrong to place a highly sensitive and
unrelated to PR merging act into a PR merging bot. Perhaps more
importantly, while we are discussing that suggestion, nothing stops you
from properly tagging all of the official releases now AFAICT.


&gt;<i> I'd rather have Anubis do the tagging than pulling in random tags from
</I>&gt;<i> any contributors repos.
</I>
Me too, but that is a false dichotomy. The correct short-term solution
is, IMHO, to learn how to manually tag past official releases and tag them.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019062.html">[squid-users] Git tag strategy in Squids GitHub repo
</A></li>
	<LI>Next message (by thread): <A HREF="019036.html">[squid-users] tcp_miss_aborted driving me crazy !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19063">[ date ]</a>
              <a href="thread.html#19063">[ thread ]</a>
              <a href="subject.html#19063">[ subject ]</a>
              <a href="author.html#19063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
