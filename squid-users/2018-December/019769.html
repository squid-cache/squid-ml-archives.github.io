<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Define%20and%20use%20a%20variable%20in%20squid.conf%20%28Was%3A%0A%20What%20happens%20when%20duplicate%20external_acl_type%20are%20mentioned%29&In-Reply-To=%3C747fe24f-2049-999f-16dd-b4d28531dd5f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019768.html">
   <LINK REL="Next"  HREF="019770.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Define%20and%20use%20a%20variable%20in%20squid.conf%20%28Was%3A%0A%20What%20happens%20when%20duplicate%20external_acl_type%20are%20mentioned%29&In-Reply-To=%3C747fe24f-2049-999f-16dd-b4d28531dd5f%40measurement-factory.com%3E"
       TITLE="[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Dec  3 04:21:15 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019768.html">[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)
</A></li>
        <LI>Next message (by thread): <A HREF="019770.html">[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19769">[ date ]</a>
              <a href="thread.html#19769">[ thread ]</a>
              <a href="subject.html#19769">[ subject ]</a>
              <a href="author.html#19769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/2/18 8:59 PM, Amish wrote:
&gt;<i> On 02/12/18 11:14 pm, Alex Rousskov wrote:
</I>&gt;&gt;<i> You do not need to modify main.conf to
</I>&gt;&gt;<i> generate a configuration file that is actually used. My earlier
</I>&gt;&gt;<i> authentication.conf sketch is one example. And even something as simple
</I>&gt;&gt;<i> as the following sed-based script may work in many cases:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;&#160; sed s/AmishForceFoo/true/ main.conf &gt; squid.conf
</I>
&gt;<i> Actual squid.conf is:
</I>&gt;<i> include pre.conf
</I>&gt;<i> include main.conf
</I>
... but it does not have to be. In the sed-based approach, there is no
pre.conf at all, and squid.conf is generated from main.conf.


&gt;<i> And I do not want to modify main.conf
</I>
The variable/sed-based approach requires a single main.conf modification
(once). Just like the authentication.conf approach requires a single
main.conf modification (that you have already performed).


&gt;<i> May be atleast 'if' statement can have define variable support.
</I>
The &quot;I will just add this little thing in this little corner&quot; is how we
ended up with terrible syntax in the first place...


&gt;<i> Because it already has similar support for ${process_number} etc.
</I>
Yes, and preprocessor macros are supported throughout the configuration
file, not just in if statements. However, they are preprocessor macros,
not configuration variables. We can add support for custom preprocessor
macros (in addition to the existing built-in ones), but, again, doing so
correctly requires some serious work. Meanwhile, template substitutions
are available as a local ready-to-use alternative.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019768.html">[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)
</A></li>
	<LI>Next message (by thread): <A HREF="019770.html">[squid-users] Define and use a variable in squid.conf (Was: What happens when duplicate external_acl_type are mentioned)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19769">[ date ]</a>
              <a href="thread.html#19769">[ thread ]</a>
              <a href="subject.html#19769">[ subject ]</a>
              <a href="author.html#19769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
