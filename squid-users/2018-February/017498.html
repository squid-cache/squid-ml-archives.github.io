<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SMP mode and StoreID rewriter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SMP%20mode%20and%20StoreID%20rewriter&In-Reply-To=%3C161001d39d43%249f5c1ca0%24de1455e0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017497.html">
   <LINK REL="Next"  HREF="017499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SMP mode and StoreID rewriter</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SMP%20mode%20and%20StoreID%20rewriter&In-Reply-To=%3C161001d39d43%249f5c1ca0%24de1455e0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] SMP mode and StoreID rewriter">eliezer at ngtech.co.il
       </A><BR>
    <I>Sat Feb  3 23:06:28 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017497.html">[squid-users] I can't understand the SSL connectios interception concept in explicit mode
</A></li>
        <LI>Next message (by thread): <A HREF="017499.html">[squid-users] Squid 4.0.23 beta RPM's are available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17498">[ date ]</a>
              <a href="thread.html#17498">[ thread ]</a>
              <a href="subject.html#17498">[ subject ]</a>
              <a href="author.html#17498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

For most StoreID helpers you won't care about this but the other option is StoreID ICAP server integration but I didn't had enough time to work on it.
If you can run &quot;ps aux&quot; and share the relevant StoreID helpers lines it would help to understand how significant it is.
For most systems couple MB of RES\RSS memory is fine but if it grows over time or for some reason consumes lots of memory you should rethink\re-design the helper.

Eliezer

* I'm not following the users list these days so FW the post to my email directly

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



-----Original Message-----
From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On Behalf Of Alex Rousskov
Sent: Thursday, January 11, 2018 06:31
To: Ivan Larionov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">xeron.oskom at gmail.com</A>&gt;; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] SMP mode and StoreID rewriter

On 01/10/2018 06:31 PM, Ivan Larionov wrote:

&gt;<i> I just wanted to make sure it's ok to see store_id_program started for
</I>&gt;<i> every child or may be it's sort of a bug.
</I>
It is &quot;sort of a bug&quot; -- Squid should not start store_id_program (and
many other helpers!) for some kids. Many Squid features are not made
SMP-aware yet, and features that &quot;work fine&quot; in SMP mode are often
ignored by developers and their sponsors. Quality patches welcome!

Ideally, workers should even be able to share helper processes, but that
is a huge change compared to simply not starting unnecessary helpers.


&gt;<i> May be it should be started only for &quot;worker&quot; or only for &quot;disk&quot;?
</I>
Yes, only for &quot;worker&quot; IIRC: Diskers do not deal with HTTP, and Store ID
is an HTTP-request-to-Store-ID translator.

Alex.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017497.html">[squid-users] I can't understand the SSL connectios interception concept in explicit mode
</A></li>
	<LI>Next message (by thread): <A HREF="017499.html">[squid-users] Squid 4.0.23 beta RPM's are available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17498">[ date ]</a>
              <a href="thread.html#17498">[ thread ]</a>
              <a href="subject.html#17498">[ subject ]</a>
              <a href="author.html#17498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
