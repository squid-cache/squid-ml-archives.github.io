<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 3.5.20 run out of my memory.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.5.20%20run%20out%20of%20my%20memory.&In-Reply-To=%3C9ccf03f1-64ea-9004-fa6f-e2b42af61717%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017526.html">
   <LINK REL="Next"  HREF="017565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 3.5.20 run out of my memory.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.5.20%20run%20out%20of%20my%20memory.&In-Reply-To=%3C9ccf03f1-64ea-9004-fa6f-e2b42af61717%40treenet.co.nz%3E"
       TITLE="[squid-users] 3.5.20 run out of my memory.">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb  7 12:23:07 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017526.html">[squid-users] 3.5.20 run out of my memory.
</A></li>
        <LI>Next message (by thread): <A HREF="017565.html">[squid-users] 3.5.20 run out of my memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17532">[ date ]</a>
              <a href="thread.html#17532">[ thread ]</a>
              <a href="subject.html#17532">[ subject ]</a>
              <a href="author.html#17532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 07/02/18 19:34, minh h&#432;ng &#273;&#7895; ho&#224;ng wrote:
&gt;<i> Dear all, i use squid 3.5.20 on ubuntu14 in TPROXY mode.
</I>&gt;<i> With basic config in squid.conf, but squid is run out of my server's memory.
</I>&gt;<i> Here is my configure option :
</I>...
&gt;<i> 
</I>&gt;<i> https_port 3130 tproxy ssl-bump generate-host-certificates=on
</I>&gt;<i> dynamic_cert_mem_cache_size=4MB
</I>&gt;<i> cert=/etc/squid/ssl/e1f19c0494badc8dc14e8c4c56a8b97a.dyn
</I>
Please add sslflags=NO_DEFAULT_CA to the above config line. That should
reduce the memory usage a lot.

If the problems remains please try:
 a) removing that patch. It makes your Squid vulnerable to the worst
security issues Squid has faced this century.
 (One of the MANY effects of that vulnerability is ability of remote
attackers to consume large amounts of your network resources without any
traceability or visibility.)

  b) upgrade to Squid-4. The version is still in beta due to a few
issues, but overall MUCH better for SSL-Bump than Squid-3.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017526.html">[squid-users] 3.5.20 run out of my memory.
</A></li>
	<LI>Next message (by thread): <A HREF="017565.html">[squid-users] 3.5.20 run out of my memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17532">[ date ]</a>
              <a href="thread.html#17532">[ thread ]</a>
              <a href="subject.html#17532">[ subject ]</a>
              <a href="author.html#17532">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
