<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Transition%20from%20squid3.5%20to%20squid4%3B%0A%20ciphers%20don%27t%20work%20anymore%2C%20ERROR%3A%20Unknown%20TLS%20option%20SINGLE_DH_USE&In-Reply-To=%3C2b6e7b1b-e181-43e6-2d91-31a1e363225b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017641.html">
   <LINK REL="Next"  HREF="017640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Transition%20from%20squid3.5%20to%20squid4%3B%0A%20ciphers%20don%27t%20work%20anymore%2C%20ERROR%3A%20Unknown%20TLS%20option%20SINGLE_DH_USE&In-Reply-To=%3C2b6e7b1b-e181-43e6-2d91-31a1e363225b%40treenet.co.nz%3E"
       TITLE="[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Feb 17 14:39:40 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017641.html">[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE
</A></li>
        <LI>Next message (by thread): <A HREF="017640.html">[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17643">[ date ]</a>
              <a href="thread.html#17643">[ thread ]</a>
              <a href="subject.html#17643">[ subject ]</a>
              <a href="author.html#17643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 18/02/18 03:10, Amos Jeffries wrote:
&gt;<i> 
</I>&gt;<i> On 18/02/18 02:39, chiasa.men wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I could solve the &quot;no ciphers available&quot; by appending
</I>&gt;&gt;<i> &quot;TLS13-AES-256-GCM-SHA384&quot; to the ciphers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But the log shows the use of &quot;ECDHE-ECDSA-AES256-GCM-SHA384&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why is that cipher relevant if its not used?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> The squid.conf cipher= are just strings passed to the OpenSSL library to
</I>&gt;<i> interpret.
</I>&gt;<i> 
</I>&gt;<i> It is probably that &quot;TLS13-AES-256-GCM-SHA384&quot; is what your new library
</I>&gt;<i> calls &quot;ECDHE-ECDSA-AES256-GCM-SHA384&quot;.
</I>&gt;<i> 
</I>
This seems to confirm the change:

&lt;<A HREF="https://www.openssl.org/blog/blog/2017/05/04/tlsv1.3/">https://www.openssl.org/blog/blog/2017/05/04/tlsv1.3/</A>&gt;

&quot;The new ciphersuites are defined differently and do not specify the
certificate type (e.g. RSA, DSA, ECDSA) or the key exchange mechanism
(e.g. DHE or ECHDE). This has implications for ciphersuite configuration.&quot;


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017641.html">[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE
</A></li>
	<LI>Next message (by thread): <A HREF="017640.html">[squid-users] Transition from squid3.5 to squid4; ciphers don't work anymore, ERROR: Unknown TLS option SINGLE_DH_USE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17643">[ date ]</a>
              <a href="thread.html#17643">[ thread ]</a>
              <a href="subject.html#17643">[ subject ]</a>
              <a href="author.html#17643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
