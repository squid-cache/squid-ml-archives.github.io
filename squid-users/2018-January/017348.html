<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] want ignore if the ips added to the interface and force running it
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20want%20ignore%20if%20the%20ips%20added%20to%20the%20interface%20and%0A%20force%20running%20it&In-Reply-To=%3C60362063-12de-4dff-12af-8e3ad833e8ec%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017346.html">
   <LINK REL="Next"  HREF="017349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] want ignore if the ips added to the interface and force running it</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20want%20ignore%20if%20the%20ips%20added%20to%20the%20interface%20and%0A%20force%20running%20it&In-Reply-To=%3C60362063-12de-4dff-12af-8e3ad833e8ec%40treenet.co.nz%3E"
       TITLE="[squid-users] want ignore if the ips added to the interface and force running it">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Jan 11 12:37:56 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017346.html">[squid-users] want ignore if the ips added to the interface and	force running it
</A></li>
        <LI>Next message (by thread): <A HREF="017349.html">[squid-users] want ignore if the ips added to the interface and	force running it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17348">[ date ]</a>
              <a href="thread.html#17348">[ thread ]</a>
              <a href="subject.html#17348">[ subject ]</a>
              <a href="author.html#17348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/01/18 01:08, Antony Stone wrote:
&gt;<i> On Thursday 11 January 2018 at 13:02:43, Matus UHLAR - fantomas wrote:
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> On 11/01/18 21:50, --Ahmad-- wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> must the ip be attached on os interface so that squid use it as
</I>&gt;&gt;&gt;&gt;&gt;<i> outgoing address ? can squid use outgoing address that not being
</I>&gt;&gt;&gt;&gt;&gt;<i> attached to the interface ?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Jan 11, 2018, at 12:07 PM, Amos Jeffries wrote:
</I>&gt;&gt;&gt;&gt;<i> No it cannot.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 11.01.18 12:22, --Ahmad-- wrote:
</I>&gt;&gt;&gt;<i> is this squid limitation ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> or
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> kernel limitation ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> what about logical limitation? in order for software to use an IP address,
</I>&gt;&gt;<i> that address must be configured in the system.
</I>&gt;<i> 
</I>&gt;<i> I'd say it's a networking limitation.  If Squid sends packets from an address
</I>&gt;<i> which is not on the server, where will the reply packets end up and what use
</I>&gt;<i> are they?
</I>&gt;<i> 
</I>
Indeed.

So to reply to Ahmad more clearly;

It is a limitation being _enforced_ by your kernel networking system. 
But that is only enforcement so don't think you can just patch around 
it. Patching around this one will just make you hit other errors 
elsewhere with the networking systems.


The only way to send non-assigned IPs from a machine is with mechanisms 
like TPROXY. Which places requirements on the *inbound* networking 
operates. Those inbound requirements prohibit Squid from being 
configured like you are wanting its inbound to operate.


Anyhow, I think we are getting well of track with this. My earlier 
suggested config was correct and the only way to reliably do what you 
said you wanted. Other problems can still occur, but are not related to
the problem you first posted nor to the config I suggested to make that 
requested behaviour happen.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017346.html">[squid-users] want ignore if the ips added to the interface and	force running it
</A></li>
	<LI>Next message (by thread): <A HREF="017349.html">[squid-users] want ignore if the ips added to the interface and	force running it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17348">[ date ]</a>
              <a href="thread.html#17348">[ thread ]</a>
              <a href="subject.html#17348">[ subject ]</a>
              <a href="author.html#17348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
