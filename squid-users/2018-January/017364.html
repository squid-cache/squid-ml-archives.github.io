<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] force full download and limit bandwith
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20force%20full%20download%20and%20limit%20bandwith&In-Reply-To=%3C70d882f2-34b6-ca12-cb82-f19be79c0610%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017363.html">
   <LINK REL="Next"  HREF="017399.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] force full download and limit bandwith</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20force%20full%20download%20and%20limit%20bandwith&In-Reply-To=%3C70d882f2-34b6-ca12-cb82-f19be79c0610%40treenet.co.nz%3E"
       TITLE="[squid-users] force full download and limit bandwith">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Jan 14 14:59:32 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017363.html">[squid-users] force full download and limit bandwith
</A></li>
        <LI>Next message (by thread): <A HREF="017399.html">[squid-users] force full download and limit bandwith
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17364">[ date ]</a>
              <a href="thread.html#17364">[ thread ]</a>
              <a href="subject.html#17364">[ subject ]</a>
              <a href="author.html#17364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/01/18 03:23, joseph wrote:
&gt;<i> if the client   exit download  squid will force full speed on obj dose not
</I>&gt;<i> stay  at that rate
</I>&gt;<i> 
</I>&gt;<i> acl limit_ext_bandwith url_regex \.esd \.exe
</I>&gt;<i> delay_pools 1
</I>&gt;<i> delay_class 1 1
</I>&gt;<i> delay_parameters 1 128000/128000
</I>&gt;<i> delay_access 1 allow limit_ext_bandwith
</I>&gt;<i> delay_access 1 deny all
</I>&gt;<i> 
</I>&gt;<i> range_offset_limit -1 limit_ext_bandwith
</I>&gt;<i> quick_abort_min -1
</I>&gt;<i> quick_abort_max 0 KB
</I>&gt;<i> quick_abort_pct 100
</I>&gt;<i> 
</I>&gt;<i> this work fine  it keep downloading 128KB   until the client exit squid will
</I>&gt;<i> continue at full speed of the main bandwidth
</I>&gt;<i> is it bug  or im missing something ??
</I>
No bug, that is how delay pools are designed. Squid always fetches as 
fast as it can so as to finish with the more expensive network resource 
(port numbers) faster and free them up for other traffic sooner.


&gt;<i> so i need to force cache full obj  at that specific rate  even if the client
</I>&gt;<i> exit
</I>
Use QoS controls in your operating system for that. Delay pools in Squid 
were designed long before QoS existed. Modern TOS/QoS capabilities are 
much better than Squid can do.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017363.html">[squid-users] force full download and limit bandwith
</A></li>
	<LI>Next message (by thread): <A HREF="017399.html">[squid-users] force full download and limit bandwith
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17364">[ date ]</a>
              <a href="thread.html#17364">[ thread ]</a>
              <a href="subject.html#17364">[ subject ]</a>
              <a href="author.html#17364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
