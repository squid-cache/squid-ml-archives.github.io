<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Force revalidation on every hit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Force%20revalidation%20on%20every%20hit&In-Reply-To=%3C34e2b560-67c4-6da3-9c5d-62d4bc531496%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017443.html">
   <LINK REL="Next"  HREF="017428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Force revalidation on every hit</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Force%20revalidation%20on%20every%20hit&In-Reply-To=%3C34e2b560-67c4-6da3-9c5d-62d4bc531496%40measurement-factory.com%3E"
       TITLE="[squid-users] Force revalidation on every hit">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun Jan 21 03:25:32 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017443.html">[squid-users] rock storage and max-swap-rate
</A></li>
        <LI>Next message (by thread): <A HREF="017428.html">[squid-users] [squid-announce] Squid 4.0.23 beta is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17423">[ date ]</a>
              <a href="thread.html#17423">[ thread ]</a>
              <a href="subject.html#17423">[ subject ]</a>
              <a href="author.html#17423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    I would like to configure Squid to always revalidate a cached object
(identified by its URL). Revalidation must happen even if HTTP rules say
that the cached object is still fresh.

There are, of course, ways to do the opposite (i.e., prohibit
revalidation of a stale object), but I cannot find a way that is
_guaranteed_ to trigger (unnecessary from HTTP p.o.v.) revalidation. For
example, I can set

    refresh_pattern ... max-stale=0

but max-stale configuration is ignored for many fresh responses.

I do not control the client or the origin server. I could add a
Cache-Control:no-cache directive to a request or response using
adaptation, but I am looking for a solution that does not involve
message adaptation.

Am I missing a trick that triggers revalidation of fresh objects?


Thank you,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017443.html">[squid-users] rock storage and max-swap-rate
</A></li>
	<LI>Next message (by thread): <A HREF="017428.html">[squid-users] [squid-announce] Squid 4.0.23 beta is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17423">[ date ]</a>
              <a href="thread.html#17423">[ thread ]</a>
              <a href="subject.html#17423">[ subject ]</a>
              <a href="author.html#17423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
