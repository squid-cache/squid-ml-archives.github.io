<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] question about squid and https connection .
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3C9da11737-ca55-e522-1150-cb9c26a079fb%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018662.html">
   <LINK REL="Next"  HREF="018665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] question about squid and https connection .</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3C9da11737-ca55-e522-1150-cb9c26a079fb%40measurement-factory.com%3E"
       TITLE="[squid-users] question about squid and https connection .">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Jul 12 20:27:00 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018662.html">[squid-users] question about squid and https connection .
</A></li>
        <LI>Next message (by thread): <A HREF="018665.html">[squid-users] question about squid and https connection .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18664">[ date ]</a>
              <a href="thread.html#18664">[ thread ]</a>
              <a href="subject.html#18664">[ subject ]</a>
              <a href="author.html#18664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/12/2018 01:17 PM, --Ahmad-- wrote:

&gt;<i> if i have pc# 1 and that pc open facebook .
</I>&gt;<i> 
</I>&gt;<i> then i have other pc # 2 and that other pc open facebook .
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> now  as we know facebook is https .
</I>&gt;<i> 
</I>&gt;<i> so is the key/ cert that used on pc # 1 is same as cert in pc # 2 to decrypt the fb encrypted traffic ?
</I>
Certificates themselves are not used (directly) to decrypt traffic
AFAIK, but yes, both PCs will see the same server certificate (ignoring
CDNs and other complications).



&gt;<i> now in the presence of squid .
</I>&gt;<i> 
</I>&gt;<i> if i used tcp connect method  , will it be different than above ?
</I>
If you are not bumping the connection, then both PCs will see the same
real Facebook certificate as if those PCs did not use a proxy.

If you are bumping the connection, then both PCs will see the same fake
certificate generated by Squid.



&gt;<i> say i used 200 proxies in same squid machine and i used to access FB from the same pc same browser .
</I>&gt;<i> 
</I>&gt;<i> will facebook see my cert/key i used to decrypt its traffic ?
</I>
If you are asking whether Facebook will know anything about the fake
certificate generated by Squid for clients, then the answer is &quot;no,
unless Facebook runs some special client code to deliver (Squid)
certificate back to Facebook&quot;.

In general, the origin server assumes that the client is talking to it
directly. Clients may pin or otherwise restrict certificates that they
trust, but after the connection is successfully established, the server
may assume that it is talking to the client directly. A paranoid server
may deliver special code to double check that assumption, but there are
other, more standard methods to prevent bumping such as certificate
pinning and certificate transparency cervices.



&gt;<i> is the key/cert of FB to decrypt the https content is same on all browsers on all computers ?
</I>
If you are asking whether the generated certificates are going to be the
same for all clients, then the answer is &quot;yes, provided all those 200
Squids use the same configuration (including the CA certificate) and
receive the same real certificate from Facebook&quot;. Squid's certificate
generation algorithm generates the same certificate given the same
configuration and the same origin server certificate.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018662.html">[squid-users] question about squid and https connection .
</A></li>
	<LI>Next message (by thread): <A HREF="018665.html">[squid-users] question about squid and https connection .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18664">[ date ]</a>
              <a href="thread.html#18664">[ thread ]</a>
              <a href="subject.html#18664">[ subject ]</a>
              <a href="author.html#18664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
