<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] question about squid and https connection .
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3CCAJbsrUnt-mj_yKHQNvQCi0o8eXY-uSO%2B%2B6%2BHBo0xLzoyE%3DYqRQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018666.html">
   <LINK REL="Next"  HREF="018670.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] question about squid and https connection .</H1>
    <B>login mogin</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3CCAJbsrUnt-mj_yKHQNvQCi0o8eXY-uSO%2B%2B6%2BHBo0xLzoyE%3DYqRQ%40mail.gmail.com%3E"
       TITLE="[squid-users] question about squid and https connection .">loginmogin at gmail.com
       </A><BR>
    <I>Thu Jul 12 22:56:41 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018666.html">[squid-users] question about squid and https connection .
</A></li>
        <LI>Next message (by thread): <A HREF="018670.html">[squid-users] question about squid and https connection .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18669">[ date ]</a>
              <a href="thread.html#18669">[ thread ]</a>
              <a href="subject.html#18669">[ subject ]</a>
              <a href="author.html#18669">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ahmad,

Proxy will just change your ip when you are connecting FB in this way, But
FB probably has or at least should, so many other ways to detect if thats
the same person connecting, just to name one browser based profiling. They
have your user_agent, browser extensions, cookies, etc..
In other words you will have so many other footprints.

Best
Logan

--Ahmad-- &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ahmed.zaeem at netstream.ps</A>&gt;, 12 Tem 2018 Per, 15:15 tarihinde &#351;unu
yazd&#305;:

&gt;<i> TAHNK YOU Guys ALL .
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> so my question is in another way is :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> if i have squid proxy using it using the TCP_Connect way .
</I>&gt;<i>
</I>&gt;<i> and from the same pc and same browser and try to open facebook from 200
</I>&gt;<i> different address .
</I>&gt;<i>
</I>&gt;<i> then facebook wont have a footprint that there is 200 different addresses
</I>&gt;<i> hit FB from the same public key /cert .
</I>&gt;<i>
</I>&gt;<i> i just ant to make sure there is no footprint happen .
</I>&gt;<i>
</I>&gt;<i> thats way i asked .
</I>&gt;<i>
</I>&gt;<i> let me know concerns Guys , thanks alot Guys !
</I>&gt;<i>
</I>&gt;<i> &gt; On 12 Jul 2018, at 23:35, Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alex,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Just to be sure:
</I>&gt;<i> &gt; Every RSA key and certificate pair regardless to the origin server and
</I>&gt;<i> the SSL-BUMP enabled proxy can be different.
</I>&gt;<i> &gt; If the key would be the exact same one then we will probably have a very
</I>&gt;<i> big security issue/risk to my understanding (leaving aside DH).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Will it be more accurate to say that just as long as these 200 squid
</I>&gt;<i> instances(different squid.conf and couple other local variables)
</I>&gt;<i> &gt; use the same exact ssl_db cache directory  then it's probable that they
</I>&gt;<i> will use the same certificate.
</I>&gt;<i> &gt; Or these 200 squid instances are in SMP mode with 200 workers...
</I>&gt;<i> &gt; If these 200 instances do not share memory and certificate cache then
</I>&gt;<i> there is a possibility that the same site from two different sources
</I>&gt;<i> &gt; will serve different certificates(due to the different RSA key which is
</I>&gt;<i> different).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Eliezer
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ----
</I>&gt;<i> &gt; Eliezer Croitoru
</I>&gt;<i> &gt; Linux System Administrator
</I>&gt;<i> &gt; Mobile: +972-5-28704261
</I>&gt;<i> &gt; Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] On
</I>&gt;<i> Behalf Of Alex Rousskov
</I>&gt;<i> &gt; Sent: Thursday, July 12, 2018 11:27 PM
</I>&gt;<i> &gt; To: --Ahmad-- &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ahmed.zaeem at netstream.ps</A>&gt;; Squid Users &lt;
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i> &gt; Subject: Re: [squid-users] question about squid and https connection .
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 07/12/2018 01:17 PM, --Ahmad-- wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; if i have pc# 1 and that pc open facebook .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; then i have other pc # 2 and that other pc open facebook .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; now  as we know facebook is https .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; so is the key/ cert that used on pc # 1 is same as cert in pc # 2 to
</I>&gt;<i> decrypt the fb encrypted traffic ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Certificates themselves are not used (directly) to decrypt traffic
</I>&gt;<i> &gt; AFAIK, but yes, both PCs will see the same server certificate (ignoring
</I>&gt;<i> &gt; CDNs and other complications).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; now in the presence of squid .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; if i used tcp connect method  , will it be different than above ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you are not bumping the connection, then both PCs will see the same
</I>&gt;<i> &gt; real Facebook certificate as if those PCs did not use a proxy.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you are bumping the connection, then both PCs will see the same fake
</I>&gt;<i> &gt; certificate generated by Squid.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; say i used 200 proxies in same squid machine and i used to access FB
</I>&gt;<i> from the same pc same browser .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; will facebook see my cert/key i used to decrypt its traffic ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you are asking whether Facebook will know anything about the fake
</I>&gt;<i> &gt; certificate generated by Squid for clients, then the answer is &quot;no,
</I>&gt;<i> &gt; unless Facebook runs some special client code to deliver (Squid)
</I>&gt;<i> &gt; certificate back to Facebook&quot;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In general, the origin server assumes that the client is talking to it
</I>&gt;<i> &gt; directly. Clients may pin or otherwise restrict certificates that they
</I>&gt;<i> &gt; trust, but after the connection is successfully established, the server
</I>&gt;<i> &gt; may assume that it is talking to the client directly. A paranoid server
</I>&gt;<i> &gt; may deliver special code to double check that assumption, but there are
</I>&gt;<i> &gt; other, more standard methods to prevent bumping such as certificate
</I>&gt;<i> &gt; pinning and certificate transparency cervices.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; is the key/cert of FB to decrypt the https content is same on all
</I>&gt;<i> browsers on all computers ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you are asking whether the generated certificates are going to be the
</I>&gt;<i> &gt; same for all clients, then the answer is &quot;yes, provided all those 200
</I>&gt;<i> &gt; Squids use the same configuration (including the CA certificate) and
</I>&gt;<i> &gt; receive the same real certificate from Facebook&quot;. Squid's certificate
</I>&gt;<i> &gt; generation algorithm generates the same certificate given the same
</I>&gt;<i> &gt; configuration and the same origin server certificate.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alex.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180712/adfc39eb/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180712/adfc39eb/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018666.html">[squid-users] question about squid and https connection .
</A></li>
	<LI>Next message (by thread): <A HREF="018670.html">[squid-users] question about squid and https connection .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18669">[ date ]</a>
              <a href="thread.html#18669">[ thread ]</a>
              <a href="subject.html#18669">[ subject ]</a>
              <a href="author.html#18669">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
