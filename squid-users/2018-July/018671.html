<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] question about squid and https connection .
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3Ca1c340b5-0d94-85f6-b92d-d50e44dde2ad%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018760.html">
   <LINK REL="Next"  HREF="018663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] question about squid and https connection .</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20question%20about%20squid%20and%20https%20connection%20.&In-Reply-To=%3Ca1c340b5-0d94-85f6-b92d-d50e44dde2ad%40treenet.co.nz%3E"
       TITLE="[squid-users] question about squid and https connection .">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Jul 12 23:07:24 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018760.html">[squid-users] question about squid and https connection .
</A></li>
        <LI>Next message (by thread): <A HREF="018663.html">[squid-users] Squid 4.1 &quot;- TCP_DENIED/403' and IPv6 while	&quot;dns_v4_first on&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18671">[ date ]</a>
              <a href="thread.html#18671">[ thread ]</a>
              <a href="subject.html#18671">[ subject ]</a>
              <a href="author.html#18671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/07/18 08:27, Eliezer Croitoru wrote:
&gt;<i> Alex,
</I>&gt;<i> 
</I>&gt;<i> Just to be sure:
</I>&gt;<i> Every RSA key and certificate pair regardless to the origin server and the SSL-BUMP enabled proxy can be different.
</I>&gt;<i> If the key would be the exact same one then we will probably have a very big security issue/risk to my understanding (leaving aside DH).
</I>&gt;<i> 
</I>&gt;<i> Will it be more accurate to say that just as long as these 200 squid instances(different squid.conf and couple other local variables)
</I>&gt;<i> use the same exact ssl_db cache directory  then it's probable that they will use the same certificate.
</I>&gt;<i> Or these 200 squid instances are in SMP mode with 200 workers...
</I>&gt;<i> If these 200 instances do not share memory and certificate cache then there is a possibility that the same site from two different sources
</I>&gt;<i> will serve different certificates(due to the different RSA key which is different).
</I>&gt;<i> 
</I>
Instances (in terms of how we defined the term &quot;Squid instance&quot;) cannot
share memory. They are completely separate processes. Even when in
SMP-aware operation, they are separate process groups. That is why you
have to use the -n name command line parameter to direct signals at
specific instances.


In regards to the certs. The generating of a fake cert is a hard-coded
algorithm - using the inputs Alex mentioned. The only way differences
occur between any two Squid fake certs is when the real origin server
cert given to each of them is different.
In that case you *do* absolutely want the fake ones to differ as well -
even (and especially) when they come from the same origin server.

Think of Squid as copy-n-pasting cert field values from the origin cert
to the fake cert. You wont be far off whats really happening.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018760.html">[squid-users] question about squid and https connection .
</A></li>
	<LI>Next message (by thread): <A HREF="018663.html">[squid-users] Squid 4.1 &quot;- TCP_DENIED/403' and IPv6 while	&quot;dns_v4_first on&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18671">[ date ]</a>
              <a href="thread.html#18671">[ thread ]</a>
              <a href="subject.html#18671">[ subject ]</a>
              <a href="author.html#18671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
