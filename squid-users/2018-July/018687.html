<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ERROR: Unknown TLS option clientca
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ERROR%3A%20Unknown%20TLS%20option%20clientca&In-Reply-To=%3C38f31e74-ec64-e4a9-09c4-3df37fe270de%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018686.html">
   <LINK REL="Next"  HREF="018688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ERROR: Unknown TLS option clientca</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ERROR%3A%20Unknown%20TLS%20option%20clientca&In-Reply-To=%3C38f31e74-ec64-e4a9-09c4-3df37fe270de%40measurement-factory.com%3E"
       TITLE="[squid-users] ERROR: Unknown TLS option clientca">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Jul 13 15:00:10 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018686.html">[squid-users] ERROR: Unknown TLS option clientca
</A></li>
        <LI>Next message (by thread): <A HREF="018688.html">[squid-users] ERROR: Unknown TLS option clientca
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18687">[ date ]</a>
              <a href="thread.html#18687">[ thread ]</a>
              <a href="subject.html#18687">[ subject ]</a>
              <a href="author.html#18687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/12/2018 11:35 PM, login mogin wrote:
&gt;<i> Thanks a lot, just tried the patch, sadly still not working.
</I>
If you still get &quot;Unknown TLS option&quot; errors when specifying clientca,
then you may not have rebuilt Squid correctly. If you no longer get
those errors, but Squid still does not ask the client for the
certificate, then follow the pull request on GitHub for more
fixes/updates -- there is more work needed to fix the bug than my
configuration parsing patch.

<A HREF="https://github.com/squid-cache/squid/pull/252">https://github.com/squid-cache/squid/pull/252</A>

Alex.


&gt;<i> Alex Rousskov, 12 Tem 2018 Per, 22:03
</I>&gt;<i> tarihinde &#351;unu yazd&#305;:
</I>&gt;<i> 
</I>&gt;<i>     On 07/12/2018 07:58 PM, login mogin wrote:
</I>&gt;<i>     &gt; Or should I report this as a bug?
</I>&gt;<i> 
</I>&gt;<i>     Your call, but it is a bug. You can also try the following _untested_
</I>&gt;<i>     patch: <A HREF="https://github.com/squid-cache/squid/pull/252.patch">https://github.com/squid-cache/squid/pull/252.patch</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Good luck,
</I>&gt;<i> 
</I>&gt;<i>     Alex.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     &gt; On Thu, Jul 12, 2018 at 4:11 AM login mogin wrote:
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;Hi,
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;We have been using squid 3.5.23 on ubuntu 16 with the
</I>&gt;<i>     configuration
</I>&gt;<i>     &gt;&#160; &#160; &#160;clientca=CERTPATH without any problem. We decided to run the new
</I>&gt;<i>     &gt;&#160; &#160; &#160;version squid 4.1 on ubuntu 18 with the same config. But now
</I>&gt;<i>     client
</I>&gt;<i>     &gt;&#160; &#160; &#160;certificate auth is not working anymore and we got this message on
</I>&gt;<i>     &gt;&#160; &#160; &#160;debug:
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;ERROR: Unknown TLS option 'clientca=/etc/squid/cert/ca/ca.crt'
</I>&gt;<i>     &gt;&#160; &#160; &#160;...
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;Are we missing something
</I>&gt;<i>     &gt;&#160; &#160; &#160;or&#160;<A HREF="http://www.squid-cache.org/Doc/config/http_port/">http://www.squid-cache.org/Doc/config/http_port/</A> clientca
</I>&gt;<i>     option
</I>&gt;<i>     &gt;&#160; &#160; &#160;is broken?
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;By the way we also tried tls-cafile and capath options, we didn't
</I>&gt;<i>     &gt;&#160; &#160; &#160;get any error messages with these options but still squid
</I>&gt;<i>     server is
</I>&gt;<i>     &gt;&#160; &#160; &#160;not requesting any client certificate.
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;Appreciate the help.
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;&#160; &#160; &#160;Regards,
</I>&gt;<i>     &gt;&#160; &#160; &#160;Logan
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; _______________________________________________
</I>&gt;<i>     &gt; squid-users mailing list
</I>&gt;<i>     &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i>     &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>     &gt;
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018686.html">[squid-users] ERROR: Unknown TLS option clientca
</A></li>
	<LI>Next message (by thread): <A HREF="018688.html">[squid-users] ERROR: Unknown TLS option clientca
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18687">[ date ]</a>
              <a href="thread.html#18687">[ thread ]</a>
              <a href="subject.html#18687">[ subject ]</a>
              <a href="author.html#18687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
