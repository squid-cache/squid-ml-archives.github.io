<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid.out reports errors for lines that do not exist	in squid.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.out%20reports%20errors%20for%20lines%20that%20do%20not%20exist%0A%09in%20squid.conf&In-Reply-To=%3C5B3F54FC-DE6E-40F5-B08A-4873B5BA258A%40regence.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018378.html">
   <LINK REL="Next"  HREF="018382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid.out reports errors for lines that do not exist	in squid.conf</H1>
    <B>Cheadle, Edward</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.out%20reports%20errors%20for%20lines%20that%20do%20not%20exist%0A%09in%20squid.conf&In-Reply-To=%3C5B3F54FC-DE6E-40F5-B08A-4873B5BA258A%40regence.com%3E"
       TITLE="[squid-users] Squid.out reports errors for lines that do not exist	in squid.conf">Edward.Cheadle at cambiahealth.com
       </A><BR>
    <I>Wed Jun  6 23:11:56 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018378.html">[squid-users] AMI 1+2 RPM packages ready!
</A></li>
        <LI>Next message (by thread): <A HREF="018382.html">[squid-users] Squid.out reports errors for lines that do not exist in squid.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18380">[ date ]</a>
              <a href="thread.html#18380">[ thread ]</a>
              <a href="subject.html#18380">[ subject ]</a>
              <a href="author.html#18380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Squid version 3.5.27-1.el6
Linux:  Amazon Linux AMI 2018.03.0

I saw the warning messages below in squid.out, did some research and found out that the messagesseemed to be caused the two lines:
acl localhost src 127.0.0.1/32
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32

From <A HREF="http://www.squid-cache.org/Versions/v3/3.5/cfgman/acl.html">http://www.squid-cache.org/Versions/v3/3.5/cfgman/acl.html</A> I see that both these two acl&#8217;s are now predefined and are not shown in the recommended configuration.
I suspect the person that installed squid for us found an older conf file from somewhere.

2018/06/06 20:49:29| WARNING: (B) '127.0.0.1' is a subnetwork of (A) '127.0.0.1'
2018/06/06 20:49:29| WARNING: because of this '127.0.0.1' is ignored to keep splay tree searching predictable
2018/06/06 20:49:29| WARNING: You should probably remove '127.0.0.1' from the ACL named 'localhost'


The FATAL error messages below  is because I added a line with dstdomain in it when there were already an entry with dstdom_regex in it.
I assume that is the &#8220;type&#8221; that is talked about.

2018/06/06 20:49:29| aclParseAclLine: ACL 'aws_s3' already exists with different type.
FATAL: Bungled /etc/squid/squid.conf line 254: acl aws_s3   dstdomain -n .s3.amazonaws.com

The issue is that I removed line 254 and I removed both of the lines above and yet I restart squid and continue to get these errors.

Does squid compile the rules and keep them somewhere, and I need to do something else than service squid restart to get rid of rules?

IMPORTANT NOTICE: This communication, including any attachment, contains information that may be confidential or privileged, and is intended solely for the entity or individual to whom it is addressed.  If you are not the intended recipient, you should delete this message and are hereby notified that any disclosure, copying, or distribution of this message is strictly prohibited.  Nothing in this email, including any attachment, is intended to be a legally binding signature.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180606/25a8c8a8/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180606/25a8c8a8/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018378.html">[squid-users] AMI 1+2 RPM packages ready!
</A></li>
	<LI>Next message (by thread): <A HREF="018382.html">[squid-users] Squid.out reports errors for lines that do not exist in squid.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18380">[ date ]</a>
              <a href="thread.html#18380">[ thread ]</a>
              <a href="subject.html#18380">[ subject ]</a>
              <a href="author.html#18380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
