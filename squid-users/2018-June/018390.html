<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid.out reports errors for lines that do not	exist in squid.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.out%20reports%20errors%20for%20lines%20that%20do%20not%0A%09exist%20in%20squid.conf&In-Reply-To=%3C01fc01d3fe81%2479a7e940%246cf7bbc0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018384.html">
   <LINK REL="Next"  HREF="018389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid.out reports errors for lines that do not	exist in squid.conf</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.out%20reports%20errors%20for%20lines%20that%20do%20not%0A%09exist%20in%20squid.conf&In-Reply-To=%3C01fc01d3fe81%2479a7e940%246cf7bbc0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Squid.out reports errors for lines that do not	exist in squid.conf">eliezer at ngtech.co.il
       </A><BR>
    <I>Thu Jun  7 17:03:36 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018384.html">[squid-users] Squid.out reports errors for lines that do not exist in squid.conf
</A></li>
        <LI>Next message (by thread): <A HREF="018389.html">[squid-users] Squid.out reports errors for lines that do not	exist in squid.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18390">[ date ]</a>
              <a href="thread.html#18390">[ thread ]</a>
              <a href="subject.html#18390">[ subject ]</a>
              <a href="author.html#18390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Amos,

Now it's much clear to me.
Since you know me I have used many different Unix based systems and the only times I have used the service commands was really un-naturally....
The times I have used service was only when some guide/tutorial instructed a set of commands.
I am using either squid directly or the default OS documented commands.

I hope to be able to test 4.0.24 again (I tested it couple times but not for more then a week).

Eliezer

----
Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>



-----Original Message-----
From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; 
Sent: Thursday, June 7, 2018 13:12
To: Eliezer Croitoru &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt;; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Squid.out reports errors for lines that do not exist in squid.conf

On 07/06/18 18:13, Eliezer Croitoru wrote:
&gt;<i> Amos,
</I>&gt;<i> 
</I>&gt;<i> Systemd can be define to run a specific command for a &quot;reload&quot; and even if nobody wrote the line in a service file it's there since almost day one of systemd services.
</I>&gt;<i> 
</I>
*If* that mechanism is used there is no difference in the commands. If
it is not used, the systemd ones are actively dangerous. So no harm in
advising the safe one be used in either case.


&gt;<i> And.. if the version is el6 I believe it's still a sysVinit based system.
</I>
Cheadle was using systemd's &quot;service ...&quot; commands. Which I am advising
to avoid because something indeterminate is going wrong with the config
loading and startup process. If the OS is actually SysV those systemd
commands are even more inappropriate.


&gt;<i> Squid -kparse should detect and squid -kreconf should resolve any issue if it's not a fatal one that stopped the service.
</I>&gt;<i> 
</I>&gt;<i> Not directly related but.. only if Squid doesn't release at all any memory it catches then a restart would be a must at some point.
</I>&gt;<i> From what I have seen in the 2.7 and 3.x code in the past it seems that there should be some level of memory cleanup\release.
</I>&gt;<i> Also I have systems that has up-time of almost a year so I am a bit confused why should a restart would be requied?
</I>
The admin has apparently got themselves into a difficult situation and
it is no longer clear whether systemd or Squid master process is in
control of the worker processes which are running and with what config.
They both fight over &quot;service ...&quot; commands.

The only thing which is guaranteed to restore Squid to known state is a
full shutdown. Ensuring that everything has exited before proceeding
with the start action.

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018384.html">[squid-users] Squid.out reports errors for lines that do not exist in squid.conf
</A></li>
	<LI>Next message (by thread): <A HREF="018389.html">[squid-users] Squid.out reports errors for lines that do not	exist in squid.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18390">[ date ]</a>
              <a href="thread.html#18390">[ thread ]</a>
              <a href="subject.html#18390">[ subject ]</a>
              <a href="author.html#18390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
