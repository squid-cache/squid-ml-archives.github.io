<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Question about traffic calculate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20traffic%20calculate&In-Reply-To=%3CCANhj9ozSz6k0HMFYHUQLYw473j-NP8Vau%3Dj7-akephH-AGO%2Bow%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018379.html">
   <LINK REL="Next"  HREF="018397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Question about traffic calculate</H1>
    <B>Tiraen</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20traffic%20calculate&In-Reply-To=%3CCANhj9ozSz6k0HMFYHUQLYw473j-NP8Vau%3Dj7-akephH-AGO%2Bow%40mail.gmail.com%3E"
       TITLE="[squid-users] Question about traffic calculate">tiraen at gmail.com
       </A><BR>
    <I>Fri Jun  8 14:56:31 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018379.html">[squid-users] Question about traffic calculate
</A></li>
        <LI>Next message (by thread): <A HREF="018397.html">[squid-users] Question about traffic calculate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18394">[ date ]</a>
              <a href="thread.html#18394">[ thread ]</a>
              <a href="subject.html#18394">[ subject ]</a>
              <a href="author.html#18394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Small clarification

If the normal behavior of the proxy server described above is correct, then
maybe there are other methods of gathering information on traffic in online
mode?

Perhaps there are other solutions besides log parsing?

2018-06-06 12:21 GMT+03:00 Tiraen &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">tiraen at gmail.com</A>&gt;:

&gt;<i> &gt;If you are using SSL-Bump features, please consider Squid-4 instead
</I>&gt;<i>
</I>&gt;<i> It is not used at all.Squid does not work with ssl. Frontend only
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Concerning incorrectly specified options at build
</I>&gt;<i>
</I>&gt;<i> Here on this squid happens the same thing:
</I>&gt;<i>
</I>&gt;<i> * squid3 -v*
</I>&gt;<i> *Squid Cache: Version 3.4.8*
</I>&gt;<i> * linux*
</I>&gt;<i> *configure options:  '--build=x86_64-linux-gnu' '--prefix=/usr'
</I>&gt;<i> '--includedir=${prefix}/include' '--mandir=${prefix}/share/man'
</I>&gt;<i> '--infodir=${prefix}/share/info' '--sysconfdir=/etc' '--localstatedir=/var'
</I>&gt;<i> '--libexecdir=${prefix}/lib/squid3' '--srcdir=.'
</I>&gt;<i> '--disable-maintainer-mode' '--disable-dependency-tracking'
</I>&gt;<i> '--disable-silent-rules' '--datadir=/usr/share/squid3'
</I>&gt;<i> '--sysconfdir=/etc/squid3' '--mandir=/usr/share/man' '--enable-inline'
</I>&gt;<i> '--disable-arch-native' '--enable-async-io=8'
</I>&gt;<i> '--enable-storeio=ufs,aufs,diskd,rock' '--enable-removal-policies=lru,heap'
</I>&gt;<i> '--enable-delay-pools' '--enable-cache-digests' '--enable-icap-client'
</I>&gt;<i> '--enable-follow-x-forwarded-for'
</I>&gt;<i> '--enable-auth-basic=DB,fake,getpwnam,LDAP,MSNT,MSNT-multi-domain,NCSA,NIS,PAM,POP3,RADIUS,SASL,SMB'
</I>&gt;<i> '--enable-auth-digest=file,LDAP' '--enable-auth-negotiate=kerberos,wrapper'
</I>&gt;<i> '--enable-auth-ntlm=fake,smb_lm'
</I>&gt;<i> '--enable-external-acl-helpers=file_userip,kerberos_ldap_group,LDAP_group,session,SQL_session,unix_group,wbinfo_group'
</I>&gt;<i> '--enable-url-rewrite-helpers=fake' '--enable-eui' '--enable-esi'
</I>&gt;<i> '--enable-icmp' '--enable-zph-qos' '--enable-ecap' '--disable-translation'
</I>&gt;<i> '--with-swapdir=/var/spool/squid3' '--with-logdir=/var/log/squid3'
</I>&gt;<i> '--with-pidfile=/var/run/squid3.pid' '--with-filedescriptors=65536'
</I>&gt;<i> '--with-large-files' '--with-default-user=proxy' '--enable-build-info=
</I>&gt;<i> linux' '--enable-linux-netfilter' 'build_alias=x86_64-linux-gnu' 'CFLAGS=-g
</I>&gt;<i> -O2 -fPIE -fstack-protector-strong -Wformat -Werror=format-security -Wall'
</I>&gt;<i> 'LDFLAGS=-fPIE -pie -Wl,-z,relro -Wl,-z,now' 'CPPFLAGS=-D_FORTIFY_SOURCE=2'
</I>&gt;<i> 'CXXFLAGS=-g -O2 -fPIE -fstack-protector-strong -Wformat
</I>&gt;<i> -Werror=format-security'*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *no out data*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Connection: 0x7f18ee951c58*
</I>&gt;<i> * FD 15, read 10070, wrote 19018*
</I>&gt;<i> * FD desc: Reading next request*
</I>&gt;<i> * in: buf 0x7f18ee952070, offset 0, size 4096*
</I>&gt;<i> * remote: 127.0.0.1:52827 &lt;<A HREF="http://127.0.0.1:52827">http://127.0.0.1:52827</A>&gt;*
</I>&gt;<i> * local: 127.0.0.1:8080 &lt;<A HREF="http://127.0.0.1:8080">http://127.0.0.1:8080</A>&gt;*
</I>&gt;<i> * nrequests: 38*
</I>&gt;<i> *uri <A HREF="http://icanhazip.com/">http://icanhazip.com/</A> &lt;<A HREF="http://icanhazip.com/">http://icanhazip.com/</A>&gt;*
</I>&gt;<i> *logType TCP_MISS*
</I>&gt;<i> *out.offset 0, out.size 0*
</I>&gt;<i> *req_sz 265*
</I>&gt;<i> *entry 0x7f18ee3bc740/F9929050DEE6E67D2DF51EDCBC0CB80F*
</I>&gt;<i> *start 1528276856.390709 (2.640371 seconds ago)*
</I>&gt;<i> *username*
</I>&gt;<i> *delay_pool 0*
</I>&gt;<i>
</I>&gt;<i> *Connection: 0x7f18ee874168*
</I>&gt;<i> * FD 13, read 10070, wrote 19018*
</I>&gt;<i> * FD desc: Reading next request*
</I>&gt;<i> * in: buf 0x7f18ee86bb60, offset 0, size 4096*
</I>&gt;<i> * remote: 127.0.0.1:52825 &lt;<A HREF="http://127.0.0.1:52825">http://127.0.0.1:52825</A>&gt;*
</I>&gt;<i> * local: 127.0.0.1:8080 &lt;<A HREF="http://127.0.0.1:8080">http://127.0.0.1:8080</A>&gt;*
</I>&gt;<i> * nrequests: 38*
</I>&gt;<i> *uri <A HREF="http://icanhazip.com/">http://icanhazip.com/</A> &lt;<A HREF="http://icanhazip.com/">http://icanhazip.com/</A>&gt;*
</I>&gt;<i> *logType TCP_MISS*
</I>&gt;<i> *out.offset 0, out.size 0*
</I>&gt;<i> *req_sz 265*
</I>&gt;<i> *entry 0x7f18ee87fde0/560E3AC236A180ECB815B5B41527D2BA*
</I>&gt;<i> *start 1528276856.368609 (2.662471 seconds ago)*
</I>&gt;<i> *username*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *delay_pool 0*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2018-06-06 7:51 GMT+03:00 Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;:
</I>&gt;<i>
</I>&gt;&gt;<i> On 06/06/18 07:12, Tiraen wrote:
</I>&gt;&gt;<i> &gt; /The second transaction has not yet reached that state despite 81017sec
</I>&gt;&gt;<i> &gt; having past.
</I>&gt;&gt;<i> &gt; /
</I>&gt;&gt;<i> &gt; Thank you for clarification.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; About squid version
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; /squid -v/
</I>&gt;&gt;<i> &gt; /Squid Cache: Version 3.5.27/
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you are using SSL-Bump features, please consider Squid-4 instead. The
</I>&gt;&gt;<i> strangely long timeouts on transactions is likely to be a side effect of
</I>&gt;&gt;<i> on old behaviour in Squid-3 seen with transactions that were bumped.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; '--enable-ssl'
</I>&gt;&gt;<i> &gt; '--with-open-ssl=/etc/ssl/openssl.cnf'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Two problems with the above:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  1) the option name is &quot;--with-openssl&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  2) that option takes the directory PATH where the OpenSSL development
</I>&gt;&gt;<i> files were installed. If using the OS provided library package *omit*
</I>&gt;&gt;<i> the =PATH portion.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Amos
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> With best regards,
</I>&gt;<i>
</I>&gt;<i> Vyacheslav Yakushev,
</I>&gt;<i>
</I>&gt;<i> Unix system administrator
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://t.me/kelewind">https://t.me/kelewind</A>
</I>&gt;<i>
</I>


-- 
With best regards,

Vyacheslav Yakushev,

Unix system administrator

<A HREF="https://t.me/kelewind">https://t.me/kelewind</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180608/7927f34d/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180608/7927f34d/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018379.html">[squid-users] Question about traffic calculate
</A></li>
	<LI>Next message (by thread): <A HREF="018397.html">[squid-users] Question about traffic calculate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18394">[ date ]</a>
              <a href="thread.html#18394">[ thread ]</a>
              <a href="subject.html#18394">[ subject ]</a>
              <a href="author.html#18394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
