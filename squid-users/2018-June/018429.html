<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Question about traffic calculate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20traffic%20calculate&In-Reply-To=%3Cdf89473e-4d15-0566-e800-b0431031517e%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018428.html">
   <LINK REL="Next"  HREF="018499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Question about traffic calculate</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Question%20about%20traffic%20calculate&In-Reply-To=%3Cdf89473e-4d15-0566-e800-b0431031517e%40measurement-factory.com%3E"
       TITLE="[squid-users] Question about traffic calculate">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Jun 13 15:35:58 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018428.html">[squid-users] Question about traffic calculate
</A></li>
        <LI>Next message (by thread): <A HREF="018499.html">[squid-users] Question about traffic calculate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18429">[ date ]</a>
              <a href="thread.html#18429">[ thread ]</a>
              <a href="subject.html#18429">[ subject ]</a>
              <a href="author.html#18429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/13/2018 07:09 AM, Matus UHLAR - fantomas wrote:
&gt;<i> On 13.06.18 13:26, Tiraen wrote:
</I>&gt;&gt;<i> ICAP will help provide data on incoming / outgoing traffic?
</I>
&gt;<i> icap can get the data and work with it.
</I>&gt;<i> you don't have to manipulate, just do the accounting.
</I>&gt;<i> you just need ICAP module that will do it.
</I>

Yes, it is possible to collect more-or-less accurate incoming request
and incoming response stats using an ICAP service, but doing so would be
very inefficient. Using eCAP would improve performance, but interpreting
live access.log streams is probably the most efficient way of doing this.

IIRC, both eCAP and ICAP interfaces do not see the exact incoming
requests and incoming responses because Squid may strip hop-by-hop HTTP
headers and decode chunked HTTP message bodies before forwarding the
incoming message to the adaptation service. If you need exact headers
and exact body sizes, then you need more than just the basic ICAP and
eCAP interface. Again, access.log is probably an overall better choice
for capturing that info.

Both eCAP and ICAP interfaces do not see outgoing requests and outgoing
responses because Squid only supports pre-cache vectoring points.


HTH,

Alex.
P.S. In the above, &quot;incoming&quot; is &quot;to Squid&quot; and &quot;outgoing&quot; is &quot;from Squid&quot;.


&gt;&gt;<i> 2018-06-13 12:54 GMT+03:00 Matus UHLAR - fantomas &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 13.06.18 11:51, Tiraen wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> either such a question, perhaps someone in the course
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> in the SQUID is still not implemented radius accounting?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> authentication - yes. But squid doese not support accounting (afaik).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Maybe there are any third-party modules working correctly?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> maybe iCAP module.
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018428.html">[squid-users] Question about traffic calculate
</A></li>
	<LI>Next message (by thread): <A HREF="018499.html">[squid-users] Question about traffic calculate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18429">[ date ]</a>
              <a href="thread.html#18429">[ thread ]</a>
              <a href="subject.html#18429">[ subject ]</a>
              <a href="author.html#18429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
