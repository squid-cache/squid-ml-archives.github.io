<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HTTPS cache for Java application - only getting TCP_MISS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20cache%20for%20Java%20application%20-%20only%20getting%0A%20TCP_MISS&In-Reply-To=%3Cfb230ec2-f21b-9816-5637-b9335948d2ed%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018446.html">
   <LINK REL="Next"  HREF="018440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HTTPS cache for Java application - only getting TCP_MISS</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20cache%20for%20Java%20application%20-%20only%20getting%0A%20TCP_MISS&In-Reply-To=%3Cfb230ec2-f21b-9816-5637-b9335948d2ed%40measurement-factory.com%3E"
       TITLE="[squid-users] HTTPS cache for Java application - only getting TCP_MISS">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Jun 14 21:25:10 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018446.html">[squid-users] HTTPS cache for Java application - only getting	TCP_MISS
</A></li>
        <LI>Next message (by thread): <A HREF="018440.html">[squid-users] cacheHttpAllSvcTime quite high
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18447">[ date ]</a>
              <a href="thread.html#18447">[ thread ]</a>
              <a href="subject.html#18447">[ subject ]</a>
              <a href="author.html#18447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/14/2018 01:32 PM, baretomas wrote:

&gt;<i> On 14 June 2018 1:25 PM, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
</I>&gt;&gt;<i> 2.  if you have enough control of the apps to get them connecting with
</I>&gt;&gt;<i>     TLS to the proxy and sending their requests there. Do that.
</I>
You are not doing this if your Squid receives CONNECT requests. If you
can get your apps to do the right thing, then Squid would be receiving
GET requests (and such) with <A HREF="https://">https://</A> URLs instead of CONNECT requests.


&gt;&gt;<i> 3.  the (relatively) complicated SSL-Bump way you found. The proxy is
</I>&gt;&gt;<i>     fully at the mercy of the the messages sent by apps and servers.
</I>
You are doing this right now. Some Java magic encrypts your app requests
and sends encrypted requests through Squid via CONNECT tunnels. You bump
those encrypted tunnels to get to the HTTP requests and cache responses.

Alex.


&gt;<i> According to the java docs, the https_proxy (-Dhttps.proxyHost and
</I>&gt;<i> -Dhttps.proxyPort should redirect all ssl traffic to that destination.)
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018446.html">[squid-users] HTTPS cache for Java application - only getting	TCP_MISS
</A></li>
	<LI>Next message (by thread): <A HREF="018440.html">[squid-users] cacheHttpAllSvcTime quite high
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18447">[ date ]</a>
              <a href="thread.html#18447">[ thread ]</a>
              <a href="subject.html#18447">[ subject ]</a>
              <a href="author.html#18447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
