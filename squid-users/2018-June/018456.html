<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] iptables setup for tcp_outgoing_address
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20iptables%20setup%20for%20tcp_outgoing_address&In-Reply-To=%3C201806160054.49988.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018455.html">
   <LINK REL="Next"  HREF="018457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] iptables setup for tcp_outgoing_address</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20iptables%20setup%20for%20tcp_outgoing_address&In-Reply-To=%3C201806160054.49988.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] iptables setup for tcp_outgoing_address">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Fri Jun 15 22:54:49 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018455.html">[squid-users] iptables setup for tcp_outgoing_address
</A></li>
        <LI>Next message (by thread): <A HREF="018457.html">[squid-users] iptables setup for tcp_outgoing_address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18456">[ date ]</a>
              <a href="thread.html#18456">[ thread ]</a>
              <a href="subject.html#18456">[ subject ]</a>
              <a href="author.html#18456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 16 June 2018 at 00:42:57, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">davidjesse091 at aol.com</A> wrote:

&gt;<i> I have two network interfaces on my machine. I'm trying to setup incoming
</I>&gt;<i> through the enp1s0's IP address and if the connection comes from port
</I>&gt;<i> 11000 then I want squid to use wlx74da388c32c7's IP address.
</I>
&gt;<i> IPs on my machine
</I>
&gt;<i> 2: enp1s0: 
</I>&gt;<i>     inet 192.168.1.212/24 brd 192.168.1.255 scope global enp1s0
</I>
&gt;<i> 3: wlx74da388c32c7: 
</I>&gt;<i>     inet 172.16.11.107/24 brd 172.16.11.255 scope global dynamic
</I>
&gt;<i> I want to connect to Squid proxy using the 192.168.1.212 and if I am
</I>&gt;<i> connecting using port 11000, I want squid to have the traffic go out of
</I>&gt;<i> the 172.16.11.107 IP
</I>
That makes no sense to me.

If I understand you correctly, it will also make no sense to the machine 
connecting to your Squid proxy.

Squid must reply to the client from the same address as the client connected 
to Squid on.

In other words, if you get a connection in to Squid on IP 192.168.1.212 port 
3128 then you must also reply (to whichever client sent that request) from IP 
192.168.1.212 port 3128.

If Squid is going to reply from IP 172.16.11.107 then then request needs to 
come in to IP 172.16.11.107 in the first place.

Nothing else can work in TCP/IP terms.

If I have misunderstood, please explain in more detail what you are trying to 
achieve.


Antony.

-- 
I want to build a machine that will be proud of me.

 - Danny Hillis, creator of The Connection Machine

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018455.html">[squid-users] iptables setup for tcp_outgoing_address
</A></li>
	<LI>Next message (by thread): <A HREF="018457.html">[squid-users] iptables setup for tcp_outgoing_address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18456">[ date ]</a>
              <a href="thread.html#18456">[ thread ]</a>
              <a href="subject.html#18456">[ subject ]</a>
              <a href="author.html#18456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
