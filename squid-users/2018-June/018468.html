<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 4.0.25 -- build, ok... probs on 3.x still there, but may not be so important?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%204.0.25%20--%20build%2C%20ok...%20probs%20on%203.x%20still%20there%2C%0A%20but%20may%20not%20be%20so%20important%3F&In-Reply-To=%3C5B26321B.7050102%40tlinx.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018466.html">
   <LINK REL="Next"  HREF="018470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 4.0.25 -- build, ok... probs on 3.x still there, but may not be so important?</H1>
    <B>L A Walsh</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%204.0.25%20--%20build%2C%20ok...%20probs%20on%203.x%20still%20there%2C%0A%20but%20may%20not%20be%20so%20important%3F&In-Reply-To=%3C5B26321B.7050102%40tlinx.org%3E"
       TITLE="[squid-users] 4.0.25 -- build, ok... probs on 3.x still there, but may not be so important?">squid-user at tlinx.org
       </A><BR>
    <I>Sun Jun 17 10:04:11 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018466.html">[squid-users] building 4.0.25
</A></li>
        <LI>Next message (by thread): <A HREF="018470.html">[squid-users] 4.0.25 -- build, ok... probs on 3.x still there, but may not be so important?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18468">[ date ]</a>
              <a href="thread.html#18468">[ thread ]</a>
              <a href="subject.html#18468">[ subject ]</a>
              <a href="author.html#18468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It seems I didn't patch it correctly...weird didn't see
any output.

Tried applying .25 patch to copy of .24 dir and it didn't
apply correctly, since I d/l the tarball, and now it build
fine...so.... gonna go play with this now...

FWIW, though the 3.x issues -- compiler changed...not sure
what else would be causing weird issues...
one of them was deprecation warnings and that could easily
be the new compiler...
Anyway...gonna go try to get 4.0.25 running...

sorry for bother.



L A Walsh wrote:

&gt;<i> Also, tried recompiling 3.5.21+22 and ran into some issues (which
</I>&gt;<i> don't really need solving if I get 4.0.25 up and running, but thought
</I>&gt;<i> I'd mention them as they seem to be related to me using a more recent
</I>&gt;<i> gcc toolchain (7.1.0).
</I>&gt;<i> Got a few warnings that were escalated into errors:
</I>&gt;<i> 
</I>&gt;<i> 1 was due to something deprecated (from 3.5.21 build)
</I>&gt;<i> 
</I>&gt;<i> In file included from ../../include/util.h:37:0,
</I>&gt;<i>                  from ntlmauth.cc:20:
</I>&gt;<i> ../../include/SquidNew.h:21:51: error: dynamic exception specifications 
</I>&gt;<i> are deprecated in C++11 [-Werror=deprecated]
</I>&gt;<i>  _SQUID_EXTERNNEW_ void *operator new(size_t size) throw (std::bad_alloc)
</I>&gt;<i>                                                    ^~~~~
</I>&gt;<i> ../../include/SquidNew.h:29:54: error: dynamic exception specifications 
</I>&gt;<i> are deprecated in C++11 [-Werror=deprecated]
</I>&gt;<i>  _SQUID_EXTERNNEW_ void *operator new[] (size_t size) throw (std::bad_alloc)
</I>&gt;<i> --------
</I>&gt;<i> 
</I>&gt;<i> After disabling that fatal warning, I ran into a different warning
</I>&gt;<i> in the FtpGateway.cc file:
</I>&gt;<i> FtpGateway.cc: In member function &#8216;const char* Ftp::Gateway::ftpRealm()&#8217;:
</I>&gt;<i> FtpGateway.cc:1288:1: error: &#8216;%s&#8217; directive output may be truncated 
</I>&gt;<i> writing up to 8191 bytes into a region of size 8188 
</I>&gt;<i> [-Werror=format-truncation=]
</I>&gt;<i>  Ftp::Gateway::ftpRealm()
</I>&gt;<i>  ^~~
</I>&gt;<i> FtpGateway.cc:1294:17: note: &#8216;snprintf&#8217; output between 13 and 8204 bytes 
</I>&gt;<i> into a destination of size 8192
</I>&gt;<i>          snprintf(realm, 8192, &quot;FTP %s unknown&quot;, user);
</I>&gt;<i>          ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</I>&gt;<i> FtpGateway.cc:1288:1: error: &#8216;%s&#8217; directive output may be truncated 
</I>&gt;<i> writing up to 8191 bytes into a region of size 8188 
</I>&gt;<i> [-Werror=format-truncation=]
</I>&gt;<i>  Ftp::Gateway::ftpRealm()
</I>&gt;<i>  ^~~
</I>&gt;<i> ...
</I>&gt;<i> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</I>&gt;<i> FtpGateway.cc: In function &#8216;void ftpSendUser(Ftp::Gateway*)&#8217;:
</I>&gt;<i> FtpGateway.cc:1304:1: error: &#8216;%s&#8217; directive output may be truncated 
</I>&gt;<i> writing up to 8191 bytes into a region of size 1019 
</I>&gt;<i> [-Werror=format-truncation=]
</I>&gt;<i>  ftpSendUser(Ftp::Gateway * ftpState)
</I>&gt;<i>  ^~~~~~~~~~~
</I>&gt;<i> cc1plus: all warnings being treated as errors
</I>&gt;<i> 
</I>&gt;<i> There were others, of the same sort that I didn't copy here.  I turned off
</I>&gt;<i> fatal warnings, as this used to work under an older compiler,
</I>&gt;<i> but then some things didn't want to link:
</I>&gt;<i> 
</I>&gt;<i>   CXXLD    pinger
</I>&gt;<i> debug.o: In function `FileNameHashCached(char const*)':
</I>&gt;<i> debug.cc:(.text+0x4e): undefined reference to 
</I>&gt;<i> `TextException::FileNameHash(char const*)'
</I>&gt;<i> globals.o: In function `FileNameHashCached(char const*)':
</I>&gt;<i> globals.cc:(.text+0x2c): undefined reference to 
</I>&gt;<i> `TextException::FileNameHash(char const*)'
</I>&gt;<i> SquidConfig.o: In function `FileNameHashCached(char const*)':
</I>&gt;<i> SquidConfig.cc:(.text+0x2c): undefined reference to 
</I>&gt;<i> `TextException::FileNameHash(char const*)'
</I>&gt;<i> stub_HelperChildConfig.o: In function `FileNameHashCached(char const*)':
</I>&gt;<i> stub_HelperChildConfig.cc:(.text+0x2c): undefined reference to 
</I>&gt;<i> `TextException::FileNameHash(char const*)'
</I>&gt;<i> collect2: error: ld returned 1 exit status
</I>&gt;<i> Makefile:880: recipe for target 'pinger' failed
</I>&gt;<i> make[3]: *** [pinger] Error 1
</I>&gt;<i> 
</I>&gt;<i> ----
</I>&gt;<i> Made wonder if maybe gcc V7.1.0 wasn't supported or tried?
</I>&gt;<i> 
</I>&gt;<i> ---
</I>&gt;<i> 
</I>&gt;<i> That's when I decided to try 4.0.25...which points back to the
</I>&gt;<i> top of this email...
</I>&gt;<i> 
</I>&gt;<i> so...missing 'func_quote_for_eval'?  relation to am-1.15?
</I>&gt;<i> am-1.16 usable instead?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> -linda
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018466.html">[squid-users] building 4.0.25
</A></li>
	<LI>Next message (by thread): <A HREF="018470.html">[squid-users] 4.0.25 -- build, ok... probs on 3.x still there, but may not be so important?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18468">[ date ]</a>
              <a href="thread.html#18468">[ thread ]</a>
              <a href="subject.html#18468">[ subject ]</a>
              <a href="author.html#18468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
