<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid callout sequence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20callout%20sequence&In-Reply-To=%3Caf8d56cd-06e9-73a1-a046-9d343eabdb81%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018513.html">
   <LINK REL="Next"  HREF="018521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid callout sequence</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20callout%20sequence&In-Reply-To=%3Caf8d56cd-06e9-73a1-a046-9d343eabdb81%40treenet.co.nz%3E"
       TITLE="[squid-users] squid callout sequence">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jun 25 02:17:50 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018513.html">[squid-users] squid callout sequence
</A></li>
        <LI>Next message (by thread): <A HREF="018521.html">[squid-users] squid callout sequence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18516">[ date ]</a>
              <a href="thread.html#18516">[ thread ]</a>
              <a href="subject.html#18516">[ subject ]</a>
              <a href="author.html#18516">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/06/18 05:15, Gordon Hsiao wrote:
&gt;<i> at <A HREF="https://wiki.squid-cache.org/SquidFaq/OrderIsImportant">https://wiki.squid-cache.org/SquidFaq/OrderIsImportant</A> I noticed
</I>&gt;<i> redirectors are way ahead of ssl-bump in the callout order, in a
</I>&gt;<i> https-ssl-bump case
</I>
There is not really any &quot;https-ssl-bump&quot; case.

There is SSL-Bump (decrypting a TLS stream - or not), and there is HTTPS
(HTTP messages inside TLS).


&gt;<i> you will need ssl-bump to run (so you can get full
</I>&gt;<i> URL for example), then you can run redirector based on the result of
</I>&gt;<i> ssl-bump, correct?
</I>
No. SSL-Bump is an operation applied to a CONNECT message, when setting
up the TLS tunnel. There are maybe also *multiple* CONNECT messages when
SSL-Bump gets involved - which the FAQ text following that sequence
describes.


HTTP is stateless protocol. So the CONNECT message(s) are independent of
both each other, and anything decrypted from inside the tunnel. Each and
every message Squid handles gets its own cycle through the callout sequence.


&gt;<i> why is redirector run before ssl-bump?
</I>
Because Squid needs to know _where_ it is going before it can connect
there. SSL-Bump is part of tunnel/connection setup.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018513.html">[squid-users] squid callout sequence
</A></li>
	<LI>Next message (by thread): <A HREF="018521.html">[squid-users] squid callout sequence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18516">[ date ]</a>
              <a href="thread.html#18516">[ thread ]</a>
              <a href="subject.html#18516">[ subject ]</a>
              <a href="author.html#18516">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
