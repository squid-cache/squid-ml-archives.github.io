<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Adobe CC behing Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Adobe%20CC%20behing%20Squid&In-Reply-To=%3C67a5f1c5-7b7a-9a6a-995f-4589640691d6%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018554.html">
   <LINK REL="Next"  HREF="018564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Adobe CC behing Squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Adobe%20CC%20behing%20Squid&In-Reply-To=%3C67a5f1c5-7b7a-9a6a-995f-4589640691d6%40treenet.co.nz%3E"
       TITLE="[squid-users] Adobe CC behing Squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jun 27 19:56:46 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018554.html">[squid-users] Adobe CC behing Squid
</A></li>
        <LI>Next message (by thread): <A HREF="018564.html">[squid-users] Adobe CC behing Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18556">[ date ]</a>
              <a href="thread.html#18556">[ thread ]</a>
              <a href="subject.html#18556">[ subject ]</a>
              <a href="author.html#18556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28/06/18 07:06, Verwaiser wrote:
&gt;<i> Hello,
</I>&gt;<i> what would be the right way to implement the authentification bypass list
</I>&gt;<i> linked from adobe:
</I>&gt;<i> <A HREF="https://helpx.adobe.com/content/dam/help/attachments/Creative_Cloud_for_enterprise_Service_Endpoints.pdf">https://helpx.adobe.com/content/dam/help/attachments/Creative_Cloud_for_enterprise_Service_Endpoints.pdf</A>
</I>&gt;<i> 
</I>
Ouch. Rather a lot of domain names and explicitly states that it is
incomplete.

Some of them are *extremely* popular (eg Twitter, Google Maps, Google
Play Store). WTF why does ACC need Google Maps access?


Maybe looking for a User-Agent header string matching the tools that
break will narrow it down to not allowing just anyone access to all
those services.


&gt;<i> I can write the list into a file, ok, but how can I setup the acl for
</I>&gt;<i> correct bypassig all the adresses from this list?
</I>&gt;<i> Is the &quot;allways_direct&quot; acl right?
</I>
No. 'always_direct allow' means &quot;dont use any cache_peer for this request&quot;.

There is no &quot;bypass&quot; directive. Every directive that you have configured
a need for auth to happen needs adjusting such that it also works
without that auth requirement when your new ACL(s) match the transaction.


&gt;<i> Should I place it before the LDAP
</I>&gt;<i> authentication part in squid.conf?
</I>
Yes. For every directive which currently requires an auth related test,
place a test which matches the 'bypass' ACL first, OR make it so that
you don't have to require the auth details at that point.
 NP: The latest Squid versions note ACL type which can be useful here to
test username (the note named 'user' contains the username) without
requiring that it exists nor triggering auth.


The 'best practice' design is to configure http_access with an ordered
structure like so:

 # The default / recommended security checks at the top
 # ending at that default line &quot;INSERT YOUR CUSTOM RULES BELOW HERE.&quot;

 # custom allow/deny rules that do not need auth

 # authenticate
 http_access deny !login

 # custom allow/deny rules that need auth credentials

 # and finally ...
 http_access deny all


The rest of your settings can assume that auth has taken place already
(*if* necessary) and not re-test it themselves.



&gt;<i> Is there more to work on?
</I>
Everything which uses an authentication, username, or group ACL test
needs looking at to see whether a bypass is needed.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018554.html">[squid-users] Adobe CC behing Squid
</A></li>
	<LI>Next message (by thread): <A HREF="018564.html">[squid-users] Adobe CC behing Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18556">[ date ]</a>
              <a href="thread.html#18556">[ thread ]</a>
              <a href="subject.html#18556">[ subject ]</a>
              <a href="author.html#18556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
