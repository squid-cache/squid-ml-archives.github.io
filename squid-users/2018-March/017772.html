<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Allow some domains to bypass Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Allow%20some%20domains%20to%20bypass%20Squid&In-Reply-To=%3C4b1411cfe126e0d679c4b74e10c57429%40mx.nanogherkin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017770.html">
   <LINK REL="Next"  HREF="017773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Allow some domains to bypass Squid</H1>
    <B>Alex Crow</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Allow%20some%20domains%20to%20bypass%20Squid&In-Reply-To=%3C4b1411cfe126e0d679c4b74e10c57429%40mx.nanogherkin.com%3E"
       TITLE="[squid-users] Allow some domains to bypass Squid">alex at nanogherkin.com
       </A><BR>
    <I>Sun Mar 11 15:48:35 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017770.html">[squid-users] Allow some domains to bypass Squid
</A></li>
        <LI>Next message (by thread): <A HREF="017773.html">[squid-users] Allow some domains to bypass Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17772">[ date ]</a>
              <a href="thread.html#17772">[ thread ]</a>
              <a href="subject.html#17772">[ subject ]</a>
              <a href="author.html#17772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>.
&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The alternative for ssl-bump is the splice action. For that you only
</I>&gt;&gt;<i> need to know the server names each company uses.
</I>&gt;<i> 
</I>
OP,

It would be a lot easier to just create exceptions on the squid device 
for sites where bumping doesn't work which cause then to be tunnelled or 
spliced rather then bumped. You can then at least use dstdomain or 
ssl:servername rules. dstdomain will let you tunnel or splice, whereas 
ssl servername you will only be able to splice as an SSL connection must 
already have been started AFAIK. Your firewall will probably need 
restarting every time one of the IP addresses behind those hostnames 
changes. Squid will at least do a lookup every request for dstdomain 
(you need a good DNS server nearby or on the squid box).

BTW, peek/splice/bump is not just install and forget. It needs 
maintenance and care in deployment.

Adding transparent into the mix makes it more difficult, as I can see 
you have found.

Try to keep the architecture as simple as you can and use each part to 
its best ability. Simple firewalls using hostnames for rules is a path 
to severe pain where round-robin is in place. Might be OK with a big, 
expensive FW appliance that has the ability to DNS lookup for every 
connection.

Cheers

Alex



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017770.html">[squid-users] Allow some domains to bypass Squid
</A></li>
	<LI>Next message (by thread): <A HREF="017773.html">[squid-users] Allow some domains to bypass Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17772">[ date ]</a>
              <a href="thread.html#17772">[ thread ]</a>
              <a href="subject.html#17772">[ subject ]</a>
              <a href="author.html#17772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
