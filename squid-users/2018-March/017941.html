<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to configure a &quot;proxy home&quot; page ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3C57cab373-2a9b-d1fc-c3e5-e34558303b47%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017940.html">
   <LINK REL="Next"  HREF="017942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to configure a &quot;proxy home&quot; page ?</H1>
    <B>Yuri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3C57cab373-2a9b-d1fc-c3e5-e34558303b47%40gmail.com%3E"
       TITLE="[squid-users] How to configure a &quot;proxy home&quot; page ?">yvoinov at gmail.com
       </A><BR>
    <I>Sun Mar 25 22:11:12 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017940.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
        <LI>Next message (by thread): <A HREF="017942.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17941">[ date ]</a>
              <a href="thread.html#17941">[ thread ]</a>
              <a href="subject.html#17941">[ subject ]</a>
              <a href="author.html#17941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>By the way, Amos. I have an idea spinning around. Is it possible to
specify the SSL error of the unknown certificate issuer for the correct
processing of the situation when the client does not have a proxy
certificate installed? This would greatly facilitate the task that we
are discussing.

We're can, in this case, just use deny_info to redirect client to proxy
page. ;-)


26.03.2018 04:05, Yuri &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> And yes, HTTPS is insecure by design and all our actions does not it
</I>&gt;<i> less insecure :-D
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 26.03.2018 04:03, Yuri &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;<i> 26.03.2018 03:55, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;&gt;<i> On 26/03/18 10:16, Yuri wrote:
</I>&gt;&gt;&gt;&gt;<i> 26.03.2018 03:02, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;&gt;&gt;&gt;<i> On 26/03/18 09:49, Yuri wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 26.03.2018 02:45, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> On 26/03/18 04:41, Yuri wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> 25.03.2018 20:32, Matus UHLAR - fantomas &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Le 25/03/2018 &#224; 13:08, Yuri a &#233;crit :
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> The problem is not install proxy CA. The problem is identify client
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> has no proxy CA and redirect, and do it only one time.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> On 25.03.18 13:46, Nicolas Kovacs wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> That is exactly the problem. And I have yet to find a solution for
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> that.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Current method is instruct everyone - with a printed paper in the
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> office
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> - to connect to proxy.company-name.lan and then get further
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> instructions
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> from the page. This works, but an automatic splash page would be more
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> elegant.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> 25.03.2018 18:42, Matus UHLAR - fantomas &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> impossible and unsafe. The CA must be installed before such splash
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> page shows
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> On 25.03.18 18:44, Yuri wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Possible. &quot;Safe/Unsafe&quot; should not be discussion when SSL Bump
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> implemented already.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> it's possible to install splash page, but not install trusted authority
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> certificate.&#160; Using such authority on a proxy is the MITM attack and
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> whole
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> SSL has been designed to prevent this.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Heh. If SSL designed - why SSL Bump itself possible? ;):-P
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> As all our SSL-Bump documentation should be saying:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>    when TLS is used properly SSL-Bump *does not work*.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> A client checking the cert validity and producing _its own_ error page
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> about missing/unknown/untrusted CA is one of those cases. Since the
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> client is producing the &quot;page&quot; itself there is no possibility of Squid
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> replacing that with something else.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Amos,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> squid is irrelevant here. &quot;Used properly&quot; and &quot;Implemented properly&quot;,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> and, especially, &quot;Designed properly&quot; - which means &quot;Secure by design&quot;,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> like SSH or The Onion Router.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> HTTPS is *NOT*.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> You are missing the point. Sometimes TLS *is* implemented properly.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Squid is very relevant here because it is the agent producing the
</I>&gt;&gt;&gt;&gt;&gt;<i> un-verifiable certificate. The certificate is un-verifiable exactly
</I>&gt;&gt;&gt;&gt;&gt;<i> because Squids own CA is being used and the client does not trust that CA.
</I>&gt;&gt;&gt;&gt;<i> Waaaaaaaa, Amos, why you say &quot;unverifiable&quot;? 
</I>&gt;&gt;&gt;<i> Because that is the situation. The client software cannot silently
</I>&gt;&gt;&gt;<i> verify the certificate nor automatically install the not-trusted CA to
</I>&gt;&gt;&gt;<i> cause that *previous* verification attempt to succeed.
</I>&gt;&gt;<i> Sure. User always should:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> a) Have root/administrative privilegies to install any CA in trusted
</I>&gt;&gt;<i> store on client
</I>&gt;&gt;<i> b) Device always asks users &quot;Hey, somebody tries to install CA with
</I>&gt;&gt;<i> fingerprint blah-blah-blah.... you trust them? Install? (Yes/No)&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We're not talking about forced silently push proxy CA to client, right?
</I>&gt;&gt;&gt;&gt;<i> You can show CA to users,
</I>&gt;&gt;&gt;<i> Er, you are now going in circles.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The initial problem was that it is not possible to verify the cert
</I>&gt;&gt;&gt;<i> automatically *without* showing the user things. Requiring the user to
</I>&gt;&gt;&gt;<i> see something to get around that problem ...
</I>&gt;&gt;<i> Yes. We're want just to determine - is proxy CA installed? and if not,
</I>&gt;&gt;<i> redirect user to page to make desicion - install/not install. Get
</I>&gt;&gt;<i> internet/remain locally ;)
</I>&gt;&gt;<i> On this page we're can inform user about all require things: our CPS,
</I>&gt;&gt;<i> our privacy policy, warnings, legal issues, CA fingerprint, CA issuer
</I>&gt;&gt;<i> etc. ;)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This seems better? All same like adult CA does :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We're all understand we're can't silently push any CA to client ;) This
</I>&gt;&gt;<i> is illegal, technically impossible, insecure....... ;)
</I>&gt;&gt;&gt;<i> Amos
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-- 
&quot;C++ seems like a language suitable for firing other people's legs.&quot;

*****************************
* C++20 : Bug to the future *
*****************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/291d49e6/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/291d49e6/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 659 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/291d49e6/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/291d49e6/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017940.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
	<LI>Next message (by thread): <A HREF="017942.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17941">[ date ]</a>
              <a href="thread.html#17941">[ thread ]</a>
              <a href="subject.html#17941">[ subject ]</a>
              <a href="author.html#17941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
