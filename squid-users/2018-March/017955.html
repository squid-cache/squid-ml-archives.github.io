<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to configure a &quot;proxy home&quot; page ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3CE286ADE35F919742812E3076A36122E701BFCAA911%40tdsnsumbx2vp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017954.html">
   <LINK REL="Next"  HREF="017959.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to configure a &quot;proxy home&quot; page ?</H1>
    <B>Sticher, Jascha</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3CE286ADE35F919742812E3076A36122E701BFCAA911%40tdsnsumbx2vp%3E"
       TITLE="[squid-users] How to configure a &quot;proxy home&quot; page ?">jascha.sticher at tds.fujitsu.com
       </A><BR>
    <I>Mon Mar 26 07:47:01 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017954.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
        <LI>Next message (by thread): <A HREF="017959.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17955">[ date ]</a>
              <a href="thread.html#17955">[ thread ]</a>
              <a href="subject.html#17955">[ subject ]</a>
              <a href="author.html#17955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I know this is quite off-topic, but I wanted to clarify a bit.

SSH and TLS both provide the same thing, namely a tunnel between a client and a server. While both use asymmetric crypto for authentication and symmetric crypto for data transfer and therefore the same algorithms (that's why openssh requires openssl/gnutls - as crypto library), they are independent protocols. SSH uses its own key format, which does not know such a thing as a CA &#8211; each server generates its own server key pair (or at least it should).[1,2]

As to SSH-MiTM, this is indeed possible, in two cases:
a) The server key is unknown to the client and not verified correctly (by the user!). Then a fake server can decrypt SSH and intercept everything.
b) The client validates server certificates incorrectly or is told ignore changes in the server key (eg. &#8220;-o StrictHostKeyChecking=no&#8221; with openssh)

There are some SSH-MITM solutions available on the internet.[3]

To conclude, if crypto is involved _every_ part of the conversation needs to do it _right_. Including the user.


Kind regards,

Jascha


[1] <A HREF="https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure">https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure</A>
[2] <A HREF="https://wiki.hetzner.de/index.php/Ed25519">https://wiki.hetzner.de/index.php/Ed25519</A> - hetzner shipped the same elliptic-curve host key on each host for a time
[2] e.g. <A HREF="https://github.com/mitmproxy/mitmproxy">https://github.com/mitmproxy/mitmproxy</A>



Von: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] Im Auftrag von Yuri
Gesendet: Montag, 26. M&#228;rz 2018 03:13
An: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Betreff: Re: [squid-users] How to configure a &quot;proxy home&quot; page ?



26.03.2018 07:08, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
On 26/03/18 13:44, Yuri wrote:


26.03.2018 06:41, Yuri &#1087;&#1080;&#1096;&#1077;&#1090;:

26.03.2018 06:30, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
On 26/03/18 12:34, Yuri wrote:
26.03.2018 05:23, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
On 26/03/18 12:07, Yuri wrote:
26.03.2018 05:05, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
On 26/03/18 11:05, Yuri wrote:


On 26/03/18 12:34, Yuri wrote:&gt;
26.03.2018 05:23, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
This is what I mean by &quot;TLS used properly&quot; - proper is when it always
circles back to user deciding who they trust. No matter how indirectly,
the user installs a (root) CA causing trust or allowed someone else to
do so.
Generally speaking, yes.

I just mean, that in some other protocols you have no any possibility to
make MiTM by any way, whenever installing something or not. This
prevents any improper or malicious use of protocol.

TLS*have* this possibility. SSH is *not*. You can't MiTM or compromise
SSH by installing any key/certs to client. Correct? This is by design?
No. SSH is just TCP/telnet over TLS. So if the SSH software were to
trust the cert/key Squid delivers one could use SSL-Bump on that SSH
traffic.
You sure?

<A HREF="https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl">https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl</A>

Quote: &quot;SSH has its own transport protocol independent from SSL, so that
means SSH DOES NOT use SSL under the hood.&quot;

Because I'm not. Different sources tells opposite.
I'm sure SSH using openssl under the hood. But not sure it uses same
tunneling implementation like TLS-over-HTTP. And now it is still unknown
any method to MiTM SSH, AFAIK.

I'm not 100% sure, but it uses the same message framing as TLS and
performs the same handshake sequence and security verifications.
This is not the same as transport, yes? Because of transport is primary target for bumping.



That said *SSL* _is_ different from TLS so the quote is technically
correct either way.
It seems to me that the difference is not of principle. Both SSL and TLS use the same architecture, in which, in principle, it is possible to have an MiTM certificate, which one of the parties trusts.


Amos

Erleben Sie Industrie 4.0 konkret &#8211; auf der HANNOVER MESSE.
Vom 23. bis 27. April 2018.
www.fujitsu.com/de/microsite/hmi/register/index.html?utm_source=Email&amp;utm_medium=Signature%20EMail&amp;utm_campaign=HANNOVER%20MESSE%20DE&amp;utm_term=&amp;utm_content=Ticket-anfordern

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


--
&quot;C++ seems like a language suitable for firing other people's legs.&quot;

*****************************
* C++20 : Bug to the future *
*****************************
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017954.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
	<LI>Next message (by thread): <A HREF="017959.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17955">[ date ]</a>
              <a href="thread.html#17955">[ thread ]</a>
              <a href="subject.html#17955">[ subject ]</a>
              <a href="author.html#17955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
