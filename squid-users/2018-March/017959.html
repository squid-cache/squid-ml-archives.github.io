<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to configure a &quot;proxy home&quot; page ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3C9b071499-9071-b512-c8de-6a7ef06f48cd%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017955.html">
   <LINK REL="Next"  HREF="017965.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to configure a &quot;proxy home&quot; page ?</H1>
    <B>Yuri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20configure%20a%20%22proxy%20home%22%20page%20%3F&In-Reply-To=%3C9b071499-9071-b512-c8de-6a7ef06f48cd%40gmail.com%3E"
       TITLE="[squid-users] How to configure a &quot;proxy home&quot; page ?">yvoinov at gmail.com
       </A><BR>
    <I>Mon Mar 26 13:16:37 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017955.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
        <LI>Next message (by thread): <A HREF="017965.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17959">[ date ]</a>
              <a href="thread.html#17959">[ thread ]</a>
              <a href="subject.html#17959">[ subject ]</a>
              <a href="author.html#17959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Disagree.

My point about TLS is quite different.

SSH, by design, assumes end-to-end encryption and do not assumes any
third-party treats as trusty, like TLS does. SSH immediately notice you
when server key surprisingly changed. Any MiTM in SSH tunnel immediately
breaks connection. Of course, you can steal client private key, you can
break private key password. But you can't easy become fake server or
intermediate hop and silently decrypt tunneled SSH traffic. You can't do
this by design.

Basics of TLS (in HTTPS implementation) assumes trusted third-party,
which is authenticate both sides of conversations (i.e. Bob and Alice).
I.e., in case of this third party becomes untrusted by any reason (as
practice has shown, it is very likely), it can silently decrypt Bob and
Alice conversation without any notification - you still see green lock.
Here we're can not talking about SSL Bump itself. Just imagine - not
only you can do it with squid, but any who can get intermediate CA
signed by trusted root CA.

Yes, users is involved in both cases. However the difference still here.
SSH is end-to-end always by design (we're not talking about things like
Kerberos here), TLS is not.


26.03.2018 13:47, Sticher, Jascha &#1087;&#1080;&#1096;&#1077;&#1090;:
&gt;<i> Hi everyone,
</I>&gt;<i>
</I>&gt;<i> I know this is quite off-topic, but I wanted to clarify a bit.
</I>&gt;<i>
</I>&gt;<i> SSH and TLS both provide the same thing, namely a tunnel between a client and a server. While both use asymmetric crypto for authentication and symmetric crypto for data transfer and therefore the same algorithms (that's why openssh requires openssl/gnutls - as crypto library), they are independent protocols. SSH uses its own key format, which does not know such a thing as a CA &#8211; each server generates its own server key pair (or at least it should).[1,2]
</I>&gt;<i>
</I>&gt;<i> As to SSH-MiTM, this is indeed possible, in two cases:
</I>&gt;<i> a) The server key is unknown to the client and not verified correctly (by the user!). Then a fake server can decrypt SSH and intercept everything.
</I>&gt;<i> b) The client validates server certificates incorrectly or is told ignore changes in the server key (eg. &#8220;-o StrictHostKeyChecking=no&#8221; with openssh)
</I>&gt;<i>
</I>&gt;<i> There are some SSH-MITM solutions available on the internet.[3]
</I>&gt;<i>
</I>&gt;<i> To conclude, if crypto is involved _every_ part of the conversation needs to do it _right_. Including the user.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i>
</I>&gt;<i> Jascha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure">https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure</A>
</I>&gt;<i> [2] <A HREF="https://wiki.hetzner.de/index.php/Ed25519">https://wiki.hetzner.de/index.php/Ed25519</A> - hetzner shipped the same elliptic-curve host key on each host for a time
</I>&gt;<i> [2] e.g. <A HREF="https://github.com/mitmproxy/mitmproxy">https://github.com/mitmproxy/mitmproxy</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Von: squid-users [mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>] Im Auftrag von Yuri
</I>&gt;<i> Gesendet: Montag, 26. M&#228;rz 2018 03:13
</I>&gt;<i> An: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Betreff: Re: [squid-users] How to configure a &quot;proxy home&quot; page ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 26.03.2018 07:08, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> On 26/03/18 13:44, Yuri wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 26.03.2018 06:41, Yuri &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i>
</I>&gt;<i> 26.03.2018 06:30, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> On 26/03/18 12:34, Yuri wrote:
</I>&gt;<i> 26.03.2018 05:23, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> On 26/03/18 12:07, Yuri wrote:
</I>&gt;<i> 26.03.2018 05:05, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> On 26/03/18 11:05, Yuri wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 26/03/18 12:34, Yuri wrote:&gt;
</I>&gt;<i> 26.03.2018 05:23, Amos Jeffries &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> This is what I mean by &quot;TLS used properly&quot; - proper is when it always
</I>&gt;<i> circles back to user deciding who they trust. No matter how indirectly,
</I>&gt;<i> the user installs a (root) CA causing trust or allowed someone else to
</I>&gt;<i> do so.
</I>&gt;<i> Generally speaking, yes.
</I>&gt;<i>
</I>&gt;<i> I just mean, that in some other protocols you have no any possibility to
</I>&gt;<i> make MiTM by any way, whenever installing something or not. This
</I>&gt;<i> prevents any improper or malicious use of protocol.
</I>&gt;<i>
</I>&gt;<i> TLS*have* this possibility. SSH is *not*. You can't MiTM or compromise
</I>&gt;<i> SSH by installing any key/certs to client. Correct? This is by design?
</I>&gt;<i> No. SSH is just TCP/telnet over TLS. So if the SSH software were to
</I>&gt;<i> trust the cert/key Squid delivers one could use SSL-Bump on that SSH
</I>&gt;<i> traffic.
</I>&gt;<i> You sure?
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl">https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl</A>
</I>&gt;<i>
</I>&gt;<i> Quote: &quot;SSH has its own transport protocol independent from SSL, so that
</I>&gt;<i> means SSH DOES NOT use SSL under the hood.&quot;
</I>&gt;<i>
</I>&gt;<i> Because I'm not. Different sources tells opposite.
</I>&gt;<i> I'm sure SSH using openssl under the hood. But not sure it uses same
</I>&gt;<i> tunneling implementation like TLS-over-HTTP. And now it is still unknown
</I>&gt;<i> any method to MiTM SSH, AFAIK.
</I>&gt;<i>
</I>&gt;<i> I'm not 100% sure, but it uses the same message framing as TLS and
</I>&gt;<i> performs the same handshake sequence and security verifications.
</I>&gt;<i> This is not the same as transport, yes? Because of transport is primary target for bumping.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That said *SSL* _is_ different from TLS so the quote is technically
</I>&gt;<i> correct either way.
</I>&gt;<i> It seems to me that the difference is not of principle. Both SSL and TLS use the same architecture, in which, in principle, it is possible to have an MiTM certificate, which one of the parties trusts.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> Erleben Sie Industrie 4.0 konkret &#8211; auf der HANNOVER MESSE.
</I>&gt;<i> Vom 23. bis 27. April 2018.
</I>&gt;<i> www.fujitsu.com/de/microsite/hmi/register/index.html?utm_source=Email&amp;utm_medium=Signature%20EMail&amp;utm_campaign=HANNOVER%20MESSE%20DE&amp;utm_term=&amp;utm_content=Ticket-anfordern
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> &quot;C++ seems like a language suitable for firing other people's legs.&quot;
</I>&gt;<i>
</I>&gt;<i> *****************************
</I>&gt;<i> * C++20 : Bug to the future *
</I>&gt;<i> *****************************
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
-- 
&quot;C++ seems like a language suitable for firing other people's legs.&quot;

*****************************
* C++20 : Bug to the future *
*****************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/60774c41/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/60774c41/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 659 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/60774c41/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180326/60774c41/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017955.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
	<LI>Next message (by thread): <A HREF="017965.html">[squid-users] How to configure a &quot;proxy home&quot; page ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17959">[ date ]</a>
              <a href="thread.html#17959">[ thread ]</a>
              <a href="subject.html#17959">[ subject ]</a>
              <a href="author.html#17959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
