<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Disable SSLv3 Not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Disable%20SSLv3%20Not%20working&In-Reply-To=%3C106f40f1-b0a2-0f6f-8866-4f67d2023279%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018003.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Disable SSLv3 Not working</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Disable%20SSLv3%20Not%20working&In-Reply-To=%3C106f40f1-b0a2-0f6f-8866-4f67d2023279%40treenet.co.nz%3E"
       TITLE="[squid-users] Disable SSLv3 Not working">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Mar 31 02:29:45 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018003.html">[squid-users] Disable SSLv3 Not working
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18004">[ date ]</a>
              <a href="thread.html#18004">[ thread ]</a>
              <a href="subject.html#18004">[ subject ]</a>
              <a href="author.html#18004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 31/03/18 11:41, squid wrote:
&gt;<i> We are using squid as reverse proxy and we have disabled SSLv3 :
</I>&gt;<i> 
</I>&gt;<i> https_port ... options=NO_SSLv2,NO_SSLv3,SINGLE_DH_USE,CIPHER_SERVER_PREFERENCE cipher=ECDHE-ECDSA . . .. dhparams=/etc/...dhparams.pem
</I>
NP: Squid-3.5 or later is required for EC cipher support.


&gt;<i> 
</I>&gt;<i> Using Nessus scanning tool, it reports that SSLv3 is enabled, but not SSLv2.   Looking at the ssl handshake client hello and server hellos is does seem that the sslv3 is being used.  Is there something that we are missing?
</I>&gt;<i> 
</I>&gt;<i> Version of Squid  (3.1) is stock RH6 which I know is old, but for now we need to use.  We will be upgrading to RH7, but it may be a little while so I'd like to get this solved. 
</I>&gt;<i> 
</I>&gt;<i> Secure Sockets Layer
</I>&gt;<i>     SSLv3 Record Layer: Handshake Protocol: Server Hello
</I>&gt;<i>         Content Type: Handshake (22)
</I>&gt;<i>         Version: SSL 3.0 (0x0300)
</I>&gt;<i>         Length: 74
</I>&gt;<i>         Handshake Protocol: Server Hello
</I>&gt;<i>             Handshake Type: Server Hello (2)
</I>&gt;<i>             Length: 70
</I>&gt;<i>             Version: SSL 3.0 (0x0300)
</I>&gt;<i>             Random: 5aa83ae26555f6dcc7042c341d090c6715a243a7be05d69b...
</I>&gt;<i>             Session ID Length: 32
</I>&gt;<i>             Session ID: 44bb10e985c067cc987bf2e698d458dd37d2b3c469ce9fe7...
</I>&gt;<i>             Cipher Suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA (0x0039)
</I>&gt;<i>             Compression Method: null (0)
</I>
Which of the TCP connections was that hello performed on?

You have apparently only disabled SSLv3 on the client-&gt;Squid connection.
No information is provided about the Squid-&gt;server settings
(sslproxy_options).


Also, these options are handled by OpenSSL. They only work if the
library Squid was built against supports them.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018003.html">[squid-users] Disable SSLv3 Not working
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18004">[ date ]</a>
              <a href="thread.html#18004">[ thread ]</a>
              <a href="subject.html#18004">[ subject ]</a>
              <a href="author.html#18004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
