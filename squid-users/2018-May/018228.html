<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Getting WebSocket without Upgrage/Connection headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Getting%20WebSocket%20without%20Upgrage/Connection%20headers&In-Reply-To=%3C1525912311222-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018234.html">
   <LINK REL="Next"  HREF="018230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Getting WebSocket without Upgrage/Connection headers</H1>
    <B>OlegH1</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Getting%20WebSocket%20without%20Upgrage/Connection%20headers&In-Reply-To=%3C1525912311222-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Getting WebSocket without Upgrage/Connection headers">h1179169 at nwytg.com
       </A><BR>
    <I>Thu May 10 00:31:51 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018234.html">[squid-users] PID file /var/run/squid.pid not readable AND Supervising process XXX which is not our child
</A></li>
        <LI>Next message (by thread): <A HREF="018230.html">[squid-users] Getting WebSocket without Upgrage/Connection headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18228">[ date ]</a>
              <a href="thread.html#18228">[ thread ]</a>
              <a href="subject.html#18228">[ subject ]</a>
              <a href="author.html#18228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm seeing some users of mine use squid proxy and cannot connect via
WebSocket because the Upgrade and Connection headers are striped. All
connections are over <A HREF="wss://">wss://</A> (TLS).

My question is how possible that squid decrypts the packet, omit those
headers and encrypt. I saw there is a &quot;SSL bump&quot; extension that allows it (I
guess the &quot;fake&quot; cert should be install in the computers explicitly) - but
even if it's possible, why those headers are stripped?

I saw several topics regard this issue, but didn't really understand the
problem. If someone set a squid proxy with SSL bump, how is it even possible
that squid blocks it? I tried to use squid locally on my computer and it
looks that those headers passed just fine (connection initiated correctly),
so why is it mentioned that those headers are not supported?

Sorry - I'm confused a bit:)

Thanks!



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018234.html">[squid-users] PID file /var/run/squid.pid not readable AND Supervising process XXX which is not our child
</A></li>
	<LI>Next message (by thread): <A HREF="018230.html">[squid-users] Getting WebSocket without Upgrage/Connection headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18228">[ date ]</a>
              <a href="thread.html#18228">[ thread ]</a>
              <a href="subject.html#18228">[ subject ]</a>
              <a href="author.html#18228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
