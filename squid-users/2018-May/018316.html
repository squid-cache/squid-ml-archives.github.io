<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] cache_peer to SSL/TLS proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache_peer%20to%20SSL/TLS%20proxy&In-Reply-To=%3C6746e19b-9db0-1181-f17d-6f9b9968b95e%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018332.html">
   <LINK REL="Next"  HREF="018317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] cache_peer to SSL/TLS proxy</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cache_peer%20to%20SSL/TLS%20proxy&In-Reply-To=%3C6746e19b-9db0-1181-f17d-6f9b9968b95e%40measurement-factory.com%3E"
       TITLE="[squid-users] cache_peer to SSL/TLS proxy">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon May 21 16:58:55 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="018332.html">[squid-users] cache_peer to SSL/TLS proxy
</A></li>
        <LI>Next message (by thread): <A HREF="018317.html">[squid-users] Cert download from AIA information succeeds yet Squid reports ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18316">[ date ]</a>
              <a href="thread.html#18316">[ thread ]</a>
              <a href="subject.html#18316">[ subject ]</a>
              <a href="author.html#18316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/21/2018 10:22 AM, Carlos Cesar Caballero D&#237;az wrote:

&gt;<i> Right now I am working against a squid proxy wich is using SSL/TLS
</I>&gt;<i> (encrypted browser-squid connection) and as you know there are a lot of
</I>&gt;<i> applications that does not work with this kind of proxy configuration.
</I>&gt;<i> In other ocations, I have been able to avoid some proxy issues
</I>&gt;<i> installing a local squid and using cache_peer, so that my local squid
</I>&gt;<i> handle the nasty parent configurations and my applications can work
</I>&gt;<i> cleanly against the local instance. So, can I use cache_peer against a
</I>&gt;<i> parent proxy whish is using SSL/TLS for encrypted browser-squid
</I>&gt;<i> connection? An if it is possible, How?
</I>
Do you want to configure your Squid proxy to use proxy B as a parent
when proxy B insists on all connections to it being encrypted? If yes,
please see the various cache_peer options that start with letters &quot;tls&quot;
and &quot;ssl&quot;:

&gt;<i> 	==== SSL / HTTPS / TLS OPTIONS ====
</I>&gt;<i> 	
</I>&gt;<i> 	tls		Encrypt connections to this peer with TLS.
</I>...


I have not tested the HTTPS parent setup discussed above, but it looks
like it should work in principle.

Please note that, AFAIK, Squid does not support HTTPS parents for many
SslBump configurations that require looking at TLS server Hello packets
-- there is currently no support for TLS inside TLS.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="018332.html">[squid-users] cache_peer to SSL/TLS proxy
</A></li>
	<LI>Next message (by thread): <A HREF="018317.html">[squid-users] Cert download from AIA information succeeds yet Squid reports ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18316">[ date ]</a>
              <a href="thread.html#18316">[ thread ]</a>
              <a href="subject.html#18316">[ subject ]</a>
              <a href="author.html#18316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
