<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] 3.5.27 to 4.4: a worker is dead
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.5.27%20to%204.4%3A%20a%20worker%20is%20dead&In-Reply-To=%3C49657bef-98fa-c109-4f8f-95fb767df71d%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019644.html">
   <LINK REL="Next"  HREF="019648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] 3.5.27 to 4.4: a worker is dead</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%203.5.27%20to%204.4%3A%20a%20worker%20is%20dead&In-Reply-To=%3C49657bef-98fa-c109-4f8f-95fb767df71d%40measurement-factory.com%3E"
       TITLE="[squid-users] 3.5.27 to 4.4: a worker is dead">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Nov  8 06:07:36 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019644.html">[squid-users] 3.5.27 to 4.4: a worker is dead
</A></li>
        <LI>Next message (by thread): <A HREF="019648.html">[squid-users] 3.5.27 to 4.4: a worker is dead
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19645">[ date ]</a>
              <a href="thread.html#19645">[ thread ]</a>
              <a href="subject.html#19645">[ subject ]</a>
              <a href="author.html#19645">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/7/18 8:32 PM, Amos Jeffries wrote:

&gt;&gt;<i> 2018/11/07 07:17:03 kid4| WARNING: disk-cache maximum object size is too
</I>&gt;&gt;<i> large for mem-cache: 4194304.00 KB &gt; 2048.00 KB
</I>
&gt;<i> It is part of rock design that the cache contents have to be able to be
</I>&gt;<i> stored in memory.
</I>
FTR, the above statement is incorrect: There is no such requirement in
rock design. Needless to say, on-disk objects larger than maximum
in-memory object size cannot be cached in memory, but that is true for
any Squid configurations, not just those using rock cache_dirs.


&gt;<i> rock was designed for caches in the MB ranges
</I>
The above statement is also incorrect: Rock was designed for GBs and
even TBs worth of cached content. There are still many things that can
be done in rock to support large caches better, of course, but
optimizing MBs-sized caches specifically was never a design objective.


&gt;<i> Keep in mind that rock was designed and optimized for caches of several
</I>&gt;<i> hundred *MB* with millions of small 0-32KB sized objects.
</I>
Optimized? Probably -- most cached objects in most deployment
environments are indeed small.

Designed? No. One of the LargeRock project explicit goals was support
for cached objects that are several GBs in size:
<A HREF="https://wiki.squid-cache.org/Features/LargeRockStore">https://wiki.squid-cache.org/Features/LargeRockStore</A>


&gt;<i> Squid caching is intended for the two types to work together for best
</I>&gt;<i> performance at all object size ranges.
</I>
Not really: Rock cache_dirs should not be used together with UFS-based
disk caches, especially in SMP environments where UFS-based disk caches
should not be used at all.


I realize that the above corrections may not help resolve the problem OP
is facing. I just did not want those misstatements to be archived
unaddressed.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019644.html">[squid-users] 3.5.27 to 4.4: a worker is dead
</A></li>
	<LI>Next message (by thread): <A HREF="019648.html">[squid-users] 3.5.27 to 4.4: a worker is dead
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19645">[ date ]</a>
              <a href="thread.html#19645">[ thread ]</a>
              <a href="subject.html#19645">[ subject ]</a>
              <a href="author.html#19645">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
