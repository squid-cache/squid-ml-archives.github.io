<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] X-Forwarded-For
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20X-Forwarded-For&In-Reply-To=%3CCAEnCSG4X-%3D96nxEhRXThYXALQ%3D%2BFi%3D8Bgb5Zhn1xfMMwLBTW1w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019657.html">
   <LINK REL="Next"  HREF="019659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] X-Forwarded-For</H1>
    <B>Michael Pelletier</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20X-Forwarded-For&In-Reply-To=%3CCAEnCSG4X-%3D96nxEhRXThYXALQ%3D%2BFi%3D8Bgb5Zhn1xfMMwLBTW1w%40mail.gmail.com%3E"
       TITLE="[squid-users] X-Forwarded-For">michael.pelletier at palmbeachschools.org
       </A><BR>
    <I>Sat Nov 10 02:15:35 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019657.html">[squid-users] X-Forwarded-For
</A></li>
        <LI>Next message (by thread): <A HREF="019659.html">[squid-users] X-Forwarded-For
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19658">[ date ]</a>
              <a href="thread.html#19658">[ thread ]</a>
              <a href="subject.html#19658">[ subject ]</a>
              <a href="author.html#19658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Perhapse your Squid has been patched to remove it ?

I am running 3.5.28. I have not installed any patches.

Perhapse you are looking at the wrong headers ?
 X-Forwarded-For is only added to the request headers sent to servers.

Yes. The XFF should be added to the request header and be seen by the
server the proxy is communicating with. I have a sniffer on the outside
(Internet side) of the proxy and have confirmed the XFF is not being added.

Perhapse you have a later config line setting forwarded_for to &quot;delete&quot;
or &quot;transparent&quot; ?

I have the line &quot;forwarded_for on&quot;

On Fri, Nov 9, 2018 at 7:35 PM Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:

&gt;<i> On 10/11/18 9:05 AM, Michael Pelletier wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt; I am running squid 3.5.28 and for some reason I can not get
</I>&gt;<i> &gt; X-Forwarded-For added to the http headers. I have &quot;forwarded_for on&quot; and
</I>&gt;<i> &gt; &quot;via on&quot; set in the squid.conf. Any ideas why this will not work?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Perhapse your Squid has been patched to remove it ?
</I>&gt;<i>
</I>&gt;<i> Perhapse you are looking at the wrong headers ?
</I>&gt;<i>  X-Forwarded-For is only added to the request headers sent to servers.
</I>&gt;<i>
</I>&gt;<i> Perhapse you have a later config line setting forwarded_for to &quot;delete&quot;
</I>&gt;<i> or &quot;transparent&quot; ?
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>
-- 






*Disclaimer:&#160;*Under Florida law, e-mail addresses are public records. 
If you do not want your e-mail address released in response to a public 
records request, do not send electronic mail to this entity. Instead, 
contact this office by phone or in writing.







-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20181109/afb3b25e/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20181109/afb3b25e/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019657.html">[squid-users] X-Forwarded-For
</A></li>
	<LI>Next message (by thread): <A HREF="019659.html">[squid-users] X-Forwarded-For
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19658">[ date ]</a>
              <a href="thread.html#19658">[ thread ]</a>
              <a href="subject.html#19658">[ subject ]</a>
              <a href="author.html#19658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
