<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] redirect based on url (302)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20redirect%20based%20on%20url%20%28302%29&In-Reply-To=%3C2344831d-905b-ad7c-60b9-09254d81b93e%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019683.html">
   <LINK REL="Next"  HREF="019611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] redirect based on url (302)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20redirect%20based%20on%20url%20%28302%29&In-Reply-To=%3C2344831d-905b-ad7c-60b9-09254d81b93e%40treenet.co.nz%3E"
       TITLE="[squid-users] redirect based on url (302)">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Nov 16 09:57:24 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019683.html">[squid-users] redirect based on url (302)
</A></li>
        <LI>Next message (by thread): <A HREF="019611.html">[squid-users] Squid 4.3: SSL Bump fails to send client	certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19684">[ date ]</a>
              <a href="thread.html#19684">[ thread ]</a>
              <a href="subject.html#19684">[ subject ]</a>
              <a href="author.html#19684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/11/18 9:22 PM, uppsalanet wrote:
&gt;<i> Just for documentation purpose. Amos suggestion works perfect:
</I>&gt;<i> /##### Ext magazine domains
</I>&gt;<i> debug_options 11,10 58,10 82,10
</I>&gt;<i> acl 302 http_status 302
</I>&gt;<i> acl browzine dstdomain .browzine.com .thirdiron.com
</I>&gt;<i> http_access allow browzine
</I>&gt;<i> 
</I>&gt;<i> external_acl_type whitelist_add ttl=10 %SRC %&lt;h{Location}
</I>&gt;<i> /etc/squid/add2db.pl
</I>&gt;<i> 
</I>&gt;<i> acl add_to_whitelist external whitelist_add
</I>&gt;<i> http_reply_access allow browzine 302 add_to_whitelist
</I>&gt;<i> http_reply_access allow all
</I>&gt;<i> ##### Ext magazine domains &lt;/i&gt;
</I>&gt;<i> 
</I>&gt;<i> Why it's not working for me is that the site Im reaching have turned on
</I>&gt;<i> https encryption. TLS encrypted tunnel prevents me from seeing HTTP headers,
</I>&gt;<i> which means I cannot distinguish individual responses :-(
</I>&gt;<i> 
</I>

The only way around that is to intercept and decrypt the HTTPS using
Squid's SSL-Bump features.
 &lt;<A HREF="https://wiki.squid-cache.org/Features/SslPeekAndSplice">https://wiki.squid-cache.org/Features/SslPeekAndSplice</A>&gt;

SSL-Bump requires that you are in a situation where you can install
trusted CA certificates into all client devices. Even if the decrypt is
possible there are legal implications which vary around the world, so
please do check with a lawyer before going ahead with it.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019683.html">[squid-users] redirect based on url (302)
</A></li>
	<LI>Next message (by thread): <A HREF="019611.html">[squid-users] Squid 4.3: SSL Bump fails to send client	certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19684">[ date ]</a>
              <a href="thread.html#19684">[ thread ]</a>
              <a href="subject.html#19684">[ subject ]</a>
              <a href="author.html#19684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
