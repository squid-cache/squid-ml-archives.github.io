<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] acl declaration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20acl%20declaration&In-Reply-To=%3C3093938c-5ae8-36d1-7f56-b3917bb8b94f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019366.html">
   <LINK REL="Next"  HREF="019367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] acl declaration</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20acl%20declaration&In-Reply-To=%3C3093938c-5ae8-36d1-7f56-b3917bb8b94f%40measurement-factory.com%3E"
       TITLE="[squid-users] acl declaration">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Oct  4 21:15:22 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019366.html">[squid-users] acl declaration
</A></li>
        <LI>Next message (by thread): <A HREF="019367.html">[squid-users] multiple requests from single URL on web page?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19369">[ date ]</a>
              <a href="thread.html#19369">[ thread ]</a>
              <a href="subject.html#19369">[ subject ]</a>
              <a href="author.html#19369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/04/2018 12:40 PM, Alex Guti&#233;rrez Mart&#237;nez wrote:

&gt;<i> http_access deny trabajo sociales !pcinternet !adminred oficina
</I>
This rule denies any request that matches each and every acl expression
listed in the rule. You have 5 such expressions: trabajo, sociales, not
pcinternet, not adminred, and oficina.


&gt;<i> Do i write the rule like above or like this
</I>
The correct configuration depends on what you want Squid to do. You have
not provided that information explicitly AFAICT, and I am not going to
guess.


&gt;<i> http_access deny trabajo sociales !pcinternet
</I>&gt;<i> http_access deny trabajo sociales !adminred
</I>&gt;<i> http_access deny trabajo sociales oficina
</I>
The above three rules deny any request that matches at least one of the
following three ACL expressions:

1. trabajo and sociales but not pcinternet
2. trabajo and sociales but not adminred
3. trabajo and sociales and oficina


Here is all you need to know to answer your specific question and many
similar ones:

* First, same-rule ACLs are ANDed together (logical conjunction).
  This tells you what an individual http_access rule matches.

* Next, all http_access rules are ORed together (logical disjunction).
  This tells you what http_access configuration, as a whole, matches.

rule[i] = acl1 AND acl2 AND acl3 AND ...
http_access = rule1 OR rule2 OR ...


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019366.html">[squid-users] acl declaration
</A></li>
	<LI>Next message (by thread): <A HREF="019367.html">[squid-users] multiple requests from single URL on web page?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19369">[ date ]</a>
              <a href="thread.html#19369">[ thread ]</a>
              <a href="subject.html#19369">[ subject ]</a>
              <a href="author.html#19369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
