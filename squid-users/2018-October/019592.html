<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid proxy not working when upgrade from 27 to	3.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20proxy%20not%20working%20when%20upgrade%20from%2027%20to%0A%093.5&In-Reply-To=%3C229c8ded-9841-8551-dc54-c0bf9ee2d28d%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019587.html">
   <LINK REL="Next"  HREF="019576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid proxy not working when upgrade from 27 to	3.5</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20proxy%20not%20working%20when%20upgrade%20from%2027%20to%0A%093.5&In-Reply-To=%3C229c8ded-9841-8551-dc54-c0bf9ee2d28d%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid proxy not working when upgrade from 27 to	3.5">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Oct 31 01:55:18 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019587.html">[squid-users] Squid proxy not working when upgrade from 27 to	3.5
</A></li>
        <LI>Next message (by thread): <A HREF="019576.html">[squid-users] Squid proxy not working when upgrade from 27 to	3.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19592">[ date ]</a>
              <a href="thread.html#19592">[ thread ]</a>
              <a href="subject.html#19592">[ subject ]</a>
              <a href="author.html#19592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/10/18 4:15 PM, Angus J. wrote:
&gt;<i> Hi Amos
</I>&gt;<i> 
</I>&gt;<i> Can I just copy the all squid configure file at /etc/squid/ from 2.7 to 3.5
</I>&gt;<i> ?
</I>&gt;<i> 
</I>
Sometimes, but usually not *just* that.

The problem is that Squid-2.7 very old and also 2.6 &amp; 2.7 was a fork of
the even older Squid-2.5 code. There have been quite a lot of changes to
squid.conf in the 12 years between 2.5 and 3.5, and v2.7 does some
things a bit differently to both.

The squid -k parse mechanism was added to help reduce the problems
encountered with upgrades. So you can have the squid-3 tell you what it
understands about the older config files.

As you should have noticed when I got you to run -k parse earlier there
were things coming up as FATAL and ERROR in your particular config file.
That means Squid will not even start until the config is changed to the
Squid-3.x settings.


FWIW: Marcus and I are trying to get you to the point where your Squid
will run and do what you have told us it is supposed to be doing. The
problems you are having in the latest few days are because you went and
changed other things (the cache_peer lines) beside what we pointed out -
which broken the proxy again in a different way.

It's okay that you don't know what you are doing. This list is in part
for helping people learn to operate Squid. Just try not to go too fast
of more breakage will occur.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019587.html">[squid-users] Squid proxy not working when upgrade from 27 to	3.5
</A></li>
	<LI>Next message (by thread): <A HREF="019576.html">[squid-users] Squid proxy not working when upgrade from 27 to	3.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19592">[ date ]</a>
              <a href="thread.html#19592">[ thread ]</a>
              <a href="subject.html#19592">[ subject ]</a>
              <a href="author.html#19592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
