<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] a decent way to speed up Facebook?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20a%20decent%20way%20to%20speed%20up%20Facebook%3F&In-Reply-To=%3C59802606-1188-c582-e479-b958d7b495d2%40kalfaoglu.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019125.html">
   <LINK REL="Next"  HREF="019128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] a decent way to speed up Facebook?</H1>
    <B>turgut kalfao&#287;lu</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20a%20decent%20way%20to%20speed%20up%20Facebook%3F&In-Reply-To=%3C59802606-1188-c582-e479-b958d7b495d2%40kalfaoglu.com%3E"
       TITLE="[squid-users] a decent way to speed up Facebook?">turgut at kalfaoglu.com
       </A><BR>
    <I>Tue Sep  4 16:44:43 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019125.html">[squid-users] Squid Kerberos helper leaking memory - OpenBSD 6.3
</A></li>
        <LI>Next message (by thread): <A HREF="019128.html">[squid-users] a decent way to speed up Facebook?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19124">[ date ]</a>
              <a href="thread.html#19124">[ thread ]</a>
              <a href="subject.html#19124">[ subject ]</a>
              <a href="author.html#19124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello there. I have a transparent squid at my home to speed up the 
browsing by caching stuff.&#160; And it works well for HTTP.

For HTTPS, I was only able to get it to &quot;peek&quot; and I'd like to able to 
bump the connections.

I installed the server certificate on the client, but still, the browser 
(firefox) keeps complaining:

Your connection is not secure
The owner of www.facebook.com has configured their website improperly. 
To protect your information from being stolen, Firefox has not connected 
to this website.
This site uses HTTP Strict Transport Security (HSTS) to specify that 
Firefox may only connect to it securely. As a result, it is not possible 
to add an exception for this certificate.

Here is what I have:
#
# serverIsBank is a list of domains that are banks essentially. They 
seem more picky.
#
ssl_bump splice serverIsBank
ssl_bump peek all
# ssl_bump bump all&#160;&#160;&#160; # this does not work, it gives the error above..

https_port 3129 intercept ssl-bump \
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; generate-host-certificates=on dynamic_cert_mem_cache_size=4MB \
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; cert=/etc/squid/ssl_cert/tk2ca.pem 
key=/etc/squid/ssl_cert/tk2ca.pem \
 &#160;&#160;&#160;&#160;&#160;&#160; sslflags=NO_SESSION_REUSE
tls_outgoing_options cafile=/etc/pki/tls/certs/ca-bundle.crt
sslproxy_cert_adapt setCommonName ssl::certDomainMismatch
sslproxy_cert_error allow all
sslcrtd_program&#160; /usr/lib64/squid/security_file_certgen&#160; -s 
/var/lib/ssl_db -M $
sslcrtd_children 50 startup=5 idle=5


Thanks, -turgut


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20180904/11ac6418/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20180904/11ac6418/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019125.html">[squid-users] Squid Kerberos helper leaking memory - OpenBSD 6.3
</A></li>
	<LI>Next message (by thread): <A HREF="019128.html">[squid-users] a decent way to speed up Facebook?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19124">[ date ]</a>
              <a href="thread.html#19124">[ thread ]</a>
              <a href="subject.html#19124">[ subject ]</a>
              <a href="author.html#19124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
