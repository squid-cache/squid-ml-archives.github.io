<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Radius and Squid transparent mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Radius%20and%20Squid%20transparent%20mode&In-Reply-To=%3C08c716cf-b337-021b-8714-daa393ca11a2%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019136.html">
   <LINK REL="Next"  HREF="019140.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Radius and Squid transparent mode</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Radius%20and%20Squid%20transparent%20mode&In-Reply-To=%3C08c716cf-b337-021b-8714-daa393ca11a2%40treenet.co.nz%3E"
       TITLE="[squid-users] Radius and Squid transparent mode">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Sep  5 14:25:03 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019136.html">[squid-users] Radius and Squid transparent mode
</A></li>
        <LI>Next message (by thread): <A HREF="019140.html">[squid-users] Squid and DNS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19138">[ date ]</a>
              <a href="thread.html#19138">[ thread ]</a>
              <a href="subject.html#19138">[ subject ]</a>
              <a href="author.html#19138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/09/18 1:16 AM, Colle Christophe wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am working on a WiFi project: People connect to the network using a
</I>&gt;<i> Radius server, then use the Internet using Squid in transparent mode.
</I>&gt;<i> 
</I>&gt;<i> I would like to improve this system by adding the identifier of the
</I>&gt;<i> person logged in the Squid logs (It's easier to do research, it saves
</I>&gt;<i> time!).
</I>

First lesson: there is no &quot;person&quot;.

In the HTTP world we explicitly avoid the terms &quot;user&quot; or &quot;person&quot;
because a lot (most?) of traffic is from automated services and
machinery around any given network. Some of it is even generated by your
own Squid with no client involved at all.


&gt;<i> 
</I>&gt;<i> Is it easy or should use a specific helper authentication?
</I>&gt;<i> 
</I>
Second;
 When traffic is MITM'd the client believes it is talking to some other
endpoint. It will only ever authenticate with credentials suitable for
that endpoint.
 No sane client software will broadcast credentials without the remote
endpoint explicitly requesting them. Some clients are not that sane, but
they are the exception.


Third;
 Authentication of all types involves some secret known only to the
endpoints, often generated on-demand via some other channel. The MITM
proxy even holding the credentials cannot authenticate them, nor
reliably use them for anything other than relaying as-is on the *same*
transactions outbound request message.


BUT ... this is where &quot;authorization&quot; being different from
&quot;authentication&quot; matters a lot.


&gt;<i> 
</I>&gt;<i> Has anyone ever done that?
</I>&gt;<i> 
</I>
As I understand it RADIUS has ways to tie IP:port of TCP connections to
a user account (if any?).

It is possible to have a RADIUS helper used on external_acl_type
receiving those details and providing Squid with a label to log as
&quot;username&quot;.

Or, alternatively just send the log through a daemon which uses the log
lines it gets passed to append any extra details you want it to add.

But be aware these only associate the machinery by-IP to an account. It
does not imply the &quot;person&quot; was actually present, nor even aware of the
transaction happening.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019136.html">[squid-users] Radius and Squid transparent mode
</A></li>
	<LI>Next message (by thread): <A HREF="019140.html">[squid-users] Squid and DNS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19138">[ date ]</a>
              <a href="thread.html#19138">[ thread ]</a>
              <a href="subject.html#19138">[ subject ]</a>
              <a href="author.html#19138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
