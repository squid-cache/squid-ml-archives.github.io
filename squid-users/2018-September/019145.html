<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] content adaptation using squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20content%20adaptation%20using%20squid&In-Reply-To=%3C8843243b-e5f7-efe7-52e8-28a77f648669%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019141.html">
   <LINK REL="Next"  HREF="019146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] content adaptation using squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20content%20adaptation%20using%20squid&In-Reply-To=%3C8843243b-e5f7-efe7-52e8-28a77f648669%40treenet.co.nz%3E"
       TITLE="[squid-users] content adaptation using squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Sep  6 14:10:58 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019141.html">[squid-users] content adaptation using squid
</A></li>
        <LI>Next message (by thread): <A HREF="019146.html">[squid-users] content adaptation using squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19145">[ date ]</a>
              <a href="thread.html#19145">[ thread ]</a>
              <a href="subject.html#19145">[ subject ]</a>
              <a href="author.html#19145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/09/18 6:06 PM, Yosef Meltser wrote:
&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We have managed to create a proxy server using a squid in an intercept mode.
</I>&gt;<i> 
</I>&gt;<i> Now we would like to make a content adaptation, for example to show an alert
</I>&gt;<i> every time the user entered a website.
</I>&gt;<i> 
</I>&gt;<i> We are not familiar with this domain, so we are looking for the easiest way
</I>&gt;<i> to inject java script in the http response (of course only http sites).
</I>&gt;<i> 
</I>
Simply put. Do not do that.

Please be aware that despite the content HTTP transferring being public
it is still under copyright by the authors who created it and/or the
owners of the domain where it is fetched from. They have implicitly
granted rights only to *view* and distribute the content as-is.

Please check with your legal department about the consequences of
altering copyright content without the copyright holders permission. The
Berne Convention copyright treaty forbidding this type of &quot;piracy&quot;
covers most countries, and the remainder usually have even more harsh
laws of their own.


A much better approach is a &quot;splash page&quot; - to have your proxy respond
with a 302 redirect to a page containing your message, and a
click-through link (or iframe, if that works) to the actual content.
That way the external content remains separate from your content and
everything is good.
 The traditional session splash page details can be found at
&lt;<A HREF="https://wiki.squid-cache.org/ConfigExamples/Portal/Splash">https://wiki.squid-cache.org/ConfigExamples/Portal/Splash</A>&gt;.
 If you have existing system to manage when the messages are to be
displayed you may want the database session helper instead
&lt;<A HREF="http://www.squid-cache.org/Versions/v4/manuals/ext_sql_session_acl.html">http://www.squid-cache.org/Versions/v4/manuals/ext_sql_session_acl.html</A>&gt; which
works from externally managed details in an SQL database.



&gt;<i>  The main two adaptation mechanisms are:
</I>&gt;<i> 
</I>&gt;<i> 1.       Icap
</I>&gt;<i> 
</I>&gt;<i> 2.       Ecap
</I>&gt;<i> 
</I>&gt;<i> For example, in Icap there are some server frameworks that we can use (like
</I>&gt;<i> c-icap, ICAP-server and etc and etc), which one is the most recommended?
</I>&gt;<i> 
</I>&gt;<i> In contrast to the above, ECAP is not using any server, and the whole
</I>&gt;<i> process in embedded into the squid, so it sounds quite easier. Is it?
</I>&gt;<i> 
</I>
Neither is more easy or more difficult than the other. They are just
different ways to receive the traffic.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019141.html">[squid-users] content adaptation using squid
</A></li>
	<LI>Next message (by thread): <A HREF="019146.html">[squid-users] content adaptation using squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19145">[ date ]</a>
              <a href="thread.html#19145">[ thread ]</a>
              <a href="subject.html#19145">[ subject ]</a>
              <a href="author.html#19145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
