<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 4.2 : caching is not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.2%20%3A%20caching%20is%20not%20working&In-Reply-To=%3C44e584ae-1799-336a-b1e9-be9ca6293a1e%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019161.html">
   <LINK REL="Next"  HREF="019165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 4.2 : caching is not working</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.2%20%3A%20caching%20is%20not%20working&In-Reply-To=%3C44e584ae-1799-336a-b1e9-be9ca6293a1e%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 4.2 : caching is not working">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Sep  7 17:30:20 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019161.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
        <LI>Next message (by thread): <A HREF="019165.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19164">[ date ]</a>
              <a href="thread.html#19164">[ thread ]</a>
              <a href="subject.html#19164">[ subject ]</a>
              <a href="author.html#19164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/07/2018 10:46 AM, Hariharan Sethuraman wrote:

&gt;<i> squidclient -h localhost cache_<A HREF="object://localhost/">object://localhost/</A> mgr:objects &gt;&gt;&gt; this
</I>&gt;<i> was showing the entry when the download was going on and disappeared
</I>&gt;<i> after the download complete(~290MB) on the browser. When I checked the
</I>&gt;<i> du of cache directory, it is intact with 200KB
</I>
Was the response cachable? You can use the redbot.org service to examine
the corresponding resource (URL).

If the service tells you that the resource was cachable in principle (or
if you cannot use the service), then you can post both HTTP request and
response headers (as received by Squid) here for further analysis. You
can collect those headers in cache.log by setting debug_options to ALL,2.


&gt;<i> (a) Please let me know what am missing to enable cache. 
</I>
I think your cache is enabled, but Squid refused to cache a particular
response you tested with. There is not enough information to say why.


&gt;<i> (b) Also &quot;squidclient -h localhost cache_<A HREF="object://localhost/">object://localhost/</A>
</I>&gt;<i> mgr:objects&quot; hope this command will show the entry even after caching.
</I>
AFAICT, mgr:objects shows both in-progress transactions and cached
entries that do not belong to any in-progress transaction. However,
those cached entries will only be shown for UFS-based disk caches and
for a non-shared memory cache.

You are using a UFS-based cache. You should be (and probably are) using
a non-shared memory cache because you are using a UFS-based cache. In
summary, you most likely can use mgr:objects to see if the response was
cached. The above paragraph just answers your question in a way that may
be useful for others that have a different Squid configuration.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019161.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
	<LI>Next message (by thread): <A HREF="019165.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19164">[ date ]</a>
              <a href="thread.html#19164">[ thread ]</a>
              <a href="subject.html#19164">[ subject ]</a>
              <a href="author.html#19164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
