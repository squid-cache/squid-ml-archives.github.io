<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Using SSL bump and reverse proxy for DNS sinkhole
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20SSL%20bump%20and%20reverse%20proxy%20for%20DNS%20sinkhole&In-Reply-To=%3C1536395144235-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019188.html">
   <LINK REL="Next"  HREF="019170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Using SSL bump and reverse proxy for DNS sinkhole</H1>
    <B>thompsonm</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20SSL%20bump%20and%20reverse%20proxy%20for%20DNS%20sinkhole&In-Reply-To=%3C1536395144235-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Using SSL bump and reverse proxy for DNS sinkhole">thompsonm3301 at protonmail.com
       </A><BR>
    <I>Sat Sep  8 08:25:44 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019188.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
        <LI>Next message (by thread): <A HREF="019170.html">[squid-users] Using SSL bump and reverse proxy for DNS sinkhole
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19169">[ date ]</a>
              <a href="thread.html#19169">[ thread ]</a>
              <a href="subject.html#19169">[ subject ]</a>
              <a href="author.html#19169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I have a question about squid SSL bump and reverse proxy. Basically
for a final project I want to create a DNS sinkhole, where the client tries
to query a domain that has a bad reputation or is known for drive-by
downloads etc, and the DNS server returns false information, such as an
internal IP. Then the client is redirected to this internal IP, where a web
server is listening, and makes the HTTP request as normal. All the HTTP
requests along with host, URL, client IP etc, are then logged. It's easy to
make this work with HTTP. However, I want it to work also with HTTPS. So
basically set up a MITM SSL proxy, where the proxy generates it's own
certificate for the suspicious website the client is trying to connect to,
and then HTTP requests are forwarded to a web server listening on the same
host. 

I'm not sure how to do this. Is there any way to do this with squid SSL bump
and reverse proxy? 



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019188.html">[squid-users] Squid 4.2 : caching is not working
</A></li>
	<LI>Next message (by thread): <A HREF="019170.html">[squid-users] Using SSL bump and reverse proxy for DNS sinkhole
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19169">[ date ]</a>
              <a href="thread.html#19169">[ thread ]</a>
              <a href="subject.html#19169">[ subject ]</a>
              <a href="author.html#19169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
