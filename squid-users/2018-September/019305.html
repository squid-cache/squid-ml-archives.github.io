<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Very basic peek &amp; splice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Very%20basic%20peek%20%26%20splice&In-Reply-To=%3Cd1e18374-f974-9a4a-3200-c07798fca679%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019304.html">
   <LINK REL="Next"  HREF="019307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Very basic peek &amp; splice</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Very%20basic%20peek%20%26%20splice&In-Reply-To=%3Cd1e18374-f974-9a4a-3200-c07798fca679%40treenet.co.nz%3E"
       TITLE="[squid-users] Very basic peek &amp; splice">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Sep 27 09:45:45 UTC 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019304.html">[squid-users] Very basic peek &amp; splice
</A></li>
        <LI>Next message (by thread): <A HREF="019307.html">[squid-users] Very basic peek &amp; splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19305">[ date ]</a>
              <a href="thread.html#19305">[ thread ]</a>
              <a href="subject.html#19305">[ subject ]</a>
              <a href="author.html#19305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/09/18 8:43 PM, Ralf Hildebrandt wrote:
&gt;<i> I recompiled my squid-5 with openssl and added
</I>&gt;<i> 
</I>&gt;<i> ssl_bump peek all
</I>&gt;<i> ssl_bump splice all
</I>&gt;<i> 
</I>&gt;<i> to my squid.conf. What logging should I expect to verify it's actually
</I>&gt;<i> working?
</I>&gt;<i> 
</I>
Depends on what you mean by 'working'.

Splicing will show up as access.log CONNECT messages to raw-IP on port
443 with 0ms duration and probably TCP_NONE status. Followed by CONNECT
from same client IP with either raw-IP or a domain, TCP_TUNNEL status
and non-0 duration.
 These pairs may only be identifiable by using the duration to find that
they started at identical time from the same client. The log entries
will be separated by that duration.


'working' can also mean detecting TLS errors and rejecting them. Which
shows up as <A HREF="https://">https://</A> requests being bumped and denied with a 5xx error
status.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019304.html">[squid-users] Very basic peek &amp; splice
</A></li>
	<LI>Next message (by thread): <A HREF="019307.html">[squid-users] Very basic peek &amp; splice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19305">[ date ]</a>
              <a href="thread.html#19305">[ thread ]</a>
              <a href="subject.html#19305">[ subject ]</a>
              <a href="author.html#19305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
