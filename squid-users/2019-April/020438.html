<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Why Squid on CentOS is faster than Debian ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20Squid%20on%20CentOS%20is%20faster%20than%20Debian%20%3F&In-Reply-To=%3Cd1805d96-9cf7-079b-cbd7-23c4638c08b9%40articatech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020437.html">
   <LINK REL="Next"  HREF="020439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Why Squid on CentOS is faster than Debian ?</H1>
    <B>David Touzeau</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20Squid%20on%20CentOS%20is%20faster%20than%20Debian%20%3F&In-Reply-To=%3Cd1805d96-9cf7-079b-cbd7-23c4638c08b9%40articatech.com%3E"
       TITLE="[squid-users] Why Squid on CentOS is faster than Debian ?">david at articatech.com
       </A><BR>
    <I>Tue Apr  2 22:00:44 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020437.html">[squid-users] Why Squid on CentOS is faster than Debian ?
</A></li>
        <LI>Next message (by thread): <A HREF="020439.html">[squid-users] Why Squid on CentOS is faster than Debian ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20438">[ date ]</a>
              <a href="thread.html#20438">[ thread ]</a>
              <a href="subject.html#20438">[ subject ]</a>
              <a href="author.html#20438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Le 02/04/2019 &#224; 18:06, Alex Rousskov a &#233;crit&#160;:
&gt;<i> On 4/2/19 1:23 AM, David Touzeau wrote:
</I>&gt;&gt;<i> Le 01/04/2019 &#224; 23:22, Alex Rousskov a &#233;crit&#160;:
</I>&gt;&gt;&gt;<i> Do your Squids use shared memory for the memory cache? See
</I>&gt;&gt;&gt;<i> memory_cache_shared (even if you do not set it explicitly).
</I>&gt;&gt;&gt;<i> <A HREF="http://www.squid-cache.org/Doc/config/memory_cache_shared/">http://www.squid-cache.org/Doc/config/memory_cache_shared/</A>
</I>&gt;&gt;<i> The test did not use workers
</I>&gt;<i> That does not answer my question. Do you use Rock cache_dir(s)?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> Any significant difference in mgr:info and mgr:counters output after a
</I>&gt;&gt;&gt;<i> test that only has memory hits?
</I>&gt;<i> The question still stands. I would recommend testing this with a single
</I>&gt;<i> URL and a fixed/same number of requests submitted by a reliable proxy
</I>&gt;<i> benchmarking tool or at least a wget/curl script.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Do you know why CentOS objects are 34 bytes smaller than Debian ?
</I>&gt;<i> Something in your test setup or environment results responses (or
</I>&gt;<i> response delivery statistics) that differ in size between the tests. I
</I>&gt;<i> do not know what it is, and the number of possible options is too large
</I>&gt;<i> to guess correctly: It could be anything from 32-vs-64 bit OSes, to
</I>&gt;<i> locale differences, to Squid host name, to Cookies, to test setup
</I>&gt;<i> imperfections, to Squid statistics collection bugs, etc., etc.
</I>&gt;<i>
</I>&gt;<i> Have you compared the responses received by the client (headers and
</I>&gt;<i> all)? Do they differ by 34 bytes? I suggest testing with a single URL
</I>&gt;<i> that produces different results and then digging down to identify the
</I>&gt;<i> difference (starting with comparing responses).
</I>&gt;<i>
</I>&gt;<i> Alex.
</I>
Thanks Alex for these ways to investigate.

We will try to get more precise for the tests

We have reduced the squid.conf to the minimal way in order to be sure 
that nothing can disturb testing.

Only one cache, no rock, no workers, no tuning

Amos says that perhaps the C++ version can make some tweaks in this case 
we will start to do the same tests with Ubuntu that uses the most recent 
kernels and C++

But for the moment

- without intelligence
- Without investigations efforts
- Just by compiling squid

To resume

Centos 7 is 10 times faster than Debian 7
Centos 7 is 400%&#160; faster than Debian 9

Debian 9 is a&#160; little faster than Debian 7

We will keep updated for Unbuntu.






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020437.html">[squid-users] Why Squid on CentOS is faster than Debian ?
</A></li>
	<LI>Next message (by thread): <A HREF="020439.html">[squid-users] Why Squid on CentOS is faster than Debian ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20438">[ date ]</a>
              <a href="thread.html#20438">[ thread ]</a>
              <a href="subject.html#20438">[ subject ]</a>
              <a href="author.html#20438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
