<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Blocking CONNECT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Blocking%20CONNECT&In-Reply-To=%3C1564627452336-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="020832.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Blocking CONNECT</H1>
    <B>johnr</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Blocking%20CONNECT&In-Reply-To=%3C1564627452336-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Blocking CONNECT">johnrefwe at mail.com
       </A><BR>
    <I>Thu Aug  1 02:44:12 UTC 2019</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="020832.html">[squid-users] Blocking CONNECT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20831">[ date ]</a>
              <a href="thread.html#20831">[ thread ]</a>
              <a href="subject.html#20831">[ subject ]</a>
              <a href="author.html#20831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Squid conf:
acl CONNECT method CONNECT
acl to_bad_ip dst 55.55.2.3
http_access deny CONNECT to_bad_ip

In the above squid config, if I were to try go to <A HREF="https://55.55.2.3:443">https://55.55.2.3:443</A> I
would get an ACCESS DENIED but squid would not block the CONNECT (it would
respond to 200) and then block the subsequent HTTP request. Is it possible
to tell squid to block the CONNECT? I do server-first SSL bump so if I don't
block the CONNECT squid will reach out to the upstream server which I don't
want it to do. I know this would make it impossible to serve the block page
and have the browser show an error but I don't mind about that.  



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="020832.html">[squid-users] Blocking CONNECT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20831">[ date ]</a>
              <a href="thread.html#20831">[ thread ]</a>
              <a href="subject.html#20831">[ subject ]</a>
              <a href="author.html#20831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
