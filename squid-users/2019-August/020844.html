<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 3.5.27 not caching at all
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.27%20not%20caching%20at%20all&In-Reply-To=%3C1294aefe-7fb1-e096-3adb-511ccdc6f9be%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020843.html">
   <LINK REL="Next"  HREF="020845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 3.5.27 not caching at all</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%203.5.27%20not%20caching%20at%20all&In-Reply-To=%3C1294aefe-7fb1-e096-3adb-511ccdc6f9be%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 3.5.27 not caching at all">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Aug  3 10:36:28 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020843.html">[squid-users] Squid 3.5.27 not caching at all
</A></li>
        <LI>Next message (by thread): <A HREF="020845.html">[squid-users] Squid 3.5.27 not caching at all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20844">[ date ]</a>
              <a href="thread.html#20844">[ thread ]</a>
              <a href="subject.html#20844">[ subject ]</a>
              <a href="author.html#20844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/08/19 9:45 pm, Mohamed Ali Ahmed wrote:
&gt;<i> Hello everyone,
</I>&gt;<i> I have set up Squid 3.5.27 on ubuntu 18.04 from the packages. I have
</I>&gt;<i> made the minimal change but when i check the access.log i get tcp_miss
</I>&gt;<i> 200 most of the websites even visiting the same website over and over again.
</I>&gt;<i> 
</I>
You have not provided enough information for us to know whether this is
a problem or testing mistake.

What is this unstated &quot;minimal change&quot; you made that made caching
suddenly stop working?

What exactly does &quot;visiting the same website over and over again&quot; mean?
what exact actions did you do?
  - Pressing refresh, Shift+reload, or CTL+refresh in a browser will
*force* a MISS - yet comes under the description you gave.
  - some tools send headers to forbid cached contents being delivered by
default. So cannot be used for this kind of test without special options.


The more specific details you can give, the better anyone help can be.


&gt;<i> I have searched online and i did not come across any which solves my
</I>&gt;<i> problem.&#160;
</I>&gt;<i> 
</I>&gt;<i> this is squid.conf file:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at squid</A>:/etc/squid# sed 's/#.*//;s/^\s*$//;/^$/d' /etc/squid/squid.conf
</I>&gt;<i> &#160;acl NOC src 154.73.26.5
</I>&gt;<i> acl SSL_ports port 443
</I>&gt;<i> acl Safe_ports port 80
</I>&gt;<i> acl Safe_ports port 21
</I>&gt;<i> acl Safe_ports port 443
</I>&gt;<i> acl Safe_ports port 70
</I>&gt;<i> acl Safe_ports port 210
</I>&gt;<i> acl Safe_ports port 1025-65535
</I>&gt;<i> acl Safe_ports port 280
</I>&gt;<i> acl Safe_ports port 488
</I>&gt;<i> acl Safe_ports port 591
</I>&gt;<i> acl Safe_ports port 777
</I>&gt;<i> acl CONNECT method CONNECT
</I>&gt;<i> http_access deny !Safe_ports
</I>&gt;<i> http_access deny CONNECT !SSL_ports
</I>&gt;<i> http_access allow localhost manager
</I>&gt;<i> http_access deny manager
</I>&gt;<i> http_access allow localhost NOC
</I>&gt;<i> http_access allow all
</I>
Please do not do that &quot;allow all&quot;.

For one thing it makes your NOC ACL pointless, *everybody* is allowed to
use your proxy for whatever they want to do.

If you did it to debug a caching problem, be aware that http_access has
nothing to do with cache.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020843.html">[squid-users] Squid 3.5.27 not caching at all
</A></li>
	<LI>Next message (by thread): <A HREF="020845.html">[squid-users] Squid 3.5.27 not caching at all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20844">[ date ]</a>
              <a href="thread.html#20844">[ thread ]</a>
              <a href="subject.html#20844">[ subject ]</a>
              <a href="author.html#20844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
