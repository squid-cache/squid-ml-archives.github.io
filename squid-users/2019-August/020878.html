<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid Illegal instruction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20Illegal%20instruction&In-Reply-To=%3C6cf239f0-e02c-e5af-6cf7-34b2ad218460%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020875.html">
   <LINK REL="Next"  HREF="020874.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid Illegal instruction</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20Illegal%20instruction&In-Reply-To=%3C6cf239f0-e02c-e5af-6cf7-34b2ad218460%40treenet.co.nz%3E"
       TITLE="[squid-users] squid Illegal instruction">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Aug 13 06:47:02 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020875.html">[squid-users] squid Illegal instruction
</A></li>
        <LI>Next message (by thread): <A HREF="020874.html">[squid-users] While using icap_service squid working when ip is used and failing when domain name is provided
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20878">[ date ]</a>
              <a href="thread.html#20878">[ thread ]</a>
              <a href="subject.html#20878">[ subject ]</a>
              <a href="author.html#20878">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/08/19 6:45 am, leomessi983 wrote:
&gt;<i> 
</I>&gt;<i> hi
</I>&gt;<i> yes I use it in different machines,but all of them are debian with the
</I>&gt;<i> same version!
</I>
Okay. That means we can rely on the OS being the same, and _usually_ the
compiler - though it does occasionally have problems.


&gt;<i> At firts I compiled squid in a vmware debian vm ,bit after then I use
</I>&gt;<i> the created package in my other debian machin in physical systems with
</I>&gt;<i> different cpu and memory!
</I>
Memory should not matter. So long as there is sufficient to run.

CPU type though does matter a fair amount. If the VM is simulating
different CPU features or type (32bit vs 64bit) than the physical
machines then this problem will occur.

If you do need to isolate the build from the main machine(s) I recommend
a container like Docker rather than a full VM. That way the CPU stuff
which matters here stays the same both in and out of the container but
any environment boundaries and/or installation mess is isolated by the
container.


&gt;<i> 
</I>&gt;<i> Is there any compile option to solve this issue!?
</I>&gt;<i> How about this option&#160;&#160;--disable-arch-native ?
</I>
That Squid build option will avoid issues sharing one Squid across
different models of almost-same CPUs.

If the CPUs are different architectures then you have to build a binary
specifically for the run-time arch' or it will not run due to the binary
level stuff being different (aka &quot;Illegal Instruction&quot;). That is
cross-compiling - if that is an unfamiliar term and you actually need to
then I suggest you look it up before going any further.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020875.html">[squid-users] squid Illegal instruction
</A></li>
	<LI>Next message (by thread): <A HREF="020874.html">[squid-users] While using icap_service squid working when ip is used and failing when domain name is provided
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20878">[ date ]</a>
              <a href="thread.html#20878">[ thread ]</a>
              <a href="subject.html#20878">[ subject ]</a>
              <a href="author.html#20878">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
