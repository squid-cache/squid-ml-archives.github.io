<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] help to disconnect users after determinated time. TTL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20help%20to%20disconnect%20users%20after%20determinated%20time.%0A%20TTL&In-Reply-To=%3C479201a6-d6f1-6cc2-76f1-8d2bda3e66e1%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020892.html">
   <LINK REL="Next"  HREF="020883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] help to disconnect users after determinated time. TTL</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20help%20to%20disconnect%20users%20after%20determinated%20time.%0A%20TTL&In-Reply-To=%3C479201a6-d6f1-6cc2-76f1-8d2bda3e66e1%40treenet.co.nz%3E"
       TITLE="[squid-users] help to disconnect users after determinated time. TTL">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Aug 16 13:28:02 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020892.html">[squid-users] help to disconnect users after determinated time. TTL
</A></li>
        <LI>Next message (by thread): <A HREF="020883.html">[squid-users] squid.config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20898">[ date ]</a>
              <a href="thread.html#20898">[ thread ]</a>
              <a href="subject.html#20898">[ subject ]</a>
              <a href="author.html#20898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/08/19 3:30 am, jmperrote wrote:
&gt;<i> Hello Emmanuel, we finish implementing a solution on PHP script, getting
</I>&gt;<i> the TTL time &lt; 0 on the cachemgr, and it work.
</I>&gt;<i> 
</I>&gt;<i> The problem is that the param --&gt; auth_param basic credentialsttl 3
</I>&gt;<i> minutes, give this time (180 seconds), but if the user still navigating
</I>&gt;<i> on the site, this value
</I>&gt;<i> 
</I>&gt;<i> &quot;Check TTL&quot; is not renewing when the user is navigating, so if the user not aplly any click on the page just when the counter &quot;Check TTL&quot; is 0, the user counter go to &lt; 0.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It is posible introduce any param that tell to squid to renew the counter when a user is betwen the credentialsttl time and still navigating ?
</I>
credentiaslttl does not mean what you seem to think it does.

It is just an optimization to reduce the amount of lookups to the
helper. How often they are *checked*.

In your other thread you showed this report:

&gt;<i>
</I>&gt;<i> 	Type            State     Check TTL Cache TTL Username
</I>&gt;<i> 	--------------- --------- --------- ---------
</I>------------------------------
&gt;<i> 	AUTH_BASIC      Ok        58        3598      prueba
</I>

Think of credentialsTTL (&quot;Check TTL&quot;) hitting 0 as the start of that
&quot;grace period&quot;. The cache garbage collection (Cache TTL) defines the end
- when the credentials are completely forgotten by Squid.

As you can see there is already a &quot;grace period&quot; of 3540 seconds on
these credentials.


As Emmanuel said you can fake a sort-of logout by having a custom helper
pretend the credentials have expired suddenly. But that is something
your helper does, not this TTL.

Keep in mind that while Squid is awaiting your helper response all new
HTTP requests using those credentials will be queued up waiting for its
response. When the helper responds its answer will be applied to all
those queued and all future requests until the next credentialsttl
period ends.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020892.html">[squid-users] help to disconnect users after determinated time. TTL
</A></li>
	<LI>Next message (by thread): <A HREF="020883.html">[squid-users] squid.config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20898">[ date ]</a>
              <a href="thread.html#20898">[ thread ]</a>
              <a href="subject.html#20898">[ subject ]</a>
              <a href="author.html#20898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
