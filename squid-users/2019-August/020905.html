<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] caching apt package lists/Raspbian
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20apt%20package%20lists/Raspbian&In-Reply-To=%3Cbb2f0bba-d1ce-2bc7-6345-de104eb2c0c5%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020901.html">
   <LINK REL="Next"  HREF="020850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] caching apt package lists/Raspbian</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20apt%20package%20lists/Raspbian&In-Reply-To=%3Cbb2f0bba-d1ce-2bc7-6345-de104eb2c0c5%40treenet.co.nz%3E"
       TITLE="[squid-users] caching apt package lists/Raspbian">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Aug 19 06:43:43 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020901.html">[squid-users] caching apt package lists/Raspbian
</A></li>
        <LI>Next message (by thread): <A HREF="020850.html">[squid-users] outgoing address for DNS queries per instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20905">[ date ]</a>
              <a href="thread.html#20905">[ thread ]</a>
              <a href="subject.html#20905">[ subject ]</a>
              <a href="author.html#20905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/08/19 2:06 am, TarotApprentice wrote:
&gt;<i> It turns out it still doesn't cache them the Packages.xz. From
</I>&gt;<i> discussions over on the RaspberryPi forums it seems its hitting the
</I>&gt;<i> following (this is just the Packages.xz) in order to match their
</I>&gt;<i> main, contrib, non-free and rpi repos.
</I>&gt;<i> 
</I>&gt;<i> $ apt-get --print-uris update
</I>&gt;<i> 
</I>...

&gt;<i> 
</I>&gt;<i> I thought I would paste these into redbot. A bunch of them are
</I>&gt;<i> returning HTTP 404 - Not found responses. That first one for example
</I>&gt;<i> gives a 404 response. Would that be enough to force squid to have to
</I>&gt;<i> download the ones it can find each and every time?
</I>
For those ones yes. As redbot says Squid is allowed to cache them, but
not to use the resulting HIT later. Unless something exceptional occurs
like not being able to contact the origin for an update.


&gt;<i> Any other suggestions on how to debug this?
</I>&gt;<i> 
</I>
You can try &quot;debug_options 11,2 22,3 20,3&quot; and see what is going on for
the ones that are not 404.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020901.html">[squid-users] caching apt package lists/Raspbian
</A></li>
	<LI>Next message (by thread): <A HREF="020850.html">[squid-users] outgoing address for DNS queries per instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20905">[ date ]</a>
              <a href="thread.html#20905">[ thread ]</a>
              <a href="subject.html#20905">[ subject ]</a>
              <a href="author.html#20905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
