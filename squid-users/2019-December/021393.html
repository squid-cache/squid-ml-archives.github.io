<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] debug headers between squid --&gt; website
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20debug%20headers%20between%20squid%20--%3E%20website&In-Reply-To=%3Ce6467675-8cde-2446-36d5-705f79c0b4b0%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021392.html">
   <LINK REL="Next"  HREF="021394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] debug headers between squid --&gt; website</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20debug%20headers%20between%20squid%20--%3E%20website&In-Reply-To=%3Ce6467675-8cde-2446-36d5-705f79c0b4b0%40measurement-factory.com%3E"
       TITLE="[squid-users] debug headers between squid --&gt; website">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Dec  2 19:31:14 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021392.html">[squid-users] debug headers between squid --&gt; website
</A></li>
        <LI>Next message (by thread): <A HREF="021394.html">[squid-users] debug headers between squid --&gt; website
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21393">[ date ]</a>
              <a href="thread.html#21393">[ thread ]</a>
              <a href="subject.html#21393">[ subject ]</a>
              <a href="author.html#21393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/2/19 2:19 PM, Ahmad Alzaeem wrote:
&gt;<i> Can I do same &#160;thing for https ?
</I>
Yes, you can. Squid logs CONNECT headers and also HTTP headers of
incoming and outgoing decrypted HTTPS requests. Squid does not see (and
cannot log) HTTP headers of encrypted traffic inside CONNECT tunnels
that are not bumped using the SslBump feature, of course.

Wireshark is often a better tool for header analysis because it makes it
easier to associate headers with connections and HTTP request-reply
exchanges. Wireshark can even handle encrypted-by-Squid traffic, but
that requires connection master keys that are not trivial to obtain.

Alex.


&gt;&gt;<i> On Dec 2, 2019, at 10:03 PM, Alex Rousskov wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#65279;On 12/2/19 1:31 PM, Ahmad Alzaeem wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is it possible to run it from squid ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Packet catpure is usually better, especially for plain HTTP traffic, but
</I>&gt;&gt;<i> you can also get raw HTTP headers in cache.log if you set debug_options
</I>&gt;&gt;<i> in squid.conf to ALL,2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Dec 2, 2019, at 8:58 PM, Antony Stone
</I>&gt;&gt;&gt;&gt;<i> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &#65279;On Monday 02 December 2019 at 18:34:31, Ahmad Alzaeem wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Hello Tem ,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> How can i debug Headers that is between squid&#8212;&#8212;&gt; website request made
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Run a packet sniffer (tcpdump, wireshark, tshark...) on the Squid
</I>&gt;&gt;&gt;&gt;<i> server,
</I>&gt;&gt;&gt;&gt;<i> looking at the external interface (ie: the one pointing to the
</I>&gt;&gt;&gt;&gt;<i> website/s).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> i need to see what squid send headers to website
</I>&gt;&gt;&gt;&gt;&gt;<i> and what website reply o squid .
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> So long as you're doing HTTP (as per your example) and not HTTPS,
</I>&gt;&gt;&gt;&gt;<i> any packet
</I>&gt;&gt;&gt;&gt;<i> sniffer and protocol analyser (wireshark is *very* good at this)
</I>&gt;&gt;&gt;&gt;<i> will show you
</I>&gt;&gt;&gt;&gt;<i> this quite easily.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Antony.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> -- 
</I>&gt;&gt;&gt;&gt;<i> Atheism is a non-prophet-making organisation.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Please reply to the
</I>&gt;&gt;&gt;&gt;<i> list;
</I>&gt;&gt;&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;please
</I>&gt;&gt;&gt;&gt;<i> *don't* CC me.
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021392.html">[squid-users] debug headers between squid --&gt; website
</A></li>
	<LI>Next message (by thread): <A HREF="021394.html">[squid-users] debug headers between squid --&gt; website
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21393">[ date ]</a>
              <a href="thread.html#21393">[ thread ]</a>
              <a href="subject.html#21393">[ subject ]</a>
              <a href="author.html#21393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
