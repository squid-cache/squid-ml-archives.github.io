<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] icap result caching in squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20icap%20result%20caching%20in%20squid&In-Reply-To=%3Cf6cd7ee4-09d8-456c-b496-175c8928e995%40www.fastmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021396.html">
   <LINK REL="Next"  HREF="021405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] icap result caching in squid</H1>
    <B>Darren Breeze</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20icap%20result%20caching%20in%20squid&In-Reply-To=%3Cf6cd7ee4-09d8-456c-b496-175c8928e995%40www.fastmail.com%3E"
       TITLE="[squid-users] icap result caching in squid">darren at ksn-systems.com
       </A><BR>
    <I>Tue Dec  3 17:05:36 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021396.html">[squid-users] icap result caching in squid
</A></li>
        <LI>Next message (by thread): <A HREF="021405.html">[squid-users] icap result caching in squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21403">[ date ]</a>
              <a href="thread.html#21403">[ thread ]</a>
              <a href="subject.html#21403">[ subject ]</a>
              <a href="author.html#21403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Amos

The Icap service is doing redirects based on client permissions (that may change). What I am doing is just setting the Expires value in the RESP_MOD response when I return a 307 redirect so I can control how long the caches (both Squid and the browser) hang on to it.



Darren B.





On Tue, Dec 3, 2019, at 6:17 PM, Amos Jeffries wrote:
&gt;<i> On 3/12/19 12:17 pm, Darren Breeze wrote:
</I>&gt;<i> &gt; Thanks Alex.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; That has given me the perspective I need.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I can modulate the response header Expires value via icap to get the job done when squid goes to cache it.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Why are you needing to do this at all?
</I>&gt;<i> 
</I>&gt;<i> NP: please be aware that the changes you make to the HTTP headers affect
</I>&gt;<i> *all* downstream caches, no just your Squid.
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the system manager. This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. If you are not the intended recipient you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021396.html">[squid-users] icap result caching in squid
</A></li>
	<LI>Next message (by thread): <A HREF="021405.html">[squid-users] icap result caching in squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21403">[ date ]</a>
              <a href="thread.html#21403">[ thread ]</a>
              <a href="subject.html#21403">[ subject ]</a>
              <a href="author.html#21403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
