<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP_TUNNEL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_TUNNEL&In-Reply-To=%3CHE1PR0402MB27474A4834384C8124062264F45C0%40HE1PR0402MB2747.eurprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021420.html">
   <LINK REL="Next"  HREF="021422.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP_TUNNEL</H1>
    <B>Kassir Bariq</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP_TUNNEL&In-Reply-To=%3CHE1PR0402MB27474A4834384C8124062264F45C0%40HE1PR0402MB2747.eurprd04.prod.outlook.com%3E"
       TITLE="[squid-users] TCP_TUNNEL">bariq.kassir at scania.com
       </A><BR>
    <I>Thu Dec  5 09:13:36 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021420.html">[squid-users] ACL reply_header_access
</A></li>
        <LI>Next message (by thread): <A HREF="021422.html">[squid-users] TCP_TUNNEL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21421">[ date ]</a>
              <a href="thread.html#21421">[ thread ]</a>
              <a href="subject.html#21421">[ subject ]</a>
              <a href="author.html#21421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Awesome Squid Users &#128522;

I&#8217;m using Squid transparent proxy on AWS. I&#8217;m having a small problem, but I don&#8217;t really know what is happening!

From an EC2 in Private Subnet I&#8217;m making a request to AWS Endpoints using 443, and the request is going via Squid and says Connected, but unfortunately it is not working in the Client!

Checked the Logs and found that it is going via tcp_tunnel, but still not working in the client.

1575515309.361 20029 10.131.18.170 TCP_TUNNEL/200 430 CONNECT 52.46.200.112:443 - ORIGINAL_DST/52.46.200.112 -
1575515337.544 65650 10.131.18.158 TCP_TUNNEL/200 451 CONNECT 52.46.200.130:443 - ORIGINAL_DST/52.46.200.130 -
1575515490.666 20020 10.131.18.205 TCP_TUNNEL/200 430 CONNECT 52.46.196.121:443 - ORIGINAL_DST/52.46.196.121 -

Is there anything I can add to the config file that can fix this problem ?

Regards
Bariq
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20191205/f24feed4/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20191205/f24feed4/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021420.html">[squid-users] ACL reply_header_access
</A></li>
	<LI>Next message (by thread): <A HREF="021422.html">[squid-users] TCP_TUNNEL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21421">[ date ]</a>
              <a href="thread.html#21421">[ thread ]</a>
              <a href="subject.html#21421">[ subject ]</a>
              <a href="author.html#21421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
