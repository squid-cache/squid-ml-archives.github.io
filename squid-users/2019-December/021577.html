<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Switched ISP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Switched%20ISP&In-Reply-To=%3Cee1bddb5-d8e7-3b5d-c09b-2b9bdf23f988%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021576.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Switched ISP</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Switched%20ISP&In-Reply-To=%3Cee1bddb5-d8e7-3b5d-c09b-2b9bdf23f988%40measurement-factory.com%3E"
       TITLE="[squid-users] Switched ISP">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Dec 30 22:51:35 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021576.html">[squid-users] Switched ISP
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21577">[ date ]</a>
              <a href="thread.html#21577">[ thread ]</a>
              <a href="subject.html#21577">[ subject ]</a>
              <a href="author.html#21577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/30/19 4:08 PM, Robert A Wooldridge wrote:
&gt;<i> We recently switched to ATT from Windstream.&#160; After the switch there is
</I>&gt;<i> a very large difference between accessing sites through squid compared
</I>&gt;<i> to bypassing squid (squid is slower).&#160; However it is not completely
</I>&gt;<i> uniform.&#160; Some sites are extremely slow and do not load at all.
</I>&gt;<i> news.yahoo.com is an example.&#160; Is there anything I should be aware of
</I>&gt;<i> when switching to a different ISP?&#160; Would the lack of a PTR record on
</I>&gt;<i> the proxy server have any effect on this? Should I clear squid's cache?
</I>
0. A lack of PTR record will slow down origin servers that try to
resolve your proxy IP address and (slowly?) fail. I do not know how
typical such sites are.

1. Are the problems related to sites that have IPv6 addresses (even
though access.log may show IPv4 transactions)? YMMV, but some ISP
networks enable IPv6 while not supporting it well, leading to random
IPv6 connection establishment timeouts.

2. Are you using AT&amp;T's DNS resolver? YMMV, but some ISP DNS resolvers
overwrite NXDOMAIN responses. Such overwrites might have unexpected side
effects on complex sites.

Your best bet may be in triaging a single easier-to-reproduce problem
and extrapolating from there.

AFAICT, it should not be necessary to purge Squid's cache when switching
ISPs, but you can easily test by setting that cache aside and starting
Squid without it.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021576.html">[squid-users] Switched ISP
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21577">[ date ]</a>
              <a href="thread.html#21577">[ thread ]</a>
              <a href="subject.html#21577">[ subject ]</a>
              <a href="author.html#21577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
