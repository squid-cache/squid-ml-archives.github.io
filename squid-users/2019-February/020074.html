<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20execute%20url_rewrite_program%0A%20/usr/bin/squidGuard%20-c%20/etc/squidguard/squidGuard.conf&In-Reply-To=%3C09127802-b4b8-7ceb-3df6-33059842907b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="020077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20execute%20url_rewrite_program%0A%20/usr/bin/squidGuard%20-c%20/etc/squidguard/squidGuard.conf&In-Reply-To=%3C09127802-b4b8-7ceb-3df6-33059842907b%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Feb  1 06:44:57 UTC 2019</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="020077.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20074">[ date ]</a>
              <a href="thread.html#20074">[ thread ]</a>
              <a href="subject.html#20074">[ subject ]</a>
              <a href="author.html#20074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/02/19 8:48 am, Roberto Carna wrote:
&gt;<i> Dear, I have Squid 3.5.23 and I use Squidguard for URL and domain filtering.
</I>&gt;<i> 
</I>&gt;<i> In squid.conf I have this line:
</I>&gt;<i> 
</I>&gt;<i> url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</I>&gt;<i> 
</I>&gt;<i> but in this proxy server, the line is not executed by Squid, so
</I>&gt;<i> Squidguard doesn't work at all.
</I>&gt;<i> 
</I>&gt;<i> Same configuration in another proxy server works OK.
</I>&gt;<i> 
</I>&gt;<i> Please can you tell me how I can force the execution of
</I>&gt;<i> url_rewrite_program line ???
</I>

If the helper is not even being started:

Check cache.log

Check that the Squid low-privileges user account is allowed to run that
helper.

Check that there are not other copies of the line replacing the helper
with another later in the config. That includes the
backward-compatibility alias of this directive: redirector_program.

Check what startup=N option to the url_rewrite_children (and alias
redirector_children) are using. If it is set to '0' the helper will not
be started until it is necessary to handle a URL.


If the helper is starting but crashing or exiting immediately (see
cache.log):

Check that your version of SquidGuard has been patched to comply with
the Squid-3.4+ helper protocol.

Check that the Squid low-privileges user account is allowed to run that
helper.


If the helper is running but appears not to be doing anything:

Check your url_rewrite_access lines (and alias redirector_access) to
ensure that the traffic you want to re-write is allowed to be passed to
the helper.


PS. Please consider using ufdbguard instead of SquidGuard which has not
been maintained in many years.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="020077.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20074">[ date ]</a>
              <a href="thread.html#20074">[ thread ]</a>
              <a href="subject.html#20074">[ subject ]</a>
              <a href="author.html#20074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
