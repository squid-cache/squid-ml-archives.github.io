<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid and ICAP using 206 response on reply
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20ICAP%20using%20206%20response%20on%20reply&In-Reply-To=%3C1549304757650-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020119.html">
   <LINK REL="Next"  HREF="020087.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid and ICAP using 206 response on reply</H1>
    <B>johnr</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20ICAP%20using%20206%20response%20on%20reply&In-Reply-To=%3C1549304757650-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid and ICAP using 206 response on reply">johnrefwe at mail.com
       </A><BR>
    <I>Mon Feb  4 18:25:57 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020119.html">[squid-users] Connection to cache peer failed &quot;SSL Transparent	proxy'
</A></li>
        <LI>Next message (by thread): <A HREF="020087.html">[squid-users] Squid and ICAP using 206 response on reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20086">[ date ]</a>
              <a href="thread.html#20086">[ thread ]</a>
              <a href="subject.html#20086">[ subject ]</a>
              <a href="author.html#20086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've attempting to use a RESPMOD ICAP in squid to modify the response
headers before they get to my user. I am attempting to use the ICAP 206 code
to be able to do this. 

Everything works fine if the response payload is more than the preview that
my ICAP takes. But, if the max size of the preview is greater than the size
of the response payload, the 206 response does not do anything (and it
basically looks like a 204 where I get back the original response without
any header modification). 

Is this a known fact that if the response is smaller than the max preview
size then 206 is not a valid response? I can't find evidence for that in the
ICAP spec, so I am thinking there's a chance I'm doing something else wrong?
Thank you for any help.



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020119.html">[squid-users] Connection to cache peer failed &quot;SSL Transparent	proxy'
</A></li>
	<LI>Next message (by thread): <A HREF="020087.html">[squid-users] Squid and ICAP using 206 response on reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20086">[ date ]</a>
              <a href="thread.html#20086">[ thread ]</a>
              <a href="subject.html#20086">[ subject ]</a>
              <a href="author.html#20086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
