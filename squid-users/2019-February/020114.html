<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl-bump does not redirect to block page
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20does%20not%20redirect%20to%20block%20page&In-Reply-To=%3C78343853-0167-c891-7cfe-1003dc80d905%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020109.html">
   <LINK REL="Next"  HREF="020138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl-bump does not redirect to block page</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl-bump%20does%20not%20redirect%20to%20block%20page&In-Reply-To=%3C78343853-0167-c891-7cfe-1003dc80d905%40treenet.co.nz%3E"
       TITLE="[squid-users] ssl-bump does not redirect to block page">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb  6 19:57:56 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020109.html">[squid-users] ssl-bump does not redirect to block page
</A></li>
        <LI>Next message (by thread): <A HREF="020138.html">[squid-users] ssl-bump does not redirect to block page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20114">[ date ]</a>
              <a href="thread.html#20114">[ thread ]</a>
              <a href="subject.html#20114">[ subject ]</a>
              <a href="author.html#20114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/02/19 3:52 am, leo messi wrote:
&gt;<i> Hi
</I>&gt;<i> My squid config is something like this:
</I>&gt;<i> acl blk ssl::server_name .google.com
</I>&gt;<i> http_access deny blk
</I>&gt;<i> http_access allow all
</I>&gt;<i> 
</I>...
&gt;<i> 
</I>&gt;<i> acl step1 at_step SslBump1
</I>&gt;<i> ssl_bump peek step1
</I>&gt;<i> ssl_bump splice all
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> My problem is when i block some pages like google.com,my firefox browser
</I>&gt;<i> show &quot;secure connection failed&quot;,but i want it to show block page or
</I>&gt;<i> warning page, how can i do this?
</I>

You have chosen to splice the traffic. So far only TCP SYN packet and
TLS clientHello have happened. There is no HTTP request to 'redirect'.

To cause anything at all to display in the browser you require fully
decrypting the traffic. aka the 'bump' action.
Please see &lt;<A HREF="https://wiki.squid-cache.org/Features/SslPeekAndSplice">https://wiki.squid-cache.org/Features/SslPeekAndSplice</A>&gt;


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020109.html">[squid-users] ssl-bump does not redirect to block page
</A></li>
	<LI>Next message (by thread): <A HREF="020138.html">[squid-users] ssl-bump does not redirect to block page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20114">[ date ]</a>
              <a href="thread.html#20114">[ thread ]</a>
              <a href="subject.html#20114">[ subject ]</a>
              <a href="author.html#20114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
