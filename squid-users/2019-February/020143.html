<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20execute%20url_rewrite_program%0A%20/usr/bin/squidGuard%20-c%20/etc/squidguard/squidGuard.conf&In-Reply-To=%3C1614bdcb-30e7-b61e-fe3b-91c20f7ece62%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020142.html">
   <LINK REL="Next"  HREF="020147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20execute%20url_rewrite_program%0A%20/usr/bin/squidGuard%20-c%20/etc/squidguard/squidGuard.conf&In-Reply-To=%3C1614bdcb-30e7-b61e-fe3b-91c20f7ece62%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Feb 12 00:01:42 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020142.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
        <LI>Next message (by thread): <A HREF="020147.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20143">[ date ]</a>
              <a href="thread.html#20143">[ thread ]</a>
              <a href="subject.html#20143">[ subject ]</a>
              <a href="author.html#20143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/02/19 6:11 am, Alex Rousskov wrote:
&gt;<i> On 2/2/19 12:37 PM, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A> wrote:
</I>&gt;&gt;<i> Can we change the default from &quot;startup=0&quot; to &quot;startup=1&quot; ?
</I>&gt;<i> 
</I>&gt;<i> We obviously can. The real question is whether we should. AFAICT, the
</I>&gt;<i> default changed to zero in commit 48d54e4. In that commit message, I did
</I>&gt;<i> not find an explanation of _why_ the default was changed, but I could
</I>&gt;<i> have missed it. I only saw references to why the new default may cause
</I>&gt;<i> problems.
</I>
This feature was added with a focus on improving efficiency for small
integrated systems (OpenWRT, RaspberryPi, Android etc.) with some
additional benefits for larger systems.

The small limited-resource systems lack of RAM meant the default of 10
always running helpers of each type consumed sometimes considerably more
memory than was available in total or necessary.

Even larger resource-rick systems were having issues with admin
(mis)configuring hundreds of NTLM helpers in attempts to avoid helpers
all being busy at peak login times.

Most of that was solved by going dynamic. The default being 0 was extra
performance tuning - in hindsight perhapse not the best choice but
suited the use-case for limited memory devices and we have not had many
issues reported about it. A default of 1 would still solve most of the
issues as well as detecting helper crashes on startup. It would mean a
somewhat slower (few seconds) startup on some devices though.


&gt;<i> 
</I>&gt;<i> Before we restart changing defaults, we should agree on some principles
</I>&gt;<i> that should guide us in selecting the right default. Please feel free to
</I>&gt;<i> propose/defend them if you want to work on this change. Here is an
</I>&gt;<i> example of a possible principle we could use for situations where the
</I>&gt;<i> default option value is not clear/obvious:
</I>&gt;<i> 
</I>&gt;<i> * The default should maximize the chance that a misconfiguration is
</I>&gt;<i> discovered at startup time (rather than at runtime).
</I>&gt;<i> 
</I>
* the default should not induce overly much RAM usage.

* the default should not cause unnecessary processes to run.

This last is the trickiest because it is a bit fuzzy and relies on
assumptions about admin behaviours - which also vary over time as
experience is gained or forgotten.

 ** Default 0 (current status-quo) assumption is that the admin might
configure a helper that is never used.

 ** Default of 1 that all helpers are needed, but maybe fast enough not
to need many forks().

 ** Default 2+ that traffic load and helper usage is going to be high
with all helpers handling a lot of I/O.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020142.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
	<LI>Next message (by thread): <A HREF="020147.html">[squid-users] Squid doesn't execute url_rewrite_program /usr/bin/squidGuard -c /etc/squidguard/squidGuard.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20143">[ date ]</a>
              <a href="thread.html#20143">[ thread ]</a>
              <a href="subject.html#20143">[ subject ]</a>
              <a href="author.html#20143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
