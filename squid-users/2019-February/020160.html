<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Problem rtmp traffic through Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20rtmp%20traffic%20through%20Squid&In-Reply-To=%3Cfc875f56-cee4-0888-17bd-b0d3eb7ea033%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020159.html">
   <LINK REL="Next"  HREF="020162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Problem rtmp traffic through Squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Problem%20rtmp%20traffic%20through%20Squid&In-Reply-To=%3Cfc875f56-cee4-0888-17bd-b0d3eb7ea033%40treenet.co.nz%3E"
       TITLE="[squid-users] Problem rtmp traffic through Squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Feb 13 13:14:30 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020159.html">[squid-users] Problem rtmp traffic through Squid
</A></li>
        <LI>Next message (by thread): <A HREF="020162.html">[squid-users] Problem rtmp traffic through Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20160">[ date ]</a>
              <a href="thread.html#20160">[ thread ]</a>
              <a href="subject.html#20160">[ subject ]</a>
              <a href="author.html#20160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/02/19 1:37 am, Ahmad, Sarfaraz wrote:
&gt;<i> Did you add them to &#8220;safe_ports&#8221; acl ? ( assuming you have one )
</I>&gt;<i> 
</I>
Port 1935 is already part of the Safe_ports ACL by default.

What it is not part of is the SSL_Ports ACL which prohibits almost all
ports having CONNECT tunnels opened.

If the Flash agent in use, or its Browser is properly using the proxy
it/they should be attempting to open a CONNECT tunnel to the RTMP server
(possibly port 1935, maybe another) for the stream to flow within.

Check your proxy access.log for these attempts and decide from there
what detail(s) you are going to use to permit access (port, server name,
or UA string, etc).
 Likely you will need to add the relevant port to SSL_Ports (preventing
it being forbidden) and then also add other http_access lines to
restrict which traffic is allowed to contact that port.


&gt;<i> 
</I>&gt;<i> *From:* squid-users *On
</I>&gt;<i> Behalf Of *????????? ?????? ????????????
</I>&gt;<i> *Sent:* Wednesday, February 13, 2019 5:56 PM
</I>&gt;<i> 
</I>&gt;<i> Hello! In our organization, we use squid proxy server. And we found a
</I>&gt;<i> problem with viewing webinars that run on adobe Flash. Network engineers
</I>&gt;<i> found out that rtmp traffic on port 1935 bypasses the proxy server,
</I>&gt;<i> which is specified in the browser settings. In this connection, the site
</I>&gt;<i> does not work media content. The same problem is covered on the Adobe
</I>&gt;<i> website <A HREF="https://forums.adobe.com/thread/905051">https://forums.adobe.com/thread/905051</A>
</I>&gt;<i> 
</I>&gt;<i> Can you help with providing information on configuring squid to work
</I>&gt;<i> with adobe Flash?
</I>&gt;<i> 
</I>

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020159.html">[squid-users] Problem rtmp traffic through Squid
</A></li>
	<LI>Next message (by thread): <A HREF="020162.html">[squid-users] Problem rtmp traffic through Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20160">[ date ]</a>
              <a href="thread.html#20160">[ thread ]</a>
              <a href="subject.html#20160">[ subject ]</a>
              <a href="author.html#20160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
