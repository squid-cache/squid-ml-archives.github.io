<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with squid parents
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.x%3A%20cache_peer%20PROXY_PROTOCOL%20support%20with%0A%20squid%20parents&In-Reply-To=%3C81814bd0-7c59-9156-d8a5-fa84528ebf87%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020208.html">
   <LINK REL="Next"  HREF="020213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with squid parents</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.x%3A%20cache_peer%20PROXY_PROTOCOL%20support%20with%0A%20squid%20parents&In-Reply-To=%3C81814bd0-7c59-9156-d8a5-fa84528ebf87%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with squid parents">squid3 at treenet.co.nz
       </A><BR>
    <I>Sat Feb 23 03:06:59 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020208.html">[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with	squid parents
</A></li>
        <LI>Next message (by thread): <A HREF="020213.html">[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with	squid parents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20212">[ date ]</a>
              <a href="thread.html#20212">[ thread ]</a>
              <a href="subject.html#20212">[ subject ]</a>
              <a href="author.html#20212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/02/19 2:45 am, David Touzeau wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> We would like to use this infrastructure:
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> Squid-cache client authentication 1--------&#160;
</I>&gt;<i> 
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
</I>&gt;<i> &#160;&#160;&#160;| ----&gt; Squid Parent with ACLs per user/LDAP groups/Web filtering
</I>&gt;<i> ---&gt; INTERNET
</I>&gt;<i> 
</I>&gt;<i> Squid-cache client authentication 2 --------
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> Currently this kind of infrastructure cannot be done because the Squid
</I>&gt;<i> that acts as a client did not send credentials information to the parent
</I>&gt;<i> proxy.
</I>&gt;<i> 
</I>
There are many types of &quot;client authentication&quot; that can exist in
multiple nested protocol layers:

* HTTP WWW-Auth* credentials

* HTTP Proxy-Auth* credentials

* TLS client X.509 certificate

* CONNECT tunnel Proxy-Auth*

* TCP connection-auth scheme credentials (NTLM, Negotiate)

* IPSEC key exchange

* EUI

* IDENT user name

Which one(s) are you talking about?


&gt;<i> 
</I>&gt;<i> We think it should be done if the cache_peer is compliance with
</I>&gt;<i> PROXY_PROTOCOL rfc as the http_port is already compliance.
</I>&gt;<i> 
</I>
What are you thinking PROXY would be doing to help with the situation?

Keep in mind that the PROXY header needs to be sent before any other
bytes on the server connection. Which immediately limits the cases where
any type of client information is available.


&gt;<i> 
</I>&gt;<i> Do you have plans to add PROXY_PROTOCOL inside cache_peer feature ?
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>
To whom are you addressing this question?


Cheers,
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020208.html">[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with	squid parents
</A></li>
	<LI>Next message (by thread): <A HREF="020213.html">[squid-users] Squid 4.x: cache_peer PROXY_PROTOCOL support with	squid parents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20212">[ date ]</a>
              <a href="thread.html#20212">[ thread ]</a>
              <a href="subject.html#20212">[ subject ]</a>
              <a href="author.html#20212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
