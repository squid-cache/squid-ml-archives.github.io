<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] | Ignoring non-issuer CA from ... while squid -kparse
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%7C%20Ignoring%20non-issuer%20CA%20from%20...%20while%20squid%20-kparse&In-Reply-To=%3C%21%26%21AAAAAAAAAAAuAAAAAAAAANdDuvHk9MdNkXRSPO6m5z0BAMO2jhD3dRHOtM0AqgC7tuYAAAAAAA4AABAAAADUp5DzvZm8R6KU0waBzIwBAQAAAAA%3D%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020224.html">
   <LINK REL="Next"  HREF="020225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] | Ignoring non-issuer CA from ... while squid -kparse</H1>
    <B>eliezer at ngtech.co.il</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%7C%20Ignoring%20non-issuer%20CA%20from%20...%20while%20squid%20-kparse&In-Reply-To=%3C%21%26%21AAAAAAAAAAAuAAAAAAAAANdDuvHk9MdNkXRSPO6m5z0BAMO2jhD3dRHOtM0AqgC7tuYAAAAAAA4AABAAAADUp5DzvZm8R6KU0waBzIwBAQAAAAA%3D%40ngtech.co.il%3E"
       TITLE="[squid-users] | Ignoring non-issuer CA from ... while squid -kparse">eliezer at ngtech.co.il
       </A><BR>
    <I>Sun Feb 24 02:36:17 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020224.html">[squid-users] Issues With 3.1.20 and Windows Update
</A></li>
        <LI>Next message (by thread): <A HREF="020225.html">[squid-users] | Ignoring non-issuer CA from ... while squid -kparse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20223">[ date ]</a>
              <a href="thread.html#20223">[ thread ]</a>
              <a href="subject.html#20223">[ subject ]</a>
              <a href="author.html#20223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am testing intermediate  certificates and I have just created a key and
certificate files.
The http line for ssl bump is:
http_port 23128 ssl-bump generate-host-certificates=on
dynamic_cert_mem_cache_size=16MB  cert=/etc/squid/ssl_cert/cert.pem
key=/etc/squid/ssl_cert/key.pem
 
While running squid -kparse I get the next output:
2019/02/24 04:28:03| Using certificate in /etc/squid/ssl_cert/cert.pem
2019/02/24 04:28:03| Using certificate chain in /etc/squid/ssl_cert/cert.pem
2019/02/24 04:28:03| Ignoring non-issuer CA from
/etc/squid/ssl_cert/cert.pem: /C=IL/ST=Shomron/O=NgTech
LTD/CN=pxaa13a65c.ngtech.co.il
## END OF OUTPUT SNIPPET
 
I have seen the note in the code
// checks that the chained certs are actually part of a chain for 
validating cert
at:
<A HREF="https://github.com/squid-cache/squid/blob/75aadeb9cc1128bb50adf8fc629d3957e9">https://github.com/squid-cache/squid/blob/75aadeb9cc1128bb50adf8fc629d3957e9</A>
a88f2f/src/security/KeyData.cc#L121
 
I am not sure how to look at this.
I am almost sure I did something wrong, maybe when I created the root CA or
the intermidate?
 
The actual result is that it works and the connections are being intercepted
without errors since the signing rootCA is installed on windows and firefox.
Not sure how to look at this log..
 
Thanks,
Eliezer 
 
----
 &lt;<A HREF="http://ngtech.co.il/main-en/">http://ngtech.co.il/main-en/</A>&gt; Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email:  &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190224/b18984ea/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190224/b18984ea/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 11295 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190224/b18984ea/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190224/b18984ea/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020224.html">[squid-users] Issues With 3.1.20 and Windows Update
</A></li>
	<LI>Next message (by thread): <A HREF="020225.html">[squid-users] | Ignoring non-issuer CA from ... while squid -kparse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20223">[ date ]</a>
              <a href="thread.html#20223">[ thread ]</a>
              <a href="subject.html#20223">[ subject ]</a>
              <a href="author.html#20223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
