<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Odd behavior on CNAME
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Odd%20behavior%20on%20CNAME&In-Reply-To=%3C017701d4ac1b%24381769e0%24a8463da0%24%40ngtech.co.il%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019930.html">
   <LINK REL="Next"  HREF="019932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Odd behavior on CNAME</H1>
    <B>eliezer at ngtech.co.il</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Odd%20behavior%20on%20CNAME&In-Reply-To=%3C017701d4ac1b%24381769e0%24a8463da0%24%40ngtech.co.il%3E"
       TITLE="[squid-users] Odd behavior on CNAME">eliezer at ngtech.co.il
       </A><BR>
    <I>Mon Jan 14 15:09:59 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="019930.html">[squid-users] Odd behavior on CNAME
</A></li>
        <LI>Next message (by thread): <A HREF="019932.html">[squid-users] Odd behavior on CNAME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19931">[ date ]</a>
              <a href="thread.html#19931">[ thread ]</a>
              <a href="subject.html#19931">[ subject ]</a>
              <a href="author.html#19931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It should return:
&lt;!-- ERR_DNS_FAIL --&gt;
&#8230; page.
And it takes 100 ms.
 
Can you re-test it?
Also make sure what happens if you run the same command from within the proxy host and not remotely.
 
Another option is that there is something else between you and the proxy but it sound odd.
 
Eliezer
 
----
 &lt;<A HREF="http://ngtech.co.il/main-en/">http://ngtech.co.il/main-en/</A>&gt; Eliezer Croitoru
Linux System Administrator
Mobile: +972-5-28704261
Email:  &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>

 
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Felix Falk
Sent: Monday, January 14, 2019 12:51
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Odd behavior on CNAME
 
Hi,
I have a linkchecker running over Squid as forwardproxy. One Site is not longer existing but DNS still has a CNAME Record except the CNAME is pointing nowhere:

&gt;<i> $ host de.sitestat.com
</I>&gt;<i> de.sitestat.com is an alias for wildcard.sitestat.com.
</I>&gt;<i> $ host wildcard.sitestat.com.
</I>&gt;<i> $ 
</I>
If called via curl:
&gt;<i> $ curl --proxy forwardproxy:3128 -v <A HREF="http://de.sitestat.com/">http://de.sitestat.com/</A>
</I>&gt;<i> * About to connect() to proxy forwardproxy.rz.babiel.com port 3128 (#0)
</I>&gt;<i> *   Trying 192.168.110.215...
</I>&gt;<i> * Connected to forwardproxy.rz.babiel.com (192.168.110.215) port 3128 (#0)
</I>&gt;<i> &gt; GET <A HREF="http://de.sitestat.com/">http://de.sitestat.com/</A> HTTP/1.1
</I>&gt;<i> &gt; User-Agent: curl/7.29.0
</I>&gt;<i> &gt; Host: de.sitestat.com
</I>&gt;<i> &gt; Accept: */*
</I>&gt;<i> &gt; Proxy-Connection: Keep-Alive
</I>&gt;<i> &gt; 
</I>
The connection and this curl stays open for literally infinitely. (tested for 3 days).

In the Squid access.log nothing shows up. My cache.log has:
&gt;<i> 2019/01/14 11:30:31 kid1| ipcacheParse: No Address records in response to 'de.sitestat.com'
</I>
Any ideas how to solve this or is this simply a bug?

Felix
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190114/e93804b4/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190114/e93804b4/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 11295 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190114/e93804b4/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190114/e93804b4/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="019930.html">[squid-users] Odd behavior on CNAME
</A></li>
	<LI>Next message (by thread): <A HREF="019932.html">[squid-users] Odd behavior on CNAME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19931">[ date ]</a>
              <a href="thread.html#19931">[ thread ]</a>
              <a href="subject.html#19931">[ subject ]</a>
              <a href="author.html#19931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
