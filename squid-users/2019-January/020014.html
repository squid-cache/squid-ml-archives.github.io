<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20on%20openwrt%3A%20Possible%20to%20get%20rid%20of%20%22...%0A%20SECURITY%20ALERT%3A%20Host%20header%20forgery%20detected%20...%22%20msgs%20%3F&In-Reply-To=%3Ca1a6a99b-970d-4dcd-1476-6a4371b849a9%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020011.html">
   <LINK REL="Next"  HREF="020015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20on%20openwrt%3A%20Possible%20to%20get%20rid%20of%20%22...%0A%20SECURITY%20ALERT%3A%20Host%20header%20forgery%20detected%20...%22%20msgs%20%3F&In-Reply-To=%3Ca1a6a99b-970d-4dcd-1476-6a4371b849a9%40treenet.co.nz%3E"
       TITLE="[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Jan 23 11:02:05 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020011.html">[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?
</A></li>
        <LI>Next message (by thread): <A HREF="020015.html">[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20014">[ date ]</a>
              <a href="thread.html#20014">[ thread ]</a>
              <a href="subject.html#20014">[ subject ]</a>
              <a href="author.html#20014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/01/19 9:22 pm, reinerotto wrote:
&gt;<i> Running squid 4.4 on very limited device, unfortunately quite a lot of
</I>&gt;<i> messages: &quot;... SECURITY ALERT: Host header forgery detected ... &quot;  show up. 
</I>&gt;<i> Unable to eliminate real cause of this issue (even using iptables to redir
</I>&gt;<i> all DNS requests to one dnsmasq does not help), these annoying messages tend
</I>&gt;<i> to fill up cache.log, which is kept in precious RAM. 
</I>&gt;<i> Is there an &quot;official&quot; method to suppress these messages ?
</I>&gt;<i> Or can you please give a hint, where to apply a (hopefully) simple patch ?
</I>&gt;<i> 
</I>
See &lt;<A HREF="https://wiki.squid-cache.org/KnowledgeBase/HostHeaderForgery">https://wiki.squid-cache.org/KnowledgeBase/HostHeaderForgery</A>&gt;

FYI: There is still active malware out there searching for proxies that
are vulnerable and utilizing them for nefarious uses.


The last person to ask this questio turned out to have a network
infected with that malware.
I thought last year that a decade of fixed Squid being used was long
enough for things to die down and let us loosen up a bit. Then was
informed about yet another ISP being attacked through those methods. So
no, an official patch removing them is not on the book yet.

Almost all the ways we are able to reduce the side effects have been
done and are included in that Squid-4.4

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020011.html">[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?
</A></li>
	<LI>Next message (by thread): <A HREF="020015.html">[squid-users] squid on openwrt: Possible to get rid of &quot;... SECURITY ALERT: Host header forgery detected ...&quot; msgs ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20014">[ date ]</a>
              <a href="thread.html#20014">[ thread ]</a>
              <a href="subject.html#20014">[ subject ]</a>
              <a href="author.html#20014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
