<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Cache Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Cache%20Problem&In-Reply-To=%3C1564033285452-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020805.html">
   <LINK REL="Next"  HREF="020809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Cache Problem</H1>
    <B>Devilindisguise</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Cache%20Problem&In-Reply-To=%3C1564033285452-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid Cache Problem">devilindisguisedevlin at gmail.com
       </A><BR>
    <I>Thu Jul 25 05:41:25 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020805.html">[squid-users] error:transaction-end-before-headers on squid 5.x
</A></li>
        <LI>Next message (by thread): <A HREF="020809.html">[squid-users] Squid Cache Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20808">[ date ]</a>
              <a href="thread.html#20808">[ thread ]</a>
              <a href="subject.html#20808">[ subject ]</a>
              <a href="author.html#20808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all

Let me preface this by stating I am far from being a Squid expert so please
bear with me.

We have what is probably an easy one. Some Windows servers use a locally
installed Squid proxy instance for all outbound traffic. These servers also
make use of some F5 GTM (DNS) servers to provide a resilient inter-DC DNS
topology.

Essentially what should happen is under steady state conditions any DNS
request should be given IP address a.a.a.a, then under failure be given
b.b.b.b. The GTM DNS TTL is 30 seconds.

What we&#8217;re finding is that even after 5 mins of failure any HTTP request
from IE (configured with the Squid proxy) still targets a.a.a.a and traffic
is dropped. During this period if we remove the Squid proxy from the IE
settings, it works as now we target b.b.b.b. 

So clearly some sort of caching, possibly DNS, is being done on the Squid. 

Where is a good place to start on Squid to troubleshoot this,

Thank you 



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020805.html">[squid-users] error:transaction-end-before-headers on squid 5.x
</A></li>
	<LI>Next message (by thread): <A HREF="020809.html">[squid-users] Squid Cache Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20808">[ date ]</a>
              <a href="thread.html#20808">[ thread ]</a>
              <a href="subject.html#20808">[ subject ]</a>
              <a href="author.html#20808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
