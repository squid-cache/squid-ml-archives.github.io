<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Why `Storage Mem capacity` has a value larger than	100%.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20%60Storage%20Mem%20capacity%60%20has%20a%20value%20larger%20than%0A%09100%25.&In-Reply-To=%3C1564368394287-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020815.html">
   <LINK REL="Next"  HREF="020821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Why `Storage Mem capacity` has a value larger than	100%.</H1>
    <B>kmiku7</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20%60Storage%20Mem%20capacity%60%20has%20a%20value%20larger%20than%0A%09100%25.&In-Reply-To=%3C1564368394287-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Why `Storage Mem capacity` has a value larger than	100%.">kakoimiku at gmail.com
       </A><BR>
    <I>Mon Jul 29 02:46:34 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020815.html">[squid-users] VoIP Software trouble
</A></li>
        <LI>Next message (by thread): <A HREF="020821.html">[squid-users] Why `Storage Mem capacity` has a value larger than 100%.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20813">[ date ]</a>
              <a href="thread.html#20813">[ thread ]</a>
              <a href="subject.html#20813">[ subject ]</a>
              <a href="author.html#20813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello
My squid consume too much memory at startup time grow.
&gt;<i>From manager cgi /squid-internal-mgr/info, I saw the `Storage Mem capacity`
</I>in Cache information for squid is 2429.7%, larger than 100%. In my opinion,
this value should be less or equal to 100%. I have searched but find nothing
about it.
Can someone tell me why? And how to limit squid memory usage, to avoid
memory grow as startup time grow and handle more and more request.
Thanks~.
The value of `cache_mem` option is 256M.

The following is outputs:

curl <A HREF="http://127.0.0.1:155/squid-internal-mgr/info">http://127.0.0.1:155/squid-internal-mgr/info</A>
Squid Object Cache: Version 4.4
Build Info:
Service Name: squidHot
Start Time:	Thu, 13 Feb 2019 06:37:48 GMT
Current Time:	Wed, 17 Jul 2019 10:46:26 GMT
Connection information for squid:
	Number of clients accessing cache:	(client_db off)
	Number of HTTP requests received:	562562
	Number of ICP messages received:	11385
	Number of ICP messages sent:	11421
	Number of queued ICP replies:	0
	Number of HTCP messages received:	0
	Number of HTCP messages sent:	0
	Request failure ratio:	 0.00
	Average HTTP requests per minute since start:	2.6
	Average ICP messages per minute since start:	0.1
	Select loop called: 2360855132 times, 5.604 ms avg
Cache information for squid:
	Hits as % of all requests:	5min: 100.0%, 60min: 98.9%
	Hits as % of bytes sent:	5min: -0.0%, 60min: 90.6%
	Memory hits as % of hit requests:	5min: 0.0%, 60min: 0.0%
	Disk hits as % of hit requests:	5min: 100.0%, 60min: 83.3%
	Storage Swap size:	62529876 KB
	Storage Swap capacity:	 1.5% used, 98.5% free
*	Storage Mem size:	6369400 KB
	Storage Mem capacity:	2429.7% used, -2329.7% free*
	Mean Object Size:	68338.66 KB
	Requests given to unlinkd:	3



--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020815.html">[squid-users] VoIP Software trouble
</A></li>
	<LI>Next message (by thread): <A HREF="020821.html">[squid-users] Why `Storage Mem capacity` has a value larger than 100%.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20813">[ date ]</a>
              <a href="thread.html#20813">[ thread ]</a>
              <a href="subject.html#20813">[ subject ]</a>
              <a href="author.html#20813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
