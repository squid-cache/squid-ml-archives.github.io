<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20dns_v4_first%20off%20for%20squid%20Squid%20Cache%3A%20Version%0A%205.0.0-20190715-rd3527ec67&In-Reply-To=%3Ce03f946759ac5082bbe6c0a383c65e68%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020818.html">
   <LINK REL="Next"  HREF="020820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20dns_v4_first%20off%20for%20squid%20Squid%20Cache%3A%20Version%0A%205.0.0-20190715-rd3527ec67&In-Reply-To=%3Ce03f946759ac5082bbe6c0a383c65e68%40treenet.co.nz%3E"
       TITLE="[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jul 29 22:14:50 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020818.html">[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67
</A></li>
        <LI>Next message (by thread): <A HREF="020820.html">[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20819">[ date ]</a>
              <a href="thread.html#20819">[ thread ]</a>
              <a href="subject.html#20819">[ subject ]</a>
              <a href="author.html#20819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2019-07-30 09:37, --Ahmad-- wrote:
&gt;<i> Hello Folks .
</I>&gt;<i> 
</I>&gt;<i> i have a problem with IPV6 when i moved to squid Squid Cache: Version
</I>&gt;<i> 5.0.0-20190715-rd3527ec67.
</I>&gt;<i> 
</I>&gt;<i> in squid 3.5 when i put :
</I>&gt;<i> dns_v4_first off
</I>&gt;<i> i have all resolution of domains for ipv6 as 1st priority then ipv4 .
</I>&gt;<i> 
</I>&gt;<i> but &#8230;
</I>&gt;<i> when i have squid 5.x.x
</I>&gt;<i> seems this directive not effective bec i keep have all domains to be 
</I>&gt;<i> ipv4 1st .
</I>&gt;<i> 
</I>
Squid-5 has the remaining parts of Happy Eyeballs algorithm for DNS 
resolving which were missing from earlier Squid. IPs are used as soon as 
they are delivered, and both types of TCP connection are attempted in 
parallel - with first TCP connection type to open being used. That makes 
sorting the way that directive used to do no longer reliable.

The ideal setup is to have working ICMP and ICMPv6 to inform Squid 
quickly of connectivity issues so it can skip past any non-working 
server IPs.

Alternatively; to force IPv4 use first configure the DNS resolver used 
by Squid to send the IPs in your desired order, or reject AAAA queries. 
That will ensure software other than Squid uses your preferences too.

&lt;<A HREF="http://www.squid-cache.org/Versions/v5/squid-5.0.0-20190719-re10182dab-RELEASENOTES.html#ss2.2">http://www.squid-cache.org/Versions/v5/squid-5.0.0-20190719-re10182dab-RELEASENOTES.html#ss2.2</A>&gt;

Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020818.html">[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67
</A></li>
	<LI>Next message (by thread): <A HREF="020820.html">[squid-users] dns_v4_first off for squid Squid Cache: Version 5.0.0-20190715-rd3527ec67
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20819">[ date ]</a>
              <a href="thread.html#20819">[ thread ]</a>
              <a href="subject.html#20819">[ subject ]</a>
              <a href="author.html#20819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
