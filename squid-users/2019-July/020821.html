<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Why `Storage Mem capacity` has a value larger than 100%.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20%60Storage%20Mem%20capacity%60%20has%20a%20value%20larger%0A%20than%20100%25.&In-Reply-To=%3C5e730ec3-29ca-e633-984b-06908bc41c4b%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020813.html">
   <LINK REL="Next"  HREF="020824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Why `Storage Mem capacity` has a value larger than 100%.</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Why%20%60Storage%20Mem%20capacity%60%20has%20a%20value%20larger%0A%20than%20100%25.&In-Reply-To=%3C5e730ec3-29ca-e633-984b-06908bc41c4b%40treenet.co.nz%3E"
       TITLE="[squid-users] Why `Storage Mem capacity` has a value larger than 100%.">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jul 30 08:29:44 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020813.html">[squid-users] Why `Storage Mem capacity` has a value larger than	100%.
</A></li>
        <LI>Next message (by thread): <A HREF="020824.html">[squid-users] Why `Storage Mem capacity` has a value larger	than 100%.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20821">[ date ]</a>
              <a href="thread.html#20821">[ thread ]</a>
              <a href="subject.html#20821">[ subject ]</a>
              <a href="author.html#20821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29/07/19 2:46 pm, kmiku7 wrote:
&gt;<i> Hello
</I>&gt;<i> My squid consume too much memory at startup time grow.
</I>&gt;<i> From manager cgi /squid-internal-mgr/info, I saw the `Storage Mem capacity`
</I>&gt;<i> in Cache information for squid is 2429.7%, larger than 100%. In my opinion,
</I>&gt;<i> this value should be less or equal to 100%. I have searched but find nothing
</I>&gt;<i> about it.
</I>&gt;<i> Can someone tell me why? And how to limit squid memory usage, to avoid
</I>&gt;<i> memory grow as startup time grow and handle more and more request.
</I>
The numbers in these reports can get a bit weird if you are running a
32-bit build of Squid on a 64-bit system, or just with very large sizes
for some things like cache.

When the value seems absurd like this use an external tool such as 'top'
to see if Squid is actually using as much memory as claimed.

If you have SMP workers configured then shared memory not working
properly could result in excessive memory usage across all of them.


Also, your proxy is apparently trying to fit objects with an *average*
size exceeding 70MB into that 256MB of cache. The bit of the report you
elided shows how many it is trying to fit in there.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020813.html">[squid-users] Why `Storage Mem capacity` has a value larger than	100%.
</A></li>
	<LI>Next message (by thread): <A HREF="020824.html">[squid-users] Why `Storage Mem capacity` has a value larger	than 100%.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20821">[ date ]</a>
              <a href="thread.html#20821">[ thread ]</a>
              <a href="subject.html#20821">[ subject ]</a>
              <a href="author.html#20821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
