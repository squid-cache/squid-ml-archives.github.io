<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Questions%20about%20connection%20pooling%20to%20origins%0A%20when%20using%20squid%20as%20a%20HTTPS%20forward%20egress%20proxy&In-Reply-To=%3C5ba23b94-c37e-31ef-badc-94b52714fc85%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020625.html">
   <LINK REL="Next"  HREF="020628.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Questions%20about%20connection%20pooling%20to%20origins%0A%20when%20using%20squid%20as%20a%20HTTPS%20forward%20egress%20proxy&In-Reply-To=%3C5ba23b94-c37e-31ef-badc-94b52714fc85%40treenet.co.nz%3E"
       TITLE="[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Jun  7 12:58:30 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020625.html">[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy
</A></li>
        <LI>Next message (by thread): <A HREF="020628.html">[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20626">[ date ]</a>
              <a href="thread.html#20626">[ thread ]</a>
              <a href="subject.html#20626">[ subject ]</a>
              <a href="author.html#20626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/06/19 11:24 pm, Srikanth Raju wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     &gt;&#160; &#160;* The biggest reason we care about TLS termination with bump is
</I>&gt;<i>     &gt;&#160; &#160; &#160;because we think it might give us performance benefits along some
</I>&gt;<i>     &gt;&#160; &#160; &#160;critical code paths *due to connection pooling to some slow
</I>&gt;<i>     &gt;&#160; &#160; &#160;upstreams within squid.*
</I>&gt;<i>     &gt;&#160; &#160;* Does squid automatically do this or does it need some extra
</I>&gt;<i>     config.
</I>&gt;<i>     &gt;&#160; &#160; &#160;I was looking at 'server_connections' config var.
</I>&gt;<i> 
</I>&gt;<i>     HTTPS connections cannot be pooled due to protocol ties at the transport
</I>&gt;<i>     level between clients and servers. Once details of the TLS handshake are
</I>&gt;<i>     delivered they are pinned together.
</I>&gt;<i> 
</I>&gt;<i> Well, what I meant was, that if we use &quot;bump&quot; directive, it is
</I>&gt;<i> effectively terminating the&#160; TLS connection from client at squid. And
</I>&gt;<i> then squid initiates a separate TLS connection to the server. with it's
</I>&gt;<i> own shared secret. Those connections to the servers/backends can be
</I>&gt;<i> pooled. This means there's a decryption/reencryption step in between. Is
</I>&gt;<i> not that what happens with squid?
</I>

Not to the degree needed for pooling. There are still many properties
from termination status, to token binding which require a 1:1 binding
between them.

It could potentially be done one day. But is not present yet and TLS is
in an arms race situation which makes it harder all the time to even do
SSL-Bump transparently.


It is really only possible for CDN operators to do pooling to their
origin servers. That is because they / reverse-proxies do not have to
use SSL-Bump at all.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020625.html">[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy
</A></li>
	<LI>Next message (by thread): <A HREF="020628.html">[squid-users] Questions about connection pooling to origins when using squid as a HTTPS forward egress proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20626">[ date ]</a>
              <a href="thread.html#20626">[ thread ]</a>
              <a href="subject.html#20626">[ subject ]</a>
              <a href="author.html#20626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
