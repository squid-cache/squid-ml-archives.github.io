<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Not Implemented error returned I believe due to	chunking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Not%20Implemented%20error%20returned%20I%20believe%20due%20to%0A%09chunking&In-Reply-To=%3C154569489.1199303.1551902421332%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020327.html">
   <LINK REL="Next"  HREF="020340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Not Implemented error returned I believe due to	chunking</H1>
    <B>Russel McDonald</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Not%20Implemented%20error%20returned%20I%20believe%20due%20to%0A%09chunking&In-Reply-To=%3C154569489.1199303.1551902421332%40mail.yahoo.com%3E"
       TITLE="[squid-users] Not Implemented error returned I believe due to	chunking">russel_mcdonald at swbell.net
       </A><BR>
    <I>Wed Mar  6 20:00:21 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020327.html">[squid-users] How to secure your cryptocurrencies
</A></li>
        <LI>Next message (by thread): <A HREF="020340.html">[squid-users] Not Implemented error returned I believe due to chunking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20339">[ date ]</a>
              <a href="thread.html#20339">[ thread ]</a>
              <a href="subject.html#20339">[ subject ]</a>
              <a href="author.html#20339">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
On Windows I'm getting an error returned when attempting to upload a file to an Amazon AWS S3 bucket, using either the WinSCP app or just using the S3 upload interface via browser, pointing to my squid proxy.I can download just fine, but not upload. ECAP is enabled for both the request and the response.
Here is the error:A header you provided implies functionality that is not implementedExtra Details: Header: Transfer-Encoding, RequestId: 3ED7C576056435A0, HostId: SU/9a+qN5rL79STErKgziygc2A34jLhWJ110qbUB1fele67wIZ5thMmgtNnKczBFVxuOy810HB4=
If I instead only specify to pass the response to my adapter via ECAP then the issue goes away.
So I captured the HTTP header for the success case and the failure case and narrowed it down the the failure case not specifying the length and specifying &quot;,chunking&quot; at the end. I assume if the request is passed to the adapter then the header has to be constructed at a time when the length of the file contents is not known? Hence has to use chunking.
I've indeed read a few forum links about just this issue, but confused as to whether chunking is supposed to finally work for 3.5.28 that I have or not. I compared to 4.x source and it looked basically the same.
I'll be needing to upload large files, too large to fit in memory, hence pretty sure chunking will be a requirement.
Is this is known issue? Any thoughts on solving it?
Thanks! I'm a Windows kernel filter driver developer so working open source is new to me. But with this forum's help I've had quite a lot of success. So thanks!
Russel McDonald
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190306/ad1e98c3/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190306/ad1e98c3/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020327.html">[squid-users] How to secure your cryptocurrencies
</A></li>
	<LI>Next message (by thread): <A HREF="020340.html">[squid-users] Not Implemented error returned I believe due to chunking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20339">[ date ]</a>
              <a href="thread.html#20339">[ thread ]</a>
              <a href="subject.html#20339">[ subject ]</a>
              <a href="author.html#20339">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
