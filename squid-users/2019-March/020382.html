<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] attempting to disable (or mute) logs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20attempting%20to%20disable%20%28or%20mute%29%20logs&In-Reply-To=%3C277e7aac-8a80-a9f0-db39-c24f8277ad72%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020380.html">
   <LINK REL="Next"  HREF="020383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] attempting to disable (or mute) logs</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20attempting%20to%20disable%20%28or%20mute%29%20logs&In-Reply-To=%3C277e7aac-8a80-a9f0-db39-c24f8277ad72%40treenet.co.nz%3E"
       TITLE="[squid-users] attempting to disable (or mute) logs">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Mar 20 12:40:39 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020380.html">[squid-users] attempting to disable (or mute) logs
</A></li>
        <LI>Next message (by thread): <A HREF="020383.html">[squid-users] attempting to disable (or mute) logs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20382">[ date ]</a>
              <a href="thread.html#20382">[ thread ]</a>
              <a href="subject.html#20382">[ subject ]</a>
              <a href="author.html#20382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/03/19 2:34 am, Joey Officer wrote:
&gt;<i> Confirmed I'm on Squid v4
</I>&gt;<i> 
</I>&gt;<i> # squid --version
</I>&gt;<i> Squid Cache: Version 4.4
</I>&gt;<i> Service Name: squid
</I>&gt;<i> 
</I>&gt;<i> I added the above and restarted my container, but the logged output has no change.  I also wanted to add that I may not have provided enough information.  The spam log entries are stdout - which is where Cloudwatch (in my case) is logging the events.  Squid container is being started with the following command:
</I>&gt;<i> 
</I>&gt;<i> squid -f /etc/squid/squid.conf -NYCd 1
</I>&gt;<i> 
</I>&gt;<i> which is the following options:
</I>&gt;<i> -N        Master process runs in foreground and is a worker. No kids.
</I>&gt;<i> -Y        Only return UDP_HIT or UDP_MISS_NOFETCH during fast reload.
</I>&gt;<i> -C        Do not catch fatal signals.
</I>&gt;<i> -d level  Write debugging to stderr also.
</I>&gt;<i> 
</I>&gt;<i> I don't have access to the access.log itself, so I'll have to assume the above entry is working for that file.  With that in mind, how would I apply the same filter to the stdout of the squid process?
</I>&gt;<i> 
</I>
There is no Squid output on stdout. Your _Cloudwatch_ thing may be
sending log data there, but that has nothing directly to do with Squid.


At most Squid prints some initial messages to stderr on startup which
Unix based OS typically write into a kernel log called
'/var/log/messages' (but YMMV). Once the cache.log *file* is initialized
critical and important notices, along with all helper stderr outputs go
to that cache.log file.

 ***** Please note that setting cache.log to /dev/null is highly dangerous.

  Squid log rotation, restart etc may *replace* the filesystem special
inode for /dev/null with a regular inode for a cache.log file. Squid has
root privileges on startup (required for other device access and
actions) which allow that inode replacement to be possible.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020380.html">[squid-users] attempting to disable (or mute) logs
</A></li>
	<LI>Next message (by thread): <A HREF="020383.html">[squid-users] attempting to disable (or mute) logs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20382">[ date ]</a>
              <a href="thread.html#20382">[ thread ]</a>
              <a href="subject.html#20382">[ subject ]</a>
              <a href="author.html#20382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
