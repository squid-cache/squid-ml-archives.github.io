<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid File Upload Blocking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20File%20Upload%20Blocking&In-Reply-To=%3C6a18482e627c4ff486dc2b02d6e6913e%40schroeffu.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020549.html">
   <LINK REL="Next"  HREF="020551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid File Upload Blocking</H1>
    <B>info at schroeffu.ch</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20File%20Upload%20Blocking&In-Reply-To=%3C6a18482e627c4ff486dc2b02d6e6913e%40schroeffu.ch%3E"
       TITLE="[squid-users] Squid File Upload Blocking">info at schroeffu.ch
       </A><BR>
    <I>Tue May  7 22:45:36 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020549.html">[squid-users] Squid File Upload Blocking
</A></li>
        <LI>Next message (by thread): <A HREF="020551.html">[squid-users] Squid File Upload Blocking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20550">[ date ]</a>
              <a href="thread.html#20550">[ thread ]</a>
              <a href="subject.html#20550">[ subject ]</a>
              <a href="author.html#20550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Lukas

for my understanding you have to decrypt the SSL connection with SSL bump, otherwise Squid is unable to read what mime type is going through the ssl tunneled connection.

lot regards
schroeffu

7. Mai 2019 22:41, &quot;Lukas Y&#269;as&quot; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">lukasycas at gmail.com</A> (mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">lukasycas at gmail.com</A>?to=%22Lukas%20Y%C4%8Das%22%20&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">lukasycas at gmail.com</A>&gt;)&gt; schrieb:
Hello,
I am currently attempting to block File Upload with squid -

squid.conf:
acl filesblock2 req_mime_type &quot;/usr/local/squid/etc/blocked_up_extensions.acl&quot; 
http_access deny filesblock2

blocked_up_extensions.acl:
application/msword 
application/vnd.openxmlformats-officedocument.wordprocessingml.document 
With these settings applied I'm still able to upload .doc / .docx files for example via this website:
<A HREF="https://uploadfiles.io/">https://uploadfiles.io/</A> (<A HREF="https://uploadfiles.io/">https://uploadfiles.io/</A>)

Am I missing something? How can I make it work?

P.S. I somehow do not receive replies via this mailing list, I can only read the daily digest, if you could add my email to CC while replying I would be very glad.

Regards, 
Lukas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190507/b632dcaa/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190507/b632dcaa/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020549.html">[squid-users] Squid File Upload Blocking
</A></li>
	<LI>Next message (by thread): <A HREF="020551.html">[squid-users] Squid File Upload Blocking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20550">[ date ]</a>
              <a href="thread.html#20550">[ thread ]</a>
              <a href="subject.html#20550">[ subject ]</a>
              <a href="author.html#20550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
