<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] CFG for access using certificates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CFG%20for%20access%20using%20certificates&In-Reply-To=%3C519dd3f8-9cad-30fd-3cee-605252101888%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020590.html">
   <LINK REL="Next"  HREF="020577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] CFG for access using certificates</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20CFG%20for%20access%20using%20certificates&In-Reply-To=%3C519dd3f8-9cad-30fd-3cee-605252101888%40treenet.co.nz%3E"
       TITLE="[squid-users] CFG for access using certificates">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed May 29 13:45:03 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020590.html">[squid-users] CFG for access using certificates
</A></li>
        <LI>Next message (by thread): <A HREF="020577.html">[squid-users] Cache cellphone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20598">[ date ]</a>
              <a href="thread.html#20598">[ thread ]</a>
              <a href="subject.html#20598">[ subject ]</a>
              <a href="author.html#20598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28/05/19 11:56 pm, J&#257;nis wrote:
&gt;<i> 
</I>&gt;<i> Cit&#275;ts Amos Jeffries
</I>&gt;<i> Sun, 19 May 2019 14:53:33 +1200:
</I>&gt;<i> 
</I>&gt;&gt;<i> On 19/05/19 5:45 am, J&#257;nis wrote:
</I>&gt;&gt;&gt;<i> Hi!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It is clear for me how to limit access to proxy from specific IPs using
</I>&gt;&gt;&gt;<i> ACL.
</I>&gt;&gt;&gt;<i> I wish to create the config for the use of proxy over ssl from any
</I>&gt;&gt;&gt;<i> address. How would basic cfg look like assuming it is the only way how
</I>&gt;&gt;&gt;<i> to use proxy?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;https_port 3127 tls-cert=/etc/squid/proxy.pem
</I>&gt;&gt;<i> &#160;http_access allow all
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope you can see that this is *not* secure in any way. Simple TLS to a
</I>&gt;&gt;<i> proxy only protects the in-transit bytes against spying. The proxy is an
</I>&gt;&gt;<i> open-proxy for any attacker to use at will, and the TLS can trivially be
</I>&gt;&gt;<i> MITM'd.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You still need to have security checks (http_access rules) to check
</I>&gt;&gt;<i> whether the client is authorized to use the proxy.
</I>&gt;<i> 
</I>&gt;<i> Could it be user/password authentification? Is it plain-text or also
</I>&gt;<i> over SSL?
</I>

If that suits your needs. The in-transit protection of TLS allows things
like Basic auth to be more secure than they are normally.

Almost anything is better than allowing anyone who can contact the proxy
to use it for *anything* they wish.

&gt;<i> 
</I>&gt;<i> The other solution could be using ssl tunnels with private key
</I>&gt;<i> authentification.
</I>&gt;<i> 
</I>
That would be the polar opposite in terms of security from what you have
now. More secure is generally better. But YMMV on how far you can go
before things get too difficult for clients.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020590.html">[squid-users] CFG for access using certificates
</A></li>
	<LI>Next message (by thread): <A HREF="020577.html">[squid-users] Cache cellphone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20598">[ date ]</a>
              <a href="thread.html#20598">[ thread ]</a>
              <a href="subject.html#20598">[ subject ]</a>
              <a href="author.html#20598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
