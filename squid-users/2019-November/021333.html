<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid and SSLBump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20SSLBump&In-Reply-To=%3Cc851b92a-1ef9-fd58-8559-792926012c3c%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021331.html">
   <LINK REL="Next"  HREF="021336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid and SSLBump</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20SSLBump&In-Reply-To=%3Cc851b92a-1ef9-fd58-8559-792926012c3c%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid and SSLBump">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Nov 22 08:43:29 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021331.html">[squid-users] Squid and SSLBump
</A></li>
        <LI>Next message (by thread): <A HREF="021336.html">[squid-users] not getting tcp_hit on squid 3.5.27
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21333">[ date ]</a>
              <a href="thread.html#21333">[ thread ]</a>
              <a href="subject.html#21333">[ subject ]</a>
              <a href="author.html#21333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/11/19 9:19 am, Monah Baki wrote:
&gt;<i> I added the following:
</I>&gt;<i> 
</I>&gt;<i> sslproxy_cert_error allow all
</I>&gt;<i> sslproxy_flags DONT_VERIFY_PEER
</I>&gt;<i> 
</I>&gt;<i> and it works now.
</I>&gt;<i> 
</I>&gt;<i> In my access.log:
</I>&gt;<i> 
</I>&gt;<i> 172.16.84.241 - - [21/Nov/2019:15:15:05 -0500] &quot;CONNECT
</I>&gt;<i> static.xx.fbcdn.net:443 &lt;<A HREF="http://static.xx.fbcdn.net:443">http://static.xx.fbcdn.net:443</A>&gt;&quot; 200 4199 &quot;-&quot;
</I>&gt;<i> &quot;Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;
</I>&gt;<i> 172.16.84.241 - - [21/Nov/2019:15:15:05 -0500] &quot;CONNECT fbcdn.net:443
</I>&gt;<i> &lt;<A HREF="http://fbcdn.net:443">http://fbcdn.net:443</A>&gt;&quot; 200 5431 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0;
</I>&gt;<i> WOW64; Trident/7.0; rv:11.0) like Gecko&quot;
</I>&gt;<i> 172.16.84.241 - - [21/Nov/2019:15:15:05 -0500] &quot;CONNECT fbsbx.com:443
</I>&gt;<i> &lt;<A HREF="http://fbsbx.com:443">http://fbsbx.com:443</A>&gt;&quot; 200 5439 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0;
</I>&gt;<i> WOW64; Trident/7.0; rv:11.0) like Gecko&quot;
</I>&gt;<i> 172.16.84.241 - - [21/Nov/2019:15:15:05 -0500] &quot;CONNECT
</I>&gt;<i> connect.facebook.net:443 &lt;<A HREF="http://connect.facebook.net:443">http://connect.facebook.net:443</A>&gt;&quot; 200 6085 &quot;-&quot;
</I>&gt;<i> &quot;Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;
</I>&gt;<i> 172.16.84.241 - - [21/Nov/2019:15:15:05 -0500] &quot;CONNECT www.cnn.com:443
</I>&gt;<i> &lt;<A HREF="http://www.cnn.com:443">http://www.cnn.com:443</A>&gt;&quot; 200 155123 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0;
</I>&gt;<i> WOW64; Trident/7.0; rv:11.0) like Gecko&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So since I am new to sslbump, what am I benefiting from this?
</I>
You are not benefiting. Problems the users ask you to track down with
TLS will now be hidden from your debugging attempts. Users TLS can now
be intercepted and the traffic replaced by anyone. You will not be shown
the signs of that happening since you told Squid to hide them.


&gt;<i> able to see unencrypted data?
</I>
No more than before. Its just that Squid will no longer attempt to
verify the certs are valid or report in logs etc about problems.
Basically your users traffic can now be intercepted by anybody, anywhere
along the Internet paths and replaced with other content - your Squid
will not report anything amiss.

Basically any TLS through your proxy is no longer secure.



In general you will always see sites having trouble with TLS. This is
normal, expected, and sometimes a *good* thing.

Change your focus to identifying *what* is failing for each site that
you want to work but fails. Sometimes it is a problem you can fix,
sometimes can be ignored (sslproxy_cert_error directive is for these).
But definitely decide what to do case-by-case instead of &quot;allow all&quot;.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021331.html">[squid-users] Squid and SSLBump
</A></li>
	<LI>Next message (by thread): <A HREF="021336.html">[squid-users] not getting tcp_hit on squid 3.5.27
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21333">[ date ]</a>
              <a href="thread.html#21333">[ thread ]</a>
              <a href="subject.html#21333">[ subject ]</a>
              <a href="author.html#21333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
