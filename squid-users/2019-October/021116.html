<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Does Squid support ICAP early responses?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20Squid%20support%20ICAP%20early%20responses%3F&In-Reply-To=%3C6ba2cfb9-862f-635d-9c69-e9df2e116688%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021115.html">
   <LINK REL="Next"  HREF="021117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Does Squid support ICAP early responses?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20Squid%20support%20ICAP%20early%20responses%3F&In-Reply-To=%3C6ba2cfb9-862f-635d-9c69-e9df2e116688%40measurement-factory.com%3E"
       TITLE="[squid-users] Does Squid support ICAP early responses?">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Oct  1 14:55:12 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021115.html">[squid-users] Does Squid support ICAP early responses?
</A></li>
        <LI>Next message (by thread): <A HREF="021117.html">[squid-users] Squid Benchmark
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21116">[ date ]</a>
              <a href="thread.html#21116">[ thread ]</a>
              <a href="subject.html#21116">[ subject ]</a>
              <a href="author.html#21116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/1/19 10:47 AM, Felipe Arturo Polanco wrote:

&gt;<i> Do you know if squid, after receiving an early response that the file is
</I>&gt;<i> good, will start immediately the transfer to the downstream client in
</I>&gt;<i> parallel while finishing up the ICAP transaction&#160;with the ICAP server?
</I>
Same answer: I do not know for sure, but it is possible that Squid will
do that. Squid should do that. If it does not, then quality pull
requests that fix or add that support would be welcomed.

Alex.


&gt;<i> On Tue, Oct 1, 2019 at 10:28 AM Alex Rousskov wrote:
</I>&gt;<i> 
</I>&gt;<i>     On 9/30/19 12:23 PM, Felipe Arturo Polanco wrote:
</I>&gt;<i> 
</I>&gt;<i>     &gt; Does anyone know if Squid support early ICAP responses from the ICAP
</I>&gt;<i>     &gt; server in the middle of a body transfer?
</I>&gt;<i> 
</I>&gt;<i>     I do not know for sure. A source code comment implies that Squid ICAP
</I>&gt;<i>     client expects early responses to be errors, but I did not see any
</I>&gt;<i>     obvious signs that a positive early response cannot be handled correctly
</I>&gt;<i>     in my cursory review of the corresponding code.
</I>&gt;<i> 
</I>&gt;<i>     I can say that Squid _should_ support early responses. If it does not,
</I>&gt;<i>     quality pull requests that fix or add that support would be welcomed.
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F">https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F</A>
</I>&gt;<i> 
</I>&gt;<i>     Alex.
</I>&gt;<i>     P.S. Please note that an early response itself does _not_ end an ICAP
</I>&gt;<i>     transaction. To preserve the ICAP connection, the ICAP client (i.e.
</I>&gt;<i>     Squid) still has to finish sending the request.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021115.html">[squid-users] Does Squid support ICAP early responses?
</A></li>
	<LI>Next message (by thread): <A HREF="021117.html">[squid-users] Squid Benchmark
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21116">[ date ]</a>
              <a href="thread.html#21116">[ thread ]</a>
              <a href="subject.html#21116">[ subject ]</a>
              <a href="author.html#21116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
