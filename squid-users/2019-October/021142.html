<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] External ACL undocumented changes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20External%20ACL%20undocumented%20changes%3F&In-Reply-To=%3C1570497450366-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021141.html">
   <LINK REL="Next"  HREF="021143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] External ACL undocumented changes?</H1>
    <B>johnr</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20External%20ACL%20undocumented%20changes%3F&In-Reply-To=%3C1570497450366-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] External ACL undocumented changes?">johnrefwe at mail.com
       </A><BR>
    <I>Tue Oct  8 01:17:30 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021141.html">[squid-users] External ACL undocumented changes?
</A></li>
        <LI>Next message (by thread): <A HREF="021143.html">[squid-users] External ACL undocumented changes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21142">[ date ]</a>
              <a href="thread.html#21142">[ thread ]</a>
              <a href="subject.html#21142">[ subject ]</a>
              <a href="author.html#21142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My config is as follows: 

Squid 3:

external_acl_type should_not_ssl_bump ipv4 ttl=10 %DST %&gt;{User-Agent}
/etc/should_not_ssl_bump.py
acl should_not_ssl external should_not_ssl_bump
ssl_bump none should_not_ssl

Squid 4:

external_acl_type should_not_ssl_bump ipv4 ttl=10 children-startup=1
children-max=5 children-idle=1 %DST %{User-Agent}&gt;ha
/etc/should_not_ssl_bump.py
acl should_not_ssl external should_not_ssl_bump
ssl_bump none should_not_ssl

The rest of my config is the same between squid 3 and squid 4. I have an
ICAP reqmod that modifies the request user-agent. In squid 3, the value is
the properly modified value. In squid 4, the value is the original UA.
According to the transaction processing document, the ssl bump decision is
post reqmod changes, right? So, I guess that means bug?




--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021141.html">[squid-users] External ACL undocumented changes?
</A></li>
	<LI>Next message (by thread): <A HREF="021143.html">[squid-users] External ACL undocumented changes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21142">[ date ]</a>
              <a href="thread.html#21142">[ thread ]</a>
              <a href="subject.html#21142">[ subject ]</a>
              <a href="author.html#21142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
