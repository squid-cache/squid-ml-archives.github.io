<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] How to make only IPV6 visible even incoming via IPV4?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20make%20only%20IPV6%20visible%20even%20incoming%20via%0A%20IPV4%3F&In-Reply-To=%3C6300c252-09b1-88ef-a091-8a8f2156e9df%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021148.html">
   <LINK REL="Next"  HREF="021203.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] How to make only IPV6 visible even incoming via IPV4?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20How%20to%20make%20only%20IPV6%20visible%20even%20incoming%20via%0A%20IPV4%3F&In-Reply-To=%3C6300c252-09b1-88ef-a091-8a8f2156e9df%40treenet.co.nz%3E"
       TITLE="[squid-users] How to make only IPV6 visible even incoming via IPV4?">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct 10 05:33:50 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021148.html">[squid-users] How to make only IPV6 visible even incoming via IPV4?
</A></li>
        <LI>Next message (by thread): <A HREF="021203.html">[squid-users] RES: How to make only IPV6 visible even incoming via IPV4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21149">[ date ]</a>
              <a href="thread.html#21149">[ thread ]</a>
              <a href="subject.html#21149">[ subject ]</a>
              <a href="author.html#21149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/10/19 3:59 pm, Marcelo Rodrigo - Graminsta.com.br wrote:
&gt;<i> 
</I>&gt;<i> Now I am implementing IPV6 as outgoing_address. So a customer enters
</I>&gt;<i> with an IPV4 and is routed out via IPV6 like below in squid.conf:
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> http_port 182.XX.XX.97:4444 name=166
</I>&gt;<i> 
</I>&gt;<i> acl ip166 myportname 166
</I>&gt;<i> 
</I>&gt;<i> tcp_outgoing_address XXXX:XXXX:XXX::7bb
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> The issue is when I verify IP leads to avoid proxy detection using
</I>&gt;<i> websites like <A HREF="https://ipleak.net">https://ipleak.net</A> it shows both IPs, IPV4 and IPV6.
</I>&gt;<i> 
</I>&gt;<i> I need it to show only IPV6.
</I>&gt;<i> 
</I>...
&gt;<i> 
</I>&gt;<i> Any ideas about how to make Squid shows only the IPV6 from
</I>&gt;<i> tcp_outgoing_address?
</I>&gt;<i> 
</I>
That website you are using for your checks actively tests for ability to
connect to IPv4-only servers. So long as your network does IPv4 this
type of test will show it.

The solution (if you really want to) is one of these:

 * disable IPv4 on your network. If the connectivity for IPv4 does not
exist those addresses cannot be &quot;leaked&quot;.

 * configure your DNS to not produce A responses. If Squid cannot
resolve server IPv4 addresses, it will not try to connect to any.

 * configure your firewall to reject (not drop) attempts to connect via
IPv4.


Naturally, expect to have some amount of the Internet to be unusable.
That amount is much smaller than most people think, but if you have a
client depending on even one IPv4-only site on a regular basis it can be
extremely annoying for them.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021148.html">[squid-users] How to make only IPV6 visible even incoming via IPV4?
</A></li>
	<LI>Next message (by thread): <A HREF="021203.html">[squid-users] RES: How to make only IPV6 visible even incoming via IPV4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21149">[ date ]</a>
              <a href="thread.html#21149">[ thread ]</a>
              <a href="subject.html#21149">[ subject ]</a>
              <a href="author.html#21149">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
