<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20Controller.cc%3A838%3A%20%22%21transients%20%7C%7C%0A%20e.hasTransients%28%29%22&In-Reply-To=%3C33ab9e2e-a886-c75a-d26c-a3f1a7674319%40spawn.link%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021195.html">
   <LINK REL="Next"  HREF="021201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;</H1>
    <B>Antonio SJ Musumeci</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20assertion%20failed%3A%20Controller.cc%3A838%3A%20%22%21transients%20%7C%7C%0A%20e.hasTransients%28%29%22&In-Reply-To=%3C33ab9e2e-a886-c75a-d26c-a3f1a7674319%40spawn.link%3E"
       TITLE="[squid-users] assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;">trapexit at spawn.link
       </A><BR>
    <I>Tue Oct 22 19:24:53 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021195.html">[squid-users] external_acl_type and ipv6
</A></li>
        <LI>Next message (by thread): <A HREF="021201.html">[squid-users] assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21200">[ date ]</a>
              <a href="thread.html#21200">[ thread ]</a>
              <a href="subject.html#21200">[ subject ]</a>
              <a href="author.html#21200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Squid 4.8

Attempting to get a SMP setup with rock enabled. Instance points to an 
origin web server.

With &quot;workers 1&quot; everything appears to work fine. If I set &quot;workers 2&quot; I 
get a number of issues:

If I request a particular object a kid will fail with:

assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;

Pulling other objects sometimes works but speeds continuously decline to 
the point of being unusable. I'm not seeing any consistency between what 
objects cause what issues and any acls or refresh patterns.

Is there a simple, modern, functional SMP example to compare? Does that 
assert stand out? Didn't find anything on search engines.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021195.html">[squid-users] external_acl_type and ipv6
</A></li>
	<LI>Next message (by thread): <A HREF="021201.html">[squid-users] assertion failed: Controller.cc:838: &quot;!transients || e.hasTransients()&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21200">[ date ]</a>
              <a href="thread.html#21200">[ thread ]</a>
              <a href="subject.html#21200">[ subject ]</a>
              <a href="author.html#21200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
