<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ssl bump intermediate certificate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl%20bump%20intermediate%20certificate&In-Reply-To=%3C64c612ec-9f72-2565-b0dd-aabe2aaf2f69%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021215.html">
   <LINK REL="Next"  HREF="021213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ssl bump intermediate certificate</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ssl%20bump%20intermediate%20certificate&In-Reply-To=%3C64c612ec-9f72-2565-b0dd-aabe2aaf2f69%40treenet.co.nz%3E"
       TITLE="[squid-users] ssl bump intermediate certificate">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Oct 31 07:38:08 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021215.html">[squid-users] ssl bump intermediate certificate
</A></li>
        <LI>Next message (by thread): <A HREF="021213.html">[squid-users] Unsuccessful at using Squid v4 with intercept
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21216">[ date ]</a>
              <a href="thread.html#21216">[ thread ]</a>
              <a href="subject.html#21216">[ subject ]</a>
              <a href="author.html#21216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 31/10/19 9:49 am, Marek Gre&#353;ko wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Matus, I also found the document. It should be sending the chain, but
</I>&gt;<i> is not. When I specify cafile option it responds I shoud use
</I>&gt;<i> tls-cafile. But in either case it is not sending.
</I>&gt;<i> 
</I>&gt;<i> Walter, if squid has such requirement, then it is unfinished. Every
</I>&gt;<i> other proxy is able to run its CA as an intermediate and clients
</I>&gt;<i> install only root CA. The proxy should be responsible to hold the
</I>&gt;<i> chain. The url Matus sent is the correct way how to do it, but is is
</I>&gt;<i> not working. At least not in 4.8 vesion.
</I>&gt;<i> 
</I>
&quot;
cafile=
  File containing additional CA certificates to use
  when verifying client certificates.
&quot;

Note that last line. Squid-4 is more strict about its configured inputs
being used for what they are documented as.

The best place to put the chain is actually in the PEM file used in the
cert= parameter. It should contain as much of the chain as you want
Squid to send, starting with the proxies signing CA cert and going up
the chained intermediate CA certs towards the root CA.


Squid-4 will validate all certificates actually are a chain with correct
sequence, ignoring any which are incorrect or out of sequence. Running
&quot;squid -k parse&quot; will reports any errors loading the chain.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021215.html">[squid-users] ssl bump intermediate certificate
</A></li>
	<LI>Next message (by thread): <A HREF="021213.html">[squid-users] Unsuccessful at using Squid v4 with intercept
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21216">[ date ]</a>
              <a href="thread.html#21216">[ thread ]</a>
              <a href="subject.html#21216">[ subject ]</a>
              <a href="author.html#21216">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
