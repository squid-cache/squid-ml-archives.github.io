<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] cannot access squid with https_port: 403
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cannot%20access%20squid%20with%20https_port%3A%20403&In-Reply-To=%3Cbfd598d7-4d5d-873c-d1a5-2ca0c8d5e801%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020949.html">
   <LINK REL="Next"  HREF="020955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] cannot access squid with https_port: 403</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20cannot%20access%20squid%20with%20https_port%3A%20403&In-Reply-To=%3Cbfd598d7-4d5d-873c-d1a5-2ca0c8d5e801%40treenet.co.nz%3E"
       TITLE="[squid-users] cannot access squid with https_port: 403">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Sep  3 14:20:26 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020949.html">[squid-users] cannot access squid with https_port: 403
</A></li>
        <LI>Next message (by thread): <A HREF="020955.html">[squid-users] cannot access squid with https_port: 403
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20953">[ date ]</a>
              <a href="thread.html#20953">[ thread ]</a>
              <a href="subject.html#20953">[ subject ]</a>
              <a href="author.html#20953">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/09/19 1:21 am, fansari wrote:
&gt;<i> I have tested this and it is working.
</I>&gt;<i> 
</I>&gt;<i> This is what I said: when I use this http_port directive then it works.
</I>&gt;<i> 
</I>&gt;<i> So what is still unclear to me is: what is this https_port directive for? I
</I>&gt;<i> understood from one of you answers I found to someone else that this will
</I>&gt;<i> lead to something like double stacked TLS encryption. Is this correct?
</I>
It is for;
 a) receiving port 443 traffic from a NAT system,
or
 b) receiving TLS explicit proxy traffic.


&gt;<i> 
</I>&gt;<i> <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/https-port-td4682718.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/https-port-td4682718.html</A>
</I>&gt;<i> 
</I>&gt;<i> The most important question is: using just the http_port directive - will
</I>&gt;<i> the connection between client and squid still be https (TLS  encrypted)?
</I>
The answer you are looking for is both Yes and No.

Traffic to that port must always start with an un-encrypted request. In
the case of HTTP it starts with an unencrypted CONNECT request. The TLS
is embedded within the resulting tunnel.

The traffic which was going to be encrypted stays encrypted. But there
is a non-encrypted portion ahead of it at the transport protocol level.


&gt;<i> This is important to understand for me because we need https because our
</I>&gt;<i> nodejs application will not work with http connections.
</I>&gt;<i> 
</I>
If it can rely on a Browser to do the CONNECT tunnel part, then it
should be fine.

Otherwise, if it does everything above TCP itself and can only start
with the TLS handshake. Then you are going to need to use one of the
https_port setups.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020949.html">[squid-users] cannot access squid with https_port: 403
</A></li>
	<LI>Next message (by thread): <A HREF="020955.html">[squid-users] cannot access squid with https_port: 403
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20953">[ date ]</a>
              <a href="thread.html#20953">[ thread ]</a>
              <a href="subject.html#20953">[ subject ]</a>
              <a href="author.html#20953">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
