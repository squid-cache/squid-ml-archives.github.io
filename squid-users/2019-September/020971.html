<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid CAS integration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20CAS%20integration&In-Reply-To=%3C6bd0a80a26a72.5d7244ce%40unimi.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020970.html">
   <LINK REL="Next"  HREF="020972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid CAS integration</H1>
    <B>Dario Basset</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20CAS%20integration&In-Reply-To=%3C6bd0a80a26a72.5d7244ce%40unimi.it%3E"
       TITLE="[squid-users] Squid CAS integration">dario.basset at unimi.it
       </A><BR>
    <I>Fri Sep  6 09:36:46 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="020970.html">[squid-users] Squid CAS integration
</A></li>
        <LI>Next message (by thread): <A HREF="020972.html">[squid-users] Squid CAS integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20971">[ date ]</a>
              <a href="thread.html#20971">[ thread ]</a>
              <a href="subject.html#20971">[ subject ]</a>
              <a href="author.html#20971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks. 

-&gt; With CAS I mean the Central Authentication Service, which is supported
here: <A HREF="https://github.com/apereo/cas">https://github.com/apereo/cas</A> or here:
<A HREF="https://www.apereo.org/projects/cas">https://www.apereo.org/projects/cas</A> It is a system for Single Sign On
authentication with Service Ticket, and it is quite used in Universities. We
want to integrate Squid with CAS auth.
The authentication provided by CAS is based on a mechanism which redirect
user navigation to CAS University site, and proceed only when credentials
are valid. In this way the site that picks the credentials is not an
application site, but it is University CAS itself. The application that uses
University CAS is simply redirecting user navigation, that it takes the
control. 

-&gt; Ok for PHP

-&gt; For what concerns Squid helpers, I saw some examples, but most of those
examples are based never-ending loops that wait for standard input and then
proceed with authentication. In this loop, the credentials are picked by
Squid web server. We do not want this. We want credentials to be inputted in
our CAS portal system. But I don't know how to code configuration file for
Squid and related helpers. 

&lt;signaturebeforequotedtext&gt;&lt;/signaturebeforequotedtext&gt;
Il 06/09/19 11:16, Amos Jeffries  &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; ha scritto: 
&gt;<i> 
</I>&gt;<i> On 6/09/19 7:50 pm, Dario Basset wrote:
</I>&gt;<i> &gt; My institution has been asked to integrate Squid and CAS. We want to
</I>&gt;<i> &gt; integrate Squid and CAS in its simplest way, that is:
</I>&gt;<i> 
</I>&gt;<i> Details about this CAS ?
</I>&gt;<i> &#160;Does it have a specific name?
</I>&gt;<i>  &quot;CAS&quot; is like saying &quot;proxy&quot; - it is a type.
</I>&gt;<i> 
</I>&gt;<i> &#160;What type(s) of authentication is it doing?
</I>&gt;<i> &#160;What APIs does it provide for checking credentials validity?
</I>&gt;<i> &#160;What APIs does it provide for initial user login?
</I>&gt;<i> 
</I>&gt;<i> Note that all of those 'What ...' questions are plural. Authenticators
</I>&gt;<i> tend to have multiple APIs for each activity.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 1) redirect the navigation to the CAS site,
</I>&gt;<i> &gt; 2) let the user input login/password,
</I>&gt;<i> &gt; 3) then, after successfull login, check with PHP all nnecessary
</I>&gt;<i> &gt; permissions,
</I>&gt;<i> 
</I>&gt;<i> FWIW: my advice is to avoid PHP for Squid helpers. That language has
</I>&gt;<i> problems keeping helpers running long-term.
</I>&gt;<i> &#160;&lt;<A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#What_language_are_helper_meant_to_be_written_in.3F">https://wiki.squid-cache.org/Features/AddonHelpers#What_language_are_helper_meant_to_be_written_in.3F</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 4) proceed with Squid Proxy.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I can't understand how to code Squid configuration and PHP helpers.
</I>&gt;<i> &gt; I have seen here
</I>&gt;<i> &gt; <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Need-help-for-ACL-Authentication-web-Form-Cookies-td4555576.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Need-help-for-ACL-Authentication-web-Form-Cookies-td4555576.html</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; But I cannot understand how to make it work. Can you please show me a
</I>&gt;<i> &gt; link to simple example?
</I>&gt;<i> 
</I>&gt;<i> All the helpers called &quot;fake&quot; are examples of how to write helpers for
</I>&gt;<i> their Squid helper interface. Which is essentially the same these days
</I>&gt;<i> with a (somewhat) unified protocol they all speak.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Or tell me where are samples sources with PHP
</I>&gt;<i> &gt; helpers and SQUID configuration in order ro have the full example working?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Not without the details asked for above. The conversation you found
</I>&gt;<i> David and I are mentioning BerkleyDB and SQL helpers. Those are the
</I>&gt;<i> &quot;CAS&quot; we use. The squid.conf part is essentially what you see in that
</I>&gt;<i> thread.
</I>&gt;<i> 
</I>&gt;<i> You will need a helper to access whatever the CAS database is (via any
</I>&gt;<i> API it provides for that access).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>&lt;signatureafterquotedtext&gt;-- 
------------------------------------------------------------
Dario Basset <A HREF="https://lists.squid-cache.org/listinfo/squid-users">dario.basset at unimi.it</A> 
Direzione Servizio bibliotecario d&#8217;Ateneo
Via G. Colombo, 46 02-50315296
------------------------------------------------------------
&lt;/signatureafterquotedtext&gt;



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190906/d7864e51/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190906/d7864e51/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.jpg
Type: image/jpeg
Size: 15760 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20190906/d7864e51/attachment.jpg">http://lists.squid-cache.org/pipermail/squid-users/attachments/20190906/d7864e51/attachment.jpg</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="020970.html">[squid-users] Squid CAS integration
</A></li>
	<LI>Next message (by thread): <A HREF="020972.html">[squid-users] Squid CAS integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20971">[ date ]</a>
              <a href="thread.html#20971">[ thread ]</a>
              <a href="subject.html#20971">[ subject ]</a>
              <a href="author.html#20971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
