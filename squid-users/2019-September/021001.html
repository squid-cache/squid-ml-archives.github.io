<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] caching and changing content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20and%20changing%20content&In-Reply-To=%3C5d55482e-da10-c64e-624c-c57de29f2a6c%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021000.html">
   <LINK REL="Next"  HREF="021002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] caching and changing content</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20caching%20and%20changing%20content&In-Reply-To=%3C5d55482e-da10-c64e-624c-c57de29f2a6c%40measurement-factory.com%3E"
       TITLE="[squid-users] caching and changing content">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Sep 12 15:30:59 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021000.html">[squid-users] caching and changing content
</A></li>
        <LI>Next message (by thread): <A HREF="021002.html">[squid-users] caching and changing content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21001">[ date ]</a>
              <a href="thread.html#21001">[ thread ]</a>
              <a href="subject.html#21001">[ subject ]</a>
              <a href="author.html#21001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/12/19 11:02 AM, fansari wrote:
&gt;<i> This is the first behaviour I don't want like this:
</I>
In the future, please post all access.log records from the test case up
to and including the first one you do not like (not just the first one
you do not like). In caching, _history_ matters.


&gt;<i> 1568300283.479   3896 xxx.xxx.0.239 TCP_MISS/200 6724533 GET
</I>&gt;<i> <A HREF="https://xxx/1.mp4">https://xxx/1.mp4</A> - HIER_DIRECT/xxx.xxx.24.241 video/mp4
</I>
&gt;<i> The content of the mp4 file has not changed. Nevertheless after clearing the
</I>&gt;<i> browser cache the content produces a MISS instead of a HIT. 
</I>
Understood. What does your &quot;squid -v&quot; say (I am looking for ./configure
options). If you see --enable-delay-pools, then do not trust the
TCP_MISS status code. It can be a cache hit in that case. I am not
saying it _was_ a hit. Just cautioning from trusting TCP_MISS too much
when running with --enable-delay-pools.

Please set debug_options to ALL,2, repeat the test from scratch, and
share the request headers received by Squid, the request headers sent by
Squid, the response headers received by Squid, and the response headers
sent by Squid. You will find all these headers in cache.log. You can
just share a (compressed) cache.log if you prefer.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021000.html">[squid-users] caching and changing content
</A></li>
	<LI>Next message (by thread): <A HREF="021002.html">[squid-users] caching and changing content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21001">[ date ]</a>
              <a href="thread.html#21001">[ thread ]</a>
              <a href="subject.html#21001">[ subject ]</a>
              <a href="author.html#21001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
