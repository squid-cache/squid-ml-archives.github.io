<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Transparent Proxy with Coovachilli is not	working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Transparent%20Proxy%20with%20Coovachilli%20is%20not%0A%09working&In-Reply-To=%3C1568523827664-0.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021021.html">
   <LINK REL="Next"  HREF="021017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Transparent Proxy with Coovachilli is not	working</H1>
    <B>sknz</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Transparent%20Proxy%20with%20Coovachilli%20is%20not%0A%09working&In-Reply-To=%3C1568523827664-0.post%40n4.nabble.com%3E"
       TITLE="[squid-users] Squid Transparent Proxy with Coovachilli is not	working">sakibnizam at gmail.com
       </A><BR>
    <I>Sun Sep 15 05:03:47 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021021.html">[squid-users] Squid Transparent Proxy with Coovachilli is not working
</A></li>
        <LI>Next message (by thread): <A HREF="021017.html">[squid-users] squid 4.8 web reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21020">[ date ]</a>
              <a href="thread.html#21020">[ thread ]</a>
              <a href="subject.html#21020">[ subject ]</a>
              <a href="author.html#21020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So I was testing from a client device(10.1.0.2) which is connected over WiFi
to an AP and that AP is connected to eth1 physically. In case you're
wondering, eth1 is connected to the server physically. Trying to connect an
HTTP website from the above-mentioned client device...

================

<A HREF="https://paste.grasehotspot.org/view/raw/4bdf03c0">https://paste.grasehotspot.org/view/raw/4bdf03c0</A>

So in eth1, we received the request from the client.

================

<A HREF="https://paste.grasehotspot.org/view/raw/b5db07c0">https://paste.grasehotspot.org/view/raw/b5db07c0</A>

So tun0 also received it from eth1. Now, tun0 is supposed to send it to
eth0(WAN)...

================

<A HREF="https://paste.grasehotspot.org/view/raw/0b69d9db">https://paste.grasehotspot.org/view/raw/0b69d9db</A>

But we don't receive anything at all in eth0(WAN)... Now let's see what
we've got back from tun0/eth1 to client device.

================

<A HREF="https://paste.grasehotspot.org/view/raw/9ad866a5">https://paste.grasehotspot.org/view/raw/9ad866a5</A>

tun0 is passing back the acknowledgment to eth1 and eth1 is also doing same
to client device... and it stops here. So no actual data!

================

I guess from here tun0 is supposed to send it to squid and squid is suppose
to send it to eth0(WAN). Correct me if I'm wrong. I have got a Perl script
which shows TOP like interface for real-time packets. So the moment client
device tries to connect to HTTP, port 3127 gets GREEN which means something
sent/received. But it never gets green for forward-proxy port 3128.

Perl Script Screenshot: <A HREF="https://ibb.co/5nc0rWb">https://ibb.co/5nc0rWb</A>









--
Sent from: <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021021.html">[squid-users] Squid Transparent Proxy with Coovachilli is not working
</A></li>
	<LI>Next message (by thread): <A HREF="021017.html">[squid-users] squid 4.8 web reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21020">[ date ]</a>
              <a href="thread.html#21020">[ thread ]</a>
              <a href="subject.html#21020">[ subject ]</a>
              <a href="author.html#21020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
