<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] --foreground vs -N
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20--foreground%20vs%20-N&In-Reply-To=%3CCAOyb_EwYJMQ%2B1CQNNBOGUq7MisqNPCu8gH_bJRD7HDDLAvovOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021044.html">
   <LINK REL="Next"  HREF="021048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] --foreground vs -N</H1>
    <B>B. Cook</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20--foreground%20vs%20-N&In-Reply-To=%3CCAOyb_EwYJMQ%2B1CQNNBOGUq7MisqNPCu8gH_bJRD7HDDLAvovOg%40mail.gmail.com%3E"
       TITLE="[squid-users] --foreground vs -N">bcook at poughkeepsieschools.org
       </A><BR>
    <I>Wed Sep 18 19:37:05 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021044.html">[squid-users] --foreground vs -N
</A></li>
        <LI>Next message (by thread): <A HREF="021048.html">[squid-users] --foreground vs -N
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for the response..

Confused what you mean..

this is /dev/shm with --foreground (no workers)

root:/dev/shm # ls -al
total 12
drwxrwxrwt  2 root  root   100 2019-09-18 10:30 .
drwxr-xr-x 17 root  root  3120 2019-09-17 09:08 ..
-rw-------  1 proxy proxy    8 2019-09-18 10:30 squid-cf__metadata.shm
-rw-------  1 proxy proxy 8216 2019-09-18 10:30 squid-cf__queues.shm
-rw-------  1 proxy proxy   36 2019-09-18 10:30 squid-cf__readers.shm

This is --foreground with workers 2
(different machine but same configuration..)

root:/dev/shm # ls -al
total 5856
drwxrwxrwt  2 root  root         280 2019-09-18 15:15 .
drwxr-xr-x 19 root  root        3340 2019-09-18 06:52 ..
-rw-------  1 proxy proxy     393232 2019-09-18 15:15 squid-cache_mem_ex.shm
-rw-------  1 proxy proxy    3145840 2019-09-18 15:16
squid-cache_mem_map_anchors.shm
-rw-------  1 proxy proxy     131080 2019-09-18 15:15
squid-cache_mem_map_filenos.shm
-rw-------  1 proxy proxy     262156 2019-09-18 15:15
squid-cache_mem_map_slices.shm
-rw-------  1 proxy proxy     131112 2019-09-18 15:15 squid-cache_mem_space.shm
-rw-------  1 proxy proxy          8 2019-09-18 15:15 squid-cf__metadata.shm
-rw-------  1 proxy proxy      32852 2019-09-18 15:15 squid-cf__queues.shm
-rw-------  1 proxy proxy         52 2019-09-18 15:15 squid-cf__readers.shm
-rw-------  1 proxy proxy 1073872936 2019-09-18 15:15 squid-squid-page-pool.shm
-rw-------  1 proxy proxy    1572976 2019-09-18 15:15
squid-transients_map_anchors.shm
-rw-------  1 proxy proxy      65544 2019-09-18 15:15
squid-transients_map_filenos.shm
-rw-------  1 proxy proxy     131084 2019-09-18 15:15
squid-transients_map_slices.shm


Confused if this is good or bad, or evidence of an 'SMP vs non-SMP
configuration' issue..

Thank you again..

On Wed, Sep 18, 2019 at 2:38 PM Alex Rousskov
&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; wrote:

&gt;<i> One thing you may want to check is whether your --foreground Squid is
</I>&gt;<i> creating shared memory segments (look in /dev/shm/ or equivalent).
</I>&gt;<i> Creating shared memory segments in non-SMP configurations is a bug.
</I>&gt;<i> IIRC, we have fixed one or two of those bugs, but there may be more, and
</I>&gt;<i> using shared memory tables can decrease performance of non-SMP
</I>&gt;<i> configurations (there is no free lunch).
</I>&gt;<i>
</I>
-- 

This message may contain confidential information and is intended only for 
the individual(s) named. If you are not an intended recipient you are not 
authorized to disseminate, distribute or copy this e-mail. Please notify 
the sender immediately if you have received this e-mail by mistake and 
delete this e-mail from your system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021044.html">[squid-users] --foreground vs -N
</A></li>
	<LI>Next message (by thread): <A HREF="021048.html">[squid-users] --foreground vs -N
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
