<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Peek-and-splice%20not%20working%20when%20mixing%20TLS1.3%0A%20servers%20and%20TLS1.2%20clients&In-Reply-To=%3C1b4aabc3-fe2d-fef1-e7ff-f55bc50a3c74%40ntcomputer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021059.html">
   <LINK REL="Next"  HREF="021068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients</H1>
    <B>Nikolaus</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Peek-and-splice%20not%20working%20when%20mixing%20TLS1.3%0A%20servers%20and%20TLS1.2%20clients&In-Reply-To=%3C1b4aabc3-fe2d-fef1-e7ff-f55bc50a3c74%40ntcomputer.de%3E"
       TITLE="[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients">dc.sqml at ntcomputer.de
       </A><BR>
    <I>Sun Sep 22 13:18:01 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021059.html">[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients
</A></li>
        <LI>Next message (by thread): <A HREF="021068.html">[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21067">[ date ]</a>
              <a href="thread.html#21067">[ thread ]</a>
              <a href="subject.html#21067">[ subject ]</a>
              <a href="author.html#21067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> You may
</I>&gt;<i> be able to figure it out by looking at the corresponding access.log
</I>&gt;<i> records, especially if you log %err_code and %err_detail. In the worst
</I>&gt;<i> case, enabling and looking at debugging info in cache.log may be
</I>&gt;<i> necessary, but I would start with access.log anyway.
</I>
Thank you for the suggestion Alex!

The access.log contains error code / detail &quot;ERR_SECURE_CONNECT_FAIL /
SQUID_ERR_SSL_HANDSHAKE&quot; - which is not too helpful - but the cache.log
contains the more detailed &quot;ERROR: negotiating TLS on FD 19:
error:1425F175:SSL routines:ssl_choose_client_version:inappropriate
fallback (1/-1/0)&quot;.

Is a TLS fallback prevention mechanism kicking in by error? If so, how
to fix it?
Please let me know if additional log output (the debug log around the
error location did not seem helpful to me though) or a configuration to
reproduce the error are needed.

Nikolaus

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021059.html">[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients
</A></li>
	<LI>Next message (by thread): <A HREF="021068.html">[squid-users] Peek-and-splice not working when mixing TLS1.3 servers and TLS1.2 clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21067">[ date ]</a>
              <a href="thread.html#21067">[ thread ]</a>
              <a href="subject.html#21067">[ subject ]</a>
              <a href="author.html#21067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
