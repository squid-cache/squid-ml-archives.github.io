<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Delay pools not working with squid 4.x , and more Question !!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Delay%20pools%20not%20working%20with%20squid%204.x%20%2C%0A%20and%20more%20Question%20%21%21&In-Reply-To=%3C6674560c-074b-58cb-5f64-b55c0c735cfe%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021066.html">
   <LINK REL="Next"  HREF="021071.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Delay pools not working with squid 4.x , and more Question !!</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Delay%20pools%20not%20working%20with%20squid%204.x%20%2C%0A%20and%20more%20Question%20%21%21&In-Reply-To=%3C6674560c-074b-58cb-5f64-b55c0c735cfe%40measurement-factory.com%3E"
       TITLE="[squid-users] Delay pools not working with squid 4.x , and more Question !!">rousskov at measurement-factory.com
       </A><BR>
    <I>Sun Sep 22 14:07:27 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021066.html">[squid-users] Delay pools not working with squid 4.x , and more Question !!
</A></li>
        <LI>Next message (by thread): <A HREF="021071.html">[squid-users] Delay pools not working with squid 4.x , and more Question !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21070">[ date ]</a>
              <a href="thread.html#21070">[ thread ]</a>
              <a href="subject.html#21070">[ subject ]</a>
              <a href="author.html#21070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/22/19 6:25 AM, --Ahmad-- wrote:

&gt;<i> i tested squid 4.8 and delay pools not working with it at all .
</I>&gt;<i> i reverted back to squid 3.5.x and i had delay pools working .
</I>
&gt;<i> Q1- do squid 4 support delay pools ?
</I>
It should. If it does not, there is a bug somewhere.


&gt;<i> Q2- with squid 3.5.x we have SMP about 4 childs , and we are running delay pools .
</I>&gt;<i> does that mean speed ( with all 4 instances ) is 1/1 Mbps
</I>&gt;<i> or speed ( with all 4 instances ) is 4/4  Mbps?
</I>
According to [1], delay pools are not SMP-aware yet so you are
essentially configuring individual worker limits: Workers do not share
their limits and pools with each other. Hence, the effective Squid
instance limit is, very approximately, the aggregate of those configured
individual worker limits. For example, if each worker is limited by
1Mbps, then the 4-worker instance may produce up to 4Mbps traffic.

In reality, since individual workers usually receive different amounts
of traffic (especially until [2] is unblocked), the effective instance
limit will be more than 1Mbps and less than 4Mbps.

[1] <A HREF="https://wiki.squid-cache.org/Features/SmpScale#What_can_workers_share.3F">https://wiki.squid-cache.org/Features/SmpScale#What_can_workers_share.3F</A>

[2] <A HREF="https://github.com/squid-cache/squid/pull/369">https://github.com/squid-cache/squid/pull/369</A>

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021066.html">[squid-users] Delay pools not working with squid 4.x , and more Question !!
</A></li>
	<LI>Next message (by thread): <A HREF="021071.html">[squid-users] Delay pools not working with squid 4.x , and more Question !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21070">[ date ]</a>
              <a href="thread.html#21070">[ thread ]</a>
              <a href="subject.html#21070">[ subject ]</a>
              <a href="author.html#21070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
