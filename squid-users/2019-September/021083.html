<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Working%20proxy_protocol_access%20settings%20on%20Squid%0A%203.5%20or%204%3F&In-Reply-To=%3C505612d6-e8b6-c238-99a2-02780f91fdd9%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021082.html">
   <LINK REL="Next"  HREF="021086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Working%20proxy_protocol_access%20settings%20on%20Squid%0A%203.5%20or%204%3F&In-Reply-To=%3C505612d6-e8b6-c238-99a2-02780f91fdd9%40measurement-factory.com%3E"
       TITLE="[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Sep 24 18:41:34 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021082.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
        <LI>Next message (by thread): <A HREF="021086.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21083">[ date ]</a>
              <a href="thread.html#21083">[ thread ]</a>
              <a href="subject.html#21083">[ subject ]</a>
              <a href="author.html#21083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/24/19 12:02 PM, Tom Karches wrote:

&gt;<i> 2019/09/24 11:31:46 kid1| PROXY protocol error: invalid header ...
</I>
&gt;<i> So, you are saying that v4 does not contain changes to fix the &quot;PROXY
</I>&gt;<i> protocol error&quot; and my only option at this point is v5 code?
</I>
Unfortunately, I do not know what causes that specific error, I do not
know whether it was fixed, and, if it was fixed, which Squid versions
contain the fix. In other words, my previous answer did not imply
anything beyond the stated facts.

There may be no good way to answer your questions, but the best way
could be to test the latest Squid v4 release and the latest Squid v5
snapshot.

Alex.


&gt;<i> On Mon, Sep 23, 2019 at 4:47 PM Alex Rousskov wrote:
</I>&gt;<i> 
</I>&gt;<i>     On 9/23/19 4:14 PM, Tom Karches wrote:
</I>&gt;<i> 
</I>&gt;<i>     &gt; The suggestion was to move to Squid 4 as noted here :
</I>&gt;<i>     &gt;
</I>&gt;<i>     <A HREF="http://squid-web-proxy-cache.1019090.n4.nabble.com/error-in-parsing-Proxy-protocol-version-2-by-Squid-proxy-protocol-td4686763.html">http://squid-web-proxy-cache.1019090.n4.nabble.com/error-in-parsing-Proxy-protocol-version-2-by-Squid-proxy-protocol-td4686763.html</A>
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; This was back in Oct 2018. Has anything changed since then?
</I>&gt;<i> 
</I>&gt;<i>     Yes, the changes I mentioned then have been accepted:
</I>&gt;<i> 
</I>&gt;<i>     &#160; &#160;<A HREF="https://github.com/squid-cache/squid/pull/342">https://github.com/squid-cache/squid/pull/342</A>
</I>&gt;<i> 
</I>&gt;<i>     The above pull request contained lots of PROXY protocol fixes and
</I>&gt;<i>     several important improvements. Those changes are not in v4, but master
</I>&gt;<i>     (future v5) code is available and works well for some. YMMV.
</I>&gt;<i> 
</I>&gt;<i>     I do not recall any fixes going back into v3, but I did not check.
</I>&gt;<i> 
</I>&gt;<i>     Alex.
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021082.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
	<LI>Next message (by thread): <A HREF="021086.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21083">[ date ]</a>
              <a href="thread.html#21083">[ thread ]</a>
              <a href="subject.html#21083">[ subject ]</a>
              <a href="author.html#21083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
