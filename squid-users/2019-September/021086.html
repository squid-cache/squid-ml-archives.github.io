<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Working%20proxy_protocol_access%20settings%20on%20Squid%0A%203.5%20or%204%3F&In-Reply-To=%3Cd440bafe-1bf5-7b33-8106-d16696effe5d%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021083.html">
   <LINK REL="Next"  HREF="021084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Working%20proxy_protocol_access%20settings%20on%20Squid%0A%203.5%20or%204%3F&In-Reply-To=%3Cd440bafe-1bf5-7b33-8106-d16696effe5d%40treenet.co.nz%3E"
       TITLE="[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Sep 25 12:12:39 UTC 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021083.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
        <LI>Next message (by thread): <A HREF="021084.html">[squid-users] Warning: ACL is used in context without an HTTP	response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21086">[ date ]</a>
              <a href="thread.html#21086">[ thread ]</a>
              <a href="subject.html#21086">[ subject ]</a>
              <a href="author.html#21086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/09/19 6:41 am, Alex Rousskov wrote:
&gt;<i> On 9/24/19 12:02 PM, Tom Karches wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> 2019/09/24 11:31:46 kid1| PROXY protocol error: invalid header ...
</I>&gt;<i> 
</I>&gt;&gt;<i> So, you are saying that v4 does not contain changes to fix the &quot;PROXY
</I>&gt;&gt;<i> protocol error&quot; and my only option at this point is v5 code?
</I>&gt;<i> 
</I>
My understanding of the situation is that the bugs only affect
interpretation of PROXYv2 headers.

PROXYv1 should work in v4. At least, it is being used by several testers.

One thing to note is that PROXY protocol requires clients send the
entire header as one packet such that it is read as one operation by the
receiver. Those recipients are *required* to reject PROXYv1 that do not
arrive as a single I/O.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021083.html">[squid-users] Working proxy_protocol_access settings on Squid 3.5 or 4?
</A></li>
	<LI>Next message (by thread): <A HREF="021084.html">[squid-users] Warning: ACL is used in context without an HTTP	response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21086">[ date ]</a>
              <a href="thread.html#21086">[ thread ]</a>
              <a href="subject.html#21086">[ subject ]</a>
              <a href="author.html#21086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
