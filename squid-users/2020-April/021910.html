<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Setting up proxy with private to public
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Setting%20up%20proxy%20with%20private%20to%20public&In-Reply-To=%3C202004140010.43614.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021909.html">
   <LINK REL="Next"  HREF="021911.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Setting up proxy with private to public</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Setting%20up%20proxy%20with%20private%20to%20public&In-Reply-To=%3C202004140010.43614.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Setting up proxy with private to public">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Mon Apr 13 22:10:43 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021909.html">[squid-users] Setting up proxy with private to public
</A></li>
        <LI>Next message (by thread): <A HREF="021911.html">[squid-users] Setting up proxy with private to public
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21910">[ date ]</a>
              <a href="thread.html#21910">[ thread ]</a>
              <a href="subject.html#21910">[ subject ]</a>
              <a href="author.html#21910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 13 April 2020 at 23:46:46, Chris Bidwell - NOAA Federal wrote:

&gt;<i> Sure.  So we have a few internal networks that aren't meant to have direct
</I>&gt;<i> internet access without access through a proxy so that it can be better
</I>&gt;<i> regulated and monitored.
</I>
Okay, that's a useful starting point.

&gt;<i> We've got several internal subnets that need to be able to talk through
</I>&gt;<i> squid (I've chosen tcp/8080) to connect to from internally and want to
</I>&gt;<i> translate that to an external IP address that does have access to the
</I>&gt;<i> outside world.
</I>
That sounds perfectly straightforward, provided your Squid server has routing 
to connect back to those internal networks.

&gt;<i> Once again, the squid server has two IP addresses.  One internal, and one
</I>&gt;<i> external.  The outbound traffic would be accessible through that external
</I>&gt;<i> ip.
</I>
So, you configure your internal clients to connect to the internal address of 
the Squid machine, and tell them that the proxy is listening on port 8080.

Add the subnet definitions (if they are not 10.0.0.0/8, 172.16.0.0/12 or 
192.168.0.0/16) to Squid's configuration file.  If you *are* using such RFC1918 
addresses, these are automatically supported by Squid and you do not need to 
configure for your internal network ranges.

You don't need to do anything special to get Squid to use its external address 
for the connections out to the Internet - that's handled by the Linux 
networking stack.

&gt;<i> I hope I'm making *some* sense.  :)
</I>
I think so.

My suggestion from here on is: install Squid, configure a test client to use 
it, and see if it works.

If not, give us enough information to understand what you've done (both the 
setup and the testing) so we could reproduce it for ourselves, and we'll try 
to help further.


Best wishes,


Antony.

-- 
Warum k&#246;nnen Seer&#228;uber nicht den Umfang eines Kreises berechnen?
Weil sie Piraten...


                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021909.html">[squid-users] Setting up proxy with private to public
</A></li>
	<LI>Next message (by thread): <A HREF="021911.html">[squid-users] Setting up proxy with private to public
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21910">[ date ]</a>
              <a href="thread.html#21910">[ thread ]</a>
              <a href="subject.html#21910">[ subject ]</a>
              <a href="author.html#21910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
