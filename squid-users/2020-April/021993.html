<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] failing https requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20failing%20https%20requests&In-Reply-To=%3C650bea86-07dd-07f5-f5e2-eee7089d7384%40matrixscience.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021991.html">
   <LINK REL="Next"  HREF="021994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] failing https requests</H1>
    <B>Adam Weremczuk</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20failing%20https%20requests&In-Reply-To=%3C650bea86-07dd-07f5-f5e2-eee7089d7384%40matrixscience.com%3E"
       TITLE="[squid-users] failing https requests">adamw at matrixscience.com
       </A><BR>
    <I>Fri Apr 24 15:46:54 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021991.html">[squid-users] Ubuntu 18 LTS repository for Squid 4.11 (rebuilt with sslbump support from sources in Debian unstable)
</A></li>
        <LI>Next message (by thread): <A HREF="021994.html">[squid-users] failing https requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21993">[ date ]</a>
              <a href="thread.html#21993">[ thread ]</a>
              <a href="subject.html#21993">[ subject ]</a>
              <a href="author.html#21993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I run squid-3.5.27_3 on pfSense 2.4.4 as well as in house Sugar CRM server.

Recently Sugar license validation and updates checks made to 
<A HREF="https://updates.sugarcrm.com/heartbeat/soap.php">https://updates.sugarcrm.com/heartbeat/soap.php</A> started failing (no 
changes made at our end).

In squid logs requests only produce 2 lines:

1587737506.670&#160;&#160;&#160;&#160;&#160; 0 192.168.5.30 TAG_NONE/400 4360 NONE 
error:invalid-request - HIER_NONE/- text/html
1587737506.978&#160;&#160;&#160; 301 192.168.5.30 TCP_MISS/301 464 POST 
<A HREF="http://updates.sugarcrm.com/heartbeat/soap.php">http://updates.sugarcrm.com/heartbeat/soap.php</A> - 
HIER_DIRECT/54.177.58.238 text/html

It looks like client error followed by a redirection to http.

Direct requests (no web proxy) as well as telnet, wget and curl work fine.

Could somebody explain what exactly the errors mean and why the requests 
fail?

Thanks,
Adam



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021991.html">[squid-users] Ubuntu 18 LTS repository for Squid 4.11 (rebuilt with sslbump support from sources in Debian unstable)
</A></li>
	<LI>Next message (by thread): <A HREF="021994.html">[squid-users] failing https requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21993">[ date ]</a>
              <a href="thread.html#21993">[ thread ]</a>
              <a href="subject.html#21993">[ subject ]</a>
              <a href="author.html#21993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
