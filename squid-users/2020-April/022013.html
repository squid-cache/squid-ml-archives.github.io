<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] explicit proxy and iptables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20explicit%20proxy%20and%20iptables&In-Reply-To=%3C1943883120.975103.1588001244329%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022010.html">
   <LINK REL="Next"  HREF="022020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] explicit proxy and iptables</H1>
    <B>Vieri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20explicit%20proxy%20and%20iptables&In-Reply-To=%3C1943883120.975103.1588001244329%40mail.yahoo.com%3E"
       TITLE="[squid-users] explicit proxy and iptables">rentorbuy at yahoo.com
       </A><BR>
    <I>Mon Apr 27 15:27:24 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022010.html">[squid-users] Help regarding configuring a native FTP proxy
</A></li>
        <LI>Next message (by thread): <A HREF="022020.html">[squid-users] explicit proxy and iptables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22013">[ date ]</a>
              <a href="thread.html#22013">[ thread ]</a>
              <a href="subject.html#22013">[ subject ]</a>
              <a href="author.html#22013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've been using Squid + TPROXY in transparent sslbump mode for quite a while now, but I'd like to use an explicit proxy with user authentication instead.

I have Squid on my first firewall/gateway node, and then I have another gateway (node 2) where all the HTTP requests go through, with multiple ISPs.

In transparent tproxy mode, I can obviously mark packets according to the &quot;real&quot; client src IP addresses and then use, eg., different ISPs based on client src addr.

In the explicit setup, the gateway (node 2) only sees one IP address as HTTP source -- the one on the &quot;first node&quot; with the explicit Squid proxy. I presume that in this case there is NO WAY I can somehow inform the gateway on node 2 of the &quot;real&quot; clent IP addresses?

I can imagine the answer to this silly question, but nonetheless I prefer to ask just to make sure. ;-)

Thanks,

Vieri

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022010.html">[squid-users] Help regarding configuring a native FTP proxy
</A></li>
	<LI>Next message (by thread): <A HREF="022020.html">[squid-users] explicit proxy and iptables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22013">[ date ]</a>
              <a href="thread.html#22013">[ thread ]</a>
              <a href="subject.html#22013">[ subject ]</a>
              <a href="author.html#22013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
