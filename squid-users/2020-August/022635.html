<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL Bump: I have weekly more sites to whitelist due to HTTP Error 403 on opening site content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Bump%3A%20I%20have%20weekly%20more%20sites%20to%20whitelist%20due%0A%20to%20HTTP%20Error%20403%20on%20opening%20site%20content&In-Reply-To=%3C1fbaab32147a0f8e5dfd73ef99964e74%40schroeffu.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022640.html">
   <LINK REL="Next"  HREF="022639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL Bump: I have weekly more sites to whitelist due to HTTP Error 403 on opening site content</H1>
    <B>info at schroeffu.ch</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Bump%3A%20I%20have%20weekly%20more%20sites%20to%20whitelist%20due%0A%20to%20HTTP%20Error%20403%20on%20opening%20site%20content&In-Reply-To=%3C1fbaab32147a0f8e5dfd73ef99964e74%40schroeffu.ch%3E"
       TITLE="[squid-users] SSL Bump: I have weekly more sites to whitelist due to HTTP Error 403 on opening site content">info at schroeffu.ch
       </A><BR>
    <I>Fri Aug 28 08:12:26 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022640.html">[squid-users] filter access.log
</A></li>
        <LI>Next message (by thread): <A HREF="022639.html">[squid-users] SSL Bump: I have weekly more sites to whitelist due to HTTP Error 403 on opening site content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22635">[ date ]</a>
              <a href="thread.html#22635">[ thread ]</a>
              <a href="subject.html#22635">[ subject ]</a>
              <a href="author.html#22635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Squid Community,

the last weeks it felt that more and more websites are going to be &quot;incompatible&quot; with Squid SSL bump.
Some Websites are not displayed at all and a &quot;403 Forbidden&quot; from their proxy is displayed, others are displayed very ugly because some CSS is missing due to HTTP Error 403 on CSS resources.

Is there any way to tune SSL Bump for less problems with websites?

Here some example websites which are not loading at all with SSL Bump:

- forcepoint.com (Their Proxy displays: 403 forbidden)
- itsg.de (Squid: Connect reset by peer)
- leica-geosystems.com (Bad Request)

Displayed very ugly because CSS Files gots HTTP Error 403 with SSL bump:

- pyur.com
- help.nextcloud.com
- it feels like all websites with Discourse Forums are having problems with ssl bump - css missing, very ugly
- many more

This are only some examples. Who can reproduce this problems with its own SSL Bump Squid? Am I doing something wrong with SSL Bump? Is Squid 5 alerady better for this? 

Thanks for any help
Schroeffu

My current cump conf is extremely simple, just the default:

http_port proxy03bs.tld.com:8080 ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB cert=/etc/squid/certs/subca.crt.pem key=/etc/squid/certs/subca.key.ohnersa.pem
sslcrtd_program /usr/lib/squid/security_file_certgen -s /var/lib/ssl_db -M 4MB
ssl_bump bump !domains_dont_sslbump
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200828/5d928b11/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200828/5d928b11/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022640.html">[squid-users] filter access.log
</A></li>
	<LI>Next message (by thread): <A HREF="022639.html">[squid-users] SSL Bump: I have weekly more sites to whitelist due to HTTP Error 403 on opening site content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22635">[ date ]</a>
              <a href="thread.html#22635">[ thread ]</a>
              <a href="subject.html#22635">[ subject ]</a>
              <a href="author.html#22635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
