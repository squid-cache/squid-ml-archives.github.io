<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is there a way to internally resolve 302 redirects?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20a%20way%20to%20internally%20resolve%20302%0A%20redirects%3F&In-Reply-To=%3C5028ddb0-57b8-ea74-04f4-9050c5e2a1ba%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022964.html">
   <LINK REL="Next"  HREF="022966.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is there a way to internally resolve 302 redirects?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20a%20way%20to%20internally%20resolve%20302%0A%20redirects%3F&In-Reply-To=%3C5028ddb0-57b8-ea74-04f4-9050c5e2a1ba%40measurement-factory.com%3E"
       TITLE="[squid-users] Is there a way to internally resolve 302 redirects?">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Dec  3 16:35:49 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022964.html">[squid-users] Is there a way to internally resolve 302 redirects?
</A></li>
        <LI>Next message (by thread): <A HREF="022966.html">[squid-users] Squid Proxy Performance Limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22965">[ date ]</a>
              <a href="thread.html#22965">[ thread ]</a>
              <a href="subject.html#22965">[ subject ]</a>
              <a href="author.html#22965">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/3/20 6:49 AM, Robin Dinse wrote:

&gt;<i> I am using a Squid cache with SSLBump to reduce the bandwidth impact of
</I>&gt;<i> Chocolatey upgrades. The setup works fine, however some URLs randomly
</I>&gt;<i> redirect to different CDNs which means the files are re-downloaded upon
</I>&gt;<i> each request.
</I>&gt;<i> 
</I>&gt;<i> I would like Squid to instead resolve the redirects so as to not follow
</I>&gt;<i> 302 redirects at all in subsequent queries, but to provide the first
</I>&gt;<i> file that was encountered in following the redirect(s) the first time it
</I>&gt;<i> encounters the query URL.
</I>
I am not sure I am parsing your request correctly, but it sounds like
you may need to investigate two solutions:

1. Block or make unnecessary some cache validation requests (because
they result in unwanted redirects).

2. Computing your own Store IDs (so that Squid can answer the redirected
requests using the already stored responses):
<A HREF="https://wiki.squid-cache.org/Features/StoreID">https://wiki.squid-cache.org/Features/StoreID</A>


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022964.html">[squid-users] Is there a way to internally resolve 302 redirects?
</A></li>
	<LI>Next message (by thread): <A HREF="022966.html">[squid-users] Squid Proxy Performance Limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22965">[ date ]</a>
              <a href="thread.html#22965">[ thread ]</a>
              <a href="subject.html#22965">[ subject ]</a>
              <a href="author.html#22965">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
