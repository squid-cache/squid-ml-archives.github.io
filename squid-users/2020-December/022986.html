<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Log rotate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Log%20rotate&In-Reply-To=%3C20201207123213.GA25862%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022985.html">
   <LINK REL="Next"  HREF="022992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Log rotate</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Log%20rotate&In-Reply-To=%3C20201207123213.GA25862%40fantomas.sk%3E"
       TITLE="[squid-users] Log rotate">uhlar at fantomas.sk
       </A><BR>
    <I>Mon Dec  7 12:32:13 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022985.html">[squid-users] Log rotate
</A></li>
        <LI>Next message (by thread): <A HREF="022992.html">[squid-users] Sqlite3 with Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22986">[ date ]</a>
              <a href="thread.html#22986">[ thread ]</a>
              <a href="subject.html#22986">[ subject ]</a>
              <a href="author.html#22986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07.12.20 12:52, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">sampei02 at tiscali.it</A> wrote:
&gt;<i>I manually installed Squid package 4.8-1 by yum utility while logrotate 3.8.6-19 was already installed.
</I>&gt;<i>
</I>&gt;&gt;<i> you are running squid -k rotate in postrotate too, so what is your question?
</I>
&gt;<i>When I installed Squid package, It&#8217;s has been created automatically /etc/logrotate.d/squid as I showed in previous mails and where there is written 'squid -k rotate&#8217;.
</I>&gt;<i>My question is: if I use logrotate process why in /etc/logrotate.d/squid is recalled ''squid -k rotate&#8217; ?
</I>&gt;<i>I thought 'squid -k rotate&#8217; started another file rotation in addition to logrotate.
</I>
in such case I answered in my former mail:

&gt;&gt;<i> On 7 Dec 2020, at 12:07, Matus UHLAR - fantomas &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A>&gt; wrote:
</I>&gt;&gt;<i> according to squid docs, squid only reopens log files in &quot;rotate&quot; request,
</I>&gt;&gt;<i> so logrotate takes care about renaming and compressing files, while squid
</I>&gt;&gt;<i> only has to reopen them.
</I>
if squid would not reopen log files, it would continue writing to old log
files, no matter if they were renamed, removed, compressed (due to how unix
systems handle files).

reopening log files makes squid to start writing to new files, so the old
logs aren't touched.

-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
It's now safe to throw off your computer.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022985.html">[squid-users] Log rotate
</A></li>
	<LI>Next message (by thread): <A HREF="022992.html">[squid-users] Sqlite3 with Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22986">[ date ]</a>
              <a href="thread.html#22986">[ thread ]</a>
              <a href="subject.html#22986">[ subject ]</a>
              <a href="author.html#22986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
