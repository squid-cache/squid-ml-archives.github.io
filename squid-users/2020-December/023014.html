<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] authorized by pcname
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20authorized%20by%20pcname&In-Reply-To=%3C473a37c9-8be2-ebab-6705-c6f60bc9147d%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023013.html">
   <LINK REL="Next"  HREF="023000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] authorized by pcname</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20authorized%20by%20pcname&In-Reply-To=%3C473a37c9-8be2-ebab-6705-c6f60bc9147d%40treenet.co.nz%3E"
       TITLE="[squid-users] authorized by pcname">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Dec 13 10:15:14 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023013.html">[squid-users] authorized by pcname
</A></li>
        <LI>Next message (by thread): <A HREF="023000.html">[squid-users] Questions regarding &quot;store-id&quot; made by helper and log system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23014">[ date ]</a>
              <a href="thread.html#23014">[ thread ]</a>
              <a href="subject.html#23014">[ subject ]</a>
              <a href="author.html#23014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/12/20 10:44 pm, sampei02 wrote:
&gt;<i> Thanks for your suggestions.
</I>&gt;<i> 1. In this way I should move problem to another level that is dhcp server.
</I>&gt;<i> 2. My DHCP server already updates to local DNS, that is Active Directory, but Squid cannot point to this local Microsoft DNS because It&#8217;s using external DNS. I have two DNS: Microsoft DNS (AD) for resolve intranet addresses and Linux DNS (public network) to resolve Internet address. Squid uses last DNS.
</I>
Your recursive resolver (the Linux DNS) should be configured to forward 
queries about the local networks IP range(s) used by DHCP to the 
Microsoft DNS resolver.

Squid should make its queries to the Linux one and get the necessary 
information back about the clients.


&gt;<i> 
</I>&gt;<i> When client asks url to Squid, is there way to capture the &#8220;client name&#8221; and to check the match to acl? Does It exist trusted application to integrate into Squid to make it?
</I>&gt;<i> 
</I>
That depends on what type of name you are looking for and what protocols 
are available. Humans like to apply names to things and each protocol 
has its own version of one, is the situation gets complicated and messy.

As mentioned already if you can avoid having things depend on &quot;machine 
name&quot; it will help simplify the situation a lot.

Squid should be able to identify the IP ranges that are used by internal 
clients vs others. It can make simple denials based on the IP range.



As a last resort, there is no need to make the policy decision directly 
in squid.conf. You can have an external ACL helper that gets passed some 
details from Squid and tells Squid what to do. That helper could be 
given the URL and client IP - do a lookup in *both* DNS resolvers and 
pass back to Squid whether it is to be allowed (OK) or not (ERR).


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023013.html">[squid-users] authorized by pcname
</A></li>
	<LI>Next message (by thread): <A HREF="023000.html">[squid-users] Questions regarding &quot;store-id&quot; made by helper and log system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23014">[ date ]</a>
              <a href="thread.html#23014">[ thread ]</a>
              <a href="subject.html#23014">[ subject ]</a>
              <a href="author.html#23014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
