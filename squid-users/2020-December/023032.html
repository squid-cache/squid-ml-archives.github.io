<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] sslcrtvalidator_program
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslcrtvalidator_program&In-Reply-To=%3C000001d6d25b%24139706d0%243ac51470%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023031.html">
   <LINK REL="Next"  HREF="023021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] sslcrtvalidator_program</H1>
    <B>Eliezer Croitor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslcrtvalidator_program&In-Reply-To=%3C000001d6d25b%24139706d0%243ac51470%24%40gmail.com%3E"
       TITLE="[squid-users] sslcrtvalidator_program">ngtech1ltd at gmail.com
       </A><BR>
    <I>Mon Dec 14 20:52:45 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023031.html">[squid-users] sslcrtvalidator_program
</A></li>
        <LI>Next message (by thread): <A HREF="023021.html">[squid-users] Adding header with destination IP to icap server via adaptation_meta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23032">[ date ]</a>
              <a href="thread.html#23032">[ thread ]</a>
              <a href="subject.html#23032">[ subject ]</a>
              <a href="author.html#23032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex sorry,

There is no connection between you or this sentence.
I don't know why these things keep popping up while I'm sending emails.
The AV should have blocked this proofing software from pasting things while I'm writing but,
sometimes the desktop works in mysteries ways.
... Delete the quoted sentence in the email...

Both of you indeed are answering so again thanks.
Eliezer

----
Eliezer Croitoru
Tech Support
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>

-----Original Message-----
From: Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; 
Sent: Monday, December 14, 2020 9:31 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Cc: Eliezer Croitor &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt;
Subject: Re: [squid-users] sslcrtvalidator_program

On 12/14/20 2:15 PM, Eliezer Croitor wrote:

&gt;<i> I wrote a simple ruby helper but squid claims it crashes rapidly.
</I>
&gt;<i> Since probably nobody else is willing to do some pipelining job I
</I>&gt;<i> assume it's on me...
</I>
&gt;<i> I understand what you are saying/writing but from what I see some in
</I>&gt;<i> the market do not want to pay.
</I>
I am sorry, but you lost me here. I do not understand the connection
between your earlier questions (which Amos and I tried to answer) and
the above statements.

Alex.


&gt;<i> -----Original Message-----
</I>&gt;<i> From: Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; 
</I>&gt;<i> Sent: Monday, December 14, 2020 9:05 PM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Cc: Eliezer Croitor &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [squid-users] sslcrtvalidator_program
</I>&gt;<i> 
</I>&gt;<i> On 12/14/20 1:55 PM, Eliezer Croitor wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> We can use this as an example for a single transaction in the wiki:
</I>&gt;&gt;<i> <A HREF="https://gist.githubusercontent.com/elico/a0397c879776336eeae569317015edc1/raw/b34dff8ece76e480007a950655efff3564afcccc/cache.log">https://gist.githubusercontent.com/elico/a0397c879776336eeae569317015edc1/raw/b34dff8ece76e480007a950655efff3564afcccc/cache.log</A>
</I>&gt;<i> 
</I>&gt;&gt;<i> Let me know if it's enough to document this subject.
</I>&gt;<i> 
</I>&gt;<i> I am not sure I understand your question -- the format is already
</I>&gt;<i> documented. If you think that attaching an example of a raw helper
</I>&gt;<i> request to that wiki page would help others, please feel free to do so!
</I>&gt;<i> Just avoid the implication that all helper requests would have the same
</I>&gt;<i> set of fields.
</I>&gt;<i> 
</I>&gt;<i> Alex.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; 
</I>&gt;&gt;<i> Sent: Monday, December 14, 2020 6:42 PM
</I>&gt;&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> Cc: Eliezer Croitor &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [squid-users] sslcrtvalidator_program
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 12/14/20 4:26 AM, Eliezer Croitor wrote:
</I>&gt;&gt;&gt;<i> So starts with:
</I>&gt;&gt;&gt;<i> 0 cert_validate... line
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> And ends with?:
</I>&gt;&gt;&gt;<i> error_name_0=X509_V_ERR_DEPTH_ZERO_SELF_SIGNED_CERT
</I>&gt;&gt;&gt;<i> error_cert_0=cert0
</I>&gt;&gt;&gt;<i> ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No. The size of the key=value block is specified on the first request
</I>&gt;&gt;<i> line. Please try to follow documentation that Amos has pointed you to:
</I>&gt;&gt;<i> <A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#SSL_server_certificate_validator">https://wiki.squid-cache.org/Features/AddonHelpers#SSL_server_certificate_validator</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If that documentation is missing some details, we should fix it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am unsure, let me try to re-read this section.
</I>&gt;&gt;&gt;<i> I am missing a fake helper for this..
</I>&gt;&gt;&gt;<i> And a &quot;real world&quot; full example.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Can someone simulate it for me?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Glad you found
</I>&gt;&gt;<i> src/security/cert_validators/fake/security_fake_certverify.pl.in. I hope
</I>&gt;&gt;<i> it still works!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTH,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;<i> From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Amos Jeffries
</I>&gt;&gt;&gt;<i> Sent: Monday, December 14, 2020 10:15 AM
</I>&gt;&gt;&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> Subject: Re: [squid-users] sslcrtvalidator_program
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 14/12/20 9:11 am, Eliezer Croitor wrote:
</I>&gt;&gt;&gt;&gt;<i> I am trying to understand the way the sslcrtvalidator_program  works.
</I>&gt;&gt;&gt;&gt;<i> I am pretty sure I have asked this in the past but didn&#8217;t found it for some
</I>&gt;&gt;&gt;&gt;<i> reason.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I want to read line by line so.
</I>&gt;&gt;&gt;&gt;<i> /^-----BEGIN CERTIFICATE-----$/
</I>&gt;&gt;&gt;&gt;<i> ***
</I>&gt;&gt;&gt;&gt;<i> /^-----END CERTIFICATE-----$/
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> What else should I look for? I was thinking about validating with some extra
</I>&gt;&gt;&gt;&gt;<i> values in the request, for example ip/domain:port and sni.
</I>&gt;&gt;&gt;&gt;<i> Are these available in some way?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The details you need are all here:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;<i> &lt;<A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#SSL_server_certificate_validator">https://wiki.squid-cache.org/Features/AddonHelpers#SSL_server_certificate_validator</A>&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Notice that it receives chains of certificates - maybe several, and/or 
</I>&gt;&gt;&gt;<i> out of order. Whatever the client sends.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Amos
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023031.html">[squid-users] sslcrtvalidator_program
</A></li>
	<LI>Next message (by thread): <A HREF="023021.html">[squid-users] Adding header with destination IP to icap server via adaptation_meta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23032">[ date ]</a>
              <a href="thread.html#23032">[ thread ]</a>
              <a href="subject.html#23032">[ subject ]</a>
              <a href="author.html#23032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
