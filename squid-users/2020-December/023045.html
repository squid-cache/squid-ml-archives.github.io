<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Proxy Server closes the connection to http server before transferring all application data to http client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proxy%20Server%20closes%20the%20connection%20to%20http%20server%0A%20before%20transferring%20all%20application%20data%20to%20http%20client&In-Reply-To=%3C011301d6d3a9%24d323c980%24796b5c80%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023042.html">
   <LINK REL="Next"  HREF="023046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client</H1>
    <B>Eliezer Croitor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Proxy%20Server%20closes%20the%20connection%20to%20http%20server%0A%20before%20transferring%20all%20application%20data%20to%20http%20client&In-Reply-To=%3C011301d6d3a9%24d323c980%24796b5c80%24%40gmail.com%3E"
       TITLE="[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client">ngtech1ltd at gmail.com
       </A><BR>
    <I>Wed Dec 16 12:48:58 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023042.html">[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client
</A></li>
        <LI>Next message (by thread): <A HREF="023046.html">[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23045">[ date ]</a>
              <a href="thread.html#23045">[ thread ]</a>
              <a href="subject.html#23045">[ subject ]</a>
              <a href="author.html#23045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Probably it's the server side that does that.

I have seen such a thing in the past with couple webservers.

Depends on the language that the server uses it's possible to resolve this
issue.

If you have a specific language I can try to reproduce this issue to make
sure what the issue is.

Specifically in PHP there was something combined with nginx and apache.

I have not tried it with caddy or another web server that uses fastcgi.

 

Let me know if you need my assistance. 

Eliezer

 

----

Eliezer Croitoru

Tech Support

Mobile: +972-5-28704261

Email:  &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>

 

From: Zhang, Lily (USD) &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Lily.Zhang at dell.com</A>&gt; 
Sent: Wednesday, December 16, 2020 9:40 AM
To: Eliezer Croitor &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt;
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: RE: [squid-users] Proxy Server closes the connection to http server
before transferring all application data to http client

 

Hi Croitor,

 

I investigated this issue as I have tickets from customer side.  http client
can't get the full response sometimes (example 20 0000 char, get 17 0000
chars).

 

Thanks

Lily

From: Eliezer Croitor &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; &gt; 
Sent: Tuesday, December 15, 2020 10:47 PM
To: Zhang, Lily (USD)
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt; 
Subject: RE: [squid-users] Proxy Server closes the connection to http server
before transferring all application data to http client

 

[EXTERNAL EMAIL] 

Hey Lily,

 

Is there any specific issue which made you aware of this issue?

 

Thanks,

Eliezer

 

----

Eliezer Croitoru

Tech Support

Mobile: +972-5-28704261

Email:  &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>&gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">eliezer at ngtech.co.il</A>

 

From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>
&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; &gt; On Behalf Of Zhang,
Lily (USD)
Sent: Tuesday, December 15, 2020 5:21 AM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt; 
Subject: [squid-users] Proxy Server closes the connection to http server
before transferring all application data to http client

 

Hi           

                            

I installed 4.13 squid proxy server. See attachment, http server
(10.250.16.46) sends FIN, ACK to tells that response is finished.  Proxy
server (10.244.102.133) sends FIN, ACK back to http server (10.250.16.46)
before &quot;Application Data&quot; is transferred to http client (10.245.166.20). 

 

Would you please help me on questions below:

1.	Is it normal that proxy server sends FIN, ACK to http server before
http client finishes receiving  all the &quot;Application Data&quot; ?
2.	Does proxy server have option to stop item 1?

 

Thanks

Lily

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201216/56235209/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201216/56235209/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023042.html">[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client
</A></li>
	<LI>Next message (by thread): <A HREF="023046.html">[squid-users] Proxy Server closes the connection to http server before transferring all application data to http client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23045">[ date ]</a>
              <a href="thread.html#23045">[ thread ]</a>
              <a href="subject.html#23045">[ subject ]</a>
              <a href="author.html#23045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
