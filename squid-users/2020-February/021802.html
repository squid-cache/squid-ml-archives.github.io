<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Missing ICAP header in adaptation_masterx_shared_names in RESPMOD only
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Missing%20ICAP%20header%20in%0A%20adaptation_masterx_shared_names%20in%20RESPMOD%20only&In-Reply-To=%3C8e9b7757-01fa-ca17-4bf4-0cb78c1abcb3%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021798.html">
   <LINK REL="Next"  HREF="021799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Missing ICAP header in adaptation_masterx_shared_names in RESPMOD only</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Missing%20ICAP%20header%20in%0A%20adaptation_masterx_shared_names%20in%20RESPMOD%20only&In-Reply-To=%3C8e9b7757-01fa-ca17-4bf4-0cb78c1abcb3%40measurement-factory.com%3E"
       TITLE="[squid-users] Missing ICAP header in adaptation_masterx_shared_names in RESPMOD only">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Feb 25 21:13:34 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021798.html">[squid-users] Missing ICAP header in	adaptation_masterx_shared_names in RESPMOD only
</A></li>
        <LI>Next message (by thread): <A HREF="021799.html">[squid-users] About intercept https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21802">[ date ]</a>
              <a href="thread.html#21802">[ thread ]</a>
              <a href="subject.html#21802">[ subject ]</a>
              <a href="author.html#21802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/25/20 11:17 AM, Felipe Polanco wrote:

&gt;<i> I'm consuming an ICAP service that requires Squid to send the masterx
</I>&gt;<i> shared names header in the RESPMOD call.
</I>
What service or Squid configuration creates that header?


&gt;<i> For an unknown reason, the header is missing if squid is sending RESPMOD
</I>&gt;<i> only to the ICAP server.
</I>&gt;<i> 
</I>&gt;<i> If I enable REQMOD and RESPMOD then the header is attached.
</I>
&gt;<i> Is this a bug or intentional?
</I>
Difficult to say for sure without more info, but perhaps the REQMOD
service was creating the header, and when you removed that service, the
header was gone, and Squid had nothing to share with the RESPMOD
service? If the removed REQMOD service was not creating that header,
then where did the header come from?


&gt;<i>From <A HREF="http://www.squid-cache.org/Doc/config/adaptation_masterx_shared_names/:">http://www.squid-cache.org/Doc/config/adaptation_masterx_shared_names/:</A>
</I>
&gt;<i> 	Squid will store and forward the set entry to subsequent adaptation
</I>&gt;<i> 	transactions within the same master transaction scope.
</I>
Note the word &quot;subsequent&quot; in the above documentation paragraph. I
suspect that with only one (RESPMOD) service, nothing else may be
creating that header before Squid starts that RESPMOD transaction.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021798.html">[squid-users] Missing ICAP header in	adaptation_masterx_shared_names in RESPMOD only
</A></li>
	<LI>Next message (by thread): <A HREF="021799.html">[squid-users] About intercept https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21802">[ date ]</a>
              <a href="thread.html#21802">[ thread ]</a>
              <a href="subject.html#21802">[ subject ]</a>
              <a href="author.html#21802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
