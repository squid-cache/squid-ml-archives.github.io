<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] TCP incoming requests Traffic Normalization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP%20incoming%20requests%20Traffic%20Normalization&In-Reply-To=%3Cc15362b7-d466-9d8c-bf79-1bbc1895aefb%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021622.html">
   <LINK REL="Next"  HREF="021623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] TCP incoming requests Traffic Normalization</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20TCP%20incoming%20requests%20Traffic%20Normalization&In-Reply-To=%3Cc15362b7-d466-9d8c-bf79-1bbc1895aefb%40measurement-factory.com%3E"
       TITLE="[squid-users] TCP incoming requests Traffic Normalization">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jan 13 16:42:52 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021622.html">[squid-users] TCP  incoming requests Traffic Normalization
</A></li>
        <LI>Next message (by thread): <A HREF="021623.html">[squid-users] [TECHNICAL QUESTION] try to resolve 403 error for	specific website
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21628">[ date ]</a>
              <a href="thread.html#21628">[ thread ]</a>
              <a href="subject.html#21628">[ subject ]</a>
              <a href="author.html#21628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/13/20 5:36 AM, Ahmad Alzaeem wrote:

&gt;<i> just need to apply that on &#8220; new requests &#8220; not on already &#8220; established &#8220; connections
</I>
You can probably do this using an external ACL. The program implementing
your external ACL can delay incoming requests to make sure that the
aggregate served request rate is at most 50/s. You will need to write
that program or find something suitable on the web.

For more details, look for &quot;acl aclname external&quot; and perhaps &quot;external
ACL&quot; in squid.conf.documented. The API for the external ACL program
(called &quot;helper&quot;) is described at
<A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#Access_Control_.28ACL.29">https://wiki.squid-cache.org/Features/AddonHelpers#Access_Control_.28ACL.29</A>

N.B. One connection may carry many HTTP requests. To implement the limit
correctly, you will need to clarify whether the limit should apply to
new requests on established connections. The external ACL helper can
support any answer to that question, but its code will be different
depending on your answer.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021622.html">[squid-users] TCP  incoming requests Traffic Normalization
</A></li>
	<LI>Next message (by thread): <A HREF="021623.html">[squid-users] [TECHNICAL QUESTION] try to resolve 403 error for	specific website
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21628">[ date ]</a>
              <a href="thread.html#21628">[ thread ]</a>
              <a href="subject.html#21628">[ subject ]</a>
              <a href="author.html#21628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
