<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Caching content-ype : video/MP2T
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20content-ype%20%3A%20video/MP2T&In-Reply-To=%3C9ec86a3ad64e58e0a4348110d81725ff%40olfeo.bm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021639.html">
   <LINK REL="Next"  HREF="021664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Caching content-ype : video/MP2T</H1>
    <B>Farid Agha</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Caching%20content-ype%20%3A%20video/MP2T&In-Reply-To=%3C9ec86a3ad64e58e0a4348110d81725ff%40olfeo.bm%3E"
       TITLE="[squid-users] Caching content-ype : video/MP2T">fagha at olfeo.com
       </A><BR>
    <I>Wed Jan 15 16:43:34 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021639.html">[squid-users] unable to get issuer cert locally protocol error
</A></li>
        <LI>Next message (by thread): <A HREF="021664.html">[squid-users] Caching content-ype : video/MP2T
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21640">[ date ]</a>
              <a href="thread.html#21640">[ thread ]</a>
              <a href="subject.html#21640">[ subject ]</a>
              <a href="author.html#21640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all, 

After reading archives and FAQ, I send this email.  

My main
goal is to cache segments of a live video. The content-type is
video/MP2T and the extension is .ts 

I'm actually in explicit proxy and
the cache is working fine for all files except this content-type. 


Here after my configuration : 

# Begin &quot;Cache
Rules&quot;
maximum_object_size_in_memory 2048 KB
memory_replacement_policy
lru
cache_mem 512 MB 

maximum_object_size 32768 KB
minimum_object_size
1 KB
cache_replacement_policy lru
cache_dir ufs
/opt/olfeo/data/proxy/cache 5000 16 256 

cache_swap_low
85
cache_swap_high 95 

delay_pools 1
acl acl_bw_0_categorylist note
urlgroup theme_5
delay_class 1 3
delay_parameters 1 10000/20000 -1/-1
5000/10000
delay_access 1 allow acl_bw_0_categorylist
delay_access 1
deny all 

#refresh_pattern ^ftp: 1440 20% 10080
#refresh_pattern
^gopher: 1440 0% 1440
refresh_pattern . 0 100% 4320 ignore-no-store


request_header_access Cache-Control deny all
cache allow all 

My
squid version is : 4.4 

An access.log portion :  

1579103694.775 42
10.12.0.6 TCP_MISS/200 1154117 GET
<A HREF="http://xxx.xxx.net/i/2_1@799489/segment157910368_700_av-p.ts?">http://xxx.xxx.net/i/2_1@799489/segment157910368_700_av-p.ts?</A> -
HIER_DIRECT/104.123.50.35 video/MP2T
1579103704.762 42 10.12.0.6
TCP_MISS/200 1223301 GET
<A HREF="http://xxx.xxx.net/i/2_1@799489/segment157910369_700_av-p.ts?">http://xxx.xxx.net/i/2_1@799489/segment157910369_700_av-p.ts?</A> -
HIER_DIRECT/104.123.50.35 video/MP2T
1579103714.688 70 10.12.0.6
TCP_MISS/200 1205253 GET
<A HREF="http://xxx.xxx.net/i/2_1@799489/segment157910370_700_av-p.ts?">http://xxx.xxx.net/i/2_1@799489/segment157910370_700_av-p.ts?</A> -
HIER_DIRECT/104.123.50.35 video/MP2T

Somebody has experience on that,
is that possible ? 

Thank you, 

Farid 

Do you see any error, is that
for you possible ? 

Thanks,
BR

  


Farid Agha 
Directeur du Customer Success
t : +33184177173 m : +33636497378
e : <A HREF="https://lists.squid-cache.org/listinfo/squid-users">fagha at olfeo.com</A> [mailto:%emailaddress%] w : www.olfeo.com [<A HREF="https://www.olfeo.com/">https://www.olfeo.com/</A>]
4 rue de Ventadour, 75001 Paris
[<A HREF="http://www.linkedin.com/company/olfeo?trk=hb_tab_compy_id_234636">http://www.linkedin.com/company/olfeo?trk=hb_tab_compy_id_234636</A>] [<A HREF="https://twitter.com/olfeo">https://twitter.com/olfeo</A>] [<A HREF="http://www.youtube.com/user/OlfeoTV?feature=mhee">http://www.youtube.com/user/OlfeoTV?feature=mhee</A>] [<A HREF="https://www.facebook.com/societeolfeo">https://www.facebook.com/societeolfeo</A>]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-disclaimer-649115605-0.png
Type: image/png
Size: 23421 bytes
Desc: x-disclaimer-649115605-0.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-disclaimer-649115605-1.png
Type: image/png
Size: 6498 bytes
Desc: x-disclaimer-649115605-1.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0001.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0001.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-disclaimer-649115605-2.png
Type: image/png
Size: 6249 bytes
Desc: x-disclaimer-649115605-2.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0002.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0002.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-disclaimer-649115605-3.png
Type: image/png
Size: 3936 bytes
Desc: x-disclaimer-649115605-3.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0003.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0003.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-disclaimer-649115605-4.png
Type: image/png
Size: 7179 bytes
Desc: x-disclaimer-649115605-4.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0004.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200115/034adb5d/attachment-0004.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021639.html">[squid-users] unable to get issuer cert locally protocol error
</A></li>
	<LI>Next message (by thread): <A HREF="021664.html">[squid-users] Caching content-ype : video/MP2T
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21640">[ date ]</a>
              <a href="thread.html#21640">[ thread ]</a>
              <a href="subject.html#21640">[ subject ]</a>
              <a href="author.html#21640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
