<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Forcing squid to fail when the whitelist doesn't exist
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Forcing%20squid%20to%20fail%20when%20the%20whitelist%20doesn%27t%20exist&In-Reply-To=%3CCAN3von4%3Dk%3DhxZ8C9X7%3Du1UPZ90geW7NOvcjAhpWGPHt0U7EdRw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022386.html">
   <LINK REL="Next"  HREF="022383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Forcing squid to fail when the whitelist doesn't exist</H1>
    <B>Matthew Macdonald-Wallace</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Forcing%20squid%20to%20fail%20when%20the%20whitelist%20doesn%27t%20exist&In-Reply-To=%3CCAN3von4%3Dk%3DhxZ8C9X7%3Du1UPZ90geW7NOvcjAhpWGPHt0U7EdRw%40mail.gmail.com%3E"
       TITLE="[squid-users] Forcing squid to fail when the whitelist doesn't exist">matt at mockingbirdconsulting.co.uk
       </A><BR>
    <I>Tue Jul  7 14:52:04 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022386.html">[squid-users] Bandwidth Trottle
</A></li>
        <LI>Next message (by thread): <A HREF="022383.html">[squid-users] Forcing squid to fail when the whitelist doesn't exist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22382">[ date ]</a>
              <a href="thread.html#22382">[ thread ]</a>
              <a href="subject.html#22382">[ subject ]</a>
              <a href="author.html#22382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey all,

We're re-configuring a squid proxy solution for a client and as part of it
we made the assumption that squid would fail if we asked it to read a
whitelist that wasn't present.

We've now discovered that Squid fails to read the file, throws an error in
the log ( Error: Cannot open file /etc/squid/whitelist.txt for reading ),
and then starts up anyway and listens on port 3128 but without the
whitelist present.

I've also discovered the &quot;-C&quot; flag that helps us ignore even more serious
issues, however I can't find anything either in the documentation or by
searching that shows us how to make squid stop as soon as it encounters an
error.

Is this possible? I've searched the FAQ and various other sources, but of
course &quot;stop squid from starting when error&quot; or similar just returns a load
of results about how to fix various errors that stop squid from starting,
rather than deliberately wanting Squid to fail.

Thanks in advance,

Matt


--
Matthew Macdonald-Wallace MIET
Co-Founder
Mockingbird Consulting
Connecting you with your environment

w: www.mockingbirdconsulting.co.uk
e: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">matt at mockingbirdconsulting.co.uk</A>
t: +44 (0) 1600 717142

Bridges Centre,
Drybridge House,
Monmouth,
NP25 5AS

Registered in England and Wales, Company Number 10488438

-- 

--
Mockingbird Consulting

Connecting you with your environment


w:&#160;
www.mockingbirdconsulting.co.uk &lt;<A HREF="http://www.mockingbirdconsulting.co.uk/">http://www.mockingbirdconsulting.co.uk/</A>&gt;

e:&#160;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">info at mockingbirdconsulting.co.uk</A> 
&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">matt at mockingbirdconsulting.co.uk</A>&gt;
t: +44 (0)&#160;1600 717142


Bridges 
Centre,
Drybridge House,
Monmouth,
NP25 5AS

Registered in England and 
Wales, Company Number 10488438
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200707/9cd8ac97/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200707/9cd8ac97/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022386.html">[squid-users] Bandwidth Trottle
</A></li>
	<LI>Next message (by thread): <A HREF="022383.html">[squid-users] Forcing squid to fail when the whitelist doesn't exist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22382">[ date ]</a>
              <a href="thread.html#22382">[ thread ]</a>
              <a href="subject.html#22382">[ subject ]</a>
              <a href="author.html#22382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
