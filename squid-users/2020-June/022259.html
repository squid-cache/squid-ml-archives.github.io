<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid and c-icap's srv_url_check module
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20c-icap%27s%20srv_url_check%20module&In-Reply-To=%3CCAPicJaHAC3K-zb%3DrqXTdci8_4mxG7ReWXnU8y859GMAO_1RebQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022252.html">
   <LINK REL="Next"  HREF="022262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid and c-icap's srv_url_check module</H1>
    <B>Amiq Nahas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20c-icap%27s%20srv_url_check%20module&In-Reply-To=%3CCAPicJaHAC3K-zb%3DrqXTdci8_4mxG7ReWXnU8y859GMAO_1RebQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid and c-icap's srv_url_check module">m992493 at gmail.com
       </A><BR>
    <I>Wed Jun 17 13:32:30 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022252.html">[squid-users] Squid and c-icap's srv_url_check module
</A></li>
        <LI>Next message (by thread): <A HREF="022262.html">[squid-users] Squid and c-icap's srv_url_check module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22259">[ date ]</a>
              <a href="thread.html#22259">[ thread ]</a>
              <a href="subject.html#22259">[ subject ]</a>
              <a href="author.html#22259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jun 17, 2020 at 10:23 AM Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On 16/06/20 1:55 am, Amiq Nahas wrote:
</I>&gt;<i> &gt; Hi Guys,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am trying to use the srv_url_check module to block websites.
</I>&gt;<i> &gt; I have configured squid with proxy authentication and followed this
</I>&gt;<i> &gt; wiki: <A HREF="https://sourceforge.net/p/c-icap/wiki/UrlCheckProfiles/">https://sourceforge.net/p/c-icap/wiki/UrlCheckProfiles/</A>
</I>&gt;<i> &gt; to configure c-icap and srv_url_check. Now, I am having trouble
</I>&gt;<i> &gt; configuring squid.conf. Below I have shared my configuration of squid.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &quot;I am having trouble&quot; is not sufficient details to investigate a problem.
</I>
Sorry my bad.
So After doing all the above configuration. The browser does not block
the websites in the blocklist.
Browser does prompt for user credentials just like the squid.conf is
configured to do, but it is not blocking websites.

However, when I execute c-icap-client from command line it blocks the
blocklisted websites.
To check with c-icap-client I have used the below command:
`c-icap-client -s url_check -x &quot;X-Authenticated-User: dXNlcjE=&quot; -req
&quot;<A HREF="https://www.facebook.com/">https://www.facebook.com/</A>&quot; -v`

So if the blocking from c-icap client is working but blocking from
browser is not working then
something must be wrong with my squid.conf or the configuration part
responsible for making c-icap and squid work together, right?

So what could be it? Please let me know if any other piece of
information is required, I am not sure what else could be of use.

Thanks
Amiq

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022252.html">[squid-users] Squid and c-icap's srv_url_check module
</A></li>
	<LI>Next message (by thread): <A HREF="022262.html">[squid-users] Squid and c-icap's srv_url_check module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22259">[ date ]</a>
              <a href="thread.html#22259">[ thread ]</a>
              <a href="subject.html#22259">[ subject ]</a>
              <a href="author.html#22259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
