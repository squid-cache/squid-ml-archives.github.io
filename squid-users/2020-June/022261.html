<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] print errormessage (like %E in ERR_* pages) in squid logfile ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20print%20errormessage%20%28like%20%25E%20in%20ERR_%2A%20pages%29%20in%0A%20squid%20logfile%20%3F&In-Reply-To=%3C272c561d-4a9a-18e4-1969-c1f23a179814%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022258.html">
   <LINK REL="Next"  HREF="022269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] print errormessage (like %E in ERR_* pages) in squid logfile ?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20print%20errormessage%20%28like%20%25E%20in%20ERR_%2A%20pages%29%20in%0A%20squid%20logfile%20%3F&In-Reply-To=%3C272c561d-4a9a-18e4-1969-c1f23a179814%40measurement-factory.com%3E"
       TITLE="[squid-users] print errormessage (like %E in ERR_* pages) in squid logfile ?">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Jun 17 14:24:21 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022258.html">[squid-users] print errormessage (like %E in ERR_* pages) in squid	logfile ?
</A></li>
        <LI>Next message (by thread): <A HREF="022269.html">[squid-users] [squid-announce] [ADVISORY] SQUID-2020:5 Denial of	Service when	using SMP cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22261">[ date ]</a>
              <a href="thread.html#22261">[ thread ]</a>
              <a href="subject.html#22261">[ subject ]</a>
              <a href="author.html#22261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/17/20 9:17 AM, Dieter Bloms wrote:

&gt;<i> more and more clients aren't browser but are programs, which call a
</I>&gt;<i> restapi through our squid proxy.
</I>&gt;<i> 
</I>&gt;<i> Those clients aren't able to show the errorpage (ERR_*) from proxy in
</I>&gt;<i> case the request wasn't successful for any reason.
</I>&gt;<i> 
</I>&gt;<i> I added %err_code and %err_detail, but %err_detail is filled with &quot;-&quot; sign all the
</I>&gt;<i> time in the logfiles.
</I>&gt;<i> 
</I>&gt;<i> For example:
</I>&gt;<i> If the connection to a webserver fails %err_code is filled with ERR_CONNECT_FAIL, but
</I>&gt;<i> %err_detail is filled with &quot;-&quot; instead of the messages &quot;(110) Connection %timed out&quot;
</I>&gt;<i> 
</I>&gt;<i> Is it possible to log the error message like %E in the error pages ?
</I>

Hello Dieter,

    No, it is not possible to log %E to access.log, and the errno-based
%E itself is often useless in such situations, especially in the
official code where it is often lost or stale.

However, your use case _is_ valid, and Factory is working on improving
detailing of various connectivity problems similar to the ones you are
talking about. There is no official pull request yet, but we are getting
very close. If you would like, please feel free to test-drive our
master/v6-based <A HREF="https://github.com/measurement-factory/squid/pull/63">https://github.com/measurement-factory/squid/pull/63</A>


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022258.html">[squid-users] print errormessage (like %E in ERR_* pages) in squid	logfile ?
</A></li>
	<LI>Next message (by thread): <A HREF="022269.html">[squid-users] [squid-announce] [ADVISORY] SQUID-2020:5 Denial of	Service when	using SMP cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22261">[ date ]</a>
              <a href="thread.html#22261">[ thread ]</a>
              <a href="subject.html#22261">[ subject ]</a>
              <a href="author.html#22261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
