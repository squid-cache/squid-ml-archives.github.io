<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid-users Digest, Vol 70, Issue 27
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid-users%20Digest%2C%20Vol%2070%2C%20Issue%2027&In-Reply-To=%3CCA%2BvZrwkKbObLdfYj6M4G%2Bk%2BAdoh_%3Di%2BU%3Ds0iLH8O4wa3H27MBQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022278.html">
   <LINK REL="Next"  HREF="022280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid-users Digest, Vol 70, Issue 27</H1>
    <B>Monika Avalur</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid-users%20Digest%2C%20Vol%2070%2C%20Issue%2027&In-Reply-To=%3CCA%2BvZrwkKbObLdfYj6M4G%2Bk%2BAdoh_%3Di%2BU%3Ds0iLH8O4wa3H27MBQ%40mail.gmail.com%3E"
       TITLE="[squid-users] squid-users Digest, Vol 70, Issue 27">monika.avalur at gmail.com
       </A><BR>
    <I>Sun Jun 21 13:24:28 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022278.html">[squid-users] Fwd: HTTP X-FORWARDED HEADER
</A></li>
        <LI>Next message (by thread): <A HREF="022280.html">[squid-users] squid-users Digest, Vol 70, Issue 27
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22279">[ date ]</a>
              <a href="thread.html#22279">[ thread ]</a>
              <a href="subject.html#22279">[ subject ]</a>
              <a href="author.html#22279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Amos,

Thank you so much for your reply.

So my use case is, in my application I have a switch which when turned ON,
reads the client IP address from the header I configured in the application
(i.e. X-Forwarded-For in Squid) and based on it some rules are triggered.

If the switch is turned off, it uses proxy IP and based on it some other
set of rules are triggered.

I want to establish this scenario using Squid proxy. But not sure whether
Squid is sending the header.

Thanks,
Monika



On Sun, Jun 21, 2020 at 5:30 PM &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>&gt;
wrote:

&gt;<i> Send squid-users mailing list submissions to
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-owner at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of squid-users digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Fwd: HTTP X-FORWARDED HEADER (Monika Avalur)
</I>&gt;<i>    2. Re: Fwd: HTTP X-FORWARDED HEADER (Amos Jeffries)
</I>&gt;<i>    3. Re: Fwd: HTTP X-FORWARDED HEADER (Amos Jeffries)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Sun, 21 Jun 2020 15:57:21 +0530
</I>&gt;<i> From: Monika Avalur &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">monika.avalur at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [squid-users] Fwd: HTTP X-FORWARDED HEADER
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;CA+vZrw=
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">9K5G+fLRwqW4S9YxPA-TMapgA0UVfxZUmm99EBQP6KA at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I am using squid proxy to test some application in my company.
</I>&gt;<i>
</I>&gt;<i> I have a use cases where I need to use the X-Forwarded-For header from
</I>&gt;<i> squid proxy
</I>&gt;<i>
</I>&gt;<i> I tried by editing the squid configuration file and including
</I>&gt;<i>
</I>&gt;<i> acl localhost src 127.0.0.1
</I>&gt;<i>
</I>&gt;<i>  forwarded_for on
</I>&gt;<i> follow_x_forwarded_for allow localhost
</I>&gt;<i>
</I>&gt;<i> But still I am unable to see the HTTP header in chrome.
</I>&gt;<i>
</I>&gt;<i> While I looked up the documentation, it said requires
</I>&gt;<i> --enable-follow-x-forwarded-for.
</I>&gt;<i>
</I>&gt;<i> Can some one tell me how can I enable it?
</I>&gt;<i>
</I>&gt;<i> It's sort of urgent.
</I>&gt;<i>
</I>&gt;<i> Thanks &amp; Best Regards,
</I>&gt;<i> Monika
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL: &lt;
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200621/eb7fa2ac/attachment-0001.html">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200621/eb7fa2ac/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Sun, 21 Jun 2020 22:40:26 +1200
</I>&gt;<i> From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Fwd: HTTP X-FORWARDED HEADER
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">e04860cc-a3d4-6508-6e73-24505072c63a at treenet.co.nz</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8
</I>&gt;<i>
</I>&gt;<i> On 21/06/20 10:27 pm, Monika Avalur wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am using squid proxy to test some application in my company.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a use cases where I need to use the X-Forwarded-For header from
</I>&gt;<i> &gt; squid proxy
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I tried by editing the squid configuration file and including
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; acl localhost src 127.0.0.1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  forwarded_for on
</I>&gt;<i>
</I>&gt;<i> Enables the header to be sent to servers. Only relevant on intercepted
</I>&gt;<i> traffic.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; follow_x_forwarded_for allow localhost
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Processes headers *received* from client.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; But still I am unable to see the HTTP header in chrome.
</I>&gt;<i>
</I>&gt;<i> This is a header sent to *servers*. Browser will never see it.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; While I looked up the documentation, it said requires
</I>&gt;<i> &gt; --enable-follow-x-forwarded-for.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can some one tell me how can I enable it?&gt; It's sort of urgent.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> What use exactly are you needing to use this header for?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Sun, 21 Jun 2020 23:08:43 +1200
</I>&gt;<i> From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Fwd: HTTP X-FORWARDED HEADER
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ec580a56-2fee-bb32-c457-5be0b314fd65 at treenet.co.nz</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8
</I>&gt;<i>
</I>&gt;<i> On 21/06/20 10:40 pm, Amos Jeffries wrote:
</I>&gt;<i> &gt; On 21/06/20 10:27 pm, Monika Avalur wrote:
</I>&gt;<i> &gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I am using squid proxy to test some application in my company.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have a use cases where I need to use the X-Forwarded-For header from
</I>&gt;<i> &gt;&gt; squid proxy
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I tried by editing the squid configuration file and including
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; acl localhost src 127.0.0.1
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;  forwarded_for on
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Enables the header to be sent to servers. Only relevant on intercepted
</I>&gt;<i> &gt; traffic.
</I>&gt;<i>
</I>&gt;<i> Sorry *indirect* traffic.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Subject: Digest Footer
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> End of squid-users Digest, Vol 70, Issue 27
</I>&gt;<i> *******************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200621/c87a823a/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200621/c87a823a/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022278.html">[squid-users] Fwd: HTTP X-FORWARDED HEADER
</A></li>
	<LI>Next message (by thread): <A HREF="022280.html">[squid-users] squid-users Digest, Vol 70, Issue 27
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22279">[ date ]</a>
              <a href="thread.html#22279">[ thread ]</a>
              <a href="subject.html#22279">[ subject ]</a>
              <a href="author.html#22279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
