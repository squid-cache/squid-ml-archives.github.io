<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Error: (71) Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%3A%20%2871%29%20Protocol%20error%20%28TLS%20code%3A%0A%20SQUID_ERR_SSL_HANDSHAKE%29&In-Reply-To=%3C150ee17c-b037-7087-e0a5-a6c95267b4c6%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022282.html">
   <LINK REL="Next"  HREF="022286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Error: (71) Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Error%3A%20%2871%29%20Protocol%20error%20%28TLS%20code%3A%0A%20SQUID_ERR_SSL_HANDSHAKE%29&In-Reply-To=%3C150ee17c-b037-7087-e0a5-a6c95267b4c6%40treenet.co.nz%3E"
       TITLE="[squid-users] Error: (71) Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Jun 22 09:10:06 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022282.html">[squid-users] Error: (71) Protocol error (TLS	code:SQUID_ERR_SSL_HANDSHAKE)
</A></li>
        <LI>Next message (by thread): <A HREF="022286.html">[squid-users] Upload throttling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22284">[ date ]</a>
              <a href="thread.html#22284">[ thread ]</a>
              <a href="subject.html#22284">[ subject ]</a>
              <a href="author.html#22284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/06/20 5:14 pm, Eliezer Croitoru wrote:
&gt;<i> I have tested 4.12 and with default settings I am getting an error on
</I>&gt;<i> some local common web pages.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> (71) Protocol error (TLS code: SQUID_ERR_SSL_HANDSHAKE)
</I>&gt;<i> Handshake with SSL server failed: error:141A318A:SSL
</I>&gt;<i> routines:tls_process_ske_dhe:dh key too small
</I>...
&gt;<i> 
</I>&gt;<i> But yet I am still confused about the subject.
</I>&gt;<i> 
</I>&gt;<i> Can anyone simplify this specific issue for me?
</I>&gt;<i> 
</I>
Just like any other key-pair encryption DHE depends on a secret. Over
time short secrets become easy for attackers to discover.

You may be more familiar with the RSA 1024-&gt;2048-&gt;4096 migrations. The
same thing is going on here but for the DHE key bit-size.


IIRC, minimum these days for DHE is 1024-bit with 2048-bit secrets being
preferred. Anything under 2048 the clients may warn, under 1024 they are
expected to reject with the above error.

For public domains you should be able to use the QualSys SSL Labs tests
to check a problematic site and see some explanation of the details.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022282.html">[squid-users] Error: (71) Protocol error (TLS	code:SQUID_ERR_SSL_HANDSHAKE)
</A></li>
	<LI>Next message (by thread): <A HREF="022286.html">[squid-users] Upload throttling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22284">[ date ]</a>
              <a href="thread.html#22284">[ thread ]</a>
              <a href="subject.html#22284">[ subject ]</a>
              <a href="author.html#22284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
