<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] (92) Protocol error (TLS code:	X509_V_ERR_CERT_HAS_EXPIRED)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%2892%29%20Protocol%20error%20%28TLS%20code%3A%0A%09X509_V_ERR_CERT_HAS_EXPIRED%29&In-Reply-To=%3C7b43530a-7516-22de-ac30-a418612cfac7%40netfence.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022291.html">
   <LINK REL="Next"  HREF="022293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] (92) Protocol error (TLS code:	X509_V_ERR_CERT_HAS_EXPIRED)</H1>
    <B>Andrea Venturoli</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%2892%29%20Protocol%20error%20%28TLS%20code%3A%0A%09X509_V_ERR_CERT_HAS_EXPIRED%29&In-Reply-To=%3C7b43530a-7516-22de-ac30-a418612cfac7%40netfence.it%3E"
       TITLE="[squid-users] (92) Protocol error (TLS code:	X509_V_ERR_CERT_HAS_EXPIRED)">ml at netfence.it
       </A><BR>
    <I>Tue Jun 23 15:04:56 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022291.html">[squid-users] X-Forwaded-for and SSLBump
</A></li>
        <LI>Next message (by thread): <A HREF="022293.html">[squid-users] (92) Protocol error (TLS code: X509_V_ERR_CERT_HAS_EXPIRED)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22292">[ date ]</a>
              <a href="thread.html#22292">[ thread ]</a>
              <a href="subject.html#22292">[ subject ]</a>
              <a href="author.html#22292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello.

Running Squid 4.11 on FreeBSD 11.3 with SSLBump, since a few days, I've 
got several sites (e.g. <A HREF="https://www.kawsaki.it/">https://www.kawsaki.it/</A>) failing with:

&gt;<i> The following error was encountered while trying to retrieve the URL: <A HREF="https://www.kawasaki.it/*">https://www.kawasaki.it/*</A>
</I>&gt;<i> 
</I>&gt;<i>     Failed to establish a secure connection to 54.39.161.167
</I>&gt;<i> 
</I>&gt;<i> The system returned:
</I>&gt;<i> 
</I>&gt;<i>     (92) Protocol error (TLS code: X509_V_ERR_CERT_HAS_EXPIRED)
</I>&gt;<i> 
</I>&gt;<i>     SSL Certificate expired on: May 30 10:48:38 2020 GMT
</I>&gt;<i> 
</I>&gt;<i> This proxy and the remote host failed to negotiate a mutually acceptable security settings for handling your request. It is possible that the remote host does not support secure connections, or the proxy is not satisfied with the host security credentials.
</I>


When this happens, in cache.log I see:
&gt;<i> 2020/06/23 15:03:31 kid1| ERROR: negotiating TLS on FD 33: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed (1/-1/0)
</I>&gt;<i> 2020/06/23 15:03:31 kid1| ERROR: negotiating TLS on FD 33: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed (1/-1/0)
</I>&gt;<i> 2020/06/23 15:03:31 kid1| ERROR: negotiating TLS on FD 53: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed (1/-1/0)
</I>


I know an intermediate certificate expired, but a new one should have 
been published.



What I find strange, is that using openssl directly succeeds:

&gt;<i> # openssl s_client -connect www.kawasaki.it:https
</I>&gt;<i> CONNECTED(00000003)
</I>&gt;<i> depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA
</I>&gt;<i> verify return:1
</I>&gt;<i> depth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert CN RSA CA G1
</I>&gt;<i> verify return:1
</I>&gt;<i> depth=0 C = CN, ST = \E7\A6\8F\E5\BB\BA\E7\9C\81, L = \E5\8E\A6\E9\97\A8\E5\B8\82, O = \E7\BD\91\E5\AE\BF\E7\A7\91\E6\8A\80\E8\82\A1\E4\BB\BD\E6\9C\89\E9\99\90\E5\85\AC\E5\8F\B8\E5\8E\A6\E9\97\A8\E5\88\86\E5\85\AC\E5\8F\B8, OU = IT, CN = webssl.chinanetcenter.com
</I>&gt;<i> verify return:1
</I>&gt;<i> ---
</I>&gt;<i> Certificate chain
</I>&gt;<i>  0 s:/C=CN/ST=\xE7\xA6\x8F\xE5\xBB\xBA\xE7\x9C\x81/L=\xE5\x8E\xA6\xE9\x97\xA8\xE5\xB8\x82/O=\xE7\xBD\x91\xE5\xAE\xBF\xE7\xA7\x91\xE6\x8A\x80\xE8\x82\xA1\xE4\xBB\xBD\xE6\x9C\x89\xE9\x99\x90\xE5\x85\xAC\xE5\x8F\xB8\xE5\x8E\xA6\xE9\x97\xA8\xE5\x88\x86\xE5\x85\xAC\xE5\x8F\xB8/OU=IT/CN=webssl.chinanetcenter.com
</I>&gt;<i>    i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert CN RSA CA G1
</I>&gt;<i>  1 s:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert CN RSA CA G1
</I>&gt;<i>    i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert Global Root CA
</I>&gt;<i> ---
</I>&gt;<i> Server certificate
</I>&gt;<i> -----BEGIN CERTIFICATE-----
</I>&gt;<i> MIIWEDCCFPigAwIBAgIQA1RHNwOepXqwyoBuZiYbQTANBgkqhkiG9w0BAQsFADBf
</I>&gt;<i> MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
</I>&gt;<i> d3cuZGlnaWNlcnQuY29tMR4wHAYDVQQDExVEaWdpQ2VydCBDTiBSU0EgQ0EgRzEw
</I>&gt;<i> HhcNMjAwNjE5MDAwMDAwWhcNMjAxMTA5MTIwMDAwWjCBnjELMAkGA1UEBhMCQ04x
</I>&gt;<i> EjAQBgNVBAgMCeemj+W7uuecgTESMBAGA1UEBwwJ5Y6m6Zeo5biCMTYwNAYDVQQK
</I>&gt;<i> DC3nvZHlrr/np5HmioDogqHku73mnInpmZDlhazlj7jljqbpl6jliIblhazlj7gx
</I>&gt;<i> CzAJBgNVBAsTAklUMSIwIAYDVQQDExl3ZWJzc2wuY2hpbmFuZXRjZW50ZXIuY29t
</I>&gt;<i> MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA11rUTXwosZacGiiTO6+o
</I>&gt;<i> Qhm7qZzl8T5fGeNwXsZw/EGtCcySXD8pQ33+IpMdXq8hi5EaBXeHCpUs4UCg4S1S
</I>&gt;<i> WXlfGr3PbP+SwLRiXGGNPOPYywLX8N0SyDy1VOkrMHHDRscbf1x6pSJpSTRkNqXS
</I>&gt;<i> 7+/zFTP26fDpvVlgG3U9VpAf7jpCg+xO2ppCbEyKEd02DGNSzSC0vmBJnsg/vI+j
</I>&gt;<i> E8kpiDLjBXAIl5nSns6rChXgxH9/BO60Vef+R3lA5EMVUp31CzhkvjNrk9pcSVbw
</I>&gt;<i> 6AVKlEU314G5diBe/ju0Vie/rnUHXb9FIIHN8+XiNhLBGK2TrgpYvba7gC+wkvVu
</I>&gt;<i> ZwIDAQABo4IShjCCEoIwHwYDVR0jBBgwFoAU70ULeBWRpbbRc6SSb2NaWdNfPp0w
</I>&gt;<i> HQYDVR0OBBYEFGdOsyhZD+/HmDtCHqpecLdpZvYeMIIPwgYDVR0RBIIPuTCCD7WC
</I>&gt;<i> CiouY2N0di5jb22CCSouMTYzLmNvbYIPKi5jaGluYWxpdmUuY29tgg0qLmNjdHZw
</I>&gt;<i> aWMuY29tggwqLmlzZWV5b28uY26CECouMjAxMGV4cG90di5jb22CCSouY2N0di5j
</I>&gt;<i> boIMKi5zYW1sY3IuY29tggoqLnN5eXguY29tgg8qLnpodW9xdWFwcC5jb22CDSou
</I>&gt;<i> NTA1NDM5OS5jb22CDyouYWl3YW40Mzk5LmNvbYIKKi4zODM5LmNvbYIJKi40Mzk5
</I>&gt;<i> LmNugggqLjU2LmNvbYIJKi5jbnR2LmNugg4qLml3YW40Mzk5LmNvbYIOKi5saXZl
</I>&gt;<i> Y2hpbmEuY26CDyoubGl2ZWNoaW5hLmNvbYIQKi5taXRhZ3Rlbm5pLm5ldIIOKi5v
</I>&gt;<i> dXJkdnNzcy5jb22CDSouZGViZW5jZS5uZXSCDSouMzgzOWFwcC5jb22CDSouZGF5
</I>&gt;<i> amF1eS5uZXSCDSouYm13Z3JvdXAuY26CDCouZm94aWpuLmNvbYIPKi5jaGlkYXJl
</I>&gt;<i> c3MuY29tgg4qLmNvdmluaXlhLmNvbYINKi5pbWc0Mzk5LmNvbYIKKi4xMjM3MS5j
</I>&gt;<i> boIMKi5pcGFuZGEubmV0ggwzMDAwdGVzdC5jb22CCyouaTM4MzkuY29tggsqLmlw
</I>&gt;<i> MTM4LmNvbYIJaXAxMzguY29tggwqLnpoZTgwMC5jb22CDSoudnhpbnlvdS5jb22C
</I>&gt;<i> DCouNDM5OWtlLmNvbYIKKi4zMDAwLmNvbYIQKi40Mzk5eW91cGFpLmNvbYIMKi55
</I>&gt;<i> eGhoZGwuY29tgg0qLjMwMDBhcGkuY29tgg4qLmt1eWlueXVuLmNvbYIOKi5rdXlp
</I>&gt;<i> bjEyMy5jb22CDCouZGl5cmluZy5jY4IOKi4zMDAwdGVzdC5jb22CDCoubWVpcGFp
</I>&gt;<i> LmNvbYISKi5jYW5rYW94aWFveGkuY29tggsqLmNudHZ3Yi5jboIQKi5pYW5ub25l
</I>&gt;<i> a3RtLm5ldIIMKi5pcGFuZGEuY29tggsqLmlwYW5kYS5jboINKi40Mzk5YXBpLm5l
</I>&gt;<i> dIINKi51bmNjb2RvLmNvbYIPKi5tZWl0dWRhdGEuY29tggsqLm1laXR1LmNvbYIK
</I>&gt;<i> Ki40Mzk5LmNvbYIPKi5uZXdzLmNjdHYuY29tghEqLm5ld2VyYS5jY3R2LmNvbYIS
</I>&gt;<i> Ki5vcGVuY2xhLmNjdHYuY29tghYqLm5ld3Njb250ZW50LmNjdHYuY29tgg4qLm5u
</I>&gt;<i> bi5jY3R2LmNvbYIOKi5uZXdzLmNudHYuY26CDyoubGl2ZS5jY3R2LmNvbYIUKi5u
</I>&gt;<i> ZXdjb21tZW50LmNudHYuY26CESouaXR2LmNjdHZwaWMuY29tgg0qLmltZy5jbnR2
</I>&gt;<i> LmNughMqLmltZy5saXZlY2hpbmEuY29tgg8qLmlwYW5kYS5jb20uY26CDiouaXBy
</I>&gt;<i> LmNjdHYuY29tgg0qLmlwci5jbnR2LmNughAqLmlzaG93LmNjdHYuY29tgg4qLml0
</I>&gt;<i> di5jY3R2LmNvbYINKi5pdHYuY250di5jboIWKi5uY3BhLWNsYXNzaWMuY250di5j
</I>&gt;<i> boINKi5vdnAuY250di5jboIOKi5saXZlLmNudHYuY26CDioubWFpbC5jbnR2LmNu
</I>&gt;<i> gg8qLm1pbmkuY2N0di5jb22CESoubW9uZ29sLmNjdHYuY29tghAqLm1vbmdvbC5j
</I>&gt;<i> bnR2LmNuggwqLm15LmNudHYuY26CDSoub3BzLmNudHYuY26CDCoudC5jY3R2LmNv
</I>&gt;<i> bYITKi5wYXNzcG9ydC5jY3R2LmNvbYIRKi53ZWJhcHAuY2N0di5jb22CDioudi5p
</I>&gt;<i> cGFuZGEuY29tghAqLnZpZGVvLmNjdHYuY29tgg0qLnZpcC5jbnR2LmNugg4qLnZt
</I>&gt;<i> cy5jY3R2LmNvbYIPKi52b3RlLmNjdHYuY29tgg4qLnZvdGUuY250di5jboINKi52
</I>&gt;<i> cG4uY250di5jboINKi53eC5jY3R2LmNvbYIMKi52LmNjdHYuY29tggwqLnd4LmNu
</I>&gt;<i> dHYuY26CDyoud3hhcHAuY250di5jboIQKi54aXlvdS5jY3R2LmNvbYIPKi54aXlv
</I>&gt;<i> dS5jbnR2LmNugg0qLnlwLmNjdHYuY29tgg8qLnlzZHguY2N0di5jb22CFW1pY3Jv
</I>&gt;<i> Z2FtZS41MDU0Mzk5Lm5ldIINaW1nLjcxYWNnLm5ldIILKi52LmNudHYuY26CDyou
</I>&gt;<i> dW5pb24uY250di5jboISKi5wYXNzcG9ydC5jbnR2LmNughEqLnNwb3J0cy5jY3R2
</I>&gt;<i> LmNvbYINKi5wYXkuY250di5jboIQKi5wbGF5ZXIuY250di5jboILKi5xLmNudHYu
</I>&gt;<i> Y26CDSoucXIuY2N0di5jb22CDCoucXIuY250di5jboIOKi5zZGMuY2N0di5jb22C
</I>&gt;<i> DSouc21zLmNudHYuY26CECouc3BvcnRzLmNudHYuY26CECoudW5pb24uY2N0di5j
</I>&gt;<i> b22CDyouc3RhZmYuY250di5jboIOKi5pbWcuY2N0di5jb22CDSoudGMuY2N0di5j
</I>&gt;<i> b22CFCoudGVjaGNlbnRlci5jbnR2LmNugg4qLnRlc3QuY250di5jboIQKi50cmF2
</I>&gt;<i> ZWwuY250di5jboINKi50di5jY3R2LmNvbYIMKi50di5jbnR2LmNughEqLmltZy5j
</I>&gt;<i> Y3R2cGljLmNvbYIZd2Vic3NsLmNoaW5hbmV0Y2VudGVyLmNvbYIic2VjdXJlLWlu
</I>&gt;<i> dC13ZWItdGljLWNuLmJtd2dyb3VwLmNvbYIcc2VjdXJlLWluZm9uZXQzLmJtd2dy
</I>&gt;<i> b3VwLmNvbYIOKi5hZHMuY2N0di5jb22CDyouNXBsdXMuY250di5jboIMdy50YW5j
</I>&gt;<i> ZG4uY29tghFjcGcubWVpdHViYXNlLmNvbYIWd3d3Lm1pbml0aGVjb29wZXJzLmNv
</I>&gt;<i> bYITKi5zZXJ2aWNlLmt1Z291LmNvbYIec2VjdXJlLXdlYi10aWMtY24uYm13Z3Jv
</I>&gt;<i> dXAuY29tgiBzZWN1cmUtaW5mb25ldDItaW50LmJtd2dyb3VwLmNvbYInc2VjdXJl
</I>&gt;<i> LWludC13ZWItdGljLW1pbmktY24uYm13Z3JvdXAuY29tgiNzZWN1cmUtd2ViLXRp
</I>&gt;<i> Yy1taW5pLWNuLmJtd2dyb3VwLmNvbYIgc2VjdXJlLWluZm9uZXQzLWludC5ibXdn
</I>&gt;<i> cm91cC5jb22CEmNtc2NuLmJtd2dyb3VwLmNvbYISKi5nZGpoLnZ4aW55b3UuY29t
</I>&gt;<i> ggsqLnFmLjU2LmNvbYINbS40Mzk5YXBpLmNvbYIPYXV0by50YW5jZG4uY29tghBz
</I>&gt;<i> ai5uenNpdGVyZXMuY29tghFmYW54aW5nLmt1Z291LmNvbYIMc3MuM3oyMjIuY29t
</I>&gt;<i> gglzcy45azkuY26CFHl4ZC5mbGFzaGdhbWUxNjMuY29tghAqLnNlcnZ5b3UuY29t
</I>&gt;<i> LmNughJtZmFueGluZy5rdWdvdS5jb22CCnNzby41Ni5jb22CDSouYXBpLmNudHYu
</I>&gt;<i> Y26CDyouMjAwOC5jY3R2LmNvbYIOKi5hcHAuY2N0di5jb22CDiouY2JveC5jbnR2
</I>&gt;<i> LmNughMqLmRvd25sb2FkLmNjdHYuY29tghIqLmRpYW55aW5nLmNudHYuY26CFCou
</I>&gt;<i> ZGVuZ3poZXdvLmNjdHYuY29tgg8qLmRhdGEuY2N0di5jb22CEiouY3BvcnRhbC5j
</I>&gt;<i> Y3R2LmNvbYIPKi5jcGM5MC5jbnR2LmNugg0qLmNudHYuY29tLmNugg0qLmNtcy5j
</I>&gt;<i> bnR2LmNughAqLmNjdHY1LmNjdHYuY29tgg0qLmFwcC5jbnR2LmNugg9taC50aWFu
</I>&gt;<i> Y2l0eS5jb22CDSouY2N0di5jb20uY26CDyouYmxvZy5jY3R2LmNvbYIQKi5iYWln
</I>&gt;<i> ZS5jY3R2LmNvbYIPKi5hcHAuY250dndiLmNugg8qLmFwcHMuY2N0di5jb22CDSou
</I>&gt;<i> YmJzLmNudHYuY26CDyouYXJ0cy5jY3R2LmNvbYIPKi5iYWlkdS5jbnR2LmNugg4q
</I>&gt;<i> LmFwcHMuY250di5jboISZmFueGluZzIua3Vnb3UuY29tgg4qLmJicy5jY3R2LmNv
</I>&gt;<i> bYIUbml0cm9tZS5jb20uNDM5OS5jb22CG2FwaS5iZWF1dHltYXN0ZXIubWVpeWFu
</I>&gt;<i> LmNvbYIVaW9zLmh4ankuaXdhbjQzOTkuY29tghpoNS5iZWF1dHltYXN0ZXIubWVp
</I>&gt;<i> eWFuLmNvbYIYYXBpLnNlbGZpZWNpdHkubWVpdHUuY29tghdoNS5zZWxmaWVjaXR5
</I>&gt;<i> Lm1laXR1LmNvbYIWYXBpLnBob3RvLm1laXR1eXVuLmNvbYISaW0ubGl2ZS5tZWlw
</I>&gt;<i> YWkuY29tghRhcGkueGl1eGl1Lm1laXR1LmNvbYIYeGl1eGl1Lmh1b2RvbmcubWVp
</I>&gt;<i> dHUuY29tghhjZG4uaHhqeWlvcy5pd2FuNDM5OS5jb22CF2RsLmdpdmluZ3RhbGVz
</I>&gt;<i> Lmd4cGFuLmNughBpZC5hcGkubWVpdHUuY29tghRhcGkubWFrZXVwLm1laXR1LmNv
</I>&gt;<i> bYISb3Blbi53ZWIubWVpdHUuY29tghR4aXV4aXUud2ViLm1laXR1LmNvbYIUc3Rh
</I>&gt;<i> dGljLmJzdC5tZWl0dS5jb22CFCouZ3JpZHN1bS52ZC5jbnR2LmNughIqLnZkbi5h
</I>&gt;<i> cHBzLmNudHYuY26CEHVwbG9hZC5xZi41Ni5jb22CEiouZGlhcnkubXkuY250di5j
</I>&gt;<i> boIUKi5pbnRsLjIwMDguY2N0di5jb22CEmRsLmpwaGJway5neHBhbi5jboIVKi5j
</I>&gt;<i> YnMuc3BvcnRzLmNjdHYuY29tghgqLm11c2V1bS5pbWcuY2N0dnBpYy5jb22CFiou
</I>&gt;<i> YXBpLmNwb3J0YWwuY2N0di5jb22CFioubmV3cy5pbWcuY2N0dnBpYy5jb22CH2Rs
</I>&gt;<i> b3lhbHR5cGFydG5lci5jbi5ibXdncm91cC5jb22CHmRsb3lhbHR5ZGVhbGVyLmNu
</I>&gt;<i> LmJtd2dyb3VwLmNvbYIdZGxveWFsdHlhZG1pbi5jbi5ibXdncm91cC5jb22CHmRs
</I>&gt;<i> b3lhbHR5cmVwb3J0LmNuLmJtd2dyb3VwLmNvbYIZcHZtZXNzYWdlLmNuLmJtd2dy
</I>&gt;<i> b3VwLmNvbYIVKi5oZC5jcG9ydGFsLmNjdHYuY29tghgqLnNwb3J0cy5pbWcuY2N0
</I>&gt;<i> dnBpYy5jb22CFiouc3RhdGljLjIwMDguY2N0di5jb22CEyoudHYuY2N0djUuY2N0
</I>&gt;<i> di5jb22CDm0uYmJzLjM4MzkuY29tghVjZG4uc3Nqai5pd2FuNDM5OS5jb22CESou
</I>&gt;<i> di4yMDA4LmNjdHYuY29tghBjZG4uZGFubXUuNTYuY29tghRjZG4uaDV3YW4uNDM5
</I>&gt;<i> OXNqLmNvbYIbd3d3Lm1pbmljbGlwLmNvbS40Mzk5cGsuY29tMA4GA1UdDwEB/wQE
</I>&gt;<i> AwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwdQYDVR0fBG4wbDA0
</I>&gt;<i> oDKgMIYuaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0Q05SU0FDQUcx
</I>&gt;<i> LmNybDA0oDKgMIYuaHR0cDovL2NybDQuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0Q05S
</I>&gt;<i> U0FDQUcxLmNybDBMBgNVHSAERTBDMDcGCWCGSAGG/WwBATAqMCgGCCsGAQUFBwIB
</I>&gt;<i> FhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMAgGBmeBDAECAjBvBggrBgEF
</I>&gt;<i> BQcBAQRjMGEwIQYIKwYBBQUHMAGGFWh0dHA6Ly9vY3NwLmRjb2NzcC5jbjA8Bggr
</I>&gt;<i> BgEFBQcwAoYwaHR0cDovL2NybC5kaWdpY2VydC1jbi5jb20vRGlnaUNlcnRDTlJT
</I>&gt;<i> QUNBRzEuY3J0MAwGA1UdEwEB/wQCMAAwggEFBgorBgEEAdZ5AgQCBIH2BIHzAPEA
</I>&gt;<i> dgAHt1wb5X1o//Gwxh0jFce65ld8V5S3au68YToaadOiHAAAAXLKnX81AAAEAwBH
</I>&gt;<i> MEUCICQ38xCx2oi4RdWoHG37l5LfXuX6sYDFziYtIpljwgpVAiEAzSxc3uErukR8
</I>&gt;<i> NgB/v65pyXrBmmZGvoAEyFp7YQcA1qYAdwBep3P531bA57U2SH3QSeAyepGaDISh
</I>&gt;<i> EhKEGHWWgXFFWAAAAXLKnX66AAAEAwBIMEYCIQD2lWe7lQe3TGClTe9fsJ7FyzjF
</I>&gt;<i> eEz15SyKOOdXF9VXxAIhAJZbRlEgVHC+pirpGXg7NjPaavEJm0p6F0TzcUYrnbWB
</I>&gt;<i> MA0GCSqGSIb3DQEBCwUAA4IBAQB8k8PLcRM5n+0gMaqPoCHyWiONOAzo+nUzUwKl
</I>&gt;<i> ZqaglB/s/ARo4tSnAj9cqPxryxw6gHt/waaHKucRMdJIALCiD6KMxaJfdq+RWeNs
</I>&gt;<i> U9sb66G0S13I6viXPZQWRvyvqCnH8+VIeixg8ju68sjAFlYzO1lVTMfb6jZgpoGn
</I>&gt;<i> /hBWMC5Ya4Y37PZjTXtF/3nH47+6n5qJi5d6kY4NPedOHo6ICa1GEroCFnNtmKol
</I>&gt;<i> P4FopEjjCC7OPdWzGMtR+KGqiOUle1g4OwCd7/poKWuz73ae7T1Q0hhMOgs/wxC+
</I>&gt;<i> 9dCRobbSomi61cNd42Y0zhvAws/Yfyw4GVFSJkIB+CqLdVOf
</I>&gt;<i> -----END CERTIFICATE-----
</I>&gt;<i> subject=/C=CN/ST=\xE7\xA6\x8F\xE5\xBB\xBA\xE7\x9C\x81/L=\xE5\x8E\xA6\xE9\x97\xA8\xE5\xB8\x82/O=\xE7\xBD\x91\xE5\xAE\xBF\xE7\xA7\x91\xE6\x8A\x80\xE8\x82\xA1\xE4\xBB\xBD\xE6\x9C\x89\xE9\x99\x90\xE5\x85\xAC\xE5\x8F\xB8\xE5\x8E\xA6\xE9\x97\xA8\xE5\x88\x86\xE5\x85\xAC\xE5\x8F\xB8/OU=IT/CN=webssl.chinanetcenter.com
</I>&gt;<i> issuer=/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert CN RSA CA G1
</I>&gt;<i> ---
</I>&gt;<i> No client certificate CA names sent
</I>&gt;<i> Peer signing digest: SHA256
</I>&gt;<i> Server Temp Key: ECDH, P-256, 256 bits
</I>&gt;<i> ---
</I>&gt;<i> SSL handshake has read 7635 bytes and written 433 bytes
</I>&gt;<i> ---
</I>&gt;<i> New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256
</I>&gt;<i> Server public key is 2048 bit
</I>&gt;<i> Secure Renegotiation IS supported
</I>&gt;<i> Compression: NONE
</I>&gt;<i> Expansion: NONE
</I>&gt;<i> No ALPN negotiated
</I>&gt;<i> SSL-Session:
</I>&gt;<i>     Protocol  : TLSv1.2
</I>&gt;<i>     Cipher    : ECDHE-RSA-AES128-GCM-SHA256
</I>&gt;<i>     Session-ID: 82265A527B8027908036EBB9486CC7A048E484F836AD3250952976969D95E12D
</I>&gt;<i>     Session-ID-ctx: 
</I>&gt;<i>     Master-Key: 0738979C685DE1EFC159C9D21453A069379651D1B28326165A5C0C52265EE4601ED6D01BB44D74FFDEBACF7F73085853
</I>&gt;<i>     Key-Arg   : None
</I>&gt;<i>     PSK identity: None
</I>&gt;<i>     PSK identity hint: None
</I>&gt;<i>     SRP username: None
</I>&gt;<i>     TLS session ticket lifetime hint: 7200 (seconds)
</I>&gt;<i>     TLS session ticket:
</I>&gt;<i>     0000 - f9 b5 c9 ba 56 9e 82 e9-e0 9e d1 09 bd 1e e3 ee   ....V...........
</I>&gt;<i>     0010 - 24 0d 2a a3 ec c9 76 e3-60 b9 03 ff 86 62 e5 f3   $.*...v.`....b..
</I>&gt;<i>     0020 - e4 28 3f e2 1b 3f 9a 42-3e 89 ce 5d b0 5a 78 3a   .(?..?.B&gt;..].Zx:
</I>&gt;<i>     0030 - 27 fa e3 0d f2 e8 72 2f-92 c5 a8 14 cd f3 22 0b   '.....r/......&quot;.
</I>&gt;<i>     0040 - bc ec e3 f3 74 95 cf 07-56 b8 37 e1 a0 66 a5 23   ....t...V.7..f.#
</I>&gt;<i>     0050 - 92 03 f3 b4 5b 47 4f f8-a0 11 c2 a2 9a 48 b5 6f   ....[GO......H.o
</I>&gt;<i>     0060 - 6a e0 e6 2d ac f6 dc 23-32 ea b3 1a 92 11 ba f9   j..-...#2.......
</I>&gt;<i>     0070 - 3c 4b 51 c8 3f ff 2d 37-15 89 56 2c 8e 63 ab 08   &lt;KQ.?.-7..V,.c..
</I>&gt;<i>     0080 - 0d 54 be fd f2 7c 3b 3a-2f 58 79 3d f6 58 31 91   .T...|;:/Xy=.X1.
</I>&gt;<i>     0090 - 22 01 9e 2b 9a 62 fd 7b-3a 0b f0 71 f6 56 77 28   &quot;..+.b.{:..q.Vw(
</I>&gt;<i>     00a0 - 39 a3 0e 51 1e 39 fb b9-56 94 85 3c 93 7d e7 e1   9..Q.9..V..&lt;.}..
</I>&gt;<i> 
</I>&gt;<i>     Start Time: 1592924413
</I>&gt;<i>     Timeout   : 300 (sec)
</I>&gt;<i>     Verify return code: 0 (ok)
</I>&gt;<i> ---
</I>


Why this?
Does Squid perform something different from OpenSSL?
Does it have some certificate cache I should clear? How?

  bye &amp; Thanks
	av.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022291.html">[squid-users] X-Forwaded-for and SSLBump
</A></li>
	<LI>Next message (by thread): <A HREF="022293.html">[squid-users] (92) Protocol error (TLS code: X509_V_ERR_CERT_HAS_EXPIRED)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22292">[ date ]</a>
              <a href="thread.html#22292">[ thread ]</a>
              <a href="subject.html#22292">[ subject ]</a>
              <a href="author.html#22292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
