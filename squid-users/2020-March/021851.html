<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] tls12_check_peer_sigalg:wrong signature type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tls12_check_peer_sigalg%3Awrong%20signature%20type&In-Reply-To=%3C9181ec11-8794-0750-224e-22264b6271c3%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021847.html">
   <LINK REL="Next"  HREF="021853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] tls12_check_peer_sigalg:wrong signature type</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20tls12_check_peer_sigalg%3Awrong%20signature%20type&In-Reply-To=%3C9181ec11-8794-0750-224e-22264b6271c3%40treenet.co.nz%3E"
       TITLE="[squid-users] tls12_check_peer_sigalg:wrong signature type">squid3 at treenet.co.nz
       </A><BR>
    <I>Fri Mar 13 07:27:58 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="021847.html">[squid-users] tls12_check_peer_sigalg:wrong signature type
</A></li>
        <LI>Next message (by thread): <A HREF="021853.html">[squid-users] tls12_check_peer_sigalg:wrong signature type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21851">[ date ]</a>
              <a href="thread.html#21851">[ thread ]</a>
              <a href="subject.html#21851">[ subject ]</a>
              <a href="author.html#21851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/03/20 4:59 am, Edouard Gaulu&#233; wrote:
&gt;<i> Hi Community,
</I>&gt;<i> 
</I>&gt;<i> We moved from 3.4.8 to 4.10 two days ago (and more generally to Buster).
</I>&gt;<i> 
</I>&gt;<i> Some users complain today about HTTPS sites that are not reachable while
</I>&gt;<i> it was before (we bump). They are reachable from browsers without proxy.
</I>&gt;<i> 
</I>&gt;<i> An example is : www.marches-securises.fr.
</I>&gt;<i> 
</I>&gt;<i> In the log I get :
</I>&gt;<i> 
</I>&gt;<i> ERROR: negotiating TLS on FD 57: error:1414D172:SSL
</I>&gt;<i> routines:tls12_check_peer_sigalg:wrong signature type (1/-1/0)
</I>&gt;<i> 
</I>
This is an error from your Squid machines OpenSSL library.


&gt;<i> openssl s_client -connect www.marches-securises.fr:443 is OK
</I>&gt;<i> 
</I>&gt;<i> I believed in the beginning, it was an intermediate certificate trouble,
</I>&gt;<i> but it doesn't look so. I read this :
</I>&gt;<i> <A HREF="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=934453">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=934453</A>
</I>&gt;<i> 
</I>&gt;<i> I'm not sure squid is involved, but maybe some of you have already
</I>&gt;<i> overcome this kind of trouble through squid or openssl configuration.
</I>&gt;<i> 
</I>
If you can get a packet trace and inspect the TLS messages with
wireshark you should be able to determine what is actually happening.

If you can find for certain what the cause of problem is we might be
able to help with solutions (if not obvious to you by then).

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="021847.html">[squid-users] tls12_check_peer_sigalg:wrong signature type
</A></li>
	<LI>Next message (by thread): <A HREF="021853.html">[squid-users] tls12_check_peer_sigalg:wrong signature type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21851">[ date ]</a>
              <a href="thread.html#21851">[ thread ]</a>
              <a href="subject.html#21851">[ subject ]</a>
              <a href="author.html#21851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
