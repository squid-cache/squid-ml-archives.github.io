<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Passing XML through squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Passing%20XML%20through%20squid%20proxy&In-Reply-To=%3C95970dbd-32e8-28c9-29a5-1d6596317bbf%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022071.html">
   <LINK REL="Next"  HREF="022048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Passing XML through squid proxy</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Passing%20XML%20through%20squid%20proxy&In-Reply-To=%3C95970dbd-32e8-28c9-29a5-1d6596317bbf%40measurement-factory.com%3E"
       TITLE="[squid-users] Passing XML through squid proxy">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue May  5 15:19:15 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022071.html">[squid-users] [External] Re:  Passing XML through squid proxy
</A></li>
        <LI>Next message (by thread): <A HREF="022048.html">[squid-users] Squid Proxy not blocking websites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22076">[ date ]</a>
              <a href="thread.html#22076">[ thread ]</a>
              <a href="subject.html#22076">[ subject ]</a>
              <a href="author.html#22076">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/5/20 10:22 AM, Cindy Yoho wrote:

&gt;<i> They are not actually passing a url to the squid server. The nginx config allowed me to have a line as such:
</I>&gt;<i> 
</I>&gt;<i> proxy_pass <A HREF="https://calcconnect.vertexsmb.com/vertex-ws/services/CalculateTax">https://calcconnect.vertexsmb.com/vertex-ws/services/CalculateTax</A>
</I>
&gt;<i> The xml just got passed straight through to the url in the config
</I>&gt;<i> file.    Is there something comparable in squid I can set to tell it
</I>&gt;<i> where to pass the code?   I am working on getting the wireshark
</I>&gt;<i> packets but the  server is in a secure zone so there aren't any easy
</I>&gt;<i> options for getting a file from it.
</I>
I am not intimate with nginx, but its proxy_pass configuration sounds
similar to Squid's cache_peer directive:
<A HREF="http://www.squid-cache.org/Doc/config/cache_peer/">http://www.squid-cache.org/Doc/config/cache_peer/</A>

Beyond that, without packet traces (or Squid cache.logs with
debug_options set to &quot;ALL,2&quot; or higher), it would be difficult for me to
say anything specific.


Good luck,

Alex.



&gt;<i> -----Original Message-----
</I>&gt;<i> From: Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; 
</I>&gt;<i> Sent: Friday, May 1, 2020 11:26 AM
</I>&gt;<i> To: Cindy Yoho &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Cyoho at umpublishing.org</A>&gt;; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [External] Re: [squid-users] Passing XML through squid proxy
</I>&gt;<i> 
</I>&gt;<i> On 5/1/20 10:56 AM, Cindy Yoho wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> When the Order Entry server sends the XML code, we get an error 
</I>&gt;&gt;<i> returned to the server making the request
</I>&gt;<i> 
</I>&gt;<i> Perhaps your Order Entry server does not use HTTP when talking to Squid?
</I>&gt;<i> 
</I>&gt;<i> Squid does not really care about the request payload, but the request has to use the HTTP transport protocol. So sending a SOAP/XML request payload over HTTP is OK, but sending raw SOAP (or SOAP over something other than HTTP) is not.
</I>&gt;<i> 
</I>&gt;<i> If you can post a packet capture of the Order Entry server talking to Squid (not the text interpretation of Squid response but the actual packets going from the Order Entry server to Squid; use libpcap format which is often the default for Wireshark export), then we should be able to confirm whether your Order Entry server is using the right protocol to talk to/through Squid.
</I>&gt;<i> 
</I>&gt;<i> The same packet capture can point to HTTP request problems if the Order Entry server is using HTTP but sending some HTTP token that Squid does not like (or not sending an HTTP token that Squid needs).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> HTH,
</I>&gt;<i> 
</I>&gt;<i> Alex.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022071.html">[squid-users] [External] Re:  Passing XML through squid proxy
</A></li>
	<LI>Next message (by thread): <A HREF="022048.html">[squid-users] Squid Proxy not blocking websites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22076">[ date ]</a>
              <a href="thread.html#22076">[ thread ]</a>
              <a href="subject.html#22076">[ subject ]</a>
              <a href="author.html#22076">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
