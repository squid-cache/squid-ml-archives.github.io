<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%204.10%3A%20ssl-bump%20on%20https_port%20requires%0A%20tproxy/intercept%20which%20is%20missing%20in%20secure%20proxy%20method&In-Reply-To=%3C00773822-eb72-06e0-cb73-de62efdc1468%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022130.html">
   <LINK REL="Next"  HREF="022131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%204.10%3A%20ssl-bump%20on%20https_port%20requires%0A%20tproxy/intercept%20which%20is%20missing%20in%20secure%20proxy%20method&In-Reply-To=%3C00773822-eb72-06e0-cb73-de62efdc1468%40measurement-factory.com%3E"
       TITLE="[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed May 20 14:14:21 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022130.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
        <LI>Next message (by thread): <A HREF="022131.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22136">[ date ]</a>
              <a href="thread.html#22136">[ thread ]</a>
              <a href="subject.html#22136">[ subject ]</a>
              <a href="author.html#22136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/20/20 3:51 AM, David Touzeau wrote:

&gt;<i> How to be a sponsor?
</I>
There are many ways, including these two:

1. You privately find a developer (a person or an organization) and pay
them for implementing the changes you need.

2. You post an RFQ to squid-dev and solicit quotes/bids from developers.

If substantial changes you sponsored are officially accepted, you can
request to be officially listed in SPONSORS. Needless to say, you can
pull resources with other co-sponsors.

For a complex feature like TLS-inside-TLS bumping, please make sure that

a) The required architectural changes are deemed acceptable to the Squid
Project before the development starts. Otherwise, you may end up with a
large piece of code that you would have to pay somebody to maintain
forever. Such preliminary acceptance can be secured via discussions on
squid-dev. Such discussions should be initiated by (the developer)
posting a Request For Comments outlining major anticipated changes.

b) The developer will support the changes throughout Squid Project
review and initial deployment. It is very likely that the initial
version of the &quot;working&quot; code will need to be adjusted (for many reasons).

The following FAQ may be useful in this context:
<A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F">https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F</A>


&gt;<i> ( cost ) of such feature
</I>
That would be determined by the developer, subject to the usual business
negotiations (warranties, deadlines, backporting support, payment terms,
etc.). The most common pitfalls here are underestimating the complexity
of the changes, the overheads related to getting the changes officially
accepted, and medium-term support costs. FWIW, if I were to get a quote
that equates this project with a week worth of work, I would laugh at it.

Please note that the Squid Project itself does not do Squid development
and does not receive any money for Squid development. Some developers
contribute back to the Project (in various ways), but there is no
requirement to do so. This is typical for many open source projects, of
course.


&gt;<i> Could you think it can be planned for 5.x ?
</I>
IMO, no. The change is too big to qualify for any reasonable v5 freeze
exception. Squid v6 is your best bet right now. If the developer knows
what they are doing, there are ways to mitigate associated risks.


HTH,

Alex.


&gt;<i> Le 19/05/2020 &#224; 16:46, Alex Rousskov a &#233;crit&#160;:
</I>&gt;&gt;&gt;&gt;<i> On 18/05/20 10:15 am, David Touzeau wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Hi we want to use squid as * * * Secure Proxy * * * using https_port
</I>&gt;&gt;&gt;&gt;&gt;<i> We have tested major browsers and it seems working good.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> To make it work, we need to deploy the proxy certificate on all browsers
</I>&gt;&gt;&gt;&gt;&gt;<i> to make the secure connection running.
</I>&gt;&gt;<i> I hope that deployment is not necessary -- an HTTPS proxy should be
</I>&gt;&gt;<i> using a certificate issued for its domain name and signed by a
</I>&gt;&gt;<i> well-known CA already trusted by browsers. An HTTPS proxy is not faking
</I>&gt;&gt;<i> anything. If browsers do require CA certificate import in this
</I>&gt;&gt;<i> environment, it is their limitation.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 5/19/20 9:24 AM, Matus UHLAR - fantomas wrote:
</I>&gt;&gt;&gt;<i> David, note that requiring browsers to connect to your proxy over encrypted
</I>&gt;&gt;&gt;<i> (https) connection, and then decrypting tunnels to real server will lower
</I>&gt;&gt;&gt;<i> the clients' security
</I>&gt;&gt;<i> A proper SslBump implementation for HTTPS proxy will not be &quot;decrypting
</I>&gt;&gt;<i> tunnels to real server&quot;. The security of such an implementation will be
</I>&gt;&gt;<i> the same as of SslBump supported today (plus the additional protections
</I>&gt;&gt;<i> offered by securing the browser-proxy communication).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022130.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
	<LI>Next message (by thread): <A HREF="022131.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22136">[ date ]</a>
              <a href="thread.html#22136">[ thread ]</a>
              <a href="subject.html#22136">[ subject ]</a>
              <a href="author.html#22136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
