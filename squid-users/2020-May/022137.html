<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%204.10%3A%20ssl-bump%20on%20https_port%20requires%0A%20tproxy/intercept%20which%20is%20missing%20in%20secure%20proxy%20method&In-Reply-To=%3Cc81db5af-3ef9-c957-40d1-f5e2597abb74%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022131.html">
   <LINK REL="Next"  HREF="022125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%204.10%3A%20ssl-bump%20on%20https_port%20requires%0A%20tproxy/intercept%20which%20is%20missing%20in%20secure%20proxy%20method&In-Reply-To=%3Cc81db5af-3ef9-c957-40d1-f5e2597abb74%40measurement-factory.com%3E"
       TITLE="[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed May 20 14:38:02 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022131.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
        <LI>Next message (by thread): <A HREF="022125.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22137">[ date ]</a>
              <a href="thread.html#22137">[ thread ]</a>
              <a href="subject.html#22137">[ subject ]</a>
              <a href="author.html#22137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/20/20 6:02 AM, Matus UHLAR - fantomas wrote:
&gt;&gt;<i> On 5/19/20 9:24 AM, Matus UHLAR - fantomas wrote:
</I>&gt;&gt;&gt;<i> David, note that requiring browsers to connect to your proxy over
</I>&gt;&gt;&gt;<i> encrypted (https) connection, and then decrypting tunnels to real server will
</I>&gt;&gt;&gt;<i> lower the clients' security
</I>
&gt;<i> On 19.05.20 10:46, Alex Rousskov wrote:
</I>&gt;&gt;<i> A proper SslBump implementation for HTTPS proxy will not be &quot;decrypting
</I>&gt;&gt;<i> tunnels to real server&quot;. The security of such an implementation will be
</I>&gt;&gt;<i> the same as of SslBump supported today (plus the additional protections
</I>&gt;&gt;<i> offered by securing the browser-proxy communication).
</I>
&gt;<i> If David wants to ssl-bump the traffic inside the HTTPS tunel, it means that the
</I>&gt;<i> communication between browser and server has to be decrypted on squid,
</I>&gt;<i> squid will talk to server using HTTPS
</I>
You are right. Due to insufficient shared terminology, we are simply
talking about two different things:

* I am talking about Squid (in a bumping HTTPS proxy role) sending
bumped requests to plain servers, exposing previously encrypted traffic.
While that is technically possible to support (in some cases) and even
occasionally explicitly requested (in a peering environment), that
should _not_ happen if the existing SslBump support is added to the
existing HTTPS proxy mode.

* You are talking about Squid (in a bumping HTTPS proxy role) inspecting
TLS traffic that the client meant for to origin servers eyes only. That
will happen, of course. This is what SslBump is about.


&gt;<i> My point is that David wants to provide &quot;secure&quot; proxy which may compromise
</I>&gt;<i> the security instead by bumping connections.
</I>
Right. And my point is that adding SslBump support to HTTPS proxy does
not make things _worse_ as far as &quot;security&quot; and &quot;privacy&quot; are
concerned. Compared to using SslBump in an HTTP proxy, adding SslBump
support to HTTPS proxy may make things better. How much better depends
on your threat model, of course.

No sane person would argue that bumping is a good solution. My point was
that if you have to bump, then using an HTTPS proxy is not going to make
things worse.

It would be better if popular browsers would send plain <A HREF="https://...">https://...</A> URLs
to an HTTPS proxy they trust, but they refuse to support that &quot;GET
https&quot; mode.


Cheers,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022131.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
	<LI>Next message (by thread): <A HREF="022125.html">[squid-users] squid 4.10: ssl-bump on https_port requires tproxy/intercept which is missing in secure proxy method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22137">[ date ]</a>
              <a href="thread.html#22137">[ thread ]</a>
              <a href="subject.html#22137">[ subject ]</a>
              <a href="author.html#22137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
