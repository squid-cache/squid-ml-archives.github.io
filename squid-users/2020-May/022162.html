<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid does not cache file download by FileZilla and apache FTPCLIENT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20does%20not%20cache%20file%20download%20by%20FileZilla%0A%20and%20apache%20FTPCLIENT&In-Reply-To=%3Cc5b23342-adfd-5923-cd40-a90414ea5230%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022159.html">
   <LINK REL="Next"  HREF="022152.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid does not cache file download by FileZilla and apache FTPCLIENT</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20does%20not%20cache%20file%20download%20by%20FileZilla%0A%20and%20apache%20FTPCLIENT&In-Reply-To=%3Cc5b23342-adfd-5923-cd40-a90414ea5230%40treenet.co.nz%3E"
       TITLE="[squid-users] Squid does not cache file download by FileZilla and apache FTPCLIENT">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon May 25 06:44:42 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022159.html">[squid-users] Squid does not cache file download by FileZilla and apache FTPCLIENT
</A></li>
        <LI>Next message (by thread): <A HREF="022152.html">[squid-users] SMP + Ssl-Bump squid-tls_session_cache.shm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22162">[ date ]</a>
              <a href="thread.html#22162">[ thread ]</a>
              <a href="subject.html#22162">[ subject ]</a>
              <a href="author.html#22162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/05/20 6:06 pm, david770514 wrote:
&gt;<i> Hi Amos,
</I>&gt;<i> 
</I>&gt;<i> The &quot;apache.commons.net.ftp.FTPHTTPClient&quot; is sent as CONNECT tunnels
</I>&gt;<i> through the proxy. Can I make it work through modifying the Squid? Let Squid
</I>&gt;<i> can cache file when I sent as CONNECT tunnels through the proxy?
</I>&gt;<i> 
</I>
Since it uses the tunnel mechanism. No you cannot cache it.

What is inside the tunnel is not just a &quot;file&quot; downloaded. It is a whole
set of FTP messages going back and forth negotiating how the client is
logging into the server (anonymous or not), moving working directory
around within the FTP server and files (possibly more than one)
accessed, metadata about the files, and any temporary TCP connection
details of other tunnels being used for additional pieces of the
communication.

There is simply no way all that stuff can be cached and replayed as-is
to any other client without serious breakage happening.

Sorry, but unless you can find a way to get the client(s) to send Squid
<A HREF="ftp://">ftp://</A> URLs requests in HTTP messages there is no caching.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022159.html">[squid-users] Squid does not cache file download by FileZilla and apache FTPCLIENT
</A></li>
	<LI>Next message (by thread): <A HREF="022152.html">[squid-users] SMP + Ssl-Bump squid-tls_session_cache.shm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22162">[ date ]</a>
              <a href="thread.html#22162">[ thread ]</a>
              <a href="subject.html#22162">[ subject ]</a>
              <a href="author.html#22162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
