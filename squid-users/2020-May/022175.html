<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Dumping sslbump'd decrytped http using icap protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dumping%20sslbump%27d%20decrytped%20http%20using%20icap%0A%20protocol&In-Reply-To=%3C20200525113956.GA60696%40thismonkey.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022161.html">
   <LINK REL="Next"  HREF="022177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Dumping sslbump'd decrytped http using icap protocol</H1>
    <B>Scott</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Dumping%20sslbump%27d%20decrytped%20http%20using%20icap%0A%20protocol&In-Reply-To=%3C20200525113956.GA60696%40thismonkey.com%3E"
       TITLE="[squid-users] Dumping sslbump'd decrytped http using icap protocol">3m9n51s2ewut at thismonkey.com
       </A><BR>
    <I>Mon May 25 11:39:56 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022161.html">[squid-users] Dumping sslbump'd decrytped http using icap protocol
</A></li>
        <LI>Next message (by thread): <A HREF="022177.html">[squid-users] Dumping sslbump'd decrytped http using icap protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22175">[ date ]</a>
              <a href="thread.html#22175">[ thread ]</a>
              <a href="subject.html#22175">[ subject ]</a>
              <a href="author.html#22175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 25, 2020 at 06:34:19PM +1200, Amos Jeffries wrote:
&gt;<i> On 25/05/20 12:56 am, Scott wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Can someone recommend an ICAP application that will allow me to dump the HTTP 
</I>&gt;<i> &gt; of a client-server conversation?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I am doing some forensics on an app - I have sslbump configured correctly and 
</I>&gt;<i> &gt; I can get the traffic to c-icap (for example).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'd like to dump this to a text file.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is there a dump option for c-icap?  I couldn't find one.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> FYI; this action is illegal in a lot of places. Even answering your
</I>&gt;<i> question can be quite risky.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> To perform traffic forensics you can use the Squid cache.log directly
</I>&gt;<i> and not involve any insecure third-party software or communication
</I>&gt;<i> dumps. See &lt;<A HREF="https://wiki.squid-cache.org/KnowledgeBase/DebugSections">https://wiki.squid-cache.org/KnowledgeBase/DebugSections</A>&gt;
</I>&gt;<i> for more details.
</I>&gt;<i> 
</I>&gt;<i> &quot;debug_Options 11,2&quot; is probably all you need.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> 
</I>Thanks,

I'm inspecting my own data between my own endpoints as part of a some 
proving-of-concept, so there's no illegality here, but I appreciate the 
caution.

Using the cache.log and debug provided me with too much data.  With ICAP I'm 
able to apply ACLs to limit the traffic sent to the ICAP server.

Am I right in saying that it is possible to do, I just need the right ICAP 
server?  I'm happy to write one myself, I'm just surprised that it's not been 
done before.  I thought perhaps I was missing an option, say in c-icap or 
some other server.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022161.html">[squid-users] Dumping sslbump'd decrytped http using icap protocol
</A></li>
	<LI>Next message (by thread): <A HREF="022177.html">[squid-users] Dumping sslbump'd decrytped http using icap protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22175">[ date ]</a>
              <a href="thread.html#22175">[ thread ]</a>
              <a href="subject.html#22175">[ subject ]</a>
              <a href="author.html#22175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
