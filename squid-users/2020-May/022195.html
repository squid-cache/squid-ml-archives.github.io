<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HTTPS_PORT AND SSL CERT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS_PORT%20AND%20SSL%20CERT&In-Reply-To=%3CPR2P264MB0894094C3B1A4D38482BEC67EB8E0%40PR2P264MB0894.FRAP264.PROD.OUTLOOK.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022194.html">
   <LINK REL="Next"  HREF="022185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HTTPS_PORT AND SSL CERT</H1>
    <B>Julien  TEHERY</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS_PORT%20AND%20SSL%20CERT&In-Reply-To=%3CPR2P264MB0894094C3B1A4D38482BEC67EB8E0%40PR2P264MB0894.FRAP264.PROD.OUTLOOK.COM%3E"
       TITLE="[squid-users] HTTPS_PORT AND SSL CERT">julien.tehery at mediactivegroup.com
       </A><BR>
    <I>Thu May 28 09:00:00 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022194.html">[squid-users] HTTPS_PORT AND SSL CERT
</A></li>
        <LI>Next message (by thread): <A HREF="022185.html">[squid-users] HTTPS_PORT AND SSL CERT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22195">[ date ]</a>
              <a href="thread.html#22195">[ thread ]</a>
              <a href="subject.html#22195">[ subject ]</a>
              <a href="author.html#22195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, that's what i did. As I explained before, i provided to squid a pem file containing:


  *   sever key
  *   server cert
  *   intermediate cert

with in squid.conf:

https_port 8443 tls-cert=path/to/my/wildcard.pem

I did not try to add root cert as i'm aware it's not necessary

I've spent so many hours on something that should work quickly..
________________________________
De : squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; de la part de Matus UHLAR - fantomas &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A>&gt;
Envoy&#233; : jeudi 28 mai 2020 10:12
&#192; : <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
Objet : Re: [squid-users] HTTPS_PORT AND SSL CERT

On 28.05.20 06:32, Julien  TEHERY wrote:
&gt;<i>I retried everything possible in terms of order in the pem file.  from my
</I>&gt;<i>workstation, if i do &quot;openssl s_client -showcerts -connect
</I>&gt;<i>mysquid.mycompany.com:8443&quot; i only get one certificate/issuer, but the same
</I>&gt;<i>command on same server but different port (apache listenning on 443), i
</I>&gt;<i>correctly get 2 certificates/issuers:
</I>&gt;<i>
</I>&gt;<i>I precise my https configuration isn't for ssl_bump purpose but only to provide secure access to the http proxy through the WAN with a valid certificate.
</I>&gt;<i>Do you some of you use complete certificates (including intermediate) with squid? If yes please tell me how you made it work.
</I>&gt;<i>I do have the latest stable squid version built with openssl support.
</I>
you apparnetly need ptovide concatenated list of your squid certificate and
intermediate certificate that signed your squid certificate.

You don't need to provide the root certificate that signed intermediate
certificate, since browsers  to have that certificate installed
(otherwise they wouldn't trust the certificate at all).


--
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
- Have you got anything without Spam in it?
- Well, there's Spam egg sausage and Spam, that's not got much Spam in it.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200528/3cbdebc2/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200528/3cbdebc2/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022194.html">[squid-users] HTTPS_PORT AND SSL CERT
</A></li>
	<LI>Next message (by thread): <A HREF="022185.html">[squid-users] HTTPS_PORT AND SSL CERT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22195">[ date ]</a>
              <a href="thread.html#22195">[ thread ]</a>
              <a href="subject.html#22195">[ subject ]</a>
              <a href="author.html#22195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
