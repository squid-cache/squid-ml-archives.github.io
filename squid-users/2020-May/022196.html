<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] HTTPS and HTTP bypass authentication for certain sites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20and%20HTTP%20bypass%20authentication%20for%20certain%0A%20sites&In-Reply-To=%3C237acaeb-5afd-07de-d7d6-c7e554a99dc6%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022193.html">
   <LINK REL="Next"  HREF="022309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] HTTPS and HTTP bypass authentication for certain sites</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20HTTPS%20and%20HTTP%20bypass%20authentication%20for%20certain%0A%20sites&In-Reply-To=%3C237acaeb-5afd-07de-d7d6-c7e554a99dc6%40measurement-factory.com%3E"
       TITLE="[squid-users] HTTPS and HTTP bypass authentication for certain sites">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu May 28 17:19:58 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022193.html">[squid-users] HTTPS and HTTP bypass authentication for certain sites
</A></li>
        <LI>Next message (by thread): <A HREF="022309.html">[squid-users] Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22196">[ date ]</a>
              <a href="thread.html#22196">[ thread ]</a>
              <a href="subject.html#22196">[ subject ]</a>
              <a href="author.html#22196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/28/20 3:19 AM, Antonino Gianfranco Sanacori wrote:
&gt;<i> I have a 4.6 server Squid, i want to configure it for to permit the free
</I>&gt;<i> access, with http and https,&#160; to some ip address to my users.
</I>
&gt;<i> I have read that i can use ssl_bump splice acl, then i can configure in
</I>&gt;<i> this way?
</I>
You do not need SslBump if you only need to block by the destination IP
address.


&gt;<i> acl list dstdomain &quot;file.acl&quot;
</I>
FYI: You said &quot;to some ip address&quot;, but the dstdomain ACL is using
domain names. Squid can try to reverse-lookup destination IP addresses
(to match them to the provided domain names), but DNS reverse lookups
are often unreliable.

If you can indeed block by the destination IP address, then consider
using the &quot;dst&quot; ACL instead. The &quot;dst&quot; ACL may also require (forward)
DNS lookups, but they are often more reliable.


&gt;<i> https_access allow list
</I>
There is no https_access directive. HTTPS (and FTP) traffic uses the
(arguably misnamed) http_access directive.

Please note that the configuration snippet you posted does not cover the
&quot;my users&quot; part of your requirement summary. It also allows establishing
TCP tunnels to arbitrary ports (on the allowed destination addresses).
Most likely, you want neither.


HTH,

Alex.


&gt;<i> acl list dstdomain &quot;file.acl&quot;
</I>&gt;<i> ssl_bump splice list
</I>&gt;<i> http_access allow list
</I>&gt;<i> https_access allow list 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022193.html">[squid-users] HTTPS and HTTP bypass authentication for certain sites
</A></li>
	<LI>Next message (by thread): <A HREF="022309.html">[squid-users] Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22196">[ date ]</a>
              <a href="thread.html#22196">[ thread ]</a>
              <a href="subject.html#22196">[ subject ]</a>
              <a href="author.html#22196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
