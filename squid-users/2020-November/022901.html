<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Best practice for adding or removing ACLs dynamically ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Best%20practice%20for%20adding%20or%20removing%20ACLs%0A%20dynamically%20%3F&In-Reply-To=%3Cccb17952-7300-282a-84bf-4c57efa9bc65%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022900.html">
   <LINK REL="Next"  HREF="022916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Best practice for adding or removing ACLs dynamically ?</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Best%20practice%20for%20adding%20or%20removing%20ACLs%0A%20dynamically%20%3F&In-Reply-To=%3Cccb17952-7300-282a-84bf-4c57efa9bc65%40treenet.co.nz%3E"
       TITLE="[squid-users] Best practice for adding or removing ACLs dynamically ?">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Nov  1 08:17:58 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022900.html">[squid-users] Best practice for adding or removing ACLs dynamically ?
</A></li>
        <LI>Next message (by thread): <A HREF="022916.html">[squid-users] Best practice for adding or removing ACLs dynamically ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22901">[ date ]</a>
              <a href="thread.html#22901">[ thread ]</a>
              <a href="subject.html#22901">[ subject ]</a>
              <a href="author.html#22901">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/11/20 12:27 pm, roee klinger wrote:
&gt;<i> Thanks Amos!
</I>&gt;<i> 
</I>&gt;<i> I updated &quot;auth_param basic credentialsttl&quot; according to your advice and 
</I>&gt;<i> it is working great.
</I>&gt;<i> 
</I>&gt;<i> I am still having issues with the &quot;tcp_outgoing_address 192.168.8.12 
</I>&gt;<i> acl_for_user3002&quot; part, you mentioned:
</I>&gt;<i>  &gt; For ACLs with values that are expected to change often it is best to use
</I>&gt;<i>  &gt; an external_acl_type helper that manages the updates or fetches from
</I>&gt;<i>  &gt; somewhere the updates are handled without a reload.
</I>&gt;<i> 
</I>&gt;<i> My script updates the authenticator&#160;successfully, but when I update &quot;acl 
</I>&gt;<i> acl_for_user3002 proxy_auth user2&quot; to the new username I have to 
</I>&gt;<i> reconfigure to take effect.
</I>&gt;<i> I read online for hours but to my best understanding external_acl_type 
</I>&gt;<i> are for auth and access control, but they don't work for my needs I believe.
</I>&gt;<i> 
</I>&gt;<i> Is there any way to use&#160;external_acl_type in a way I don't understand to 
</I>&gt;<i> solve this problem? Do I have to reconfigure every time&#160;I make changes 
</I>&gt;<i> to an ACL in squid.conf?
</I>

Some directives have to produce allow/deny result immediately, without 
waiting for a helper to respond. The details are documented here:
  &lt;<A HREF="https://wiki.squid-cache.org/SquidFaq/SquidAcl">https://wiki.squid-cache.org/SquidFaq/SquidAcl</A>&gt;

In modern Squid you can use a helper to set annotations which are 
checked with the &quot;note&quot; ACL type in the fast checks.



It sounds a bit like you are trying to tie IPs to individual users. 
Please be aware that breaks the multiplexing and persistence features of 
HTTP, which is a major performance loss.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022900.html">[squid-users] Best practice for adding or removing ACLs dynamically ?
</A></li>
	<LI>Next message (by thread): <A HREF="022916.html">[squid-users] Best practice for adding or removing ACLs dynamically ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22901">[ date ]</a>
              <a href="thread.html#22901">[ thread ]</a>
              <a href="subject.html#22901">[ subject ]</a>
              <a href="author.html#22901">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
