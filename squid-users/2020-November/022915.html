<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid4/5: Feature request identify access rules.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4/5%3A%20Feature%20request%20identify%20access%20rules.&In-Reply-To=%3C792dbb10-b9dc-a0e7-11bc-e34b84394926%40articatech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022919.html">
   <LINK REL="Next"  HREF="022920.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid4/5: Feature request identify access rules.</H1>
    <B>David Touzeau</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid4/5%3A%20Feature%20request%20identify%20access%20rules.&In-Reply-To=%3C792dbb10-b9dc-a0e7-11bc-e34b84394926%40articatech.com%3E"
       TITLE="[squid-users] Squid4/5: Feature request identify access rules.">david at articatech.com
       </A><BR>
    <I>Sat Nov  7 19:08:56 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022919.html">[squid-users] issues with sslbump and &quot;Host header forgery detected&quot; warnings
</A></li>
        <LI>Next message (by thread): <A HREF="022920.html">[squid-users] Using ICAP adaptation with dynamic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22915">[ date ]</a>
              <a href="thread.html#22915">[ thread ]</a>
              <a href="subject.html#22915">[ subject ]</a>
              <a href="author.html#22915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When having several *_access http_access,reply_access...
In a stressed environment, it is difficult to hunt an issue or a wrong rule.

The debug mode is impossible because the proxy in production mode write too many logs..

But if we can identify the rule and add pointer to the log, it is possible to see a wrong rule or to see that a request is correctly passed trough.

Currently we have to do

acl acl1 src 1.2.3.4
http_access deny acl1



We suggest using the same token used in http_port:

acl acl1 src 1.2.3.4
http_access deny acl1 rulename=Rule.access1

And add a token for template eg %RULENAME and a token for logformat %rname that helps to identify the token.


Added in bugtrack

<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5087">https://bugs.squid-cache.org/show_bug.cgi?id=5087</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201107/fdeeff0e/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201107/fdeeff0e/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022919.html">[squid-users] issues with sslbump and &quot;Host header forgery detected&quot; warnings
</A></li>
	<LI>Next message (by thread): <A HREF="022920.html">[squid-users] Using ICAP adaptation with dynamic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22915">[ date ]</a>
              <a href="thread.html#22915">[ thread ]</a>
              <a href="subject.html#22915">[ subject ]</a>
              <a href="author.html#22915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
