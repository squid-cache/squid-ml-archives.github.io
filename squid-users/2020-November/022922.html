<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Troubleshooting certificate issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Troubleshooting%20certificate%20issues&In-Reply-To=%3C20201111143012.mfgb5uetegpqaa2j%40nekomimi.proxind.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022921.html">
   <LINK REL="Next"  HREF="022925.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Troubleshooting certificate issues</H1>
    <B>Lorenzo Marcantonio</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Troubleshooting%20certificate%20issues&In-Reply-To=%3C20201111143012.mfgb5uetegpqaa2j%40nekomimi.proxind.it%3E"
       TITLE="[squid-users] Troubleshooting certificate issues">l.marcantonio at proxind.it
       </A><BR>
    <I>Wed Nov 11 14:30:12 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022921.html">[squid-users] Troubleshooting certificate issues
</A></li>
        <LI>Next message (by thread): <A HREF="022925.html">[squid-users] Troubleshooting certificate issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22922">[ date ]</a>
              <a href="thread.html#22922">[ thread ]</a>
              <a href="subject.html#22922">[ subject ]</a>
              <a href="author.html#22922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Nov 11, 2020 at 03:13:19PM +0100, Dieter Bloms wrote:
&gt;<i> for me it looks like the server doesn't deliver the intermdeiate
</I>&gt;<i> certificate and your squid proxy doesn't download this certificate
</I>&gt;<i> itself.
</I>
Well, squid couln't download even if wanted if it isn't supplied by the
server. AFAIK there is no field in the certificate to hold an url to
download the signer one. In fact in the past I had to put some
intermediates in the cert store (OK, not great, not recommended, but at
least it works).

That aside, if I save the certificate as a PEM from the browser (*only*
the certificate, not the whole chain) and I do an openssl verify on it
it validates, so in the store there are all the certs needed to verify
it. I even tried doing it as the squid user in case of permission
issues.

For some reason squid doesn't like *some* certificates. And I don't
think that so many sites anyway send incomplete chains.

-- 
Lorenzo Marcantonio
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201111/d7dfd608/attachment.sig">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201111/d7dfd608/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022921.html">[squid-users] Troubleshooting certificate issues
</A></li>
	<LI>Next message (by thread): <A HREF="022925.html">[squid-users] Troubleshooting certificate issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22922">[ date ]</a>
              <a href="thread.html#22922">[ thread ]</a>
              <a href="subject.html#22922">[ subject ]</a>
              <a href="author.html#22922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
