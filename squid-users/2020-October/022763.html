<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] I want to know the concerns of load testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20I%20want%20to%20know%20the%20concerns%20of%20load%20testing&In-Reply-To=%3CCAL-uOnHHK-XxGJ3J-jLpOq%3D7bW0Up8uuDs6yYk0BN6gx3XMmHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022771.html">
   <LINK REL="Next"  HREF="022764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] I want to know the concerns of load testing</H1>
    <B>m k</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20I%20want%20to%20know%20the%20concerns%20of%20load%20testing&In-Reply-To=%3CCAL-uOnHHK-XxGJ3J-jLpOq%3D7bW0Up8uuDs6yYk0BN6gx3XMmHA%40mail.gmail.com%3E"
       TITLE="[squid-users] I want to know the concerns of load testing">tamurin0525 at gmail.com
       </A><BR>
    <I>Fri Oct  2 02:15:22 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022771.html">[squid-users] measuring latency of squid in different scenarios
</A></li>
        <LI>Next message (by thread): <A HREF="022764.html">[squid-users] I want to know the concerns of load testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22763">[ date ]</a>
              <a href="thread.html#22763">[ thread ]</a>
              <a href="subject.html#22763">[ subject ]</a>
              <a href="author.html#22763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm planning a proxy renewal for a company with 45k clients.
I'm looking at the performance of a single Squid to determine the number of
Squids.

Environment: Virtual (OpenStack)
OS: CentOS8.1
CPU: 4 cores
MEM: 8GB
DISK: SATA30GB / 100GB
Squid 4.4
 SSL Bump
 Blacklist: 1,700k
 auth: NTLM
 cache: 4GB

In an environment with authentication disabled and SSL decoding enabled
A load test was performed with Jmeter.

Result: CPU high load (100rps-1000rps: CPU Usage 80-90%)
(Confirm with top command)

Added multi-core support settings to squid.conf
&quot;workers 4&quot;

A load test with Jmeter was performed again.

Result: CPU load is distributed to 4 cores (CPU Usage 20-40%)
(Confirm with top command)

Question
1. 1. How much will CPU Usage increase if NTLM authentication is enabled?
2. 2. Are there any concerns other than CPU Usage in Squid?
3. 3. When I enabled the cache in this test, the CPU Usage decreased, but
in general, does the Squid cache increase the CPU Usage?

Thank you,
Kitamura
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201002/2d62f839/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201002/2d62f839/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022771.html">[squid-users] measuring latency of squid in different scenarios
</A></li>
	<LI>Next message (by thread): <A HREF="022764.html">[squid-users] I want to know the concerns of load testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22763">[ date ]</a>
              <a href="thread.html#22763">[ thread ]</a>
              <a href="subject.html#22763">[ subject ]</a>
              <a href="author.html#22763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
