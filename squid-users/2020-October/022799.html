<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Trouble with an app
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Trouble%20with%20an%20app&In-Reply-To=%3Cb37841d6-ffb7-523a-ca06-0b8b0b2a0200%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022795.html">
   <LINK REL="Next"  HREF="022811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Trouble with an app</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Trouble%20with%20an%20app&In-Reply-To=%3Cb37841d6-ffb7-523a-ca06-0b8b0b2a0200%40treenet.co.nz%3E"
       TITLE="[squid-users] Trouble with an app">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Oct 11 00:40:49 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022795.html">[squid-users] Trouble with an app
</A></li>
        <LI>Next message (by thread): <A HREF="022811.html">[squid-users] R:  Trouble with an app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22799">[ date ]</a>
              <a href="thread.html#22799">[ thread ]</a>
              <a href="subject.html#22799">[ subject ]</a>
              <a href="author.html#22799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/10/20 2:54 am, Roberto Nunnari wrote:
&gt;<i> Hello.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> I work in secondary school and our access to internet is protected in
</I>&gt;<i> two points:
</I>&gt;<i> 
</I>&gt;<i> 1)&#160;&#160;&#160;&#160;&#160; Squid proxy (I manage this)
</I>&gt;<i> 
</I>&gt;<i> 2)&#160;&#160;&#160;&#160;&#160; Internet service provider (they change *.google.com ssl
</I>&gt;<i> certificate with zscaler)
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> We install these zscaler certificates on all our clients, but I believe
</I>&gt;<i> this java app doesn&#8217;t care to use it.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> Now, can somebody explain these logs to me, please?
</I>&gt;<i> 
</I>
Sure:

&gt;<i> 
</I>&gt;<i> Fri Oct&#160; 9 15:44:41 2020.521&#160;&#160;&#160;&#160;&#160; 1 10.20.8.212 TCP_DENIED/407 4076
</I>&gt;<i> CONNECT google.ch:443 - HIER_NONE/- text/html
</I>&gt;<i> 
</I>
Client sent a CONNECT request to the proxy. It did not have credentials,
so Squid responded with a 407 message informing it that credentials are
required.


&gt;<i> Fri Oct&#160; 9 15:44:41 2020.660&#160;&#160;&#160; 122 10.20.8.212 TCP_TUNNEL/200 3552
</I>&gt;<i> CONNECT google.ch:443 CPT\\docente.test HIER_DIRECT/216.58.215.227 -
</I>&gt;<i> 
</I>
Client sent CONNECT requests with credentials.
Squid opened a tunnel to the relevant server as requested by client.
Client spent 122ms using the tunnel for something.


&gt;<i> Fri Oct&#160; 9 15:44:52 2020.461&#160;&#160;&#160;&#160;&#160; 0 10.20.8.212 NONE/000 0 NONE
</I>&gt;<i> error:transaction-end-before-headers - HIER_NONE/- -
</I>&gt;<i> 
</I>
Client opened TCP connection to the proxy. Then closed it.

This is fairly common side effect of &quot;Happy Eyeballs&quot; behaviour where
clients open multiple connections and only use the first to succeed.

Or possibly the client had some other reason for closing. The log record
is just informative so you know it is happening and useful to explain
many sockets having TCP TIME_WAIT status if that becomes a problem.


HTH
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022795.html">[squid-users] Trouble with an app
</A></li>
	<LI>Next message (by thread): <A HREF="022811.html">[squid-users] R:  Trouble with an app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22799">[ date ]</a>
              <a href="thread.html#22799">[ thread ]</a>
              <a href="subject.html#22799">[ subject ]</a>
              <a href="author.html#22799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
