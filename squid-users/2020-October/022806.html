<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] sslproxy_options on squid 3.5.20
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslproxy_options%20on%20squid%203.5.20&In-Reply-To=%3C%21%26%21AAAAAAAAAAAuAAAAAAAAAGg7dk9mYqJGhbBt3m/ghGwBAMO2jhD3dRHOtM0AqgC7tuYAAAAAAA4AABAAAAA/p8Xvc7o3Q4y5uDVwC3i8AQAAAAA%3D%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022779.html">
   <LINK REL="Next"  HREF="022778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] sslproxy_options on squid 3.5.20</H1>
    <B>Eliezer Croitor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20sslproxy_options%20on%20squid%203.5.20&In-Reply-To=%3C%21%26%21AAAAAAAAAAAuAAAAAAAAAGg7dk9mYqJGhbBt3m/ghGwBAMO2jhD3dRHOtM0AqgC7tuYAAAAAAA4AABAAAAA/p8Xvc7o3Q4y5uDVwC3i8AQAAAAA%3D%40gmail.com%3E"
       TITLE="[squid-users] sslproxy_options on squid 3.5.20">ngtech1ltd at gmail.com
       </A><BR>
    <I>Mon Oct 12 11:31:19 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022779.html">[squid-users] sslproxy_options on squid 3.5.20
</A></li>
        <LI>Next message (by thread): <A HREF="022778.html">[squid-users] SSL on different ports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22806">[ date ]</a>
              <a href="thread.html#22806">[ thread ]</a>
              <a href="subject.html#22806">[ subject ]</a>
              <a href="author.html#22806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Nisa,

 

Just wondering, if it&#8217;s only a whitelist filtering proxy for TLS/SSL/443
Wouldn&#8217;t it be better to use a basic SNI proxy with a whitelist?

 

Eliezer

 

----

Eliezer Croitoru

Tech Support

Mobile: +972-5-28704261

Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; 

 

From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Nisa Balakrishnan
Sent: Wednesday, October 7, 2020 4:23 AM
To: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] sslproxy_options on squid 3.5.20

 

Thanks Amos.

 

I have verified that squid build is done with openssl that supports 1.2 but not 1.3.

I am worried that squid does not pass the flag set via options.

I am able to lock squid to tls 1.2 only with sslproxy_version 

 

To be a bit more clear, the squid implementation is a whitelist filtering proxy. It does not bump ssl requests. It does peek and splice on intercept.

 

On Tue, 6 Oct 2020 at 20:34, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; &gt; wrote:

On 6/10/20 1:35 pm, Nisa Balakrishnan wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I am trying to allow access for only tls versions 1.2 and above on Squid
</I>&gt;<i> 3.5.20
</I>&gt;<i> 
</I>
Note that &quot;above 1.2&quot; are not supported by that ancient version of
Squid. Your test disables everything except SSLv1 code in the library.


&gt;<i> For testing purposes, I have set options in squid config as follows.
</I>&gt;<i> 
</I>&gt;<i> ```
</I>&gt;<i> https_port 3130 cert=/etc/squid/ssl/squid.pem ssl-bump intercept
</I>&gt;<i> options=NO_SSLv2,NO_SSLv3,NO_TLSv1,NO_TLSv1_2
</I>&gt;<i> 
</I>&gt;<i> sslproxy_options NO_SSLv2,NO_SSLv3,NO_TLSv1,NO_TLSv1_2
</I>&gt;<i> ```
</I>&gt;<i> 
</I>
Support for all those options depends on the version, build options, and
global config settings of the OpenSSL library being used. They are just
flags Squid passes to the library on connection setup.


FWIW 3.1.20 is over 4 years old and a huge amount of change has happened
to TLS since then. Please try to upgrade to current Squid-4 stable, or
for best SSL-Bump behaviour the current Squid-5 beta.

Amos
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt; 
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>




 

-- 

 


  &lt;<A HREF="https://email-signature.servian.com/servian_email_142x23.png">https://email-signature.servian.com/servian_email_142x23.png</A>&gt; 

  &lt;<A HREF="https://email-signature.servian.com/vibrato.png">https://email-signature.servian.com/vibrato.png</A>&gt; 

Nisa Balakrishnan      AutomationEngineer | m:  &lt;tel:0473942819&gt; 0473942819 | p:  &lt;tel:+61390813700&gt; 03 9081 3700
Level 20, Tower 5, Collins Square, 727 Collins Street, Docklands VIC 3008

Vibrato has merged with Servian! Check out the news article  &lt;<A HREF="https://www.arnnet.com.au/article/664971/servian-nabs-vibrato-multi-million-dollar-deal/">https://www.arnnet.com.au/article/664971/servian-nabs-vibrato-multi-million-dollar-deal/</A>&gt; here

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201012/1e0754c4/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201012/1e0754c4/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022779.html">[squid-users] sslproxy_options on squid 3.5.20
</A></li>
	<LI>Next message (by thread): <A HREF="022778.html">[squid-users] SSL on different ports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22806">[ date ]</a>
              <a href="thread.html#22806">[ thread ]</a>
              <a href="subject.html#22806">[ subject ]</a>
              <a href="author.html#22806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
