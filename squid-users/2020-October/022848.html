<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] websockets through Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20websockets%20through%20Squid&In-Reply-To=%3C1304872121.821246.1603058873508%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022845.html">
   <LINK REL="Next"  HREF="022849.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] websockets through Squid</H1>
    <B>Vieri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20websockets%20through%20Squid&In-Reply-To=%3C1304872121.821246.1603058873508%40mail.yahoo.com%3E"
       TITLE="[squid-users] websockets through Squid">rentorbuy at yahoo.com
       </A><BR>
    <I>Sun Oct 18 22:07:53 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022845.html">[squid-users] websockets through Squid
</A></li>
        <LI>Next message (by thread): <A HREF="022849.html">[squid-users] websockets through Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22848">[ date ]</a>
              <a href="thread.html#22848">[ thread ]</a>
              <a href="subject.html#22848">[ subject ]</a>
              <a href="author.html#22848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Saturday, October 17, 2020, 10:36:47 PM GMT+2, Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; wrote: 

&gt;<i> or due to some TLS error.
</I>&gt;<i> I filed bug #5084 
</I>
 Hi again,

Thanks for opening a bug report.

I don't want to add anything there myself because I wouldn't want to confuse whoever might take this issue into account, but I'd like to comment on this list that I've captured the traffic between Squid and the destination server.
It's here:

<A HREF="https://drive.google.com/file/d/1WS7Y62Fng5ggXryzKGW1JOsJ16cyR0mg/view?usp=sharing">https://drive.google.com/file/d/1WS7Y62Fng5ggXryzKGW1JOsJ16cyR0mg/view?usp=sharing</A>

I can see a client hello, Server Hello Done, Cipher Spec, etc, but then it starts over and over again.
So, could it be a TLS issue as you hinted?

I also captured the client console regarding the wss messages (Firefox).
It won't reveal much, but here it is anyway:

<A HREF="https://drive.google.com/file/d/1u4uXW0TCTwClE2kt2nbJSGt5VLdKC03t/view?usp=sharing">https://drive.google.com/file/d/1u4uXW0TCTwClE2kt2nbJSGt5VLdKC03t/view?usp=sharing</A>
NB: the destination server is not the same one as in the packet trace, but that's what the client gets each time (it keeps showing '101 Switching Protocols' over and over).

Please let me know if I should add something to the bug report, or if you see anything of interest in the data I've sent.

Thanks,

Vieri


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022845.html">[squid-users] websockets through Squid
</A></li>
	<LI>Next message (by thread): <A HREF="022849.html">[squid-users] websockets through Squid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22848">[ date ]</a>
              <a href="thread.html#22848">[ thread ]</a>
              <a href="subject.html#22848">[ subject ]</a>
              <a href="author.html#22848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
