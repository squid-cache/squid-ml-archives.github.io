<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid kerberos auth, acl note group
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20kerberos%20auth%2C%20acl%20note%20group&In-Reply-To=%3C5cc6310267efa40625b59b61ccc6781f257c8804.camel%40genua.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022847.html">
   <LINK REL="Next"  HREF="022851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid kerberos auth, acl note group</H1>
    <B>Klaus Brandl</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%20kerberos%20auth%2C%20acl%20note%20group&In-Reply-To=%3C5cc6310267efa40625b59b61ccc6781f257c8804.camel%40genua.de%3E"
       TITLE="[squid-users] squid kerberos auth, acl note group">klaus_brandl at genua.de
       </A><BR>
    <I>Mon Oct 19 12:33:38 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022847.html">[squid-users] Request timing headers
</A></li>
        <LI>Next message (by thread): <A HREF="022851.html">[squid-users] sslbump https intercepted or tproxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22850">[ date ]</a>
              <a href="thread.html#22850">[ thread ]</a>
              <a href="subject.html#22850">[ subject ]</a>
              <a href="author.html#22850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; But i think, we have a caching problem here, i found out, that the
</I>&gt;<i> &gt; group 
</I>&gt;<i> &gt; informations are only updated on a squid reconfigure.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; And also the acl note group ... seems to be cached as long as squid
</I>&gt;<i> &gt; is 
</I>&gt;<i> &gt; restarted completely. I removed the configured group from the user,
</I>&gt;<i> &gt; but i could 
</I>&gt;<i> &gt; see this group still maching in the cache.log, also after a
</I>&gt;<i> &gt; reconfigure, when 
</I>&gt;<i> &gt; the auth_helper does not tell about this group any more.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> The groups are attached to credentials which are attached to the TCP
</I>&gt;<i> connection (TTL only as long as the connection is open) and a token
</I>&gt;<i> replay cache for up to authenticate_ttl directive time (default 1
</I>&gt;<i> hour).
</I>&gt;<i> 
</I>&gt;<i> Setting that TTL to something very short, eg:
</I>&gt;<i> 
</I>&gt;<i>   authenticate_ttl 10 seconds
</I>&gt;<i> 
</I>&gt;<i> ... and disabling connection keep-alive:
</I>&gt;<i> 
</I>&gt;<i>   client_persistent_connections off
</I>&gt;<i> 
</I>&gt;<i> ... should work around the cache for testing. At least on HTTP
</I>&gt;<i> traffic.
</I>&gt;<i> HTTPS traffic goes through the proxy as a single tunnel request - so
</I>&gt;<i> the
</I>&gt;<i> entire HTTPS session is just one request/response pair to Squid.
</I>&gt;<i> 
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>
sorry again, but i still have this caching problem with the groups in
the note ACL. I have tested the options you suggested, but it takes no
effekt, the group is still matching until squid is completely
restarted. It looks like the note ACL is always appended only.
Or is there a way, to flush this content?

Regards

Klaus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022847.html">[squid-users] Request timing headers
</A></li>
	<LI>Next message (by thread): <A HREF="022851.html">[squid-users] sslbump https intercepted or tproxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22850">[ date ]</a>
              <a href="thread.html#22850">[ thread ]</a>
              <a href="subject.html#22850">[ subject ]</a>
              <a href="author.html#22850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
