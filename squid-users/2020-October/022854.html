<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid doesn't call helper
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20call%20helper&In-Reply-To=%3Ccd926b3de9c5454faff2d90ee925a5fe%40ads.uni-passau.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022858.html">
   <LINK REL="Next"  HREF="022856.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid doesn't call helper</H1>
    <B>Kornexl, Anton</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20doesn%27t%20call%20helper&In-Reply-To=%3Ccd926b3de9c5454faff2d90ee925a5fe%40ads.uni-passau.de%3E"
       TITLE="[squid-users] Squid doesn't call helper">Anton.Kornexl at uni-passau.de
       </A><BR>
    <I>Tue Oct 20 05:18:43 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022858.html">[squid-users] sslbump https intercepted or tproxy
</A></li>
        <LI>Next message (by thread): <A HREF="022856.html">[squid-users] Squid doesn't call helper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22854">[ date ]</a>
              <a href="thread.html#22854">[ thread ]</a>
              <a href="subject.html#22854">[ subject ]</a>
              <a href="author.html#22854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Squid 4.10 on Ubuntu 20.04

The configured program is started but not called (or the result not used)
The authentication window does not show up in the browser
All request are denied because acl proxyuser doesn't match
The same config runs on squid 3.5.27 on Ubuntu 18.04 and squid 4.13 on opensuse 4.13

How can i debug this problem
Other helpers are also not called/used

The squid user can execute the configured program
/usr/local/bin/mysql_auth and returns an OK

sudo -u squid /usr/local/bin/mysql_auth
test testing
OK

-------------------
auth_param basic program /usr/local/bin/mysql_auth
auth_param basic children 10 startup=5 idle=1
auth_param basic utf8 on
auth_param basic realm &quot;Squid proxy-caching web server&quot;
auth_param basic credentialsttl 2 hours

acl jufi1 src 1.2.3.4/32
acl jufi1-6 src  2a01:.....::2
acl jufi2 src 1.2.3.5/32
acl jufi2-6 src 2a01:.....::2

acl proxyusers proxy_auth REQUIRED

http_access allow jufi1
http_access allow jufi1-6
http_access allow jufi2
http_access allow jufi2-6

http_access allow proxyusers

-----------------------

Yours
Anton Kornexl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20201020/83ad65f9/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20201020/83ad65f9/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022858.html">[squid-users] sslbump https intercepted or tproxy
</A></li>
	<LI>Next message (by thread): <A HREF="022856.html">[squid-users] Squid doesn't call helper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22854">[ date ]</a>
              <a href="thread.html#22854">[ thread ]</a>
              <a href="subject.html#22854">[ subject ]</a>
              <a href="author.html#22854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
