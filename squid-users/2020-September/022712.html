<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Client &lt;--&gt; Squid &lt;--&gt; FTP usecase
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20%3C--%3E%20Squid%20%3C--%3E%20FTP%20usecase&In-Reply-To=%3C1553_1600332663_5F632377_1553_399_1_FB9F07820FAE75499D7A4E37F6CD76640603AFF0%40OPEXCAUBMA1.corporate.adroot.infra.ftgroup%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022716.html">
   <LINK REL="Next"  HREF="022715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Client &lt;--&gt; Squid &lt;--&gt; FTP usecase</H1>
    <B>piyush.gaba at orange.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Client%20%3C--%3E%20Squid%20%3C--%3E%20FTP%20usecase&In-Reply-To=%3C1553_1600332663_5F632377_1553_399_1_FB9F07820FAE75499D7A4E37F6CD76640603AFF0%40OPEXCAUBMA1.corporate.adroot.infra.ftgroup%3E"
       TITLE="[squid-users] Client &lt;--&gt; Squid &lt;--&gt; FTP usecase">piyush.gaba at orange.com
       </A><BR>
    <I>Thu Sep 17 08:51:02 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="022716.html">[squid-users] Help Request: How to deal with Basic Authentication
</A></li>
        <LI>Next message (by thread): <A HREF="022715.html">[squid-users] Client &lt;--&gt; Squid &lt;--&gt; FTP usecase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22712">[ date ]</a>
              <a href="thread.html#22712">[ thread ]</a>
              <a href="subject.html#22712">[ subject ]</a>
              <a href="author.html#22712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I have been working to check squid v4.13 functionality with a FTP.
My use case is simple and it says we have a file on FTP at root and I just have to wget that file from my client.

So I have,

--&gt;Created a file on root of FTP &quot;touch test.txt&quot;
--&gt;Allowed the destination IP of FTP in my squid.conf

Then I have exported proxy on my client as
export ftp_proxy=<A HREF="http://${squid.IP">http://${squid.IP</A>}:${Squid.Port}/
and
Now when I try to download the file like this,
wget -m <A HREF="ftp://&lt;id">ftp://&lt;id</A>&gt;:&lt;pass&gt;@${FTP.Prod_IP}/test.txt

I am facing below error on client:

Proxy request sent, awaiting response... 502 Bad Gateway

which indicates that the squid (server acting as a proxy) was not able to get a valid or any response from the FTP server.
So, I tried wget directly from my squid to FTP, it ended in error,

&quot;Logging in as root ... Error in server greeting. Retrying.&quot; (which is my concern)

It'd be great, If there is any advice I could get from you guys as about where I am wrong or what am I missing.

Thank You

Bien cordialement,
Piyush Gaba
Tower B, 8th Floor, DLF Infinity Towers,
DLF Cyber City Phase - II
Gurgaon - 122002, Haryana, INDIA
[Email] <A HREF="https://lists.squid-cache.org/listinfo/squid-users">piyush.gaba at orange.com</A>&lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">piyush.gaba at orange.com</A>&gt;

_________________________________________________________________________________________________________________________

Ce message et ses pieces jointes peuvent contenir des informations confidentielles ou privilegiees et ne doivent donc
pas etre diffuses, exploites ou copies sans autorisation. Si vous avez recu ce message par erreur, veuillez le signaler
a l'expediteur et le detruire ainsi que les pieces jointes. Les messages electroniques etant susceptibles d'alteration,
Orange decline toute responsabilite si ce message a ete altere, deforme ou falsifie. Merci.

This message and its attachments may contain confidential or privileged information that may be protected by law;
they should not be distributed, used or copied without authorisation.
If you have received this email in error, please notify the sender and delete this message and its attachments.
As emails may be altered, Orange is not liable for messages that have been modified, changed or falsified.
Thank you.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20200917/35205303/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20200917/35205303/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="022716.html">[squid-users] Help Request: How to deal with Basic Authentication
</A></li>
	<LI>Next message (by thread): <A HREF="022715.html">[squid-users] Client &lt;--&gt; Squid &lt;--&gt; FTP usecase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22712">[ date ]</a>
              <a href="thread.html#22712">[ thread ]</a>
              <a href="subject.html#22712">[ subject ]</a>
              <a href="author.html#22712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
