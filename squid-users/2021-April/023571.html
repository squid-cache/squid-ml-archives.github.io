<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Whitelist Src IP and Tie it to specific ip outgoing ip
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Whitelist%20Src%20IP%20and%20Tie%20it%20to%20specific%20ip%0A%20outgoing%20ip&In-Reply-To=%3C1960f404-4402-fa13-0eb2-5002f8ebd24f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023570.html">
   <LINK REL="Next"  HREF="023572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Whitelist Src IP and Tie it to specific ip outgoing ip</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Whitelist%20Src%20IP%20and%20Tie%20it%20to%20specific%20ip%0A%20outgoing%20ip&In-Reply-To=%3C1960f404-4402-fa13-0eb2-5002f8ebd24f%40measurement-factory.com%3E"
       TITLE="[squid-users] Whitelist Src IP and Tie it to specific ip outgoing ip">rousskov at measurement-factory.com
       </A><BR>
    <I>Sat Apr 24 02:58:21 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023570.html">[squid-users] Whitelist Src IP and Tie it to specific ip outgoing ip
</A></li>
        <LI>Next message (by thread): <A HREF="023572.html">[squid-users] IP Whitelist still getting user:pass prompt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23571">[ date ]</a>
              <a href="thread.html#23571">[ thread ]</a>
              <a href="subject.html#23571">[ subject ]</a>
              <a href="author.html#23571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/23/21 9:28 PM, Andy Frad wrote:

&gt;<i> I would like to know if there is a way to whitelist a users src address
</I>&gt;<i> and tie it to a specific outgoing ip?
</I>
The two parts of the question are completely unrelated AFAICT. Since you
already know how to allow traffic, I will focus on the second part.


&gt;<i> I'd like to ... make it so a persons src ip can
</I>&gt;<i> only get access to a specific ip bound to the server.
</I>

To tell Squid to use local source IP address X for Squid-server
transactions matching a specialTransaction ACL, consider using

  tcp_outgoing_address X specialTransaction

Your call how to define the specialTransaction ACL (e.g. it could be a
src ACL). IIRC, tcp_outgoing_address supports fast ACLs only.

Please note that if the transaction is going to an IPv6 address but your
X address is an IPv4 address, then Squid will _ignore_ the
&quot;tcp_outgoing_address X&quot; rule(s) for that transaction. Whether that is a
good thing depends on your (unstated) requirements. If needed, you can,
of course, have two rules for each specialTransaction, one for IPv6 and
one for IPv4 addresses.

You cannot block outgoing traffic using tcp_outgoing_address.

Please see tcp_outgoing_address documentation for caveats. Some of them
sound odd to me so I recommend testing before jumping to conclusions.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023570.html">[squid-users] Whitelist Src IP and Tie it to specific ip outgoing ip
</A></li>
	<LI>Next message (by thread): <A HREF="023572.html">[squid-users] IP Whitelist still getting user:pass prompt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23571">[ date ]</a>
              <a href="thread.html#23571">[ thread ]</a>
              <a href="subject.html#23571">[ subject ]</a>
              <a href="author.html#23571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
