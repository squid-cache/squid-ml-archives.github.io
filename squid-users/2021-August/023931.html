<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL handshake
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20handshake&In-Reply-To=%3CDM6PR01MB4969FC8B7554F914D507AC40F7F59%40DM6PR01MB4969.prod.exchangelabs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023928.html">
   <LINK REL="Next"  HREF="023933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL handshake</H1>
    <B>senor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20handshake&In-Reply-To=%3CDM6PR01MB4969FC8B7554F914D507AC40F7F59%40DM6PR01MB4969.prod.exchangelabs.com%3E"
       TITLE="[squid-users] SSL handshake">frio_cervesa at hotmail.com
       </A><BR>
    <I>Sun Aug  8 05:48:45 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023928.html">[squid-users] SSL handshake
</A></li>
        <LI>Next message (by thread): <A HREF="023933.html">[squid-users] SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23931">[ date ]</a>
              <a href="thread.html#23931">[ thread ]</a>
              <a href="subject.html#23931">[ subject ]</a>
              <a href="author.html#23931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wireshark flags the next protocol extension as malformed coming from (popular origin server).

Alex - Can you point to a patch under test or other changes that we can use to alleviate this pain?

The extension is included in the Server Hello due to it being included in the Client Hello. I was hoping there was a way to use tls_outgoing_options but I don't see any relevant options. I think I can comment it out in Handshake.cc but is there a run-time option?

Thanks

________________________________________
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; on behalf of Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
Sent: Tuesday, August 3, 2021 1:04 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] SSL handshake

FWIW, Factory can reproduce this (popular origin server) problem with
and without Squid. We are adding a Squid enhancement that will work
around the problem (and improve TLS support in general).

Alex.

&gt;<i> curl: (35) error:1423506E:SSL routines:ssl_next_proto_validate:bad extension
</I>
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023928.html">[squid-users] SSL handshake
</A></li>
	<LI>Next message (by thread): <A HREF="023933.html">[squid-users] SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23931">[ date ]</a>
              <a href="thread.html#23931">[ thread ]</a>
              <a href="subject.html#23931">[ subject ]</a>
              <a href="author.html#23931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
