<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Getting a squid clients list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Getting%20a%20squid%20clients%20list&In-Reply-To=%3C412730933.885899.1630318687240%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023991.html">
   <LINK REL="Next"  HREF="023994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Getting a squid clients list</H1>
    <B>U Zee</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Getting%20a%20squid%20clients%20list&In-Reply-To=%3C412730933.885899.1630318687240%40mail.yahoo.com%3E"
       TITLE="[squid-users] Getting a squid clients list">uzee001 at yahoo.com
       </A><BR>
    <I>Mon Aug 30 10:18:07 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023991.html">[squid-users] Getting a squid clients list
</A></li>
        <LI>Next message (by thread): <A HREF="023994.html">[squid-users] Getting a squid clients list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23992">[ date ]</a>
              <a href="thread.html#23992">[ thread ]</a>
              <a href="subject.html#23992">[ subject ]</a>
              <a href="author.html#23992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Thanks Amos. I don't think the clientdb features you mentioned are enabled, I'm getting a command not found.Also I don't see anything configured for logging in squid.conf (I don't know if there is any other place for it)
bash-3.00# ps -ef|grep squidroot&#160; &#160; &#160; 2467&#160; &#160; &#160;1&#160; 0&#160; 2020 ?&#160; &#160; &#160; &#160; 00:00:00 /usr/squid/sbin/squidnobody&#160; &#160; 2471&#160; 2467&#160; 0&#160; 2020 ?&#160; &#160; &#160; &#160; 07:49:45 (squid)root&#160; &#160; &#160;28018 20110&#160; 0 13:12 pts/0&#160; &#160; 00:00:00 grep squid
bash-3.00# /usr/squid/sbin/squid -vSquid Cache: Version 2.6.STABLE13configure options: '--prefix=/usr/squid' 'CC=gcc' 'CFLAGS=-O3 -g'
bash-3.00# squidclient mgr:client_list | grep &quot;Address&quot;bash: squidclient: command not foundbash-3.00#
bash-3.00# grep -i log squid.confbash-3.00#

The machine has been up since last July and I'm a bit concerned to bounce squid to see if it will start writing to access.log or not as its used by several prod systems.
Thanks muchuzee
    On Monday, August 30, 2021, 12:48:59 PM GMT+3, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:  
 
 On 30/08/21 6:35 pm, U Zee wrote:
&gt;<i> I've inherited an old machine running squid 2.6 and planning to refresh 
</I>&gt;<i> it. There are many clients in our environment and I'd like to put 
</I>&gt;<i> together a list of those so that they can be updated if the IP/hostname 
</I>&gt;<i> changes.
</I>&gt;<i> Looking at the docs, I see cache.log and store.log but access.log is 
</I>&gt;<i> empty?
</I>
That is a bit worrying. Find out why access.log is empty.


&gt;<i> Is there a better way to generate a list of all clients that use it?
</I>

If your proxy has clientdb features enabled you can use the cache 
manager &quot;client_list&quot; to fetch a list of all the clients that have been 
using the proxy.

Try command:
&#160; squidclient mgr:client_list | grep &quot;Address&quot;



Amos
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210830/ccadd17f/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210830/ccadd17f/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023991.html">[squid-users] Getting a squid clients list
</A></li>
	<LI>Next message (by thread): <A HREF="023994.html">[squid-users] Getting a squid clients list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23992">[ date ]</a>
              <a href="thread.html#23992">[ thread ]</a>
              <a href="subject.html#23992">[ subject ]</a>
              <a href="author.html#23992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
