<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Many new ERROR lines in cache.log after upgrade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Many%20new%20ERROR%20lines%20in%20cache.log%20after%20upgrade&In-Reply-To=%3C42bf0993a4c34328be7ad6d0369d23ac%40zkb.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024333.html">
   <LINK REL="Next"  HREF="024335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Many new ERROR lines in cache.log after upgrade</H1>
    <B>Truniger Othmar</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Many%20new%20ERROR%20lines%20in%20cache.log%20after%20upgrade&In-Reply-To=%3C42bf0993a4c34328be7ad6d0369d23ac%40zkb.ch%3E"
       TITLE="[squid-users] Many new ERROR lines in cache.log after upgrade">Othmar.Truniger at zkb.ch
       </A><BR>
    <I>Tue Dec 21 11:42:34 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024333.html">[squid-users] IPcache and mixed case domain names
</A></li>
        <LI>Next message (by thread): <A HREF="024335.html">[squid-users] Many new ERROR lines in cache.log after upgrade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24334">[ date ]</a>
              <a href="thread.html#24334">[ thread ]</a>
              <a href="subject.html#24334">[ subject ]</a>
              <a href="author.html#24334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
we have been successfully running Squid for authentication and authorization for almost two decades. We don't cache and no SSL-bumping, just many access rules.

Last weekend I migrated from self-compiled 3.5.x on RHEL7 to RHEL8 with official RPM squid-4.11-4 using the same configuration file. We want to get advantage from official RPMs.

Now we get many log entries in cache.log like this (a few hundred pairs a day):
2021/12/21 11:52:24 kid3| ERROR: helper: {result=BH, notes={message: Success; }}, attempt #1 of 2
2021/12/21 11:52:24 kid3| ERROR: helper: {result=BH, notes={message: Success; message: Success; }}, attempt #2 of 2

Because nothing in the environment changed I must assume that it's only a matter of more intensive logging. But I'm not sure if I have to worry about.

I understand it's related to basic helpers. Since ever we use the original basic_ldap_auth and ext_ldap_group_acl and never experienced any problems with them. Also cachemgr now reports 100% successful requests/replies for the helpers and I see not any indication for any problem.
It just looks a little awkward to see ERROR in these lines but Success for everything at the same time.
I have set &quot;debug_options ALL,1 rotate=2&quot;
The helpers don't use persistent connections.

Maybe this point could be significant: I used &quot;--disable-ipv6&quot; when self-compiling while the RHEL8 RPM probably has full IPv6 support included. Our servers have all IPv6 support disabled though.

I could not find much about this topic. It was once said that one should check for strange behaviour of the basic helpers if these messages occur.

Should I worry about it?
Is it just an artefact for logging in this redhat RPM version?
Could it be related with the way squid helpers deals with IPv6 on systems without IPv6?
How could I specifically debug the helpers without flooding the cache.log (what section)?
Any advice?

many thanks and regards, Othmar

________________________________

Disclaimer:


Diese E-Mail enth&#228;lt m&#246;glicherweise vertrauliche Informationen und ist einzig f&#252;r den beabsichtigten Empf&#228;nger bestimmt. Sollten Sie diese E-Mail irrt&#252;mlicherweise erhalten haben, bitten wir Sie, die Z&#252;rcher Kantonalbank unverz&#252;glich zu benachrichtigen und diese E-Mail sowie deren Anh&#228;nge sofort zu l&#246;schen. Unbefugte Verwendung kann geahndet werden.

Vielen Dank.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024333.html">[squid-users] IPcache and mixed case domain names
</A></li>
	<LI>Next message (by thread): <A HREF="024335.html">[squid-users] Many new ERROR lines in cache.log after upgrade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24334">[ date ]</a>
              <a href="thread.html#24334">[ thread ]</a>
              <a href="subject.html#24334">[ subject ]</a>
              <a href="author.html#24334">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
