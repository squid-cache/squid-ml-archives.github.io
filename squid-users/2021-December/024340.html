<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Significant memory leak with version 5.x (not with 4.17)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Significant%20memory%20leak%20with%20version%205.x%20%28not%0A%20with%204.17%29&In-Reply-To=%3Cf68674bd-1203-062d-9786-7513554fafb4%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024339.html">
   <LINK REL="Next"  HREF="024349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Significant memory leak with version 5.x (not with 4.17)</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Significant%20memory%20leak%20with%20version%205.x%20%28not%0A%20with%204.17%29&In-Reply-To=%3Cf68674bd-1203-062d-9786-7513554fafb4%40measurement-factory.com%3E"
       TITLE="[squid-users] Significant memory leak with version 5.x (not with 4.17)">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Dec 22 14:45:11 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024339.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
        <LI>Next message (by thread): <A HREF="024349.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24340">[ date ]</a>
              <a href="thread.html#24340">[ thread ]</a>
              <a href="subject.html#24340">[ subject ]</a>
              <a href="author.html#24340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/21/21 7:48 PM, Praveen Ponakanti wrote:

&gt;<i> We are running the squid proxy for servicing outbound HTTP quests from
</I>&gt;<i> our network and have observed a significant memory leak with 5.x
</I>&gt;<i> versions. While there are several discussions about memory leaks with
</I>&gt;<i> recent versions, just wanted to list out what we have observed in case
</I>&gt;<i> this is an unknown leak.
</I>
I recommend sharing a log with 48+ hourly mgr:mem snapshots. These
snapshots help compare your leak with others we know about and may help
isolate some of the memory leaks:
<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5132#c8">https://bugs.squid-cache.org/show_bug.cgi?id=5132#c8</A>


&gt;<i> I have attempted to build squid with -with-valgrind-debug, and run it in
</I>&gt;<i> a test env. However valgrind appears to collect some data from the parse
</I>&gt;<i> config functions and then the squid proxy restarts. 
</I>
FWIW, valgrind works as expected in my environment. If your Squid proxy
is killed by an assertion or crashes, even in a test environment, please
consider reporting that bug (after checking that it has not been
reported already, of course). If your test proxy is misconfigured, then
please fix the configuration before proceeding with tests.


Thank you,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024339.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
	<LI>Next message (by thread): <A HREF="024349.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24340">[ date ]</a>
              <a href="thread.html#24340">[ thread ]</a>
              <a href="subject.html#24340">[ subject ]</a>
              <a href="author.html#24340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
