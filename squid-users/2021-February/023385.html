<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Exclude transaction from being logged
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Exclude%20transaction%20from%20being%20logged&In-Reply-To=%3C05ca2db3-d2a3-ece6-88dc-8e5946decbba%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023384.html">
   <LINK REL="Next"  HREF="023386.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Exclude transaction from being logged</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Exclude%20transaction%20from%20being%20logged&In-Reply-To=%3C05ca2db3-d2a3-ece6-88dc-8e5946decbba%40measurement-factory.com%3E"
       TITLE="[squid-users] Exclude transaction from being logged">rousskov at measurement-factory.com
       </A><BR>
    <I>Fri Feb 26 20:14:26 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023384.html">[squid-users] Exclude transaction from being logged
</A></li>
        <LI>Next message (by thread): <A HREF="023386.html">[squid-users] Squid 4.14 : no_suid: setuid(0): (1) Operation not permitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23385">[ date ]</a>
              <a href="thread.html#23385">[ thread ]</a>
              <a href="subject.html#23385">[ subject ]</a>
              <a href="author.html#23385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/26/21 2:58 PM, Service MV wrote:
&gt;<i> Ok, but whit this two lines disabled completely access logs. I've no
</I>&gt;<i> more access_log directives configured.
</I>
Yeah, this outcome is surprising to many admins (and there are also
related bugs in Squid code).

To see all other records, add access_log lines that define how you want
the rest of the records to be logged. For example, if you want Squid to
use the default record format and other defaults, then try this untested
sketch:

   acl zabbix_proxy src x.x.x.x
   access_log none zabbix_proxy
   access_log daemon:/specify/exact/log/file/location/here

You can see the default access_log configuration specific to your Squid
build in squid.conf.documented.


HTH,

Alex.



&gt;<i> El vie., 26 feb. 2021 16:21, Alex Rousskov escribi&#243;:
</I>&gt;<i> 
</I>&gt;<i>     On 2/26/21 12:36 PM, Service MV wrote:
</I>&gt;<i> 
</I>&gt;<i>     &gt; NONE/000 0 NONE error:transaction-end-before-headers - HIER_NONE/- -
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; I know that this is not an error. But I want to exclude this log when
</I>&gt;<i>     &gt; the Zabbix server checks the port status of SQUID. Zabbix server does
</I>&gt;<i>     &gt; not use the SQUID as a proxy.
</I>&gt;<i> 
</I>&gt;<i>     If you do not want to see what Zabbix is doing to your Squid, you can
</I>&gt;<i>     exclude its requests from access.log. For example, if you do not want to
</I>&gt;<i>     see any requests from Zabbix IP address:
</I>&gt;<i> 
</I>&gt;<i>     &#160; acl zabbix_proxy src x.x.x.x
</I>&gt;<i>     &#160; access_log none zabbix_proxy
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     HTH,
</I>&gt;<i> 
</I>&gt;<i>     Alex.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023384.html">[squid-users] Exclude transaction from being logged
</A></li>
	<LI>Next message (by thread): <A HREF="023386.html">[squid-users] Squid 4.14 : no_suid: setuid(0): (1) Operation not permitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23385">[ date ]</a>
              <a href="thread.html#23385">[ thread ]</a>
              <a href="subject.html#23385">[ subject ]</a>
              <a href="author.html#23385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
