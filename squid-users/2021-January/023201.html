<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Peer selection based on IP with multiple ports?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Peer%20selection%20based%20on%20IP%20with%20multiple%20ports%3F&In-Reply-To=%3CCAGCa14rx6qdh%3DWnS81Fs2f%3D6N5iu-9jgLeeNEwrm5khQ4hjXAQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023200.html">
   <LINK REL="Next"  HREF="023202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Peer selection based on IP with multiple ports?</H1>
    <B>roee klinger</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Peer%20selection%20based%20on%20IP%20with%20multiple%20ports%3F&In-Reply-To=%3CCAGCa14rx6qdh%3DWnS81Fs2f%3D6N5iu-9jgLeeNEwrm5khQ4hjXAQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Peer selection based on IP with multiple ports?">roeeklinger60 at gmail.com
       </A><BR>
    <I>Sat Jan 16 12:52:13 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023200.html">[squid-users] Mutual TLS for the upstream example
</A></li>
        <LI>Next message (by thread): <A HREF="023202.html">[squid-users] Peer selection based on IP with multiple ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23201">[ date ]</a>
              <a href="thread.html#23201">[ thread ]</a>
              <a href="subject.html#23201">[ subject ]</a>
              <a href="author.html#23201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I am using Squid to route users to different peers based on their
usernames, I was asked to add support for IP whitelisting recently but I
ran into an issue.

If one IP wants to access to different peers, I will have to do it based on
on the listening port number, as there is no other way to differentiate the
traffic, however, Squid is limited to 128 listening ports, which means I
will have to use a max of 128 peers.

I know I can increase the maximum to more than 128 listening ports, but
apparently, this will result in performance issues.

I was wondering what is the accepted way to do this?

Thanks,
Roee
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210116/5682b0e8/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210116/5682b0e8/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023200.html">[squid-users] Mutual TLS for the upstream example
</A></li>
	<LI>Next message (by thread): <A HREF="023202.html">[squid-users] Peer selection based on IP with multiple ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23201">[ date ]</a>
              <a href="thread.html#23201">[ thread ]</a>
              <a href="subject.html#23201">[ subject ]</a>
              <a href="author.html#23201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
