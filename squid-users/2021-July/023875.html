<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] refresh_pattern and &quot;?&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20refresh_pattern%20and%20%22%3F%22&In-Reply-To=%3CCAFcUVs3YZfGAnFweab3JavrS5oK2prHHf7r7EJhDa6Tu-Q0TrQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023874.html">
   <LINK REL="Next"  HREF="023880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] refresh_pattern and &quot;?&quot;</H1>
    <B>Vincent Tamet</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20refresh_pattern%20and%20%22%3F%22&In-Reply-To=%3CCAFcUVs3YZfGAnFweab3JavrS5oK2prHHf7r7EJhDa6Tu-Q0TrQ%40mail.gmail.com%3E"
       TITLE="[squid-users] refresh_pattern and &quot;?&quot;">vincent.tamet at exoclick.com
       </A><BR>
    <I>Mon Jul 12 17:59:58 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023874.html">[squid-users] issues with old version of TLS/SSL certificate
</A></li>
        <LI>Next message (by thread): <A HREF="023880.html">[squid-users] refresh_pattern and &quot;?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23875">[ date ]</a>
              <a href="thread.html#23875">[ thread ]</a>
              <a href="subject.html#23875">[ subject ]</a>
              <a href="author.html#23875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I would like to know how to deactivate the &quot;?&quot; refresh_pattern filter ?
(As most web pages nowaday should use cache-control or expire, I guess the
correct usage of headers should be enough to permit us to cache requests
with &quot;?&quot; !?
Advice are welcome...)

For example for /cgi-bin/:
#refresh_pattern -i (/cgi-bin/)     0      0%        0
1626107114.552    812 192.168.14.224 TCP_MEM_HIT/200 1988993 GET
<A HREF="https://test5vince.titi.com/cgi-bin/201.gif">https://test5vince.titi.com/cgi-bin/201.gif</A> - HIER_NONE/- image/gif

refresh_pattern -i (/cgi-bin/)     0      0%        0
1626107233.336   4729 192.168.14.224 TCP_REFRESH_UNMODIFIED_ABORTED/200
229496 GET <A HREF="https://test5vince.titi.com/cgi-bin/201.gif">https://test5vince.titi.com/cgi-bin/201.gif</A> - FIRSTUP_PARENT/
127.0.0.1 image/gif

But for \?:
#refresh_pattern -i (/cgi-bin/|\?)     0   0%        0
1626107559.200   6441 192.168.14.224 TCP_MISS/200 1988987 GET
<A HREF="https://test5vince.titi.com/201.gif?">https://test5vince.titi.com/201.gif?</A> - FIRSTUP_PARENT/127.0.0.1 image/gif

Best regards
Vince

PS:
&lt; HTTP/2 200
&lt; server: nginx
&lt; date: Mon, 12 Jul 2021 16:42:31 GMT
&lt; content-type: image/gif
&lt; content-length: 1988458
&lt; last-modified: Mon, 12 Jul 2021 16:18:23 GMT
&lt; cache-control: max-age=1800
&lt; strict-transport-security: max-age=60; includeSubDomains
&lt; x-content-type-options: nosniff
&lt; x-frame-options: SAMEORIGIN
&lt; x-xss-protection: 1; mode=block
&lt; accept-ranges: bytes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210712/3b4fc5c5/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210712/3b4fc5c5/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023874.html">[squid-users] issues with old version of TLS/SSL certificate
</A></li>
	<LI>Next message (by thread): <A HREF="023880.html">[squid-users] refresh_pattern and &quot;?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23875">[ date ]</a>
              <a href="thread.html#23875">[ thread ]</a>
              <a href="subject.html#23875">[ subject ]</a>
              <a href="author.html#23875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
