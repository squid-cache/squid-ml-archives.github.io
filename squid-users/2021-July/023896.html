<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] wildcard for numbers in url whitelisting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20wildcard%20for%20numbers%20in%20url%20whitelisting&In-Reply-To=%3CCAGU_Ci%2B5S7FXQO9kFE%3DECsiHupgSt%2B3a72FsusxaOXufhBPw9w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023895.html">
   <LINK REL="Next"  HREF="023897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] wildcard for numbers in url whitelisting</H1>
    <B>robert k Wild</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20wildcard%20for%20numbers%20in%20url%20whitelisting&In-Reply-To=%3CCAGU_Ci%2B5S7FXQO9kFE%3DECsiHupgSt%2B3a72FsusxaOXufhBPw9w%40mail.gmail.com%3E"
       TITLE="[squid-users] wildcard for numbers in url whitelisting">robertkwild at gmail.com
       </A><BR>
    <I>Thu Jul 15 14:13:51 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023895.html">[squid-users] wildcard for numbers in url whitelisting
</A></li>
        <LI>Next message (by thread): <A HREF="023897.html">[squid-users] wildcard for numbers in url whitelisting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23896">[ date ]</a>
              <a href="thread.html#23896">[ thread ]</a>
              <a href="subject.html#23896">[ subject ]</a>
              <a href="author.html#23896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>this is all i have in my urlwhitereg file

\.vsb\.tawk\.to

so i will change it to the below?

\.vsb\.tawk\.to$

also before i made all the changes it was working ie when these lines

http_access allow activation whitelist

it was only allowing those ports and anything in the urlwhite list ie the
non regex ssl one and everything else ie that wasnt in the whitelist it was
blocking

On Thu, 15 Jul 2021 at 14:02, Matus UHLAR - fantomas &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A>&gt;
wrote:

&gt;<i> On 15.07.21 13:54, robert k Wild wrote:
</I>&gt;<i> &gt;ok this hasnt worked, its allowing all the internet now ie urls
</I>&gt;<i>
</I>&gt;<i> improper regular expressions probably.
</I>&gt;<i> Are you aware that regular expressions can match in the middle of string?
</I>&gt;<i> you will need to use $ at the end of line e.g.
</I>&gt;<i>
</I>&gt;<i> \.com$
</I>&gt;<i>
</I>&gt;<i> to match .com domains (which is also reason to avoid regexps when
</I>&gt;<i> posssible)
</I>&gt;<i>
</I>&gt;<i> &gt;#HTTP_HTTPS whitelist websites
</I>&gt;<i> &gt;acl whitelist ssl::server_name &quot;/usr/local/squid/etc/urlwhite.txt&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;#HTTP_HTTPS whitelist websites regex
</I>&gt;<i> &gt;acl whitelistreg ssl::server_name_regex
</I>&gt;<i> &gt;&quot;/usr/local/squid/etc/urlwhitereg.txt&quot;
</I>&gt;<i>
</I>&gt;<i> &gt;http_access allow activation
</I>&gt;<i>
</I>&gt;<i> this one should allow whole internet too.
</I>&gt;<i>
</I>&gt;<i> the standard squid config contains ACLs Safe_ports and SSL_ports along
</I>&gt;<i> with
</I>&gt;<i> directives to disallow using other ports, perhaps you should use those.
</I>&gt;<i>
</I>&gt;<i> &gt;http_access allow whitelist
</I>&gt;<i> &gt;http_access allow whitelistreg
</I>&gt;<i> &gt;http_access deny all
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Thu, 15 Jul 2021 at 13:43, robert k Wild &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">robertkwild at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; activation is an acl for ports, so
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; acl activation port 80 443 8090 9251 # office adobe web
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Thu, 15 Jul 2021 at 13:24, Matus UHLAR - fantomas &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On 15.07.21 13:08, robert k Wild wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;#HTTP_HTTPS whitelist websites
</I>&gt;<i> &gt;&gt;&gt; &gt;acl whitelist ssl::server_name &quot;/usr/local/squid/etc/urlwhite.txt&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;#HTTP_HTTPS whitelist websites regex
</I>&gt;<i> &gt;&gt;&gt; &gt;#acl whitelistreg ssl::server_name_regex
</I>&gt;<i> &gt;&gt;&gt; &gt;&quot;/usr/local/squid/etc/urlwhitereg.txt&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; you must split those to two lines, as all ACLs must match for
</I>&gt;<i> http_access
</I>&gt;<i> &gt;&gt;&gt; line to match:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; http_access allow activation whitelist
</I>&gt;<i> &gt;&gt;&gt; http_access allow activation whitelistreg
</I>&gt;<i> &gt;&gt;&gt; http_access deny all
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I only can guess what &quot;activation&quot; means.
</I>&gt;<i> --
</I>&gt;<i> Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
</I>&gt;<i> Warning: I wish NOT to receive e-mail advertising to this address.
</I>&gt;<i> Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
</I>&gt;<i> &quot;Two words: Windows survives.&quot; - Craig Mundie, Microsoft senior strategist
</I>&gt;<i> &quot;So does syphillis. Good thing we have penicillin.&quot; - Matthew Alton
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>

-- 
Regards,

Robert K Wild.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210715/1c62381f/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210715/1c62381f/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023895.html">[squid-users] wildcard for numbers in url whitelisting
</A></li>
	<LI>Next message (by thread): <A HREF="023897.html">[squid-users] wildcard for numbers in url whitelisting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23896">[ date ]</a>
              <a href="thread.html#23896">[ thread ]</a>
              <a href="subject.html#23896">[ subject ]</a>
              <a href="author.html#23896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
