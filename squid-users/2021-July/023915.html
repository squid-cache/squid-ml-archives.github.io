<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL handshake
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20handshake&In-Reply-To=%3C765298140.229491.1627400752633%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023914.html">
   <LINK REL="Next"  HREF="023916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL handshake</H1>
    <B>Vieri</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20handshake&In-Reply-To=%3C765298140.229491.1627400752633%40mail.yahoo.com%3E"
       TITLE="[squid-users] SSL handshake">rentorbuy at yahoo.com
       </A><BR>
    <I>Tue Jul 27 15:45:52 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023914.html">[squid-users] where to put my own rules
</A></li>
        <LI>Next message (by thread): <A HREF="023916.html">[squid-users] SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23915">[ date ]</a>
              <a href="thread.html#23915">[ thread ]</a>
              <a href="subject.html#23915">[ subject ]</a>
              <a href="author.html#23915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Just recently I've noticed that LAN clients going through Squid with sslbump are all of a sudden unable to access certain HTTPS sites such as login.yahoo.com.
The squid log has lines like:

kid1| 4,3| Error.cc(22) update: recent: ERR_SECURE_CONNECT_FAIL/SQUID_ERR_SSL_HANDSHAKE+TLS_LIB_ERR=1423506E+TLS_IO_ERR=1

and the client error page shows a line like this:

SQUID_TLS_ERR_CONNECT+TLS_LIB_ERR=14094410+TLS_IO_ERR=1

I'm not sure why the lib error code is different. I might not have tracked down the right connection in the log.

I have not changed anything in the OS so it might be because of change in the remote web service.
It might be that my openssl version is already too old (1.1.1g), and that the web site forces the use of an unsupported cypher?

Regards,

Vieri

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023914.html">[squid-users] where to put my own rules
</A></li>
	<LI>Next message (by thread): <A HREF="023916.html">[squid-users] SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23915">[ date ]</a>
              <a href="thread.html#23915">[ thread ]</a>
              <a href="subject.html#23915">[ subject ]</a>
              <a href="author.html#23915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
