<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid modification to only read client SNI without bumping.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20modification%20to%20only%20read%20client%20SNI%0A%20without%20bumping.&In-Reply-To=%3CCAK7W0xfDsU8OUR%3D-Fg3O9ZKxnD9VK7qr-7%2BdRqEs%3DkJWtXjoMQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023744.html">
   <LINK REL="Next"  HREF="023738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid modification to only read client SNI without bumping.</H1>
    <B>His Shadow</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20modification%20to%20only%20read%20client%20SNI%0A%20without%20bumping.&In-Reply-To=%3CCAK7W0xfDsU8OUR%3D-Fg3O9ZKxnD9VK7qr-7%2BdRqEs%3DkJWtXjoMQ%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid modification to only read client SNI without bumping.">shadowpilot34 at gmail.com
       </A><BR>
    <I>Tue Jun  8 13:31:21 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023744.html">[squid-users] Squid modification to only read client SNI without bumping.
</A></li>
        <LI>Next message (by thread): <A HREF="023738.html">[squid-users] Internet is Slow Thru squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23742">[ date ]</a>
              <a href="thread.html#23742">[ thread ]</a>
              <a href="subject.html#23742">[ subject ]</a>
              <a href="author.html#23742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Could you direct me to those scripts? Also, am I understanding
correctly that in this mode:
acl blocklist dstdomain ...

ssl_bump peek all
ssl_bump splice blocklist
ssl_bump terminate all

I will only need certs to display an error page from squid via ssl,
but unblocked domains should be just fine?
I think it should be
ssl_bump splice !blocklist
Since blocklist is the list of domains that needs blocking, so we
don't need to splice them. Oh, and one more thing, wouldn't dstdomain
match something that was sent in the CONNECT request itself, instead
of the SNI in the client hello if it is present?

-- 
HisShadow

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023744.html">[squid-users] Squid modification to only read client SNI without bumping.
</A></li>
	<LI>Next message (by thread): <A HREF="023738.html">[squid-users] Internet is Slow Thru squid proxy server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23742">[ date ]</a>
              <a href="thread.html#23742">[ thread ]</a>
              <a href="subject.html#23742">[ subject ]</a>
              <a href="author.html#23742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
