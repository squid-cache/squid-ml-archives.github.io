<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid ERR_CONNECT_FAIL SYSERR=110
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20ERR_CONNECT_FAIL%20SYSERR%3D110&In-Reply-To=%3Cb8b0426d-aa0c-825e-3749-452e11abfa4a%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023772.html">
   <LINK REL="Next"  HREF="023777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20ERR_CONNECT_FAIL%20SYSERR%3D110&In-Reply-To=%3Cb8b0426d-aa0c-825e-3749-452e11abfa4a%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Jun 15 18:27:38 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023772.html">[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110
</A></li>
        <LI>Next message (by thread): <A HREF="023777.html">[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23773">[ date ]</a>
              <a href="thread.html#23773">[ thread ]</a>
              <a href="subject.html#23773">[ subject ]</a>
              <a href="author.html#23773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/15/21 1:57 PM, Garbacik, Joe wrote:
&gt;<i> I am seeing this occasionally in my squid logs and am little confused
</I>&gt;<i> because I don't know how to troubleshoot this one. I normally see in the
</I>&gt;<i> squid logs the destination IP address as dst_ip in my custom logs but in
</I>&gt;<i> these cases, the field is blank. I'd expect the destination IP to be
</I>&gt;<i> blank when it encounters a DNS Failure but then the Squid message is
</I>&gt;<i> ERR_DNS_FAIL not ERR_CONNECT_FAIL. Here is part of an log example:
</I>&gt;<i> 
</I>&gt;<i> ... ** Flow2**
</I>&gt;<i> squid_egress_ip=-squid_egress_port=-dst_ip=-dst_host=-dst_port=-request_method=CONNECTrequest=&quot;CONNECT
</I>&gt;<i> foo.com:443HTTP/1.1&quot; status_code_from_server=503total_response_time=59480...
</I>
Too many possibilities for me to offer a good working theory. Squid
error reporting behavior is often Squid version-specific and usually
module-specific. It is possible that your Squid just forgot to relay the
failed connection details (a bug), or that a DNS timeout problem was
somehow overwritten with ERR_CONNECT_FAIL, or that Squid was thinking
that it is not talking to an origin server (only origin server name
resolution problems may result in ERR_DNS_FAIL for some unknown to me
reason), etc., etc.

You can try logging %dt, %&lt;pt, and %&lt;tt to get more details, but
figuring this out may require many iterations if you cannot reproduce
the problem at will.

N.B. If you post more details, please share your logformat. It is often
impossible to guess which exact logformat %code was used for which of
your custom labels.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023772.html">[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110
</A></li>
	<LI>Next message (by thread): <A HREF="023777.html">[squid-users] Squid ERR_CONNECT_FAIL SYSERR=110
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23773">[ date ]</a>
              <a href="thread.html#23773">[ thread ]</a>
              <a href="subject.html#23773">[ subject ]</a>
              <a href="author.html#23773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
