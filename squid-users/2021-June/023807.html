<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Newbie question, How to fully disable/disallow https?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Newbie%20question%2C%0A%20How%20to%20fully%20disable/disallow%20https%3F&In-Reply-To=%3CH4WrV81M78ohqBCmtYCPogenL7owx269wjEYVDu0WaFa52GKWZxqJ5F7FBRJbrmWF916XkvFXWvhKAmw2F31B3AMU8obCDQR9kyBYPYbIo8%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023806.html">
   <LINK REL="Next"  HREF="023825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Newbie question, How to fully disable/disallow https?</H1>
    <B>Arctic5824</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Newbie%20question%2C%0A%20How%20to%20fully%20disable/disallow%20https%3F&In-Reply-To=%3CH4WrV81M78ohqBCmtYCPogenL7owx269wjEYVDu0WaFa52GKWZxqJ5F7FBRJbrmWF916XkvFXWvhKAmw2F31B3AMU8obCDQR9kyBYPYbIo8%3D%40protonmail.com%3E"
       TITLE="[squid-users] Newbie question, How to fully disable/disallow https?">arctic5824 at protonmail.com
       </A><BR>
    <I>Tue Jun 22 21:33:25 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023806.html">[squid-users] Newbie question, How to fully disable/disallow https?
</A></li>
        <LI>Next message (by thread): <A HREF="023825.html">[squid-users] Newbie question, How to fully disable/disallow https?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23807">[ date ]</a>
              <a href="thread.html#23807">[ thread ]</a>
              <a href="subject.html#23807">[ subject ]</a>
              <a href="author.html#23807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday, June 22nd, 2021 at 2:15 PM, Antony Stone &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; What!?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That is not even one of your listed IP addresses.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Are you really running an open proxy on the Internet!?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Please turn it off now until you understand the advice Alex and I are
</I>

Hey Antony, I appreciate your concern but I have already confirmed with my VPS provider (that I am hosting this proxy on) that they will not termante me for this, they have also clarified this in their TOS, may it be tor relays or any other form of dodgy traffic.

&gt;<i>  No, please send us only the lines relating to a single request which you think should have been blocked.
</I>
My bad, here are a few
&gt;<i> 1624395604.354   2430 73.189.239.235 TCP_TUNNEL/200 5162 CONNECT accounts.google.com:443 - HIER_DIRECT/2a00:1450:4001:80e::200d -
</I>

&gt;<i>  3070 73.189.239.235 TCP_TUNNEL/200 6778 CONNECT www.reddit.com:443 - HIER_DIRECT/151.101.129.140 -
</I>
according to Alex:
&quot;All the http_access rules below &quot;allow all&quot; do not matter because the
first matching rule wins -- Squid would not even try to evaluate the
rest of the rules. Thus, your &quot;http_access deny CONNECT&quot; rule has no effect.&quot;
so I am now using: <A HREF="https://paste.gg/p/anonymous/e7d5080091bc400e8a75e8285b3dea77">https://paste.gg/p/anonymous/e7d5080091bc400e8a75e8285b3dea77</A>
instead of &quot;http_access allow all&quot; i replaced that line with &quot;http_access allow all !CONNECT&quot;

and it seems to be working, atleast in my browser, yet i still see some users using https,
&gt;<i>    359 5.253.19.75 TCP_MISS/502 4957 GET <A HREF="https://search.yahoo.com/search?">https://search.yahoo.com/search?</A> - HIER_DIRECT/212.82.100.137 text/html
</I>
&gt;<i>  0 5.188.211.10 TCP_DENIED/403 3718 CONNECT www.google.com:443 - HIER_NONE/- text/html
</I>
Im not sure how they are doing this, I'd like to prevent this without everyone being forced to install custom (SSL?) cirts into their browser and stuff, thanks

-Arctic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023806.html">[squid-users] Newbie question, How to fully disable/disallow https?
</A></li>
	<LI>Next message (by thread): <A HREF="023825.html">[squid-users] Newbie question, How to fully disable/disallow https?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23807">[ date ]</a>
              <a href="thread.html#23807">[ thread ]</a>
              <a href="subject.html#23807">[ subject ]</a>
              <a href="author.html#23807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
