<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] websocket with sslbump
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20websocket%20with%20sslbump&In-Reply-To=%3C48960e02-e060-c6de-99b9-bf6fc9fab55d%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023425.html">
   <LINK REL="Next"  HREF="023431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] websocket with sslbump</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20websocket%20with%20sslbump&In-Reply-To=%3C48960e02-e060-c6de-99b9-bf6fc9fab55d%40measurement-factory.com%3E"
       TITLE="[squid-users] websocket with sslbump">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Mar  9 15:58:49 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023425.html">[squid-users] websocket with sslbump
</A></li>
        <LI>Next message (by thread): <A HREF="023431.html">[squid-users] websocket with sslbump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23429">[ date ]</a>
              <a href="thread.html#23429">[ thread ]</a>
              <a href="subject.html#23429">[ subject ]</a>
              <a href="author.html#23429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/8/21 10:10 AM, Niels Hofmans wrote:

&gt;<i> During testing sslbump + icap I noticed that websockets (ws + was) are
</I>&gt;<i> not supported by squid. (Even if using&#160;on_unsupported_protocol)
</I>&gt;<i> Are there any plans for supporting this with sslbump?
</I>
Your question can be misinterpreted in many different ways. I will
answer the following related question instead:

Q: Are there any plans for Squid to send tunneled traffic through
adaptation services?

The ICAP and eCAP protocols cannot support opaque/messageless traffic
natively. Squid can be enhanced to wrap tunneled traffic into something
resembling HTTP messages so that it can be analyzed using adaptation
services (e.g., Squid applies similar wrapping to FTP traffic already).

I recall occasional requests for such a feature. I am not aware of
anybody working on that right now.

<A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F">https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F</A>


HTH,

Alex.
P.S. Latest Squids support forwarding websocket tunnels that use HTTP
Upgrade mechanism (see http_upgrade_request_protocols in v5
squid.conf.documented).

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023425.html">[squid-users] websocket with sslbump
</A></li>
	<LI>Next message (by thread): <A HREF="023431.html">[squid-users] websocket with sslbump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23429">[ date ]</a>
              <a href="thread.html#23429">[ thread ]</a>
              <a href="subject.html#23429">[ subject ]</a>
              <a href="author.html#23429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
