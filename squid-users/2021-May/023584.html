<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Can I configure squid5 with Boring SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Can%20I%20configure%20squid5%20with%20Boring%20SSL&In-Reply-To=%3CCALLSHhx7BQRe-Yyo9%3D2sa_gU2tEtJsxkkJamPee3KCRhpLFftw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023583.html">
   <LINK REL="Next"  HREF="023585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Can I configure squid5 with Boring SSL</H1>
    <B>vinod mg</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Can%20I%20configure%20squid5%20with%20Boring%20SSL&In-Reply-To=%3CCALLSHhx7BQRe-Yyo9%3D2sa_gU2tEtJsxkkJamPee3KCRhpLFftw%40mail.gmail.com%3E"
       TITLE="[squid-users] Can I configure squid5 with Boring SSL">vinod9987 at gmail.com
       </A><BR>
    <I>Mon May  3 20:10:48 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023583.html">[squid-users] Client certificate authentication problem
</A></li>
        <LI>Next message (by thread): <A HREF="023585.html">[squid-users] Can I configure squid5 with Boring SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23584">[ date ]</a>
              <a href="thread.html#23584">[ thread ]</a>
              <a href="subject.html#23584">[ subject ]</a>
              <a href="author.html#23584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Team,

I have followed -
<A HREF="https://www.interserver.net/tips/kb/openssl-vs-boringssl-boringssl-install-boringssl/">https://www.interserver.net/tips/kb/openssl-vs-boringssl-boringssl-install-boringssl/</A>
and was able to install in server's /home/src/boringssl

while configuring squid I am using below options -

./configure '--prefix=/opt/boring/squid5'
'--with-openssl=/home/src/boringssl' '--enable-ssl-crtd'
'--with-filedescriptors=3276800' '--enable-storeio=diskd,aufs,ufs'
'--with-large-files' '--enable-useragent-log' '--enable-ltdl-convenience'
'--with-tls' '--enable-http-violations'

while running 'make' I am getting below error, and I am not able to find
solution for this.

In file included from ../../src/ssl/support.h:21,

                 from ../../src/SquidConfig.h:29,

                 from old_api.cc:24:

../../src/ssl/gadgets.h:56:25: error: &#8216;TXT_DB&#8217; was not declared in this
scope

 typedef std::unique_ptr&lt;TXT_DB, HardFun&lt;void, TXT_DB*, &amp;TXT_DB_free&gt;&gt;
TXT_DB_Pointer;

../../src/ssl/gadgets.h:56:47: error: &#8216;TXT_DB&#8217; was not declared in this
scope

 typedef std::unique_ptr&lt;TXT_DB, HardFun&lt;void, TXT_DB*, &amp;TXT_DB_free&gt;&gt;
TXT_DB_Pointer;

../../src/ssl/gadgets.h:56:68: error: template argument 2 is invalid

 typedef std::unique_ptr&lt;TXT_DB, HardFun&lt;void, TXT_DB*, &amp;TXT_DB_free&gt;&gt;
TXT_DB_Pointer;

../../src/ssl/gadgets.h:56:68: error: template argument 3 is invalid

../../src/ssl/gadgets.h:56:71: error: template argument 1 is invalid

 typedef std::unique_ptr&lt;TXT_DB, HardFun&lt;void, TXT_DB*, &amp;TXT_DB_free&gt;&gt;
TXT_DB_Pointer;

../../src/ssl/gadgets.h:56:71: error: template argument 2 is invalid

../../src/ssl/gadgets.h:56:1: error: &#8216;typedef&#8217; was ignored in this
declaration [-Werror]

 typedef std::unique_ptr&lt;TXT_DB, HardFun&lt;void, TXT_DB*, &amp;TXT_DB_free&gt;&gt;
TXT_DB_Pointer;

cc1plus: all warnings being treated as errors

make[3]: *** [Makefile:840: old_api.lo] Error 1

make[3]: Leaving directory '/tmp/squid-5.0.5/src/mem'

make[2]: *** [Makefile:6851: all-recursive] Error 1

make[2]: Leaving directory '/tmp/squid-5.0.5/src'

make[1]: *** [Makefile:5840: all] Error 2

make[1]: Leaving directory '/tmp/squid-5.0.5/src'

make: *** [Makefile:593: all-recursive] Error 1

My node is running on - CentOS Linux release 8.3.2011
Squid version - 5.0.4
Installed Openssl version - OpenSSL 1.1.1g FIPS  21 Apr 2020

Thanks,
Vinod
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210504/eac566d7/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210504/eac566d7/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023583.html">[squid-users] Client certificate authentication problem
</A></li>
	<LI>Next message (by thread): <A HREF="023585.html">[squid-users] Can I configure squid5 with Boring SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23584">[ date ]</a>
              <a href="thread.html#23584">[ thread ]</a>
              <a href="subject.html#23584">[ subject ]</a>
              <a href="author.html#23584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
