<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid not using hosts file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20not%20using%20hosts%20file&In-Reply-To=%3C7d081eaf-0060-e004-5144-06fdc89e6049%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023594.html">
   <LINK REL="Next"  HREF="023601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid not using hosts file</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20not%20using%20hosts%20file&In-Reply-To=%3C7d081eaf-0060-e004-5144-06fdc89e6049%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid not using hosts file">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu May  6 14:04:26 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023594.html">[squid-users] Squid not using hosts file
</A></li>
        <LI>Next message (by thread): <A HREF="023601.html">[squid-users] Squid not using hosts file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23596">[ date ]</a>
              <a href="thread.html#23596">[ thread ]</a>
              <a href="subject.html#23596">[ subject ]</a>
              <a href="author.html#23596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/6/21 12:09 AM, Jazmine Redmond wrote:
&gt;<i> Hi,&#160;
</I>&gt;<i> 
</I>&gt;<i> I am having issues getting Squid to use the hosts file on the squid server.
</I>&gt;<i> &#160;
</I>&gt;<i> I added the hosts_file configuration directive to my squid config file
</I>&gt;<i> as follows:
</I>&gt;<i> &#160;
</I>&gt;<i> hosts_file&#160; C:/Windows/System32/drivers/etc/hosts
</I>&gt;<i> &#160;
</I>&gt;<i> But, when my squid client browser specifies a URL with a machine name
</I>&gt;<i> listed in the hosts file, squid returns an error that says:
</I>&gt;<i> &#160;
</I>&gt;<i> &#8220;Unable to determine IP address from host name. The DNS server returned:
</I>&gt;<i> Name Error: the domain name does not exist. This means that the cache
</I>&gt;<i> was not able to resolve the hostname presented in the URL.&#8221;
</I>&gt;<i> &#160;
</I>&gt;<i> So, it seems that squid is NOT using my hosts file.
</I>&gt;<i> &#160;
</I>&gt;<i> I have tried using forward slashes (/) and backward slashes (\) in the
</I>&gt;<i> hosts_file configuration directive, yet the error persists.
</I>&gt;<i> &#160;
</I>&gt;<i> I have verified the path to the hosts file is correct and I restart
</I>&gt;<i> Squid each time I make edits to the configuration file. Yet the error
</I>&gt;<i> persists.
</I>&gt;<i> &#160;
</I>&gt;<i> I am running Squid version 3.5.28 on Windows 10.
</I>&gt;<i> &#160;
</I>&gt;<i> Am I missing something?
</I>
Supported Squid versions are known to use /etc/hosts file. I do not know
whether there are any Windows-specific or v3-specific bugs in that area.
Unfortunately, very few people responding on this mailing list are using
Squid v3 and Squid on Windows in general. That is probably why you are
not getting any responses.

If you can try a supported Squid version, please do so (especially if
you can try it on Linux). You may also share a pointer to a compressed
cache.log after setting debug_options to ALL,9 in case somebody
volunteers to help you with triage.

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023594.html">[squid-users] Squid not using hosts file
</A></li>
	<LI>Next message (by thread): <A HREF="023601.html">[squid-users] Squid not using hosts file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23596">[ date ]</a>
              <a href="thread.html#23596">[ thread ]</a>
              <a href="subject.html#23596">[ subject ]</a>
              <a href="author.html#23596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
