<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%28possibly%20dynamic%3F%29%20multiple%20port%20forwarding%20in%0A%20the%20same%20internal%20Network%20...&In-Reply-To=%3CCAFakBwhKyPe%3DZFUjgbfxi_d%2BfAn_dvPd2N-veFxSLj1S_xzxEA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023681.html">
   <LINK REL="Next"  HREF="023685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...</H1>
    <B>Albretch Mueller</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%28possibly%20dynamic%3F%29%20multiple%20port%20forwarding%20in%0A%20the%20same%20internal%20Network%20...&In-Reply-To=%3CCAFakBwhKyPe%3DZFUjgbfxi_d%2BfAn_dvPd2N-veFxSLj1S_xzxEA%40mail.gmail.com%3E"
       TITLE="[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...">lbrtchx at gmail.com
       </A><BR>
    <I>Tue May 25 12:36:09 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023681.html">[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...
</A></li>
        <LI>Next message (by thread): <A HREF="023685.html">[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23684">[ date ]</a>
              <a href="thread.html#23684">[ thread ]</a>
              <a href="subject.html#23684">[ subject ]</a>
              <a href="author.html#23684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/25/21, Antony Stone &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">Antony.Stone at squid.open.source.it</A>&gt; wrote:
&gt;<i> On Tuesday 25 May 2021 at 07:51:21, Albretch Mueller wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>  As part of a teaching and learning (TaL)/school software, I need squid:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  a) to detect one of the connected computers in an internal network
</I>&gt;&gt;<i> comprising wirelessly connected and wired computers as the &quot;master&quot;
</I>&gt;&gt;<i> (operated by the teacher);
</I>
&gt;<i> What information is available to Squid in order to &quot;detect&quot; that this is the
</I>&gt;<i> &quot;master&quot; machine?
</I>
 I think a combination of cookies, its mac address and, when both
fail, authentication. Wouldn't that be enough?, perhaps with an extra
proxy server? My main problem is that I don't want for students boxes
to be prompted for or trying to initiate an authentication and I don't
know of a fool proof way of achieving that. If possible, all students'
business should let go through with squid serving as transparent
proxy.

 Probably squid could cache that request as local files to the extent
that it can and just redirect the requests of students' clients as
references to that file using an ICAP server somehow?

&gt;&gt;<i>  b) when that master reach out to an outside URL, the response should
</I>&gt;&gt;<i> be replicated in that master's and all other internal computers; but
</I>&gt;<i>
</I>&gt;<i> What do you mean by &quot;the response should be replicated in ... all other
</I>&gt;<i> internal computers&quot;?
</I>
 that the initial request by the teacher should be received as
response by all students

&gt;<i> Are you assuming that these computers are already running a browser,
</I>
 Well, technically, I think we could assume that, why would that be
problematic? How bad would if be if they are not running a browser,
you could interrupt an initiated request, you could even shot down
your computer in the middle of a download or transaction without a
problem. Why would that be that difficult? or, was is it exactly I am
not getting right?

&gt;<i> that
</I>&gt;<i> they should suddenly get some (apparently) web server response via Squid and
</I>&gt;<i> display it, even though they did not make any request?
</I>
&gt;<i> If so, I would say this is impossible - you can't get a computer to show a
</I>&gt;<i> response to a request it did not make.
</I>
 Yes, this is what I meant, why is that so hard? Again, my forte is
not networking, but I could see how the requested file could be cached
and forwarded to all student boxes. Perhaps using an ICAP server.

&gt;&gt;<i>  c) responses to requests originating in the non master (&quot;slave&quot;?)
</I>&gt;&gt;<i> ends, return to their corresponding ends;
</I>&gt;<i>
</I>&gt;<i> So, any computer other than the &quot;master&quot; simply makes requests and gets
</I>&gt;<i> standard responses as usual.  Fie.
</I>
 Yes, once you know the request originated in the non master machine,
it would go back to the initiating client. Again, why would that be
that problematic?

&gt;&gt;<i>  d) at times the master should be able to switch off that replicating
</I>&gt;&gt;<i> feature;
</I>&gt;<i>
</I>&gt;<i> What times?
</I>
 Teacher may decide to &quot;privately&quot; check out some information by
herself without it being displayed on all students' ends or even
concurrently open another &quot;private&quot; browser window.

&gt;<i> How?
</I>
 This is what I don't know but I think (probably somewhat naively) it
shouldn't be that hard. Again, session tracking via cookies or URL
rewriting, maybe?

&gt;<i>  I really think you need to explain this &quot;replicating
</I>&gt;<i> feature&quot; in more detail (and preferably in network terms, from the point of
</I>&gt;<i> view of the software running on the master, and the software running on a
</I>&gt;<i> non-master.
</I>
 I am not a networking guy but probably you could point out to me some
related documents explaining specifically the kinds of problematics
around these kinds of issues.

&gt;&gt;<i>  e) more than one or all computers should be able to play &quot;master&quot;;
</I>&gt;<i>
</I>&gt;<i> I repeat my first question - what information is available to Squid in order
</I>&gt;<i> to
</I>&gt;<i> &quot;detect&quot; that this is the &quot;master&quot; machine?
</I>
 I think I answer that in &#167;a. Again, why would that be that hard?

&gt;&gt;<i>  f) all other &quot;slave&quot; should operate in a &quot;transparent proxy&quot; mode;
</I>&gt;<i>
</I>&gt;<i> Are you including SSL in this?
</I>
 Yes, if possibly, all kinds of communications, but just http (no
encryption) for the student client machines would be fine.

&gt;&gt;<i>  g) on a single computer, someone could use different
</I>&gt;&gt;<i> browsers/versions to do a-f ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  I have seen that partially implemented one way or the other, however
</I>&gt;&gt;<i> I need to integrate/manage all parts as part of an integrated whole.
</I>&gt;<i>
</I>&gt;&gt;<i>  So, my questions could be reduced to: which exactly are the
</I>&gt;&gt;<i> configuration lines that should be changed in both squid and the
</I>&gt;&gt;<i> browsers on the connected computers or the different browsers in the
</I>&gt;&gt;<i> same computer?
</I>&gt;<i>
</I>&gt;<i> I think this request is (a) a *lot* more complicated than this, and probably
</I>&gt;<i> a
</I>&gt;<i> lot more complicated than you think it is, and (b) in parts, impossible.
</I>
 I am squarely OK with &quot;lots of complication&quot; and as I said, you might
not be able to completely and directly implement all aspects using
squid, but what aspects of that integrated whole do you think are
impossible?

 lbrtchx

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023681.html">[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...
</A></li>
	<LI>Next message (by thread): <A HREF="023685.html">[squid-users] (possibly dynamic?) multiple port forwarding in the same internal Network ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23684">[ date ]</a>
              <a href="thread.html#23684">[ thread ]</a>
              <a href="subject.html#23684">[ subject ]</a>
              <a href="author.html#23684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
