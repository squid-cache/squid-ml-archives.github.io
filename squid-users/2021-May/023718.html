<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] manual proxy configuration ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20manual%20proxy%20configuration%20...&In-Reply-To=%3CCAFakBwiHvd%2BRdkBJyhV4c0F%3DaiGw8B9xAHzDFD-RZdhzoYZ4xA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023717.html">
   <LINK REL="Next"  HREF="023719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] manual proxy configuration ...</H1>
    <B>Albretch Mueller</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20manual%20proxy%20configuration%20...&In-Reply-To=%3CCAFakBwiHvd%2BRdkBJyhV4c0F%3DaiGw8B9xAHzDFD-RZdhzoYZ4xA%40mail.gmail.com%3E"
       TITLE="[squid-users] manual proxy configuration ...">lbrtchx at gmail.com
       </A><BR>
    <I>Fri May 28 22:14:24 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023717.html">[squid-users] manual proxy configuration ...
</A></li>
        <LI>Next message (by thread): <A HREF="023719.html">[squid-users] manual proxy configuration ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23718">[ date ]</a>
              <a href="thread.html#23718">[ thread ]</a>
              <a href="subject.html#23718">[ subject ]</a>
              <a href="author.html#23718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> As I expect and suspected my exposed box had been compromised. I used
a knoppix DVD they can't write to/effing alter  it for physical
reasons. Their efforts would be futile, senseless.

 If I get the time I will write up a nicer document, but since I do
believe in karma I want to help other people running into the same
problem

// __ download squid and check the md5 and sha1 hashsums

 <A HREF="http://www.squid-cache.org/Download/">http://www.squid-cache.org/Download/</A>
 <A HREF="http://www.squid-cache.org/Versions/">http://www.squid-cache.org/Versions/</A>
 Stable Versions (right now):

 <A HREF="http://www.squid-cache.org/Versions/v4/">http://www.squid-cache.org/Versions/v4/</A>
~
// __ untar and gunzip the sources

 ...
~
// __ compilation of sources based on

 <A HREF="https://wiki.squid-cache.org/SquidFaq/CompilingSquid">https://wiki.squid-cache.org/SquidFaq/CompilingSquid</A>

_PRFX=&quot;&lt;wherever you want to install squid on a permanent drive&gt;&quot;

_VER=&quot;squid-4.15&quot; # used as prefix for log files

cd &quot;${_VER}&quot;
pwd

_DT=$(date +%Y%m%d%H%M%S)
_LOG_FL=&quot;${_VER}_configure_${_DT}.log&quot;
echo &quot;// __ \$_LOG_FL: |${_LOG_FL}|&quot;

time(
./configure --prefix=&quot;${_PRFX}&quot; \
            --localstatedir=&quot;${_PRFX}/var&quot; \
            --libexecdir=&quot;${prefix}/lib/squid3&quot; \
            --datadir=&quot;${prefix}/share/squid3&quot; \
            --sysconfdir=&quot;${_PRFX}/etc/squid3&quot; \
            --with-default-user=proxy \
            --with-logdir=&quot;${_PRFX}/var/log/squid3&quot; \
            --with-pidfile=&quot;${_PRFX}/var/run/squid3.pid&quot; &gt;&gt;  &quot;${_LOG_FL}&quot; 2&gt;&amp;1
) 2&gt;&gt; &quot;${_LOG_FL}&quot;
echo &quot;~&quot; &gt;&gt; &quot;${_LOG_FL}&quot;


// __ running: make

_DT=$(date +%Y%m%d%H%M%S)
_LOG_FL=&quot;${_VER}_make_${_DT}.log&quot;
echo &quot;// __ \$_LOG_FL: |${_LOG_FL}|&quot;

echo &quot;// __ make -j1:&quot; &gt;&gt; &quot;${_LOG_FL}&quot;
echo &quot; &quot; &gt;&gt; &quot;${_LOG_FL}&quot;
time(make -j1 &gt;&gt; &quot;${_LOG_FL}&quot; 2&gt;&amp;1) 2&gt;&gt; &quot;${_LOG_FL}&quot;
echo &quot;~&quot; &gt;&gt; &quot;${_LOG_FL}&quot;

tail -n 10 &quot;${_LOG_FL}&quot;

// __ running: sudo make install

_DT=$(date +%Y%m%d%H%M%S)
_LOG_FL=&quot;${_VER}_make_install_${_DT}.log&quot;
echo &quot;// __ \$_LOG_FL: |${_LOG_FL}|&quot;

echo &quot;// __ make install:&quot; &gt;&gt; &quot;${_LOG_FL}&quot;
echo &quot; &quot; &gt;&gt; &quot;${_LOG_FL}&quot;
time(sudo make install &gt;&gt; &quot;${_LOG_FL}&quot; 2&gt;&amp;1) 2&gt;&gt; &quot;${_LOG_FL}&quot;
echo &quot;~&quot; &gt;&gt; &quot;${_LOG_FL}&quot;

tail -n 10 &quot;${_LOG_FL}&quot;
~
// __ reaching out to your install base

_SQUID3_HOME=&quot;/media/knoppix/squid3/4.15/&quot;
PATH=&quot;${_SQUID3_HOME}/sbin:$PATH&quot;

which squid

squid --version

$ which squid
/media/knoppix/squid3/4.15/sbin/squid

$ squid --version
Squid Cache: Version 4.15
Service Name: squid
configure options:  '--prefix=/media/knoppix/squid3/4.15'
'--localstatedir=/media/knoppix/squid3/4.15/var'
'--libexecdir=/lib/squid3' '--datadir=/share/squid3'
'--sysconfdir=/media/knoppix/squid3/4.15/etc/squid3'
'--with-default-user=proxy'
'--with-logdir=/media/knoppix/squid3/4.15/var/log/squid3'
'--with-pidfile=/media/knoppix/squid3/4.15/var/run/squid3.pid'

$ sudo squid

...

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023717.html">[squid-users] manual proxy configuration ...
</A></li>
	<LI>Next message (by thread): <A HREF="023719.html">[squid-users] manual proxy configuration ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23718">[ date ]</a>
              <a href="thread.html#23718">[ thread ]</a>
              <a href="subject.html#23718">[ subject ]</a>
              <a href="author.html#23718">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
