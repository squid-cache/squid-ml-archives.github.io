<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Rotate squid log files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rotate%20squid%20log%20files&In-Reply-To=%3Cdacd3a07-b3ee-4274-14ad-1cdcc0c6db49%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024239.html">
   <LINK REL="Next"  HREF="024240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Rotate squid log files</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Rotate%20squid%20log%20files&In-Reply-To=%3Cdacd3a07-b3ee-4274-14ad-1cdcc0c6db49%40treenet.co.nz%3E"
       TITLE="[squid-users] Rotate squid log files">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Nov 17 01:23:10 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024239.html">[squid-users] Rotate squid log files
</A></li>
        <LI>Next message (by thread): <A HREF="024240.html">[squid-users] User linked to static unique outbound address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24259">[ date ]</a>
              <a href="thread.html#24259">[ thread ]</a>
              <a href="subject.html#24259">[ subject ]</a>
              <a href="author.html#24259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/11/21 00:05, Omar Salem - KSACO IT Manager wrote:
&gt;<i> hi all,
</I>&gt;<i> 
</I>&gt;<i> I have ran the command (c:\squid\sbin\squid -n squid -k rotate)&#160; to 
</I>&gt;<i> rotate log files (Cache,store and access) but only cache and store logs 
</I>&gt;<i> were rotated.
</I>&gt;<i> I need to rotate access.log too because it reached 4GB.
</I>&gt;<i> 
</I>&gt;<i> Also how to see users visited websites in date and time because it is 
</I>&gt;<i> not included in access.log.
</I>&gt;<i> 
</I>

Things to check on:


A) does your access.log (and the directory path it site in) have the 
right permissions?
  Best way to test this is to shutdown squid, move the existing 
access.log file to a different path/name and restart squid. A new 
access.log file should be created with correct ownership.
  If a new file is *not* created, then there is a problem with the path. 
cache.log should have details about what is broken amongst the startup 
messages.


B) is your Squid configured or built to rely on external systems 
managing the access.log file rotation/renaming?

That is determined by the logfile_rotate directive. We publish Squid 
code have a default of 10, but some vendors provide integration with 
their OS logging and patch the default to be 0. You can set the 
directive in squid.conf to test for yourself Squid's rotation behaviour.

  NP: if your vendor is using third-party software to manage access.log 
you should use whatever rotation feature that software offers instead of 
&quot;-k rotate&quot;


Cheers,
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024239.html">[squid-users] Rotate squid log files
</A></li>
	<LI>Next message (by thread): <A HREF="024240.html">[squid-users] User linked to static unique outbound address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24259">[ date ]</a>
              <a href="thread.html#24259">[ thread ]</a>
              <a href="subject.html#24259">[ subject ]</a>
              <a href="author.html#24259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
