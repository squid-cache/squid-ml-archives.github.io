<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205.2%3A%20assertion%20failed%3A%20Controller.cc%3A930%3A%0A%20%22%21transients%20%7C%7C%20e.hasTransients%28%29%22&In-Reply-To=%3Cf6556e34-7dbd-8fa9-19ed-e9878eae6042%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024274.html">
   <LINK REL="Next"  HREF="024276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205.2%3A%20assertion%20failed%3A%20Controller.cc%3A930%3A%0A%20%22%21transients%20%7C%7C%20e.hasTransients%28%29%22&In-Reply-To=%3Cf6556e34-7dbd-8fa9-19ed-e9878eae6042%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Nov 22 17:18:52 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024274.html">[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;
</A></li>
        <LI>Next message (by thread): <A HREF="024276.html">[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24275">[ date ]</a>
              <a href="thread.html#24275">[ thread ]</a>
              <a href="subject.html#24275">[ subject ]</a>
              <a href="author.html#24275">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/22/21 11:55 AM, David Touzeau wrote:

&gt;<i> What does mean this error :
</I>&gt;<i> 
</I>&gt;<i> 2021/11/21 17:23:06 kid1| assertion failed: Controller.cc:930:
</I>&gt;<i> &quot;!transients || e.hasTransients()&quot;
</I>
&gt;<i> We are unable to start the service it always crashes.
</I>&gt;<i> How can we can fix it ( purge cache , reboot )... ?
</I>
This is a Squid bug or misconfiguration. If you are using a UFS-based
cache_dir with multiple workers, then it is a misconfiguration. If you
want to use SMP disk caching, please use rock store instead.

HTH,

Alex.
P.S. This assertion has been reported several times, including for Squid
v4, but it was probably always due to a Squid misconfiguration. We need
to find a good way to explicitly reject such configurations instead of
asserting (while not rejecting similar unsupported configurations that
still &quot;work&quot; from their admins point of view).

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024274.html">[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;
</A></li>
	<LI>Next message (by thread): <A HREF="024276.html">[squid-users] Squid 5.2: assertion failed: Controller.cc:930: &quot;!transients || e.hasTransients()&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24275">[ date ]</a>
              <a href="thread.html#24275">[ thread ]</a>
              <a href="subject.html#24275">[ subject ]</a>
              <a href="author.html#24275">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
