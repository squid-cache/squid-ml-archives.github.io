<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid upgrade failure support questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20upgrade%20failure%20support%20questions&In-Reply-To=%3CCO6PR20MB3732B24A5A499F9CEC8CDB559C829%40CO6PR20MB3732.namprd20.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024203.html">
   <LINK REL="Next"  HREF="024205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid upgrade failure support questions</H1>
    <B>Yuen, John</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20upgrade%20failure%20support%20questions&In-Reply-To=%3CCO6PR20MB3732B24A5A499F9CEC8CDB559C829%40CO6PR20MB3732.namprd20.prod.outlook.com%3E"
       TITLE="[squid-users] Squid upgrade failure support questions">John.Yuen at moodys.com
       </A><BR>
    <I>Sun Oct 24 17:33:02 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024203.html">[squid-users] How to pass TeamViewer traffic
</A></li>
        <LI>Next message (by thread): <A HREF="024205.html">[squid-users] Squid upgrade failure support questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24204">[ date ]</a>
              <a href="thread.html#24204">[ thread ]</a>
              <a href="subject.html#24204">[ subject ]</a>
              <a href="author.html#24204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attention: Any Squid for Windows support
Re: Squid upgrade failure support questions

Hi there,

We were using Squid proxy for Windows v3.5.26 on a Windows Server 2016 Standard server,  and we finally upgraded to v4.14. However, we noticed it wasn't listening on the default Squid http port of 3128, even though the 'Squid Cache Server' Windows firewall inbound rule is there and enabled.
[cid:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">image001.png at 01D7C8D7.F5ABCD80</A>]
When I try to open a web browser and go to the '<A HREF="http://localhost:3128">http://localhost:3128</A>' URL on the local Squid server, it shows the following message &quot;This page can't be displayed. Make sure the web address <A HREF="http://localhost:3128">http://localhost:3128</A> is correct.&quot;. It's as though the Squid server isn't listening on that URL and port 3128 anymore. It was working before the upgrade to v4.14.

As a test to see if it was Squid v4.14 causing the problem, we installed the same fresh new copy of Squid v4.14 on another server (with no Squid installed, running on Windows Server 2019 Standard), it installs fine, it's listening on the TCP port 3128 and I can get to the '<A HREF="http://localhost:3128">http://localhost:3128</A>' page fine as expected. So, something with the Squid upgrade from v3.5.26 to v4.14 on the non-working server caused the Squid to not work/listen on port 3128 anymore. The 'C:\Squid\etc\squid\squid.conf' on the non-working/upgraded Squid server looks fine and shows the following lines:

# Squid normally listens to port 3128
http_port 3128

The 'Squid for Windows' service is set to 'Automatic' startup type and shows the 'Running' status. So it can't be that. I can telnet to port 3128 on the new working Squid v4.14 server. But I can't telnet to the same port 3128 on the upgraded/non-working Squid server. When I do, it doesn't work and errors out like this:

C:\&gt;telnet Squid-01 3128
Connecting To Squid-01...Could not open connection to the host, on port 3128: Connect failed

Lastly, as a last resort, we uninstalled the existing non-working Squid v4.14 installation, deleted the old 'C:\Squid' folder after, removed as many mentions of the old Squid installation from the Windows registry, then installed a fresh new Squid v4.14 and it still didn't work. It had the same issue.

Are there any known issues like what I'm describing concerning the upgrade from Squid v3.5.26 to v4.14? I'm hoping you can help me and point me to the right direction to resolve this. I couldn't find anything from a search on Google and I also tried unsuccessfully on your Squid-cache wiki page at '<A HREF="https://wiki.squid-cache.org">https://wiki.squid-cache.org</A>'. This can be a problem in the near future, as we have other Squid servers to upgrade and we don't want to face the same problem as this one. Please forward to the right team, group, user(s) as needed. If you have any questions, please let me know. Thanks for any help in advance.

John
-----------------------------------------

Moody's monitors email communications through its networks for regulatory compliance purposes and to protect its customers, employees and business and where allowed to do so by applicable law. The information contained in this e-mail message, and any attachment thereto, is confidential and may not be disclosed without our express permission. If you are not the intended recipient or an employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that you have received this message in error and that any review, dissemination, distribution or copying of this message, or any attachment thereto, in whole or in part, is strictly prohibited. If you have received this message in error, please immediately notify us by telephone, fax or e-mail and delete the message and all of its attachments. Every effort is made to keep our network free from viruses. You should, however, review this e-mail message, as well as any attachment thereto, for viruses. We take no responsibility and have no liability for any computer virus which may be transferred via this e-mail message.

-----------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20211024/02504c23/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20211024/02504c23/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7077 bytes
Desc: image001.png
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20211024/02504c23/attachment.png">http://lists.squid-cache.org/pipermail/squid-users/attachments/20211024/02504c23/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024203.html">[squid-users] How to pass TeamViewer traffic
</A></li>
	<LI>Next message (by thread): <A HREF="024205.html">[squid-users] Squid upgrade failure support questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24204">[ date ]</a>
              <a href="thread.html#24204">[ thread ]</a>
              <a href="subject.html#24204">[ subject ]</a>
              <a href="author.html#24204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
