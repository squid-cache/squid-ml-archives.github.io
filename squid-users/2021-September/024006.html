<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd:  Getting a squid clients list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20%20Getting%20a%20squid%20clients%20list&In-Reply-To=%3C567906822.2214667.1630589329959%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024017.html">
   <LINK REL="Next"  HREF="024009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd:  Getting a squid clients list</H1>
    <B>U Zee</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20%20Getting%20a%20squid%20clients%20list&In-Reply-To=%3C567906822.2214667.1630589329959%40mail.yahoo.com%3E"
       TITLE="[squid-users] Fwd:  Getting a squid clients list">uzee001 at yahoo.com
       </A><BR>
    <I>Thu Sep  2 13:28:49 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024017.html">[squid-users] New line in logformat
</A></li>
        <LI>Next message (by thread): <A HREF="024009.html">[squid-users] Fwd: Getting a squid clients list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24006">[ date ]</a>
              <a href="thread.html#24006">[ thread ]</a>
              <a href="subject.html#24006">[ subject ]</a>
              <a href="author.html#24006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Can anyone help with running squidclient remotely and getting the list of clients, or any other way to get the list of clients?
Thanks very much
    On Tuesday, August 31, 2021, 05:50:12 PM GMT+3, U Zee &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uzee001 at yahoo.com</A>&gt; wrote:  
 
  Thanks for the pointer&#160;Eliezer. I installed it on an Ubuntu 20 machine and tried but it didn't seem to work:
 <A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ub20-srv1</A>:~# squidclient -h squid.mydomain.com mgr:client_listHTTP/1.0 403 ForbiddenServer: squid/2.6.STABLE13Date: Tue, 31 Aug 2021 14:45:09 GMTContent-Type: text/htmlContent-Length: 1115Expires: Tue, 31 Aug 2021 14:45:09 GMTX-Squid-Error: ERR_ACCESS_DENIED 0X-Cache: MISS from squid.mydomain.com&#160;Via: 1.0 squid.mydomain.com:3128 (squid/2.6.STABLE13)Proxy-Connection: close
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ub20-srv1</A>:~# squidclient -h squid.mydomain.com&#160; mgr:infoHTTP/1.0 403 ForbiddenServer: squid/2.6.STABLE13Date: Tue, 31 Aug 2021 14:46:33 GMTContent-Type: text/htmlContent-Length: 1101Expires: Tue, 31 Aug 2021 14:46:33 GMTX-Squid-Error: ERR_ACCESS_DENIED 0X-Cache: MISS from squid.mydomain.com&#160;Via: 1.0 squid.mydomain.com:3128 (squid/2.6.STABLE13)Proxy-Connection: close
Although the proxy function seems to be working, but I cannot get the &quot;mgr&quot; function to work:
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at ub20-srv1</A>:~# squidclient -h squid.mydomain.com&#160;-v <A HREF="http://vmware.comRequest:GET">http://vmware.comRequest:GET</A> <A HREF="http://vmware.com">http://vmware.com</A> HTTP/1.0Host: vmware.comUser-Agent: squidclient/4.10Accept: */*Connection: close.
HTTP/1.0 301 Moved PermanentlyLocation: <A HREF="https://www.vmware.com/Content-Length:">https://www.vmware.com/Content-Length:</A> 0X-Cache: MISS from squid.mydomain.com&#160;Via: 1.0 squid.mydomain.com:3128 (squid/2.6.STABLE13)Proxy-Connection: close




    On Monday, August 30, 2021, 02:56:29 PM GMT+3, NgTech LTD &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; wrote:  
 
 
Hey Uzee,
You can use squidclient from another machine to access this machine.I do not remember how by heart but Amos might know if I am guessing right.
Eliezer
&#1489;&#1514;&#1488;&#1512;&#1497;&#1498; &#1497;&#1493;&#1501; &#1489;&#1523;, 30 &#1489;&#1488;&#1493;&#1490;&#1523; 2021, 14:44, &#1502;&#1488;&#1514; U Zee &#8207;&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">uzee001 at yahoo.com</A>&gt;:

 &lt;sigh&gt; I know and sadly installing it is not possible either. Without going into the details too much, its a machine with a legacy environment where yum and some other tools are broken and people who knew about the configs are long gone.
    On Monday, August 30, 2021, 01:29:47 PM GMT+3, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:  
 
 On 30/08/21 10:18 pm, U Zee wrote:
&gt;<i> Thanks Amos. I don't think the clientdb features you mentioned are 
</I>&gt;<i> enabled, I'm getting a command not found.
</I>&gt;<i> Also I don't see anything configured for logging in squid.conf (I don't 
</I>&gt;<i> know if there is any other place for it)
</I>&gt;<i> 
</I>&gt;<i> bash-3.00# ps -ef|grep squid
</I>&gt;<i> root&#160; &#160; &#160; 2467&#160; &#160; &#160;1&#160; 0&#160; 2020 ?&#160; &#160; &#160; &#160; 00:00:00 /usr/squid/sbin/squid
</I>&gt;<i> nobody&#160; &#160; 2471&#160; 2467&#160; 0&#160; 2020 ?&#160; &#160; &#160; &#160; 07:49:45 (squid)
</I>&gt;<i> root&#160; &#160; &#160;28018 20110&#160; 0 13:12 pts/0&#160; &#160; 00:00:00 grep squid
</I>&gt;<i> 
</I>&gt;<i> bash-3.00# /usr/squid/sbin/squid -v
</I>&gt;<i> Squid Cache: Version 2.6.STABLE13
</I>&gt;<i> configure options: '--prefix=/usr/squid' 'CC=gcc' 'CFLAGS=-O3 -g'
</I>&gt;<i> 
</I>&gt;<i> bash-3.00# squidclient mgr:client_list | grep &quot;Address&quot;
</I>&gt;<i> bash: squidclient: command not found
</I>
That is the squidclient tool missing on your machine.

Amos
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
  _______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>

_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20210902/6943bb58/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20210902/6943bb58/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024017.html">[squid-users] New line in logformat
</A></li>
	<LI>Next message (by thread): <A HREF="024009.html">[squid-users] Fwd: Getting a squid clients list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24006">[ date ]</a>
              <a href="thread.html#24006">[ thread ]</a>
              <a href="subject.html#24006">[ subject ]</a>
              <a href="author.html#24006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
