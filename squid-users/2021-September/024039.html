<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL Terminating Reverse Proxy with Referral Tracking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Terminating%20Reverse%20Proxy%20with%20Referral%0A%20Tracking&In-Reply-To=%3Cc892b2e3-7613-625d-3092-dfe672126b64%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024033.html">
   <LINK REL="Next"  HREF="024042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL Terminating Reverse Proxy with Referral Tracking</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Terminating%20Reverse%20Proxy%20with%20Referral%0A%20Tracking&In-Reply-To=%3Cc892b2e3-7613-625d-3092-dfe672126b64%40treenet.co.nz%3E"
       TITLE="[squid-users] SSL Terminating Reverse Proxy with Referral Tracking">squid3 at treenet.co.nz
       </A><BR>
    <I>Wed Sep 15 00:09:50 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024033.html">[squid-users] SSL Terminating Reverse Proxy with Referral Tracking
</A></li>
        <LI>Next message (by thread): <A HREF="024042.html">[squid-users] SSL Terminating Reverse Proxy with Referral Tracking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24039">[ date ]</a>
              <a href="thread.html#24039">[ thread ]</a>
              <a href="subject.html#24039">[ subject ]</a>
              <a href="author.html#24039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/09/21 4:16 pm, Mehrdad Fatemi wrote:
&gt;<i> Hi Everyone,
</I>&gt;<i> I'm looking for an elegant technology option to have telcos zero-rate 
</I>&gt;<i> all of the traffic to a set of online destinations.
</I>
Can you clarify what you mean exactly by &quot;zero rate&quot; ?

What does it have to do with actions the proxy is performing?


&gt;<i> Using an SSL 
</I>&gt;<i> terminating reverse proxy could be a potential answer to this as we can 
</I>&gt;<i> focus on zero-rating the proxy's downstream traffic with each ISP/Telco 
</I>&gt;<i> without worrying about upstream servers.
</I>&gt;<i> 
</I>&gt;<i> There are two&#160;challenges to address here though:
</I>&gt;<i> 1) Modern web applications on the upstream servers use many 3rd party 
</I>&gt;<i> and X-a-a-S resources&#160; (e.g. embedded media, libraries, etc) that we 
</I>&gt;<i> also want to pass through the proxy to ensure they are zero-rated.
</I>&gt;<i> 
</I>
To be clear; &quot;reverse proxy&quot; is just an old term for CDN frontend. It 
requires public DNS records for the domains it services point all their 
traffic to the CDN/proxy.

I'm not sure you are talking about the same thing. Maybe you are needing 
an interception proxy or other QoS related systems.


In general;

a) If those upstream servers are doing XaaS fetches as their internal 
operations there is no relevance to the gateway. It simply passes 
traffic to upstream and they do their thing.

b) If those upstream servers are embedding URLs for clients to directly 
contact the XaaS services. Then your desire is not possible without 
redesigning the upstream service(s) such that they stop exposing their 
use of the XaaS. Which often also means redesigning the XaaS service 
itself too.


&gt;<i> 2) For a user to complete an end-to-end process they may get referred to 
</I>&gt;<i> 3rd party websites (like a payment gateway) that we only want to 
</I>&gt;<i> zero-rate if the referral is from one of our designated upstream servers.
</I>&gt;<i> 
</I>
That is not possible for a reverse-proxy to do. It will never see the 
third-party traffic, as mentioned by (b) above.


Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024033.html">[squid-users] SSL Terminating Reverse Proxy with Referral Tracking
</A></li>
	<LI>Next message (by thread): <A HREF="024042.html">[squid-users] SSL Terminating Reverse Proxy with Referral Tracking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24039">[ date ]</a>
              <a href="thread.html#24039">[ thread ]</a>
              <a href="subject.html#24039">[ subject ]</a>
              <a href="author.html#24039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
