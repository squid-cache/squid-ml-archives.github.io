<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fine tuning of Squid and OS configuration for handling more loads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fine%20tuning%20of%20Squid%20and%20OS%20configuration%20for%0A%20handling%20more%20loads&In-Reply-To=%3C233975c2-21f6-a7d4-f9d3-f77e8c0f630b%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024715.html">
   <LINK REL="Next"  HREF="024717.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fine tuning of Squid and OS configuration for handling more loads</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fine%20tuning%20of%20Squid%20and%20OS%20configuration%20for%0A%20handling%20more%20loads&In-Reply-To=%3C233975c2-21f6-a7d4-f9d3-f77e8c0f630b%40measurement-factory.com%3E"
       TITLE="[squid-users] Fine tuning of Squid and OS configuration for handling more loads">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Apr 13 20:32:03 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024715.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
        <LI>Next message (by thread): <A HREF="024717.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24716">[ date ]</a>
              <a href="thread.html#24716">[ thread ]</a>
              <a href="subject.html#24716">[ subject ]</a>
              <a href="author.html#24716">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/13/22 16:24, Eliezer Croitoru wrote:
&gt;<i> Can you please verify if the next is a workaround to your issue:
</I>&gt;<i> cache_mem 16 MB
</I>&gt;<i> cache deny all
</I>
Just to avoid misunderstanding, bug #5055 and virtually any other bug 
that manifests itself in FATAL messages from noteDestinationsEnd code is 
unrelated to HTTP caching and is unlikely to be mitigated by changing 
the cache memory size and/or denying HTTP caching.

Alex.


&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of pvs
</I>&gt;<i> Sent: Wednesday, April 13, 2022 19:23
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Fine tuning of Squid and OS configuration for handling more loads
</I>&gt;<i> 
</I>&gt;<i> Thanks Alex.
</I>&gt;<i> 
</I>&gt;<i> We will upgrade the squid and see if the problem recurs
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> O 12-04-2022 19:57, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 4/11/22 07:26, pvs wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> cache.log file is attached with contents narrowed down to the time
</I>&gt;&gt;&gt;<i> just before squid process oscillating (going up and down), ultimately
</I>&gt;&gt;&gt;<i> dying.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Your Squid v5.2 is probably suffering from bug #5055:
</I>&gt;&gt;<i> <A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5055">https://bugs.squid-cache.org/show_bug.cgi?id=5055</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Upgrade your Squid to v5.4.1 or later.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We tried to analyze the syslog file, squid access/cache log files,
</I>&gt;&gt;&gt;<i> not got any concrete clues.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> FWIW, look for messages mentioning words &quot;FATAL&quot;:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2022/03/02 09:05:42 kid1| FATAL: check failed: opening()
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>      exception location: tunnel.cc(1300) noteDestinationsEnd
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTH,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024715.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
	<LI>Next message (by thread): <A HREF="024717.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24716">[ date ]</a>
              <a href="thread.html#24716">[ thread ]</a>
              <a href="subject.html#24716">[ subject ]</a>
              <a href="author.html#24716">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
