<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fine tuning of Squid and OS configuration for handling more loads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fine%20tuning%20of%20Squid%20and%20OS%20configuration%20for%0A%20handling%20more%20loads&In-Reply-To=%3C000301d84f79%24acaa2ae0%2405fe80a0%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024716.html">
   <LINK REL="Next"  HREF="024709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fine tuning of Squid and OS configuration for handling more loads</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fine%20tuning%20of%20Squid%20and%20OS%20configuration%20for%0A%20handling%20more%20loads&In-Reply-To=%3C000301d84f79%24acaa2ae0%2405fe80a0%24%40gmail.com%3E"
       TITLE="[squid-users] Fine tuning of Squid and OS configuration for handling more loads">ngtech1ltd at gmail.com
       </A><BR>
    <I>Wed Apr 13 21:01:40 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024716.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
        <LI>Next message (by thread): <A HREF="024709.html">[squid-users] Squid process crashed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24717">[ date ]</a>
              <a href="thread.html#24717">[ thread ]</a>
              <a href="subject.html#24717">[ subject ]</a>
              <a href="author.html#24717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Alex for catching this!

I was sending the wrong response.
This response was related to bug report:
<A HREF="http://bugs.squid-cache.org/show_bug.cgi?id=4117">http://bugs.squid-cache.org/show_bug.cgi?id=4117</A>

Eliezer

----
Eliezer Croitoru
NgTech, Tech Support
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>

-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of
Alex Rousskov
Sent: Wednesday, April 13, 2022 23:32
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Fine tuning of Squid and OS configuration for
handling more loads

On 4/13/22 16:24, Eliezer Croitoru wrote:
&gt;<i> Can you please verify if the next is a workaround to your issue:
</I>&gt;<i> cache_mem 16 MB
</I>&gt;<i> cache deny all
</I>
Just to avoid misunderstanding, bug #5055 and virtually any other bug 
that manifests itself in FATAL messages from noteDestinationsEnd code is 
unrelated to HTTP caching and is unlikely to be mitigated by changing 
the cache memory size and/or denying HTTP caching.

Alex.


&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of
</I>pvs
&gt;<i> Sent: Wednesday, April 13, 2022 19:23
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Fine tuning of Squid and OS configuration for
</I>handling more loads
&gt;<i> 
</I>&gt;<i> Thanks Alex.
</I>&gt;<i> 
</I>&gt;<i> We will upgrade the squid and see if the problem recurs
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> O 12-04-2022 19:57, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 4/11/22 07:26, pvs wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> cache.log file is attached with contents narrowed down to the time
</I>&gt;&gt;&gt;<i> just before squid process oscillating (going up and down), ultimately
</I>&gt;&gt;&gt;<i> dying.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Your Squid v5.2 is probably suffering from bug #5055:
</I>&gt;&gt;<i> <A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5055">https://bugs.squid-cache.org/show_bug.cgi?id=5055</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Upgrade your Squid to v5.4.1 or later.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We tried to analyze the syslog file, squid access/cache log files,
</I>&gt;&gt;&gt;<i> not got any concrete clues.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> FWIW, look for messages mentioning words &quot;FATAL&quot;:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2022/03/02 09:05:42 kid1| FATAL: check failed: opening()
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>      exception location: tunnel.cc(1300) noteDestinationsEnd
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTH,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> 
</I>
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024716.html">[squid-users] Fine tuning of Squid and OS configuration for handling more loads
</A></li>
	<LI>Next message (by thread): <A HREF="024709.html">[squid-users] Squid process crashed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24717">[ date ]</a>
              <a href="thread.html#24717">[ thread ]</a>
              <a href="subject.html#24717">[ subject ]</a>
              <a href="author.html#24717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
