<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [squid-announce] Squid 5.5 is available
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%205.5%20is%20available&In-Reply-To=%3Cvmime.62666452.7d66.7c7523e2ee86472%40ms249-lin-003.rotterdam.bazuin.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024725.html">
   <LINK REL="Next"  HREF="024739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [squid-announce] Squid 5.5 is available</H1>
    <B>L.P.H. van Belle</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bsquid-announce%5D%20Squid%205.5%20is%20available&In-Reply-To=%3Cvmime.62666452.7d66.7c7523e2ee86472%40ms249-lin-003.rotterdam.bazuin.nl%3E"
       TITLE="[squid-users] [squid-announce] Squid 5.5 is available">belle at bazuin.nl
       </A><BR>
    <I>Mon Apr 25 09:05:22 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024725.html">[squid-users] [squid-announce] Squid 5.5 is available
</A></li>
        <LI>Next message (by thread): <A HREF="024739.html">[squid-users] [squid-announce] Squid 5.5 is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24738">[ date ]</a>
              <a href="thread.html#24738">[ thread ]</a>
              <a href="subject.html#24738">[ subject ]</a>
              <a href="author.html#24738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hai Amos, 

Small question on this release. I saw in the changelog.  

2.4 TrivialDB Support
This release deprecates use of BerkleyDB in favour of TrivialDB. 

I also saw in <A HREF="https://packages.debian.org/bookworm/squid">https://packages.debian.org/bookworm/squid</A> 
dep: libtdb1 (&gt;= 1.2.7+git20101214)

Now im wondering, does it still apply to use libldb1 or are there plans to move to libldb2. 

Just asking because of some changes in de builds of samba and the related packages, like ldb. 

Greetz, 

Louis


&gt;<i> -----Oorspronkelijk bericht-----
</I>&gt;<i> Van: squid-users Namens Amos Jeffries
</I>&gt;<i> Verzonden: donderdag 14 april 2022 13:22
</I>&gt;<i> Aan: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-announce at lists.squid-cache.org</A>
</I>&gt;<i> Onderwerp: [squid-users] [squid-announce] Squid 5.5 is available
</I>&gt;<i> 
</I>&gt;<i> The Squid HTTP Proxy team is very pleased to announce the
</I>&gt;<i> availability of the Squid-5.5 release!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This release is a bug fix release resolving several issues
</I>&gt;<i> found in the prior Squid-5 releases and confirming stability
</I>&gt;<i> of major functionality changes added in 5.4.1 beta release.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The major changes to be aware of:
</I>&gt;<i> 
</I>&gt;<i>   * Bug 5177: clientca certificates sent to https_port clients
</I>&gt;<i> 
</I>&gt;<i> A bug in the OpenSSL library has been causing CA certificates
</I>&gt;<i> in the Squid tls-clientca= (and previously clientca=) option
</I>&gt;<i> be added to the chain of intermediate CA's sent with TLS
</I>&gt;<i> server certificate.
</I>&gt;<i> 
</I>&gt;<i> This release makes use of an OpenSSL context mode which has
</I>&gt;<i> been made available with libssl 1.x to resolve that problem.
</I>&gt;<i> 
</I>&gt;<i> Your proxy configuration can be quickly checked for relevance
</I>&gt;<i> with the following command:
</I>&gt;<i> 
</I>&gt;<i>    squid -k parse 2&gt;&amp;1 | grep clientca
</I>&gt;<i> 
</I>&gt;<i> Admin using (tls-)clientca= option should ensure that file
</I>&gt;<i> only contains CA to validate the TLS certificates presented
</I>&gt;<i> by clients.
</I>&gt;<i> 
</I>&gt;<i> To be sent in the TLS handshake Intermediate CA certificates
</I>&gt;<i> relevant to the TLS server certificate should be listed in
</I>&gt;<i> the file(s) loaded by tls-cert=, tls-cafile= or tls-capath=
</I>&gt;<i> options.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>   * Bug 5090: Must(!request-&gt;pinnedConnection()) violation
</I>&gt;<i> 
</I>&gt;<i> This bug is most often seen when ICAP RESPMOD is used, but is
</I>&gt;<i> not related to ICAP at all. Visible bug symptoms, if any, may
</I>&gt;<i> include:
</I>&gt;<i> 
</I>&gt;<i>    FATAL: check failed: !request-&gt;pinnedConnection()
</I>&gt;<i>    exception location: FwdState.cc(1124) connectStart
</I>&gt;<i> 
</I>&gt;<i>    FATAL: check failed: transportWait
</I>&gt;<i>    exception location: FwdState.cc(675) noteDestinationsEnd
</I>&gt;<i> 
</I>&gt;<i> The bug was actually incorrect handling of servers or peers
</I>&gt;<i> whose selection takes unusually long times.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>   * Kid restart leads to persistent queue overflows, delays/timeouts
</I>&gt;<i> 
</I>&gt;<i> This bug appears in cache.log as any of the following messages:
</I>&gt;<i> 
</I>&gt;<i>    WARNING: communication with ... may be too slow or disrupted...
</I>&gt;<i>    WARNING: abandoning ... I/Os
</I>&gt;<i>    ERROR: worker I/O push queue for ... overflow...
</I>&gt;<i>    ERROR: Collapsed forwarding queue overflow...
</I>&gt;<i> 
</I>&gt;<i> When one of the SMP worker processes ('kid') crashes or otherwise
</I>&gt;<i> exits without cleaning up the SMP memory it was using, the worker
</I>&gt;<i> process started to replace it has to automatically recover from
</I>&gt;<i> memory corruption. Previous Squid releases did not recover well
</I>&gt;<i> from at least the above listed types of corruption.
</I>&gt;<i> 
</I>&gt;<i> This release greatly strengthens the recovery process making
</I>&gt;<i> Squid much more robust after a worker crash.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>   * Bug 5192: esi_parser default is incorrect
</I>&gt;<i> 
</I>&gt;<i> This bug appears when Squid is built with both libexpat and
</I>&gt;<i> libxml2 available. Updates in Squid-4 unintentionally altered
</I>&gt;<i> the default selected to libexpat. This release returns the
</I>&gt;<i> default to libxml2 as documented in squid.conf.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    All users of Squid-5 are encouraged to upgrade as soon as
</I>&gt;<i>    possible.
</I>&gt;<i> 
</I>&gt;<i>    Users of Squid-4 holding back due to earlier release issues
</I>&gt;<i>    are encouraged to test this version for upgrade.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> See the ChangeLog for the full list of changes in this and
</I>&gt;<i> earlier releases.
</I>&gt;<i> 
</I>&gt;<i> Please refer to the release notes at
</I>&gt;<i> <A HREF="http://www.squid-cache.org/Versions/v5/RELEASENOTES.html">http://www.squid-cache.org/Versions/v5/RELEASENOTES.html</A>
</I>&gt;<i> when you are ready to make the switch to Squid-5
</I>&gt;<i> 
</I>&gt;<i> This new release can be downloaded from our HTTP or FTP servers
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://www.squid-cache.org/Versions/v5/">http://www.squid-cache.org/Versions/v5/</A>
</I>&gt;<i>    <A HREF="ftp://ftp.squid-cache.org/pub/squid/">ftp://ftp.squid-cache.org/pub/squid/</A>
</I>&gt;<i>    <A HREF="ftp://ftp.squid-cache.org/pub/archive/5/">ftp://ftp.squid-cache.org/pub/archive/5/</A>
</I>&gt;<i> 
</I>&gt;<i> or the mirrors. For a list of mirror sites see
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://www.squid-cache.org/Download/http-mirrors.html">http://www.squid-cache.org/Download/http-mirrors.html</A>
</I>&gt;<i>    <A HREF="http://www.squid-cache.org/Download/mirrors.html">http://www.squid-cache.org/Download/mirrors.html</A>
</I>&gt;<i> 
</I>&gt;<i> If you encounter any issues with this release please file a bug
</I>&gt;<i> report.
</I>&gt;<i>    <A HREF="https://bugs.squid-cache.org/">https://bugs.squid-cache.org/</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Amos Jeffries
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-announce mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-announce at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-announce">http://lists.squid-cache.org/listinfo/squid-announce</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024725.html">[squid-users] [squid-announce] Squid 5.5 is available
</A></li>
	<LI>Next message (by thread): <A HREF="024739.html">[squid-users] [squid-announce] Squid 5.5 is available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24738">[ date ]</a>
              <a href="thread.html#24738">[ thread ]</a>
              <a href="subject.html#24738">[ subject ]</a>
              <a href="author.html#24738">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
