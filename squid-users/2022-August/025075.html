<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid and Epic Games HCapctca
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20Epic%20Games%20HCapctca&In-Reply-To=%3CCAP9Tep4pbvbC_OZSvB%2BqXDVuZZffZ0rH5KVo4ZSNoXcU1nncDg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025074.html">
   <LINK REL="Next"  HREF="025076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid and Epic Games HCapctca</H1>
    <B>Adam Barnett</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20and%20Epic%20Games%20HCapctca&In-Reply-To=%3CCAP9Tep4pbvbC_OZSvB%2BqXDVuZZffZ0rH5KVo4ZSNoXcU1nncDg%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid and Epic Games HCapctca">abarnett at belofx.com
       </A><BR>
    <I>Thu Aug  4 21:43:36 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025074.html">[squid-users] Squid and Epic Games HCapctca
</A></li>
        <LI>Next message (by thread): <A HREF="025076.html">[squid-users] Squid and Epic Games HCapctca
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25075">[ date ]</a>
              <a href="thread.html#25075">[ thread ]</a>
              <a href="subject.html#25075">[ subject ]</a>
              <a href="author.html#25075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sure, the more the beter, ive been banging my head against the wall for a
while on this

Adam

On Thu, 4 Aug 2022 at 22:41, &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; wrote:

&gt;<i> You are welcome.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I wrote an app that does everything for me so I just need to dump the
</I>&gt;<i> database into a:
</I>&gt;<i>
</I>&gt;<i> ssl::server_name directive
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> it&#8217;s basically:
</I>&gt;<i>
</I>&gt;<i> ## START
</I>&gt;<i>
</I>&gt;<i> acl NoBump_server_name ssl::server_name &quot;/etc/squid/no-ssl-bump-server-
</I>&gt;<i> name.list&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> acl tls_to_splice any-of inspect_only NoBump_src NoBump_server_name
</I>&gt;<i> NoBump_server_regex_by_urls_domain NoBump_server_regex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ssl_bump peek app_matcher_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump peek tls_s1_connect
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ssl_bump bump app_matcher_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump bump app_reader_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump bump deny_note
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ssl_bump splice app_matcher_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump splice tls_to_splice
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ssl_bump stare app_matcher_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump stare tls_s2_client_hello
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ssl_bump bump app_matcher_helper
</I>&gt;<i>
</I>&gt;<i> ssl_bump bump tls_to_bump
</I>&gt;<i>
</I>&gt;<i> ## END
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you want I can upload a snippet of the whole setup dump with hope you
</I>&gt;<i> could make use of it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i>
</I>&gt;<i> NgTech, Tech Support
</I>&gt;<i>
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i>
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>
</I>&gt;<i>
</I>&gt;<i> Web: <A HREF="https://ngtech.co.il/">https://ngtech.co.il/</A>
</I>&gt;<i>
</I>&gt;<i> My-Tube: <A HREF="https://tube.ngtech.co.il/">https://tube.ngtech.co.il/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* Adam Barnett &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">abarnett at belofx.com</A>&gt;
</I>&gt;<i> *Sent:* Friday, 5 August 2022 0:26
</I>&gt;<i> *To:* <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>
</I>&gt;<i> *Cc:* <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> *Subject:* Re: [squid-users] Squid and Epic Games HCapctca
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#1514;&#1493;&#1491;&#1492; &#1512;&#1489;&#1492;
</I>&gt;<i> It looks like you are using a database and then building the config from
</I>&gt;<i> that? any cahnce you can send me the snippet of the config instead of the
</I>&gt;<i> DB bits? ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks again
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Adam
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, 4 Aug 2022 at 22:18, &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Hey Adam,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I recorded a video for you on how I do it at:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://cloud1.ngtech.co.il/static/squid-data/splice-epic-games.mp4">https://cloud1.ngtech.co.il/static/squid-data/splice-epic-games.mp4</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So basically the relevant domains are:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> epicgames-download1.akamaized.net
</I>&gt;<i>
</I>&gt;<i> .epicgames.com
</I>&gt;<i>
</I>&gt;<i> .unrealengine.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And you can peek at robert k Wild mail: &#8220;regex for normal websites&#8221;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And it contains the relevant technical details.
</I>&gt;<i>
</I>&gt;<i> If for any reason you need a more detailed answer let me know.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yours,
</I>&gt;<i>
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i>
</I>&gt;<i> NgTech, Tech Support
</I>&gt;<i>
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i>
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>
</I>&gt;<i>
</I>&gt;<i> Web: <A HREF="https://ngtech.co.il/">https://ngtech.co.il/</A>
</I>&gt;<i>
</I>&gt;<i> My-Tube: <A HREF="https://tube.ngtech.co.il/">https://tube.ngtech.co.il/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; *On
</I>&gt;<i> Behalf Of *Adam Barnett
</I>&gt;<i> *Sent:* Thursday, 4 August 2022 14:28
</I>&gt;<i> *To:* <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> *Subject:* [squid-users] Squid and Epic Games HCapctca
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am trying to get squid to allow me to login to Epicgames.com with my
</I>&gt;<i> epic login, i get to the login page and get the hcaptca images and
</I>&gt;<i> everytime i get &quot;invalid response&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> i looked at the headers and the only error that i can see is &quot;The
</I>&gt;<i> cache information is missing from the entry&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My config looks like so
</I>&gt;<i>
</I>&gt;<i> workers 2
</I>&gt;<i>
</I>&gt;<i> ```
</I>&gt;<i> # Leave coredumps in the first cache dir
</I>&gt;<i> coredump_dir /var/spool/squid
</I>&gt;<i>
</I>&gt;<i> http_port 3128 ssl-bump  dynamic_cert_mem_cache_size=16MB
</I>&gt;<i>  generate-host-certificates=on cert=/etc/squid/certs/squid-ca-cert-key.pem
</I>&gt;<i>
</I>&gt;<i> sslcrtd_program /usr/lib64/squid/security_file_certgen -s
</I>&gt;<i> /var/spool/squid/ssl -M 16MB
</I>&gt;<i> dns_nameservers 10.5.1.2 8.8.8.8
</I>&gt;<i> visible_hostname foo-proxy-1
</I>&gt;<i> forwarded_for truncate
</I>&gt;<i> via off
</I>&gt;<i>
</I>&gt;<i> # Send to file
</I>&gt;<i> access_log daemon:/var/log/squid/access.log
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> acl CONNECT method CONNECT
</I>&gt;<i> acl local src 10.0.0.0/8
</I>&gt;<i> always_direct allow all
</I>&gt;<i> request_header_add X-GoogApps-Allowed-Domains &quot;foo.com&quot; all
</I>&gt;<i>
</I>&gt;<i> memory_replacement_policy heap GDSF
</I>&gt;<i> maximum_object_size 100 KB
</I>&gt;<i> maximum_object_size 1 MB
</I>&gt;<i>
</I>&gt;<i> cache allow all
</I>&gt;<i> cache_mem 256 MB
</I>&gt;<i> cache_dir rock /var/spool/squid 1024
</I>&gt;<i> memory_pools off
</I>&gt;<i> cache_swap_low 90
</I>&gt;<i> client_persistent_connections on
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> http_access allow localhost manager
</I>&gt;<i> http_access deny manager
</I>&gt;<i>
</I>&gt;<i> # SquidGaurd
</I>&gt;<i> url_rewrite_program /usr/bin/squidGuard
</I>&gt;<i> ```
</I>&gt;<i>
</I>&gt;<i> Any suggestions?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Adam Barnett
</I>&gt;<i> Senior SysAdmin beloFX
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">abarnett at belofx.com</A>
</I>&gt;<i> &lt;<A HREF="https://514584150-atari-embeds.googleusercontent.com/embeds/16cb204cf3a9d4d223a0a3fd8b0eec5d/inner-frame-minified.html?jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.en.dzXZWX9QTbE.O%2Fd%3D1%2Frs%3DAHpOoo_epIQDPHdjFr3MLkazUi2Jmy50dQ%2Fm%3D__features__">https://514584150-atari-embeds.googleusercontent.com/embeds/16cb204cf3a9d4d223a0a3fd8b0eec5d/inner-frame-minified.html?jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.en.dzXZWX9QTbE.O%2Fd%3D1%2Frs%3DAHpOoo_epIQDPHdjFr3MLkazUi2Jmy50dQ%2Fm%3D__features__</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> www.belofx.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> LinkedIn &lt;<A HREF="http://www.linkedin.com/company/belofx">http://www.linkedin.com/company/belofx</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220804/20933374/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220804/20933374/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025074.html">[squid-users] Squid and Epic Games HCapctca
</A></li>
	<LI>Next message (by thread): <A HREF="025076.html">[squid-users] Squid and Epic Games HCapctca
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25075">[ date ]</a>
              <a href="thread.html#25075">[ thread ]</a>
              <a href="subject.html#25075">[ subject ]</a>
              <a href="author.html#25075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
