<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 4.8+ intercept
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.8%2B%20intercept&In-Reply-To=%3Cea8f3486-f341-6b05-31a1-2a7c49ae6c9b%40spamtrap.tnetconsulting.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025094.html">
   <LINK REL="Next"  HREF="025102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 4.8+ intercept</H1>
    <B>Grant Taylor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%204.8%2B%20intercept&In-Reply-To=%3Cea8f3486-f341-6b05-31a1-2a7c49ae6c9b%40spamtrap.tnetconsulting.net%3E"
       TITLE="[squid-users] Squid 4.8+ intercept">gtaylor at tnetconsulting.net
       </A><BR>
    <I>Thu Aug 11 03:47:32 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025094.html">[squid-users] Squid 4.8+ intercept
</A></li>
        <LI>Next message (by thread): <A HREF="025102.html">[squid-users] Squid 4.8+ intercept
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25098">[ date ]</a>
              <a href="thread.html#25098">[ thread ]</a>
              <a href="subject.html#25098">[ subject ]</a>
              <a href="author.html#25098">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/10/22 3:47 AM, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A> wrote:
&gt;<i> If the proxy sits in the same network that the clients sit it won&#8217;t work.
</I>
Why not?

Is this because of -- what I call -- the TCP triangle problem?  - 
Meaning that Squid sees the source as the client and replies directly?

If that's the case, you can cheat by SNATing the traffic that's going to 
Squid such that Squid sees the router as the source of the traffic. 
Thus Squid replies to the router which unDNATs it and sends it back to 
the original / real client.

Aside:  Isn't this what WCCP was originally meant to address?  Is WCCP a 
non-starter any more?  Even with TLS bump / monkey in the middle?



-- 
Grant. . . .
unix || die

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4017 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220810/c9b8ea4d/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220810/c9b8ea4d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025094.html">[squid-users] Squid 4.8+ intercept
</A></li>
	<LI>Next message (by thread): <A HREF="025102.html">[squid-users] Squid 4.8+ intercept
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25098">[ date ]</a>
              <a href="thread.html#25098">[ thread ]</a>
              <a href="subject.html#25098">[ subject ]</a>
              <a href="author.html#25098">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
