<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid as Reverse Proxy with Parent Proxy, http inbound and https outbound
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20Reverse%20Proxy%20with%20Parent%20Proxy%2C%0A%20http%20inbound%20and%20https%20outbound&In-Reply-To=%3CCADuf9gJDuZ7qrUZwiaDYNxuHdwga0Awx8RkVrM3QHP4rNsSF%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025114.html">
   <LINK REL="Next"  HREF="025103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid as Reverse Proxy with Parent Proxy, http inbound and https outbound</H1>
    <B>Joel Howard</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20as%20Reverse%20Proxy%20with%20Parent%20Proxy%2C%0A%20http%20inbound%20and%20https%20outbound&In-Reply-To=%3CCADuf9gJDuZ7qrUZwiaDYNxuHdwga0Awx8RkVrM3QHP4rNsSF%2Bg%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid as Reverse Proxy with Parent Proxy, http inbound and https outbound">jhoward at tetrascience.com
       </A><BR>
    <I>Thu Aug 11 20:00:12 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025114.html">[squid-users] Unsubscribe me please
</A></li>
        <LI>Next message (by thread): <A HREF="025103.html">[squid-users] Squid as Reverse Proxy with Parent Proxy, http inbound and https outbound
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25101">[ date ]</a>
              <a href="thread.html#25101">[ thread ]</a>
              <a href="subject.html#25101">[ subject ]</a>
              <a href="author.html#25101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm trying to use Squid (3.5.27, in a docker container) as a non-caching
reverse proxy with http inbound and https outbound, to support an
application that requires a proxy for internet access but does not allow
proxy configuration (and I do not have access to the application's host
machine). Ideally the squid proxy itself would not have a tls cert, since
inbound traffic would be http, and I would like to add headers.

What keeps stopping me is that I also need to support a parent forward
proxy, which itself may support http or https inbound.

I've tried the various examples here
&lt;<A HREF="https://wiki.squid-cache.org/SquidFaq/ReverseProxy">https://wiki.squid-cache.org/SquidFaq/ReverseProxy</A>&gt;, but I'm struggling to
&quot;flip&quot; the proxy direction - receive the request as a reverse proxy,
configure the outbound request appropriately, and then send it on *via* the
parent proxy. I'm not sure if cache_peers can be &quot;chained&quot; like this, or if
they can't, how I can configure the single cache_peer so that proxied https
works correctly.

This is my first foray into complex proxy configuration, so I'm not sure
whether I'm close or completely off base. Can provide more details or try
any suggestions.

Thanks!

-- 

*Joel Howard*
Software Technical Lead
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">jhoward at tetrascience.com</A> | (330) 209-5779

[image: Logo Description automatically generated]
&lt;<A HREF="http://www.tetrascience.com">http://www.tetrascience.com</A>&gt;

&lt;<A HREF="https://www.linkedin.com/company/tetrascience">https://www.linkedin.com/company/tetrascience</A>&gt;
&lt;<A HREF="https://twitter.com/TetraScience">https://twitter.com/TetraScience</A>&gt;
&lt;<A HREF="https://www.youtube.com/channel/UCxAIGW2oF5jgJ062pax98UQ">https://www.youtube.com/channel/UCxAIGW2oF5jgJ062pax98UQ</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220811/15cf15f6/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220811/15cf15f6/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025114.html">[squid-users] Unsubscribe me please
</A></li>
	<LI>Next message (by thread): <A HREF="025103.html">[squid-users] Squid as Reverse Proxy with Parent Proxy, http inbound and https outbound
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25101">[ date ]</a>
              <a href="thread.html#25101">[ thread ]</a>
              <a href="subject.html#25101">[ subject ]</a>
              <a href="author.html#25101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
