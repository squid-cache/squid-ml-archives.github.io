<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205.2%20TCP_MISS_ABORTED/100%20erros%20when%0A%20uploading&In-Reply-To=%3C654ad586-ff1a-35ff-5fb6-08272c5d8f0f%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025156.html">
   <LINK REL="Next"  HREF="025151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205.2%20TCP_MISS_ABORTED/100%20erros%20when%0A%20uploading&In-Reply-To=%3C654ad586-ff1a-35ff-5fb6-08272c5d8f0f%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Aug 29 12:52:50 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025156.html">[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading
</A></li>
        <LI>Next message (by thread): <A HREF="025151.html">[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25144">[ date ]</a>
              <a href="thread.html#25144">[ thread ]</a>
              <a href="subject.html#25144">[ subject ]</a>
              <a href="author.html#25144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/29/22 06:17, David Ferreira wrote:

&gt;<i> I have some squid's running on rocky linux 8 with verion 4.15, recently 
</I>&gt;<i> been testing squid version 5.2(stable version that comes with Rocky 9)to 
</I>&gt;<i> upgrade the current ones and most of the configs/acls seem to work fine.
</I>&gt;<i> 
</I>&gt;<i> Unfortualy theres an application that we use that everytime it tries to 
</I>&gt;<i> upload files it fails on squid 5.2, on 4.15 is works completly fine, so 
</I>&gt;<i> far ive test on squid 5.2 and 5.5 and it's the same behavior, im testing 
</I>&gt;<i> this with default configurations and it always works on 4.15, access log 
</I>&gt;<i> only shows this:
</I>&gt;<i> 
</I>&gt;<i> Squid 4.15:
</I>&gt;<i> 26/Aug/2022:15:36:08 +0100 &#160;&#160;&#160;273 172.19.222.132TCP_MISS/200 745 POST <A HREF="http://websiteurl/index.php">http://websiteurl/index.php</A> - HIER_DIRECT/websitedomain text/xml
</I>&gt;<i> 
</I>&gt;<i> Squid 5.2:
</I>&gt;<i> 25/Aug/2022:15:10:00 +0100 &#160;&#160;&#160;139 172.19.222.132 TCP_MISS_ABORTED/100 0 POST <A HREF="http://websiteurl">http://websiteurl</A> HIER_DIRECT/websitedomain -
</I>&gt;<i> 
</I>&gt;<i> anyone has an ideia of what may be happening here?, been searching about 
</I>&gt;<i> http errors 100 and so far i did not find anything that points me to the 
</I>&gt;<i> problem.
</I>&gt;<i> 
</I>&gt;<i> On the application side the error it shows when it tries to upload is:
</I>&gt;<i> &quot;
</I>&gt;<i> Error storing the document on the server
</I>&gt;<i> Detail HTTP error 100
</I>&gt;<i> Send failure: Connection was aborted (55)
</I>&gt;<i> &quot;
</I>
Squid v5.2 has many serious bugs. I would not use it in production. 
Build the latest Squid v5 from sources if you have to.


If the latest Squid v5 shows the same problem then this is probably a 
client application or Squid bug/misconfiguration. There were quite a few 
changes in HTTP 1xx control message handling since Squid v4, and one of 
those changes is probably affecting your client. For example, either 
Squid v4 does not deliver that 100 control message to the client at all 
or it is delivering a slightly different 100 control message that your 
client is happy with.
  If you share what HTTP messages are exchanged between client and Squid 
and between Squid and the origin server, in both successful and failing 
use cases, we may be able to tell you more. I would use tcpdump, 
wireshark, or a similar tool to collect HTTP traffic since these are 
non-TLS transactions.


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025156.html">[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading
</A></li>
	<LI>Next message (by thread): <A HREF="025151.html">[squid-users] Squid 5.2 TCP_MISS_ABORTED/100 erros when uploading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25144">[ date ]</a>
              <a href="thread.html#25144">[ thread ]</a>
              <a href="subject.html#25144">[ subject ]</a>
              <a href="author.html#25144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
