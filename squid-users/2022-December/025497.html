<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Whatsapp web on Squid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Whatsapp%20web%20on%20Squid&In-Reply-To=%3C9c5f18c2-90a0-48d0-37d4-50cec5614d69%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025496.html">
   <LINK REL="Next"  HREF="025498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Whatsapp web on Squid</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Whatsapp%20web%20on%20Squid&In-Reply-To=%3C9c5f18c2-90a0-48d0-37d4-50cec5614d69%40treenet.co.nz%3E"
       TITLE="[squid-users] Whatsapp web on Squid">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Dec  5 14:45:33 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025496.html">[squid-users] Whatsapp web on Squid
</A></li>
        <LI>Next message (by thread): <A HREF="025498.html">[squid-users] Setting header with external auth helper error message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25497">[ date ]</a>
              <a href="thread.html#25497">[ thread ]</a>
              <a href="subject.html#25497">[ subject ]</a>
              <a href="author.html#25497">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/12/2022 2:07 am, Andrew Wood wrote:
&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> Can anyone help me with Whatsapp web and Yahoo mail not working via a 
</I>&gt;<i> Squid proxy please?
</I>&gt;<i>
</I>&gt;<i> The only reference I can find online to Whatsapp refers to SSL bumping 
</I>&gt;<i> which we are not using. Clients are explicitly configured to send 
</I>&gt;<i> HTTPS traffic to Squid on port 3129, but according to the Squid log 
</I>&gt;<i> Whatsapp server is responding with 403.
</I>
The only way Squid can see what HTTP status the origin server is 
responding with is by using SSL-Bump to decrypt the traffic.

If you are seeing 403 in your squid access.log without SSL-Bump that 
would the traffic forbidden explicitly by your http_access policy in 
squid.conf.
We might be able to help with that, but you will need to first post your 
config and the access.log entries for failing transactions you are 
trying to solve.


&gt;<i>
</I>&gt;<i> Likewise although Yahoo webmail works, accessing it via IMAP from 
</I>&gt;<i> Thunderbird is failing. This seems to be because it uses OAuth2 for 
</I>&gt;<i> authentication over port 443 and again Yahoos server responds with 403.
</I>
IMAP is a completely different protocol on port 143 (not 443) and should 
not be going through Squid. Mail protocols and HTTP have similar enough 
on-wire syntax to confuse each others parsers and different enough to 
break badly when the messages get relayed/proxied.


HTH
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025496.html">[squid-users] Whatsapp web on Squid
</A></li>
	<LI>Next message (by thread): <A HREF="025498.html">[squid-users] Setting header with external auth helper error message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25497">[ date ]</a>
              <a href="thread.html#25497">[ thread ]</a>
              <a href="subject.html#25497">[ subject ]</a>
              <a href="author.html#25497">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
