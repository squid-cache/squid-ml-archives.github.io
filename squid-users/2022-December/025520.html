<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] URL filtering technical
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20URL%20filtering%20technical&In-Reply-To=%3Ca2b44568-077f-f4e6-6a2e-a0d04a02817e%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025519.html">
   <LINK REL="Next"  HREF="025521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] URL filtering technical</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20URL%20filtering%20technical&In-Reply-To=%3Ca2b44568-077f-f4e6-6a2e-a0d04a02817e%40treenet.co.nz%3E"
       TITLE="[squid-users] URL filtering technical">squid3 at treenet.co.nz
       </A><BR>
    <I>Thu Dec 22 09:36:34 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025519.html">[squid-users] URL filtering technical
</A></li>
        <LI>Next message (by thread): <A HREF="025521.html">[squid-users] LEGACY_SERVER_CONNECT, ALLOW_UNSAFE_LEGACY_RENEGOTIATION does not work - SSL bump, OpenSSL 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25520">[ date ]</a>
              <a href="thread.html#25520">[ thread ]</a>
              <a href="subject.html#25520">[ subject ]</a>
              <a href="author.html#25520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/12/2022 10:06 am, Lucas Vicente Pereira wrote:
&gt;<i>
</I>&gt;<i> Good Evening, Community
</I>&gt;<i>
</I>&gt;<i> When thinking about URL filtering (http and or https), Which one is 
</I>&gt;<i> the best technique you recommend for integration with Squid 5.7?
</I>&gt;<i>
</I>
We cannot answer that question. &quot;best&quot; is subjective and depends on your 
use-case.

Please define what exactly you mean by &quot;URL filtering&quot; - that term can 
mean a lot of things not actually about &quot;URL&quot;, nor &quot;filter&quot;s.


&gt;<i> 1 - External_acl (e.g.:
</I>&gt;<i>
</I>
 &#160;** Access control

Squid API intended for access control using calculations difficult or 
not possible with Squid built-in ACL logic.

Complexity of the rules and helper implementation determines the impact 
on traffic.
Limited to meta data about a transaction.


&gt;<i> 2 - I-CAP Servers
</I>&gt;<i>
</I>
** This is for Content Adaptation

This passes the whole message, all its payload etc *everything* goes out 
from Squid to the ICAP server, then comes back in and gets re-parsed. 
Even with protocol optimizations this can cause up to double the 
processing lag for traffic going through the proxy.

 &#160;* eCAP which you omitted is similar but without nearly as much 
overhead costs as ICAP.

Ideally these should only be used when the adaptor logic is doing things 
with the message content, or complex header manipulations.


&gt;<i> 3 - url_rewrite_program (eg:
</I>&gt;<i>
</I>&gt;<i> url_rewrite_program /sbin/webfilter - url_rewrite_children 16 m 4 
</I>&gt;<i> startup=8 idle=2 concurrency= -l /var/squid/logs 4
</I>&gt;<i>
</I>
** This is for reverse-proxy / CDN internal URL modification

This API is for changing the URL (only) provided by the client **before* 
it gets fetched by Squid.
It should only be used by reverse-proxy traffic for /path?query of URLs. 
Protocol scheme, hostname changes should be done by cache_peer options.
Please do not use for access control - use external_acl_type instead.


HTH
Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025519.html">[squid-users] URL filtering technical
</A></li>
	<LI>Next message (by thread): <A HREF="025521.html">[squid-users] LEGACY_SERVER_CONNECT, ALLOW_UNSAFE_LEGACY_RENEGOTIATION does not work - SSL bump, OpenSSL 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25520">[ date ]</a>
              <a href="thread.html#25520">[ thread ]</a>
              <a href="subject.html#25520">[ subject ]</a>
              <a href="author.html#25520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
