<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid log shows peer_response_time = 0 and status is 200
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20log%20shows%20peer_response_time%20%3D%200%20and%20status%0A%20is%20200&In-Reply-To=%3C51d6dde5-d0b9-4d7d-a47f-cd17dfe7d1ab%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025536.html">
   <LINK REL="Next"  HREF="025540.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid log shows peer_response_time = 0 and status is 200</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20log%20shows%20peer_response_time%20%3D%200%20and%20status%0A%20is%20200&In-Reply-To=%3C51d6dde5-d0b9-4d7d-a47f-cd17dfe7d1ab%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid log shows peer_response_time = 0 and status is 200">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Dec 29 22:31:21 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025536.html">[squid-users] Squid log shows peer_response_time = 0 and status is 200
</A></li>
        <LI>Next message (by thread): <A HREF="025540.html">[squid-users] Squid log shows peer_response_time = 0 and status is 200
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25537">[ date ]</a>
              <a href="thread.html#25537">[ thread ]</a>
              <a href="subject.html#25537">[ subject ]</a>
              <a href="author.html#25537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/29/22 16:17, Raghav P wrote:
&gt;<i> We have a squid proxy configured as a forward proxy. But we see that for 
</I>&gt;<i> some requests the log shows peer_response_time =0 but has status is 200. 
</I>&gt;<i> At times users on their browser see this as a page not loading.
</I>&gt;<i> 
</I>&gt;<i> As we couldn't find documentation around this. We wish to know what this 
</I>&gt;<i> actually means and if this is an issue how to resolve it.
</I>
It is difficult to say for sure what is going on without a lot more 
details, but it is likely that Squid experienced some kind of an error 
after receiving the beginning of a 200 OK response from the peer. I am 
guessing that when handling certain kinds of errors, Squid may forget to 
update the transaction response time clock and log zero. It is also 
possible, in some environments, that the transaction took less than one 
millisecond.

I recommend configuring Squid to log all the standard fields in &quot;squid&quot; 
logformat, including %Ss (you probably log that already) and to add 
%err_code/%err_detail fields (you probably do not log those now). Share 
the values of those three specific fields (at least) with this mailing 
list. In general, the more logged fields you can share, the higher are 
the chances that somebody here will know what is going on with those 
transactions.

You may also want to mention whether these transactions are HTTP or 
HTTPS, and, if HTTPS, whether your Squid has ssl_bump rules for those 
transactions.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025536.html">[squid-users] Squid log shows peer_response_time = 0 and status is 200
</A></li>
	<LI>Next message (by thread): <A HREF="025540.html">[squid-users] Squid log shows peer_response_time = 0 and status is 200
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25537">[ date ]</a>
              <a href="thread.html#25537">[ thread ]</a>
              <a href="subject.html#25537">[ subject ]</a>
              <a href="author.html#25537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
