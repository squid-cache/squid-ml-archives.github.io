<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] The status of AIA ie: TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20The%20status%20of%20AIA%20ie%3A%20TLS%20code%3A%0A%20X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY%20%3F&In-Reply-To=%3C292723c1-4ff0-fdbb-1682-d8aecb1095c8%40urlfilterdb.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024479.html">
   <LINK REL="Next"  HREF="024488.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] The status of AIA ie: TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY ?</H1>
    <B>Marcus Kool</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20The%20status%20of%20AIA%20ie%3A%20TLS%20code%3A%0A%20X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY%20%3F&In-Reply-To=%3C292723c1-4ff0-fdbb-1682-d8aecb1095c8%40urlfilterdb.com%3E"
       TITLE="[squid-users] The status of AIA ie: TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY ?">marcus.kool at urlfilterdb.com
       </A><BR>
    <I>Sat Feb  5 18:25:43 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024479.html">[squid-users] The status of AIA ie: TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY ?
</A></li>
        <LI>Next message (by thread): <A HREF="024488.html">[squid-users] External helper consumes too many DB connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24480">[ date ]</a>
              <a href="thread.html#24480">[ thread ]</a>
              <a href="subject.html#24480">[ subject ]</a>
              <a href="author.html#24480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;<i> I would have expected that the remote host ip:port and sni would be logged
</I>&gt;&gt;<i> as well in the above mentioned line.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> SNI is one of the details TLS/1.3 encrypts now&#160; :(
</I>
To prevent misunderstandings, TLS 1.3 does not encrypt the SNI.

See <A HREF="https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni">https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni</A> :
Although TLS 1.3 [RFC8446  &lt;<A HREF="https://datatracker.ietf.org/doc/html/rfc8446">https://datatracker.ietf.org/doc/html/rfc8446</A>&gt;] encrypts most of the handshake, including
the server certificate, there are several ways in which an on-path
attacker can learn private information about the connection.  The
plaintext Server Name Indication (SNI) extension in ClientHello
messages, which leaks the target domain for a given connection, is
perhaps the most sensitive, unencrypted information in TLS 1.3.

However, there is an optional TLS 1.3 extension that may encrypt the SNI and refers to it as ESNI.

Marcus


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220205/f818199f/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220205/f818199f/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024479.html">[squid-users] The status of AIA ie: TLS code: X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY ?
</A></li>
	<LI>Next message (by thread): <A HREF="024488.html">[squid-users] External helper consumes too many DB connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24480">[ date ]</a>
              <a href="thread.html#24480">[ thread ]</a>
              <a href="subject.html#24480">[ subject ]</a>
              <a href="author.html#24480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
