<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Need Urgent Help the CPU load shows 99% for the squid process
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Need%20Urgent%20Help%20the%20CPU%20load%20shows%2099%25%20for%20the%20squid%0A%20process&In-Reply-To=%3C61D29B92.6030803%40cdot.in%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="024368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Need Urgent Help the CPU load shows 99% for the squid process</H1>
    <B>Punyasloka Arya</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Need%20Urgent%20Help%20the%20CPU%20load%20shows%2099%25%20for%20the%20squid%0A%20process&In-Reply-To=%3C61D29B92.6030803%40cdot.in%3E"
       TITLE="[squid-users] Need Urgent Help the CPU load shows 99% for the squid process">psa at cdot.in
       </A><BR>
    <I>Mon Jan  3 06:45:38 UTC 2022</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="024368.html">[squid-users] Need Urgent Help the CPU load shows 99% for the squid process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24367">[ date ]</a>
              <a href="thread.html#24367">[ thread ]</a>
              <a href="subject.html#24367">[ subject ]</a>
              <a href="author.html#24367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear ALL,

*I need a quick help regarding the squid process occupying 100% CPU 
showing on the top and becomes slow.

*After starting the squid after 2 to 3 hours it is happening.
After stopping the squid process it becomes normal.


Squid installed version

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid at wcb</A> ~]$  /usr/squid/3.1/sbin/squid -version
Squid Cache: Version 3.3.3
configure options:  '--prefix=/usr/squid/3.1/' 
'--enable-storeio=ufs,aufs,diskd' '--enable-removal-policies=heap,lru' 
'--enable-delay-pools' '--enable-useragent-log' '--enable-referer-log' 
'--enable-icmp' '--enable-cachemgr-hostname=wc.cdotb.ernet.in' 
'--enable-follow-x-forwarded-for' '--disable-ident-lookups' 
'--enable-auth-basic=PAM,NCSA,LDAP' '--sysconfdir=/etc/squid/' 
'--with-default-user=squid' '--with-logdir=/var/log/squid' 
'--with-pidfile=/var/run/squid.pid' '--with-filedescriptors=16384' 
'--with-swapdir=/cache/squid' '--enable-ltdl-convenience'

HARDWARE       : Fujitsu Celsius Xeon Workstation Intel(R) Xeon(R) CPU 
E5-2690 0 @ 2.90GHz 16CPU 8-Core
HARDDISK          : 500GB
RAM                   :24 GB
OS                       : CentOS 6.10(final)


The output of the command  after load is 99% in the CPU

[<A HREF="https://lists.squid-cache.org/listinfo/squid-users">root at wcb</A> squid]#  tail -n 100000 /var/log/squid/cache.log | grep -i 
descript

2022/01/02 11:49:32 kid1| WARNING! Your cache is running out of 
filedescriptors
2022/01/02 11:49:48 kid1| WARNING! Your cache is running out of 
filedescriptors
2022/01/02 11:50:04 kid1| WARNING! Your cache is running out of 
filedescriptors
2022/01/02 11:50:20 kid1| WARNING! Your cache is running out of 
filedescriptors

Please suggest anything else i should check or missing.

From
Punyasloka Arya

From
Punya
PUNYASLOKA ARYA            &#2346;&#2369;&#2339;&#2381;&#2351;&#2358;&#2381;&#2354;&#2379;&#2325; &#2310;&#2352;&#2381;&#2351;&#2366;
Staffno:3880,Netops,TS(B)
Senior Research Engineer   &#2357;&#2352;&#2367;&#2359;&#2381;&#2336; &#2309;&#2344;&#2369;&#2360;&#2306;&#2343;&#2366;&#2344; &#2309;&#2349;&#2367;&#2351;&#2306;&#2340;&#2366;
C-DOT                      &#2360;&#2368;-&#2337;&#2377;&#2335;
Electronics City,Phase-1 &#2311;&#2354;&#2376;&#2325;&#2381;&#2335;&#2381;&#2352;&#2377;&#2344;&#2367;&#2325;&#2381;&#2360; &#2360;&#2367;&#2335;&#2368; &#2347;&#2375;&#2332;&#2364; I
Hosur Road,Bangalore       &#2361;&#2379;&#2360;&#2370;&#2352; &#2352;&#2379;&#2337;, &#2348;&#2375;&#2306;&#2327;&#2354;&#2370;&#2352;&#2369;
560100                     560100
### Please consider the environment and print this email only if necessary
.
Go Green ###

Disclaimer :
This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient you are notified that disclosing,
copying, distributing or taking any action in reliance on the contents of
this
information is strictly prohibited. The sender does not accept liability
for any errors or omissions in the contents of this message, which arise
as
a
result.








-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220103/e2b5b3ec/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220103/e2b5b3ec/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="024368.html">[squid-users] Need Urgent Help the CPU load shows 99% for the squid process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24367">[ date ]</a>
              <a href="thread.html#24367">[ thread ]</a>
              <a href="subject.html#24367">[ subject ]</a>
              <a href="author.html#24367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
