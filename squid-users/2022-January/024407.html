<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Significant memory leak with version 5.x (not with 4.17)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Significant%20memory%20leak%20with%20version%205.x%20%28not%0A%20with%204.17%29&In-Reply-To=%3Cfaf7d318-e411-30af-36a9-0c00ceb27b65%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024404.html">
   <LINK REL="Next"  HREF="024386.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Significant memory leak with version 5.x (not with 4.17)</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Significant%20memory%20leak%20with%20version%205.x%20%28not%0A%20with%204.17%29&In-Reply-To=%3Cfaf7d318-e411-30af-36a9-0c00ceb27b65%40measurement-factory.com%3E"
       TITLE="[squid-users] Significant memory leak with version 5.x (not with 4.17)">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Jan 13 16:49:29 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024404.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
        <LI>Next message (by thread): <A HREF="024386.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24407">[ date ]</a>
              <a href="thread.html#24407">[ thread ]</a>
              <a href="subject.html#24407">[ subject ]</a>
              <a href="author.html#24407">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/13/22 10:37 AM, Lou&#269;ansk&#253; Luk&#225;&#353; wrote:

&gt;<i> I'd like to ask if I'm doing anything wrong. Am I correct when I
</I>&gt;<i> think, that patch #957 is not backported/merged to tunnel.cc for v5.3
</I>&gt;<i> at the git repo v5 branch?
</I>
You are correct -- the fix is not in v5 (yet). I cannot speak for Amos,
and the Project does not have a good way to request/track backporting
requests yet, but I bet that #957 fix (or its equivalent) will
eventually be added to v5. Properly evaluating/testing/backporting
changes takes time and effort.


&gt;<i> As there is a &quot;small&quot; warning not to use v6 in production - I'd like
</I>&gt;<i> to ask if is it wise to modify tunnel.cc file like I did it in my
</I>&gt;<i> current 5.3-20211214-r832aa256c. Or it would be better to switch to
</I>&gt;<i> git master branch.
</I>
Due to other v5 bugs, it is currently impractical to run unpatched v5 in
many production environments. Many still run v4. Some prefer to risk
patching v5 than to risk running master/v6. Few make the opposite choice
(often because they need a new master/v6-only feature). It is impossible
to give a correct one-size-fits-all advice here: YMMV.


&gt;<i> But FYI I had a compilation error due -wshadow option:
</I>&gt;<i> 
</I>&gt;<i> XactionRep.cc:174:20: error: declaration of &#8216;String name&#8217; shadows a parameter [-Werror=shadow]
</I>&gt;<i> XactionRep.cc:486:33: error: declaration of &#8216;services&#8217; shadows a previous local [-Werror=shadow]
</I>
Fixed at <A HREF="https://github.com/squid-cache/squid/pull/962">https://github.com/squid-cache/squid/pull/962</A>


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024404.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
	<LI>Next message (by thread): <A HREF="024386.html">[squid-users] Significant memory leak with version 5.x (not with 4.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24407">[ date ]</a>
              <a href="thread.html#24407">[ thread ]</a>
              <a href="subject.html#24407">[ subject ]</a>
              <a href="author.html#24407">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
