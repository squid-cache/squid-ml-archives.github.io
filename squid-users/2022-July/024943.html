<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid.conf in a DB Mysql
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.conf%20in%20a%20DB%20Mysql&In-Reply-To=%3Cab7e5524-14aa-d009-3449-62a114c6cb77%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024942.html">
   <LINK REL="Next"  HREF="024944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid.conf in a DB Mysql</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid.conf%20in%20a%20DB%20Mysql&In-Reply-To=%3Cab7e5524-14aa-d009-3449-62a114c6cb77%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid.conf in a DB Mysql">rousskov at measurement-factory.com
       </A><BR>
    <I>Sat Jul  9 22:08:00 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024942.html">[squid-users] Squid.conf in a DB Mysql
</A></li>
        <LI>Next message (by thread): <A HREF="024944.html">[squid-users] Squid.conf in a DB Mysql
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24943">[ date ]</a>
              <a href="thread.html#24943">[ thread ]</a>
              <a href="subject.html#24943">[ subject ]</a>
              <a href="author.html#24943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/9/22 17:07, Marcelo wrote:

&gt;<i> Is it possible to use MySQL and PHP programming to put squid rules 
</I>&gt;<i> outside of squid.conf?
</I>
Yes, for some definition of &quot;put outside&quot;:

* One can use external ACL to make match/mismatch decisions (and supply 
metadata to Squid from) &quot;outside&quot; of the Squid process. Many Squid 
directives are controlled by ACLs, so one can control the corresponding 
Squid behavior from the &quot;outside&quot; by using external ACLs and/or 
annotations set by external ACLs. You can find examples of external ACL 
helpers/programs in src/acl/external/ directory. Your helper program can 
be written in most languages, but there are some (possibly stale) 
caveats at [1]. An external ACL is a _slow_ ACL; some Squid directives 
only support &quot;fast&quot; ACLs[2].

* One can generate squid.conf file (or portions of the configuration 
included into that file) from the information in a database (or from any 
other source of information), of course. You will need to reconfigure or 
restart (depending on what has changed and other factors) the Squid 
instance for Squid to notice such configuration changes.

[1] 
<A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#What_language_are_helper_meant_to_be_written_in.3F">https://wiki.squid-cache.org/Features/AddonHelpers#What_language_are_helper_meant_to_be_written_in.3F</A>

[2] <A HREF="http://wiki.squid-cache.org/SquidFaq/SquidAcl">http://wiki.squid-cache.org/SquidFaq/SquidAcl</A>


HTH,

Alex.



&gt;<i> I heard about it using external acl, but can find any documentation or 
</I>&gt;<i> good example of it.
</I>&gt;<i> 
</I>&gt;<i> I would like to &#8220;transfer&#8221; parameters as ACLs, HTTP_ACCESS, HTTP_PORT, 
</I>&gt;<i> and TCP_OUTGOING_ADDRESS from squid.conf to a DB+PHP solution.
</I>&gt;<i> 
</I>&gt;<i> Marcelo
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024942.html">[squid-users] Squid.conf in a DB Mysql
</A></li>
	<LI>Next message (by thread): <A HREF="024944.html">[squid-users] Squid.conf in a DB Mysql
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24943">[ date ]</a>
              <a href="thread.html#24943">[ thread ]</a>
              <a href="subject.html#24943">[ subject ]</a>
              <a href="author.html#24943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
