<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd: Sqid uses all RAM / killed by OOM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Sqid%20uses%20all%20RAM%20/%20killed%20by%20OOM&In-Reply-To=%3C42f1def8-a41e-4a97-4498-5ac954062cbe%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025010.html">
   <LINK REL="Next"  HREF="024948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd: Sqid uses all RAM / killed by OOM</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20Sqid%20uses%20all%20RAM%20/%20killed%20by%20OOM&In-Reply-To=%3C42f1def8-a41e-4a97-4498-5ac954062cbe%40treenet.co.nz%3E"
       TITLE="[squid-users] Fwd: Sqid uses all RAM / killed by OOM">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Jul 26 01:55:57 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025010.html">[squid-users] Fwd: Sqid uses all RAM / killed by OOM
</A></li>
        <LI>Next message (by thread): <A HREF="024948.html">[squid-users] squid 3.x on Centos8 not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25011">[ date ]</a>
              <a href="thread.html#25011">[ thread ]</a>
              <a href="subject.html#25011">[ subject ]</a>
              <a href="author.html#25011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/07/22 17:59, Ronny Preiss wrote:
&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> I have now compiled and installed squid 4.17 as a transition solution on 
</I>&gt;<i> ubuntu 22.04.
</I>&gt;<i> 
</I>&gt;<i> Can someone support me regarding my question about compiling squid 5.6 
</I>&gt;<i> on ubuntu 22.04?
</I>&gt;<i> Since my previous attempts also have the &quot;memory leak&quot; on ubuntu 22.04 
</I>&gt;<i> and squid 5.6 problem again.
</I>
I am not sure if this will help at all with the memory leak. But the 
Debian package for 5.6+ contain OpenSSL v3 support and should build fine 
for this Ubuntu.


You will first need to run these to install the build requirements:
   apt-get update &amp;&amp;
   apt-get build-dep squid &amp;&amp;
   apt-get install git-buildpackage dpkg libssl-dev


Then from a build directory run these:

  git clone <A HREF="https://salsa.debian.org/squid-team/squid.git">https://salsa.debian.org/squid-team/squid.git</A> &amp;&amp;
  cd squid &amp;&amp;
  gbp buildpackage --git-no-sign-tags ;
  cd ..


Install the package you want like this:

  dpkg --install \
     squid-common_5.6-1_amd64.deb \
     squid_5.6-1_amd64.deb

  dpkg --install \
     squid-common_5.6-1_amd64.deb \
     squid-openssl_5.6-1_amd64.deb

Exact filenames may differ. Listing squid-common first is important.


If Ubuntu ship a newer version it will install over top of these 
packages. There should not be issues with that as it means Ubuntu have 
pulled in the OpenSSL v3 support from Debian.

Alternatively, you can keep the git clone/checkout around to track 
Debian security patches and newer releases. You just have to do the 
rebuild and re-install parts as-needed.


HTH
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025010.html">[squid-users] Fwd: Sqid uses all RAM / killed by OOM
</A></li>
	<LI>Next message (by thread): <A HREF="024948.html">[squid-users] squid 3.x on Centos8 not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25011">[ date ]</a>
              <a href="thread.html#25011">[ thread ]</a>
              <a href="subject.html#25011">[ subject ]</a>
              <a href="author.html#25011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
