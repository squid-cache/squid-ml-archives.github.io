<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] There is the problems with instagram images and videos
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20There%20is%20the%20problems%20with%20instagram%20images%20and%0A%20videos&In-Reply-To=%3C000001d8814d%245acdc7d0%2410695770%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024860.html">
   <LINK REL="Next"  HREF="024865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] There is the problems with instagram images and videos</H1>
    <B>ngtech1ltd at gmail.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20There%20is%20the%20problems%20with%20instagram%20images%20and%0A%20videos&In-Reply-To=%3C000001d8814d%245acdc7d0%2410695770%24%40gmail.com%3E"
       TITLE="[squid-users] There is the problems with instagram images and videos">ngtech1ltd at gmail.com
       </A><BR>
    <I>Thu Jun 16 06:50:23 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024860.html">[squid-users] There is the problems with instagram images and videos
</A></li>
        <LI>Next message (by thread): <A HREF="024865.html">[squid-users] There is the problems with instagram images and videos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24863">[ date ]</a>
              <a href="thread.html#24863">[ thread ]</a>
              <a href="subject.html#24863">[ subject ]</a>
              <a href="author.html#24863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Let sum things up:
Squid-Cache works all over the world and you are having a trouble in a specific environment.
The main thing to do now is find the difference between others and you in the setup level.

First you referenced to a danted sock5 proxy.
So the issue is that your setup is more complex then a simple forward proxy.
I do not remember how socks5 works and also do not remember anything about a danted sock5 proxy.
I will try to learn more about such setups later and will try to response later on.

It's not a squid issue but please give me some tutorial that you might have used or will be good for me to re-produce such a setup.
Once I will have more details about the setup I might be able to respond the right way and be a bit smarter.

Eliezer

-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of simwin
Sent: Wednesday, 15 June 2022 19:16
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] There is the problems with instagram images and videos


<A HREF="https://lists.squid-cache.org/listinfo/squid-users">andre.bolinhas at articatech.com</A>:

&gt;<i> TCP_TUNNEL/200 means that the proxy is able to establish a correct connection
</I>&gt;<i> with the destination, do you have any firewall, antivirus, ad-blocker in
</I>&gt;<i> between that could block the traffic?  
</I>
No antivirus, no firewall and no ad-blocker - I've checked it!. 

I've made ssh tunnel (ssh -D 0.0.0.0:8888) and make sock5 proxy to my server -
it works fine! But with danted sock5 proxy I have the same problem - no
instagram images, no videos.
 
Also it may be providers issue - all instagram's traffic blocked in our
country. 

That is why I need to know - does squid works with instagram (and twitter
videos) for anyone from another country with default squid config?

&#1042; Wed, 15 Jun 2022 19:01:30 +0300
simwin &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">simwin at mail.ru</A>&gt;:

&gt;<i> Plus squid -v:
</I>&gt;<i> 
</I>&gt;<i> configure options:  '--prefix=' '--bindir=/usr/bin' '--sbindir=/usr/sbin'
</I>&gt;<i> '--libexecdir=/usr/libexec/squid' '--libdir=/usr/lib/squid'
</I>&gt;<i> '--mandir=/usr/share/man/man8' '--sysconfdir=/etc/squid'
</I>&gt;<i> '--with-default-user=proxy' '--with-pidfile=/run/squid.pid'
</I>&gt;<i> '--with-logdir=/var/log/squid'
</I>&gt;<i> 
</I>&gt;<i> &#1042; Wed, 15 Jun 2022 18:48:00 +0300
</I>&gt;<i> simwin &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">simwin at mail.ru</A>&gt; &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> 
</I>&gt;<i> &gt; With the latest stable squid-5.6-20220607-rfca8b79b5 the result is the same
</I>&gt;<i> &gt; - no instagram photos and videos :(
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The squid configs is default, please see all info below:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; $ grep -vE '^$|^#' /etc/squid/squid.conf
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; acl localnet src 0.0.0.1-0.255.255.255	
</I>&gt;<i> &gt; acl localnet src 10.0.0.0/8		
</I>&gt;<i> &gt; acl localnet src 100.64.0.0/10		
</I>&gt;<i> &gt; acl localnet src 169.254.0.0/16 	
</I>&gt;<i> &gt; acl localnet src 172.16.0.0/12		
</I>&gt;<i> &gt; acl localnet src 192.168.0.0/16		
</I>&gt;<i> &gt; acl localnet src fc00::/7       	
</I>&gt;<i> &gt; acl localnet src fe80::/10      	
</I>&gt;<i> &gt; acl SSL_ports port 443
</I>&gt;<i> &gt; acl Safe_ports port 80		# http
</I>&gt;<i> &gt; acl Safe_ports port 21		# ftp
</I>&gt;<i> &gt; acl Safe_ports port 443		# https
</I>&gt;<i> &gt; acl Safe_ports port 70		# gopher
</I>&gt;<i> &gt; acl Safe_ports port 210		# wais
</I>&gt;<i> &gt; acl Safe_ports port 1025-65535	# unregistered ports
</I>&gt;<i> &gt; acl Safe_ports port 280		# http-mgmt
</I>&gt;<i> &gt; acl Safe_ports port 488		# gss-http
</I>&gt;<i> &gt; acl Safe_ports port 591		# filemaker
</I>&gt;<i> &gt; acl Safe_ports port 777		# multiling http
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; auth_param basic program /usr/libexec/squid/basic_ncsa_auth
</I>&gt;<i> &gt; /etc/squid/internet_users
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; acl auth_users proxy_auth REQUIRED
</I>&gt;<i> &gt; http_access allow auth_users
</I>&gt;<i> &gt; auth_param basic casesensitive on
</I>&gt;<i> &gt; http_access deny !Safe_ports
</I>&gt;<i> &gt; http_access deny CONNECT !SSL_ports
</I>&gt;<i> &gt; http_access allow localhost manager
</I>&gt;<i> &gt; http_access deny manager
</I>&gt;<i> &gt; http_access allow localnet
</I>&gt;<i> &gt; http_access allow localhost
</I>&gt;<i> &gt; http_access deny all
</I>&gt;<i> &gt; http_port xxx.xxx.xxx.xxx:xxxx
</I>&gt;<i> &gt; coredump_dir /var/cache/squid
</I>&gt;<i> &gt; refresh_pattern ^ftp:		1440	20%	10080
</I>&gt;<i> &gt; refresh_pattern ^gopher:	1440	0%	1440
</I>&gt;<i> &gt; refresh_pattern -i (/cgi-bin/|\?) 0	0%	0
</I>&gt;<i> &gt; refresh_pattern .		0	20%	4320
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Full squid.conf - <A HREF="https://pastebin.mozilla.org/JKSiBuvU/raw">https://pastebin.mozilla.org/JKSiBuvU/raw</A>
</I>&gt;<i> &gt; Firefox 101 console errors - <A HREF="https://pastebin.mozilla.org/0Osvw45J/raw">https://pastebin.mozilla.org/0Osvw45J/raw</A>
</I>&gt;<i> &gt; Squid access.log - <A HREF="https://pastebin.mozilla.org/pOsXtMBW/raw">https://pastebin.mozilla.org/pOsXtMBW/raw</A>
</I>&gt;<i> &gt; OS Debian 11
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 2All: Please answer: does squid works with instagram (and twitter videos)
</I>&gt;<i> &gt; for anyone?!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &#1042; Wed, 15 Jun 2022 12:14:22 +0300
</I>&gt;<i> &gt; simwin &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">simwin at mail.ru</A>&gt; &#1087;&#1080;&#1096;&#1077;&#1090;:
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt; &gt; &#1042; Wed, 15 Jun 2022 02:59:29 +0300
</I>&gt;<i> &gt; &gt; &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt;:
</I>&gt;<i> &gt; &gt;     
</I>&gt;<i> &gt; &gt; &gt; I just compiled the newest version of Squid for Debian 11(bullseye) at:
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://www.ngtech.co.il/repo/debian/11/x86_64/">https://www.ngtech.co.il/repo/debian/11/x86_64/</A> 
</I>&gt;<i> &gt; &gt; &gt; However you need to know how to install it and I cannot work on the
</I>&gt;<i> &gt; &gt; &gt; installer now. It's also doesn't include all of my patches yet.
</I>&gt;<i> &gt; &gt; &gt; From what I have seen at:
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://packages.debian.org/bullseye/squid">https://packages.debian.org/bullseye/squid</A>
</I>&gt;<i> &gt; &gt; &gt; The current version at bullseye is 4.13 so you'd better try first 5.6
</I>&gt;<i> &gt; &gt; &gt; before any other things.      
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; That is the good idea! 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I'm already in trying to compile and install the latest 5.6 squid
</I>&gt;<i> &gt; &gt; version.  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I am in GMT+3 time zone. 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Let you know about 5.6 results a bit latter. Thank you!    
</I>_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024860.html">[squid-users] There is the problems with instagram images and videos
</A></li>
	<LI>Next message (by thread): <A HREF="024865.html">[squid-users] There is the problems with instagram images and videos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24863">[ date ]</a>
              <a href="thread.html#24863">[ thread ]</a>
              <a href="subject.html#24863">[ subject ]</a>
              <a href="author.html#24863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
