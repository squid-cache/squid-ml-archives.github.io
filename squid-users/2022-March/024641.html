<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SQUID refuses to listen on any TCP Port
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20refuses%20to%20listen%20on%20any%20TCP%20Port&In-Reply-To=%3C002801d83636%2400950650%2401bf12f0%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024640.html">
   <LINK REL="Next"  HREF="024643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SQUID refuses to listen on any TCP Port</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20refuses%20to%20listen%20on%20any%20TCP%20Port&In-Reply-To=%3C002801d83636%2400950650%2401bf12f0%24%40gmail.com%3E"
       TITLE="[squid-users] SQUID refuses to listen on any TCP Port">ngtech1ltd at gmail.com
       </A><BR>
    <I>Sat Mar 12 17:24:15 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024640.html">[squid-users] SQUID refuses to listen on any TCP Port
</A></li>
        <LI>Next message (by thread): <A HREF="024643.html">[squid-users] SQUID refuses to listen on any TCP Port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24641">[ date ]</a>
              <a href="thread.html#24641">[ thread ]</a>
              <a href="subject.html#24641">[ subject ]</a>
              <a href="author.html#24641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Ben,

You should try the next test:
install netcat with &quot;apt install netcat&quot;

Then run the next two commands:
netcat -v -l -6 4444
netcat -v -l -4 4444

and send us the output of these.
You can change the ports to 3128 which doesn't work and see what might cause
this issue.
It's possible that your VPS hosting service is using a custom kernel or
another thing happens there.
It's not squid by itself that is at fault in this issue since it was tested
on more then one system over the last 10 years including Ubuntu 20.04.

All The Bests,
Eliezer

----
Eliezer Croitoru
NgTech, Tech Support
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>

-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of
ben
Sent: Saturday, March 12, 2022 05:25
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] SQUID refuses to listen on any TCP Port


Hi Eliezer,
Thanks for your help. I tried your method. it worked in a few VM 
instances but not on others. All have the same version of ubuntu 20.04. 
I just have no idea why Squid is so glitchy. same methods, same OS, 
sometimes it did start accepting connection on the specificed TCP port, 
but most of times it didn't. I also tried to install from a PPA repos 
and it is the same story. Any suggestion?
&gt;<i> Hey Ben,
</I>&gt;<i>
</I>&gt;<i> I cannot tell you if there is something wrong with what you are doing or
</I>the
&gt;<i> OS.
</I>&gt;<i> What I did was to install a basic squid on ubuntu 20.4 which comes with
</I>&gt;<i> version 4.10.
</I>&gt;<i> I shut down the current running suqid.
</I>&gt;<i> I took the /etc/squid/squid.conf file and left it with a single line.
</I>&gt;<i> After that I started squid with &quot;systemctl start squid&quot; and it seems to
</I>work
&gt;<i> fine.
</I>&gt;<i> I shut down squid and downloaded my version and again left the squid.conf
</I>&gt;<i> with a single line.
</I>&gt;<i> Just.. adding the mime.conf into /etc/squid/ and it worked like a charm.
</I>&gt;<i> Try to use &quot;ss -ntlp&quot; instead of netstat.
</I>&gt;<i> You should first try this on a VM on you local desktop in virtualbox or
</I>&gt;<i> hyperv.
</I>&gt;<i>
</I>&gt;<i> All The Bests,
</I>&gt;<i> Eliezer
</I>&gt;<i>
</I>&gt;<i> ----
</I>&gt;<i> Eliezer Croitoru
</I>&gt;<i> NgTech, Tech Support
</I>&gt;<i> Mobile: +972-5-28704261
</I>&gt;<i> Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of
</I>&gt;<i> ben
</I>&gt;<i> Sent: Sunday, March 6, 2022 07:51
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] SQUID refuses to listen on any TCP Port
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Eliezer,
</I>&gt;<i>
</I>&gt;<i> It is a KVM VPS server with ubuntu 20.04. I just reinstalled the whole
</I>&gt;<i> operating sytem and started it from scratch but got the same result: No
</I>&gt;<i> tcp port listening. I don't know if it is something wrong with the OS
</I>&gt;<i> template. Please let me know what I need to do. Thank you!
</I>&gt;&gt;<i> Hey Ben,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If it doesn't work for you then you are clearly doing something wrong....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can try to give you instructions on how to make it work 100% unless
</I>your
&gt;<i> setup is messed up or is not a plain ubuntu 20.04.
</I>&gt;&gt;<i> Is it a simple VM?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Eliezer
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024640.html">[squid-users] SQUID refuses to listen on any TCP Port
</A></li>
	<LI>Next message (by thread): <A HREF="024643.html">[squid-users] SQUID refuses to listen on any TCP Port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24641">[ date ]</a>
              <a href="thread.html#24641">[ thread ]</a>
              <a href="subject.html#24641">[ subject ]</a>
              <a href="author.html#24641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
