<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Difference between cache manager http request count and access.log entries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Difference%20between%20cache%20manager%20http%20request%20count%0A%20and%20access.log%20entries&In-Reply-To=%3C002901d83e27%24fbed28e0%24f3c77aa0%24%40tiehm.me%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024683.html">
   <LINK REL="Next"  HREF="024685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Difference between cache manager http request count and access.log entries</H1>
    <B>admin at tiehm.me</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Difference%20between%20cache%20manager%20http%20request%20count%0A%20and%20access.log%20entries&In-Reply-To=%3C002901d83e27%24fbed28e0%24f3c77aa0%24%40tiehm.me%3E"
       TITLE="[squid-users] Difference between cache manager http request count and access.log entries">admin at tiehm.me
       </A><BR>
    <I>Tue Mar 22 20:04:03 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024683.html">[squid-users] version 5.4.1 aborts squid process (SIGABRT)
</A></li>
        <LI>Next message (by thread): <A HREF="024685.html">[squid-users] Difference between cache manager http request count and access.log entries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24684">[ date ]</a>
              <a href="thread.html#24684">[ thread ]</a>
              <a href="subject.html#24684">[ subject ]</a>
              <a href="author.html#24684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

 

I&#8217;ve recently stumbled across all the information that is returned from the squid cache manager. Now after analysing the request count data a bit on the cache manager information responses I noticed that they do not match up with the amount of logs in access.log. There might be 300 requests/s (as shown by the cache manager by comparing the values and calculating the average per second) and only 100 access.log entries in the somewhat similar time (given a few seconds to make sure it was written). 

I am wondering: what causes that or rather how do I have to interpret those different numbers? Which of those can I trust?

I am aware that a CONNECT only shows up once and requests routed through the tunnel do not show up in access.log, however I thought that you can not see single requests on squids side as it is encrypted and thus not count it. That would be my only guess on what it could be.

 

Using squid 5 on Debian 11 and 99.9% of the traffic is HTTPS.

 

I would appreciate any help.

Thanks!  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220322/c2983712/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220322/c2983712/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024683.html">[squid-users] version 5.4.1 aborts squid process (SIGABRT)
</A></li>
	<LI>Next message (by thread): <A HREF="024685.html">[squid-users] Difference between cache manager http request count and access.log entries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24684">[ date ]</a>
              <a href="thread.html#24684">[ thread ]</a>
              <a href="subject.html#24684">[ subject ]</a>
              <a href="author.html#24684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
