<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid Reconfigure Downtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Reconfigure%20Downtime&In-Reply-To=%3C001401d8612d%24ce568970%246b039c50%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024775.html">
   <LINK REL="Next"  HREF="024778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid Reconfigure Downtime</H1>
    <B>Eliezer Croitoru</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20Reconfigure%20Downtime&In-Reply-To=%3C001401d8612d%24ce568970%246b039c50%24%40gmail.com%3E"
       TITLE="[squid-users] Squid Reconfigure Downtime">ngtech1ltd at gmail.com
       </A><BR>
    <I>Fri May  6 09:43:55 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024775.html">[squid-users] Squid Reconfigure Downtime
</A></li>
        <LI>Next message (by thread): <A HREF="024778.html">[squid-users] Squid Reconfigure Downtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24777">[ date ]</a>
              <a href="thread.html#24777">[ thread ]</a>
              <a href="subject.html#24777">[ subject ]</a>
              <a href="author.html#24777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Mani,

 

With &#8220;squid -k reconfigure&#8221; there shouldn&#8217;t be down time.

There are special scenarios which the complexity or the length of the configuration files will result
in a scenario of a slowdown in the overall performance of the service on a reconfiguration.

There is a very far possibility which will cause a drop of connections while running the reconfiguration.

I will define a rule: if &#8220;squid -k parse&#8221; doesn&#8217;t take too long ( max couple secs..which is a lot for most use cases)
it&#8217;s simple to assume that it won&#8217;t affect the service at all.

 

Just take into account that the proper &#8220;ratio&#8221; of reconfiguration should be no more then once per hour and 
the most widely used reconfiguration is once per day.

 

If you will want to make the service dynamic you can use external_acl and other helpers that will allow you
to prevent and reconfiguration of the service when not really required.

 

All The Bests,

 

----

Eliezer Croitoru

NgTech, Tech Support

Mobile: +972-5-28704261

Email:  &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>

 

From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Manikandan Swaminathan
Sent: Friday, May 6, 2022 04:33
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Squid Reconfigure Downtime

 

Hello,

 

I'm new to Squid and am currently researching the use/effects of running reconfigurations. I've come across a couple links and forums that talk about this, but since some of those are a bit dated I wanted to make sure I have the right info...

 

We're currently running Squid 4.8, and I want to know, what is the expected downtime when running &quot;squid -k reconfigure&quot;? How does this affect existing and incoming connections?

 

I ran a simple test in my machine where I reconfigure squid, while separately running multiple proxy requests. As far as I could tell, there wasn't any disruption, but I'd like to get some input from more experienced folks.

 

Thanks,

Mani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220506/69be616b/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220506/69be616b/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024775.html">[squid-users] Squid Reconfigure Downtime
</A></li>
	<LI>Next message (by thread): <A HREF="024778.html">[squid-users] Squid Reconfigure Downtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24777">[ date ]</a>
              <a href="thread.html#24777">[ thread ]</a>
              <a href="subject.html#24777">[ subject ]</a>
              <a href="author.html#24777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
