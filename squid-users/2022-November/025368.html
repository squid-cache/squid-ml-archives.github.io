<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Does Squid support client ssl termination?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20Squid%20support%20client%20ssl%20termination%3F&In-Reply-To=%3Cc7774050-684e-73fa-69eb-646770ba66a7%40spamtrap.tnetconsulting.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025365.html">
   <LINK REL="Next"  HREF="025372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Does Squid support client ssl termination?</H1>
    <B>Grant Taylor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Does%20Squid%20support%20client%20ssl%20termination%3F&In-Reply-To=%3Cc7774050-684e-73fa-69eb-646770ba66a7%40spamtrap.tnetconsulting.net%3E"
       TITLE="[squid-users] Does Squid support client ssl termination?">gtaylor at tnetconsulting.net
       </A><BR>
    <I>Tue Nov  1 18:49:17 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025365.html">[squid-users] Does Squid support client ssl termination?
</A></li>
        <LI>Next message (by thread): <A HREF="025372.html">[squid-users] Does Squid support client ssl termination?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25368">[ date ]</a>
              <a href="thread.html#25368">[ thread ]</a>
              <a href="subject.html#25368">[ subject ]</a>
              <a href="author.html#25368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/1/22 11:33 AM, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A> wrote:
&gt;<i> That is not true as a blanket statement.
</I>
Please clarify which statement / who you are addressing.

It seems as if you're addressing mingheng (copied below for convenience):

On 10/31/22 7:32 PM, mingheng wang wrote:
&gt;<i> I delved into the configuration the last few days, and found that 
</I>&gt;<i> Squid doesn't officially support cache_peer when ssl_bump is in use.
</I>
But you may be addressing my statement (...):

On 11/1/22 10:44 AM, Grant Taylor wrote:
&gt;<i> That surprises me.  I wonder if it's a technical limitation or an 
</I>&gt;<i> oversight.
</I>

On 11/1/22 11:33 AM, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A> wrote:
&gt;<i> What Squid officially *does not* support is decrypting traffic then 
</I>&gt;<i> sending the un-encrypted form to a HTTP-only cache_peer.
</I>
Please elaborate.  I'm trying to develop a mental model of what is and 
is not supported with regard to client / proxy / server communications. 
I'm unclear on how this applies to the two potential HTTPS streams; 
client-to-proxy and proxy-to-server.  Or if this is more applicable to 
TLS-Bump on implicit / network transparent / intercepting proxies where 
the client thinks that it's talking HTTPS to the origin server and the 
proxy would really be downgrading security by stripping TLS.

Here is my mental model based on my current understanding.  Is the 
following diagram accurate?

             +-------------+-----------+
             |  P2S-HTTP   | P2S-HTTPS |
+-----------+-------------+-----------+
|<i> C2P-HTTP  |  supported  | supported |
</I>+-----------+-------------+-----------+
|<i> C2P-HTTPS | unsupported | supported |
</I>+-----------+-------------+-----------+
   C2P = Client to Proxy communication
   P2S = Proxy to server communication

&gt;<i> All other permutations of inbound TCP/TLS, <A HREF="http://">http://</A> or <A HREF="https://">https://</A> URL, and 
</I>&gt;<i> outbound TCP/TLS should currently work to some degree. The more recent 
</I>&gt;<i> your Squid version the better it is.
</I>
ACK



-- 
Grant. . . .
unix || die

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4017 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20221101/c2a64f5f/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20221101/c2a64f5f/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025365.html">[squid-users] Does Squid support client ssl termination?
</A></li>
	<LI>Next message (by thread): <A HREF="025372.html">[squid-users] Does Squid support client ssl termination?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25368">[ date ]</a>
              <a href="thread.html#25368">[ thread ]</a>
              <a href="subject.html#25368">[ subject ]</a>
              <a href="author.html#25368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
