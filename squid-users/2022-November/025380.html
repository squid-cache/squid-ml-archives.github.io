<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ACL based DNS server list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ACL%20based%20DNS%20server%20list&In-Reply-To=%3C6e62ef3c-d842-054a-82a5-78e7236cfdd2%40spamtrap.tnetconsulting.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025379.html">
   <LINK REL="Next"  HREF="025382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ACL based DNS server list</H1>
    <B>Grant Taylor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ACL%20based%20DNS%20server%20list&In-Reply-To=%3C6e62ef3c-d842-054a-82a5-78e7236cfdd2%40spamtrap.tnetconsulting.net%3E"
       TITLE="[squid-users] ACL based DNS server list">gtaylor at tnetconsulting.net
       </A><BR>
    <I>Wed Nov  2 14:52:21 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025379.html">[squid-users] ACL based DNS server list
</A></li>
        <LI>Next message (by thread): <A HREF="025382.html">[squid-users] ACL based DNS server list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25380">[ date ]</a>
              <a href="thread.html#25380">[ thread ]</a>
              <a href="subject.html#25380">[ subject ]</a>
              <a href="author.html#25380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/2/22 4:03 AM, David Touzeau wrote:
&gt;<i> It should be a good feature request that the Squid DNS client supports eDNS
</I>&gt;<i> eDNS can be used to send the source client IP address received by Squid 
</I>&gt;<i> to a remote DNS.
</I>
Does Squid even have it's own DNS &quot;&quot; / lookup mechanism?

I naively assumed that Squid simply used the system's name resolution 
capabilities, be that DNS, /etc/hosts, or even NIS(+).

As such, I would be shocked if there is any plumbing to pass additional 
information; e.g. down stream proxy client, to influence how the name 
resolution happens.

Maybe I'm wrong.  Hopefully I'll learn something from how others respond.

&gt;<i> In this case the DNS will be able to change its behavior depending on 
</I>&gt;<i> the source IP address.
</I>
I take that to mean that DNS will change it's behavior based on the 
EDNS0 Client Subnet information.  Because DNS will still see Squid as 
the client of the DNS query.

Aside:  There's a chance that the -- as I understand it -- suggested /24 
aggregation of E.C.S. will not be granular enough to provide the OP's 
desired result.

N.B. the E.C.S. interactions that I've had have used /24 or larger 
subnets to protect client identity.



-- 
Grant. . . .
unix || die

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4017 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20221102/f16414ec/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20221102/f16414ec/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025379.html">[squid-users] ACL based DNS server list
</A></li>
	<LI>Next message (by thread): <A HREF="025382.html">[squid-users] ACL based DNS server list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25380">[ date ]</a>
              <a href="thread.html#25380">[ thread ]</a>
              <a href="subject.html#25380">[ subject ]</a>
              <a href="author.html#25380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
