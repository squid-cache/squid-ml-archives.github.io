<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] disk-cache maximum object size is too large for mem-cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20disk-cache%20maximum%20object%20size%20is%20too%20large%20for%0A%20mem-cache&In-Reply-To=%3C9a55ebcb-dcf4-cb83-9eaa-902ea1136bc8%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025386.html">
   <LINK REL="Next"  HREF="025389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] disk-cache maximum object size is too large for mem-cache</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20disk-cache%20maximum%20object%20size%20is%20too%20large%20for%0A%20mem-cache&In-Reply-To=%3C9a55ebcb-dcf4-cb83-9eaa-902ea1136bc8%40measurement-factory.com%3E"
       TITLE="[squid-users] disk-cache maximum object size is too large for mem-cache">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Nov  3 18:29:43 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025386.html">[squid-users] disk-cache maximum object size is too large for mem-cache
</A></li>
        <LI>Next message (by thread): <A HREF="025389.html">[squid-users] Redirect traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25388">[ date ]</a>
              <a href="thread.html#25388">[ thread ]</a>
              <a href="subject.html#25388">[ subject ]</a>
              <a href="author.html#25388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/3/22 13:14, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">luc.bar at libero.it</A> wrote:
&gt;<i> I'm using squid 4.17 and noticed in cache.log this warning:
</I>&gt;<i> 
</I>&gt;<i> WARNING: disk-cache maximum object size is too large for mem-cache: 
</I>&gt;<i> 4096.00 KB &gt; 512.00 KB
</I>&gt;<i> 
</I>&gt;<i> but if I'm not wrong those are the default values of:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> NAME: maximum_object_size
</I>&gt;<i> COMMENT: (bytes)
</I>&gt;<i> TYPE: b_int64_t
</I>&gt;<i> DEFAULT: 4 MB
</I>&gt;<i> LOC: Config.Store.maxObjectSize
</I>&gt;<i> DOC_START Set the default value for max-size parameter on any cache_dir. 
</I>&gt;<i> The value is specified in bytes, and the default is 4 MB.
</I>&gt;<i> 
</I>&gt;<i> and
</I>&gt;<i> 
</I>&gt;<i> NAME: maximum_object_size_in_memory
</I>&gt;<i> COMMENT: (bytes)
</I>&gt;<i> TYPE: b_size_t
</I>&gt;<i> DEFAULT: 512 KB
</I>&gt;<i> LOC: Config.Store.maxInMemObjSize
</I>&gt;<i> DOC_START Objects greater than this size will not be attempted to kept 
</I>&gt;<i> in the memory cache. This should be set high enough to keep objects 
</I>&gt;<i> accessed frequently in memory to improve performance whilst low enough 
</I>&gt;<i> to keep larger objects from hoarding cache_mem.
</I>
&gt;<i> so it seems that the default values are itself reported as a warning?
</I>
Yes, it is a known bug. I do not recall whether there is a bug report 
for it, but I know that we have to work around it in some tests (by 
explicitly increasing maximum_object_size_in_memory).


HTH,

Alex.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025386.html">[squid-users] disk-cache maximum object size is too large for mem-cache
</A></li>
	<LI>Next message (by thread): <A HREF="025389.html">[squid-users] Redirect traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25388">[ date ]</a>
              <a href="thread.html#25388">[ thread ]</a>
              <a href="subject.html#25388">[ subject ]</a>
              <a href="author.html#25388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
