<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Empty transfer-encoding header causes 502 response
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Empty%20transfer-encoding%20header%20causes%20502%20response&In-Reply-To=%3C5bbfac45bb521b494b86ee9dbc9c688c%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025330.html">
   <LINK REL="Next"  HREF="025338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Empty transfer-encoding header causes 502 response</H1>
    <B>squid3 at treenet.co.nz</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Empty%20transfer-encoding%20header%20causes%20502%20response&In-Reply-To=%3C5bbfac45bb521b494b86ee9dbc9c688c%40treenet.co.nz%3E"
       TITLE="[squid-users] Empty transfer-encoding header causes 502 response">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Oct 25 12:39:04 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025330.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
        <LI>Next message (by thread): <A HREF="025338.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25337">[ date ]</a>
              <a href="thread.html#25337">[ thread ]</a>
              <a href="subject.html#25337">[ subject ]</a>
              <a href="author.html#25337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2022-10-24 13:36, Matthew H wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm using Squid to proxy HTTP requests to another proxy. I can see 
</I>&gt;<i> squid
</I>&gt;<i> sending the request to the parent and getting a response, but it sends 
</I>&gt;<i> the
</I>&gt;<i> client that initiated the request a 502 Bad Gateway response.
</I>
That is correct behaviour. Squid does not know how to decode the content 
for delivery.

&gt;<i> 
</I>&gt;<i> On closer inspection it appears the parent proxy is sending an
</I>&gt;<i> empty transfer-encoding header, and this is causing Squid to send a 
</I>&gt;<i> 502. Is
</I>&gt;<i> there any way to ignore this?
</I>

This MUST NOT be ignored. The server has explicitly indicated that the 
response content area is encoded, but not how. Squid cannot tell where 
the boundaries of the message content are, nor how to transform it for 
delivery to the client.

Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025330.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
	<LI>Next message (by thread): <A HREF="025338.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25337">[ date ]</a>
              <a href="thread.html#25337">[ thread ]</a>
              <a href="subject.html#25337">[ subject ]</a>
              <a href="author.html#25337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
