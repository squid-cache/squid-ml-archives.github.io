<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] FW: Encrypted browser-Squid connection errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3CY1gMWToZVwF8PVOy%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025339.html">
   <LINK REL="Next"  HREF="025342.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] FW: Encrypted browser-Squid connection errors</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3CY1gMWToZVwF8PVOy%40fantomas.sk%3E"
       TITLE="[squid-users] FW: Encrypted browser-Squid connection errors">uhlar at fantomas.sk
       </A><BR>
    <I>Tue Oct 25 16:18:33 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025339.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
        <LI>Next message (by thread): <A HREF="025342.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25340">[ date ]</a>
              <a href="thread.html#25340">[ thread ]</a>
              <a href="subject.html#25340">[ subject ]</a>
              <a href="author.html#25340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>On 10/25/22 2:43 AM, Matus UHLAR - fantomas wrote:
</I>&gt;&gt;<i>if by &quot;transparent&quot; you mean &quot;intercepting&quot; proxy, that is incorrect
</I>
On 25.10.22 09:47, Grant Taylor wrote:
&gt;<i>By &quot;transparent&quot; I mean using network techniques to force clients to 
</I>&gt;<i>use a proxy that aren't themselves aware that they are using a proxy.
</I>
I prefer to explicitly state what one means by transparent because RFC2616 
has defined transparent proxy diferently:

       A
       &quot;transparent proxy&quot; is a proxy that does not modify the request or
       response beyond what is required for proxy authentication and
       identification.

term &quot;interception proxy&quot; better defines what happens here:

    Instead, an
    interception proxy filters or redirects outgoing TCP port 80 packets
    (and occasionally other common port traffic).

&gt;&gt;<i>CONNECT is HTTP command designed for use with explicit HTTP proxy.
</I>&gt;<i>
</I>&gt;<i>Agreed.
</I>&gt;<i>
</I>&gt;<i>But what does Squid do differently after recognizing the request from 
</I>&gt;<i>the client; be it a GET, PUT, POST, or even a CONNECT; the former 
</I>&gt;<i>being transparent with the latter being explicit.  Squid will still 
</I>&gt;<i>proxy the request as it understands it dependent on configuration, 
</I>&gt;<i>ACLs, etc.
</I>
FYI, Intercepting proxy must use measures to avoid host header forgery:

<A HREF="https://wiki.squid-cache.org/KnowledgeBase/HostHeaderForgery">https://wiki.squid-cache.org/KnowledgeBase/HostHeaderForgery</A>
<A HREF="https://www.kb.cert.org/vuls/id/435052">https://www.kb.cert.org/vuls/id/435052</A>

squid must find out the original destination IP used and check, while in 
explicit mode it makes no sense.

&gt;&gt;<i>These are the FTP protocol &quot;hacks&quot; I mentioned before.
</I>&gt;&gt;<i>The HTTP protocol was created with proxying in mind, FTP was not.
</I>&gt;&gt;<i>using specially crafted login name for connecting to anoter server 
</I>&gt;&gt;<i>is one of those hacks.
</I>&gt;<i>
</I>&gt;<i>Okay.
</I>&gt;<i>
</I>&gt;<i>I (mis)took &quot;hacks&quot; to be things more severe like is typically done 
</I>&gt;<i>with proxifiers used with SOCKS servers, e.g. altering / overloading 
</I>&gt;<i>system library calls.
</I>
this is a bit different kind of hacks.

Generally the SOCKS library know where/how to connect, socks wrappers (like 
socksify, tsocks, proxychains) are used to make other software use socks 
proxy even if it does not support it.

and of course socks is generic bidiretional tcp/udp proxy, which makes it 
possible to implement it near over any kind of communication.

-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
LSD will make your ECS screen display 16.7 million colors

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025339.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
	<LI>Next message (by thread): <A HREF="025342.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25340">[ date ]</a>
              <a href="thread.html#25340">[ thread ]</a>
              <a href="subject.html#25340">[ subject ]</a>
              <a href="author.html#25340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
