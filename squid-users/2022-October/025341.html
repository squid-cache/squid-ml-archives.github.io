<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 5: server_cert_fingerprint not working fine...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205%3A%20server_cert_fingerprint%20not%20working%20fine...&In-Reply-To=%3C3adf99e022084a76b0f18ffb1f3f605f%40unveiltech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025355.html">
   <LINK REL="Next"  HREF="025351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 5: server_cert_fingerprint not working fine...</H1>
    <B>UnveilTech - Support</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%205%3A%20server_cert_fingerprint%20not%20working%20fine...&In-Reply-To=%3C3adf99e022084a76b0f18ffb1f3f605f%40unveiltech.com%3E"
       TITLE="[squid-users] Squid 5: server_cert_fingerprint not working fine...">support at unveiltech.com
       </A><BR>
    <I>Tue Oct 25 16:22:17 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025355.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
        <LI>Next message (by thread): <A HREF="025351.html">[squid-users] ACL based DNS server list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25341">[ date ]</a>
              <a href="thread.html#25341">[ thread ]</a>
              <a href="subject.html#25341">[ subject ]</a>
              <a href="author.html#25341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,


Here is the part of our squid.conf on Squid 5 :

...

acl my_cf1_list server_cert_fingerprint '/etc/squid5/CF1.txt'

ssl_bump peek all

ssl_bump terminate my_cf1_list

ssl_bump splice all

...



We're not sure about the ssl_bump keys and options to use here, to be honnest we've already spend hours to find the right way to make it working fine.



Here are some samples from the CF1.txt file:

# dayznews.biz

FB:EC:F7:AE:F4:BD:F4:85:68:C0:81:65:99:BA:7D:D3:FA:F8:51:74

# cdeveloper.cn

94:0A:C0:53:A0:E9:74:CE:91:12:6E:FD:06:57:08:58:B2:A5:76:10


1.       Is the server_cert_fingerprint working correctly or are there any bugs with the v5 ?

2.       Are the ssl_bump options/order correct ?

Any tips are welcome, thanks in advance...

Best regards,
Bye Fred
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/1922d0fa/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/1922d0fa/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025355.html">[squid-users] Empty transfer-encoding header causes 502 response
</A></li>
	<LI>Next message (by thread): <A HREF="025351.html">[squid-users] ACL based DNS server list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25341">[ date ]</a>
              <a href="thread.html#25341">[ thread ]</a>
              <a href="subject.html#25341">[ subject ]</a>
              <a href="author.html#25341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
