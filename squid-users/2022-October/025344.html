<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] FW: Encrypted browser-Squid connection errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3Cb4f9bcaf-8c83-567b-f9e7-7b120a510aa2%40spamtrap.tnetconsulting.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025343.html">
   <LINK REL="Next"  HREF="025346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] FW: Encrypted browser-Squid connection errors</H1>
    <B>Grant Taylor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3Cb4f9bcaf-8c83-567b-f9e7-7b120a510aa2%40spamtrap.tnetconsulting.net%3E"
       TITLE="[squid-users] FW: Encrypted browser-Squid connection errors">gtaylor at tnetconsulting.net
       </A><BR>
    <I>Tue Oct 25 18:14:52 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025343.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
        <LI>Next message (by thread): <A HREF="025346.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25344">[ date ]</a>
              <a href="thread.html#25344">[ thread ]</a>
              <a href="subject.html#25344">[ subject ]</a>
              <a href="author.html#25344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/25/22 11:03 AM, Matus UHLAR - fantomas wrote:
&gt;<i> I think intercepting is better, more precise.
</I>
I think that Squid can be an interception proxy as it can filter / alter 
content.

I also think that Squid (as an interception proxy) can be used 
transparently.

&gt;<i> those two are completely separate,
</I>
I'm not yet convinced.

&gt;<i> proxy may be intercepting and modify content (e.g. filter), including 
</I>&gt;<i> squid.
</I>
I guess it could be said that the transparency, or modification of 
content, is one aspect and that how the client connects to the proxy, 
explicit or implicit (network magic), could be another aspect.

            +-------------+--------+
            | transparent | opaque |
+----------+-------------+--------+
|<i> explicit |      2      |   1    |
</I>+----------+-------------+--------+
|<i> implicit |      3      |   4    |
</I>+----------+-------------+--------+

I believe that Squid can be either transparent and / or opaque depending 
on it's configuration.

I also believe that Squid can be either explicit and / or implicit via 
networking magic.

When I said that intercepting was a superset of transparent, I was 
including all four quadrants.

&gt;<i> yes, especially PAC scripts are great to explicitly state what you need, 
</I>&gt;<i> including using socks for other than http(s)/ftp connections (direct 
</I>&gt;<i> smtp,imap,pop3 over socks)
</I>
Yep.

&gt;<i> I guess PORT connections have to be allowed on the SOCKS server which is 
</I>&gt;<i> I'd say not common (can be dangerous)
</I>
Yes, the PORT connection must be allowed.  But the problem that I found 
was that the PORT declaration has a timeout / finite time that they 
would wait for connections.  E.g. ten minutes in the example I was 
looking at.

What's more is that the PORT connections must be declared /per/ 
/expected/ /connection/.  They aren't a generic forward traffic from any 
Internet connected system into the SOCKS client.

&gt;<i> passive connections are safe in case of ftp/ssl, where it's impossible 
</I>&gt;<i> to know for the proxy/firewall who connects where.
</I>
I don't think that it's impossible.  Rather it's just improbable.  It's 
technically possible to do TLS bump in the wire or other things like 
known keys (non-ephemeral / non-PFS) or sharing ephemeral / PFS keys 
from internal server with TLS monkey in the middle proxy.  Such is 
technically possible, just highly improbable.



-- 
Grant. . . .
unix || die

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4017 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/5210b330/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/5210b330/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025343.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
	<LI>Next message (by thread): <A HREF="025346.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25344">[ date ]</a>
              <a href="thread.html#25344">[ thread ]</a>
              <a href="subject.html#25344">[ subject ]</a>
              <a href="author.html#25344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
