<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] FW: Encrypted browser-Squid connection errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3Cfe36f2a3-afea-5976-02af-ea5f96b50d8c%40spamtrap.tnetconsulting.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025346.html">
   <LINK REL="Next"  HREF="025345.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] FW: Encrypted browser-Squid connection errors</H1>
    <B>Grant Taylor</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20FW%3A%20Encrypted%20browser-Squid%20connection%20errors&In-Reply-To=%3Cfe36f2a3-afea-5976-02af-ea5f96b50d8c%40spamtrap.tnetconsulting.net%3E"
       TITLE="[squid-users] FW: Encrypted browser-Squid connection errors">gtaylor at tnetconsulting.net
       </A><BR>
    <I>Tue Oct 25 19:07:17 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025346.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
        <LI>Next message (by thread): <A HREF="025345.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25348">[ date ]</a>
              <a href="thread.html#25348">[ thread ]</a>
              <a href="subject.html#25348">[ subject ]</a>
              <a href="author.html#25348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/25/22 12:57 PM, Matus UHLAR - fantomas wrote:
&gt;<i> That is why I prefer using &quot;intercepting proxy&quot; for case where 
</I>&gt;<i> connections between clients and servers intercepted by proxy, without it 
</I>&gt;<i> being configured in browsers.
</I>
Fair enough.

&gt;<i> precisely, so what exactly aren't you convinced about? :-)
</I>
The term &quot;transparent&quot; having multiple meanings.

I believe we were talking past each other and now are not.

&gt;<i> Have you noticed this with SOCKS server?
</I>
Yes, DANTE SOCKS server is exactly where I first read about the 
limitation that I'm talking about.  Subsequent reading of other SOCKS 
servers supported this limitation.

N.B. I'm specifically talking about how a SOCKS aware (FTP) client can 
ask that an external port be connected to the SOCKS client for a defined 
period of time (ten minutes in the examples I saw).  This is sufficient 
for most active FTP connections (presuming that the ftp client is also 
the socks client) as the data connection from the FTP server comes back 
to the SOCKS server ~&gt; FTP client in short order.

&gt;<i> I guess this applies for firewalls that will disable connections to the 
</I>&gt;<i> port later.&#160; But the same applies for PASV connections and the reply 
</I>&gt;<i> when firewall at serer side is used.
</I>
Agreed.

Aside:  I don't think I've ever seen SOCKS be used to front public 
services.  Rather I've only ever seen SOCKS used for (private) clients.

&gt;<i> When ssl/tls is used between client and server, intermediate gateways 
</I>&gt;<i> and firewalls don't know what ports do endpoints agree on using PORT/PASV.
</I>&gt;<i> 
</I>&gt;<i> Unless they intercept SSL conneciton (which kind of makes them FTP 
</I>&gt;<i> endpoints) or the client supports and issues FTP command &quot;CCC&quot; which is 
</I>&gt;<i> designed for this case.&#160; I'm afraid not many FTP clients do that.
</I>
Agreed.

I think this middle box behavior is far more common on HTTPS in larger 
data centers where the middle box is used to enforce compliance and the 
likes.

&gt;<i> agree.
</I>&gt;<i> 
</I>&gt;<i> the workaround is to use static list of ports at server side and 
</I>&gt;<i> configure server firewall to statically allow connection to these ports 
</I>&gt;<i> (optionally NAT them).
</I>
Yep.

&gt;<i> however this is already not a SQUID issue.
</I>
Agreed.



-- 
Grant. . . .
unix || die

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4017 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/fa705b4b/attachment.bin">http://lists.squid-cache.org/pipermail/squid-users/attachments/20221025/fa705b4b/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025346.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
	<LI>Next message (by thread): <A HREF="025345.html">[squid-users] FW: Encrypted browser-Squid connection errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25348">[ date ]</a>
              <a href="thread.html#25348">[ thread ]</a>
              <a href="subject.html#25348">[ subject ]</a>
              <a href="author.html#25348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
