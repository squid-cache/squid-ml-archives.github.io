<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Do squid logs performence affect general request performece?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Do%20squid%20logs%20performence%20affect%20general%20request%0A%20performece%3F&In-Reply-To=%3C5ac180f3-41c7-463b-8266-4fef7ee0fee4%40Spark%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025204.html">
   <LINK REL="Next"  HREF="025201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Do squid logs performence affect general request performece?</H1>
    <B>roee klinger</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Do%20squid%20logs%20performence%20affect%20general%20request%0A%20performece%3F&In-Reply-To=%3C5ac180f3-41c7-463b-8266-4fef7ee0fee4%40Spark%3E"
       TITLE="[squid-users] Do squid logs performence affect general request performece?">roeeklinger60 at gmail.com
       </A><BR>
    <I>Fri Sep  9 12:49:33 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025204.html">[squid-users] Scaling concurrent TCP sessions beyond ephemeral port range
</A></li>
        <LI>Next message (by thread): <A HREF="025201.html">[squid-users] Do squid logs performence affect general request performece?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25199">[ date ]</a>
              <a href="thread.html#25199">[ thread ]</a>
              <a href="subject.html#25199">[ subject ]</a>
              <a href="author.html#25199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have just recently started exploring ingesting logs from Squid via Logstash (TCP log ingestion)

I now have to make the decision of how to deploy Logstash, it seems to me that I have two options:

1. Deploy a Logstash instance for every region where I have a Squid instance running, resulting in the lowest latency possible between Squid and Logstash.
2. Deploy a central Logstash instance for all Squid instance worldwide, which is the cheapest and easiest option, but will have high latency for some of the Squid instance which are located far away geographically from the Logstash instance.

I already know that if the log server crashes in Squid, then Squid will crash with a fatal error, so Squid takes logging very seriously, so my question is: does TCP logging performance in Squid effect the total request performance, or are they independent from each other? based on that, I can decide if I go with option #1 or #2.

What would be you recommendations, if request performance is crucial (and log performance is not)?

Thanks,
Roee
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20220909/7e78ef26/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20220909/7e78ef26/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025204.html">[squid-users] Scaling concurrent TCP sessions beyond ephemeral port range
</A></li>
	<LI>Next message (by thread): <A HREF="025201.html">[squid-users] Do squid logs performence affect general request performece?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25199">[ date ]</a>
              <a href="thread.html#25199">[ thread ]</a>
              <a href="subject.html#25199">[ subject ]</a>
              <a href="author.html#25199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
