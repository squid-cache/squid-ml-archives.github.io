<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid authentication objects by source ip
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20authentication%20objects%20by%20source%20ip&In-Reply-To=%3C1l9Gdh5PW5xWwcpdX0CgqpjOwMUne9-Vmln7TSaa5FwXWJN8RLgvxcoW2I8GMuRInhEQMhYV_9ZvafIcjtW-NJUcs0xLmh5e0f7VbOkkUOY%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025758.html">
   <LINK REL="Next"  HREF="025763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid authentication objects by source ip</H1>
    <B>hans.peter.wurst2000</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20authentication%20objects%20by%20source%20ip&In-Reply-To=%3C1l9Gdh5PW5xWwcpdX0CgqpjOwMUne9-Vmln7TSaa5FwXWJN8RLgvxcoW2I8GMuRInhEQMhYV_9ZvafIcjtW-NJUcs0xLmh5e0f7VbOkkUOY%3D%40protonmail.com%3E"
       TITLE="[squid-users] Squid authentication objects by source ip">hans.peter.wurst2000 at protonmail.com
       </A><BR>
    <I>Wed Apr 12 11:14:35 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025758.html">[squid-users] idnsSendQuery: Can't send query, no DNS socket!
</A></li>
        <LI>Next message (by thread): <A HREF="025763.html">[squid-users] Squid authentication objects by source ip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25754">[ date ]</a>
              <a href="thread.html#25754">[ thread ]</a>
              <a href="subject.html#25754">[ subject ]</a>
              <a href="author.html#25754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

i have currently a problem to setup squid authentication with kerberos. The problem is not the authentication itself. It works fine, but only for one AD-Domain. I have 6 AD Domains that have to authenticate trough this squid-proxy. In the documentation &quot;<A HREF="https://wiki.squid-cache.org/Features/Authentication">https://wiki.squid-cache.org/Features/Authentication</A>&quot; i have seen that my problem could be solved by using full plain authentication with ldap. And that is the current way i will solve this. But for future squid releases would it be possible to change the Proxy authentication function to filter authentication methods by source ip.

Example:

auth_param 1 negotiate program /usr/sbin/squid_kerb_auth

-k /etc/squid/HTTP_Domain1.keytab

auth_param 1 negotiate children 10
auth_param 1 negotiate keep_alive on

auth_param 2 negotiate program /usr/sbin/squid_kerb_auth

-k /etc/squid/HTTP_Domain2.keytab

auth_param 2 negotiate children 10
auth_param 2 negotiate keep_alive on

acl dom1-auth src 10.15.0.0/255.255.255.0 proxy_auth 1 REQUIRED

acl dom2-auth src 10.16.0.0/255.255.255.0 proxy_auth 2 REQUIRED

http_access allow dom1-auth

http_access allow dom2-auth

http_access deny all

I have show an example here by separate the authenticators by numbers, but it could also be an ascii word.

Filter by LDAP Groups should also be possible like before.

Thank you for your help,
Hans-Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230412/fe414b68/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230412/fe414b68/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025758.html">[squid-users] idnsSendQuery: Can't send query, no DNS socket!
</A></li>
	<LI>Next message (by thread): <A HREF="025763.html">[squid-users] Squid authentication objects by source ip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25754">[ date ]</a>
              <a href="thread.html#25754">[ thread ]</a>
              <a href="subject.html#25754">[ subject ]</a>
              <a href="author.html#25754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
