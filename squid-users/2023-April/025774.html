<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Is there any squid 4.x tested with Delay pools to work and limit well ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20any%20squid%204.x%20tested%20with%20Delay%20pools%20to%0A%20work%20and%20limit%20well%20%3F&In-Reply-To=%3C6958a75c-8803-f355-8f67-b4ef7d6fdffd%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025773.html">
   <LINK REL="Next"  HREF="025744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Is there any squid 4.x tested with Delay pools to work and limit well ?</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Is%20there%20any%20squid%204.x%20tested%20with%20Delay%20pools%20to%0A%20work%20and%20limit%20well%20%3F&In-Reply-To=%3C6958a75c-8803-f355-8f67-b4ef7d6fdffd%40measurement-factory.com%3E"
       TITLE="[squid-users] Is there any squid 4.x tested with Delay pools to work and limit well ?">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Apr 17 20:36:33 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025773.html">[squid-users] Is there any squid 4.x tested with Delay pools to work and limit well ?
</A></li>
        <LI>Next message (by thread): <A HREF="025744.html">[squid-users] idnsSendQuery: Can't send query, no DNS socket!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25774">[ date ]</a>
              <a href="thread.html#25774">[ thread ]</a>
              <a href="subject.html#25774">[ subject ]</a>
              <a href="author.html#25774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/17/23 14:52, Dr.X wrote:
&gt;<i> Could you please explain why the developers are upgrading Squid from 
</I>&gt;<i> version 4 to 5 and 6, while ignoring a critical built-in feature like 
</I>&gt;<i> Delay Pools that has been reported as a bug since Squid 4.x?
</I>
Modern Squids are released on a fixed schedule[1], regardless of how 
many old bugs are left in the code.

[1] <A HREF="https://wiki.squid-cache.org/ReleaseSchedule">https://wiki.squid-cache.org/ReleaseSchedule</A>

FWIW, we have tried several other approaches, but they were all proven 
to be even more problematic. For example, the natural &quot;let's fix all 
critical bugs before declaring a new version STABLE&quot; approach (which we 
also tried), leads to many problems in Squid environment, including these:

* The development version can &quot;never&quot; be honestly declared stable 
because nobody volunteers to fix all critical bugs. Please note that we 
cannot force developers to fix bugs -- there are no Squid Project 
employees to order around.

* Some critical bug fixes are delayed forever because they require 
changes deemed too disruptive to be done when the official development 
branch code finally appears to be close of becoming stable -- working 
well in known/important/supported environments.

* Since a stable declaration is always pushed back, the number of folks 
interested in testing the development version goes down. With that 
decrease, the number of critical bugs discovered/reported decreases as 
well. As a result, if we do mark a release as stable, we are then 
flooded with new critical bug reports (for a now &quot;stable&quot; version!).

* Persistent fights about bug classification consume a lot of developer 
time and nerve cells. A broken feature deemed critical by one relatively 
reasonable person may be treated as dead code that should be removed by 
another reasonable person!

* The stable version is so old that it is effectively unusable in many 
modern environments because it lacks essential features for those 
environments. Those features cannot be added to that stable version 
because doing so may disrupt its stability.

* The stable version effectively becomes unstable in many environments 
because nobody volunteers to fix its bugs because most developers are 
running or supporting some other code snapshot (that works for them or 
their customers).


The Squid Project has decided that a fixed schedule of releases has a 
potential to be an overall better approach. FWIW, I agree with that 
decision. We all know that it will not fix all the problems.


Antony Stone has mentioned many good general reasons why some bugs take 
longer to fix than others, especially in an open source project. My 
response does not contradict that useful information. I was just trying 
to provide an answer that is a bit closer to your specific question...


HTH,

Alex.


&gt;<i> *From: *Dr.X &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">0xff1f at gmail.com</A>&gt;
</I>&gt;<i> *Date: *Tuesday, 11 April 2023 05:33
</I>&gt;<i> *To: *Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;, 
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i> *Cc: *Dave Blanchard &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">dave at killthe.net</A>&gt;
</I>&gt;<i> *Subject: *Re: [squid-users] Is there any squid 4.x tested with Delay 
</I>&gt;<i> pools to work and limit well ?
</I>&gt;<i> 
</I>&gt;<i> Ok nice , we will stick with squid 3.x then &#128522;
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> *From: *Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
</I>&gt;<i> *Date: *Tuesday, 11 April 2023 05:31
</I>&gt;<i> *To: *<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;<i> *Cc: *Dave Blanchard &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">dave at killthe.net</A>&gt;, Dr.X &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">0xff1f at gmail.com</A>&gt;
</I>&gt;<i> *Subject: *Re: [squid-users] Is there any squid 4.x tested with Delay 
</I>&gt;<i> pools to work and limit well ?
</I>&gt;<i> 
</I>&gt;<i> On 4/10/23 20:42, Dr.X wrote:
</I>&gt;&gt;<i> Is it solved in squid 6.x ?
</I>&gt;<i> 
</I>&gt;<i> I do not think so. AFAIK, Bug 4913 (Delay Pools don't work for Tunneled
</I>&gt;<i> traffic) affects all Squid versions starting with v4 (at least). IIRC,
</I>&gt;<i> there were some code improvements in that area, as side effects of other
</I>&gt;<i> projects, but nobody has worked on an actual fix yet.
</I>&gt;<i> 
</I>&gt;<i> Alex.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> *From: *Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
</I>&gt;&gt;<i> *Date: *Tuesday, 11 April 2023 03:24
</I>&gt;&gt;<i> *To: *<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;&gt;<i> *Cc: *Dave Blanchard &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">dave at killthe.net</A>&gt;, Dr.X &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">0xff1f at gmail.com</A>&gt;
</I>&gt;&gt;<i> *Subject: *Re: [squid-users] Is there any squid 4.x tested with Delay 
</I>&gt;&gt;<i> pools to work and limit well ?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 4/10/23 18:41, Dr.X wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> So do you think we will have squid 4.x to be fixed soon or latter ?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Squid v4 receives very little attention these days. FWIW, I am not aware
</I>&gt;&gt;<i> of anybody working on Bug 4913 (Delay Pools don't work for Tunneled
</I>&gt;&gt;<i> traffic) right now (for any Squid version).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something">https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> *From: *Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt;
</I>&gt;&gt;&gt;<i> *Date: *Monday, 10 April 2023 04:31
</I>&gt;&gt;&gt;<i> *To: *<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A> &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;&gt;&gt;<i> *Cc: *Dr.X &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">0xff1f at gmail.com</A>&gt;, Dave Blanchard &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">dave at killthe.net</A>&gt;
</I>&gt;&gt;&gt;<i> *Subject: *Re: [squid-users] Is there any squid 4.x tested with Delay 
</I>&gt;&gt;&gt;<i> pools to work and limit well ?
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> On 4/8/23 15:35, Dave Blanchard wrote:
</I>&gt;&gt;&gt;&gt;<i> On Sat, 8 Apr 2023 16:40:02 +0000
</I>&gt;&gt;&gt;&gt;<i> Dr.X &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">0xff1f at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;&gt;<i> I was wondering if you have a Squid 4.x version that supports delay
</I>&gt;&gt;&gt;&gt;&gt;<i> pools and is not buggy. I asked Alex, the developer, and he
</I>&gt;&gt;&gt;&gt;&gt;<i> informed me that none of the 4.x versions support it. I also
</I>&gt;&gt;&gt;&gt;&gt;<i> reached out to Amos but haven't received a response yet.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> I'm interested in this also, as I've just tried setting up delay
</I>&gt;&gt;&gt;&gt;<i> pools on 5.4 and so far haven't managed to make it work as expected.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I would like to clarify delay pools support status, again: For some
</I>&gt;&gt;&gt;<i> traffic, some delay pools configurations are probably working OK in
</I>&gt;&gt;&gt;<i> Squid v4+. The Squid bug Dr.X has been referring to above (and in other
</I>&gt;&gt;&gt;<i> recent squid-user emails) is Bug 4913 (Delay Pools don't work for
</I>&gt;&gt;&gt;<i> Tunneled traffic):
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> * <A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=4913">https://bugs.squid-cache.org/show_bug.cgi?id=4913</A> 
</I>&gt;&gt;&gt;<i> * <A HREF="http://lists.squid-cache.org/pipermail/squid-users/2022-June/024922.html">http://lists.squid-cache.org/pipermail/squid-users/2022-June/024922.html</A> 
</I>&gt;&gt;&gt;<i> * <A HREF="http://lists.squid-cache.org/pipermail/squid-users/2023-April/025725.html">http://lists.squid-cache.org/pipermail/squid-users/2023-April/025725.html</A>
</I>&gt;&gt;&gt;<i> HTH,
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Alex.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025773.html">[squid-users] Is there any squid 4.x tested with Delay pools to work and limit well ?
</A></li>
	<LI>Next message (by thread): <A HREF="025744.html">[squid-users] idnsSendQuery: Can't send query, no DNS socket!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25774">[ date ]</a>
              <a href="thread.html#25774">[ thread ]</a>
              <a href="subject.html#25774">[ subject ]</a>
              <a href="author.html#25774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
