<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Fwd: cache_peer_access by dynamic ACL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20cache_peer_access%20by%20dynamic%20ACL&In-Reply-To=%3Ca37abc7a-4c5a-6747-fdd7-f3ad2b0b2328%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025797.html">
   <LINK REL="Next"  HREF="025799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Fwd: cache_peer_access by dynamic ACL</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Fwd%3A%20cache_peer_access%20by%20dynamic%20ACL&In-Reply-To=%3Ca37abc7a-4c5a-6747-fdd7-f3ad2b0b2328%40treenet.co.nz%3E"
       TITLE="[squid-users] Fwd: cache_peer_access by dynamic ACL">squid3 at treenet.co.nz
       </A><BR>
    <I>Sun Apr 23 12:36:28 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025797.html">[squid-users] Fwd: cache_peer_access by dynamic ACL
</A></li>
        <LI>Next message (by thread): <A HREF="025799.html">[squid-users] Fwd: cache_peer_access by dynamic ACL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25798">[ date ]</a>
              <a href="thread.html#25798">[ thread ]</a>
              <a href="subject.html#25798">[ subject ]</a>
              <a href="author.html#25798">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/04/2023 5:27 pm, Alexey&#1103;&#1088; Gruzdov wrote:
&gt;<i> Hello Guys!
</I>&gt;<i> Thank you very much! For now all works like I needed!
</I>&gt;<i>
</I>&gt;<i> But I have an one more &#160;questions about how I could to use the kv-pair:
</I>...
&gt;<i> and then ACL with &#8220;note proxy all &#8220;
</I>&gt;<i> But how the kv-pair must to be looked for this my tag ?
</I>&gt;<i>
</I>&gt;<i> I have tried to get answer from my ext script like
</I>&gt;<i> &#8220;OK&#8221;
</I>&gt;<i> &#8220;proxy=all&#8221;
</I>&gt;<i>
</I>&gt;<i> But looks like it&#8217;s not correct
</I>&gt;<i>
</I>
This part of the instructions were missed:
<A HREF="https://wiki.squid-cache.org/Features/AddonHelpers#helper-protocols">https://wiki.squid-cache.org/Features/AddonHelpers#helper-protocols</A>
&quot;
For every line sent by Squid exactly one line is expected back. Some 
script language such as perl and python need to be careful about the 
number of newlines in their output.
&quot;

If your helper received something like this (with concurrency channel-id 
&quot;1&quot;):

 &#160;&quot;1 bob 192.0.2.1&quot;

It should produce a line like:
 &#160; &quot;1 OK proxy=all&quot;

If no concurrency channel-id is received, then output is the same but 
without sending channel-id back and MUST be sent in same order as received.

I do recommend using concurrency. It can help further debug issues with 
helpers responding incorrectly.

HTH
Amos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025797.html">[squid-users] Fwd: cache_peer_access by dynamic ACL
</A></li>
	<LI>Next message (by thread): <A HREF="025799.html">[squid-users] Fwd: cache_peer_access by dynamic ACL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25798">[ date ]</a>
              <a href="thread.html#25798">[ thread ]</a>
              <a href="subject.html#25798">[ subject ]</a>
              <a href="author.html#25798">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
