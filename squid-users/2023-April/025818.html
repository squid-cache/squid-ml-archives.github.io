<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid ntlm_authenticator #Hlpr254332 exited
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20ntlm_authenticator%20%23Hlpr254332%20exited&In-Reply-To=%3CMW5PR14MB5289C3F3E4652D23BF218DE7B06B9%40MW5PR14MB5289.namprd14.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025811.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid ntlm_authenticator #Hlpr254332 exited</H1>
    <B>Bobby Matznick</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20ntlm_authenticator%20%23Hlpr254332%20exited&In-Reply-To=%3CMW5PR14MB5289C3F3E4652D23BF218DE7B06B9%40MW5PR14MB5289.namprd14.prod.outlook.com%3E"
       TITLE="[squid-users] Squid ntlm_authenticator #Hlpr254332 exited">bmatznick at pbandt.bank
       </A><BR>
    <I>Fri Apr 28 19:05:23 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025811.html">[squid-users] Cannot get Squid to start with external ACL in config
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25818">[ date ]</a>
              <a href="thread.html#25818">[ thread ]</a>
              <a href="subject.html#25818">[ subject ]</a>
              <a href="author.html#25818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Upgraded to Debian 11 and all that comes with that (updated all packages, squid, samba, winbindd, etc.) After upgrading I had no problems joining the windows domain, no issues with wbinfo -u or -g. In the squid logs I see the normal lines appearing except there are no usernames associated with the requests, thus, they are all TCP_DENIED/407. No surprise there since the usernames aren't coming through. When I look to the squid cache.log I see the following lines repeated over and over. My initial thought is that this has something to do with samba or winbindd even though they are working.... The one odd thing I noticed is that on my older version of Debian, winbindd had two separate folders, /var/run/samba/winbindd_privileged and /var/lib/samba/winbindd_privileged. Only the /var/lib/samba/winbindd_privileged folder contained the pipe though. After the upgrade I have /var/lib/samba/winbindd_privileged with a pipe present. There is no /var/run/samba/winbindd_privileged. However, there is a /var/run/samba/winbindd (this also exists on the old system) folder that has a pipe. Is the winbindd_privileged folder with the pipe in /var/run/samba/winbindd_privileged/pipe necessary? How can I tell which one squid is actually trying to use? May have nothing to do with the errors I am seeing but it does seem odd.
Any help would be greatly appreciated. Thanks!!

Squid cache log entries:
ipcCreate:  //usr/bin/ntlm_auth:  (13) Permission denied
WARNING: ntlmauthenticator #Hlpr253452 exited

Bobby
CONFIDENTIALITY NOTICE: The information contained in and attached to this email is intended only for the confidential use of the person or entity to which the email is addressed. This email and any attachments may contain privileged and confidential information. If you are not the intended recipient, you are notified that you received this email in error and that any reading, retention, use or distribution of this email and attachments is strictly prohibited. If you received this email in error, you are requested to immediately notify us by calling 888-728-3550 or by return email and immediately and permanently delete the email and any attachments. Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230428/bbba7140/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230428/bbba7140/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0.jpg
Type: image/jpeg
Size: 6398 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230428/bbba7140/attachment.jpg">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230428/bbba7140/attachment.jpg</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025811.html">[squid-users] Cannot get Squid to start with external ACL in config
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25818">[ date ]</a>
              <a href="thread.html#25818">[ thread ]</a>
              <a href="subject.html#25818">[ subject ]</a>
              <a href="author.html#25818">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
