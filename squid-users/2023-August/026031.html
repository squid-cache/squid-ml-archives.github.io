<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Recent Squid 4 versions show ERR_CANNOT_FORWARD instead of ERR_DNS_FAIL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Recent%20Squid%204%20versions%20show%20ERR_CANNOT_FORWARD%0A%20instead%20of%20ERR_DNS_FAIL&In-Reply-To=%3CCAARumMkBqoHpsq-ZzhKGJjOTYxuxVpLoOcFBwygD2A0EiNyK3w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026030.html">
   <LINK REL="Next"  HREF="026032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Recent Squid 4 versions show ERR_CANNOT_FORWARD instead of ERR_DNS_FAIL</H1>
    <B>Tommy Brunn</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Recent%20Squid%204%20versions%20show%20ERR_CANNOT_FORWARD%0A%20instead%20of%20ERR_DNS_FAIL&In-Reply-To=%3CCAARumMkBqoHpsq-ZzhKGJjOTYxuxVpLoOcFBwygD2A0EiNyK3w%40mail.gmail.com%3E"
       TITLE="[squid-users] Recent Squid 4 versions show ERR_CANNOT_FORWARD instead of ERR_DNS_FAIL">tommy.brunn at klarna.com
       </A><BR>
    <I>Wed Aug  9 15:56:44 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026030.html">[squid-users] Recent Squid 4 versions show ERR_CANNOT_FORWARD instead of ERR_DNS_FAIL
</A></li>
        <LI>Next message (by thread): <A HREF="026032.html">[squid-users] Sockets not closed after ICAP receivedWholeAdaptedReply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26031">[ date ]</a>
              <a href="thread.html#26031">[ thread ]</a>
              <a href="subject.html#26031">[ subject ]</a>
              <a href="author.html#26031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for the quick response and confirmation that this is indeed
a bug. I have since confirmed that the same bug is present also in
6.1.

On Wed, Aug 9, 2023 at 3:38&#8239;PM Alex Rousskov wrote:

&gt;<i> Thank you for sharing those details. When developers start working on a
</I>&gt;<i> fix, they may find them very useful (if they can find them at that
</I>&gt;<i> time). You may also want to post a bug report on Squid Bugzilla.
</I>
I have gone ahead and submitted bug 5294
(<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5294">https://bugs.squid-cache.org/show_bug.cgi?id=5294</A>) for this issue
now.

&gt;<i> Given all these uncertainties, if your infrastructure relies on a very
</I>&gt;<i> specific HTTP status response code, it may be a good idea to redesign.
</I>
Indeed. I would expect clients to functionally behave the same whether
they receive a 500 or a 503 in this case. It's just less informative
and may require more investigation time to determine if there is
indeed an actual internal error in Squid or if the client just tried
to connect to a domain that doesn't exist. At least now I know that
it's not expected behavior so that I can document it accordingly for
our users.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026030.html">[squid-users] Recent Squid 4 versions show ERR_CANNOT_FORWARD instead of ERR_DNS_FAIL
</A></li>
	<LI>Next message (by thread): <A HREF="026032.html">[squid-users] Sockets not closed after ICAP receivedWholeAdaptedReply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26031">[ date ]</a>
              <a href="thread.html#26031">[ thread ]</a>
              <a href="subject.html#26031">[ subject ]</a>
              <a href="author.html#26031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
