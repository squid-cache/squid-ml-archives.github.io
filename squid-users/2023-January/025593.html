<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Counting unique devices connected to squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Counting%20unique%20devices%20connected%20to%20squid%20proxy&In-Reply-To=%3CY9PPZEZJGjF/vhDw%40fantomas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025588.html">
   <LINK REL="Next"  HREF="025583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Counting unique devices connected to squid proxy</H1>
    <B>Matus UHLAR - fantomas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Counting%20unique%20devices%20connected%20to%20squid%20proxy&In-Reply-To=%3CY9PPZEZJGjF/vhDw%40fantomas.sk%3E"
       TITLE="[squid-users] Counting unique devices connected to squid proxy">uhlar at fantomas.sk
       </A><BR>
    <I>Fri Jan 27 13:19:32 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025588.html">[squid-users] Counting unique devices connected to squid proxy
</A></li>
        <LI>Next message (by thread): <A HREF="025583.html">[squid-users] Question regarding the release process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25593">[ date ]</a>
              <a href="thread.html#25593">[ thread ]</a>
              <a href="subject.html#25593">[ subject ]</a>
              <a href="author.html#25593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i>On 20/01/2023 9:16 am, Marcus Kool wrote:
</I>&gt;&gt;&gt;<i>The squid log file contains the IP address of clients and could be 
</I>&gt;&gt;&gt;<i>a good field to use for counting users. But a NAT shows 1 IP for 
</I>&gt;&gt;&gt;<i>all users behind the NAT...
</I>
&gt;&gt;&gt;<i>On 19/01/2023 15:48, Ben Goz wrote:
</I>&gt;&gt;&gt;&gt;<i>I have a certain task to count the number of unique devices 
</I>&gt;&gt;&gt;&gt;<i>connected (Could be also transparently) to squid proxy server. 
</I>&gt;&gt;&gt;&gt;<i>While the users can be on different networks and behind NAT.
</I>&gt;&gt;&gt;&gt;<i>Is it possible?
</I>
&gt;<i>On 21/01/2023 14:59, Amos Jeffries wrote:
</I>&gt;&gt;<i>No, not really. As Marcus said NAT erases information. As does any 
</I>&gt;&gt;<i>HTTP multiplexing being performed by downstream proxies.
</I>
On 22.01.23 14:37, Ben Goz wrote:
&gt;<i>Is it possible for squid to identify NAT?
</I>
not really.

&gt;&gt;&gt;&gt;<i>What is the best approach&#160;of implement&#160;it?
</I>
&gt;&gt;<i>Squid provides a management report &quot;client_list&quot; with all recently 
</I>&gt;&gt;<i>seen client devices. It is reliable for the *currently* connected 
</I>&gt;&gt;<i>clients, but once a client disconnects entries are discarded 
</I>&gt;&gt;<i>relative to how much traffic they have used.
</I>
&gt;<i>Does this report also words behind NAT? can you refer me to more 
</I>&gt;<i>descriptive information about &quot;client_list&quot;?
</I>
you should understand that web pages consist of multiple (tens, hundreds) of 
objects and they are fetched using multiple HTTP transactions to multiple 
servers and between, connections may be closed between multiple clicks.

So, it's really hard to distinguish between one client fetching 100 objects 
from 10 servers and 5 clients fetching 20 objects from 2 servers each.


&gt;&gt;<i>Or there are the logs which contain (or can be configured to record) 
</I>&gt;&gt;<i>a details of *completed* transactions.
</I>
-- 
Matus UHLAR - fantomas, <A HREF="https://lists.squid-cache.org/listinfo/squid-users">uhlar at fantomas.sk</A> ; <A HREF="http://www.fantomas.sk/">http://www.fantomas.sk/</A>
Warning: I wish NOT to receive e-mail advertising to this address.
Varovanie: na tuto adresu chcem NEDOSTAVAT akukolvek reklamnu postu.
42.7 percent of all statistics are made up on the spot.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025588.html">[squid-users] Counting unique devices connected to squid proxy
</A></li>
	<LI>Next message (by thread): <A HREF="025583.html">[squid-users] Question regarding the release process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25593">[ date ]</a>
              <a href="thread.html#25593">[ thread ]</a>
              <a href="subject.html#25593">[ subject ]</a>
              <a href="author.html#25593">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
