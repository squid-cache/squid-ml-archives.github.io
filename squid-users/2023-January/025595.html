<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid use all memory ram
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20use%20all%20memory%20ram&In-Reply-To=%3CCAL5gn0VWzntX-1SVZ0O_8qE%3DDTC_WycKRbrOaSdqGJ5J90TZGg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025590.html">
   <LINK REL="Next"  HREF="025591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid use all memory ram</H1>
    <B>Gustavo Carvalho</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20use%20all%20memory%20ram&In-Reply-To=%3CCAL5gn0VWzntX-1SVZ0O_8qE%3DDTC_WycKRbrOaSdqGJ5J90TZGg%40mail.gmail.com%3E"
       TITLE="[squid-users] Squid use all memory ram">gustavocarv4872 at gmail.com
       </A><BR>
    <I>Fri Jan 27 22:27:59 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025590.html">[squid-users] Squid use all memory ram
</A></li>
        <LI>Next message (by thread): <A HREF="025591.html">[squid-users] Fwd: WebSocket support in v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25595">[ date ]</a>
              <a href="thread.html#25595">[ thread ]</a>
              <a href="subject.html#25595">[ subject ]</a>
              <a href="author.html#25595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Hamilton, thanks for helping!

I wish I could provide this log while squid is crashing, but there
have been no incidents since wednesday. From what I've heard, the RAM
on that server's VM has been increased to 32GB.

Anyway, here is the squidclient mgr:mem log output. I hope it can be helpful.

On Thu, Jan 26, 2023 at 5:43 PM Hamilton Coutinho
&lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">hamilton.coutinho at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi Gustavo,
</I>&gt;<i>
</I>&gt;<i> I'm seeing the same thing. I could narrow down (but can't say with 100% confidence) to the code that does certificate verification when configured for SSL decryption. What is the output of squidclient mgr:mem for you? Do you see unexplainably high counts for in-use objects like HttpRequest, PeekingPeerConnector, Comm::Connection, Security::ErrorDetail?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Jan 26, 2023 at 12:31 PM Gustavo Carvalho &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">gustavocarv4872 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have Squid 5.6 on a FreeBSD 13.1 server with 16GB RAM
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I noticed that squid starts to consume a lot of ram until it starts to
</I>&gt;&gt;<i> consume swap space. When this happens, browsing becomes extremely
</I>&gt;&gt;<i> slow.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is happening at least once a week when I have to restart squid to
</I>&gt;&gt;<i> get it back to normal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any ideas?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ############# Wed Jan 25 08:30:00 -03 2023 #############
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTTP/1.1 200 OK
</I>&gt;&gt;<i> Server: squid
</I>&gt;&gt;<i> Mime-Version: 1.0
</I>&gt;&gt;<i> Date: Wed, 25 Jan 2023 11:30:00 GMT
</I>&gt;&gt;<i> Content-Type: text/plain;charset=utf-8
</I>&gt;&gt;<i> Expires: Wed, 25 Jan 2023 11:30:00 GMT
</I>&gt;&gt;<i> Last-Modified: Wed, 25 Jan 2023 11:30:00 GMT
</I>&gt;&gt;<i> X-Cache: MISS from xxxx.xxxx.xxxx
</I>&gt;&gt;<i> X-Cache-Lookup: MISS from xxxx.xxxx.xxxx:3128
</I>&gt;&gt;<i> Via: 1.1 xxxx.xxxx.xxxx (squid)
</I>&gt;&gt;<i> Connection: close
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Squid Object Cache: Version 5.6
</I>&gt;&gt;<i> Build Info:
</I>&gt;&gt;<i> Service Name: squid
</I>&gt;&gt;<i> Start Time: Thu, 19 Jan 2023 20:25:17 GMT
</I>&gt;&gt;<i> Current Time: Wed, 25 Jan 2023 11:30:00 GMT
</I>&gt;&gt;<i> Connection information for squid:
</I>&gt;&gt;<i>      Number of clients accessing cache: 224
</I>&gt;&gt;<i>      Number of HTTP requests received: 7541590
</I>&gt;&gt;<i>      Number of ICP messages received: 0
</I>&gt;&gt;<i>      Number of ICP messages sent: 0
</I>&gt;&gt;<i>      Number of queued ICP replies: 0
</I>&gt;&gt;<i>      Number of HTCP messages received: 0
</I>&gt;&gt;<i>      Number of HTCP messages sent: 0
</I>&gt;&gt;<i>      Request failure ratio: 0.00
</I>&gt;&gt;<i>      Average HTTP requests per minute since start: 930.5
</I>&gt;&gt;<i>      Average ICP messages per minute since start: 0.0
</I>&gt;&gt;<i>      Select loop called: 78733524 times, 6.176 ms avg
</I>&gt;&gt;<i> Cache information for squid:
</I>&gt;&gt;<i>      Hits as % of all requests: 5min: 8.4%, 60min: 12.1%
</I>&gt;&gt;<i>      Hits as % of bytes sent: 5min: 21.6%, 60min: 14.1%
</I>&gt;&gt;<i>      Memory hits as % of hit requests: 5min: 90.8%, 60min: 75.9%
</I>&gt;&gt;<i>      Disk hits as % of hit requests: 5min: 4.0%, 60min: 19.7%
</I>&gt;&gt;<i>      Storage Swap size: 2829956 KB
</I>&gt;&gt;<i>      Storage Swap capacity: 90.0% used, 10.0% free
</I>&gt;&gt;<i>      Storage Mem size: 16172 KB
</I>&gt;&gt;<i>      Storage Mem capacity: 98.7% used,  1.3% free
</I>&gt;&gt;<i>      Mean Object Size: 28.95 KB
</I>&gt;&gt;<i>      Requests given to unlinkd: 186982
</I>&gt;&gt;<i> Median Service Times (seconds)  5 min    60 min:
</I>&gt;&gt;<i> HTTP Requests (All):   0.00562  0.01847
</I>&gt;&gt;<i>      Cache Misses:          0.15048  0.23230
</I>&gt;&gt;<i>      Cache Hits:            0.00000  0.00000
</I>&gt;&gt;<i>      Near Hits:             0.14252  0.13498
</I>&gt;&gt;<i>      Not-Modified Replies:  0.00865  0.03066
</I>&gt;&gt;<i>      DNS Lookups:           0.00000  0.00372
</I>&gt;&gt;<i>      ICP Queries:           0.00000  0.00000
</I>&gt;&gt;<i> Resource usage for squid:
</I>&gt;&gt;<i>      UP Time: 486282.612 seconds
</I>&gt;&gt;<i>      CPU Time: 65555.712 seconds
</I>&gt;&gt;<i>      CPU Usage: 13.48%
</I>&gt;&gt;<i>      CPU Usage, 5 minute avg: 26.89%
</I>&gt;&gt;<i>      CPU Usage, 60 minute avg: 68.00%
</I>&gt;&gt;<i>      Maximum Resident Size: 37896960 KB
</I>&gt;&gt;<i>      Page faults with physical i/o: 10843
</I>&gt;&gt;<i> Memory accounted for:
</I>&gt;&gt;<i>      Total accounted:       -1459461 KB
</I>&gt;&gt;<i>      memPoolAlloc calls:     11408
</I>&gt;&gt;<i>      memPoolFree calls:  1888969689
</I>&gt;&gt;<i> File descriptor usage for squid:
</I>&gt;&gt;<i>      Maximum number of file descriptors:   4096
</I>&gt;&gt;<i>      Largest file desc currently in use:   2149
</I>&gt;&gt;<i>      Number of file desc currently in use:  679
</I>&gt;&gt;<i>      Files queued for open:                   0
</I>&gt;&gt;<i>      Available number of file descriptors: 3417
</I>&gt;&gt;<i>      Reserved number of file descriptors:   100
</I>&gt;&gt;<i>      Store Disk files open:                   0
</I>&gt;&gt;<i> Internal Data Structures:
</I>&gt;&gt;<i>      97906 StoreEntries
</I>&gt;&gt;<i>      3002 StoreEntries with MemObjects
</I>&gt;&gt;<i>      2838 Hot Object Cache Items
</I>&gt;&gt;<i>      97742 on-disk objects
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------ pfctl -si ------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Status: Enabled for 25 days 22:58:24          Debug: Urgent
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> State Table                          Total             Rate
</I>&gt;&gt;<i>   current entries                     8085
</I>&gt;&gt;<i>   searches                      6650475717         2965.4/s
</I>&gt;&gt;<i>   inserts                        133521957           59.5/s
</I>&gt;&gt;<i>   removals                       133552376           59.5/s
</I>&gt;&gt;<i> Counters
</I>&gt;&gt;<i>   match                          605960865          270.2/s
</I>&gt;&gt;<i>   bad-offset                             0            0.0/s
</I>&gt;&gt;<i>   fragment                               1            0.0/s
</I>&gt;&gt;<i>   short                                 54            0.0/s
</I>&gt;&gt;<i>   normalize                            659            0.0/s
</I>&gt;&gt;<i>   memory                                 0            0.0/s
</I>&gt;&gt;<i>   bad-timestamp                          0            0.0/s
</I>&gt;&gt;<i>   congestion                             0            0.0/s
</I>&gt;&gt;<i>   ip-option                              0            0.0/s
</I>&gt;&gt;<i>   proto-cksum                            0            0.0/s
</I>&gt;&gt;<i>   state-mismatch                    104674            0.0/s
</I>&gt;&gt;<i>   state-insert                       38501            0.0/s
</I>&gt;&gt;<i>   state-limit                            0            0.0/s
</I>&gt;&gt;<i>   src-limit                              0            0.0/s
</I>&gt;&gt;<i>   synproxy                               0            0.0/s
</I>&gt;&gt;<i>   map-failed                             0            0.0/s
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------ sysctl -a | grep swap  ------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> swap_pager: out of swap space
</I>&gt;&gt;<i> swp_pager_getswapspace(32): failed
</I>&gt;&gt;<i> swap_pager: out of swap space
</I>&gt;&gt;<i> swp_pager_getswapspace(31): failed
</I>&gt;&gt;<i> swap_pager: out of swap space
</I>&gt;&gt;<i> swp_pager_getswapspace(1): failed
</I>&gt;&gt;<i> 1 PART da0p2 2147483648 512 i 2 o 544768 ty freebsd-swap xs GPT xt
</I>&gt;&gt;<i> 516e7cb5-6ecf-11d6-8ff8-00022d09712b
</I>&gt;&gt;<i> 0 MD md1 94371840 512 u 1 s 512 f 0 fs 0 l 94371840 t swap label
</I>&gt;&gt;<i> 0 MD md0 62914560 512 u 0 s 512 f 0 fs 0 l 62914560 t swap label
</I>&gt;&gt;<i> z0xfffff80003ec5800 [shape=box,label=&quot;SWAP\nswap\nr#3&quot;];
</I>&gt;&gt;<i>       &lt;name&gt;swap&lt;/name&gt;
</I>&gt;&gt;<i>     &lt;type&gt;swap&lt;/type&gt;
</I>&gt;&gt;<i>     &lt;type&gt;swap&lt;/type&gt;
</I>&gt;&gt;<i>     &lt;type&gt;freebsd-swap&lt;/type&gt;
</I>&gt;&gt;<i> vm.swap_enabled: 1
</I>&gt;&gt;<i> vm.domain.0.stats.unswappable: 2044
</I>&gt;&gt;<i> vm.swap_idle_threshold2: 10
</I>&gt;&gt;<i> vm.swap_idle_threshold1: 2
</I>&gt;&gt;<i> vm.swap_idle_enabled: 0
</I>&gt;&gt;<i> vm.disable_swapspace_pageouts: 0
</I>&gt;&gt;<i> vm.stats.vm.v_swappgsout: 3154299
</I>&gt;&gt;<i> vm.stats.vm.v_swappgsin: 510404
</I>&gt;&gt;<i> vm.stats.vm.v_swapout: 174446
</I>&gt;&gt;<i> vm.stats.vm.v_swapin: 62590
</I>&gt;&gt;<i> vm.stats.swap.free_completed: 54375
</I>&gt;&gt;<i> vm.stats.swap.free_deferred: 56992
</I>&gt;&gt;<i> vm.nswapdev: 1
</I>&gt;&gt;<i> vm.swap_fragmentation:
</I>&gt;&gt;<i> vm.swap_async_max: 4
</I>&gt;&gt;<i> vm.swap_maxpages: 32572800
</I>&gt;&gt;<i> vm.swap_total: 2147483648
</I>&gt;&gt;<i> vm.swap_reserved: 384676114432
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------ /usr/sbin/swapinfo -h  ------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Device              Size     Used    Avail Capacity
</I>&gt;&gt;<i> /dev/da0p2          2.0G     2.0G     8.0K   100%
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ############# squid.conf #############
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> http_port 3128 ssl-bump generate-host-certificates=on
</I>&gt;&gt;<i> dynamic_cert_mem_cache_size=20MB cert=/xxxx/conf/certs/ca.crt
</I>&gt;&gt;<i> key=/xxxx/conf/certs/ca.key
</I>&gt;&gt;<i> http_port 3129 intercept
</I>&gt;&gt;<i> https_port 3130 intercept ssl-bump generate-host-certificates=on
</I>&gt;&gt;<i> dynamic_cert_mem_cache_size=20MB cert=/xxxx/conf/certs/ca.crt
</I>&gt;&gt;<i> key=/xxxx/conf/certs/ca.key
</I>&gt;&gt;<i> visible_hostname xxxx.xxxx.xxxx
</I>&gt;&gt;<i> max_filedescriptors 4096
</I>&gt;&gt;<i> maximum_object_size 4096 KB
</I>&gt;&gt;<i> minimum_object_size 0 KB
</I>&gt;&gt;<i> maximum_object_size_in_memory 256 KB
</I>&gt;&gt;<i> fqdncache_size 1024
</I>&gt;&gt;<i> cache_mgr <A HREF="https://lists.squid-cache.org/listinfo/squid-users">xxxx at xxxx</A>
</I>&gt;&gt;<i> dns_nameservers 127.0.0.1
</I>&gt;&gt;<i> cache_replacement_policy                heap LFUDA
</I>&gt;&gt;<i> memory_replacement_policy               heap GDSF
</I>&gt;&gt;<i> cache_mem 16 MB
</I>&gt;&gt;<i> cache_dir               ufs /xxxx/chroot/osproxy/cache 3072 32 256
</I>&gt;&gt;<i> forwarded_for on
</I>&gt;&gt;<i> memory_pools off
</I>&gt;&gt;<i> logformat xxxx %ts|%6tr|%&gt;a|%Ss|%03&gt;Hs|%&lt;st|%rm|%un|%mt|%ea|%ru
</I>&gt;&gt;<i> logfile_rotate 0
</I>&gt;&gt;<i> httpd_suppress_version_string on
</I>&gt;&gt;<i> strip_query_terms off
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> squid-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Hamilton
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>-------------- next part --------------
stub time| WARNING: BCP 177 violation. IPv6 transport forced OFF by build parameters.
HTTP/1.1 200 OK
Server: squid
Mime-Version: 1.0
Date: Fri, 27 Jan 2023 22:04:09 GMT
Content-Type: text/plain;charset=utf-8
Expires: Fri, 27 Jan 2023 22:04:09 GMT
Last-Modified: Fri, 27 Jan 2023 22:04:09 GMT
Connection: close

Current memory usage:
Pool     Obj Size       Chunks                                                  Allocated                                       In Use                                  Idle                    Allocations Saved                       Rate
         (bytes)        KB/ch    obj/ch (#)      used    free    part    %Frag   (#)     (KB)    high (KB)       high (hrs)      %Tot   (#)      (KB)    high (KB)       high (hrs)      %alloc (#)      (KB)    high (KB)      (#)      %cnt    %vol   (#)/sec
HttpRequest              1872                                                            5573    10189   10209   0.01    18.345  5573    10189   10209   0.01    100.000         0       0       0       0       0.000   0.000   1.543
mem_node                 4136                                                            2493    10070   10086   0.01    18.131  2493    10070   10086   0.01    100.000         0       0       0       0       0.000   0.000   1.334
StoreEntry                104                                                            87775   8915    8962    1.17    16.052  87775   8915    8962    1.17    100.000         0       0       0       0       0.000   0.000   1.126
Long Strings              512                                                            12581   6291    6301    0.00    11.327  12581   6291    6301    0.00    100.000         0       0       1       12      0.000   0.000   7.131
cbdata Server (13)        776                                                            5519    4183    4193    0.01    7.531   5519    4183    4193    0.01    100.000         0       0       0       0       0.000   0.000   0.959
Short Strings              40                                                            88539   3459    3610    0.22    6.227   88539   3459    3610    0.22    100.000         0       0       29      5051    0.038   0.006   119.766
HttpReply                 296                                                            6390    1848    1850    0.01    3.326   6390    1848    1850    0.01    100.000         0       0       0       0       0.000   0.000   3.795
cbdata PeekingPeerConnector (28)          288                                                            5394    1518    1518    0.01    2.732   5394    1518    1518    0.01    100.000         0       0       0       0       0.000   0.000   0.125
MemBlob                    48                                                            31859   1494    1649    0.25    2.689   31859   1494    1649    0.25    100.000         0       0       34      5167    0.039   0.007   65.304
MD5 digest                 16                                                            87775   1372    1379    1.17    2.469   87775   1372    1379    1.17    100.000         0       0       0       0       0.000   0.000   1.209
Comm::Connection          216                                                            5580    1178    1183    0.02    2.119   5580    1178    1183    0.02    100.000         0       0       0       0       0.000   0.000   3.128
HttpHeaderEntry            56                                                            17658   966     1145    0.25    1.739   17658   966     1145    0.25    100.000         0       0       0       0       0.000   0.000   33.152
Security::ErrorDetail     168                                                            5377    883     883     0.01    1.588   5377    883     883     0.01    100.000         0       0       0       0       0.000   0.000   0.250
cbdata Downloader (29)    152                                                            5394    801     801     0.01    1.442   5394    801     801     0.01    100.000         0       0       0       0       0.000   0.000   0.125
4KB Strings              4096                                                            177     708     4032    1.27    1.275   177     708     4032    1.27    100.000         0       0       4       60      0.000   0.007   2.919
Medium Strings            128                                                            2399    300     317     0.11    0.540   2399    300     317     0.11    100.000         0       0       2       32      0.000   0.000   3.336
16KB Strings             16384                                                           15      240     1328    0.78    0.432   15      240     1328    0.78    100.000         0       0       0       0       0.000   0.000   0.959
MemObject                 328                                                            704     226     236     0.11    0.406   704     226     236     0.11    100.000         0       0       0       0       0.000   0.000   1.126
32K Buffer               32768                                                           7       224     800     0.18    0.403   7       224     800     0.18    100.000         0       0       0       0       0.000   0.000   0.000
cbdata ipcache_entry (5)          200                                                            471     92      98      0.18    0.166   471     92      98      0.18    100.000         0       0       0       0       0.000   0.000   0.667
Entry                      72                                                            1028    73      120     0.63    0.130   1028    73      120     0.63    100.000         0       0       0       0       0.000   0.000   156.796
HttpHdrCc                  96                                                            739     70      72      0.11    0.125   739     70      72      0.11    100.000         0       0       0       0       0.000   0.000   1.043
acl_proxy_auth_match_cache         40                                                            1473    58      145     0.60    0.104   1473    58      145     0.60    100.000         0       0       0       0       0.000   0.000   1.668
acl_ip_data                96                                                            509     48      48      0.05    0.086   509     48      48      0.05    100.000         0       0       1       876     0.007   0.002   0.000
ClientInfo                464                                                            101     46      46      0.56    0.082   101     46      46      0.56    100.000         0       0       0       0       0.000   0.000   0.000
cbdata clientReplyContext (17)   4352                                                            8       34      370     1.19    0.061   8       34      370     1.19    100.000         0       0       0       0       0.000   0.000   1.543
Stream                   4224                                                            8       33      359     1.19    0.059   8       33      359     1.19    100.000         0       0       0       0       0.000   0.000   1.418
1KB Strings              1024                                                            32      32      44      0.18    0.058   32      32      44      0.18    100.000         0       0       1       14      0.000   0.000   0.792
Auth::Negotiate::User     216                                                            126     27      32      0.18    0.048   126     27      32      0.18    100.000         0       0       0       0       0.000   0.000   0.209
fqdncache_entry           160                                                            155     25      25      0.56    0.044   155     25      25      0.56    100.000         0       0       0       0       0.000   0.000   0.250
AndNode                   120                                                            177     21      21      1.36    0.037   177     21      21      1.36    100.000         0       0       0       0       0.000   0.000   0.000
MimeEntry                 112                                                            177     20      20      1.37    0.035   177     20      20      1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata IdleConnList (40)         4168                                                            3       13      29      0.65    0.022   3       13      29      0.65    100.000         0       0       0       0       0.000   0.000   0.250
2K Buffer                2048                                                            5       10      58      1.37    0.018   5       10      58      1.37    100.000         0       0       4       179     0.001   0.010   6.922
ACLStrategised            120                                                            72      9       9       1.37    0.015   72      9       9       1.37    100.000         0       0       0       0       0.000   0.000   0.000
AuthUserIP                 64                                                            131     9       10      0.56    0.015   131     9       10      0.56    100.000         0       0       0       0       0.000   0.000   0.000
4K Buffer                4096                                                            2       8       24      1.08    0.014   2       8       24      1.08    100.000         0       0       0       0       0.000   0.000   0.584
IndividualPool           1336                                                            5       7       21      1.17    0.012   5       7       21      1.17    100.000         0       0       0       0       0.000   0.000   0.000
ACLProxyAuth              112                                                            49      6       6       1.37    0.010   49      6       6       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLSourceIP               104                                                            42      5       5       1.37    0.008   42      5       5       1.37    100.000         0       0       0       0       0.000   0.000   0.000
wordlist                   16                                                            270     5       5       0.05    0.008   270     5       5       0.05    100.000         0       0       0       0       0.000   0.000   0.000
cbdata ACLFilledChecklist (20)    472                                                            8       4       24      0.77    0.007   8       4       24      0.77    100.000         0       0       0       0       0.000   0.000   3.294
ev_entry                   48                                                            71      4       4       0.05    0.006   71      4       4       0.05    100.000         0       0       0       0       0.000   0.000   2.419
cbdata Tree (3)           176                                                            19      4       5       1.17    0.006   19      4       5       1.17    100.000         0       0       0       0       0.000   0.000   0.000
cbdata ClientHttpRequest (16)     408                                                            8       4       35      1.19    0.006   8       4       35      1.19    100.000         0       0       0       0       0.000   0.000   1.543
ACLUserData                48                                                            49      3       3       1.37    0.004   49      3       3       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata Logfile (10)      1120                                                            2       3       3       1.37    0.004   2       3       3       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata clientStreamNode (18)      128                                                            16      2       22      1.19    0.004   16      2       22      1.19    100.000         0       0       0       0       0.000   0.000   3.086
cbdata store_client (23)          168                                                            12      2       10      0.78    0.004   12      2       10      0.78    100.000         0       0       0       0       0.000   0.000   1.585
cbdata helper_server (7)          320                                                            5       2       4       1.37    0.003   5       2       4       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLRegexData               32                                                            48      2       2       1.37    0.003   48      2       2       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata TunnelStateData (42)       496                                                            3       2       40      1.19    0.003   3       2       40      1.19    100.000         0       0       0       0       0.000   0.000   0.042
cbdata HttpStateData (39)         368                                                            4       2       5       0.78    0.003   4       2       5       0.78    100.000         0       0       0       0       0.000   0.000   0.250
cbdata FwdState (24)      304                                                            4       2       9       0.78    0.002   4       2       9       0.78    100.000         0       0       0       0       0.000   0.000   0.375
cbdata HappyConnOpener (26)       376                                                            3       2       31      1.19    0.002   3       2       31      1.19    100.000         0       0       0       0       0.000   0.000   0.417
DelayVector::Id            56                                                            15      1       6       1.19    0.001   15      1       6       1.19    100.000         0       0       0       0       0.000   0.000   2.961
Auth::Negotiate::UserRequest       88                                                            9       1       6       1.34    0.001   9       1       6       1.34    100.000         0       0       0       0       0.000   0.000   0.209
NullDelayId                24                                                            30      1       5       1.19    0.001   30      1       5       1.19    100.000         0       0       0       0       0.000   0.000   5.922
cbdata ServerBump (22)     88                                                            7       1       5       0.77    0.001   7       1       5       0.77    100.000         0       0       0       0       0.000   0.000   0.250
ACLStrategised            120                                                            5       1       1       1.37    0.001   5       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata helper (6)         280                                                            2       1       1       1.37    0.001   2       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata helper_stateful_server (37)        272                                                            2       1       6       0.18    0.001   2       1       6       0.18    100.000         0       0       0       0       0.000   0.000   0.000
ResolvedPeers              72                                                            7       1       7       1.19    0.001   7       1       7       1.19    100.000         0       0       0       0       0.000   0.000   0.417
ACLDomainData              16                                                            24      1       1       1.37    0.001   24      1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
NotNode                   120                                                            3       1       1       1.37    0.001   3       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata MemBuf (8)          72                                                            5       1       1       1.37    0.001   5       1       1       1.37    100.000         0       0       0       0       0.000   0.000   1.543
ACLStrategised            120                                                            3       1       1       1.37    0.001   3       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata statefulhelper (9)         320                                                            1       1       1       1.37    0.001   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata TcpAcceptor (12)   104                                                            3       1       1       1.37    0.001   3       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata Address (4)         72                                                            4       1       1       1.36    0.001   4       1       1       1.36    100.000         0       0       0       0       0.000   0.000   0.000
DelayVector                56                                                            5       1       1       1.17    0.000   5       1       1       1.17    100.000         0       0       0       0       0.000   0.000   0.000
Aggregate                  56                                                            5       1       1       1.17    0.000   5       1       1       1.17    100.000         0       0       0       0       0.000   0.000   0.000
ACLSslErrorData            48                                                            5       1       1       1.37    0.000   5       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLStrategised            120                                                            2       1       1       1.37    0.000   2       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata external_acl (2)   240                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLDestinationIP          112                                                            2       1       1       1.37    0.000   2       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata RemovalPolicy (1)          104                                                            2       1       1       1.37    0.000   2       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLTimeData                32                                                            6       1       1       1.37    0.000   6       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLStrategised            120                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLStrategised            120                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata LocalSearch (21)    80                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
cbdata CredentialsCache (38)       80                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLMethodData              32                                                            2       1       1       1.37    0.000   2       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
CacheDigest                40                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
ACLProtocolData            32                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       0       0       0.000   0.000   0.000
CommonPool                 24                                                            1       1       1       1.37    0.000   1       1       1       1.37    100.000         0       0       1       1       0.000   0.000   0.000
8K Buffer                8192                                                            0       0       64      1.34    0.000   0       0       64      1.34    -1.000  0       0       0       0       0.000   0.000   0.000
HttpHdrRange               32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
HttpHdrRangeSpec           16                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
HttpHdrContRange           24                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata CbDataList (43)     96                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
SysErrorDetail             32                                                            0       0       1       0.76    0.000   0       0       1       0.76    -1.000  0       0       0       0       0.000   0.000   0.000
ExceptionErrorDetail       32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
StoreMetaVary              32                                                            0       0       1       1.36    0.000   0       0       1       1.36    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata RemovalPolicyWalker (44)    56                                                            0       0       1       1.24    0.000   0       0       1       1.24    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata RebuildState (11)          920                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata RemovalPurgeWalker (45)     72                                                            0       0       1       1.17    0.000   0       0       1       1.17    -1.000  0       0       0       0       0.000   0.000   0.000
StoreSwapLogData           72                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.083
cbdata generic_cbdata (14)         32                                                            0       0       2       1.37    0.000   0       0       2       1.37    -1.000  0       0       0       0       0.000   0.000   0.292
cbdata idns_query (15)   8704                                                            0       0       944     1.37    0.000   0       0       944     1.37    -1.000  0       0       0       0       0.000   0.000   0.917
cbdata ClientRequestContext (19)          104                                                            0       0       5       1.37    0.000   0       0       5       1.37    -1.000  0       0       0       0       0.000   0.000   1.293
BodyPipe                  136                                                            0       0       2       1.35    0.000   0       0       2       1.35    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata PeerSelector (25)          296                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.417
FwdServer                  32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.417
cbdata ConnOpener (27)    144                                                            0       0       3       0.92    0.000   0       0       3       0.92    -1.000  0       0       0       0       0.000   0.000   0.250
DownloaderContext        4144                                                            0       0       9       0.35    0.000   0       0       9       0.35    -1.000  0       0       0       0       0.000   0.000   0.125
cbdata UFSStoreState (30)         264                                                            0       0       4       1.34    0.000   0       0       4       1.34    -1.000  0       0       0       0       0.000   0.000   0.042
cbdata BlockingFile (31)           88                                                            0       0       2       1.34    0.000   0       0       2       1.34    -1.000  0       0       0       0       0.000   0.000   0.042
cbdata ReadRequest (32)    72                                                            0       0       1       1.36    0.000   0       0       1       1.36    -1.000  0       0       0       0       0.000   0.000   0.000
StoreMetaMD5               32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.042
StoreMetaSTDLFS            32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.042
StoreMetaURL               32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.042
StoreMetaObjSize           32                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.042
cbdata CbDataList (33)     56                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.250
cbdata ErrorState (34)    272                                                            0       0       1       1.31    0.000   0       0       1       1.31    -1.000  0       0       0       0       0.000   0.000   0.667
cbdata GeneratorRequest (35)       72                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.125
Helper::Xaction           176                                                            0       0       4       0.18    0.000   0       0       4       0.18    -1.000  0       0       0       0       0.000   0.000   0.334
cbdata StateData (36)      48                                                            0       0       1       0.18    0.000   0       0       1       0.18    -1.000  0       0       0       0       0.000   0.000   0.209
dwrite_q                   48                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.167
dread_ctrl                 56                                                            0       0       1       1.36    0.000   0       0       1       1.36    -1.000  0       0       0       0       0.000   0.000   0.000
16K Buffer               16384                                                           0       0       48      1.33    0.000   0       0       48      1.33    -1.000  0       0       0       0       0.000   0.000   0.000
cbdata WriteRequest (41)           80                                                            0       0       1       1.37    0.000   0       0       1       1.37    -1.000  0       0       0       0       0.000   0.000   0.083
Total                       1                                                            377201  55538   55686   0.00    100.000         377201  55538   55686   0.00    100.000         0       0       1       11392   0.086   0.032   552659.839
Cumulative allocated volume: 3.623 GB
Current overhead: 34651 bytes (0.061%)
Idle pool limit: 0.00 MB
Total Pools created: 123
Pools ever used:     122 (shown above)
Currently in use:    86
String Pool      Impact
         (%strings)      (%volume)
Short Strings            85      28
Medium Strings           2       2
Long Strings             12      52
1KB Strings              0       0
4KB Strings              0       6
16KB Strings             0       2
Other Strings            0       9

Large buffers: 0 (0 KB)
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025590.html">[squid-users] Squid use all memory ram
</A></li>
	<LI>Next message (by thread): <A HREF="025591.html">[squid-users] Fwd: WebSocket support in v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25595">[ date ]</a>
              <a href="thread.html#25595">[ thread ]</a>
              <a href="subject.html#25595">[ subject ]</a>
              <a href="author.html#25595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
