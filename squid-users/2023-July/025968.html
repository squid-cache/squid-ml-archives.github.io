<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Bug in Squid configure script kills build
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bug%20in%20Squid%20configure%20script%20kills%20build&In-Reply-To=%3C20230715112520.47fad67eb62d4921fe2068a4%40killthe.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025988.html">
   <LINK REL="Next"  HREF="025969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Bug in Squid configure script kills build</H1>
    <B>Dave Blanchard</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bug%20in%20Squid%20configure%20script%20kills%20build&In-Reply-To=%3C20230715112520.47fad67eb62d4921fe2068a4%40killthe.net%3E"
       TITLE="[squid-users] Bug in Squid configure script kills build">dave at killthe.net
       </A><BR>
    <I>Sat Jul 15 16:25:20 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025988.html">[squid-users] How to build Squid 6
</A></li>
        <LI>Next message (by thread): <A HREF="025969.html">[squid-users] Bug in Squid configure script kills build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25968">[ date ]</a>
              <a href="thread.html#25968">[ thread ]</a>
              <a href="subject.html#25968">[ subject ]</a>
              <a href="author.html#25968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There seems to be a bug in Squid 5.x's configure script which, on my system at least, consistently kills the calling process thus preventing the build from completing. I haven't tried earlier versions yet. This problem appears with various recent GCC versions, and does not appear to be a bug in my system as there are literally over a thousand other packages that build fine, while Squid consistently dies. This is what it looks like:


checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a race-free mkdir -p... /usr/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking whether UID '0' is supported by ustar format... yes
checking whether GID '0' is supported by ustar format... yes
checking how to create a ustar tar archive... gnutar
checking whether to enable maintainer-specific portions of Makefiles... no
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether the compiler supports GNU C... yes
checking whether gcc accepts -g... yes
checking for gcc option to enable C11 features... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking whether the compiler supports GNU C++... yes
checking whether g++ accepts -g... yes
checking for g++ option to enable C++11 features... none needed
checking dependency style of g++... gcc3
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
configure: CPU arch native optimization enabled: auto
checking whether compiler accepts -march=native... yes
checking simplified host os... linux (version )
checking whether g++ supports C++11 features by default... yes
checking for ranlib... ranlib
checking how to run the C preprocessor... Killed        &lt;------ here is the problem
# gcc -E
checking whether ln -s works... yes
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for sh... /usr/bin/sh
checking for false... /usr/bin/false
checking for true... /usr/bin/true
checking for mv... /usr/bin/mv
checking for mkdir... /usr/bin/mkdir
checking for ln... /usr/bin/ln
checking for chmod... /usr/bin/chmod
checking for tr... /usr/bin/tr
checking for rm... /usr/bin/rm
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for perl... /usr/bin/perl

[...]

checking for dirent.h... yes
checking for closedir... yes
checking for opendir... yes
checking for readdir... yes
checking for strlcat... no
checking for strlcpy... no
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: creating config.h
config.status: executing depfiles commands
config.status: executing libtool commands

At this point the script seems to hang, but actually I only have to press the enter key and the prompt reappears, as the process had been killed.

Anyone seen this before?

Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025988.html">[squid-users] How to build Squid 6
</A></li>
	<LI>Next message (by thread): <A HREF="025969.html">[squid-users] Bug in Squid configure script kills build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25968">[ date ]</a>
              <a href="thread.html#25968">[ thread ]</a>
              <a href="subject.html#25968">[ subject ]</a>
              <a href="author.html#25968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
