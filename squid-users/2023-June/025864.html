<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Using tcp_outgoing_address with ACL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20tcp_outgoing_address%20with%20ACL&In-Reply-To=%3C001401d99d03%2409206140%241b6123c0%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025863.html">
   <LINK REL="Next"  HREF="025885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Using tcp_outgoing_address with ACL</H1>
    <B>ngtech1ltd at gmail.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Using%20tcp_outgoing_address%20with%20ACL&In-Reply-To=%3C001401d99d03%2409206140%241b6123c0%24%40gmail.com%3E"
       TITLE="[squid-users] Using tcp_outgoing_address with ACL">ngtech1ltd at gmail.com
       </A><BR>
    <I>Mon Jun 12 07:53:53 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025863.html">[squid-users] Using tcp_outgoing_address with ACL
</A></li>
        <LI>Next message (by thread): <A HREF="025885.html">[squid-users] Using tcp_outgoing_address with ACL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25864">[ date ]</a>
              <a href="thread.html#25864">[ thread ]</a>
              <a href="subject.html#25864">[ subject ]</a>
              <a href="author.html#25864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Ankor,

There is some missing context so I would be able to reproduce this issue.
Is this some kind of CONNECT request?

If you can describe in more technical details the setup and what client are you using,
Maybe couple sanitized log lines it would help to understand better the scenario.

Eliezer

From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Andrey K
Sent: Friday, June 9, 2023 10:03
To: Squid Users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;; Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
Subject: [squid-users] Using tcp_outgoing_address with ACL

Hello, 

We use the tcp_outgoing_address feature to access some hosts using a dedicated source IP address.

   acl domdst_SIProxy  dstdomain &quot;/data/squid.user/etc/squid/categories/domdst_SIProxy&quot;
   tcp_outgoing_address 10.72.235.129 domdst_SIProxy

It works fine, but logs are flooded with warnings like this:
   2023/06/09 08:30:07 kid2| WARNING: domdst_SIProxy ACL is used in context without an HTTP request. Assuming mismatch.

I found a similar case: <A HREF="http://lists.squid-cache.org/pipermail/squid-users/2015-January/001629.html">http://lists.squid-cache.org/pipermail/squid-users/2015-January/001629.html</A> where Amos suggested using a patch as a solution.
We have Squid Version 5.5. Is there a similar patch for our version, or can we just ignore these messages?

Kind regards,
       Ankor.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025863.html">[squid-users] Using tcp_outgoing_address with ACL
</A></li>
	<LI>Next message (by thread): <A HREF="025885.html">[squid-users] Using tcp_outgoing_address with ACL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25864">[ date ]</a>
              <a href="thread.html#25864">[ thread ]</a>
              <a href="subject.html#25864">[ subject ]</a>
              <a href="author.html#25864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
