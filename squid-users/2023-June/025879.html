<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [ext] Re: ftp related crash in squid-6.0.0-20220905-r9358e99f9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bext%5D%20Re%3A%20ftp%20related%20crash%20in%0A%20squid-6.0.0-20220905-r9358e99f9&In-Reply-To=%3Ccb13d9c5-06aa-0c8f-df0b-a7ee13b291f4%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025878.html">
   <LINK REL="Next"  HREF="025880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [ext] Re: ftp related crash in squid-6.0.0-20220905-r9358e99f9</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bext%5D%20Re%3A%20ftp%20related%20crash%20in%0A%20squid-6.0.0-20220905-r9358e99f9&In-Reply-To=%3Ccb13d9c5-06aa-0c8f-df0b-a7ee13b291f4%40measurement-factory.com%3E"
       TITLE="[squid-users] [ext] Re: ftp related crash in squid-6.0.0-20220905-r9358e99f9">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jun 19 22:10:28 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025878.html">[squid-users] [ext] Re: ftp related crash in squid-6.0.0-20220905-r9358e99f9
</A></li>
        <LI>Next message (by thread): <A HREF="025880.html">[squid-users] Insert requested URL to custom header in request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25879">[ date ]</a>
              <a href="thread.html#25879">[ thread ]</a>
              <a href="subject.html#25879">[ subject ]</a>
              <a href="author.html#25879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/19/23 16:44, Ralf Hildebrandt wrote:
&gt;<i> I hope I got it all cut&amp;pasted
</I>
This information was very useful, thank you!


&gt;<i> storedWholeReply_ = &quot;ftpReadTransferDone code 226 or 250&quot;
</I>
I suspect that the current Client::markParsedVirginReplyAsWhole() 
assumptions about received-vs-stored response data do not match our FTP 
code (in this particular use case). It is not clear to me whether 
Ftp::Gateway code is not storing any response headers at all this case 
(a bug) OR it is calling that method prematurely, before storing 
response headers (a different bug). Either way, FwdState gets a 
&quot;complete&quot; but empty Store entry, which is not supposed to happen 
(because every Store entry has HTTP response headers or equivalent), and 
Squid asserts.

Unfortunately, I do not remember enough about FTP code to quickly triage 
this further. I recommend filing a bug report with Squid bugzilla in 
hope that somebody will volunteer a bug fix (or, at least, a workaround).


Thank you,

Alex.


&gt;&gt;<i>      frame 3
</I>&gt;<i> #3  0x000055555570e9c2 in FwdState::completed (this=<A HREF="https://lists.squid-cache.org/listinfo/squid-users">this at entry</A>=0x55556c0a4748) at FwdState.cc:299
</I>&gt;<i> 299            assert(!storedWholeReply_);
</I>&gt;<i> 
</I>&gt;&gt;<i>      print this
</I>&gt;<i> $1 = (FwdState * const) 0x55556c0a4748
</I>&gt;<i> 
</I>&gt;<i> $2 = {
</I>&gt;<i>    &lt;Lock&gt; = {
</I>&gt;<i>      _vptr.Lock = 0x555555b6c3b8 &lt;vtable for FwdState+88&gt;,
</I>&gt;<i>      count_ = 2
</I>&gt;<i>    },
</I>&gt;<i>    &lt;PeerSelectionInitiator&gt; = {
</I>&gt;<i>      &lt;CbdataParent&gt; = {
</I>&gt;<i>        _vptr.CbdataParent = 0x555555b6c378 &lt;vtable for FwdState+24&gt;
</I>&gt;<i>      },
</I>&gt;<i>      members of PeerSelectionInitiator:
</I>&gt;<i>      subscribed = false
</I>&gt;<i>    },
</I>&gt;<i>    members of FwdState:
</I>&gt;<i>    entry = 0x55555e31aaf0,
</I>&gt;<i>    request = 0x55562827ab90,
</I>&gt;<i>    al = {
</I>&gt;<i>      p_ = 0x5555b6ecaec0
</I>&gt;<i>    },
</I>&gt;<i>    self = {
</I>&gt;<i>      p_ = 0x55556c0a4748
</I>&gt;<i>    },
</I>&gt;<i>    err = 0x0,
</I>&gt;<i>    clientConn = {
</I>&gt;<i>      p_ = 0x5555dafd6ea0
</I>&gt;<i>    },
</I>&gt;<i>    start_t = 1687188676,
</I>&gt;<i>    n_tries = 1,
</I>&gt;<i>    flags = {
</I>&gt;<i>      connected_okay = true,
</I>&gt;<i>      dont_retry = false,
</I>&gt;<i>      forward_completed = true,
</I>&gt;<i>      destinationsFound = true
</I>&gt;<i>    },
</I>&gt;<i>    transportWait = {
</I>&gt;<i>      &lt;JobWaitBase&gt; = {
</I>&gt;<i>        job_ = {
</I>&gt;<i>          cbc = 0x0,
</I>&gt;<i>          lock = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        callback_ = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        }
</I>&gt;<i>      },
</I>&gt;<i>      members of JobWait&lt;HappyConnOpener&gt;:
</I>&gt;<i>      typedJob_ = {
</I>&gt;<i>        cbc = 0x55566ccd1888,
</I>&gt;<i>        lock = 0x55566ccd1888
</I>&gt;<i>      }
</I>&gt;<i>    },
</I>&gt;<i>    encryptionWait = {
</I>&gt;<i>      &lt;JobWaitBase&gt; = {
</I>&gt;<i>        job_ = {
</I>&gt;<i>          cbc = 0x0,
</I>&gt;<i>          lock = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        callback_ = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        }
</I>&gt;<i>      },
</I>&gt;<i>      members of JobWait&lt;Security::PeerConnector&gt;:
</I>&gt;<i>      typedJob_ = {
</I>&gt;<i>        cbc = 0x0,
</I>&gt;<i>        lock = 0x0
</I>&gt;<i>      }
</I>&gt;<i>    },
</I>&gt;<i>    peerWait = {
</I>&gt;<i>      &lt;JobWaitBase&gt; = {
</I>&gt;<i>        job_ = {
</I>&gt;<i>          cbc = 0x0,
</I>&gt;<i>          lock = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        callback_ = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        }
</I>&gt;<i>      },
</I>&gt;<i>      members of JobWait&lt;Http::Tunneler&gt;:
</I>&gt;<i>      typedJob_ = {
</I>&gt;<i>        cbc = 0x0,
</I>&gt;<i>        lock = 0x0
</I>&gt;<i>      }
</I>&gt;<i>    },
</I>&gt;<i>    waitingForDispatched = false,
</I>&gt;<i>    destinations = {
</I>&gt;<i>      p_ = 0x555654304b50
</I>&gt;<i>    },
</I>&gt;<i>    serverConn = {
</I>&gt;<i>      p_ = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    destinationReceipt = {
</I>&gt;<i>      connection_ = {
</I>&gt;<i>        p_ = 0x0
</I>&gt;<i>      },
</I>&gt;<i>      position_ = 18446744073709551615
</I>&gt;<i>    },
</I>&gt;<i>    closeHandler = {
</I>&gt;<i>      p_ = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    pconnRace = FwdState::raceImpossible,
</I>&gt;<i>    storedWholeReply_ = 0x555555a94350 &quot;ftpReadTransferDone code 226 or 250&quot;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;&gt;<i> print *entry
</I>&gt;<i> 
</I>&gt;<i> $3 = {
</I>&gt;<i>    &lt;hash_link&gt; = {
</I>&gt;<i>      key = 0x55556bfa3d50,
</I>&gt;<i>      next = 0x5555b6b68468
</I>&gt;<i>    },
</I>&gt;<i>    &lt;Packable&gt; = {
</I>&gt;<i>      _vptr.Packable = 0x555555b6ec50 &lt;vtable for StoreEntry+16&gt;
</I>&gt;<i>    },
</I>&gt;<i>    members of StoreEntry:
</I>&gt;<i>    mem_obj = 0x55559cd62ca0,
</I>&gt;<i>    repl = {
</I>&gt;<i>      data = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    timestamp = -1,
</I>&gt;<i>    lastref = 1687188676,
</I>&gt;<i>    expires = -1,
</I>&gt;<i>    lastModified_ = -1,
</I>&gt;<i>    swap_file_sz = 0,
</I>&gt;<i>    refcount = 1,
</I>&gt;<i>    flags = 1216,
</I>&gt;<i>    swap_filen = -1,
</I>&gt;<i>    swap_dirn = -1,
</I>&gt;<i>    mem_status = NOT_IN_MEMORY,
</I>&gt;<i>    ping_status = PING_DONE,
</I>&gt;<i>    store_status = STORE_PENDING,
</I>&gt;<i>    swap_status = SWAPOUT_NONE,
</I>&gt;<i>    cachedESITree = {
</I>&gt;<i>      p_ = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    lock_count = 3,
</I>&gt;<i>    shareableWhenPrivate = false,
</I>&gt;<i>    deferredProducer = {
</I>&gt;<i>      p_ = 0x0
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;&gt;<i> print *entry-&gt;mem_obj
</I>&gt;<i> 
</I>&gt;<i> $4 = {
</I>&gt;<i>    appliedUpdates = false,
</I>&gt;<i>    method = {
</I>&gt;<i>      theMethod = Http::METHOD_GET,
</I>&gt;<i>      theImage = {
</I>&gt;<i>        id = {
</I>&gt;<i>          value = 99694914
</I>&gt;<i>        },
</I>&gt;<i>        store_ = {
</I>&gt;<i>          p_ = 0x555555cb57d0
</I>&gt;<i>        },
</I>&gt;<i>        off_ = 0,
</I>&gt;<i>        len_ = 0
</I>&gt;<i>      }
</I>&gt;<i>    },
</I>&gt;<i>    data_hdr = {
</I>&gt;<i>      inmem_hi = 0,
</I>&gt;<i>      nodes = {
</I>&gt;<i>        head = 0x0,
</I>&gt;<i>        elements = 0
</I>&gt;<i>      }
</I>&gt;<i>    },
</I>&gt;<i>    inmem_lo = 0,
</I>&gt;<i>    clients = {
</I>&gt;<i>      head = 0x55555acdbe30,
</I>&gt;<i>      tail = 0x55555acdbe30
</I>&gt;<i>    },
</I>&gt;<i>    nclients = 1,
</I>&gt;<i>    swapout = {
</I>&gt;<i>      queue_offset = 0,
</I>&gt;<i>      sio = {
</I>&gt;<i>        p_ = 0x0
</I>&gt;<i>      },
</I>&gt;<i>      decision = MemObject::SwapOut::swNeedsCheck
</I>&gt;<i>    },
</I>&gt;<i>    xitTable = {
</I>&gt;<i>      index = -1,
</I>&gt;<i>      io = Store::ioUndecided
</I>&gt;<i>    },
</I>&gt;<i>    memCache = {
</I>&gt;<i>      index = -1,
</I>&gt;<i>      offset = 0,
</I>&gt;<i>      io = Store::ioUndecided
</I>&gt;<i>    },
</I>&gt;<i>    request = {
</I>&gt;<i>      p_ = 0x55562827ab90
</I>&gt;<i>    },
</I>&gt;<i>    start_ping = {
</I>&gt;<i>      tv_sec = 0,
</I>&gt;<i>      tv_usec = 0
</I>&gt;<i>    },
</I>&gt;<i>    ping_reply_callback = 0x0,
</I>&gt;<i>    ircb_data = 0x0,
</I>&gt;<i>    abortCallback = {
</I>&gt;<i>      p_ = 0x5556543f35b0
</I>&gt;<i>    },
</I>&gt;<i>    repl = {
</I>&gt;<i>      data = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    id = 105121620,
</I>&gt;<i>    object_sz = -1,
</I>&gt;<i>    swap_hdr_sz = 0,
</I>&gt;<i>    vary_headers = {
</I>&gt;<i>      id = {
</I>&gt;<i>        value = 99694915
</I>&gt;<i>      },
</I>&gt;<i>      store_ = {
</I>&gt;<i>        p_ = 0x555555cb57d0
</I>&gt;<i>      },
</I>&gt;<i>      off_ = 0,
</I>&gt;<i>      len_ = 0
</I>&gt;<i>    },
</I>&gt;<i>    reply_ = {
</I>&gt;<i>      p_ = 0x55563217e040
</I>&gt;<i>    },
</I>&gt;<i>    updatedReply_ = {
</I>&gt;<i>      p_ = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    storeId_ = {
</I>&gt;<i>      size_ = 40,
</I>&gt;<i>      len_ = 35,
</I>&gt;<i>      buf_ = 0x5555df5d7a50 &quot;<A HREF="ftp://ftp.nimblestorage.com/upload/">ftp://ftp.nimblestorage.com/upload/</A>&quot;
</I>&gt;<i>    },
</I>&gt;<i>    logUri_ = {
</I>&gt;<i>      size_ = 40,
</I>&gt;<i>      len_ = 35,
</I>&gt;<i>      buf_ = 0x5555e78446a0 &quot;<A HREF="ftp://ftp.nimblestorage.com/upload/">ftp://ftp.nimblestorage.com/upload/</A>&quot;
</I>&gt;<i>    },
</I>&gt;<i>    deferredReads = {
</I>&gt;<i>      deferredReads = {
</I>&gt;<i>        head = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        tail = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        length = 0
</I>&gt;<i>      }
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;&gt;<i> frame 10
</I>&gt;<i> #10 0x00005555558816f6 in Ftp::Gateway::handleControlReply (this=0x5555662702c8) at FtpGateway.cc:1176
</I>&gt;<i> 1176	    FTP_SM_FUNCS[state] (this);
</I>&gt;<i> 
</I>&gt;&gt;<i> print this
</I>&gt;<i> $5 = (Ftp::Gateway * const) 0x5555662702c8
</I>&gt;<i> 
</I>&gt;&gt;<i> print *this
</I>&gt;<i> $6 = {
</I>&gt;<i>    &lt;Ftp::Client&gt; = {
</I>&gt;<i>      &lt;Client&gt; = {
</I>&gt;<i>        &lt;Adaptation::Initiator&gt; = {
</I>&gt;<i>          &lt;AsyncJob&gt; = {
</I>&gt;<i>            &lt;CbdataParent&gt; = {
</I>&gt;<i>              _vptr.CbdataParent = 0x555555b78ec8 &lt;vtable for Ftp::Gateway+520&gt;
</I>&gt;<i>            },
</I>&gt;<i>            members of AsyncJob:
</I>&gt;<i>            id = {
</I>&gt;<i>              value = 201681648
</I>&gt;<i>            },
</I>&gt;<i>            stopReason = 0x0,
</I>&gt;<i>            typeName = 0x555555a9355f &quot;FtpStateData&quot;,
</I>&gt;<i>            inCall = {
</I>&gt;<i>              p_ = 0x5555ff888600
</I>&gt;<i>            },
</I>&gt;<i>            started_ = true,
</I>&gt;<i>            swanSang_ = false
</I>&gt;<i>          },
</I>&gt;<i>          members of Adaptation::Initiator:
</I>&gt;<i>          _vptr.Initiator = 0x555555b78cd8 &lt;vtable for Ftp::Gateway+24&gt;
</I>&gt;<i>        },
</I>&gt;<i>        &lt;BodyProducer&gt; = {
</I>&gt;<i>          members of BodyProducer:
</I>&gt;<i>          _vptr.BodyProducer = 0x555555b78e18 &lt;vtable for Ftp::Gateway+344&gt;
</I>&gt;<i>        },
</I>&gt;<i>        &lt;BodyConsumer&gt; = {
</I>&gt;<i>          members of BodyConsumer:
</I>&gt;<i>          _vptr.BodyConsumer = 0x555555b78e50 &lt;vtable for Ftp::Gateway+400&gt;
</I>&gt;<i>        },
</I>&gt;<i>        members of Client:
</I>&gt;<i>        completed = true,
</I>&gt;<i>        currentOffset = 0,
</I>&gt;<i>        responseBodyBuffer = 0x0,
</I>&gt;<i>        entry = 0x55555e31aaf0,
</I>&gt;<i>        fwd = {
</I>&gt;<i>          p_ = 0x55556c0a4748
</I>&gt;<i>        },
</I>&gt;<i>        request = {
</I>&gt;<i>          p_ = 0x55562827ab90
</I>&gt;<i>        },
</I>&gt;<i>        requestBodySource = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        requestSender = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        virginBodyDestination = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        adaptedHeadSource = {
</I>&gt;<i>          cbc = 0x0,
</I>&gt;<i>          lock = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        adaptedBodySource = {
</I>&gt;<i>          p_ = 0x0
</I>&gt;<i>        },
</I>&gt;<i>        adaptationAccessCheckPending = false,
</I>&gt;<i>        startedAdaptation = false,
</I>&gt;<i>        receivedWholeAdaptedReply = false,
</I>&gt;<i>        receivedWholeRequestBody = false,
</I>&gt;<i>        doneWithFwd = 0x555555a92a12 &quot;completeForwarding()&quot;,
</I>&gt;<i>        theVirginReply = 0x0,
</I>&gt;<i>        theFinalReply = 0x0
</I>&gt;<i>      },
</I>&gt;<i>      members of Ftp::Client:
</I>&gt;<i>      ctrl = {
</I>&gt;<i>        &lt;Ftp::Channel&gt; = {
</I>&gt;<i>          conn = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          },
</I>&gt;<i>          listenConn = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          },
</I>&gt;<i>          closer = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          }
</I>&gt;<i>        },
</I>&gt;<i>        members of Ftp::CtrlChannel:
</I>&gt;<i>        buf = 0x5556084e8f30 &quot;221 Goodbye.\r\nsend OK.\r\ntory listing.\r\n226 Directory send OK.\r\n####\r\n220-Welcome to the HPE NimbleStorage FTP Server.\r\n220-\r\n220-Please prepend files to be uploaded with your case number\r\n220-so that &quot;...,
</I>&gt;<i>        size = 4096,
</I>&gt;<i>        offset = 0,
</I>&gt;<i>        message = 0x5555b1cb8b80,
</I>&gt;<i>        last_command = 0x5555a99543f0 &quot;QUIT\r\n&quot;,
</I>&gt;<i>        last_reply = 0x5555bb4e65a0 &quot;Goodbye.&quot;,
</I>&gt;<i>        replycode = 221
</I>&gt;<i>      },
</I>&gt;<i>      data = {
</I>&gt;<i>        &lt;Ftp::Channel&gt; = {
</I>&gt;<i>          conn = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          },
</I>&gt;<i>          listenConn = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          },
</I>&gt;<i>          closer = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          }
</I>&gt;<i>        },
</I>&gt;<i>        members of Ftp::DataChannel:
</I>&gt;<i>        readBuf = 0x55555e493418,
</I>&gt;<i>        host = 0x5555bb42a4e0 &quot;198.54.168.47&quot;,
</I>&gt;<i>        port = 6892,
</I>&gt;<i>        read_pending = false
</I>&gt;<i>      },
</I>&gt;<i>      ftp_state_t = Ftp::Client::BEGIN,
</I>&gt;<i>      state = 18,
</I>&gt;<i>      old_request = 0x0,
</I>&gt;<i>      old_reply = 0x0,
</I>&gt;<i>      dataConnWait = {
</I>&gt;<i>        &lt;JobWaitBase&gt; = {
</I>&gt;<i>          job_ = {
</I>&gt;<i>            cbc = 0x0,
</I>&gt;<i>            lock = 0x0
</I>&gt;<i>          },
</I>&gt;<i>          callback_ = {
</I>&gt;<i>            p_ = 0x0
</I>&gt;<i>          }
</I>&gt;<i>        },
</I>&gt;<i>        members of JobWait&lt;Comm::ConnOpener&gt;:
</I>&gt;<i>        typedJob_ = {
</I>&gt;<i>          cbc = 0x55557d0ec1b8,
</I>&gt;<i>          lock = 0x55557d0ec1b8
</I>&gt;<i>        }
</I>&gt;<i>      },
</I>&gt;<i>      shortenReadTimeout = false
</I>&gt;<i>    },
</I>&gt;<i>    members of Ftp::Gateway:
</I>&gt;<i>    user = &quot;anonymous&quot;, '\000' &lt;repeats 8182 times&gt;,
</I>&gt;<i>    password = &quot;Squid@&quot;, '\000' &lt;repeats 8185 times&gt;,
</I>&gt;<i>    password_url = 0,
</I>&gt;<i>    reply_hdr = 0x0,
</I>&gt;<i>    reply_hdr_state = 0,
</I>&gt;<i>    clean_url = {
</I>&gt;<i>      size_ = 0,
</I>&gt;<i>      len_ = 0,
</I>&gt;<i>      buf_ = 0x0
</I>&gt;<i>    },
</I>&gt;<i>    title_url = {
</I>&gt;<i>      size_ = 40,
</I>&gt;<i>      len_ = 35,
</I>&gt;<i>      buf_ = 0x5555d58c86b0 &quot;<A HREF="ftp://ftp.nimblestorage.com/upload/">ftp://ftp.nimblestorage.com/upload/</A>&quot;
</I>&gt;<i>    },
</I>&gt;<i>    base_href = {
</I>&gt;<i>      size_ = 40,
</I>&gt;<i>      len_ = 36,
</I>&gt;<i>      buf_ = 0x55559dd8c4f0 &quot;<A HREF="ftp://ftp.nimblestorage.com/upload//">ftp://ftp.nimblestorage.com/upload//</A>&quot;
</I>&gt;<i>    },
</I>&gt;<i>    conn_att = 0,
</I>&gt;<i>    login_att = 0,
</I>&gt;<i>    mdtm = -1,
</I>&gt;<i>    theSize = -1,
</I>&gt;<i>    pathcomps = 0x0,
</I>&gt;<i>    filepath = 0x0,
</I>&gt;<i>    dirpath = 0x5555e4136d90 &quot;upload&quot;,
</I>&gt;<i>    restart_offset = 0,
</I>&gt;<i>    proxy_host = 0x0,
</I>&gt;<i>    list_width = 0,
</I>&gt;<i>    cwd_message = {
</I>&gt;<i>      size_ = 40,
</I>&gt;<i>      len_ = 36,
</I>&gt;<i>      buf_ = 0x5555c4d14f00 &quot;\n250 Directory successfully changed.&quot;
</I>&gt;<i>    },
</I>&gt;<i>    old_filepath = 0x0,
</I>&gt;<i>    typecode = 0 '\000',
</I>&gt;<i>    listing = {
</I>&gt;<i>      &lt;Packable&gt; = {
</I>&gt;<i>        _vptr.Packable = 0x555555b6cab0 &lt;vtable for MemBuf+16&gt;
</I>&gt;<i>      },
</I>&gt;<i>      members of MemBuf:
</I>&gt;<i>      buf = 0x5555cc7050c0 &quot;&quot;,
</I>&gt;<i>      size = 0,
</I>&gt;<i>      max_capacity = 2097152000,
</I>&gt;<i>      capacity = 2048,
</I>&gt;<i>      stolen = 0
</I>&gt;<i>    },
</I>&gt;<i>    flags = {
</I>&gt;<i>      pasv_supported = true,
</I>&gt;<i>      epsv_all_sent = false,
</I>&gt;<i>      pasv_only = false,
</I>&gt;<i>      pasv_failed = false,
</I>&gt;<i>      authenticated = false,
</I>&gt;<i>      tried_auth_anonymous = true,
</I>&gt;<i>      tried_auth_nopass = false,
</I>&gt;<i>      isdir = true,
</I>&gt;<i>      skip_whitespace = false,
</I>&gt;<i>      rest_supported = true,
</I>&gt;<i>      http_header_sent = false,
</I>&gt;<i>      tried_nlst = false,
</I>&gt;<i>      need_base_href = false,
</I>&gt;<i>      dir_slash = false,
</I>&gt;<i>      root_dir = false,
</I>&gt;<i>      no_dotdot = false,
</I>&gt;<i>      binary = false,
</I>&gt;<i>      try_slash_hack = false,
</I>&gt;<i>      put = false,
</I>&gt;<i>      put_mkdir = false,
</I>&gt;<i>      listformat_unknown = false,
</I>&gt;<i>      listing = true,
</I>&gt;<i>      completed_forwarding = true
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025878.html">[squid-users] [ext] Re: ftp related crash in squid-6.0.0-20220905-r9358e99f9
</A></li>
	<LI>Next message (by thread): <A HREF="025880.html">[squid-users] Insert requested URL to custom header in request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25879">[ date ]</a>
              <a href="thread.html#25879">[ thread ]</a>
              <a href="subject.html#25879">[ subject ]</a>
              <a href="author.html#25879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
