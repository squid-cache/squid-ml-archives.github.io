<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] make URL bypass squid proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20make%20URL%20bypass%20squid%20proxy&In-Reply-To=%3CCAGU_Ci%2BE97baqX40AiL4MVhhUSCvL-PMOBh8E-57AkJXLhif_g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025898.html">
   <LINK REL="Next"  HREF="025902.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] make URL bypass squid proxy</H1>
    <B>robert k Wild</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20make%20URL%20bypass%20squid%20proxy&In-Reply-To=%3CCAGU_Ci%2BE97baqX40AiL4MVhhUSCvL-PMOBh8E-57AkJXLhif_g%40mail.gmail.com%3E"
       TITLE="[squid-users] make URL bypass squid proxy">robertkwild at gmail.com
       </A><BR>
    <I>Tue Jun 27 20:29:19 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025898.html">[squid-users] make URL bypass squid proxy
</A></li>
        <LI>Next message (by thread): <A HREF="025902.html">[squid-users] make URL bypass squid proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25900">[ date ]</a>
              <a href="thread.html#25900">[ thread ]</a>
              <a href="subject.html#25900">[ subject ]</a>
              <a href="author.html#25900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok I've literally commented out &quot;http deny all&quot; so the proxy isn't blocking
anything and allowing everything

http_access allow activation whitelist
#http_access deny all

And still it's not allowing this specific URL to go through the proxy

activate.redshift3d.com

Well it is but it isn't, as it's an activation URL it isn't activating the
app via the proxy, as soon as I pop the pc on the internet, it activates
the app

Any ideas guys?

Thanks,
Rob

On Tue, 27 Jun 2023, 07:36 robert k Wild, &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">robertkwild at gmail.com</A>&gt; wrote:

&gt;<i> Hi Eliezer,
</I>&gt;<i>
</I>&gt;<i> this is a snippet of my whitelist and no intercept SSL config
</I>&gt;<i>
</I>&gt;<i> #SSL Interception
</I>&gt;<i> acl DiscoverSNIHost at_step SslBump1
</I>&gt;<i> acl NoSSLIntercept ssl::server_name_regex
</I>&gt;<i> &quot;/usr/local/squid/etc/interceptssl.txt&quot;
</I>&gt;<i> ssl_bump peek DiscoverSNIHost
</I>&gt;<i> ssl_bump splice NoSSLIntercept
</I>&gt;<i> ssl_bump bump all
</I>&gt;<i> #
</I>&gt;<i> #SSL Bump
</I>&gt;<i> http_port 3128 ssl-bump cert=/usr/local/squid/etc/ssl_cert/myCA.pem
</I>&gt;<i> generate-host-certificates=on dynamic_cert_mem_cache_size=4MB
</I>&gt;<i> sslcrtd_program /usr/local/squid/libexec/security_file_certgen -s
</I>&gt;<i> /var/lib/ssl_db -M 4MB
</I>&gt;<i> #
</I>&gt;<i> #deny up MIME types
</I>&gt;<i> acl upmime req_mime_type &quot;/usr/local/squid/etc/mimedeny.txt&quot;
</I>&gt;<i> #
</I>&gt;<i> #deny URL links
</I>&gt;<i> acl url_links url_regex &quot;/usr/local/squid/etc/linksurl.txt&quot;
</I>&gt;<i> #
</I>&gt;<i> #allow special URL paths
</I>&gt;<i> acl special_url url_regex &quot;/usr/local/squid/etc/urlspecial.txt&quot;
</I>&gt;<i> #
</I>&gt;<i> #deny down MIME types
</I>&gt;<i> acl downmime rep_mime_type &quot;/usr/local/squid/etc/mimedeny.txt&quot;
</I>&gt;<i> #
</I>&gt;<i> http_reply_access allow special_url
</I>&gt;<i> http_reply_access deny downmime
</I>&gt;<i> #http_access deny upmime
</I>&gt;<i> #http_access deny url_links
</I>&gt;<i> #
</I>&gt;<i> #HTTP_HTTPS whitelist websites
</I>&gt;<i> acl whitelist ssl::server_name_regex &quot;/usr/local/squid/etc/urlwhite.txt&quot;
</I>&gt;<i> #
</I>&gt;<i> http_access allow activation whitelist
</I>&gt;<i> http_access deny all
</I>&gt;<i>
</I>&gt;<i> so basically no SSL interception
</I>&gt;<i>
</I>&gt;<i> #SSL Interception
</I>&gt;<i> acl DiscoverSNIHost at_step SslBump1
</I>&gt;<i> acl NoSSLIntercept ssl::server_name_regex
</I>&gt;<i> &quot;/usr/local/squid/etc/interceptssl.txt&quot;
</I>&gt;<i> ssl_bump peek DiscoverSNIHost
</I>&gt;<i> ssl_bump splice NoSSLIntercept
</I>&gt;<i> ssl_bump bump all
</I>&gt;<i>
</I>&gt;<i> and whitelisting
</I>&gt;<i>
</I>&gt;<i> #HTTP_HTTPS whitelist websites
</I>&gt;<i> acl whitelist ssl::server_name_regex &quot;/usr/local/squid/etc/urlwhite.txt&quot;
</I>&gt;<i>
</I>&gt;<i> in both txt files ie
</I>&gt;<i>
</I>&gt;<i> /usr/local/squid/etc/interceptssl.txt
</I>&gt;<i> /usr/local/squid/etc/urlwhite.txt
</I>&gt;<i>
</I>&gt;<i> i have a URL that first i have to whitelist and then if i want squid not
</I>&gt;<i> to inspect the url traffic i put it in the SSL interception (i do this as
</I>&gt;<i> some websites dont like MITM )
</I>&gt;<i>
</I>&gt;<i> but even putting the URL in question in both files im still having issues
</I>&gt;<i> with this website ie its still being detected that its passing through a
</I>&gt;<i> proxy
</I>&gt;<i>
</I>&gt;<i> thanks,
</I>&gt;<i> rob
</I>&gt;<i>
</I>&gt;<i> On Mon, 26 Jun 2023 at 23:35, &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hey Robert,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am not sure what forward proxy setup you have there.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A simple forward proxy?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What tool are you using for whitelisting?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can use an external acl helper to allow dynamic updates of the
</I>&gt;&gt;<i> whitelists or
</I>&gt;&gt;<i> to periodic update your lists and reload.
</I>&gt;&gt;<i> It will depend on the size of your lists.
</I>&gt;&gt;<i> What OS are you using for your squid proxy?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> More details will help us help you.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Eliezer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *From:* squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; *On
</I>&gt;&gt;<i> Behalf Of *robert k Wild
</I>&gt;&gt;<i> *Sent:* Monday, June 26, 2023 22:25
</I>&gt;&gt;<i> *To:* Squid Users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>&gt;
</I>&gt;&gt;<i> *Subject:* [squid-users] make URL bypass squid proxy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i have set up squid for url whitelisting and no intercept SSL (see below)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://wiki.squid-cache.org/ConfigExamples/Caching/AdobeProducts">https://wiki.squid-cache.org/ConfigExamples/Caching/AdobeProducts</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but some websites i want the client to bypass the squid proxy and go
</I>&gt;&gt;<i> straight to the website as i think this is why a url isnt working even when
</I>&gt;&gt;<i> i add the url to both files ie urlwhite and no intercept SSL
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> rob
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Robert K Wild.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Robert K Wild.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230627/06fb3499/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230627/06fb3499/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025898.html">[squid-users] make URL bypass squid proxy
</A></li>
	<LI>Next message (by thread): <A HREF="025902.html">[squid-users] make URL bypass squid proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25900">[ date ]</a>
              <a href="thread.html#25900">[ thread ]</a>
              <a href="subject.html#25900">[ subject ]</a>
              <a href="author.html#25900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
