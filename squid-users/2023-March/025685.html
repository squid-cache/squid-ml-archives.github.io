<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Can't store log in mysql 8.0 database (Amos Jeffries)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Can%27t%20store%20log%20in%20mysql%208.0%20database%20%28Amos%0A%20Jeffries%29&In-Reply-To=%3CCAJXDOba8HK9Bff_J7e66wrx63Ynp-DK-2iQqR70TFpy7OPGh6w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025702.html">
   <LINK REL="Next"  HREF="025686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Can't store log in mysql 8.0 database (Amos Jeffries)</H1>
    <B>Francisco</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Can%27t%20store%20log%20in%20mysql%208.0%20database%20%28Amos%0A%20Jeffries%29&In-Reply-To=%3CCAJXDOba8HK9Bff_J7e66wrx63Ynp-DK-2iQqR70TFpy7OPGh6w%40mail.gmail.com%3E"
       TITLE="[squid-users] Can't store log in mysql 8.0 database (Amos Jeffries)">frizquierdo87 at gmail.com
       </A><BR>
    <I>Sat Mar  4 14:04:32 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025702.html">[squid-users] Understanding maximum outgoing HTTP CONNECT requests?
</A></li>
        <LI>Next message (by thread): <A HREF="025686.html">[squid-users] Access based on auth and referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25685">[ date ]</a>
              <a href="thread.html#25685">[ thread ]</a>
              <a href="subject.html#25685">[ subject ]</a>
              <a href="author.html#25685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ohh, thanks!!!! libdbd-mysql-perl was not installed.
Work like a charm!!!

El s&#225;b., 4 de mar. de 2023 7:43 a.m., &lt;
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>&gt; escribi&#243;:

&gt;<i> Send squid-users mailing list submissions to
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-request at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-owner at lists.squid-cache.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of squid-users digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: Missing translation directories und 'errors' in squid 5.8
</I>&gt;<i>       (Amos Jeffries)
</I>&gt;<i>    2. Re: Missing translation directories und 'errors' in squid 5.8
</I>&gt;<i>       (Amos Jeffries)
</I>&gt;<i>    3. Re: Can't store log in mysql 8.0 database (Amos Jeffries)
</I>&gt;<i>    4. Re: Missing translation directories und 'errors' in squid 5.8
</I>&gt;<i>       (Matthias Fischer)
</I>&gt;<i>    5. Re: Understanding maximum outgoing HTTP CONNECT requests?
</I>&gt;<i>       (<A HREF="https://lists.squid-cache.org/listinfo/squid-users">divan.whelk.0u at icloud.com</A>)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Sun, 5 Mar 2023 01:15:48 +1300
</I>&gt;<i> From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Missing translation directories und
</I>&gt;<i>         'errors' in squid 5.8
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">c84158f3-159d-6fe8-d947-9aea9f63ebd8 at treenet.co.nz</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8; format=flowed
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> FYI, The missing files from 5.8 can be downloaded from here as a
</I>&gt;<i> stand-alone package:
</I>&gt;<i>  ? &lt;<A HREF="http://www.squid-cache.org/Versions/langpack/">http://www.squid-cache.org/Versions/langpack/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i> On 3/03/2023 7:22 pm, Avram-Teodor Berindeie wrote:
</I>&gt;<i> &gt; A solution if the error messages in English are OK is to set this
</I>&gt;<i> &gt; directive in squid.conf:
</I>&gt;<i> &gt; error_directory /&lt;path to&gt;/squid/share/errors/templates
</I>&gt;<i> &gt; For error messages in other languages, information in this link
</I>&gt;<i> &gt; &lt;<A HREF="https://wiki.squid-cache.org/Translations">https://wiki.squid-cache.org/Translations</A>&gt;.
</I>&gt;<i> &gt; This configuration options can also be used:
</I>&gt;<i> &gt; *--enable*/disable*-translation*
</I>&gt;<i> &gt; By default, Squid tries to present error and manual pages in a local
</I>&gt;<i> &gt; language. If we don't want this to happen, then we can use this option.
</I>&gt;<i> &gt; *--enable*/disable*-auto-locale*
</I>&gt;<i> &gt; Based on a client's request headers, Squid tries to automatically
</I>&gt;<i> &gt; provide localized error pages. We can use this option to disable
</I>&gt;<i> &gt; automatic localization. The error_directory tag in the Squid
</I>&gt;<i> &gt; configuration file must be configured if we use this option.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Sun, 5 Mar 2023 01:16:08 +1300
</I>&gt;<i> From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Missing translation directories und
</I>&gt;<i>         'errors' in squid 5.8
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">3e134177-1ed1-431e-bfc0-fe2ba1d8b52d at treenet.co.nz</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8; format=flowed
</I>&gt;<i>
</I>&gt;<i> Ouch, sorry about that.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> FYI, The missing files from 5.8 can be downloaded from here as a
</I>&gt;<i> stand-alone package:
</I>&gt;<i>  ? &lt;<A HREF="http://www.squid-cache.org/Versions/langpack/">http://www.squid-cache.org/Versions/langpack/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 3/03/2023 6:40 am, Matthias Fischer wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm a bit puzzled - sorry if I just overlooked something, but...:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since 'squid 5.8' there are no &quot;translation directories&quot; in the source
</I>&gt;<i> &gt; code anymore, only 'templates' and the usual scripts.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No 'errors/af', 'errors/ar', 'errors/az' containing
</I>&gt;<i> &gt; '\squid-5.8\errors\af\ERR_ACCESS_DENIED' (e.g.).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The TRANSLATORS are still listed but none of their files...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Did I miss something?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matthias
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Sun, 5 Mar 2023 01:23:54 +1300
</I>&gt;<i> From: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Can't store log in mysql 8.0 database
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">3a1726b6-4ca7-bf33-bedc-fe32e3a9420e at treenet.co.nz</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8; format=flowed
</I>&gt;<i>
</I>&gt;<i> On 4/03/2023 8:22 am, Francisco wrote:
</I>&gt;<i> &gt; Hi, I\m trying to store logs in a mysql server 8.0 database from squid
</I>&gt;<i> &gt; 5.7 in Debian 11.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My idea is store all logs in /var/log/squid/ dir, and logs from
</I>&gt;<i> &gt; specifics urls, domains and sites store in mysql database
</I>&gt;<i> &gt; ('access_log_internet' table) to restrict those users that overcuote
</I>&gt;<i> &gt; an specific amount of MB.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; *The config:*
</I>&gt;<i> &gt; /access_log /var/log/squid/nav_basica-access.log squid dominios/
</I>&gt;<i> &gt; /access_log /var/log/squid/nav_basica-access.log squid dominios_parciales
</I>&gt;<i> &gt; /
</I>&gt;<i> &gt; /access_log /var/log/squid/nav_basica-access.log squid sitios
</I>&gt;<i> &gt; /
</I>&gt;<i> &gt; /access_log /var/log/squid/nav_basica-access.log squid dominio_cu/
</I>&gt;<i> &gt; /access_log /var/log/squid/internet-access.log squid !dominios
</I>&gt;<i> &gt; !dominios_parciales !sitios !dominio_cu/
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /logfile_daemon /usr/lib/squid/log_db_daemon/
</I>&gt;<i> &gt; /access_log
</I>&gt;<i> &gt; daemon:/
</I>&gt;<i> 192.168.56.2:3306/squidmgr/access_log_internet/squidmgr/squidmgrsquid
</I>&gt;<i> &gt; &lt;
</I>&gt;<i> <A HREF="http://192.168.56.2:3306/squidmgr/access_log_internet/squidmgr/squidmgrsquid">http://192.168.56.2:3306/squidmgr/access_log_internet/squidmgr/squidmgrsquid</A>&gt;
</I>&gt;<i>
</I>&gt;<i> &gt; !dominios !dominios_parciales !sitios !dominio_cu/
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; when try start squid, it's fail:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /Dec 31 19:00:00 1969Use of uninitialized value $DBI::errstr in
</I>&gt;<i> &gt; concatenation (.) or string at /usr/lib/squid/log_db_daemon line 403.
</I>&gt;<i> &gt; Dec 31 19:00:00 1969Cannot connect to database: ?at
</I>&gt;<i> &gt; /usr/lib/squid/log_db_daemon line 403.
</I>&gt;<i> &gt; /
</I>&gt;<i>
</I>&gt;<i> What version of Perl do you have on this machine?
</I>&gt;<i>
</I>&gt;<i> Do you have both libdbd-mysql-perl and libdbi-perl packages installed?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Amos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Sat, 4 Mar 2023 13:34:23 +0100
</I>&gt;<i> From: Matthias Fischer &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">matthias.fischer at ipfire.org</A>&gt;
</I>&gt;<i> To: Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt;,
</I>&gt;<i>         <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Missing translation directories und
</I>&gt;<i>         'errors' in squid 5.8
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">e903ea55-88eb-ee66-70d1-9220d9d90bac at ipfire.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> On 04.03.2023 13:15, Amos Jeffries wrote:
</I>&gt;<i> &gt; FYI, The missing files from 5.8 can be downloaded from here as a
</I>&gt;<i> &gt; stand-alone package:
</I>&gt;<i> &gt;  ? &lt;<A HREF="http://www.squid-cache.org/Versions/langpack/">http://www.squid-cache.org/Versions/langpack/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Yep. In the meantime ( ;-) ) I've found them. I was just a bit puzzled,
</I>&gt;<i> in 5.7 these files were still included in the source code.
</I>&gt;<i>
</I>&gt;<i> &gt; Cheers
</I>&gt;<i> &gt; Amos
</I>&gt;<i>
</I>&gt;<i> Many thanks!
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i> Matthias
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Sat, 4 Mar 2023 12:42:53 +0000
</I>&gt;<i> From: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">divan.whelk.0u at icloud.com</A>
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: Re: [squid-users] Understanding maximum outgoing HTTP CONNECT
</I>&gt;<i>         requests?
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">9C815592-A998-4908-842A-A98412D6613F at kontos-home.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you for the prompt reply!
</I>&gt;<i>
</I>&gt;<i> &gt; - Squid can be configured to receive on up to 64 ports.
</I>&gt;<i> &gt;   Thus dst-port on **inbound** is 2^6.
</I>&gt;<i>
</I>&gt;<i> &gt; outbound =  N * 2^6 * 2^128 * 2^16 = N * 2^150
</I>&gt;<i>
</I>&gt;<i> Would that be 2^6 dst-port on outbound, rather than inbound (ignoring
</I>&gt;<i> Alt-Svc)? Or am misunderstand the theoretical limit formulae after?
</I>&gt;<i>
</I>&gt;<i> &gt; Thus total theoretical limit of simultaneous connections Squid can be
</I>&gt;<i> juggling is  N * 2^151.
</I>&gt;<i>
</I>&gt;<i> So, for example a single box HTTP CONNECT proxy might be listening on one
</I>&gt;<i> IPv4 address and one IPv6 address, which would be making the outbound
</I>&gt;<i> connections (and opening the TCP tunnel) and only able to make outbound
</I>&gt;<i> connections to either port 80 or 443 (2^16 for each respective port,
</I>&gt;<i> ignoring Alt-Svc).
</I>&gt;<i>
</I>&gt;<i> Whereas for incoming, listening on dst-port (3128) (2^16 incoming), with a
</I>&gt;<i> theoretical limit of 2^32 IPv4 addresses or 2^128 IPv6 addresses (or do you
</I>&gt;<i> use 2^128 including IPv4)?
</I>&gt;<i>
</I>&gt;<i> &gt; Reality can be significantly different for any given installation, but
</I>&gt;<i> is imposed by configuration choices and thus can be altered as needed.
</I>&gt;<i>
</I>&gt;<i> Understood, thanks! I think I?ve got a good idea now, with the
</I>&gt;<i> clarifications.
</I>&gt;<i>
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i> &gt; On 17 Feb 2023, at 20:18, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 18/02/2023 12:14 am, divan.whelk.0u wrote:
</I>&gt;<i> &gt;&gt; Hi there!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I?m trying to understand what would the ?theoretical? maximum amount of
</I>&gt;<i> outgoing connections with squid setup as a HTTP CONNECT forward proxy would
</I>&gt;<i> be (hardware permitting)?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As you likely know, each TCP/IP connection uses a 4-tuple identifier
</I>&gt;<i> {src-IP, src-port, dst-IP, dst-port}.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So at face value there is a protocol imposed cap of (2^128 * 2^16 *
</I>&gt;<i> 2^128 * 2^16) = 2^288 connections.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Being theoretical we have:
</I>&gt;<i> &gt;     * ignored reserved IP ranges,
</I>&gt;<i> &gt;     * ignored OS-specific ephemeral port reservations,
</I>&gt;<i> &gt;     * assumed IPv6 availability, and
</I>&gt;<i> &gt;     * assumed no access restrictions in Squid, network routing, nor
</I>&gt;<i> firewall.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The factors to consider are:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  - Squid machine can be assigned multiple IP's.
</I>&gt;<i> &gt;     Thus src-IP on outbound and dst-IP on inbound are that N.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  - Squid can be configured to receive on up to 64 ports.
</I>&gt;<i> &gt;    Thus dst-port on inbound is 2^6.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  - DNS can provide any number of IPs for any given server name.
</I>&gt;<i> &gt;     Thus outbound dst-IP can be any 2^128 value.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  - modern websites use use Alt-Svc to spread across ports.
</I>&gt;<i> &gt;     Thus outbound dst-port can be any 2^16 value.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So for theoretical limit the math is:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  inbound =    2^128 * 2^16 * N * 2^16  = N * 2^160
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  outbound =  N * 2^6 * 2^128 * 2^16 = N * 2^150
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Inbound and outbound are normally independent, but CONNECT is a special
</I>&gt;<i> case where they are pinned 1:1.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thus total theoretical limit of simultaneous connections Squid can be
</I>&gt;<i> juggling is  N * 2^151.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Reality can be significantly different for any given installation, but
</I>&gt;<i> is imposed by configuration choices and thus can be altered as needed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; From the [squid-users] About bottlenecks (Max number of connections,
</I>&gt;<i> etc.) thread, I saw mention of the following:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; * The limit on number of connections any Squid can have attached is
</I>&gt;<i> only limited by your configured FD limits and available server RAM. Squid
</I>&gt;<i> uses ~64 KB per network socket for traffic state - which equates to around
</I>&gt;<i> 2 GB of RAM just for I/O buffers at 20,000 concurrent client connections.
</I>&gt;<i> &gt;&gt; I assume the same would not apply on outgoing connections, and that
</I>&gt;<i> there would be a limit of 65,536 connections to a single IP, port pair? For
</I>&gt;<i> example, if we had 1 million users making requests via HTTP CONNECT, only
</I>&gt;<i> 65K of them would be able to access the same website at any one time?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; IIRC that quoted thread was discussing a Squid with more normal
</I>&gt;<i> multiple-destination case hitting FD limits.  The 64K port limitation you
</I>&gt;<i> refer to is a special case contingent on the &quot;single destination with
</I>&gt;<i> single IP:port&quot; criteria - which itself is rarely true for a popular
</I>&gt;<i> website. It assumes configuration restriction imposing that criteria
</I>&gt;<i> somehow.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers
</I>&gt;<i> &gt; Amos
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; squid-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Subject: Digest Footer
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> End of squid-users Digest, Vol 103, Issue 6
</I>&gt;<i> *******************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230304/2da5d5c4/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230304/2da5d5c4/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025702.html">[squid-users] Understanding maximum outgoing HTTP CONNECT requests?
</A></li>
	<LI>Next message (by thread): <A HREF="025686.html">[squid-users] Access based on auth and referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25685">[ date ]</a>
              <a href="thread.html#25685">[ thread ]</a>
              <a href="subject.html#25685">[ subject ]</a>
              <a href="author.html#25685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
