<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [EXTERNAL] FreeBSD 12 thousands connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5BEXTERNAL%5D%20FreeBSD%2012%20thousands%20connections&In-Reply-To=%3C000001d95c41%24a6f2a610%24f4d7f230%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025714.html">
   <LINK REL="Next"  HREF="025716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [EXTERNAL] FreeBSD 12 thousands connections</H1>
    <B>ngtech1ltd at gmail.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5BEXTERNAL%5D%20FreeBSD%2012%20thousands%20connections&In-Reply-To=%3C000001d95c41%24a6f2a610%24f4d7f230%24%40gmail.com%3E"
       TITLE="[squid-users] [EXTERNAL] FreeBSD 12 thousands connections">ngtech1ltd at gmail.com
       </A><BR>
    <I>Tue Mar 21 22:08:21 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025714.html">[squid-users] [EXTERNAL] FreeBSD 12 thousands connections
</A></li>
        <LI>Next message (by thread): <A HREF="025716.html">[squid-users] squid 5.7 Bad request from parent cache after squid -k reconfigure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25715">[ date ]</a>
              <a href="thread.html#25715">[ thread ]</a>
              <a href="subject.html#25715">[ subject ]</a>
              <a href="author.html#25715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I know that the choice was made to use FreeBSD 12...
But I can suggest to use Linux and not FreeeBSD.
I have not tested this for a very long time but the last time I checked Linux was handling network traffic better then FreeBSD.
I also believe that if you would have any issues, you would be able to get better support on a Linux rather than FreeBSD.

Also, it is really important to know if you will be intercepting traffic in a TPROXY or NAT mode.
And the most important thing is to know that you will be facing a testing and integration period.
You might expect your 3k clients to use only 12k connections max but it's plausible to assume that it will
be much more when there would be load on the network.
Assuming a client will use Firefox, it has a pool of 6 connections per server and 900 maximum connections for the browser.
If you will take a simple website like yahoo or any other modern site you will face multiple servers for the same page..
which means that the connections per client will be more than double 4.

So, my recommendation is to take a Linux system either Debian, Ubuntu, CentOS, Alma, Oracle, Other
and use the machine only as a Router to see the number of connections you have on the network on peak hours.
If you do have another device on the network that is capable of providing the statistics for web (ports 80 and 443)
connections feel free to use that to make sure that your capacity planning is accurate.

Yours,
Elezer

----
Eliezer Croitoru
NgTech, Tech Support
Mobile: +972-5-28704261
Email: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">ngtech1ltd at gmail.com</A>
Web: <A HREF="https://ngtech.co.il/">https://ngtech.co.il/</A>
My-Tube: <A HREF="https://tube.ngtech.co.il/">https://tube.ngtech.co.il/</A>

-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Periko Support
Sent: Monday, 20 March 2023 20:23
Cc: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] [EXTERNAL] FreeBSD 12 thousands connections

This will be MITM Transparent Proxy.
No User Auth.
Thanks for your help.

On Mon, Mar 20, 2023 at 11:08&#8239;AM Joey Officer &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">JOfficer at istreamfs.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Will the users require authentication?  Depending on what authentication is active, you'd probably want to increase the minimum amount of auth helpers to satisfy the requests.
</I>&gt;<i>
</I>&gt;<i> That said, you really haven't given enough information about your specific use.
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Periko Support
</I>&gt;<i> Sent: Monday, March 20, 2023 12:38 PM
</I>&gt;<i> To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> Subject: [EXTERNAL][squid-users] FreeBSD 12 thousands connections
</I>&gt;<i>
</I>&gt;<i> CAUTION: This email originated from outside of the organization. Do not click links or open attachments unless you recognize the sender and know the content is safe.
</I>&gt;<i>
</I>&gt;<i> Hello guys.
</I>&gt;<i>
</I>&gt;<i> I 'm going to run a squid-proxy for around 3000 users simultaneously.
</I>&gt;<i>
</I>&gt;<i> The server is a Supermicro Intel 8 cores with 64GB RAM, SSD disk, I will not enable caching.
</I>&gt;<i>
</I>&gt;<i> The switches are 1GB HP.
</I>&gt;<i>
</I>&gt;<i> Any recommendations for this deployment that could help tuning my FreeBSD 12.3 box to take into consideration?
</I>&gt;<i>
</I>&gt;<i> Thanks all for your time!!!
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>
</I>_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="http://lists.squid-cache.org/listinfo/squid-users">http://lists.squid-cache.org/listinfo/squid-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025714.html">[squid-users] [EXTERNAL] FreeBSD 12 thousands connections
</A></li>
	<LI>Next message (by thread): <A HREF="025716.html">[squid-users] squid 5.7 Bad request from parent cache after squid -k reconfigure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25715">[ date ]</a>
              <a href="thread.html#25715">[ thread ]</a>
              <a href="subject.html#25715">[ subject ]</a>
              <a href="author.html#25715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
