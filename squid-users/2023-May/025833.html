<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Bind specific squid instance (port) to specific icap service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bind%20specific%20squid%20instance%20%28port%29%20to%20specific%0A%20icap%20service&In-Reply-To=%3Cb41eb609-eafd-7941-2f81-5f6478cfc9e9%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025832.html">
   <LINK REL="Next"  HREF="025834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Bind specific squid instance (port) to specific icap service</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Bind%20specific%20squid%20instance%20%28port%29%20to%20specific%0A%20icap%20service&In-Reply-To=%3Cb41eb609-eafd-7941-2f81-5f6478cfc9e9%40measurement-factory.com%3E"
       TITLE="[squid-users] Bind specific squid instance (port) to specific icap service">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu May 11 13:39:13 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="025832.html">[squid-users] Bind specific squid instance (port) to specific icap service
</A></li>
        <LI>Next message (by thread): <A HREF="025834.html">[squid-users] cache_peer selection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25833">[ date ]</a>
              <a href="thread.html#25833">[ thread ]</a>
              <a href="subject.html#25833">[ subject ]</a>
              <a href="author.html#25833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/11/23 09:08, Ben Goz wrote:
&gt;<i> 
</I>&gt;<i> On 11/05/2023 15:58, Alex Rousskov wrote:
</I>&gt;&gt;<i> On 5/11/23 06:26, Ben Goz wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have a machine with N (while N is always bigger than 1) different 
</I>&gt;&gt;&gt;<i> ip addresses and for each ip address&#160;I have a different squid 
</I>&gt;&gt;&gt;<i> instance. And I also have N icap servers. What is the best 
</I>&gt;&gt;&gt;<i> configuration that each squid will be attached&#160;to a different icap 
</I>&gt;&gt;&gt;<i> service?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you configure each Squid to use a different ICAP service (i.e. 
</I>&gt;&gt;<i> Squid instance #i would use ICAP service #i)? If the answer to that 
</I>&gt;&gt;<i> question is &quot;no&quot;, then please detail what prevents you from using that 
</I>&gt;&gt;<i> (natural/obvious) solution.
</I>
&gt;<i> It should be used with different pidfile correct?
</I>
What do you mean by &quot;it&quot;? The opening of your question states that you 
already have a machine with N Squid instances so, I assume, you already 
know how to run multiple Squid instances on the same machine. It does 
require instance-specific PID files (pid_filename in squid.conf). It is 
usually best to make that multi-Squid setup work well _before_ you add 
ICAP into the mix.

If you are asking about ICAP server configuration, then you should 
direct your question to ICAP server support. Each ICAP server has its 
own configuration language and caveats...

In squid.conf for Squid instance #i, you will use an icap_service 
directive to point that Squid instance #i to ICAP service #i (i.e. the 
ICAP service dedicated to Squid instance #i). There are more complicated 
ways to set this up, but this simple setup already addresses the 
requirements you have shared so far.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="025832.html">[squid-users] Bind specific squid instance (port) to specific icap service
</A></li>
	<LI>Next message (by thread): <A HREF="025834.html">[squid-users] cache_peer selection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25833">[ date ]</a>
              <a href="thread.html#25833">[ thread ]</a>
              <a href="subject.html#25833">[ subject ]</a>
              <a href="author.html#25833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
