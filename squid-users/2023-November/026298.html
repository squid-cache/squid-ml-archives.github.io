<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SSL Virtual Hosting Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Virtual%20Hosting%20Problem&In-Reply-To=%3Cf79f3020-f40a-4da0-9fed-39cc8f48bd51%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026306.html">
   <LINK REL="Next"  HREF="026300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SSL Virtual Hosting Problem</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SSL%20Virtual%20Hosting%20Problem&In-Reply-To=%3Cf79f3020-f40a-4da0-9fed-39cc8f48bd51%40measurement-factory.com%3E"
       TITLE="[squid-users] SSL Virtual Hosting Problem">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Nov 28 14:24:18 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026306.html">[squid-users] SSL Virtual Hosting Problem
</A></li>
        <LI>Next message (by thread): <A HREF="026300.html">[squid-users] Squid 6.2 with WCCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26298">[ date ]</a>
              <a href="thread.html#26298">[ thread ]</a>
              <a href="subject.html#26298">[ subject ]</a>
              <a href="author.html#26298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2023-11-28 05:29, Mario Theodoridis wrote:
&gt;<i> Hello everyone,
</I>&gt;<i> 
</I>&gt;<i> i'm trying to use squid as a TLS virtual hosting proxy on a system with 
</I>&gt;<i> a public IP in front of several internal systems running TLS web servers.
</I>&gt;<i> 
</I>&gt;<i> I would like to proxy the incoming connections to the appropriate 
</I>&gt;<i> backend servers based on the hostname using SNI.
</I>&gt;<i> 
</I>&gt;<i> I'm using the following config to just try this with 1 backend to test 
</I>&gt;<i> with and fail already
</I>&gt;<i> 
</I>&gt;<i> Here the config:
</I>&gt;<i> 
</I>&gt;<i> http_port 3128
</I>&gt;<i> debug_options ALL,2
</I>&gt;<i> pinger_enable off
</I>&gt;<i> shutdown_lifetime 1 second
</I>&gt;<i> https_port 0.0.0.0:443 tproxy ssl-bump tls-cert=/root/dummy.pem
</I>&gt;<i> acl tlspls ssl::server_name_regex -i test\.regify\.com
</I>&gt;<i> cache_peer test.de.regify.com parent 443 0 proxy-only originserver 
</I>&gt;<i> no-digest no-netdb-exchange name=test
</I>&gt;<i> ssl_bump peek all
</I>&gt;<i> ssl_bump splice all
</I>&gt;<i> http_access allow all
</I>&gt;<i> cache_peer_access test allow all
</I>

It sounds like you want all traffic to go to the configured cache_peer, 
but the above configuration has no rules specifying that request routing 
requirement. Try adding something like

     never_direct allow all
     always_direct deny all

FWIW, cache_peer_access gives permission to access a peer if that peer 
is being considered by request routing rules; it is not a requirement to 
consider a peer.


 &gt; Also appreciated would be advise on where to find this documented.

While all squid.conf directives are documented, I am not aware of any 
high-quality web page dedicated to explaining overall request routing to 
Squid admins.


HTH,

Alex.



&gt;<i> Starting squid gives me the following:
</I>&gt;<i> 
</I>&gt;<i> 2023/11/28 11:13:21.919| 1,2| main.cc(1619) SquidMain: Doing post-config 
</I>&gt;<i> initialization
</I>&gt;<i> 2023/11/28 11:13:21.919| 1,2| main.cc(1621) SquidMain: running 
</I>&gt;<i> RegisteredRunner::finalizeConfig
</I>&gt;<i> 2023/11/28 11:13:21.919| Created PID file (/run/squid.pid)
</I>&gt;<i> 2023/11/28 11:13:21.921| 1,2| main.cc(1453) StartUsingConfig: running 
</I>&gt;<i> RegisteredRunner::claimMemoryNeeds
</I>&gt;<i> 2023/11/28 11:13:21.921| 1,2| main.cc(1454) StartUsingConfig: running 
</I>&gt;<i> RegisteredRunner::useConfig
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| 1,2| main.cc(1619) SquidMain: Doing 
</I>&gt;<i> post-config initialization
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| 1,2| main.cc(1621) SquidMain: running 
</I>&gt;<i> RegisteredRunner::finalizeConfig
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| 1,2| main.cc(1453) StartUsingConfig: 
</I>&gt;<i> running RegisteredRunner::claimMemoryNeeds
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| 1,2| main.cc(1454) StartUsingConfig: 
</I>&gt;<i> running RegisteredRunner::useConfig
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| Current Directory is /
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| Creating missing swap directories
</I>&gt;<i> 2023/11/28 11:13:21.988 kid1| No cache_dir stores are configured.
</I>&gt;<i> 2023/11/28 11:13:21.992| 1,2| main.cc(2051) watch_child: running 
</I>&gt;<i> RegisteredRunner::finishShutdown
</I>&gt;<i> 2023/11/28 11:13:21.992| Removing PID file (/run/squid.pid)
</I>&gt;<i> 2023/11/28 11:13:22.063| 1,2| main.cc(1619) SquidMain: Doing post-config 
</I>&gt;<i> initialization
</I>&gt;<i> 2023/11/28 11:13:22.063| 1,2| main.cc(1621) SquidMain: running 
</I>&gt;<i> RegisteredRunner::finalizeConfig
</I>&gt;<i> 2023/11/28 11:13:22.063| Created PID file (/run/squid.pid)
</I>&gt;<i> 2023/11/28 11:13:22.066| 1,2| main.cc(1453) StartUsingConfig: running 
</I>&gt;<i> RegisteredRunner::claimMemoryNeeds
</I>&gt;<i> 2023/11/28 11:13:22.066| 1,2| main.cc(1454) StartUsingConfig: running 
</I>&gt;<i> RegisteredRunner::useConfig
</I>&gt;<i> 2023/11/28 11:13:22.131 kid1| 1,2| main.cc(1619) SquidMain: Doing 
</I>&gt;<i> post-config initialization
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| 1,2| main.cc(1621) SquidMain: running 
</I>&gt;<i> RegisteredRunner::finalizeConfig
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| 1,2| main.cc(1453) StartUsingConfig: 
</I>&gt;<i> running RegisteredRunner::claimMemoryNeeds
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| 1,2| main.cc(1454) StartUsingConfig: 
</I>&gt;<i> running RegisteredRunner::useConfig
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Current Directory is /
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Starting Squid Cache version 4.13 for 
</I>&gt;<i> x86_64-pc-linux-gnu...
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Service Name: squid
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Process ID 2863502
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Process Roles: worker
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| With 1024 file descriptors available
</I>&gt;<i> 2023/11/28 11:13:22.132 kid1| Initializing IP Cache...
</I>&gt;<i> 2023/11/28 11:13:22.135 kid1| 78,2| dns_internal.cc(1570) Init: 
</I>&gt;<i> idnsInit: attempt open DNS socket to: 0.0.0.0
</I>&gt;<i> 2023/11/28 11:13:22.135 kid1| DNS Socket created at 0.0.0.0, FD 5
</I>&gt;<i> 2023/11/28 11:13:22.135 kid1| Adding domain de.regify.com from 
</I>&gt;<i> /etc/resolv.conf
</I>&gt;<i> 2023/11/28 11:13:22.135 kid1| Adding nameserver 192.168.1.1 from 
</I>&gt;<i> /etc/resolv.conf
</I>&gt;<i> 2023/11/28 11:13:22.135 kid1| helperOpenServers: Starting 5/32 
</I>&gt;<i> 'security_file_certgen' processes
</I>&gt;<i> 2023/11/28 11:13:22.164 kid1| 46,2| Format.cc(71) parse: got definition 
</I>&gt;<i> '%&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp'
</I>&gt;<i> 2023/11/28 11:13:22.165 kid1| 46,2| Format.cc(71) parse: got definition 
</I>&gt;<i> '%&gt;a/%&gt;A %un %&gt;rm myip=%la myport=%lp'
</I>&gt;<i> 2023/11/28 11:13:22.165 kid1| Logfile: opening log 
</I>&gt;<i> daemon:/var/log/squid/access.log
</I>&gt;<i> 2023/11/28 11:13:22.165 kid1| Logfile Daemon: opening log 
</I>&gt;<i> /var/log/squid/access.log
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| 71,2| store_digest.cc(96) 
</I>&gt;<i> storeDigestCalcCap: have: 0, want 0 entries; limits: [1, 0]
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| 70,2| CacheDigest.cc(46) init: capacity: 1 
</I>&gt;<i> entries, bpe: ; size: 1 bytes
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Local cache digest enabled; 
</I>&gt;<i> rebuild/rewrite every 3600/3600 sec
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Store logging disabled
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Swap maxSize 0 + 262144 KB, estimated 
</I>&gt;<i> 20164 objects
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Target number of buckets: 1008
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Using 8192 Store buckets
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Max Mem&#160; size: 262144 KB
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Max Swap size: 0 KB
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Using Least Load store dir selection
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Current Directory is /
</I>&gt;<i> 2023/11/28 11:13:22.194 kid1| Finished loading MIME types and icons.
</I>&gt;<i> 2023/11/28 11:13:22.332 kid1| 80,2| wccp.cc(113) wccpConnectionOpen: 
</I>&gt;<i> WCCPv1 disabled.
</I>&gt;<i> 2023/11/28 11:13:22.332 kid1| 80,2| wccp2.cc(959) wccp2ConnectionOpen: 
</I>&gt;<i> WCCPv2 Disabled. No IPv4 Router(s) configured.
</I>&gt;<i> 2023/11/28 11:13:22.332 kid1| 33,2| AsyncCall.cc(25) AsyncCall: The 
</I>&gt;<i> AsyncCall clientListenerConnectionOpened constructed, 
</I>&gt;<i> this=0x5636c42036d0 [call18]
</I>&gt;<i> 2023/11/28 11:13:22.333 kid1| 33,2| AsyncCall.cc(92) ScheduleCall: 
</I>&gt;<i> StartListening.cc(59) will call 
</I>&gt;<i> clientListenerConnectionOpened(local=0.0.0.0:3128 remote=[::] FD 22 
</I>&gt;<i> flags=9, err=0, HTTP Socket port=0x5636c4203730) [call18]
</I>&gt;<i> 2023/11/28 11:13:22.333 kid1| 33,2| AsyncCall.cc(25) AsyncCall: The 
</I>&gt;<i> AsyncCall clientListenerConnectionOpened constructed, 
</I>&gt;<i> this=0x5636c420ca50 [call20]
</I>&gt;<i> 2023/11/28 11:13:22.337 kid1| 33,2| AsyncCall.cc(92) ScheduleCall: 
</I>&gt;<i> StartListening.cc(59) will call 
</I>&gt;<i> clientListenerConnectionOpened(local=0.0.0.0:443 remote=[::] FD 23 
</I>&gt;<i> flags=25, err=0, HTTPS Socket port=0x5636c420cab0) [call20]
</I>&gt;<i> 2023/11/28 11:13:22.337 kid1| HTCP Disabled.
</I>&gt;<i> 2023/11/28 11:13:22.337 kid1| Squid plugin modules loaded: 0
</I>&gt;<i> 2023/11/28 11:13:22.337 kid1| Adaptation support is off.
</I>&gt;<i> 2023/11/28 11:13:22.338 kid1| 93,2| Config.cc(224) FinalizeEach: 
</I>&gt;<i> Initialized 0 message adaptation services
</I>&gt;<i> 2023/11/28 11:13:22.338 kid1| 93,2| Config.cc(224) FinalizeEach: 
</I>&gt;<i> Initialized 0 message adaptation service groups
</I>&gt;<i> 2023/11/28 11:13:22.338 kid1| 93,2| Config.cc(224) FinalizeEach: 
</I>&gt;<i> Initialized 0 message adaptation access rules
</I>&gt;<i> 2023/11/28 11:13:22.339 kid1| 33,2| AsyncCallQueue.cc(55) fireNext: 
</I>&gt;<i> entering clientListenerConnectionOpened(local=0.0.0.0:3128 remote=[::] 
</I>&gt;<i> FD 22 flags=9, err=0, HTTP Socket port=0x5636c4203730)
</I>&gt;<i> 2023/11/28 11:13:22.339 kid1| 33,2| AsyncCall.cc(37) make: make call 
</I>&gt;<i> clientListenerConnectionOpened [call18]
</I>&gt;<i> 2023/11/28 11:13:22.339 kid1| Accepting HTTP Socket connections at 
</I>&gt;<i> local=0.0.0.0:3128 remote=[::] FD 22 flags=9
</I>&gt;<i> 2023/11/28 11:13:22.346 kid1| 33,2| AsyncCallQueue.cc(57) fireNext: 
</I>&gt;<i> leaving clientListenerConnectionOpened(local=0.0.0.0:3128 remote=[::] FD 
</I>&gt;<i> 22 flags=9, err=0, HTTP Socket port=0x5636c4203730)
</I>&gt;<i> 2023/11/28 11:13:22.346 kid1| 33,2| AsyncCallQueue.cc(55) fireNext: 
</I>&gt;<i> entering clientListenerConnectionOpened(local=0.0.0.0:443 remote=[::] FD 
</I>&gt;<i> 23 flags=25, err=0, HTTPS Socket port=0x5636c420cab0)
</I>&gt;<i> 2023/11/28 11:13:22.346 kid1| 33,2| AsyncCall.cc(37) make: make call 
</I>&gt;<i> clientListenerConnectionOpened [call20]
</I>&gt;<i> 2023/11/28 11:13:22.346 kid1| Accepting TPROXY intercepted SSL bumped 
</I>&gt;<i> HTTPS Socket connections at local=0.0.0.0:443 remote=[::] FD 23 flags=25
</I>&gt;<i> 2023/11/28 11:13:22.352 kid1| 33,2| AsyncCallQueue.cc(57) fireNext: 
</I>&gt;<i> leaving clientListenerConnectionOpened(local=0.0.0.0:443 remote=[::] FD 
</I>&gt;<i> 23 flags=25, err=0, HTTPS Socket port=0x5636c420cab0)
</I>&gt;<i> 2023/11/28 11:13:22.352 kid1| Configuring Parent test.de.regify.com/443/0
</I>&gt;<i> 2023/11/28 11:13:22.353 kid1| 15,2| neighbors.cc(1198) peerDNSConfigure: 
</I>&gt;<i> --&gt; IP address #0: 192.168.1.122
</I>&gt;<i> 2023/11/28 11:13:22.368 kid1| 15,2| neighbors.cc(1272) 
</I>&gt;<i> peerConnectSucceded: TCP connection to test.de.regify.com/443 succeeded
</I>&gt;<i> 2023/11/28 11:13:23 kid1| storeLateRelease: released 0 objects
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Then when i call curl -k <A HREF="https://test.regify.com/">https://test.regify.com/</A>
</I>&gt;<i> 
</I>&gt;<i> i get
</I>&gt;<i> 
</I>&gt;<i> The requested URL could not be retrieved
</I>&gt;<i> 
</I>&gt;<i> And the log has the following:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 2023/11/28 11:15:05.467 kid1| 5,2| TcpAcceptor.cc(224) doAccept: New 
</I>&gt;<i> connection on FD 23
</I>&gt;<i> 2023/11/28 11:15:05.467 kid1| 5,2| TcpAcceptor.cc(312) acceptNext: 
</I>&gt;<i> connection on local=0.0.0.0:443 remote=[::] FD 23 flags=25
</I>&gt;<i> 2023/11/28 11:15:05.467 kid1| 17,2| QosConfig.cc(125) 
</I>&gt;<i> getNfmarkFromConnection: QOS: Failed to retrieve connection mark: (-1) 
</I>&gt;<i> (2) No such file or directory (Destination 192.168.1.132:443, source 
</I>&gt;<i> 192.168.1.124:60690)
</I>&gt;<i> 2023/11/28 11:15:05.468 kid1| 33,2| client_side.cc(2742) 
</I>&gt;<i> httpsSslBumpAccessCheckDone: sslBump action peekneeded for 
</I>&gt;<i> local=192.168.1.132:443 remote=192.168.1.124:60690 FD 11 flags=17
</I>&gt;<i> 2023/11/28 11:15:05.468 kid1| 33,2| client_side.cc(3418) 
</I>&gt;<i> fakeAConnectRequest: fake a CONNECT request to force connState to tunnel 
</I>&gt;<i> for ssl-bump
</I>&gt;<i> 2023/11/28 11:15:05.468 kid1| 85,2| client_side_request.cc(751) 
</I>&gt;<i> clientAccessCheckDone: The request CONNECT 192.168.1.132:443 is ALLOWED; 
</I>&gt;<i> last ACL checked: all
</I>&gt;<i> 2023/11/28 11:15:05.468 kid1| 85,2| client_side_request.cc(729) 
</I>&gt;<i> clientAccessCheck2: No adapted_http_access configuration. default: ALLOW
</I>&gt;<i> 2023/11/28 11:15:05.468 kid1| 85,2| client_side_request.cc(751) 
</I>&gt;<i> clientAccessCheckDone: The request CONNECT 192.168.1.132:443 is ALLOWED; 
</I>&gt;<i> last ACL checked: all
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 17,2| FwdState.cc(142) FwdState: 
</I>&gt;<i> Forwarding client request local=192.168.1.132:443 
</I>&gt;<i> remote=192.168.1.124:60690 FD 11 flags=17, url=192.168.1.132:443
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 44,2| peer_select.cc(316) 
</I>&gt;<i> peerSelectDnsPaths: Found sources for '192.168.1.132:443'
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 44,2| peer_select.cc(317) 
</I>&gt;<i> peerSelectDnsPaths:&#160;&#160; always_direct = DENIED
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 44,2| peer_select.cc(318) 
</I>&gt;<i> peerSelectDnsPaths:&#160;&#160;&#160; never_direct = DENIED
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 44,2| peer_select.cc(324) 
</I>&gt;<i> peerSelectDnsPaths:&#160;&#160;&#160; ORIGINAL_DST = local=192.168.1.124 
</I>&gt;<i> remote=192.168.1.132:443 flags=25
</I>&gt;<i> 2023/11/28 11:15:05.483 kid1| 44,2| peer_select.cc(331) 
</I>&gt;<i> peerSelectDnsPaths:&#160;&#160;&#160;&#160;&#160;&#160;&#160; timedout = 0
</I>&gt;<i> 2023/11/28 11:16:05.433 kid1| 4,2| errorpage.cc(1259) BuildContent: No 
</I>&gt;<i> existing error page language negotiated for ERR_CONNECT_FAIL. Using 
</I>&gt;<i> default error file.
</I>&gt;<i> 2023/11/28 11:16:05.433 kid1| 20,2| store.cc(985) checkCachable: 
</I>&gt;<i> StoreEntry::checkCachable: NO: not cachable
</I>&gt;<i> 2023/11/28 11:16:05.433 kid1| 20,2| store.cc(985) checkCachable: 
</I>&gt;<i> StoreEntry::checkCachable: NO: not cachable
</I>&gt;<i> 2023/11/28 11:16:05.463 kid1| 83,2| client_side.cc(2675) 
</I>&gt;<i> clientNegotiateSSL: New session 0x5636c4227330 on FD 11 
</I>&gt;<i> (192.168.1.124:60690)
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 11,2| client_side.cc(1306) 
</I>&gt;<i> parseHttpRequest: HTTP Client local=192.168.1.132:443 
</I>&gt;<i> remote=192.168.1.124:60690 FD 11 flags=17
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 11,2| client_side.cc(1307) 
</I>&gt;<i> parseHttpRequest: HTTP Client REQUEST:
</I>&gt;<i> ---------
</I>&gt;<i> GET / HTTP/1.1
</I>&gt;<i> Host: test.regify.com
</I>&gt;<i> User-Agent: curl/7.74.0
</I>&gt;<i> Accept: */*
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----------
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 88,2| client_side_reply.cc(2062) 
</I>&gt;<i> processReplyAccessResult: The reply for GET <A HREF="https://test.regify.com/">https://test.regify.com/</A> is 
</I>&gt;<i> ALLOWED, because it matched (access_log daemon:/var/log/squid/access.log 
</I>&gt;<i> line)
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 11,2| Stream.cc(271) sendStartOfMessage: 
</I>&gt;<i> HTTP Client local=192.168.1.132:443 remote=192.168.1.124:60690 FD 11 
</I>&gt;<i> flags=17
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 11,2| Stream.cc(272) sendStartOfMessage: 
</I>&gt;<i> HTTP Client REPLY:
</I>&gt;<i> ---------
</I>&gt;<i> HTTP/1.1 503 Service Unavailable
</I>&gt;<i> Server: squid/4.13
</I>&gt;<i> Mime-Version: 1.0
</I>&gt;<i> Date: Tue, 28 Nov 2023 10:16:05 GMT
</I>&gt;<i> Content-Type: text/html;charset=utf-8
</I>&gt;<i> Content-Length: 3487
</I>&gt;<i> X-Squid-Error: ERR_CONNECT_FAIL 110
</I>&gt;<i> Vary: Accept-Language
</I>&gt;<i> Content-Language: en
</I>&gt;<i> X-Cache: MISS from proxy
</I>&gt;<i> X-Cache-Lookup: NONE from proxy:3128
</I>&gt;<i> Via: 1.1 proxy (squid/4.13)
</I>&gt;<i> Connection: close
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----------
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 20,2| store.cc(985) checkCachable: 
</I>&gt;<i> StoreEntry::checkCachable: NO: not cachable
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 33,2| client_side.cc(895) kick: 
</I>&gt;<i> local=192.168.1.132:443 remote=192.168.1.124:60690 flags=17 Connection 
</I>&gt;<i> was closed
</I>&gt;<i> 2023/11/28 11:16:05.464 kid1| 33,2| client_side.cc(586) swanSong: 
</I>&gt;<i> local=192.168.1.132:443 remote=192.168.1.124:60690 flags=17
</I>&gt;<i> 2023/11/28 11:16:05.465 kid1| 20,2| store.cc(985) checkCachable: 
</I>&gt;<i> StoreEntry::checkCachable: NO: not cachable
</I>&gt;<i> 
</I>&gt;<i> I've been reading the squid docs and other internet resources, but am 
</I>&gt;<i> failing to figure out why this is not working.
</I>&gt;<i> 
</I>&gt;<i> Any clue sticks would be appreciated.
</I>&gt;<i> 
</I>&gt;<i> Also appreciated would be advise on where to find this documented.
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026306.html">[squid-users] SSL Virtual Hosting Problem
</A></li>
	<LI>Next message (by thread): <A HREF="026300.html">[squid-users] Squid 6.2 with WCCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26298">[ date ]</a>
              <a href="thread.html#26298">[ thread ]</a>
              <a href="subject.html#26298">[ subject ]</a>
              <a href="author.html#26298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
