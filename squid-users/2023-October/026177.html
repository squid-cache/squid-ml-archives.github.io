<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] [ext] Squid quits while starting?!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bext%5D%20Squid%20quits%20while%20starting%3F%21&In-Reply-To=%3C231b4d52-4318-43e8-a9ca-8083afd46480%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026176.html">
   <LINK REL="Next"  HREF="026178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] [ext] Squid quits while starting?!</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20%5Bext%5D%20Squid%20quits%20while%20starting%3F%21&In-Reply-To=%3C231b4d52-4318-43e8-a9ca-8083afd46480%40treenet.co.nz%3E"
       TITLE="[squid-users] [ext] Squid quits while starting?!">squid3 at treenet.co.nz
       </A><BR>
    <I>Mon Oct  2 08:43:21 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026176.html">[squid-users] [ext] Squid quits while starting?!
</A></li>
        <LI>Next message (by thread): <A HREF="026178.html">[squid-users] [ext] Squid quits while starting?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26177">[ date ]</a>
              <a href="thread.html#26177">[ thread ]</a>
              <a href="subject.html#26177">[ subject ]</a>
              <a href="author.html#26177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/10/23 10:28, Dave Blanchard wrote:
&gt;<i> Squid's user friendliness could use a major overhaul.
</I>
Agreed. As one of the people trying to do that for the past decade ... 
any suggestions of better wording are welcome.


&gt;<i> I absolutely despise programs which are designed this way.
</I>
Ah, there we have part of the problem, Squid is not exactly designed. As 
Francesco mentioned these days it is a collection of 40+ years of Ad Hoc 
community contributions.

The group of long-term developers (we call ourselves &quot;core team&quot;) have 
tried to guide/wrangle some coherency out of that - some variable success.


&gt;<i> It just silently fails on startup with no obvious reason or explanation given,
</I>
That is false. Squid writes as much information as it can about the 
problem to log, stderr, and if possible the system message log. There is 
nothing else a process like Squid can do.

&gt;<i> even if one enables debug output to find out why.
</I>
If you are not seeing information detailing the problem in the above 
mentioned logs/outputs. Then the problem is either:

  1) something broken in the ability to write those log/output.

This is a major problem. How does one report about problems when the 
reporting method is broken? Sorry.

Using multiple outputs during startup helps reduce this but it is 
possible that all of them have been forbidden. Further troubleshooting 
can be done by running Squid with &quot;squid -k parse&quot; - the output to 
stderr should be printed to the shell for admin to view.


  2) Squid has no known information to display




&gt;<i> Instead you have to get online and search, ask questions in a mailing list, etc to find out you have to type in some obscure commands.
</I>&gt;<i> 
</I>
Hmm. That is the normal process for any software error which you do not 
already fully understand.

For those we believe to be clear enough already we try to document 
troubleshooting procedures in the Squid wiki 
&lt;<A HREF="https://wiki.squid-cache.org/">https://wiki.squid-cache.org/</A>&gt;. Suggestions for better organization 
and/or missing texts of that content are always welcome.


&gt;<i> &quot;Too few ssl_crtd processes are running&quot; 
</I>
  ... means *exactly* what it says.

Note: this is not an error message. It is part of the information Squid 
knows about the problem. It is listed to help inform you about what was 
going on when the error occured. It may be helpful to your troubleshooting.

Squid needs to use some &quot;ssl_crtd&quot; helpers. There are not enough of them 
running. ... Squid is about to start some to use. Then ...


&gt;<i> and &quot;FATAL: The ssl_crtd helpers are crashing too rapidly, need help!&quot;
</I>

... also means exactly what it says.


&quot;ssl_crtd&quot; is a binary separate from Squid. We humans know that it is 
one of the Squid Project bundled helpers, but Squid itself cannot tell.

Squid is not getting anything out of the helper. Not even a message 
saying what went wrong for it. That would have appeared as messages in 
your log between the two above lines .. .and what Matus was asking about.

Squid tries approximately 10 times to recover the helper before the 
FATAL message is produced and Squid itself exits instead of staying in 
the infinite loop of &quot;start helper...start helper...start helper...&quot;



&gt;<i> are some of the dumbest error messages ever conceived. Reminds me of every web site these days with their &quot;Oops something went wrong lol&quot; errors.
</I>
This one is more inline with the classic &quot;Keyboard not found. Press any 
key to continue&quot;.

It seems dumb, until you actually understand what it means. One must 
plug in keyboard (aks solve the problem) before the machine can be used.

Or for Squid ... only by researching and fixing the problem will you get 
any better info about the problem.



FYI: Documentation about ssl_crtd can be found at 
&lt;<A HREF="https://wiki.squid-cache.org/Features/DynamicSslCert">https://wiki.squid-cache.org/Features/DynamicSslCert</A>&gt;.
  The page need updating to detail this and other errors the helper 
produces and how to solve them. Any volunteers?


HTH
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026176.html">[squid-users] [ext] Squid quits while starting?!
</A></li>
	<LI>Next message (by thread): <A HREF="026178.html">[squid-users] [ext] Squid quits while starting?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26177">[ date ]</a>
              <a href="thread.html#26177">[ thread ]</a>
              <a href="subject.html#26177">[ subject ]</a>
              <a href="author.html#26177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
