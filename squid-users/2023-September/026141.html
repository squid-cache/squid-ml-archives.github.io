<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] No valid signing SSL certificate configured for HTTPS_port
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20No%20valid%20signing%20SSL%20certificate%20configured%20for%0A%20HTTPS_port&In-Reply-To=%3CCAPO8no%2B6a85GiO9eQK%3D9q6jdbcZoCcdHSz7zBRF2oCQYAVOWDw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026144.html">
   <LINK REL="Next"  HREF="026148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] No valid signing SSL certificate configured for HTTPS_port</H1>
    <B>Bud Miljkovic</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20No%20valid%20signing%20SSL%20certificate%20configured%20for%0A%20HTTPS_port&In-Reply-To=%3CCAPO8no%2B6a85GiO9eQK%3D9q6jdbcZoCcdHSz7zBRF2oCQYAVOWDw%40mail.gmail.com%3E"
       TITLE="[squid-users] No valid signing SSL certificate configured for HTTPS_port">bud_miljkovic at trimble.com
       </A><BR>
    <I>Thu Sep 28 04:52:07 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026144.html">[squid-users] [ext] no more cache_object://127.0.0.1/counters URL in 6.3?
</A></li>
        <LI>Next message (by thread): <A HREF="026148.html">[squid-users] No valid signing SSL certificate configured for HTTPS_port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26141">[ date ]</a>
              <a href="thread.html#26141">[ thread ]</a>
              <a href="subject.html#26141">[ subject ]</a>
              <a href="author.html#26141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Would you know anything about this Squid problem?
Given the squid-ota.conf file:
```
# An ACL named 'whitelist'
acl whitelist dstdomain '/etc/squid/whitelist.ota'

# Allow whitelisted URLs through
http_access allow whitelist

# Block the rest
http_access deny all

# Intercept tranparent HTTPS traffic
https_port 3129 intercept ssl-bump ssl_bump splice all

# Send out HTTPS trafic to destination server
tcp_outgoing_address 10.3.16.51

# Add certificate
https_port 3129 intercept ssl-bump \
   cert=/etc/squid/ssl_cert/myCA.pem \
   generate-host-certificates=on dynamic_cert_mem_cache_size=4MB

sslcrtd_program /usr/local/squid/libexec/ssl_crtd -s /var/lib/ssl_db -M 4MB

#Visible hostname
visible_hostname ctct-r2
```
When the `squid.service` is started the following output is printed:

```
Sep 28 16:17:04 ctct-r2 systemd[1]: Started Squid Proxy Server (OTA Mode).
Sep 28 16:17:04 ctct-r2 squid[1059]: No valid signing SSL certificate
configured for HTTPS_port [::]:3129
Sep 28 16:17:04 ctct-r2 squid[1059]: FATAL: No valid signing SSL
certificate configured for HTTPS_port [::]:3129
Sep 28 16:17:04 ctct-r2 squid[1059]: Squid Cache (Version 3.5.25):
Terminated abnormally.
Sep 28 16:17:04 ctct-r2 squid[1059]: CPU Usage: 0.040 seconds = 0.030 user
+ 0.010 sys
Sep 28 16:17:04 ctct-r2 squid[1059]: Maximum Resident Size: 38656 KB
```
Any lead is greatly appreciated.

Buda



-- 
Budimir Miljkovi&#263; BSc E | He
Senior Development Engineer
Civil Construction Field Systems
Trimble

11-17 Birmingham Drive, Christchurch, Canterbury, 8024
New Zealand
+64 3 963-5550 Direct
+64 21 419-024 Mobile

www.trimble.com

This email may contain confidential information that is intended only for
the listed recipient(s) of this email. Any unauthorized review, use,
disclosure or distribution is prohibited. If you believe you have received
this email in error, please immediately delete this email and any
attachments, and inform me via reply email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20230928/247a8810/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20230928/247a8810/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026144.html">[squid-users] [ext] no more cache_object://127.0.0.1/counters URL in 6.3?
</A></li>
	<LI>Next message (by thread): <A HREF="026148.html">[squid-users] No valid signing SSL certificate configured for HTTPS_port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26141">[ date ]</a>
              <a href="thread.html#26141">[ thread ]</a>
              <a href="subject.html#26141">[ subject ]</a>
              <a href="author.html#26141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
