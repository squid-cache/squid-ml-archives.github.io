<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Container Based Issues Lock Down Password and Terminate SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Container%20Based%20Issues%20Lock%20Down%20Password%20and%0A%20Terminate%20SSL&In-Reply-To=%3C58c41ee7-b88c-4d5a-bd12-220d44465067%40treenet.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026612.html">
   <LINK REL="Next"  HREF="026616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Container Based Issues Lock Down Password and Terminate SSL</H1>
    <B>Amos Jeffries</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Container%20Based%20Issues%20Lock%20Down%20Password%20and%0A%20Terminate%20SSL&In-Reply-To=%3C58c41ee7-b88c-4d5a-bd12-220d44465067%40treenet.co.nz%3E"
       TITLE="[squid-users] Container Based Issues Lock Down Password and Terminate SSL">squid3 at treenet.co.nz
       </A><BR>
    <I>Tue Apr 23 08:03:42 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026612.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
        <LI>Next message (by thread): <A HREF="026616.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26614">[ date ]</a>
              <a href="thread.html#26614">[ thread ]</a>
              <a href="subject.html#26614">[ subject ]</a>
              <a href="author.html#26614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/04/24 11:52, Jonathan Lee wrote:
&gt;<i> Hello fellow Squid Accelerator/Dynamic Cache/Web Cache Users/PfSense users
</I>&gt;<i> 
</I>&gt;<i> I think this might resolve any container based issues/fears if they 
</I>&gt;<i> happened to get into the cache. Ie a Docker Proxy got installed and 
</I>&gt;<i> tried to data marshal the network card inside of a freeBSD jail or 
</I>&gt;<i> something like that. Biggest fear with my cache it is a big cache now
</I>&gt;<i> 
</I>&gt;<i> Please yet me know what you think or if it is wrong.
</I>&gt;<i> 
</I>&gt;<i> Here is my configuration. I wanted to share it as it might help to 
</I>&gt;<i> secure some of this.
</I>
FTR, this config was auto-generated by pfsense. A number of things which 
that tool forces into the config could be done much better in the latest 
Squid, but the tool does not do due to needing to support older Squid 
version.


&gt;<i> 
</I>&gt;<i> Keep in mine I use cachemgr.cgi within Squidlight so I had to set the 
</I>&gt;<i> password and I have to also adapt the php status file to include the 
</I>&gt;<i> password and also the sqlight php file.
</I>&gt;<i> 
</I>&gt;<i> After that the status and gui pages work still with the new password. 
</I>&gt;<i> Only issues area that it shows up in clear text when it goes over the 
</I>&gt;<i> proxy I can see my password clear as day again that was an issue listed 
</I>&gt;<i> inside the Squid O&#8217;REILLY book also.
</I>

Please ensure you are using the latest Squid v6 release. That release 
has both a number of security fixes, and working <A HREF="https://">https://</A> URL access to 
the manager reports.

The cachemgr.cgi tool is deprecated fro a number of issues including 
that style of embedding passwords in the URLs.

Francesco and I have created a tool that can be found at 
&lt;<A HREF="https://github.com/yadij/cachemgr.js/blob/master/README.md">https://github.com/yadij/cachemgr.js/blob/master/README.md</A>&gt; for basic 
access to the reports directly from Browser.
That tool uses HTTP authentication configured via the well-documented 
proxy_auth ACLs and http_access for more secure access than the old URL 
based mechanism (which still exists, just deprecated).



Cheers
Amos

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026612.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
	<LI>Next message (by thread): <A HREF="026616.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26614">[ date ]</a>
              <a href="thread.html#26614">[ thread ]</a>
              <a href="subject.html#26614">[ subject ]</a>
              <a href="author.html#26614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
