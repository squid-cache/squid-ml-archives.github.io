<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Container Based Issues Lock Down Password and Terminate SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Container%20Based%20Issues%20Lock%20Down%20Password%20and%0A%20Terminate%20SSL&In-Reply-To=%3CEDB6E1EB-C9AD-4ACB-9ACD-8CFB8D5F8E41%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026614.html">
   <LINK REL="Next"  HREF="026628.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Container Based Issues Lock Down Password and Terminate SSL</H1>
    <B>Jonathan Lee</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Container%20Based%20Issues%20Lock%20Down%20Password%20and%0A%20Terminate%20SSL&In-Reply-To=%3CEDB6E1EB-C9AD-4ACB-9ACD-8CFB8D5F8E41%40gmail.com%3E"
       TITLE="[squid-users] Container Based Issues Lock Down Password and Terminate SSL">jonathanlee571 at gmail.com
       </A><BR>
    <I>Wed Apr 24 05:27:20 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026614.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
        <LI>Next message (by thread): <A HREF="026628.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26616">[ date ]</a>
              <a href="thread.html#26616">[ thread ]</a>
              <a href="subject.html#26616">[ subject ]</a>
              <a href="author.html#26616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello fellow Squid users I wanted to ask a quick question for use with termination would http access for cache still work with this type of setup and custom refresh patterns?

I think it would terminate all but the clients and if they use the cache it would be ok.

But I think an invasive container would be blocked my goal here. 

acl markBumped annotate_client bumped=true
acl active_use annotate_client active=true
acl bump_only src 192.168.1.3 #webtv
acl bump_only src 192.168.1.4 #toshiba
acl bump_only src 192.168.1.5 #imac
acl bump_only src 192.168.1.9 #macbook
acl bump_only src 192.168.1.13 #dell

acl bump_only_mac arp macaddresshere
acl bump_only_mac arp macaddresshere
acl bump_only_mac arp macaddresshere
acl bump_only_mac arp macaddresshere
acl bump_only_mac arp macaddresshere

ssl_bump peek step1
miss_access deny no_miss active_use
ssl_bump splice https_login active_use
ssl_bump splice splice_only_mac splice_only active_use
ssl_bump splice NoBumpDNS active_use
ssl_bump splice NoSSLIntercept active_use
ssl_bump bump bump_only_mac bump_only active_use
acl activated note active_use true
ssl_bump terminate !activated



Sent from my iPhone

&gt;<i> On Apr 23, 2024, at 01:03, Amos Jeffries &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid3 at treenet.co.nz</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &#65279;On 23/04/24 11:52, Jonathan Lee wrote:
</I>&gt;&gt;<i> Hello fellow Squid Accelerator/Dynamic Cache/Web Cache Users/PfSense users
</I>&gt;&gt;<i> I think this might resolve any container based issues/fears if they happened to get into the cache. Ie a Docker Proxy got installed and tried to data marshal the network card inside of a freeBSD jail or something like that. Biggest fear with my cache it is a big cache now
</I>&gt;&gt;<i> Please yet me know what you think or if it is wrong.
</I>&gt;&gt;<i> Here is my configuration. I wanted to share it as it might help to secure some of this.
</I>&gt;<i> 
</I>&gt;<i> FTR, this config was auto-generated by pfsense. A number of things which that tool forces into the config could be done much better in the latest Squid, but the tool does not do due to needing to support older Squid version.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Keep in mine I use cachemgr.cgi within Squidlight so I had to set the password and I have to also adapt the php status file to include the password and also the sqlight php file.
</I>&gt;&gt;<i> After that the status and gui pages work still with the new password. Only issues area that it shows up in clear text when it goes over the proxy I can see my password clear as day again that was an issue listed inside the Squid O&#8217;REILLY book also.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Please ensure you are using the latest Squid v6 release. That release has both a number of security fixes, and working <A HREF="https://">https://</A> URL access to the manager reports.
</I>&gt;<i> 
</I>&gt;<i> The cachemgr.cgi tool is deprecated fro a number of issues including that style of embedding passwords in the URLs.
</I>&gt;<i> 
</I>&gt;<i> Francesco and I have created a tool that can be found at &lt;<A HREF="https://github.com/yadij/cachemgr.js/blob/master/README.md">https://github.com/yadij/cachemgr.js/blob/master/README.md</A>&gt; for basic access to the reports directly from Browser.
</I>&gt;<i> That tool uses HTTP authentication configured via the well-documented proxy_auth ACLs and http_access for more secure access than the old URL based mechanism (which still exists, just deprecated).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> Amos
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">https://lists.squid-cache.org/listinfo/squid-users</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026614.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
	<LI>Next message (by thread): <A HREF="026628.html">[squid-users] Container Based Issues Lock Down Password and Terminate SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26616">[ date ]</a>
              <a href="thread.html#26616">[ thread ]</a>
              <a href="subject.html#26616">[ subject ]</a>
              <a href="author.html#26616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
