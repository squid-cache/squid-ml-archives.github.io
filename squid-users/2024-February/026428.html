<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] New Squid prefers IPv4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20New%20Squid%20prefers%20IPv4&In-Reply-To=%3C202402061624.34300.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026427.html">
   <LINK REL="Next"  HREF="026430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] New Squid prefers IPv4</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20New%20Squid%20prefers%20IPv4&In-Reply-To=%3C202402061624.34300.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] New Squid prefers IPv4">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Tue Feb  6 15:24:34 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026427.html">[squid-users] New Squid prefers IPv4
</A></li>
        <LI>Next message (by thread): <A HREF="026430.html">[squid-users] New Squid prefers IPv4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26428">[ date ]</a>
              <a href="thread.html#26428">[ thread ]</a>
              <a href="subject.html#26428">[ subject ]</a>
              <a href="author.html#26428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 06 February 2024 at 16:16:24, Rob van der Putten wrote:

&gt;<i> Hi there
</I>&gt;<i> 
</I>&gt;<i> On 05/02/2024 18:32, Antony Stone wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I believe ping (ICMP) timings are irrelevant.  The client (squid in this
</I>&gt;<i> &gt; case) does a DNS lookup for the hostname's A and AAAA records,
</I>&gt;<i> 
</I>&gt;<i> A before AAAA. Bind responds within the same millisecond.
</I>
I think the simultaneity of these lookups is unimportant.

&gt;<i> &gt; then makes two simultaneous HTTP connections to the server (one IPv4, on
</I>&gt;<i> &gt; IPv6) and whichever one responds first *by HTTP* is then regarded as being
</I>&gt;<i> &gt; the best way to route traffic thereafter.
</I>&gt;<i> 
</I>&gt;<i> I do not see Squid opening two connections simultaneously and then
</I>&gt;<i> closing one. It's just one connection.
</I>
Are you sure this is not because Squid has already made earlier connections to 
this name, decided that IPv4 is better, and continues to use that when you are 
now testing it?

I would expect you to have to start from an &quot;undecided&quot; Squid setup (I have no 
idea where it keeps this informatin for later use, though) to find out whether 
this is what's going on.


Antony.

-- 
1960s: Let's build a network which can withstand a nuclear war!
1970s: Hm, that looks good, we'll run it on TCP/IP.
1980s: Nice, how about letting everyone join?
1990s: Hey, you can make money out of this!
2000s: Oh, you can lose it, too.
2010s: Alright, let's just plug absolutely everything into it.
2020s: Meh, my lightswitch is now connected to my lamp via China.

                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026427.html">[squid-users] New Squid prefers IPv4
</A></li>
	<LI>Next message (by thread): <A HREF="026430.html">[squid-users] New Squid prefers IPv4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26428">[ date ]</a>
              <a href="thread.html#26428">[ thread ]</a>
              <a href="subject.html#26428">[ subject ]</a>
              <a href="author.html#26428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
