<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] ICAP response to avoid backend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ICAP%20response%20to%20avoid%20backend&In-Reply-To=%3CZdomvr0FjGOBbMmg%40s5h.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026467.html">
   <LINK REL="Next"  HREF="026473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] ICAP response to avoid backend</H1>
    <B>Ed</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20ICAP%20response%20to%20avoid%20backend&In-Reply-To=%3CZdomvr0FjGOBbMmg%40s5h.net%3E"
       TITLE="[squid-users] ICAP response to avoid backend">ed-squid-cache at s5h.net
       </A><BR>
    <I>Sat Feb 24 17:26:22 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026467.html">[squid-users] Google recaptcha use
</A></li>
        <LI>Next message (by thread): <A HREF="026473.html">[squid-users] ICAP response to avoid backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26472">[ date ]</a>
              <a href="thread.html#26472">[ thread ]</a>
              <a href="subject.html#26472">[ subject ]</a>
              <a href="author.html#26472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Does anyone know a way to tell squid in accelerator mode to not go to 
the backend peers?

There's a couple of requests I'd like to avoid handing off to the 
backend, but, if the data is already a HIT, then I'd like squid to send 
that, just sometimes I don't want it to send the request to the backend.

My thinking is to set a header in the reqmod stage, or set the response 
status there in a way that tells squid to not continue to the backend, 
or to disable for this request only, if the cache already has the 
request stored, then send that response instead, or return a 500-style 
response.

In varnish land this is doable in the vcl_miss hook, but I don't know 
how to do that in squid.

Hope someone else may have walked a similar path previously.

Thanks in advance for your time,
Ed


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026467.html">[squid-users] Google recaptcha use
</A></li>
	<LI>Next message (by thread): <A HREF="026473.html">[squid-users] ICAP response to avoid backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26472">[ date ]</a>
              <a href="thread.html#26472">[ thread ]</a>
              <a href="subject.html#26472">[ subject ]</a>
              <a href="author.html#26472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
