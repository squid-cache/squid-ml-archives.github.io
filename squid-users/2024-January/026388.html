<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid - Your cache is running out of filedescriptors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20-%20Your%20cache%20is%20running%20out%20of%20filedescriptors&In-Reply-To=%3C80e9c751-3279-4296-850d-e56dcbedaddc%40articatech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026394.html">
   <LINK REL="Next"  HREF="026390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid - Your cache is running out of filedescriptors</H1>
    <B>Andre Bolinhas</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20-%20Your%20cache%20is%20running%20out%20of%20filedescriptors&In-Reply-To=%3C80e9c751-3279-4296-850d-e56dcbedaddc%40articatech.com%3E"
       TITLE="[squid-users] Squid - Your cache is running out of filedescriptors">andre.bolinhas at articatech.com
       </A><BR>
    <I>Mon Jan 29 12:05:41 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026394.html">[squid-users] CONNECT Response Headers
</A></li>
        <LI>Next message (by thread): <A HREF="026390.html">[squid-users] Squid - Your cache is running out of filedescriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26388">[ date ]</a>
              <a href="thread.html#26388">[ thread ]</a>
              <a href="subject.html#26388">[ subject ]</a>
              <a href="author.html#26388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I'm running Squid 5.9, and sometimes I have an issue that cause a proxy 
malfunction.
I have set the max_filedescriptors to 159514 and it's works fine for a 
few hours or day, but then suddenly, Squid run out of filedescriptors.
2024/01/29 10:33:47 kid3| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:33:53 kid2| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:33:55 kid5| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:33:57 kid1| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:33:58 kid4| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:03 kid3| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:09 kid2| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:11 kid5| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:13 kid1| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:14 kid4| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:19 kid3| WARNING! Your cache is running out of 
filedescriptors
2024/01/29 10:34:25 kid2| WARNING! Your cache is running out of 
filedescriptors
 &#160;&#160;&#160; listening port: MyPortNameID1

Checking mgr:info inside squidclient I can see that squid only set 4096 
filedescriptors per kid instead 15951.

Can you help me to understand why Squid losses filedescriptors and don't 
start with the correct filedescriptors values set in configuration file?

Best regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.squid-cache.org/pipermail/squid-users/attachments/20240129/d4669e39/attachment.htm">http://lists.squid-cache.org/pipermail/squid-users/attachments/20240129/d4669e39/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026394.html">[squid-users] CONNECT Response Headers
</A></li>
	<LI>Next message (by thread): <A HREF="026390.html">[squid-users] Squid - Your cache is running out of filedescriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26388">[ date ]</a>
              <a href="thread.html#26388">[ thread ]</a>
              <a href="subject.html#26388">[ subject ]</a>
              <a href="author.html#26388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
