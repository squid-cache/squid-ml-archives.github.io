<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid - Queue overflow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20-%20Queue%20overflow&In-Reply-To=%3C3275f0aa-69ce-400f-919d-917a2f10a5c9%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026389.html">
   <LINK REL="Next"  HREF="026391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid - Queue overflow</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%20-%20Queue%20overflow&In-Reply-To=%3C3275f0aa-69ce-400f-919d-917a2f10a5c9%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid - Queue overflow">rousskov at measurement-factory.com
       </A><BR>
    <I>Wed Jan 31 18:15:27 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026389.html">[squid-users] Squid - Queue overflow
</A></li>
        <LI>Next message (by thread): <A HREF="026391.html">[squid-users] Security advisories are not accessible
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26404">[ date ]</a>
              <a href="thread.html#26404">[ thread ]</a>
              <a href="subject.html#26404">[ subject ]</a>
              <a href="author.html#26404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2024-01-29 07:09, Andre Bolinhas wrote:

&gt;<i> I'm getting this error in cache.log
</I>&gt;<i> 
</I>&gt;<i> 2024/01/29 14:33:03 kid5| ERROR: Collapsed forwarding queue overflow for 
</I>&gt;<i> kid1 at 1024 items
</I>&gt;<i>  &#160;&#160;&#160; current master transaction: master2163155
</I>
&gt;<i> This leads Squid stops filtering or check any of the ACL rules, allowing 
</I>&gt;<i> users to navigate to all websites without any kind of filtering or control.
</I>
FWIW, I am surprised by such a side effect. Are you sure that it is this 
particular ERROR that leads to access controls bypass? Are there any 
other alarming messages in cache.log?


&gt;<i> Can you help to understand and correct this issue please.
</I>
My recommendation is to upgrade to Squid v6 and address &quot;Your cache is 
running out of filedescriptors&quot; WARNINGs that you have reported in 
another squid-users thread. Once your Squid descriptor resources match 
the traffic Squid receives, this ERROR may disappear. If the ERROR is 
still there after those two changes, it may be easier to triage it in a 
cleaner environment.


HTH,

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026389.html">[squid-users] Squid - Queue overflow
</A></li>
	<LI>Next message (by thread): <A HREF="026391.html">[squid-users] Security advisories are not accessible
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26404">[ date ]</a>
              <a href="thread.html#26404">[ thread ]</a>
              <a href="subject.html#26404">[ subject ]</a>
              <a href="author.html#26404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
