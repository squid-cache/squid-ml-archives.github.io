<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 6.6 kick abandoning connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206.6%20kick%20abandoning%20connections&In-Reply-To=%3C4f5375c8-75d6-413f-90fe-7f3fd94647d3%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026830.html">
   <LINK REL="Next"  HREF="026839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 6.6 kick abandoning connections</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206.6%20kick%20abandoning%20connections&In-Reply-To=%3C4f5375c8-75d6-413f-90fe-7f3fd94647d3%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 6.6 kick abandoning connections">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jul  8 16:15:38 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026830.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
        <LI>Next message (by thread): <A HREF="026839.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26838">[ date ]</a>
              <a href="thread.html#26838">[ thread ]</a>
              <a href="subject.html#26838">[ subject ]</a>
              <a href="author.html#26838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2024-07-05 21:07, Jonathan Lee wrote:

&gt;<i> I am using Bump with certificates installed on devices does anyone know 
</I>&gt;<i> what this error is...
</I>&gt;<i> 
</I>&gt;<i> kick abandoning conn43723 local=192.168.1.1:3128 
</I>&gt;<i> remote=192.168.1.5:52129 FD 178 flags=1
</I>

This &quot;kick abandoning&quot; message marks a Squid problem or bug: Squid 
enters a seemingly impossible state. In some (but probably not all) 
cases, the client connection might become stuck (hopefully until some 
timeout closes it). In some (and possibly all) cases, Squid might 
immediately close the connection and nobody gets hurt. Code reporting 
this problem does not know how we got here and what will happen next.

There were several incomplete/unfinished attempts to fix this problem, 
including two different patches posted at Bug 3715. I do not know 
whether either of them is safe and applies to Squid v6. Neither is a 
comprehensive solution.
<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=3715">https://bugs.squid-cache.org/show_bug.cgi?id=3715</A>


&gt;<i> Does anyone know how to fix my last weird error I have with Squid 6.6
</I>
I do not know of a good configuration-based workaround. Squid code 
modifications are required to properly address this problem. Other 
errors may trigger this bug, so addressing those other errors may hide 
(and reduce the pressure to fix) this bug. Besides fixing those other 
errors (if any -- I am aware that you have said that there are no other 
errors left, but perhaps you found other problems since then), these 
basic options apply:

<A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something">https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something</A>

Alex.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026830.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
	<LI>Next message (by thread): <A HREF="026839.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26838">[ date ]</a>
              <a href="thread.html#26838">[ thread ]</a>
              <a href="subject.html#26838">[ subject ]</a>
              <a href="author.html#26838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
