<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 6.6 kick abandoning connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206.6%20kick%20abandoning%20connections&In-Reply-To=%3C0bb9752d-8d30-433d-86cb-017961302abd%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026839.html">
   <LINK REL="Next"  HREF="026848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 6.6 kick abandoning connections</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206.6%20kick%20abandoning%20connections&In-Reply-To=%3C0bb9752d-8d30-433d-86cb-017961302abd%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 6.6 kick abandoning connections">rousskov at measurement-factory.com
       </A><BR>
    <I>Mon Jul  8 17:40:53 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026839.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
        <LI>Next message (by thread): <A HREF="026848.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26840">[ date ]</a>
              <a href="thread.html#26840">[ thread ]</a>
              <a href="subject.html#26840">[ subject ]</a>
              <a href="author.html#26840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2024-07-08 12:31, Jonathan Lee wrote:

&gt;<i> I can confirm I have no ipv6 our isp is ipv4 only and I have IPv6
</I>&gt;<i> disabled on the firewall and with layer 2 and 3 traffic
</I>
This problem is not specific to any IP family/version.

Alex.


&gt;&gt;<i> On Jul 8, 2024, at 09:15, Alex Rousskov &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">rousskov at measurement-factory.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#65279;On 2024-07-05 21:07, Jonathan Lee wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am using Bump with certificates installed on devices does anyone know what this error is...
</I>&gt;&gt;&gt;<i> kick abandoning conn43723 local=192.168.1.1:3128 remote=192.168.1.5:52129 FD 178 flags=1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This &quot;kick abandoning&quot; message marks a Squid problem or bug: Squid enters a seemingly impossible state. In some (but probably not all) cases, the client connection might become stuck (hopefully until some timeout closes it). In some (and possibly all) cases, Squid might immediately close the connection and nobody gets hurt. Code reporting this problem does not know how we got here and what will happen next.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There were several incomplete/unfinished attempts to fix this problem, including two different patches posted at Bug 3715. I do not know whether either of them is safe and applies to Squid v6. Neither is a comprehensive solution.
</I>&gt;&gt;<i> <A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=3715">https://bugs.squid-cache.org/show_bug.cgi?id=3715</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Does anyone know how to fix my last weird error I have with Squid 6.6
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I do not know of a good configuration-based workaround. Squid code modifications are required to properly address this problem. Other errors may trigger this bug, so addressing those other errors may hide (and reduce the pressure to fix) this bug. Besides fixing those other errors (if any -- I am aware that you have said that there are no other errors left, but perhaps you found other problems since then), these basic options apply:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something">https://wiki.squid-cache.org/SquidFaq/AboutSquid#how-to-add-a-new-squid-feature-enhance-of-fix-something</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026839.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
	<LI>Next message (by thread): <A HREF="026848.html">[squid-users] Squid 6.6 kick abandoning connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26840">[ date ]</a>
              <a href="thread.html#26840">[ thread ]</a>
              <a href="subject.html#26840">[ subject ]</a>
              <a href="author.html#26840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
