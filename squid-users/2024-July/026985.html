<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] SQUID - WINDBIND - very slow internet speed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20-%20WINDBIND%20-%20very%20slow%20internet%20speed&In-Reply-To=%3Caf458748-9072-428a-bbf4-9154cd8efacb%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026984.html">
   <LINK REL="Next"  HREF="026986.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] SQUID - WINDBIND - very slow internet speed</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20SQUID%20-%20WINDBIND%20-%20very%20slow%20internet%20speed&In-Reply-To=%3Caf458748-9072-428a-bbf4-9154cd8efacb%40measurement-factory.com%3E"
       TITLE="[squid-users] SQUID - WINDBIND - very slow internet speed">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu Jul 25 13:28:11 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026984.html">[squid-users] SQUID - WINDBIND - very slow internet speed
</A></li>
        <LI>Next message (by thread): <A HREF="026986.html">[squid-users] SQUID - WINDBIND - very slow internet speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26985">[ date ]</a>
              <a href="thread.html#26985">[ thread ]</a>
              <a href="subject.html#26985">[ subject ]</a>
              <a href="author.html#26985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2024-07-23 19:20, Andre Bolinhas wrote:
&gt;<i> winbindd: Exceeding 500 client connections, no idle connection found
</I>
&gt;<i> auth_param ntlm children 500 ...
</I>
I know virtually nothing about WINDBIND and the authentication helper 
you are using, but configuring Squid to have 500 helper processes is 
usually a mistake, even with a single Squid worker. YMMV, but I would 
try to use a lot fewer helpers (e.g., 10) and increase that number only 
if such an increase actually improves things.

If possible, use a helper that supports concurrent requests.

If your Squid is not competing for resources with other applications on 
the server, then I also recommend keeping a _constant_ number of helper 
processes (instead of asking Squid to start many new helper processes at 
the worse possible time -- when the load on Squid increases). To do 
that, make startup and idle parameters the same as the maximum number of 
children.


HTH,

Alex.
P.S. The credit for highlighting the correlation between winbindd errors 
and &quot;auth_param ntlm children 500&quot; goes to Andrey K.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026984.html">[squid-users] SQUID - WINDBIND - very slow internet speed
</A></li>
	<LI>Next message (by thread): <A HREF="026986.html">[squid-users] SQUID - WINDBIND - very slow internet speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26985">[ date ]</a>
              <a href="thread.html#26985">[ thread ]</a>
              <a href="subject.html#26985">[ subject ]</a>
              <a href="author.html#26985">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
