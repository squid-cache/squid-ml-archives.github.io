<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Manipulating request headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Manipulating%20request%20headers&In-Reply-To=%3C000801da7526%244da70750%24e8f515f0%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026512.html">
   <LINK REL="Next"  HREF="026513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Manipulating request headers</H1>
    <B>ngtech1ltd at gmail.com</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Manipulating%20request%20headers&In-Reply-To=%3C000801da7526%244da70750%24e8f515f0%24%40gmail.com%3E"
       TITLE="[squid-users] Manipulating request headers">ngtech1ltd at gmail.com
       </A><BR>
    <I>Wed Mar 13 09:10:32 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026512.html">[squid-users] Manipulating request headers
</A></li>
        <LI>Next message (by thread): <A HREF="026513.html">[squid-users] After upgrade from squid6.6 to 6.8 we have a lot of ICAP_ERR_OTHER and ICAP_ERR_GONE messages in icap logfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26518">[ date ]</a>
              <a href="thread.html#26518">[ thread ]</a>
              <a href="subject.html#26518">[ subject ]</a>
              <a href="author.html#26518">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Ben,

There is another option which is to use an ICAP server to modify the headers and strip the br part if exists.
It depends on the load on the server but you can edit only the headers and to not use any preview which will remove some un-needed overhead.

Take a peek at the example:
<A HREF="https://github.com/elico/bgu-icap-example">https://github.com/elico/bgu-icap-example</A>


Eliezer

From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Ben Goz
Sent: Monday, March 11, 2024 5:00 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: [squid-users] Manipulating request headers

By the help of God.

Hi all,
I'm using squid with ssl-bump I want to remove br encoding for request header Accept-Encoding
currently I'm doing it using the following configuration:
request_header_access Accept-Encoding deny all
request_header_add Accept-Encoding gzip,deflate

Is there a more gentle way of doing it?

Thanks,
Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026512.html">[squid-users] Manipulating request headers
</A></li>
	<LI>Next message (by thread): <A HREF="026513.html">[squid-users] After upgrade from squid6.6 to 6.8 we have a lot of ICAP_ERR_OTHER and ICAP_ERR_GONE messages in icap logfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26518">[ date ]</a>
              <a href="thread.html#26518">[ thread ]</a>
              <a href="subject.html#26518">[ subject ]</a>
              <a href="author.html#26518">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
