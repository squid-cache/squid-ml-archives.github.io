<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Adding an extra header to TLS connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Adding%20an%20extra%20header%20to%20TLS%20connection&In-Reply-To=%3Cfac1780c-4cfe-43e1-862a-8e8beb6e13c0%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026688.html">
   <LINK REL="Next"  HREF="026691.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Adding an extra header to TLS connection</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Adding%20an%20extra%20header%20to%20TLS%20connection&In-Reply-To=%3Cfac1780c-4cfe-43e1-862a-8e8beb6e13c0%40measurement-factory.com%3E"
       TITLE="[squid-users] Adding an extra header to TLS connection">rousskov at measurement-factory.com
       </A><BR>
    <I>Thu May 23 15:49:10 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026688.html">[squid-users] Adding an extra header to TLS connection
</A></li>
        <LI>Next message (by thread): <A HREF="026691.html">[squid-users] Adding an extra header to TLS connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26690">[ date ]</a>
              <a href="thread.html#26690">[ thread ]</a>
              <a href="subject.html#26690">[ subject ]</a>
              <a href="author.html#26690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2024-05-22 03:49, Robin Wood wrote:

&gt;<i> I'm trying to work out how to add an extra header to a TLS connection.
</I>
I assume that you want to add a header field to an HTTP request or 
response that is being transmitted inside a TLS connection between a TLS 
client (e.g., a user browser) and an HTTPS origin server.

Do you control the client that originates that TLS connection (or its 
OS/environment) or the origin server? If you do not, then what you want 
is impossible -- TLS encryption exists, in part, to prevent such traffic 
modifications.

If you control the client that originates that TLS connection (or its 
OS/environment), then you may be able to, in _some_ cases, add that 
header by configuring the client (or its OS/environment) to trust you as 
a Certificate Authority, minting your own X509 certificates, and 
configuring Squid to perform a &quot;man in the middle&quot; attack on 
client-server traffic, using your minted certificates. You can search 
for Squid SslBump to get more information about this feature, but the 
area is full of insurmountable difficulties and misleading advice. Avoid 
it if at all possible!


HTH,

Alex.


&gt;<i> I've found information on how to do it on what I think is the pre-3.5 
</I>&gt;<i> release, but I can't find any useful information on doing it on the 
</I>&gt;<i> current version.
</I>&gt;<i> 
</I>&gt;<i> Could someone give me an example or point me at some documentation on 
</I>&gt;<i> how to do it.
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> Robin
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">https://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026688.html">[squid-users] Adding an extra header to TLS connection
</A></li>
	<LI>Next message (by thread): <A HREF="026691.html">[squid-users] Adding an extra header to TLS connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26690">[ date ]</a>
              <a href="thread.html#26690">[ thread ]</a>
              <a href="subject.html#26690">[ subject ]</a>
              <a href="author.html#26690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
