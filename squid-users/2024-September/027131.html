<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Unable to access internal resources via hostname
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20access%20internal%20resources%20via%20hostname&In-Reply-To=%3C202409162022.58535.Antony.Stone%40squid.open.source.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027130.html">
   <LINK REL="Next"  HREF="027132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Unable to access internal resources via hostname</H1>
    <B>Antony Stone</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20access%20internal%20resources%20via%20hostname&In-Reply-To=%3C202409162022.58535.Antony.Stone%40squid.open.source.it%3E"
       TITLE="[squid-users] Unable to access internal resources via hostname">Antony.Stone at squid.open.source.it
       </A><BR>
    <I>Mon Sep 16 18:22:58 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027130.html">[squid-users] Unable to access internal resources via hostname
</A></li>
        <LI>Next message (by thread): <A HREF="027132.html">[squid-users] Unable to access internal resources via hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27131">[ date ]</a>
              <a href="thread.html#27131">[ thread ]</a>
              <a href="subject.html#27131">[ subject ]</a>
              <a href="author.html#27131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 16 September 2024 at 20:06:41, Piana, Josh wrote:

&gt;<i> How I understand the rules are as follows:
</I>&gt;<i> &gt; http_access deny !localnet
</I>&gt;<i> 
</I>&gt;<i> This denies HTTP traffic to what I defined as &quot;localnet&quot;.
</I>
No; firstly the &quot;localnet&quot; ACL is defined by *source* address, therefore 
&quot;localnet&quot; matches traffic *from* your local network.

Secondly the ! negates this, therefore &quot;!localnet&quot; matches any source address 
which is *not* in your local network.

Therefore &quot;http_access deny !localnet&quot; denies any access from an address not 
in your local network.

&gt;<i> &gt; http_access allow localnet
</I>
This then allows access from any address which *is* in your local network.

Now, having matched all traffic not from your local network, and all traffic which 
is from your local network, you have accounted for all possible traffic, 
therefore any other rules have no effect.


Hope this helps,


Antony.

-- 
Because it messes up the order in which people normally read text.
&gt;<i> Why is top-posting such a bad thing?
</I>&gt;<i> &gt; Top-posting.
</I>&gt;<i> &gt; &gt; What is the most annoying way of replying to e-mail?
</I>
                                                   Please reply to the list;
                                                         please *don't* CC me.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027130.html">[squid-users] Unable to access internal resources via hostname
</A></li>
	<LI>Next message (by thread): <A HREF="027132.html">[squid-users] Unable to access internal resources via hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27131">[ date ]</a>
              <a href="thread.html#27131">[ thread ]</a>
              <a href="subject.html#27131">[ subject ]</a>
              <a href="author.html#27131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
