<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Unable to access internal resources via hostname
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20access%20internal%20resources%20via%20hostname&In-Reply-To=%3Cd54333533f9d4db79c270a9745534b28%40hexcel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027131.html">
   <LINK REL="Next"  HREF="027136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Unable to access internal resources via hostname</H1>
    <B>Piana, Josh</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Unable%20to%20access%20internal%20resources%20via%20hostname&In-Reply-To=%3Cd54333533f9d4db79c270a9745534b28%40hexcel.com%3E"
       TITLE="[squid-users] Unable to access internal resources via hostname">Josh.Piana at hexcel.com
       </A><BR>
    <I>Mon Sep 16 18:57:35 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027131.html">[squid-users] Unable to access internal resources via hostname
</A></li>
        <LI>Next message (by thread): <A HREF="027136.html">[squid-users] Unable to access internal resources via hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27132">[ date ]</a>
              <a href="thread.html#27132">[ thread ]</a>
              <a href="subject.html#27132">[ subject ]</a>
              <a href="author.html#27132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Antony, 

So those two rules were definitely not the way to go, thank you to those who clarified that to me. 

I'll remove them. 

This is really frustrating. I've been trying to get a working Squid configuration for weeks now and it is literally a 5 minute process for most people. 

I'll keep looking and see what else could be blocking traffic. 

-----Original Message-----
From: squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; On Behalf Of Antony Stone
Sent: Monday, September 16, 2024 2:23 PM
To: <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
Subject: Re: [squid-users] Unable to access internal resources via hostname

[You don't often get email from <A HREF="https://lists.squid-cache.org/listinfo/squid-users">antony.stone at squid.open.source.it.</A> Learn why this is important at <A HREF="https://aka.ms/LearnAboutSenderIdentification">https://aka.ms/LearnAboutSenderIdentification</A> ]

Caution: This email originated from outside of Hexcel. Do not click links or open attachments unless you recognize the sender and know the content is safe.


On Monday 16 September 2024 at 20:06:41, Piana, Josh wrote:

&gt;<i> How I understand the rules are as follows:
</I>&gt;<i> &gt; http_access deny !localnet
</I>&gt;<i>
</I>&gt;<i> This denies HTTP traffic to what I defined as &quot;localnet&quot;.
</I>
No; firstly the &quot;localnet&quot; ACL is defined by *source* address, therefore &quot;localnet&quot; matches traffic *from* your local network.

Secondly the ! negates this, therefore &quot;!localnet&quot; matches any source address which is *not* in your local network.

Therefore &quot;http_access deny !localnet&quot; denies any access from an address not in your local network.

&gt;<i> &gt; http_access allow localnet
</I>
This then allows access from any address which *is* in your local network.

Now, having matched all traffic not from your local network, and all traffic which is from your local network, you have accounted for all possible traffic, therefore any other rules have no effect.


Hope this helps,


Antony.

--
Because it messes up the order in which people normally read text.
&gt;<i> Why is top-posting such a bad thing?
</I>&gt;<i> &gt; Top-posting.
</I>&gt;<i> &gt; &gt; What is the most annoying way of replying to e-mail?
</I>
                                                   Please reply to the list;
                                                         please *don't* CC me.
_______________________________________________
squid-users mailing list
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
<A HREF="https://lists.squid-cache.org/listinfo/squid-users">https://lists.squid-cache.org/listinfo/squid-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027131.html">[squid-users] Unable to access internal resources via hostname
</A></li>
	<LI>Next message (by thread): <A HREF="027136.html">[squid-users] Unable to access internal resources via hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27132">[ date ]</a>
              <a href="thread.html#27132">[ thread ]</a>
              <a href="subject.html#27132">[ subject ]</a>
              <a href="author.html#27132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
