<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] squid 7.1 , url_rewrite_program does not work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%207.1%20%2C%20url_rewrite_program%20does%20not%20work&In-Reply-To=%3Ccacadb97-e31d-496c-a602-311ae7c5716c%40belkam.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027638.html">
   <LINK REL="Next"  HREF="027640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] squid 7.1 , url_rewrite_program does not work</H1>
    <B>Dmitry Melekhov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20squid%207.1%20%2C%20url_rewrite_program%20does%20not%20work&In-Reply-To=%3Ccacadb97-e31d-496c-a602-311ae7c5716c%40belkam.com%3E"
       TITLE="[squid-users] squid 7.1 , url_rewrite_program does not work">dm at belkam.com
       </A><BR>
    <I>Wed Aug 27 07:02:11 UTC 2025</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027638.html">[squid-users] Kerberos Auth weirdness/inconsistency when using CNAMEs/Round-robin DNS
</A></li>
        <LI>Next message (by thread): <A HREF="027640.html">[squid-users] What about http 1 must die?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27639">[ date ]</a>
              <a href="thread.html#27639">[ thread ]</a>
              <a href="subject.html#27639">[ subject ]</a>
              <a href="author.html#27639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!


Tried to upgrade squid to 7.1 from 6.14.

And the same config does not work:

url_rewrite_program /usr/local/rejik3/redirector 
/usr/local/rejik3/redirector.conf


squid passes url to url_rewrite_program

I can see in this program log that it works, but squid does not redirect 
and just processes original request and passes it's result to user.


There is no changes decribed in manual


<A HREF="https://www.squid-cache.org/Versions/v7/cfgman/url_rewrite_program.html">https://www.squid-cache.org/Versions/v7/cfgman/url_rewrite_program.html</A>

<A HREF="https://www.squid-cache.org/Versions/v6/cfgman/url_rewrite_program.html">https://www.squid-cache.org/Versions/v6/cfgman/url_rewrite_program.html</A>


Looks the same.



Could you tell me what is wrong here?


Thank you!


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027638.html">[squid-users] Kerberos Auth weirdness/inconsistency when using CNAMEs/Round-robin DNS
</A></li>
	<LI>Next message (by thread): <A HREF="027640.html">[squid-users] What about http 1 must die?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27639">[ date ]</a>
              <a href="thread.html#27639">[ thread ]</a>
              <a href="subject.html#27639">[ subject ]</a>
              <a href="author.html#27639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
