<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206%20with%20ssl-bump%20doesn%27t%20cache%20binary%0A%20content%20over%20100%20kb&In-Reply-To=%3C85452ce2-c395-4f54-b602-c1f906378efb%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027464.html">
   <LINK REL="Next"  HREF="027466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Squid%206%20with%20ssl-bump%20doesn%27t%20cache%20binary%0A%20content%20over%20100%20kb&In-Reply-To=%3C85452ce2-c395-4f54-b602-c1f906378efb%40measurement-factory.com%3E"
       TITLE="[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Feb 25 14:56:21 UTC 2025</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027464.html">[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb
</A></li>
        <LI>Next message (by thread): <A HREF="027466.html">[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27465">[ date ]</a>
              <a href="thread.html#27465">[ thread ]</a>
              <a href="subject.html#27465">[ subject ]</a>
              <a href="author.html#27465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2025-02-25 09:47, Thomas PALFRAY wrote:

&gt;<i> we tried version 6.13 as recommended, but the behavior is the same.
</I>
Thank you for testing v6.13. That test eliminates many suspects.


&gt;<i> What additional information would you need to understand the the problem 
</I>
For the next step in triage, I can offer a free private review of your 
cache.log file collected while reproducing the problem using as few 
transactions as possible and enabling full debugging (e.g., setting 
debug_options to ALL,9). More hints are available at
<A HREF="https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction">https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction</A>

If you would like to proceed with the above analysis, please email me a 
link to the corresponding compressed cache.log.


Thank you,

Alex.


&gt;<i> *De&#160;:*squid-users &lt;<A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users-bounces at lists.squid-cache.org</A>&gt; *De la 
</I>&gt;<i> part de* Thomas PALFRAY
</I>&gt;<i> *Envoy&#233;&#160;:* lundi 3 f&#233;vrier 2025 17:08
</I>&gt;<i> *&#192;&#160;:* <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> *Objet&#160;:* [squid-users] Squid 6 with ssl-bump doesn't cache binary 
</I>&gt;<i> content over 100 kb
</I>&gt;<i> 
</I>&gt;<i> Hello everyone,
</I>&gt;<i> 
</I>&gt;<i> My team and I are working on setting up *a squid with ssl-bump* to cache 
</I>&gt;<i> binary content (jpeg, png, pdf and json) on a remote site over HTTPS.
</I>&gt;<i> 
</I>&gt;<i> The size of the binary content can vary from a few dozen KB to several 
</I>&gt;<i> hundred MB.
</I>&gt;<i> 
</I>&gt;<i> We had a working HTTP configuration under squid 3.14, but for security 
</I>&gt;<i> reasons, all our links must now go through HTTPS.
</I>&gt;<i> 
</I>&gt;<i> We've tried configuring Squid 5 and Squid 6, but the behavior described 
</I>&gt;<i> below is the same for both versions of the tool.
</I>&gt;<i> 
</I>&gt;<i> In fact, we're seeing 200/TCP_MISS_ABORTED codes for content larger than 
</I>&gt;<i> around 100kb.
</I>&gt;<i> 
</I>&gt;<i> When content sizes are smaller, the expected behaviour occurs and data 
</I>&gt;<i> is returned from the cache.
</I>&gt;<i> 
</I>&gt;<i> On the client side, for content larger than 100kb :
</I>&gt;<i> 
</I>&gt;<i>   * squid 5 returns x-cache = &#8220;MISS&#8221; and x-cache-lookup = &#8220;HIT&#8221;.
</I>&gt;<i>   * squid 6 returns cache-status = &#8220;url;detail=match&#8221;, which is
</I>&gt;<i>     equivalent if my understanding is correct.
</I>&gt;<i> 
</I>&gt;<i> We first thought it might be linked to the following bug: 
</I>&gt;<i> _<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5214">https://bugs.squid-cache.org/show_bug.cgi?id=5214</A> 
</I>&gt;<i> &lt;<A HREF="https://bugs.squid-cache.org/show_bug.cgi?id=5214">https://bugs.squid-cache.org/show_bug.cgi?id=5214</A>&gt;_, which encouraged 
</I>&gt;<i> us to try version 6, but without success.
</I>&gt;<i> 
</I>&gt;<i>   * Is it a configuration problem that we missed?
</I>&gt;<i>   * Can you help us ?
</I>&gt;<i> 
</I>&gt;<i> HTTP client-side headers returned by squid 6 :
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /[2025-01-14T08:46:49.875] [TRACE] default - [0/1] getContentStream 
</I>&gt;<i> (user) header: {/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;date&quot;: &quot;Tue, 14 Jan 2025 05:47:30 GMT&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;server&quot;: &quot;Apache-Chemistry-OpenCMIS/1.2.0_1859862-XXXXX-1&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;strict-transport-security&quot;: &quot;max-age=15768000&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&quot;x-xss-protection&quot;: &quot;1; mode=block&quot;,/
</I>&gt;<i> 
</I>&gt;<i> ///&quot;x-frame-options&quot;: &quot;SAMEORIGIN&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;x-content-type-options&quot;: &quot;nosniff&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;access-control-allow-origin&quot;: &quot;*&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;access-control-expose-headers&quot;: &quot;Content-Disposition&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;cache-control&quot;: &quot;public, s-maxage=3600, must-revalidate&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;etag&quot;: 
</I>&gt;<i> &quot;\&quot;08bd240128b475722db82d36c7ae7f164c37cab4ad2480abae052875fe7bc3bfdfef9996197d40110a13208d39a3db3a789879bc31803c82f25211eeba505455\&quot;&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;content-disposition&quot;: &quot;inline; filename=FILENAME.jpg&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;content-type&quot;: &quot;image/jpeg&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;content-length&quot;: &quot;2069587&quot;,/
</I>&gt;<i> 
</I>&gt;<i> /&#160; &quot;content-security-policy&quot;: &quot;default-src 'none'; connect-src 'self'; 
</I>&gt;<i> font-src 'self' fonts.gstatic.com; img-src blob: 'self'; script-src 
</I>&gt;<i> 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline' 
</I>&gt;<i> fonts.googleapis.com&quot;,/
</I>&gt;<i> 
</I>&gt;<i> */&#160; &quot;cache-status&quot;: &quot;sv-infra-pxy4;detail=match&quot;,/*
</I>&gt;<i> 
</I>&gt;<i> */&quot;via&quot;: &quot;1.1 sv-infra-pxy4 (squid/6.10)&quot;,/*
</I>&gt;<i> 
</I>&gt;<i> ///&quot;connection&quot;: &quot;close&quot;/
</I>&gt;<i> 
</I>&gt;<i> /}/
</I>&gt;<i> 
</I>&gt;<i> /[2025-01-14T08:46:49.875] [INFO] default - [0/1][2] getCS oId:'369926' 
</I>&gt;<i> sId:*'80669'*name:' filename= FILENAME.jpg' type:'image/jpeg' 
</I>&gt;<i> size:*'2021.08ko'*res:[via:true hit:false length:true]/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> squid 6 acces.log extract:
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> full server configuration file :
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 0.0.0.1-0.255.255.255&#160;&#160;&#160;&#160;&#160;&#160;&#160; # RFC 1122 &quot;this&quot; network 
</I>&gt;<i> (LAN)/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 10.0.0.0/8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # RFC 1918 local private 
</I>&gt;<i> network (LAN)/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 100.64.0.0/10&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # RFC 6598 
</I>&gt;<i> shared address space (CGN)/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 169.254.0.0/16 &#160;&#160;&#160;&#160;&#160;&#160; # RFC 3927 link-local (directly 
</I>&gt;<i> plugged) machines/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 172.16.0.0/12&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # RFC 1918 
</I>&gt;<i> local private network (LAN)/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src 192.168.0.0/16&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # RFC 1918 local 
</I>&gt;<i> private network (LAN)/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src fc00::/7&#160;&#160;&#160;&#160;&#160;&#160; &#160; # RFC 4193 local private network range/
</I>&gt;<i> 
</I>&gt;<i> /acl localnet src fe80::/10&#160;&#160;&#160;&#160;&#160; # RFC 4291 link-local (directly 
</I>&gt;<i> plugged) machines/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /acl SSL_ports port 443/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 80&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # http/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 21&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # ftp/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 443&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # https/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 70&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # gopher/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 210&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # wais/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 1025-65535&#160;&#160;&#160;&#160;&#160;&#160; # unregistered ports/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 280&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # http-mgmt/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 488&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # gss-http/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 591&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # filemaker/
</I>&gt;<i> 
</I>&gt;<i> /acl Safe_ports port 777&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # multiling http/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /#ACL pour SmartGED/
</I>&gt;<i> 
</I>&gt;<i> /acl smartged-mime req_mime_type -i ^image/jpeg$/
</I>&gt;<i> 
</I>&gt;<i> /acl smartged-mime req_mime_type -i ^image/png$/
</I>&gt;<i> 
</I>&gt;<i> /acl smartged-mime req_mime_type -i ^application/pdf$/
</I>&gt;<i> 
</I>&gt;<i> /acl smartged-mime req_mime_type -i ^application/json$/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /acl intermediate_fetching transaction_initiator certificate-fetching/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /http_access deny !Safe_ports/
</I>&gt;<i> 
</I>&gt;<i> /http_access deny CONNECT !SSL_ports/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# Only allow cachemgr access from localhost/
</I>&gt;<i> 
</I>&gt;<i> /http_access allow localhost manager/
</I>&gt;<i> 
</I>&gt;<i> /http_access deny manager/
</I>&gt;<i> 
</I>&gt;<i> /http_access allow localnet/
</I>&gt;<i> 
</I>&gt;<i> /http_access deny all/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /logformat toto %{%d/%b/%Y:%H:%M:%S}tl.%tu %&gt;a %rm %03Hs/%Ss %6tr %ru %mt/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /access_log /var/log/squid/access.log toto/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /http_port 3128&#160; ssl-bump generate-host-certificates=on 
</I>&gt;<i> dynamic_cert_mem_cache_size=4MB tls-cert=/etc/squid/ssl_cert/xxxx_.pem 
</I>&gt;<i> tls-key=/etc/squid/ssl_cert/xxxx_.key 
</I>&gt;<i> tls-dh=/etc/squid/ssl_cert/dhparam.pem/
</I>&gt;<i> 
</I>&gt;<i> /tls_outgoing_options 
</I>&gt;<i> cipher=ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384/
</I>&gt;<i> 
</I>&gt;<i> /sslcrtd_program /usr/lib/squid/security_file_certgen -s 
</I>&gt;<i> /var/spool/squid/ssl_db -M 20MB/
</I>&gt;<i> 
</I>&gt;<i> /sslcrtd_children 5/
</I>&gt;<i> 
</I>&gt;<i> /ssl_bump server-first all/
</I>&gt;<i> 
</I>&gt;<i> /ssl_bump splice all/
</I>&gt;<i> 
</I>&gt;<i> /sslproxy_cert_error allow all/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# ACL deny pour les fichiers javascript/
</I>&gt;<i> 
</I>&gt;<i> /acl denyjs urlpath_regex \.js/
</I>&gt;<i> 
</I>&gt;<i> /# ok deny all requests above/
</I>&gt;<i> 
</I>&gt;<i> /cache deny denyjs/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# Leave coredumps in the first cache dir/
</I>&gt;<i> 
</I>&gt;<i> /coredump_dir /cache1/squid/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# Affichage des requetes GET completes dans cache.log/
</I>&gt;<i> 
</I>&gt;<i> /strip_query_terms off/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /cache_mem 20480 MB/
</I>&gt;<i> 
</I>&gt;<i> /# d&#233;but d'&#233;viction du cache/
</I>&gt;<i> 
</I>&gt;<i> /cache_swap_low 50/
</I>&gt;<i> 
</I>&gt;<i> /# aggressivit&#233; maximal de l'algorithme d'&#233;viction du cache/
</I>&gt;<i> 
</I>&gt;<i> /cache_swap_high 80/
</I>&gt;<i> 
</I>&gt;<i> /# The LRU policies keeps recently referenced objects./
</I>&gt;<i> 
</I>&gt;<i> /cache_replacement_policy lru/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /#/
</I>&gt;<i> 
</I>&gt;<i> /# Add any of your own refresh_pattern entries above these./
</I>&gt;<i> 
</I>&gt;<i> /#/
</I>&gt;<i> 
</I>&gt;<i> /refresh_pattern ^ftp:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1440&#160;&#160;&#160; 20%&#160;&#160;&#160;&#160; 10080/
</I>&gt;<i> 
</I>&gt;<i> /refresh_pattern -i (/cgi-bin/|\?) 0&#160;&#160;&#160;&#160;&#160;&#160; 0%&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0/
</I>&gt;<i> 
</I>&gt;<i> /refresh_pattern .&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 20%&#160;&#160;&#160;&#160; 4320/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /ftp_user <A HREF="https://lists.squid-cache.org/listinfo/squid-users">_anonymous at xxx.fr</A> &lt;mailto:<A HREF="https://lists.squid-cache.org/listinfo/squid-users">anonymous at xxx.fr</A>&gt;_/
</I>&gt;<i> 
</I>&gt;<i> /#acl QUERY urlpath_regex cgi-bin \?/
</I>&gt;<i> 
</I>&gt;<i> /#no_cache deny QUERY/
</I>&gt;<i> 
</I>&gt;<i> /client_request_buffer_max_size 10240 KB/
</I>&gt;<i> 
</I>&gt;<i> /maximum_object_size 1024 MB/
</I>&gt;<i> 
</I>&gt;<i> /# to keep object in memory cache/
</I>&gt;<i> 
</I>&gt;<i> /maximum_object_size_in_memory 10240 KB/
</I>&gt;<i> 
</I>&gt;<i> /#to cause Squid to prefetch the whole file/
</I>&gt;<i> 
</I>&gt;<i> /range_offset_limit 16 MB/
</I>&gt;<i> 
</I>&gt;<i> /#quick_abort_min -1/
</I>&gt;<i> 
</I>&gt;<i> /#D&#233;finition de la taille maximum d'un en-t&#234;te HTTP lors d'une requ&#234;te/
</I>&gt;<i> 
</I>&gt;<i> /reply_header_max_size 8192 KB/
</I>&gt;<i> 
</I>&gt;<i> /#taille maximum d'un en-t&#234;te de r&#233;ponse HTTP/
</I>&gt;<i> 
</I>&gt;<i> /reply_header_max_size 8192 KB/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# Uncomment and adjust the following to add a disk cache directory./
</I>&gt;<i> 
</I>&gt;<i> /cache_dir aufs /cache1/squid 1024000 16 256 max-size=16777216/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /error_directory /usr/share/squid/errors/fr/
</I>&gt;<i> 
</I>&gt;<i> /half_closed_clients off/
</I>&gt;<i> 
</I>&gt;<i> /max_filedescriptors 8192/
</I>&gt;<i> 
</I>&gt;<i> /forward_max_tries 50/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /#Affichage du store-id/
</I>&gt;<i> 
</I>&gt;<i> /cache_store_log daemon:/var/log/squid/store_daemon.log/
</I>&gt;<i> 
</I>&gt;<i> /cache_store_log stdio:/var/log/squid/store_stdio.log/
</I>&gt;<i> 
</I>&gt;<i> /#debug_options &quot;ALL,3 33,7 47,7 61,7 85,7&quot;/
</I>&gt;<i> 
</I>&gt;<i> /# Log all critical and important messages./
</I>&gt;<i> 
</I>&gt;<i> /#debug_options ALL,1/
</I>&gt;<i> 
</I>&gt;<i> /debug_options ALL,3/
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> 
</I>&gt;<i> /# Enable SQUID's SNMP/
</I>&gt;<i> 
</I>&gt;<i> /snmp_port 3401/
</I>&gt;<i> 
</I>&gt;<i> /acl snmppublic snmp_community PASdePUBLIC/
</I>&gt;<i> 
</I>&gt;<i> /snmp_access allow snmppublic all/
</I>&gt;<i> 
</I>&gt;<i> Best regards,
</I>&gt;<i> 
</I>&gt;<i> *Thomas PALFRAY*
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">https://lists.squid-cache.org/listinfo/squid-users</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027464.html">[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb
</A></li>
	<LI>Next message (by thread): <A HREF="027466.html">[squid-users] Squid 6 with ssl-bump doesn't cache binary content over 100 kb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27465">[ date ]</a>
              <a href="thread.html#27465">[ thread ]</a>
              <a href="subject.html#27465">[ subject ]</a>
              <a href="author.html#27465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
