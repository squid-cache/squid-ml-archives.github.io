<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [squid-users] Resource management, backend application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Resource%20management%2C%20backend%20application&In-Reply-To=%3C1d1b0d97-9a0c-45d4-aa2b-6f6d571d62b5%40measurement-factory.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027367.html">
   <LINK REL="Next"  HREF="027369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[squid-users] Resource management, backend application</H1>
    <B>Alex Rousskov</B> 
    <A HREF="mailto:squid-users%40lists.squid-cache.org?Subject=Re%3A%20%5Bsquid-users%5D%20Resource%20management%2C%20backend%20application&In-Reply-To=%3C1d1b0d97-9a0c-45d4-aa2b-6f6d571d62b5%40measurement-factory.com%3E"
       TITLE="[squid-users] Resource management, backend application">rousskov at measurement-factory.com
       </A><BR>
    <I>Tue Jan  7 13:55:16 UTC 2025</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027367.html">[squid-users] Resource management, backend application
</A></li>
        <LI>Next message (by thread): <A HREF="027369.html">[squid-users] Resource management, backend application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27368">[ date ]</a>
              <a href="thread.html#27368">[ thread ]</a>
              <a href="subject.html#27368">[ subject ]</a>
              <a href="author.html#27368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2025-01-07 04:49, Tony Albers wrote:
&gt;<i> Is it possible in squid to ensure that a badly behaving backend
</I>&gt;<i> application doesn't eat up all squid resources?
</I>
Yes, especially if you know about that application behavior in advance. 
You can configure Squid to start denying requests for the problematic 
application once the number of concurrent requests for that application 
exceeds some threshold.

You will probably have to use external ACLs to track that concurrency 
level. I do not have a blueprint ready, but it should be doable in 
principle.


&gt;<i> E.g.: at work we have an Apache reverse proxy in front of a number of
</I>&gt;<i> backend hosts. If one of the backend applications misbehaves, this can
</I>&gt;<i> result in all of apache's worker processes being held up by this
</I>&gt;<i> application, resulting in apache hanging and all sites going offline.
</I>&gt;<i> In apache, AFAIK, there is no way to prevent this.
</I>
Squid worker processes are not dedicated to a single request or a single 
application so, as Matus UHLAR has already said, the above scenario is 
not going to happen with Squid (but an application can exhaust other 
resources such as socket descriptors or memory, so Squid can be slowed 
down in a similar scenario unless you configure it specially).


HTH,

Alex.


&gt;<i> But can squid handle this scenario in a way that only the site with the
</I>&gt;<i> misbehaving application goes offline without pulling the other sites
</I>&gt;<i> down with it?
</I>&gt;<i> 
</I>&gt;<i> I understand that the way squid and apache works is different, but
</I>&gt;<i> that's not really important for me. I just want to use the best tool for
</I>&gt;<i> the job.
</I>&gt;<i> 
</I>&gt;<i> TIA,
</I>&gt;<i> 
</I>&gt;<i> /tony
</I>&gt;<i> _______________________________________________
</I>&gt;<i> squid-users mailing list
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">squid-users at lists.squid-cache.org</A>
</I>&gt;<i> <A HREF="https://lists.squid-cache.org/listinfo/squid-users">https://lists.squid-cache.org/listinfo/squid-users</A>
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027367.html">[squid-users] Resource management, backend application
</A></li>
	<LI>Next message (by thread): <A HREF="027369.html">[squid-users] Resource management, backend application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27368">[ date ]</a>
              <a href="thread.html#27368">[ thread ]</a>
              <a href="subject.html#27368">[ subject ]</a>
              <a href="author.html#27368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.squid-cache.org/listinfo/squid-users">More information about the squid-users
mailing list</a><br>
</body></html>
