<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;meta&nbsp;name=Generator&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Lucida&nbsp;Console&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;6&nbsp;9&nbsp;4&nbsp;5&nbsp;4&nbsp;2&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0cm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:11.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-fareast-language:EN-US;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#0563C1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#954F72;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-compose;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-fareast-language:EN-US;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:612.0pt&nbsp;792.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:72.0pt&nbsp;72.0pt&nbsp;72.0pt&nbsp;72.0pt;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body&nbsp;lang=EN-CA&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;&lt;div&nbsp;class=WordSection1&gt;&lt;p&nbsp;class=MsoNormal&gt;I&#8217;ve&nbsp;got&nbsp;a&nbsp;Squid&nbsp;3.3.3&nbsp;running&nbsp;on&nbsp;Windows&nbsp;2003&nbsp;(and&nbsp;2008)&nbsp;box&nbsp;via&nbsp;CYGWIN,&nbsp;works&nbsp;with&nbsp;the&nbsp;basic&nbsp;config.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;My&nbsp;next&nbsp;step&nbsp;is&nbsp;to&nbsp;put&nbsp;in&nbsp;some&nbsp;authentication&nbsp;in&nbsp;place,&nbsp;in&nbsp;this&nbsp;case&nbsp;Kerberos&nbsp;using..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/lib/squid/negotiate_kerberos_auth&nbsp;-d&nbsp;-s&nbsp;HTTP/vis-squid.VAND1.OPPY.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;auth_param&nbsp;negotiate&nbsp;children&nbsp;10&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Before&nbsp;I&nbsp;can&nbsp;do&nbsp;this,&nbsp;I&nbsp;need&nbsp;to&nbsp;get&nbsp;a&nbsp;keytab&nbsp;file&nbsp;and&nbsp;setup&nbsp;the&nbsp;proper&nbsp;SPNs,&nbsp;on&nbsp;CYGWIN&nbsp;we&nbsp;don&#8217;t&nbsp;have&nbsp;Samba&nbsp;so&nbsp;I&nbsp;am&nbsp;using&nbsp;&nbsp;msktutil&nbsp;to&nbsp;create&nbsp;the&nbsp;computer&nbsp;account&nbsp;and&nbsp;keytab/SPNs;&nbsp;specifically&nbsp;one&nbsp;that&nbsp;works&nbsp;under&nbsp;CYGWIN&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/fd00/yacp/tree/master/msktutil&quot;&gt;https://github.com/fd00/yacp/tree/master/msktutil&lt;/a&gt;).&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;When&nbsp;I&nbsp;try&nbsp;to&nbsp;create&nbsp;the&nbsp;keytab&nbsp;as&nbsp;per&nbsp;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos&quot;&gt;http://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos&lt;/a&gt;&nbsp;by&nbsp;running...&lt;br&gt;&lt;br&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;msktutil&nbsp;-c&nbsp;-b&nbsp;&quot;CN=computers&quot;&nbsp;-s&nbsp;HTTP/xxx-squid.MY.DOMAIN.COM&nbsp;-k&nbsp;/etc/squid/PROXY.keytab&nbsp;--computer-name&nbsp;xxx-squid&nbsp;--upn&nbsp;HTTP/&nbsp;xxx-squid.MY.DOMAIN.COM--server&nbsp;DCSRV02&nbsp;--enctypes&nbsp;28&nbsp;&#8211;verbose&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;It&nbsp;runs&nbsp;but&nbsp;dies&nbsp;at..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;--&nbsp;ldap_get_pwdLastSet:&nbsp;pwdLastSet&nbsp;is&nbsp;130576191605205669&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Successfully&nbsp;set&nbsp;password,&nbsp;waiting&nbsp;for&nbsp;it&nbsp;to&nbsp;be&nbsp;reflected&nbsp;in&nbsp;LDAP.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_get_pwdLastSet:&nbsp;pwdLastSet&nbsp;is&nbsp;130576191607895789&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Successfully&nbsp;reset&nbsp;computer's&nbsp;password&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Setting&nbsp;samba&nbsp;machine&nbsp;trust&nbsp;account&nbsp;password&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;The&nbsp;syntax&nbsp;of&nbsp;this&nbsp;command&nbsp;is:&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;NET&nbsp;[&nbsp;ACCOUNTS&nbsp;|&nbsp;COMPUTER&nbsp;|&nbsp;CONFIG&nbsp;|&nbsp;CONTINUE&nbsp;|&nbsp;FILE&nbsp;|&nbsp;GROUP&nbsp;|&nbsp;HELP&nbsp;|&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HELPMSG&nbsp;|&nbsp;LOCALGROUP&nbsp;|&nbsp;NAME&nbsp;|&nbsp;PAUSE&nbsp;|&nbsp;PRINT&nbsp;|&nbsp;SEND&nbsp;|&nbsp;SESSION&nbsp;|&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHARE&nbsp;|&nbsp;START&nbsp;|&nbsp;STATISTICS&nbsp;|&nbsp;STOP&nbsp;|&nbsp;TIME&nbsp;|&nbsp;USE&nbsp;|&nbsp;USER&nbsp;|&nbsp;VIEW&nbsp;]&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;Setting&nbsp;samba&nbsp;secret&nbsp;failed&nbsp;with&nbsp;error&nbsp;code&nbsp;256&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;Error:&nbsp;set_password&nbsp;failed&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;Hint:&nbsp;Does&nbsp;your&nbsp;password&nbsp;policy&nbsp;allow&nbsp;to&nbsp;change&nbsp;vis-squid's&nbsp;password?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;example,&nbsp;there&nbsp;could&nbsp;be&nbsp;a&nbsp;&quot;Minimum&nbsp;password&nbsp;age&quot;&nbsp;policy&nbsp;preventing&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passwords&nbsp;from&nbsp;being&nbsp;changed&nbsp;too&nbsp;frequently.&nbsp;If&nbsp;so,&nbsp;you&nbsp;can&nbsp;reset&nbsp;the&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;instead&nbsp;of&nbsp;changing&nbsp;it&nbsp;using&nbsp;the&nbsp;--user-creds-only&nbsp;option.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Be&nbsp;aware&nbsp;that&nbsp;you&nbsp;need&nbsp;a&nbsp;ticket&nbsp;of&nbsp;a&nbsp;user&nbsp;with&nbsp;administrative&nbsp;privileges&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;that.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;~msktutil_exec:&nbsp;Destroying&nbsp;msktutil_exec&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_cleanup:&nbsp;Disconnecting&nbsp;from&nbsp;LDAP&nbsp;server&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;init_password:&nbsp;Wiping&nbsp;the&nbsp;password&nbsp;structure&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='text-autospace:none'&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;~KRB5Context:&nbsp;Destroying&nbsp;Kerberos&nbsp;Context&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Looks&nbsp;like&nbsp;it&nbsp;is&nbsp;trying&nbsp;to&nbsp;use&nbsp;Samba&#8217;s&nbsp;&#8220;net&#8221;&nbsp;command&nbsp;which&nbsp;is&nbsp;different&nbsp;than&nbsp;the&nbsp;net&nbsp;command&nbsp;above&nbsp;(windows).&nbsp;So&nbsp;I&nbsp;edited&nbsp;&lt;a&nbsp;href=&quot;http://repo.or.cz/w/msktutil.git/blob/9f22f3ec6efa0a6f8bb122fb14095a1ab50d3d6c:/msktpass.cpp&quot;&gt;http://repo.or.cz/w/msktutil.git/blob/9f22f3ec6efa0a6f8bb122fb14095a1ab50d3d6c:/msktpass.cpp&lt;/a&gt;&nbsp;and&nbsp;commented&nbsp;out&nbsp;the&nbsp;block&nbsp;of&nbsp;code&nbsp;that&nbsp;tries&nbsp;to&nbsp;run&nbsp;&#8220;net&nbsp;changesecretpw&#8221;&nbsp;samba&nbsp;cmd&nbsp;(I&nbsp;thought&nbsp;the&nbsp;whole&nbsp;purpose&nbsp;of&nbsp;msktutil&nbsp;was&nbsp;an&nbsp;alternative&nbsp;way&nbsp;to&nbsp;perform&nbsp;net&nbsp;ads&nbsp;keytab&nbsp;create&nbsp;so&nbsp;why&nbsp;is&nbsp;it&nbsp;&nbsp;running&nbsp;that&nbsp;cmdlet&#8230;)&nbsp;then&nbsp;re-compiled&nbsp;msktutil&nbsp;and&nbsp;re-ran&nbsp;it..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;It&nbsp;went&nbsp;through&nbsp;this&nbsp;time&nbsp;with..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;--&nbsp;ldap_get_pwdLastSet:&nbsp;pwdLastSet&nbsp;is&nbsp;130576324675479078&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Successfully&nbsp;reset&nbsp;computer's&nbsp;password&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Setting&nbsp;samba&nbsp;machine&nbsp;trust&nbsp;account&nbsp;password&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;set_password:&nbsp;Successfully&nbsp;set&nbsp;samba&nbsp;machine&nbsp;trust&nbsp;account&nbsp;password&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_add_principal:&nbsp;Checking&nbsp;that&nbsp;adding&nbsp;principal&nbsp;HTTP/xxx-squid.MY.DOMAIN.COM&nbsp;to&nbsp;vis-squid&nbsp;won't&nbsp;cause&nbsp;a&nbsp;conflict&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_add_principal:&nbsp;Adding&nbsp;principal&nbsp;HTTP/xxx-squid.MY.DOMAIN.COM&nbsp;to&nbsp;LDAP&nbsp;entry&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;execute:&nbsp;Updating&nbsp;all&nbsp;entries&nbsp;for&nbsp;rmt-server01.MY.DOMAIN.COM&nbsp;in&nbsp;the&nbsp;keytab&nbsp;WRFILE:/etc/squid/PROXY.keytab&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;update_keytab:&nbsp;Updating&nbsp;all&nbsp;entires&nbsp;for&nbsp;vis-squid&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_get_kvno:&nbsp;KVNO&nbsp;is&nbsp;4&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;Adding&nbsp;principal&nbsp;to&nbsp;keytab:&nbsp;vis-squid&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x17&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x11&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x12&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;Adding&nbsp;principal&nbsp;to&nbsp;keytab:&nbsp;HTTP/xxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;Removing&nbsp;entries&nbsp;with&nbsp;kvno&nbsp;&lt;&nbsp;0&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x17&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x11&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;salt&nbsp;of&nbsp;MY.DOMAIN.COMHTTPxxx-squid.MY.DOMAIN.COM&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;add_principal_keytab:&nbsp;&nbsp;&nbsp;Adding&nbsp;entry&nbsp;of&nbsp;enctype&nbsp;0x12&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;~msktutil_exec:&nbsp;Destroying&nbsp;msktutil_exec&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;ldap_cleanup:&nbsp;Disconnecting&nbsp;from&nbsp;LDAP&nbsp;server&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;init_password:&nbsp;Wiping&nbsp;the&nbsp;password&nbsp;structure&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&nbsp;--&nbsp;~KRB5Context:&nbsp;Destroying&nbsp;Kerberos&nbsp;Context&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;In&nbsp;AD&nbsp;I&nbsp;can&nbsp;see&nbsp;a&nbsp;new&nbsp;user&nbsp;account&nbsp;named&nbsp;&#8220;xxx-squid&#8221;&nbsp;(should&nbsp;this&nbsp;not&nbsp;be&nbsp;a&nbsp;computer&nbsp;object&nbsp;instead&nbsp;of&nbsp;a&nbsp;user&nbsp;object?),&nbsp;so&nbsp;now&nbsp;back&nbsp;to&nbsp;Squid&nbsp;(stop/start)&nbsp;and&nbsp;try&nbsp;hitting&nbsp;google.com&nbsp;via&nbsp;IE9/IE10/IE11&nbsp;I&nbsp;get..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;2014/10/12&nbsp;17:37:14&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;Unspecified&nbsp;GSS&nbsp;failure.&nbsp;&nbsp;Minor&nbsp;code&nbsp;may&nbsp;provide&nbsp;more&nbsp;information.&nbsp;Key&nbsp;version&nbsp;number&nbsp;for&nbsp;principal&nbsp;in&nbsp;key&nbsp;table&nbsp;is&nbsp;incorrect'&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='font-size:9.0pt;font-family:&quot;Lucida&nbsp;Console&quot;'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;So..&nbsp;something&nbsp;is&nbsp;still&nbsp;not&nbsp;right&nbsp;with&nbsp;my&nbsp;setup..&nbsp;any&nbsp;suggestions?&nbsp;Can&nbsp;I&nbsp;create&nbsp;the&nbsp;keytab&nbsp;file&nbsp;on&nbsp;my&nbsp;Active&nbsp;Directory&nbsp;server&nbsp;and&nbsp;copy&nbsp;the&nbsp;file&nbsp;and&nbsp;use&nbsp;it&nbsp;instead?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;With&nbsp;the&nbsp;recent&nbsp;release&nbsp;of&nbsp;SQUID&nbsp;3.3.3&nbsp;to&nbsp;CYGWIN&nbsp;(&lt;a&nbsp;href=&quot;http://sourceware.mirrors.tds.net/pub/sourceware.org/cygwin/x86/release/squid/&quot;&gt;http://sourceware.mirrors.tds.net/pub/sourceware.org/cygwin/x86/release/squid/&lt;/a&gt;)&nbsp;I&#8217;ve&nbsp;been&nbsp;at&nbsp;it&nbsp;for&nbsp;a&nbsp;few&nbsp;days&nbsp;trying&nbsp;to&nbsp;make&nbsp;it&nbsp;work&nbsp;but&nbsp;stuck&nbsp;at&nbsp;getting&nbsp;SSO&nbsp;with&nbsp;negotiate_kerberos_auth..&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Any&nbsp;ideas?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
