<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Some&nbsp;day&nbsp;ago,&nbsp;I&nbsp;made&nbsp;it.&nbsp;Just&nbsp;share.&lt;br&gt;&lt;br&gt;Ready&lt;br&gt;Step&nbsp;1:&nbsp;Install&nbsp;cygwin.&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://cygwin.com/install.html&quot;&gt;https://cygwin.com/install.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;Step&nbsp;2:&nbsp;Get&nbsp;squid-3.3.3-2&nbsp;src&nbsp;by&nbsp;cygwin&nbsp;setup-x86.exe&nbsp;or&nbsp;setup-x86_64.exe.&nbsp;They&nbsp;are&nbsp;GUI&nbsp;package&nbsp;manager&nbsp;of&nbsp;cygwin.&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src&lt;br&gt; &nbsp; &nbsp;$&nbsp;ls&lt;br&gt; &nbsp; &nbsp;3.3.3-cygwin.patch&nbsp;squid.cygport&nbsp;squid-3.3.3.tar.bz2&nbsp;squid-3.3.3.tar.bz2.asc&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;3.3.3-cygwin.patch&nbsp;is&nbsp;used&nbsp;to&nbsp;patch&nbsp;squid-3.3.3-2&nbsp;src.&lt;br&gt; &nbsp; &nbsp;squid.cygprot.&nbsp;we&nbsp;will&nbsp;introduce&nbsp;it&nbsp;later.&lt;br&gt;&lt;br&gt;Step&nbsp;3:&nbsp;Install&nbsp;cygport&nbsp;by&nbsp;setup-x86.exe&nbsp;or&nbsp;setup-x86_64.exe.&nbsp;We&nbsp;will&nbsp;use&nbsp;cygport&nbsp;to&nbsp;unpack&nbsp;sources,&nbsp;apply&nbsp;patches&nbsp;and&nbsp;compile&nbsp;squid-3.3.3.-2.&nbsp;squid.cygprot&nbsp;tell&nbsp;cygport&nbsp;how&nbsp;to&nbsp;compile&nbsp;squid-3.3.3-3.&nbsp;Please&nbsp;look&nbsp;the&nbsp;content&nbsp;of&nbsp;it.&lt;br&gt;&lt;br&gt;Compile&nbsp;eCAP&lt;br&gt;Step&nbsp;1:&nbsp;compile&nbsp;ecap-0.2.0&nbsp;as&nbsp;before.&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/src/ecap-0.2.0&lt;br&gt; &nbsp; &nbsp;$&nbsp;./configure&nbsp;&amp;&amp;&nbsp;make&lt;br&gt;&lt;br&gt;Now,&nbsp;We&nbsp;get&nbsp;libcommon.a,&nbsp;libadapter.a&nbsp;and&nbsp;libhost.a&lt;br&gt;&lt;br&gt;Step&nbsp;2:&nbsp;link&nbsp;it&nbsp;by&nbsp;runing&nbsp;command&nbsp;as&nbsp;following.&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/src/libecap-0.2.0/src/libecap&lt;br&gt; &nbsp; &nbsp;$&nbsp;g++&nbsp;-shared&nbsp;-o&nbsp;cygecap.dll&nbsp;-Wl,--out-implib=libecap.dll.a&nbsp;-Wl,--export-all-symbols&nbsp;-Wl,--enable-auto-import&nbsp;-Wl,--whole-archive&nbsp;common/.libs/libcommon.a&nbsp;adapter/.libs/libadapter.a&nbsp;host/.libs/libhost.a&nbsp;-Wl,--no-whole-archive&nbsp;-lstdc++&nbsp;-lm&nbsp;-lc&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/src/libecap-0.2.0/src/libecap&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;$&nbsp;ls&nbsp;|&nbsp;grep&nbsp;dll&nbsp;||&nbsp;a&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;cygecap.dll&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;libecap.dll.a&lt;br&gt;&lt;br&gt;Compile&nbsp;Squid-3.3.3-2&lt;br&gt;Step&nbsp;1:&nbsp;copy&nbsp;libecap.dll.a&nbsp;to&nbsp;/usr/lib&nbsp;and&nbsp;copy&nbsp;cygecap.dll&nbsp;to&nbsp;/usr/bin&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/lib&lt;br&gt; &nbsp; &nbsp;$&nbsp;ls&nbsp;|&nbsp;grep&nbsp;libecap&lt;br&gt; &nbsp; &nbsp;libecap.dll.a&lt;br&gt; &nbsp; &nbsp;HDM@HDM-PC&nbsp;/usr/bin&lt;br&gt; &nbsp; &nbsp;$&nbsp;ls&nbsp;|&nbsp;grep&nbsp;cygecap&lt;br&gt; &nbsp; &nbsp;cygecap.dll&lt;br&gt;&lt;br&gt;Step&nbsp;2:&nbsp;Add&nbsp;--enable-ecap&nbsp;option&nbsp;by&nbsp;editing&nbsp;squid.cygport&nbsp;file&lt;br&gt;////////////////////////squid.cygport/////////////////////////&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;src_compile()&nbsp;{&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;cd&nbsp;${S}&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;./bootstrap.sh&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;lndirs&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;cd&nbsp;${B}&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;cygconf&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--sysconfdir=/etc/squid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--datadir=/usr/share/squid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--libexecdir=/usr/lib/squid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--disable-strict-error-checking&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--with-logdir=/var/log/squid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--with-swapdir=/var/cache/squid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--with-pidfile=/var/run/squid.pid&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-ecap&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-ssl&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-esi&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-disk-io=&quot;AIO,Blocking,DiskThreads,IpcIo,Mmapped&quot;&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-auth-basic=&quot;DB,LDAP,MSNT,MSNT-multi-domain,NCSA,POP3,RADIUS,SASL,SMB,fake,getpwnam&quot;&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-auth-ntlm=&#39;fake,smb_lm&#39;&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-auth-negotiate=&#39;kerberos,wrapper&#39;&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--enable-external-acl-helpers=&#39;LDAP_group,SQL_session,eDirectory_userip,file_userip,kerberos_ldap_group,session,time_quota,unix_group,wbinfo_group&#39;&nbsp;\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--with-filedescriptors=3072&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;FIXME:&nbsp;error:&nbsp;&#39;snprintf&#39;&nbsp;was&nbsp;not&nbsp;declared&nbsp;in&nbsp;this&nbsp;scope&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;for&nbsp;fn&nbsp;in&nbsp;`find&nbsp;.&nbsp;-name&nbsp;Makefile`&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;do&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sed&nbsp;-i&nbsp;-e&nbsp;&quot;s#c++0x#gnu++0x#&quot;&nbsp;${fn}&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;done&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;make&lt;br&gt;}&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;///////////////////////////////////squid.cygport////////////////////////////&lt;br&gt;&lt;br&gt;Step&nbsp;3:&nbsp;compile&nbsp;squid-3.3.3-2&nbsp;src.&nbsp;Then&nbsp;we&nbsp;can&nbsp;get&nbsp;.o&nbsp;files.&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src&lt;br&gt; &nbsp;$&nbsp;ls&lt;br&gt; &nbsp;3.3.3-cygwin.patch&nbsp;squid.cygport&nbsp;squid-3.3.3.tar.bz2&nbsp;squid-3.3.3.tar.bz2.asc&nbsp;squid-3.3.3-2.i686&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src&lt;br&gt; &nbsp;$&nbsp;cygport&nbsp;--32&nbsp;squid.cygport&nbsp;prep&nbsp;compile&nbsp;install&lt;br&gt;&lt;br&gt;Step&nbsp;4:&nbsp;link&nbsp;it&nbsp;by&nbsp;runing&nbsp;command&nbsp;as&nbsp;following.&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src/squid-3.3.3-2.i686/src/squid-3.3.3/src&lt;br&gt; &nbsp;$&nbsp;g++&nbsp;-Wall&nbsp;-Wpointer-arith&nbsp;-Wwrite-strings&nbsp;-Wcomments&nbsp;-pipe&nbsp;-D_REENTRANT&nbsp;-g&nbsp;-O2&nbsp;-std=gnu++0x&nbsp;.libs/squid.exeS.o&nbsp;-g&nbsp;-o&nbsp;squid.exe&nbsp;AclRegs.o&nbsp;AuthReg.o&nbsp;AccessLogEntry.o&nbsp;AsyncEngine.o&nbsp;YesNoNone.o&nbsp;cache_cf.o&nbsp;CacheDigest.o&nbsp;cache_manager.o&nbsp;carp.o&nbsp;cbdata.o&nbsp;ChunkedCodingParser.o&nbsp;client_db.o&nbsp;client_side.o&nbsp;client_side_reply.o&nbsp;client_side_request.o&nbsp;BodyPipe.o&nbsp;clientStream.o&nbsp;CompletionDispatcher.o&nbsp;ConfigOption.o&nbsp;ConfigParser.o&nbsp;CpuAffinity.o&nbsp;CpuAffinityMap.o&nbsp;CpuAffinitySet.o&nbsp;debug.o&nbsp;disk.o&nbsp;DiskIO/DiskIOModule.o&nbsp;DiskIO/ReadRequest.o&nbsp;DiskIO/WriteRequest.o&nbsp;dlink.o&nbsp;dns_internal.o&nbsp;DnsLookupDetails.o&nbsp;errorpage.o&nbsp;ETag.o&nbsp;event.o&nbsp;EventLoop.o&nbsp;external_acl.o&nbsp;ExternalACLEntry.o&nbsp;FadingCounter.o&nbsp;fatal.o&nbsp;fd.o&nbsp;fde.o&nbsp;filemap.o&nbsp;forward.o&nbsp;fqdncache.o&nbsp;ftp.o&nbsp;gopher.o&nbsp;helper.o&nbsp;HelperChildConfig.o&nbsp;htcp.o&nbsp;http.o&nbsp;HttpStatusLine.o&nbsp;HttpHdrCc.o&nbsp;HttpHdrRange.o&nbsp;HttpHdrSc.o&nbsp;HttpHdrScTarget.o&nbsp;HttpHdrContRange.o&nbsp;HttpHeader.o&nbsp;HttpHeaderTools.o&nbsp;HttpBody.o&nbsp;HttpMsg.o&nbsp;HttpParser.o&nbsp;HttpReply.o&nbsp;RequestFlags.o&nbsp;HttpRequest.o&nbsp;HttpRequestMethod.o&nbsp;icp_v2.o&nbsp;icp_v3.o&nbsp;int.o&nbsp;internal.o&nbsp;ipc.o&nbsp;ipcache.o&nbsp;SquidList.o&nbsp;main.o&nbsp;mem.o&nbsp;mem_node.o&nbsp;MemBuf.o&nbsp;MemObject.o&nbsp;mime.o&nbsp;mime_header.o&nbsp;multicast.o&nbsp;neighbors.o&nbsp;Packer.o&nbsp;Parsing.o&nbsp;pconn.o&nbsp;peer_digest.o&nbsp;peer_proxy_negotiate_auth.o&nbsp;peer_select.o&nbsp;peer_sourcehash.o&nbsp;peer_userhash.o&nbsp;redirect.o&nbsp;refresh.o&nbsp;RemovalPolicy.o&nbsp;send-announce.o&nbsp;MemBlob.o&nbsp;snmp_core.o&nbsp;snmp_agent.o&nbsp;SquidMath.o&nbsp;SquidNew.o&nbsp;stat.o&nbsp;StatCounters.o&nbsp;StatHist.o&nbsp;String.o&nbsp;StrList.o&nbsp;stmem.o&nbsp;store.o&nbsp;StoreFileSystem.o&nbsp;store_io.o&nbsp;StoreIOState.o&nbsp;store_client.o&nbsp;store_digest.o&nbsp;store_dir.o&nbsp;store_key_md5.o&nbsp;store_log.o&nbsp;store_rebuild.o&nbsp;store_swapin.o&nbsp;store_swapmeta.o&nbsp;store_swapout.o&nbsp;StoreMeta.o&nbsp;StoreMetaMD5.o&nbsp;StoreMetaSTD.o&nbsp;StoreMetaSTDLFS.o&nbsp;StoreMetaUnpacker.o&nbsp;StoreMetaURL.o&nbsp;StoreMetaVary.o&nbsp;StoreStats.o&nbsp;StoreSwapLogData.o&nbsp;Server.o&nbsp;SwapDir.o&nbsp;MemStore.o&nbsp;time.o&nbsp;tools.o&nbsp;tunnel.o&nbsp;unlinkd.o&nbsp;url.o&nbsp;URLScheme.o&nbsp;urn.o&nbsp;wccp.o&nbsp;wccp2.o&nbsp;whois.o&nbsp;wordlist.o&nbsp;LoadableModule.o&nbsp;LoadableModules.o&nbsp;DiskIO/DiskIOModules_gen.o&nbsp;err_type.o&nbsp;err_detail_type.o&nbsp;globals.o&nbsp;hier_code.o&nbsp;icp_opcode.o&nbsp;lookup_t.o&nbsp;repl_modules.o&nbsp;swap_log_op.o&nbsp;DiskIO/Blocking/BlockingDiskIOModule.o&nbsp;DiskIO/DiskThreads/DiskThreadsDiskIOModule.o&nbsp;DiskIO/IpcIo/IpcIoDiskIOModule.o&nbsp;DiskIO/Mmapped/MmappedDiskIOModule.o&nbsp;-Wl,--export-all-symbols&nbsp;auth/.libs/libacls.a&nbsp;ident/.libs/libident.a&nbsp;acl/.libs/libacls.a&nbsp;acl/.libs/libstate.a&nbsp;auth/.libs/libauth.a&nbsp;libBlocking.a&nbsp;libDiskThreads.a&nbsp;libIpcIo.a&nbsp;libMmapped.a&nbsp;acl/.libs/libapi.a&nbsp;base/.libs/libbase.a&nbsp;./.libs/libsquid.a&nbsp;ip/.libs/libip.a&nbsp;fs/.libs/libfs.a&nbsp;ipc/.libs/libipc.a&nbsp;mgr/.libs/libmgr.a&nbsp;anyp/.libs/libanyp.a&nbsp;comm/.libs/libcomm.a&nbsp;eui/.libs/libeui.a&nbsp;icmp/.libs/libicmp.a&nbsp;icmp/.libs/libicmp-core.a&nbsp;log/.libs/liblog.a&nbsp;format/.libs/libformat.a&nbsp;repl/liblru.a&nbsp;-lpthread&nbsp;-lcrypt&nbsp;adaptation/.libs/libadaptation.a&nbsp;-L/usr/local/lib&nbsp;esi/.libs/libesi.a&nbsp;../lib/libTrie/src/libTrie.a&nbsp;/usr/lib/libexpat.dll.a&nbsp;ssl/.libs/libsslsquid.a&nbsp;ssl/.libs/libsslutil.a&nbsp;snmp/.libs/libsnmp.a&nbsp;../snmplib/libsnmplib.a&nbsp;../lib/.libs/libmisccontainers.a&nbsp;../lib/.libs/libmiscencoding.a&nbsp;../lib/.libs/libmiscutil.a&nbsp;-lssl&nbsp;-lcrypto&nbsp;-L../compat&nbsp;-lcompat-squid&nbsp;-L..&nbsp;/usr/lib/libltdl.dll.a&nbsp;/usr/lib/libecap.dll.a&lt;br&gt;&lt;br&gt; &nbsp;Now,we&nbsp;can&nbsp;get&nbsp;the&nbsp;new&nbsp;squid.exe.&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src/squid-3.3.3-2.i686/src/squid-3.3.3/src&lt;br&gt; &nbsp;$&nbsp;find&nbsp;.&nbsp;-name&nbsp;squid.exe&lt;br&gt; &nbsp;./.libs/squid.exe&lt;br&gt; &nbsp;./squid.exe&lt;br&gt;&lt;br&gt;Compile&nbsp;ecap_adapter_sample-0.2.1&lt;br&gt;Step&nbsp;1:&nbsp;compile&nbsp;ecap-0.2.0&nbsp;as&nbsp;usually.&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/ecap_adapter_sample-0.2.1&lt;br&gt; &nbsp;$&nbsp;./configure&nbsp;&amp;&amp;&nbsp;make&lt;br&gt;&lt;br&gt;Step&nbsp;2:&nbsp;link&nbsp;it&nbsp;by&nbsp;runing&nbsp;command&nbsp;as&nbsp;following.&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/ecap_adapter_sample-0.2.1/src&lt;br&gt; &nbsp;$&nbsp;g++&nbsp;-shared&nbsp;-o&nbsp;cygmodifying.dll&nbsp;-Wl,--out-implib=libmodifying.dll.a&nbsp;-Wl,--export-all-symbols&nbsp;-Wl,--enable-auto-import&nbsp;-Wl,--whole-archive&nbsp;adapter_modifying.o&nbsp;-Wl,--no-whole-archive&nbsp;/usr/lib/libecap.dll.a&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/ecap_adapter_sample-0.2.1/src&lt;br&gt; &nbsp;$&nbsp;g++&nbsp;-shared&nbsp;-o&nbsp;cygrecord.dll&nbsp;-Wl,--out-implib=librecord.dll.a&nbsp;-Wl,--export-all-symbols&nbsp;-Wl,--enable-auto-import&nbsp;-Wl,--whole-archive&nbsp;adapter_passthru.o&nbsp;-Wl,--no-whole-archive&nbsp;/usr/lib/libecap.dll.a&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/ecap_adapter_sample-0.2.1/src&lt;br&gt; &nbsp;$&nbsp;g++&nbsp;-shared&nbsp;-o&nbsp;cygminimal.dll&nbsp;-Wl,--out-implib=librecord.dll.a&nbsp;-Wl,--export-all-symbols&nbsp;-Wl,--enable-auto-import&nbsp;-Wl,--whole-archive&nbsp;adapter_minimal.o&nbsp;-Wl,--no-whole-archive&nbsp;/usr/lib/libecap.dll.a&lt;br&gt;&lt;br&gt;Ok.&nbsp;It&#39;&nbsp;over.&lt;br&gt;&lt;br&gt;Other&lt;br&gt;As&nbsp;you&nbsp;see,&nbsp;we&nbsp;compile&nbsp;squid-3.3.3-2&nbsp;by&nbsp;cygport&nbsp;in&nbsp;the&nbsp;above&nbsp;steps.&nbsp;We&nbsp;also&nbsp;can&nbsp;compile&nbsp;by&nbsp;ourself&nbsp;by&nbsp;parsing&nbsp;squid.cygprot.&nbsp;So,&nbsp;we&nbsp;can&nbsp;control&nbsp;the&nbsp;install&nbsp;dir&nbsp;option&nbsp;etc.&nbsp;Here&nbsp;are&nbsp;my&nbsp;method.&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src/squid-3.3.3-2.i686/src/squid-3.3.3&lt;br&gt; &nbsp;$&nbsp;./configure&nbsp;--prefix=/cygdrive/c/squid&nbsp;--disable-strict-error-checking&nbsp;--enable-ecap&nbsp;--enable-ssl&nbsp;--enable-esi&nbsp;--enable-disk-io=&quot;AIO,Blocking,DiskThreads,IpcIo,Mmapped&quot;&nbsp;--enable-auth-basic=&quot;DB,LDAP,MSNT,MSNT-multi-domain,NCSA,POP3,RADIUS,SASL,SMB,fake,getpwnam&quot;&nbsp;--enable-auth-ntlm=&#39;fake,smb_lm&#39;&nbsp;--enable-auth-negotiate=&#39;kerberos,wrapper&#39;&nbsp;--enable-external-acl-helpers=&#39;LDAP_group,SQL_session,eDirectory_userip,file_userip,kerberos_ldap_group,session,time_quota,unix_group,wbinfo_group&#39;&nbsp;--with-filedescriptors=3072&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src/squid-3.3.3-2.i686/src/squid-3.3.3&lt;br&gt; &nbsp;$&nbsp;./test.sh&lt;br&gt;&lt;br&gt; &nbsp;HDM@HDM-PC&nbsp;/usr/src/squid-3.3.3-2.src/squid-3.3.3-2.i686/src/squid-3.3.3&lt;br&gt; &nbsp;$&nbsp;make&nbsp;&amp;&amp;&nbsp;make&nbsp;install&lt;br&gt;&lt;br&gt; &nbsp;-------------------------test.sh----------------------------------------&lt;br&gt; &nbsp;#!/bin/bash&lt;br&gt;&lt;br&gt; &nbsp;for&nbsp;fn&nbsp;in&nbsp;`find&nbsp;.&nbsp;-name&nbsp;Makefile`&lt;br&gt; &nbsp;do&lt;br&gt; &nbsp; &nbsp;sed&nbsp;-i&nbsp;-e&nbsp;&quot;s#c++0x#gnu++0x#&quot;&nbsp;${fn}&lt;br&gt; &nbsp;done&lt;br&gt; &nbsp;-------------------------test.sh&nbsp;end&nbsp;----------------------------------------&lt;br&gt;&lt;br&gt;Morely,&nbsp;I&nbsp;write&nbsp;link&nbsp;command&nbsp;by&nbsp;myself&nbsp;because&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;well&nbsp;about&nbsp;g++,&nbsp;automake,&nbsp;autoconf.&nbsp;So,&nbsp;maybe&nbsp;someone&nbsp;else&nbsp;can&nbsp;improve&nbsp;it.&nbsp;Thank&nbsp;you.&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
