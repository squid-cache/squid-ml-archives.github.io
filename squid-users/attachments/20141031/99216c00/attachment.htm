<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;for&nbsp;your&nbsp;input. &nbsp;After&nbsp;further&nbsp;testing&nbsp;(which&nbsp;I&nbsp;thought&nbsp;I&nbsp;already&nbsp;tested&nbsp;and&nbsp;determined&nbsp;was&nbsp;not&nbsp;the&nbsp;case...),&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&nbsp;fails&nbsp;any&nbsp;time&nbsp;a&nbsp;certificate&nbsp;is&nbsp;&quot;broken&quot;&nbsp;when&nbsp;using&nbsp;a&nbsp;proxy&nbsp;server&nbsp;even&nbsp;with&nbsp;ssl&nbsp;bumping&nbsp;turned&nbsp;off. &nbsp;If&nbsp;I&nbsp;use&nbsp;a&nbsp;host&nbsp;file&nbsp;to&nbsp;make&nbsp;the&nbsp;cert&nbsp;name&nbsp;not&nbsp;match,&nbsp;I&nbsp;get&nbsp;the&nbsp;same&nbsp;error. &nbsp;Browse&nbsp;to&nbsp;a&nbsp;site&nbsp;with&nbsp;a&nbsp;set&nbsp;signed&nbsp;cert,&nbsp;same&nbsp;error. &nbsp;So&nbsp;this&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;little&nbsp;more&nbsp;generic&nbsp;of&nbsp;an&nbsp;issue&nbsp;than&nbsp;I&nbsp;suspected. &nbsp;I&nbsp;appreciate&nbsp;your&nbsp;feedback. &nbsp;We&#39;ll&nbsp;re-engage&nbsp;Apple&nbsp;with&nbsp;the&nbsp;new&nbsp;details&nbsp;and&nbsp;see&nbsp;how&nbsp;it&nbsp;goes.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;30,&nbsp;2014&nbsp;at&nbsp;9:12&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;<br>
Hash:&nbsp;SHA1&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;31/10/2014&nbsp;8:30&nbsp;a.m.,&nbsp;inetjunkmail&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;We&nbsp;have&nbsp;an&nbsp;explicit&nbsp;squid&nbsp;proxy&nbsp;running&nbsp;ssl&nbsp;bump&nbsp;that&nbsp;works&nbsp;fine&lt;br&gt;<br>
&gt;&nbsp;for&nbsp;iOS&nbsp;7&nbsp;but&nbsp;Safari&nbsp;on&nbsp;iOS&nbsp;8&nbsp;gives&nbsp;an&nbsp;error&nbsp;stating&nbsp;that&nbsp;&quot;There&lt;br&gt;<br>
&gt;&nbsp;was&nbsp;a&nbsp;problem&nbsp;communicating&nbsp;with&nbsp;the&nbsp;secure&nbsp;web&nbsp;proxy&nbsp;server&lt;br&gt;<br>
&gt;&nbsp;(HTTPS).&quot; &nbsp;when&nbsp;browsing&nbsp;to&nbsp;an&nbsp;SSL&nbsp;site&nbsp;that&nbsp;is&nbsp;bumped.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;We&nbsp;can&nbsp;wipe&nbsp;an&nbsp;iOS&nbsp;7&nbsp;device,&nbsp;add&nbsp;the&nbsp;proxy&nbsp;CA&nbsp;to&nbsp;the&nbsp;trust&nbsp;store,&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;successfully&nbsp;browse&nbsp;to&nbsp;an&nbsp;intercepted&nbsp;site. &nbsp;Doing&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;&nbsp;process&nbsp;with&nbsp;iOS&nbsp;8&nbsp;reveals&nbsp;the&nbsp;error.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;error&nbsp;has&nbsp;been&nbsp;reproduced&nbsp;on&nbsp;two&nbsp;other&nbsp;intercepting&nbsp;proxy&lt;br&gt;<br>
&gt;&nbsp;solutions.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Accessing&nbsp;SSL&nbsp;sites&nbsp;directly&nbsp;or&nbsp;non-intercepted&nbsp;is&nbsp;fine&nbsp;even&nbsp;if&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;certificate&nbsp;is&nbsp;self&nbsp;signed&nbsp;or&nbsp;untrusted&nbsp;in&nbsp;any&nbsp;way.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;We&#39;ve&nbsp;tried&nbsp;contacting&nbsp;Apple&nbsp;and&nbsp;they&nbsp;are&nbsp;pressing&nbsp;hard&nbsp;to&nbsp;close&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;case&nbsp;saying&nbsp;that&nbsp;they&nbsp;don&#39;t&nbsp;support&nbsp;interception;&nbsp;contact&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;vendor. &nbsp;The&nbsp;fact&nbsp;that&nbsp;it&nbsp;works&nbsp;fine&nbsp;with&nbsp;iOS&nbsp;7,&nbsp;and&nbsp;the&nbsp;same&nbsp;error&lt;br&gt;<br>
&gt;&nbsp;is&nbsp;reproducible&nbsp;with&nbsp;3&nbsp;separate&nbsp;SSL&nbsp;interception&nbsp;proxies&nbsp;suggests&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;me&nbsp;it&#39;s&nbsp;on&nbsp;them.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Perhapse&nbsp;it&nbsp;is&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;arms-race&nbsp;happening&nbsp;in&nbsp;the&nbsp;SSL/TLS&lt;br&gt;<br>
area.&nbsp;Try&nbsp;upgrading&nbsp;to&nbsp;the&nbsp;latest&nbsp;Squid-3.5&nbsp;and&nbsp;see&nbsp;if&nbsp;the&nbsp;bumping&lt;br&gt;<br>
features&nbsp;there&nbsp;help.&nbsp;We&nbsp;know&nbsp;for&nbsp;certain&nbsp;that&nbsp;the&nbsp;ssl-bump&nbsp;features&nbsp;in&lt;br&gt;<br>
3.2&nbsp;and&nbsp;3.3&nbsp;are&nbsp;useless&nbsp;with&nbsp;a&nbsp;growing&nbsp;number&nbsp;of&nbsp;websites&nbsp;using&nbsp;HSTS&lt;br&gt;<br>
and&nbsp;&quot;cert-pinning&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;I&nbsp;dont&nbsp;think&nbsp;it&nbsp;is&nbsp;that&nbsp;clearly&nbsp;&quot;on&nbsp;them&quot;.&nbsp;Interception&nbsp;*is*&nbsp;an&lt;br&gt;<br>
attack&nbsp;on&nbsp;your&nbsp;users,&nbsp;and&nbsp;illegal&nbsp;in&nbsp;a&nbsp;lot&nbsp;of&nbsp;cases&nbsp;as&nbsp;well.&nbsp;It&nbsp;is&lt;br&gt;<br>
reasonable&nbsp;for&nbsp;them&nbsp;not&nbsp;to&nbsp;support&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;anyone&nbsp;else&nbsp;running&nbsp;into&nbsp;this? &nbsp;Is&nbsp;anyone&nbsp;else&nbsp;working?&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;are&nbsp;the&nbsp;first&nbsp;person&nbsp;noticably&nbsp;involved&nbsp;with&nbsp;MacOS&nbsp;/&nbsp;iOS&nbsp;in&nbsp;any&lt;br&gt;<br>
way&nbsp;to&nbsp;post&nbsp;anything&nbsp;here&nbsp;in&nbsp;a&nbsp;long&nbsp;while.&nbsp;So&nbsp;unless&nbsp;you&nbsp;get&nbsp;a&nbsp;direct&lt;br&gt;<br>
the&nbsp;answer&nbsp;assume&nbsp;it&nbsp;is&nbsp;&quot;none&nbsp;of&nbsp;us&nbsp;use&nbsp;iOS&nbsp;like&nbsp;this&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
Version:&nbsp;GnuPG&nbsp;v2.0.22&nbsp;(MingW32)&lt;br&gt;<br>
&lt;br&gt;<br>
iQEcBAEBAgAGBQJUUuIDAAoJELJo5wb/XPRjSQ4H/iqQu8RtxDTnrx1o9TnCdNDm&lt;br&gt;<br>
g806kzuJ6h1k63oG7MaVlWu0FMkqw0XL1eq1dzqj9gT/qq9xQ08vDh6+TS9l8jn6&lt;br&gt;<br>
oOvUef/5i5FhZ0X7Ixa1d9JNzFLwVeZdrUwwxW3m0cPFMDHonxnJ1vYYk8F7oBlQ&lt;br&gt;<br>
6c1/4teZ4U42JDTKGtTl+rI3HimrcSSnNuMYtyZ5uVooWK3nZcUnGDPjEr0iZXtM&lt;br&gt;<br>
qrQo1H/ZgaVfa0uaBKb2e5sXvBcwtec1kP++v34WY4gIVFzvfor4slMAXhmg3XBV&lt;br&gt;<br>
zBD6sn66Uy6GoAknspvh4N4eQoujdF6GKp44xUk1RvdPb/7We0DwaiJh8iry30Y=&lt;br&gt;<br>
=2lH3&lt;br&gt;<br>
-----END&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
