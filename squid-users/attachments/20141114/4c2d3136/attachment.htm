<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;HI&nbsp;All!!!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;building&nbsp;a&nbsp;system&nbsp;based&nbsp;on&nbsp;squid&nbsp;2.7&nbsp;for&nbsp;cache&nbsp;all&nbsp;software<br>
&nbsp;&nbsp;&nbsp;&nbsp;updates.&nbsp;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;when&nbsp;the&nbsp;origin&nbsp;server&nbsp;response&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;vary:*&nbsp;in&nbsp;header,&nbsp;for&nbsp;example&nbsp;for&nbsp;this&nbsp;url&nbsp;(Chrome&nbsp;updates)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://r20---sn-x1x7sn7r.c.pack.google.com/edgedl/chrome/win/BD7EFFAED0C46EB9/38.0.2125.111_chrome_installer.exe&quot;&gt;http://r20---sn-x1x7sn7r.c.pack.google.com/edgedl/chrome/win/BD7EFFAED0C46EB9/38.0.2125.111_chrome_installer.exe&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Without&nbsp;&nbsp;squid,&nbsp;use&nbsp;direct&nbsp;download,&nbsp;the&nbsp;response&nbsp;header&nbsp;has&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;source&nbsp;&quot;&gt;HTTP/1.1&nbsp;200&nbsp;OK<br>
Accept-Ranges:&nbsp;bytes<br>
Content-Length:&nbsp;41100368<br>
Content-Type:&nbsp;application/x-msdos-program<br>
Etag:&nbsp;&quot;4a5cd&quot;<br>
Server:&nbsp;downloads<br>
Vary:&nbsp;*<br>
x-content-type-options:&nbsp;nosniff<br>
X-Frame-Options:&nbsp;SAMEORIGIN<br>
X-XSS-Protection:&nbsp;1;&nbsp;mode=block<br>
Date:&nbsp;Sat,&nbsp;08&nbsp;Nov&nbsp;2014&nbsp;05:41:10&nbsp;GMT<br>
Alternate-Protocol:&nbsp;80:quic,p=0.01<br>
Last-Modified:&nbsp;Mon,&nbsp;27&nbsp;Oct&nbsp;2014&nbsp;18:10:00&nbsp;GMT<br>
Connection:&nbsp;keep-alive&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;i&nbsp;use&nbsp;Squid&nbsp;in&nbsp;transparent&nbsp;proxy&nbsp;mode&nbsp;in&nbsp;the&nbsp;middle,&nbsp;i&nbsp;don't&nbsp;have<br>
&nbsp;&nbsp;&nbsp;&nbsp;hits&nbsp;for&nbsp;this&nbsp;url.&nbsp;&iquest;Can&nbsp;squid&nbsp;ignore&nbsp;the&nbsp;Vary&nbsp;header&nbsp;for&nbsp;store<br>
&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;in&nbsp;cache?&nbsp;Of&nbsp;course&nbsp;my&nbsp;refresh&nbsp;pattern&nbsp;has&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Cache&nbsp;Update&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;refresh_pattern&nbsp;-i&nbsp;pack\.google\.com\/.*\.(exe|crx)&nbsp;10080&nbsp;80%&nbsp;43200<br>
&nbsp;&nbsp;&nbsp;&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;&nbsp;ignore-reload<br>
&nbsp;&nbsp;&nbsp;&nbsp;reload-into-ims&nbsp;ignore-private&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#Specific&nbsp;App&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;refresh_pattern&nbsp;-i<br>
&nbsp;&nbsp;&nbsp;&nbsp;\.(deb|rpm|exe|zip|tar|tgz|ram|rar|bin|ppt|doc|pdf|tiff)$&nbsp;10080&nbsp;90%<br>
&nbsp;&nbsp;&nbsp;&nbsp;43200&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-private&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;in&nbsp;Advance,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ulises&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
