<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;everyone,&lt;br&gt;first&nbsp;of&nbsp;all&nbsp;thanks&nbsp;to&nbsp;the&nbsp;community&nbsp;of&nbsp;squid&nbsp;for&nbsp;such&nbsp;a&nbsp;great&nbsp;job.&lt;br&gt;&lt;br&gt;I&#39;m&nbsp;writing&nbsp;because&nbsp;I&nbsp;have&nbsp;to&nbsp;revise&nbsp;the&nbsp;current&nbsp;implementation&nbsp;of&nbsp;squid&nbsp;in&nbsp;my&nbsp;company&nbsp;so&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;share&nbsp;with&nbsp;you&nbsp;some&nbsp;design&nbsp;ideas&nbsp;and&nbsp;possibly&nbsp;have&nbsp;some&nbsp;suggestions&nbsp;from&nbsp;you.&lt;br&gt;&lt;br&gt;The&nbsp;group&nbsp;I&nbsp;work&nbsp;for&nbsp;has&nbsp;six&nbsp;offices/branches&nbsp;in&nbsp;six&nbsp;different&nbsp;italian&nbsp;cities&nbsp;and&nbsp;the&nbsp;networking&nbsp;infrastructure&nbsp;is&nbsp;based&nbsp;on&nbsp;a&nbsp;&quot;hub&nbsp;and&nbsp;spoke&quot;&nbsp;paradgima&nbsp;(ie&nbsp;&lt;a&nbsp;href=&quot;https://www.checkpoint.com/products/vpn-1_power/images/vpn&quot;&gt;https://www.checkpoint.com/products/vpn-1_power/images/vpn&lt;/a&gt;&nbsp;-1_pro_oneclick_star.gif)&nbsp;where&nbsp;every&nbsp;branch,&nbsp;the&nbsp;spoke,&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;main&nbsp;datacenter,&nbsp;the&nbsp;hub.&lt;br&gt;Now&nbsp;the&nbsp;cache/forward&nbsp;proxy&nbsp;runs&nbsp;-&nbsp;for&nbsp;each&nbsp;branch&nbsp;-&nbsp;inside&nbsp;the&nbsp;branch&nbsp;office&nbsp;on&nbsp;a&nbsp;pair&nbsp;of&nbsp;squid&nbsp;nodes&nbsp;balanced&nbsp;by&nbsp;wpad/javascript&nbsp;on&nbsp;ip&nbsp;address&nbsp;base&nbsp;(even&nbsp;ip/odd&nbsp;ip).&lt;br&gt;&lt;br&gt;For&nbsp;obvious&nbsp;reasons&nbsp;of&nbsp;maintenance&nbsp;and&nbsp;for&nbsp;other&nbsp;technical&nbsp;reasons&nbsp;we&nbsp;intend&nbsp;to&nbsp;move&nbsp;the&nbsp;proxy&nbsp;navigation&nbsp;centralizing&nbsp;it&nbsp;to&nbsp;the&nbsp;datacenter&nbsp;hub&nbsp;on&nbsp;a&nbsp;couple&nbsp;(how&nbsp;many?!)&nbsp;of&nbsp;squid&nbsp;nodes.&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;some&nbsp;questions&nbsp;that&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;share&nbsp;with&nbsp;you:&lt;br&gt;&lt;br&gt;1.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;leave&nbsp;the&nbsp;solution&nbsp;we&nbsp;are&nbsp;using&nbsp;now&nbsp;(wpad&nbsp;balancing).&nbsp;In&nbsp;a&nbsp;situation&nbsp;like&nbsp;the&nbsp;one&nbsp;I&nbsp;have&nbsp;described,&nbsp;centralized&nbsp;squid&nbsp;serving&nbsp;the&nbsp;spokes/branches,&nbsp;which&nbsp;is&nbsp;the&nbsp;best&nbsp;solution&nbsp;for&nbsp;clustering/HA?&nbsp;If&nbsp;one&nbsp;of&nbsp;the&nbsp;centralized&nbsp;nodes&nbsp;had&nbsp;to&nbsp;&quot;die&quot;&nbsp;I&nbsp;would&nbsp;like&nbsp;client&nbsp;machines&nbsp;not&nbsp;to&nbsp;remain&nbsp;&quot;hanging&quot;&nbsp;but&nbsp;to&nbsp;continue&nbsp;working&nbsp;on&nbsp;an&nbsp;active&nbsp;node&nbsp;without&nbsp;disruption.&nbsp;A&nbsp;hierarchy&nbsp;of&nbsp;proxy&nbsp;would&nbsp;be&nbsp;the&nbsp;solution?&lt;br&gt;&lt;br&gt;2.&nbsp;Bearing&nbsp;in&nbsp;mind&nbsp;that&nbsp;all&nbsp;users&nbsp;will&nbsp;be&nbsp;AD&nbsp;authenticated,&nbsp;which&nbsp;url&nbsp;filtering/blacklist&nbsp;solution&nbsp;do&nbsp;you&nbsp;suggest?&lt;br&gt;In&nbsp;the&nbsp;past&nbsp;I&nbsp;have&nbsp;worked&nbsp;a&nbsp;lot&nbsp;with&nbsp;squidguard&nbsp;and&nbsp;dansguardian&nbsp;but&nbsp;now&nbsp;they&nbsp;don&#39;t&nbsp;seem&nbsp;to&nbsp;be&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;art&nbsp;anymore.&nbsp;&lt;br&gt;I&#39;ve&nbsp;been&nbsp;thinking&nbsp;about&nbsp;two&nbsp;different&nbsp;solutions:&lt;br&gt; &nbsp;2a.&nbsp;To&nbsp;use&nbsp;the&nbsp;native&nbsp;acl&nbsp;squid&nbsp;with&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://squidblacklist.org&quot;&gt;squidblacklist.org&lt;/a&gt;&nbsp;lists&nbsp;(&lt;a&nbsp;href=&quot;http://www.squidblacklist.org/&quot;&gt;http://www.squidblacklist.org/&lt;/a&gt;)&lt;br&gt; &nbsp;2b.&nbsp;To&nbsp;use&nbsp;urlfilterdb&nbsp;(&lt;a&nbsp;href=&quot;http://www.urlfilterdb.com/products/overview.html&quot;&gt;http://www.urlfilterdb.com/products/overview.html&lt;/a&gt;)&lt;br&gt;&lt;br&gt;3.&nbsp;Which&nbsp;GNU/Linux&nbsp;distro&nbsp;do&nbsp;you&nbsp;suggest&nbsp;me?&nbsp;I&nbsp;was&nbsp;thinking&nbsp;about&nbsp;Debian&nbsp;Jessie&nbsp;(just&nbsp;frozen)&nbsp;or&nbsp;CentOS7.&nbsp;&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;to&nbsp;everyone&nbsp;for&nbsp;reading&nbsp;so&nbsp;far.&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;a.&lt;br&gt;&lt;/div&gt;<br>

</tt>
