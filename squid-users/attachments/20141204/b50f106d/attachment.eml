[From nobody Thu Jan  9 08:27:17 2025
X-Envelope-From: &lt;gcwsg-squid-users@m.gmane.org&gt;
X-Envelope-To: &lt;squid-users@squid-cache.org&gt;
Received: from plane.gmane.org (unknown)
 by lists.squid-cache.org(Postfix 2.11.0/8.13.0) with SMTP id unknown
 Thu, 04 Dec 2014 15:35:23 +0000
 (envelope-from &lt;gcwsg-squid-users@m.gmane.org&gt;
Received: from list by plane.gmane.org with local (Exim 4.69)
 (envelope-from &lt;gcwsg-squid-users@m.gmane.org&gt;) id 1XwYOj-0000DG-Bh
 for squid-users@squid-cache.org; Thu, 04 Dec 2014 16:32:53 +0100
Received: from 192-0-186-121.cpe.teksavvy.com ([192.0.186.121])
 by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
 id 1AlnuQ-0007hv-00
 for &lt;squid-users@squid-cache.org&gt;; Thu, 04 Dec 2014 16:32:53 +0100
Received: from signup_mail2002 by 192-0-186-121.cpe.teksavvy.com with local
 (Gmexim 0.1 (Debian)) id 1AlnuQ-0007hv-00
 for &lt;squid-users@squid-cache.org&gt;; Thu, 04 Dec 2014 16:32:53 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: squid-users@squid-cache.org
From: WorkingMan &lt;signup_mail2002@yahoo.com&gt;
Subject: =?utf-8?b?c3NsY3J0dmFsaWRhdG9yX3Byb2dyYW0=?=
Date: Thu, 4 Dec 2014 15:32:41 +0000 (UTC)
Lines: 29
Message-ID: &lt;loom.20141204T162921-494@post.gmane.org&gt;
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 192.0.186.121 (Mozilla/5.0 (Windows NT 6.3;
 WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71
 Safari/537.36)

I hope it's not a duplicate post since my last post was marked as spam for 
some reason.

I am using sample validator script called cert_valid.pl. Everything is 
working as is (I can see stuff in the log in debug mode) but I could not 
change the behavior when there is an error.

For example when I receive an error 
(X509_V_ERR_UNABLE_TO_VERIFY_LEAF_SIGNATURE) that I want to return OK 
instead of ERR but SQUID still shows the error page in the browser.

I made both cases return OK just to see if from validator I can change 
SQUID behavior so we can customize the result.

      $response = &quot;&quot;;
        my $len = length($response);
        if ($haserror) {
            $response = $channelId.&quot; OK &quot;.$len.&quot; &quot;.$response.&quot;\1&quot;;
        } else {
            $response = $channelId.&quot; OK &quot;.$len.&quot; &quot;.$response.&quot;\1&quot;;
        }

Let me know if there is a way to modify SQUID behavior from the validator 
program. Based on docs it appears that SQUID remembers the SSL errors. I 
was wondering if there was logic to remove the error and allow client to 
proceed when the validator returns OK even if there was an error during 
SQUID validation.

Thanks

]