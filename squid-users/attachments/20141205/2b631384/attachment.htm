<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello&nbsp;Squid,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;trying&nbsp;the&nbsp;sslBump&nbsp;and&nbsp;just&nbsp;following&nbsp;the&nbsp;doc,&nbsp;i&nbsp;tried&nbsp;to&nbsp;also&nbsp;some&nbsp;random&nbsp;tutorial&nbsp;on&nbsp;the&nbsp;web&nbsp;that&nbsp;mostly&nbsp;looks&nbsp;like&nbsp;copy&nbsp;pasta&nbsp;of&nbsp;the&nbsp;wiki.&nbsp;All&nbsp;i&nbsp;got&nbsp;is&nbsp;a&nbsp;FATAL.&nbsp;..&nbsp;.&nbsp;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.472|&nbsp;src/ssl/support.cc(1584)&nbsp;readSslX509CertificatesChain:&nbsp;Certificate&nbsp;is&nbsp;self-signed,&nbsp;will&nbsp;not&lt;/div&gt;&lt;div&gt; be&nbsp;chained&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.500|&nbsp;src/ssl/support.cc(1446)&nbsp;contextMethod:&nbsp;Using&nbsp;SSLv2/SSLv3.&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.500|&nbsp;src/ssl/support.cc(857)&nbsp;configureSslContext:&nbsp;Setting&nbsp;RSA&nbsp;key&nbsp;generation&nbsp;callback.&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.500|&nbsp;src/ssl/support.cc(860)&nbsp;configureSslContext:&nbsp;Setting&nbsp;CA&nbsp;certificate&nbsp;locations.&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.505|&nbsp;src/ssl/support.cc(903)&nbsp;configureSslContext:&nbsp;Not&nbsp;requiring&nbsp;any&nbsp;client&nbsp;certificates&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.505|&nbsp;Initializing&nbsp;https_port&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0:3129&quot;&gt;0.0.0.0:3129&lt;/a&gt;&nbsp;SSL&nbsp;context&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.505|&nbsp;src/tools.cc(564)&nbsp;leave_suid:&nbsp;leave_suid:&nbsp;PID&nbsp;10872&nbsp;called&lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.505|&nbsp;src/tools.cc(586)&nbsp;leave_suid:&nbsp;leave_suid:&nbsp;PID&nbsp;10872&nbsp;giving&nbsp;up&nbsp;root,&nbsp;becoming&nbsp;&#39;_squid&#39;&lt;/div&gt;&lt;div&gt;FATAL:&nbsp;No&nbsp;valid&nbsp;signing&nbsp;SSL&nbsp;certificate&nbsp;configured&nbsp;for&nbsp;HTTPS_port&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0:3129&quot;&gt;0.0.0.0:3129&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Squid&nbsp;Cache&nbsp;(Version&nbsp;3.HEAD-20140626-r13480):&nbsp;Terminated&nbsp;abnormally.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;my&nbsp;certificates&nbsp;are&nbsp;all&nbsp;right &lt;/div&gt;&lt;div&gt;2014/12/05&nbsp;17:07:24.505|&nbsp;Initializing&nbsp;https_port&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0:3129&quot;&gt;0.0.0.0:3129&lt;/a&gt;&nbsp;SSL&nbsp;context&lt;br&gt;&lt;/div&gt;&lt;div&gt;but&nbsp;sundenly&nbsp;they&nbsp;are&nbsp;i&nbsp;dont&nbsp;recheck&nbsp;or&nbsp;something&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;the&nbsp;only&nbsp;non&nbsp;logged&nbsp;code&nbsp;i&nbsp;see&nbsp;is&nbsp;this&nbsp;one&nbsp;:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp;if&nbsp;(!pkey&nbsp;||&nbsp;!cert&nbsp;||&nbsp;!X509_check_private_key(cert.get(),&nbsp;pkey.get()))&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;pkey.reset(NULL);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;cert.reset(NULL);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;i&nbsp;swear&nbsp;i&nbsp;follow&nbsp;the&nbsp;doc&nbsp;and&nbsp;create&nbsp;the&nbsp;certificate&nbsp;normally.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;particular&nbsp;CN&nbsp;to&nbsp;use&nbsp;?&lt;/div&gt;&lt;div&gt;Shall&nbsp;i&nbsp;emit&nbsp;a&nbsp;self&nbsp;signed&nbsp;root&nbsp;and&nbsp;then&nbsp;another&nbsp;certificate&nbsp;for&nbsp;the&nbsp;proxy&nbsp;???&nbsp;is&nbsp;this&nbsp;error&nbsp;not&nbsp;related&nbsp;at&nbsp;all&nbsp;?&nbsp;with&nbsp;the&nbsp;certificate&nbsp;on&nbsp;the&nbsp;sslbump&nbsp;lines&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Conf:&lt;/div&gt;&lt;div&gt;#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;/div&gt;&lt;div&gt;http_port&nbsp;3128&lt;/div&gt;&lt;div&gt;https_port&nbsp;3129&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=2MB&nbsp; cert=/etc/squid/sq&lt;/div&gt;&lt;div&gt;uid-proxy.crt&nbsp; key=/etc/squid/squid-proxy.key&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#&nbsp;dont&nbsp;forget&nbsp;ssl_crtd&nbsp;-c&nbsp;-s&nbsp;/var/db/squid/ssl&nbsp;when&nbsp;setup&lt;/div&gt;&lt;div&gt;always_direct&nbsp;allow&nbsp;all&lt;/div&gt;&lt;div&gt;ssl_bump&nbsp;client-first&nbsp; all&lt;/div&gt;&lt;div&gt;sslproxy_cert_error&nbsp;allow&nbsp;all&lt;/div&gt;&lt;div&gt;#&nbsp;Or&nbsp;may&nbsp;be&nbsp;deny&nbsp;all&nbsp;according&nbsp;to&nbsp;your&nbsp;company&nbsp;policy&lt;/div&gt;&lt;div&gt;#&nbsp;sslproxy_cert_error&nbsp;deny&nbsp;all&lt;/div&gt;&lt;div&gt;sslproxy_flags&nbsp;DONT_VERIFY_PEER&lt;/div&gt;&lt;div&gt;sslcrtd_program&nbsp;/usr/local/bin/ssl_crtd&nbsp;-s&nbsp;/var/db/squid/ssl&nbsp;-M&nbsp;2MB&lt;/div&gt;&lt;div&gt;sslcrtd_children&nbsp;5&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Info:&lt;/div&gt;&lt;div&gt;&lt;div&gt; #&nbsp;ls&nbsp;/var/db/squid/ssl&lt;/div&gt;&lt;div&gt;certs&nbsp; &nbsp; &nbsp;index.txt&nbsp;size&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&gt;---------------------------------------------------------------------------------------------------------------------&lt;br&gt;()&nbsp;ascii&nbsp;ribbon&nbsp;campaign&nbsp;-&nbsp;against&nbsp;html&nbsp;e-mail &lt;br&gt;/\ &lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
