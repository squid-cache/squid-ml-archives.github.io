<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Amos,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;it&nbsp;uses&nbsp;a&nbsp;posix&nbsp;resolver&nbsp;for&nbsp;that,&nbsp;because&nbsp;it&nbsp;cannot&nbsp;find&nbsp;the&nbsp;native&nbsp;implementation.&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;em&gt;configure:37657:&nbsp;checking&nbsp;for&nbsp;getaddrinfo&lt;br&gt;configure:37657:&nbsp;x86_64-w64-mingw32-g++&nbsp;-o&nbsp;conftest.exe&nbsp;-DWINVER=0x601&nbsp;-D_WIN32_WINNT=0x601&nbsp;-fpermissive&nbsp;-L/usr/lib&nbsp;-mthreads&nbsp;-static-libgcc&nbsp;-static-libstdc++&nbsp;&nbsp;-g&nbsp;conftest.cpp&nbsp;&nbsp;-lpsapi&nbsp;&gt;&amp;5&lt;br&gt;/tmp/cckciKLu.o:&nbsp;In&nbsp;function&nbsp;`main':&lt;br&gt;/usr/src/squid-3.5.0.3-20141209-r13687/conftest.cpp:204:&nbsp;undefined&nbsp;reference&nbsp;to&nbsp;`getaddrinfo'&lt;br&gt;collect2:&nbsp;error:&nbsp;ld&nbsp;returned&nbsp;1&nbsp;exit&nbsp;status&lt;br&gt;configure:37657:&nbsp;$?&nbsp;=&nbsp;1&lt;/em&gt;&lt;/div&gt;&lt;div&gt;&lt;table&nbsp;cellpadding=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;em&gt;&lt;/em&gt;&nbsp;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;expected?&nbsp;If&nbsp;not,&nbsp;I&nbsp;will&nbsp;look&nbsp;how&nbsp;I&nbsp;can&nbsp;enable&nbsp;the&nbsp;native&nbsp;implementation.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you!&lt;br&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Date:&nbsp;Fri,&nbsp;19&nbsp;Dec&nbsp;2014&nbsp;16:08:03&nbsp;+1300&lt;br&gt;&gt;&nbsp;From:&nbsp;squid3@treenet.co.nz&lt;br&gt;&gt;&nbsp;To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Problem&nbsp;with&nbsp;running&nbsp;squid&nbsp;3.5&nbsp;on&nbsp;windows&nbsp;7&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;&gt;&nbsp;Hash:&nbsp;SHA1&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;On&nbsp;19/12/2014&nbsp;12:32&nbsp;p.m.,&nbsp;Eldar&nbsp;Akchurin&nbsp;wrote:&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Hi,&nbsp;I&nbsp;have&nbsp;cross-compiled&nbsp;squid&nbsp;3.5&nbsp;with&nbsp;mingw32-w64&nbsp;on&nbsp;Ubuntu.&nbsp;The&lt;br&gt;&gt;&nbsp;&gt;&nbsp;properties&nbsp;are:&nbsp;c:\squid\sbin&gt;squid&nbsp;-v&nbsp;Squid&nbsp;Cache:&nbsp;Version&lt;br&gt;&gt;&nbsp;&gt;&nbsp;3.5.0.3-20141209-r13687&nbsp;Service&nbsp;Name:&nbsp;squid&nbsp;Test&nbsp;build&nbsp;configure&lt;br&gt;&gt;&nbsp;&gt;&nbsp;options:&nbsp;&nbsp;'--host=i686-w64-mingw32'&nbsp;'--prefix=c:/squid'&lt;br&gt;&gt;&nbsp;&gt;&nbsp;'CXXFLAGS=-DWI&nbsp;NVER=0x601&nbsp;-D_WIN32_WINNT=0x601&nbsp;-fpermissive'&lt;br&gt;&gt;&nbsp;&gt;&nbsp;'CFLAGS=-DWINVER=0x601&nbsp;-D_WIN32_WI&nbsp;NNT=0x601&nbsp;-fpermissive'&lt;br&gt;&gt;&nbsp;&gt;&nbsp;'BUILDCXX=g++'&nbsp;'BUILDCXXFLAGS=-DFOO'&nbsp;'--enable-build-inf&nbsp;o=Test&lt;br&gt;&gt;&nbsp;&gt;&nbsp;build'&nbsp;'host_alias=i686-w64-mingw32'&nbsp;--enable-ltdl-convenience&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;When&nbsp;I&nbsp;try&nbsp;to&nbsp;run&nbsp;it&nbsp;on&nbsp;windows&nbsp;7&nbsp;64,&nbsp;it&nbsp;gives&nbsp;a&nbsp;critical&nbsp;error&nbsp;at&lt;br&gt;&gt;&nbsp;&gt;&nbsp;start,&nbsp;below&nbsp;is&nbsp;the&nbsp;debug&nbsp;trace&lt;br&gt;&gt;&nbsp;&lt;snip&gt;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;2014/12/19&nbsp;00:17:40.171|&nbsp;Address.cc(379)&nbsp;lookupHostIP:&nbsp;Given&nbsp;Non-IP&lt;br&gt;&gt;&nbsp;&gt;&nbsp;'127.0.0.1':&nbsp;No&nbsp;such&nbsp;host&nbsp;is&nbsp;known.&nbsp;2014/12/19&nbsp;00:17:40.171|&lt;br&gt;&gt;&nbsp;&gt;&nbsp;aclIpParseIpData:&nbsp;unknown&nbsp;first&nbsp;address&nbsp;in&nbsp;'127.0.0.1/3&nbsp;2'&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;2014/12/19&nbsp;00:17:40.171|&nbsp;tools.cc(543)&nbsp;leave_suid:&nbsp;leave_suid:&nbsp;PID&lt;br&gt;&gt;&nbsp;&gt;&nbsp;4792&nbsp;called&nbsp;FATAL:&nbsp;Bungled&nbsp;Default&nbsp;Configuration&nbsp;line&nbsp;6:&nbsp;acl&lt;br&gt;&gt;&nbsp;&gt;&nbsp;localhost&nbsp;src&nbsp;127.0.0.1/32&nbsp;::1&nbsp;Squid&nbsp;Cache&nbsp;(Version&lt;br&gt;&gt;&nbsp;&gt;&nbsp;3.5.0.3-20141209-r13687):&nbsp;Terminated&nbsp;abnormally.&nbsp;CPU&nbsp;Usage:&nbsp;0.000&lt;br&gt;&gt;&nbsp;&gt;&nbsp;seconds&nbsp;=&nbsp;0.000&nbsp;user&nbsp;+&nbsp;0.000&nbsp;sys&nbsp;Maximum&nbsp;Resident&nbsp;Size:&nbsp;0&nbsp;KB&nbsp;Page&lt;br&gt;&gt;&nbsp;&gt;&nbsp;faults&nbsp;with&nbsp;physical&nbsp;i/o:&nbsp;0&nbsp;Could&nbsp;you&nbsp;please&nbsp;advice&nbsp;what&nbsp;I'm&nbsp;doing&lt;br&gt;&gt;&nbsp;&gt;&nbsp;wrong&nbsp;or&nbsp;whether&nbsp;this&nbsp;is&nbsp;a&nbsp;bug?&nbsp;Thank&nbsp;you!-eAdd&nbsp;to&nbsp;Calendar&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Thank&nbsp;you&nbsp;for&nbsp;testing&nbsp;this&nbsp;all&nbsp;out&nbsp;Eldar.&nbsp;It&nbsp;seems&nbsp;you&nbsp;have&nbsp;gotten&nbsp;a&lt;br&gt;&gt;&nbsp;little&nbsp;further&nbsp;than&nbsp;I&nbsp;have&nbsp;with&nbsp;this&nbsp;(I&nbsp;diverted&nbsp;to&nbsp;working&nbsp;on&nbsp;native&lt;br&gt;&gt;&nbsp;MinGW&nbsp;build&nbsp;issues).&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;bug.&nbsp;Though&nbsp;where&nbsp;it&nbsp;is&nbsp;coming&nbsp;from&nbsp;is&nbsp;still&nbsp;unknown.&nbsp;The&lt;br&gt;&gt;&nbsp;operation&nbsp;being&nbsp;performed&nbsp;is&nbsp;that&nbsp;Squid&nbsp;is&nbsp;passing&nbsp;the&nbsp;IP&nbsp;text&nbsp;string&lt;br&gt;&gt;&nbsp;to&nbsp;the&nbsp;system&nbsp;getaddrinfo()&nbsp;resolver&nbsp;API&nbsp;for&nbsp;conversion&nbsp;to&nbsp;a&nbsp;number.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;First&nbsp;thing&nbsp;to&nbsp;check&nbsp;is&nbsp;whether&nbsp;Squid&nbsp;is&nbsp;actually&nbsp;using&nbsp;the&nbsp;native&nbsp;OS&lt;br&gt;&gt;&nbsp;API&nbsp;or&nbsp;the&nbsp;stub&nbsp;replacement&nbsp;bundled&nbsp;in&nbsp;compat/.&nbsp;The&nbsp;config.log&nbsp;file&lt;br&gt;&gt;&nbsp;generated&nbsp;during&nbsp;build&nbsp;will&nbsp;have&nbsp;an&nbsp;entry&nbsp;indicating&nbsp;whether&lt;br&gt;&gt;&nbsp;getaddrinfo()&nbsp;was&nbsp;found&nbsp;or&nbsp;not&nbsp;in&nbsp;the&nbsp;MinGW&nbsp;headers.&nbsp;If&nbsp;the&nbsp;detection&lt;br&gt;&gt;&nbsp;failed&nbsp;there&nbsp;will&nbsp;be&nbsp;some&nbsp;debug&nbsp;info&nbsp;about&nbsp;what&nbsp;broke.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Amos&lt;br&gt;&gt;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;&gt;&nbsp;Version:&nbsp;GnuPG&nbsp;v2.0.22&nbsp;(MingW32)&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;iQEcBAEBAgAGBQJUk5aTAAoJELJo5wb/XPRjiLkIAL0nS83JZLdTV7DfMFsDFqRJ&lt;br&gt;&gt;&nbsp;yU7rFKWwqXp8P64K5Woedwga4JMpUrkxvbQ1t+wqS3mKWX3hJ72+M71juVeyt7pr&lt;br&gt;&gt;&nbsp;pMZYGkoSZNXwhh/i73BxH2hVX7lysI8WKUw0NgBW7cZYe7KleLIODf8GWQhmXhJi&lt;br&gt;&gt;&nbsp;vQh5uAfeYO6W/V+wwiRpY47H49yuU3UpypzsZ4P2i88+QvKZaef0T4ZJN8Wlresg&lt;br&gt;&gt;&nbsp;ldc7vwBTqQ7p810s87dUrYAuCYZJKqYj/cQnUX86dEgkfxZSPwbDHS8qQdUxAvMb&lt;br&gt;&gt;&nbsp;DqIZRp+H7hdO2DK1Sh1FCwyDEEbkuc0O/GurH6Nnw9IVpSAmWr4l8l82WdDXd4o=&lt;br&gt;&gt;&nbsp;=4unG&lt;br&gt;&gt;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&gt;&nbsp;http://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
