<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;Hi&nbsp;Amos,&lt;br&gt;&nbsp;&lt;br&gt;I'm&nbsp;continuing&nbsp;trying&nbsp;to&nbsp;make&nbsp;it&nbsp;run&nbsp;on&nbsp;64&nbsp;bit&nbsp;windows.&lt;br&gt;I&nbsp;bumped&nbsp;into&nbsp;the&nbsp;following&nbsp;compilation&nbsp;error:&lt;br&gt;&nbsp;&lt;br&gt;&lt;font&nbsp;size=&quot;1&quot;&gt;ipc_win32.cc:720:38:&nbsp;error:&nbsp;call&nbsp;of&nbsp;overloaded&nbsp;‘write(int&amp;,&nbsp;char*&amp;,&nbsp;ssize_t&amp;)’&nbsp;is&nbsp;ambiguous&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;write(c2p[1],&nbsp;buf1,&nbsp;x);&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&lt;br&gt;&lt;br&gt;ipc_win32.cc:720:38:&nbsp;note:&nbsp;candidates&nbsp;are:&lt;br&gt;&lt;br&gt;In&nbsp;file&nbsp;included&nbsp;from&nbsp;/usr/x86_64-w64-mingw32/sys-root/mingw/include/direct.h:10:0,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;../compat/os/mswindows.h:38,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;../compat/compat.h:73,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;../include/squid.h:43,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;ipc_win32.cc:11:&lt;br&gt;&lt;br&gt;/usr/x86_64-w64-mingw32/sys-root/mingw/include/io.h:329:15:&nbsp;note:&nbsp;int&nbsp;write(int,&nbsp;const&nbsp;void*,&nbsp;unsigned&nbsp;int)&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;int&nbsp;__cdecl&nbsp;write(int&nbsp;_Filehandle,const&nbsp;void&nbsp;*_Buf,unsigned&nbsp;int&nbsp;_MaxCharCount)&nbsp;__MINGW_ATTRIB_DEPRECATED_MSVC2005;&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&lt;br&gt;&lt;br&gt;In&nbsp;file&nbsp;included&nbsp;from&nbsp;../compat/compat.h:73:0,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;../include/squid.h:43,&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;ipc_win32.cc:11:&lt;br&gt;&lt;br&gt;../compat/os/mswindows.h:486:1:&nbsp;note:&nbsp;int&nbsp;write(int,&nbsp;const&nbsp;void*,&nbsp;size_t)&lt;br&gt;&lt;br&gt;&lt;font&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;0);&quot;&gt;write(int&nbsp;fd,&nbsp;const&nbsp;void&nbsp;*&nbsp;buf,&nbsp;size_t&nbsp;siz)&lt;/font&gt;&lt;br&gt;&lt;br&gt;&nbsp;^&lt;br&gt;&lt;br&gt;Makefile:7011:&nbsp;recipe&nbsp;for&nbsp;target&nbsp;'ipc_win32.o'&nbsp;failed&lt;br&gt;&lt;/font&gt;&nbsp;&lt;br&gt;&nbsp;&lt;br&gt;I&nbsp;suppose&nbsp;I&nbsp;need&nbsp;to&nbsp;use&nbsp;&lt;font&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;0);&quot;&gt;the&nbsp;second&nbsp;one&lt;/font&gt;,&nbsp;right&nbsp;(the&nbsp;first&nbsp;one&nbsp;seems&nbsp;deprecated)?&nbsp;&lt;br&gt;As&nbsp;soon&nbsp;as&nbsp;I&nbsp;make&nbsp;it&nbsp;run,&nbsp;I&nbsp;will&nbsp;send&nbsp;you&nbsp;a&nbsp;patch.&lt;br&gt;&nbsp;&lt;br&gt;Thank&nbsp;you!&lt;br&gt;&nbsp;&lt;br&gt;--e&lt;br&gt;&nbsp;&lt;BR&gt;&lt;div&gt;&gt;&nbsp;Date:&nbsp;Sun,&nbsp;21&nbsp;Dec&nbsp;2014&nbsp;16:43:35&nbsp;+1300&lt;br&gt;&gt;&nbsp;From:&nbsp;squid3@treenet.co.nz&lt;br&gt;&gt;&nbsp;To:&nbsp;al.akchurin@hotmail.com;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Problem&nbsp;with&nbsp;running&nbsp;squid&nbsp;3.5&nbsp;on&nbsp;windows&nbsp;7&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;&gt;&nbsp;Hash:&nbsp;SHA1&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;On&nbsp;21/12/2014&nbsp;11:58&nbsp;a.m.,&nbsp;Eldar&nbsp;Akchurin&nbsp;wrote:&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Hi&nbsp;Amos,&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Hmm,&nbsp;after&nbsp;checking&nbsp;I&nbsp;found&nbsp;out&nbsp;that&nbsp;this&nbsp;fix&nbsp;works&nbsp;only&nbsp;for&nbsp;64&lt;br&gt;&gt;&nbsp;&gt;&nbsp;bit.&nbsp;When&nbsp;I&nbsp;try&nbsp;this&nbsp;on&nbsp;32,&nbsp;both&nbsp;mingw&nbsp;on&nbsp;Cygwin&nbsp;and&nbsp;Ubuntu&nbsp;cannot&lt;br&gt;&gt;&nbsp;&gt;&nbsp;identify&nbsp;presence&nbsp;of&nbsp;getaddrinfo.&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;It&nbsp;seems&nbsp;the&nbsp;32&nbsp;bit&nbsp;version&nbsp;of&nbsp;libws2_32&nbsp;is&nbsp;compiled&nbsp;with&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&quot;stdcall&quot;,&nbsp;i.e.&nbsp;the&nbsp;following&nbsp;works:&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;#ifdef&nbsp;__cplusplus&nbsp;extern&nbsp;&quot;C&quot;&nbsp;#endif&nbsp;char&lt;br&gt;&gt;&nbsp;&gt;&nbsp;__attribute__((__stdcall__))&nbsp;getaddrinfo(int,&nbsp;int,&nbsp;int,&nbsp;int);&nbsp;//&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;//&nbsp;AUTOCONF&nbsp;tries&nbsp;out&nbsp;the&nbsp;below&nbsp;one&nbsp;(which&nbsp;does&nbsp;not&nbsp;mingle&nbsp;@16)&nbsp;//&lt;br&gt;&gt;&nbsp;&gt;&nbsp;char&nbsp;getaddrinfo();&nbsp;//&nbsp;return&nbsp;getaddrinfo();&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;int&nbsp;main&nbsp;()&nbsp;{&nbsp;return&nbsp;getaddrinfo(0,0,0,0);&nbsp;;&nbsp;return&nbsp;0;&nbsp;}&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;also&nbsp;found&nbsp;the&nbsp;following&nbsp;report,&nbsp;which&nbsp;kind&nbsp;of&nbsp;confirms&nbsp;what&nbsp;I&lt;br&gt;&gt;&nbsp;&gt;&nbsp;see&nbsp;(https://patches.libav.org/patch/545/):&nbsp;This&nbsp;moves&lt;br&gt;&gt;&nbsp;&gt;&nbsp;network_extralibs&nbsp;setup&nbsp;before&nbsp;use&nbsp;so&nbsp;that&nbsp;the&nbsp;link&nbsp;test&nbsp;works&lt;br&gt;&gt;&nbsp;&gt;&nbsp;correctly&nbsp;on&nbsp;mingw-w64.&nbsp;&nbsp;mingw32&nbsp;still&nbsp;fails&nbsp;to&nbsp;detect&nbsp;it&nbsp;due&nbsp;to&lt;br&gt;&gt;&nbsp;&gt;&nbsp;calling&nbsp;convention&nbsp;differences;&nbsp;getaddrinfo()&nbsp;is&nbsp;STDCALL,&nbsp;so&nbsp;it&nbsp;is&lt;br&gt;&gt;&nbsp;&gt;&nbsp;mangled&nbsp;as&nbsp;getaddrinfo@16&nbsp;on&nbsp;x86.&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Unfortunately,&nbsp;my&nbsp;background&nbsp;is&nbsp;windows,&nbsp;so&nbsp;I'm&nbsp;new&nbsp;to&nbsp;autoconf&nbsp;and&lt;br&gt;&gt;&nbsp;&gt;&nbsp;all&nbsp;unix&nbsp;business.&nbsp;What&nbsp;do&nbsp;you&nbsp;think&nbsp;will&nbsp;be&nbsp;the&nbsp;right&nbsp;approach&lt;br&gt;&gt;&nbsp;&gt;&nbsp;here?&nbsp;Maybe&nbsp;AC_CECK_DECL&nbsp;instead&nbsp;of&nbsp;AC_REPLACE_FUNC&nbsp;for&nbsp;getaddrinfo&lt;br&gt;&gt;&nbsp;&gt;&nbsp;(and&nbsp;maybe&nbsp;some&nbsp;other&nbsp;funcs&nbsp;declared&nbsp;in&nbsp;the&nbsp;same&nbsp;lib)?&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Aha.&nbsp;That&nbsp;explains&nbsp;it,&nbsp;my&nbsp;build&nbsp;VM&nbsp;is&nbsp;an&nbsp;old&nbsp;32-bit.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;AC_CECK_DECL&nbsp;might&nbsp;work.&nbsp;getaddrinfo/getnameinfo/inet_ntop/inet_pton&lt;br&gt;&gt;&nbsp;are&nbsp;the&nbsp;key&nbsp;ones&nbsp;for&nbsp;IP&nbsp;parsing.&nbsp;If&nbsp;not&nbsp;a&nbsp;full&nbsp;replacement&nbsp;lookup&nbsp;macro.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;be&nbsp;delving&nbsp;into&nbsp;the&nbsp;configure.ac&nbsp;logics&nbsp;to&nbsp;add&nbsp;some&nbsp;new&lt;br&gt;&gt;&nbsp;definitions&nbsp;for&nbsp;Solaris&nbsp;IP-Filter&nbsp;after&nbsp;the&nbsp;holidays.&nbsp;Might&nbsp;as&nbsp;well&lt;br&gt;&gt;&nbsp;write&nbsp;a&nbsp;new&nbsp;one&nbsp;for&nbsp;Windows&nbsp;getaddrinfo()&nbsp;while&nbsp;I'm&nbsp;doing&nbsp;that.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;all&nbsp;your&nbsp;help,&nbsp;really&nbsp;appreciate&nbsp;it!&lt;br&gt;&gt;&nbsp;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;--e&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;No,&nbsp;thank&nbsp;you&nbsp;for&nbsp;yours.&nbsp;I&nbsp;have&nbsp;been&nbsp;procrastinating&nbsp;a&nbsp;bit&nbsp;much&nbsp;on&lt;br&gt;&gt;&nbsp;this&nbsp;project.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Amos&lt;br&gt;&gt;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;&gt;&nbsp;Version:&nbsp;GnuPG&nbsp;v2.0.22&nbsp;(MingW32)&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;iQEcBAEBAgAGBQJUlkHnAAoJELJo5wb/XPRjYoMH/RmApzGhNDemo6x+MXmVzUsf&lt;br&gt;&gt;&nbsp;a8M+JY2OFminwNAJ3SNoz7SBmO6Kmi0fvh6f7LeJfmG6utr0M0/lqCFL9MZ8RDUs&lt;br&gt;&gt;&nbsp;a9COhruK0Mwrs25z0kgzXSaZ6c4qV0mbCEeuUMGTnNKIkSkCflkljt1PMJ3O1+ou&lt;br&gt;&gt;&nbsp;A+8EKWaMlXLXGOpVSqctwzkJex0B+cDOnaQ1j6cpioW7TZK+OyRGqj+BYB/GmVt4&lt;br&gt;&gt;&nbsp;sxZX0UmsTmcTgFvKx1TbbUJPHpYy3PdJcIWlKRiMbL3FJQh4VmAc64g96qiOSXYF&lt;br&gt;&gt;&nbsp;72N9jQ8NTYVc/Gns0c8vse2kN/BSJk8uSFfvS9FXeFjtCvzjvBEFEQ7TUKhXaxs=&lt;br&gt;&gt;&nbsp;=Hs2Z&lt;br&gt;&gt;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
