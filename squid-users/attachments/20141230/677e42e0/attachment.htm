<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Hey&nbsp;all,&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Wondering&nbsp;if&nbsp;I&nbsp;could&nbsp;get&nbsp;some&nbsp;advice&nbsp;on&nbsp;potentially&nbsp;setting&nbsp;up&nbsp;a&nbsp;Squid&nbsp;forward&nbsp;proxy&nbsp;on&nbsp;my&nbsp;network.&nbsp;I&#39;m&nbsp;not&nbsp;a&nbsp;Linux&nbsp;novice&nbsp;by&nbsp;any&nbsp;means,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;experienced&nbsp;in&nbsp;server&nbsp;administration,&nbsp;log&nbsp;review,&nbsp;etc.&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;We&#39;re&nbsp;needing&nbsp;to&nbsp;deploy&nbsp;a&nbsp;simple&nbsp;non-caching,&nbsp;non-peering&nbsp;forward&nbsp;proxy&nbsp;to&nbsp;integrate&nbsp;with&nbsp;an&nbsp;ICAP&nbsp;server&nbsp;for&nbsp;web&nbsp;filtering.&nbsp;My&nbsp;plan&nbsp;is&nbsp;pretty&nbsp;basic...here&#39;s&nbsp;my&nbsp;network&nbsp;config:&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Internet&nbsp;--&gt;&nbsp;Cisco&nbsp;ASA&nbsp;--&gt;&nbsp;DMZ&nbsp;--&gt;&nbsp;Internal&nbsp;LAN&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;I&#39;ve&nbsp;received&nbsp;conflicting&nbsp;advice&nbsp;on&nbsp;whether&nbsp;or&nbsp;not&nbsp;there&#39;s&nbsp;any&nbsp;advantage&nbsp;to&nbsp;putting&nbsp;a&nbsp;forward&nbsp;proxy&nbsp;on&nbsp;the&nbsp;DMZ&nbsp;vs.&nbsp;internal&nbsp;LAN.&nbsp;In&nbsp;any&nbsp;case,&nbsp;&#39;m&nbsp;wanting&nbsp;to&nbsp;deploy&nbsp;an&nbsp;explicit&nbsp;proxy&nbsp;with&nbsp;a&nbsp;single&nbsp;NIC.&nbsp;Workstations&nbsp;will&nbsp;use&nbsp;a&nbsp;PAC&nbsp;file,&nbsp;etc.&nbsp;to&nbsp;point&nbsp;to&nbsp;the&nbsp;proxy.&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;If&nbsp;the&nbsp;server&nbsp;is&nbsp;on&nbsp;the&nbsp;DMZ,&nbsp;I&#39;d&nbsp;allow&nbsp;80/443&nbsp;from&nbsp;the&nbsp;internal&nbsp;LAN&nbsp;to&nbsp;the&nbsp;DMZ,&nbsp;then&nbsp;allow&nbsp;80/443&nbsp;from&nbsp;the&nbsp;proxy&nbsp;to&nbsp;outside.&nbsp;I&#39;d&nbsp;also&nbsp;be&nbsp;allowing&nbsp;the&nbsp;proxy&nbsp;to&nbsp;internal&nbsp;LAN&nbsp;for&nbsp;ICAP,&nbsp;syslog,&nbsp;and&nbsp;possibly&nbsp;NTP.&nbsp;The&nbsp;proxy&nbsp;would&nbsp;have&nbsp;a&nbsp;single&nbsp;interface...although&nbsp;it&nbsp;would&nbsp;NAT&nbsp;to&nbsp;outside&nbsp;for&nbsp;internet&nbsp;access,&nbsp;there&nbsp;would&nbsp;be&nbsp;no&nbsp;ports&nbsp;open&nbsp;on&nbsp;the&nbsp;outside&nbsp;interface. &lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Based&nbsp;on&nbsp;some&nbsp;testing&nbsp;I&#39;ve&nbsp;done,&nbsp;my&nbsp;squid.conf&nbsp;would&nbsp;be&nbsp;pretty&nbsp;basic...&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;http_access&nbsp;allow&nbsp;internalnetwork &lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;cache&nbsp;deny&nbsp;internalnetwork&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;always_direct&nbsp;allow&nbsp;internalnetwork&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;http_access&nbsp;deny&nbsp;all&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;etc.&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;My&nbsp;questions&nbsp;are:&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Does&nbsp;it&nbsp;sound&nbsp;like&nbsp;I&#39;m&nbsp;on&nbsp;the&nbsp;right&nbsp;track&nbsp;here?&nbsp;Would&nbsp;the&nbsp;above&nbsp;described&nbsp;configuration&nbsp;be&nbsp;safe?&nbsp;I&#39;ve&nbsp;read&nbsp;that&nbsp;Squid&nbsp;should&nbsp;listen&nbsp;only&nbsp;on&nbsp;an&nbsp;internal&nbsp;interface?&nbsp;What&nbsp;about&nbsp;when&nbsp;the&nbsp;server&nbsp;only&nbsp;has&nbsp;one? &lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;What&nbsp;level&nbsp;of&nbsp;risk&nbsp;would&nbsp;I&nbsp;be&nbsp;assuming&nbsp;(regular&nbsp;patching&nbsp;included)?&nbsp;Given&nbsp;that&nbsp;I&#39;m&nbsp;relatively&nbsp;new&nbsp;to&nbsp;monitoring&nbsp;Linux&nbsp;servers&nbsp;for&nbsp;security,&nbsp;etc.,&nbsp;is&nbsp;this&nbsp;a&nbsp;bad&nbsp;idea?&nbsp;I&#39;m&nbsp;not&nbsp;really&nbsp;sure&nbsp;what&nbsp;to&nbsp;be&nbsp;looking&nbsp;for&nbsp;log-wise&nbsp;in&nbsp;terms&nbsp;of&nbsp;compromise.&nbsp;I&nbsp;have&nbsp;edge&nbsp;devices&nbsp;and&nbsp;monitoring&nbsp;on&nbsp;the&nbsp;perimeter,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;know&nbsp;what&nbsp;to&nbsp;look&nbsp;for&nbsp;on&nbsp;the&nbsp;server&nbsp;itself...&lt;/span&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;Lucida&nbsp;Grande&#39;,&#39;Trebuchet&nbsp;MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)&quot;&gt;Am&nbsp;I&nbsp;approaching&nbsp;this&nbsp;the&nbsp;wrong&nbsp;way?&nbsp;Should&nbsp;I&nbsp;be&nbsp;looking&nbsp;at&nbsp;putting&nbsp;it&nbsp;on&nbsp;the&nbsp;inside&nbsp;LAN?&nbsp;Would&nbsp;such&nbsp;an&nbsp;approach&nbsp;leave&nbsp;my&nbsp;network&nbsp;vulnerable&nbsp;should&nbsp;the&nbsp;Squid&nbsp;box&nbsp;get&nbsp;owned?&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
