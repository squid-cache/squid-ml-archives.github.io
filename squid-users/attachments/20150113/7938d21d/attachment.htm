<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA1&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Amos,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;TOS&nbsp;without&nbsp;infrastructure&nbsp;support&nbsp;does&nbsp;not&nbsp;effect.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Routers/switches&nbsp;must&nbsp;be&nbsp;configured&nbsp;to&nbsp;understand&nbsp;packet&nbsp;labeling.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;trivial&nbsp;task&nbsp;and&nbsp;cannot&nbsp;be&nbsp;solve&nbsp;without&nbsp;touch&nbsp;network<br>
&nbsp;&nbsp;&nbsp;&nbsp;equipment.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;13.01.2015&nbsp;16:41,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&nbsp;On&nbsp;13/01/2015&nbsp;11:30&nbsp;p.m.,&nbsp;Dr.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lars&nbsp;Hanke&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;prioritize&nbsp;traffic&nbsp;of&nbsp;some&nbsp;subnets&nbsp;over&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;rest&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;avoid&nbsp;leisure&nbsp;traffic&nbsp;killing&nbsp;critical&nbsp;business&nbsp;traffic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;over&nbsp;a&nbsp;slow&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;network&nbsp;connection.&nbsp;This&nbsp;of&nbsp;course&nbsp;would&nbsp;be&nbsp;a&nbsp;task&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tools&nbsp;like&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;tc,&nbsp;but&nbsp;behind&nbsp;the&nbsp;proxy&nbsp;the&nbsp;information&nbsp;of&nbsp;the&nbsp;original<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IP&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;lost.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;I&nbsp;do&nbsp;not&nbsp;want&nbsp;to&nbsp;statically&nbsp;limit&nbsp;the&nbsp;bandwidth&nbsp;of&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;non-priority&nbsp;traffic.&nbsp;I&nbsp;just&nbsp;want&nbsp;the&nbsp;priority&nbsp;traffic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;receive&nbsp;a&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;major&nbsp;share&nbsp;of&nbsp;the&nbsp;bandwidth,&nbsp;if&nbsp;it&nbsp;actually&nbsp;requires<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it.&nbsp;I'm&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;sure&nbsp;whether&nbsp;delay_pools&nbsp;can&nbsp;do&nbsp;that.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;Any&nbsp;ideas&nbsp;how&nbsp;to&nbsp;accomplish&nbsp;this?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Best&nbsp;way&nbsp;is&nbsp;to&nbsp;use&nbsp;the&nbsp;tcp_outgoing_tos&nbsp;and&nbsp;ACLs&nbsp;to&nbsp;emit&nbsp;TOS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;for&nbsp;the&nbsp;traffic&nbsp;as&nbsp;it&nbsp;flows&nbsp;so&nbsp;tools&nbsp;like&nbsp;tc&nbsp;etc&nbsp;can&nbsp;do&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;management&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;without&nbsp;direct&nbsp;access&nbsp;to&nbsp;the&nbsp;client&nbsp;IP.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Amos&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBAgAGBQJUtPcOAAoJENNXIZxhPexGBloH/1DPIhu30ybLMnCk0jnNRwoY<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;60dqrD2XR6IKi7s7H5aIxbTIvlrUbQSm9qvExjxXh5WtyisQj+bPE+jmInbVa/ED<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;f5k8JZdghoS0UWZCFK3dkDbYmnxk3LoYG+YAlWVrXBroANR4vfxuTZ+CRYQv6ufs<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;wU/Y+jBVcdzH6hMZQgrIocqhkaeczWmUFngVyi9KyE7cEB8AGohckHD1kpwqQXay<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;b5aWL4WquJnjy/iXXyBgHTkWBBIOGKCccD3DWqQ3cyXHbrU5lim01fD75ncLwqBJ<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;UuaTjkVd1OViJYsNBIcYY92IlBQ8t1dIAyQ4uj1yp7RvIxtdqXuT8KCSI9kS3R4=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=5ONt<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
