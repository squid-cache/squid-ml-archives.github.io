<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;Hi&nbsp;Amos,&lt;BR&gt;&nbsp;&lt;BR&gt;Sorry&nbsp;to&nbsp;disturb&nbsp;you&nbsp;again,&nbsp;I&nbsp;have&nbsp;changed&nbsp;the&nbsp;ModSelectWin32&nbsp;for&nbsp;now,&nbsp;it&nbsp;seems&nbsp;it&nbsp;kind&nbsp;of&nbsp;works.&lt;BR&gt;I&nbsp;will&nbsp;collect&nbsp;all&nbsp;the&nbsp;patches&nbsp;and&nbsp;will&nbsp;send&nbsp;you&nbsp;after&nbsp;I&nbsp;have&nbsp;the&nbsp;first&nbsp;version&nbsp;running&nbsp;:)&lt;BR&gt;&nbsp;&lt;BR&gt;The&nbsp;next&nbsp;issue&nbsp;is&nbsp;in&nbsp;the&nbsp;mswindows.h&lt;BR&gt;&nbsp;&lt;BR&gt;inline&nbsp;ssize_t&lt;br&gt;recvfrom(int&nbsp;s,&nbsp;void&nbsp;*&nbsp;b,&nbsp;size_t&nbsp;l,&nbsp;int&nbsp;f,&nbsp;struct&nbsp;sockaddr&nbsp;*&nbsp;fr,&nbsp;socklen_t&nbsp;*&nbsp;fl)&lt;br&gt;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;ssize_t&nbsp;result;&lt;br&gt;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;0);&quot;&gt;&nbsp;int&nbsp;ifl=*fl;&lt;/font&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((result&nbsp;=&nbsp;::recvfrom(_get_osfhandle(s),&nbsp;(char&nbsp;*)b,&nbsp;l,&nbsp;f,&nbsp;fr&lt;font&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;0);&quot;&gt;,&nbsp;&amp;ifl&lt;/font&gt;))&nbsp;==&nbsp;SOCKET_ERROR)&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;errno&nbsp;=&nbsp;WSAGetLastError();&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;&lt;br&gt;}&lt;br&gt;&nbsp;&lt;BR&gt;::recvfrom&nbsp;changes&nbsp;the&nbsp;size,&nbsp;but&nbsp;you&nbsp;kind&nbsp;of&nbsp;forgetting&nbsp;it&nbsp;inside&nbsp;ifl,&nbsp;not&nbsp;passing&nbsp;it&nbsp;out.Why&nbsp;not&nbsp;simply&nbsp;pass&nbsp;fl?&nbsp;why&nbsp;do&nbsp;you&nbsp;need&nbsp;ifl?&nbsp;socklen_t&nbsp;is&nbsp;declared&nbsp;as&nbsp;int.&nbsp;Or&nbsp;can&nbsp;this&nbsp;be&nbsp;changed&nbsp;in&nbsp;the&nbsp;future?&lt;BR&gt;At&nbsp;least&nbsp;it&nbsp;is&nbsp;necessary&nbsp;to&nbsp;copy&nbsp;the&nbsp;value&nbsp;returned&nbsp;by&nbsp;ifl&nbsp;into&nbsp;the&nbsp;fl&nbsp;again&nbsp;after&nbsp;the&nbsp;call.&lt;BR&gt;&nbsp;&lt;BR&gt;The&nbsp;next&nbsp;problem&nbsp;I'm&nbsp;having&nbsp;is&nbsp;that&nbsp;only&nbsp;squid&nbsp;-N&nbsp;works.&nbsp;As&nbsp;soon&nbsp;as&nbsp;I&nbsp;run&nbsp;it&nbsp;in&nbsp;the&nbsp;daemon&nbsp;mode&nbsp;(without&nbsp;-N)&nbsp;none&nbsp;of&nbsp;the&nbsp;workers&nbsp;is&nbsp;created.&nbsp;Could&nbsp;you&nbsp;please&nbsp;point&nbsp;me&nbsp;to&nbsp;the&nbsp;part&nbsp;of&nbsp;the&nbsp;code&nbsp;that&nbsp;is&nbsp;responsible&nbsp;for&nbsp;spawning&nbsp;workers?&lt;BR&gt;&nbsp;&lt;BR&gt;Thank&nbsp;you&nbsp;very&nbsp;much!&lt;BR&gt;&nbsp;&lt;BR&gt;Best&nbsp;regards,&lt;BR&gt;e&lt;BR&gt;&nbsp;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
