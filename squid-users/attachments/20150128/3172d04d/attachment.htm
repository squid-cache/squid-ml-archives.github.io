<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;On&nbsp;27/01/15&nbsp;11:13,&nbsp;Dan&nbsp;Charlesworth<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:CAN8nrKDYDRgoe2Du6OSAos8SRtTvLQYxzj-wcZZFRvbJO=qM_A@mail.gmail.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Wasn't&nbsp;somebody&nbsp;saying&nbsp;that&nbsp;you'd&nbsp;need&nbsp;write&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;ACL&nbsp;to&nbsp;evaluate&nbsp;the&nbsp;SNI&nbsp;host&nbsp;because&nbsp;dstdomain&nbsp;isn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hooked&nbsp;into&nbsp;that&nbsp;code&nbsp;(yet?&nbsp;ever?)?&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;That&nbsp;can't&nbsp;be&nbsp;the&nbsp;case.&nbsp;If&nbsp;the&nbsp;external&nbsp;ACL&nbsp;is&nbsp;called&nbsp;without&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;SNI,&nbsp;then&nbsp;at&nbsp;best&nbsp;all&nbsp;it&nbsp;can&nbsp;do&nbsp;is&nbsp;connect&nbsp;to&nbsp;an&nbsp;IP&nbsp;address&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;scrape&nbsp;the&nbsp;server&nbsp;response.&nbsp;But&nbsp;some&nbsp;SSL&nbsp;servers&nbsp;(especially&nbsp;WAFs)<br>
&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;configured&nbsp;to&nbsp;DROP&nbsp;connections&nbsp;if&nbsp;they&nbsp;don't&nbsp;see&nbsp;a&nbsp;client&nbsp;SNI<br>
&nbsp;&nbsp;&nbsp;&nbsp;(I've&nbsp;seen&nbsp;this&nbsp;with&nbsp;CDN&nbsp;networks&nbsp;with&nbsp;my&nbsp;own&nbsp;experience&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;external&nbsp;ACLs).&nbsp;Only&nbsp;squid&nbsp;has&nbsp;access&nbsp;to&nbsp;the&nbsp;SNI&nbsp;-&nbsp;it&nbsp;has&nbsp;to&nbsp;be&nbsp;done<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;squid&nbsp;code.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jason&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
Cheers<br>
<br>
Jason&nbsp;Haar<br>
Corporate&nbsp;Information&nbsp;Security&nbsp;Manager,&nbsp;Trimble&nbsp;Navigation&nbsp;Ltd.<br>
Phone:&nbsp;+1&nbsp;408&nbsp;481&nbsp;8171<br>
PGP&nbsp;Fingerprint:&nbsp;7A2E&nbsp;0407&nbsp;C9A6&nbsp;CAF6&nbsp;2B9F&nbsp;8422&nbsp;C063&nbsp;5EBB&nbsp;FE1D&nbsp;66D1<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
