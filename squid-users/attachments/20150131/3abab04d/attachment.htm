<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Dear&nbsp;Amos,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Thanks&nbsp;for&nbsp;the&nbsp;explanation.&nbsp;It&#39;s&nbsp;interesting&nbsp;that&nbsp;the&nbsp;10-day&nbsp;feature&nbsp;is&nbsp;for&nbsp;encouraging&nbsp;users&nbsp;to&nbsp;apply&nbsp;the&nbsp;daily&nbsp;released&nbsp;snapshots.&nbsp;I&#39;m&nbsp;never&nbsp;aware&nbsp;of&nbsp;this. &lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Actually,&nbsp;I&nbsp;totally&nbsp;understand&nbsp;the&nbsp;users&nbsp;who&nbsp;are&nbsp;running&nbsp;old&nbsp;stable&nbsp;versions&nbsp;(e.g.,&nbsp;3.1.6).&nbsp;They&nbsp;are&nbsp;reluctant&nbsp;to&nbsp;change&nbsp;or&nbsp;have&nbsp;no&nbsp;time&nbsp;to&nbsp;test&nbsp;out&nbsp;the&nbsp;new&nbsp;versions&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;current&nbsp;one&nbsp;works&nbsp;ok.&nbsp;I&#39;m&nbsp;not&nbsp;talking&nbsp;about&nbsp;the&nbsp;production&nbsp;uses&nbsp;such&nbsp;as&nbsp;in&nbsp;Baidu&nbsp;and&nbsp;in&nbsp;Flickr&nbsp;where&nbsp;a&nbsp;big&nbsp;team&nbsp;of&nbsp;admins&nbsp;watching&nbsp;these&nbsp;servers&nbsp;on&nbsp;a&nbsp;24*7&nbsp;basis.&nbsp;The&nbsp;email&nbsp;feature&nbsp;is&nbsp;attractive&nbsp;for&nbsp;users&nbsp;like&nbsp;me&nbsp;who&nbsp;uses&nbsp;Squid&nbsp;for&nbsp;non-production&nbsp;scenarios&nbsp;but&nbsp;still&nbsp;requires&nbsp;certain&nbsp;level&nbsp;of&nbsp;availability.&nbsp;I&nbsp;think&nbsp;that&#39;s&nbsp;why&nbsp;the&nbsp;feature&nbsp;is&nbsp;still&nbsp;there&nbsp;for&nbsp;years&nbsp;and&nbsp;I&nbsp;do&nbsp;appreciate&nbsp;it&nbsp;:-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again,&nbsp;Amos!&nbsp;Have&nbsp;a&nbsp;great&nbsp;weekend!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Tianyin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Jan&nbsp;31,&nbsp;2015&nbsp;at&nbsp;2:04&nbsp;AM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;31/01/2015&nbsp;6:41&nbsp;p.m.,&nbsp;Tianyin&nbsp;Xu&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;use&nbsp;the&nbsp;email&nbsp;notification&nbsp;feature&nbsp;specified&nbsp;in&nbsp;the&nbsp;document.&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/mail_program/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/mail_program/&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/cache_mgr/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/cache_mgr/&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/mail_from/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/mail_from/&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Basically,&nbsp;if&nbsp;the&nbsp;Squid&nbsp;proxy&nbsp;server&nbsp;dies,&nbsp;I&nbsp;can&nbsp;receive&nbsp;an&nbsp;email&lt;br&gt;<br>
&gt;&nbsp;notification&nbsp;by&nbsp;configuring&nbsp;&quot;mail_program&quot;,&nbsp;&quot;cache_mgr&quot;,&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;&quot;mail_from&quot;.&nbsp;This&nbsp;is&nbsp;a&nbsp;very&nbsp;nice&nbsp;feature.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;However,&nbsp;when&nbsp;I&nbsp;start&nbsp;Squid&nbsp;and&nbsp;then&nbsp;intentionally&nbsp;kill&nbsp;Squid&nbsp;by&lt;br&gt;<br>
&gt;&nbsp;issuing&nbsp;SEGV,&nbsp;Squid&nbsp;dies&nbsp;without&nbsp;sending&nbsp;any&nbsp;email&nbsp;to&nbsp;me.&nbsp;Diving&nbsp;into&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;code,&nbsp;I&nbsp;see&nbsp;that&nbsp;the&nbsp;email&nbsp;notification&nbsp;feature&nbsp;is&nbsp;disabled&nbsp;by&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;following&nbsp;if&nbsp;condition,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; /*&nbsp;src/tools.cc&nbsp;*/&lt;br&gt;<br>
&gt; &nbsp; &nbsp; ....&lt;br&gt;<br>
&gt; &nbsp; &nbsp; if&nbsp;(squid_curtime&nbsp;-&nbsp;SQUID_RELEASE_TIME&nbsp;&lt;&nbsp;864000)&nbsp;{&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp;skip&nbsp;if&nbsp;more&nbsp;than&nbsp;10&nbsp;days&nbsp;old&nbsp;*/&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;(Config.adminEmail)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mail_warranty();&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; puts(dead_msg());&lt;br&gt;<br>
&gt; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;From&nbsp;the&nbsp;comment,&nbsp;it&nbsp;seems&nbsp;that&nbsp;intentionally&nbsp;the&nbsp;feature&nbsp;is&nbsp;disabled&lt;br&gt;<br>
&gt;&nbsp;if&nbsp;the&nbsp;current&nbsp;time&nbsp;is&nbsp;latter&nbsp;than&nbsp;10&nbsp;days&nbsp;after&nbsp;the&nbsp;release&nbsp;time&lt;br&gt;<br>
&gt;&nbsp;(which&nbsp;is&nbsp;my&nbsp;case).&nbsp;This&nbsp;totally&nbsp;makes&nbsp;no&nbsp;sense&nbsp;to&nbsp;me&nbsp;because&nbsp;most&lt;br&gt;<br>
&gt;&nbsp;users&nbsp;like&nbsp;me&nbsp;will&nbsp;use&nbsp;this&nbsp;feature&nbsp;after&nbsp;10&nbsp;days&nbsp;latter&nbsp;than&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;release&nbsp;date...&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Could&nbsp;anyone&nbsp;explain&nbsp;this?&nbsp;I&nbsp;moved&nbsp;the&nbsp;if-condition&nbsp;and&nbsp;the&nbsp;feature&nbsp;does&nbsp;work.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;also&nbsp;opened&nbsp;a&nbsp;bugzilla&nbsp;report&nbsp;here,&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://bugs.squid-cache.org/show_bug.cgi?id=4184&quot;&nbsp;target=&quot;_blank&quot;&gt;http://bugs.squid-cache.org/show_bug.cgi?id=4184&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;It&nbsp;is&nbsp;a&nbsp;difficult&nbsp;situation.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;10&nbsp;day&nbsp;limit&nbsp;is&nbsp;itself&nbsp;a&nbsp;feature&nbsp;designed&nbsp;to&nbsp;reduce&nbsp;spam&nbsp;emails&lt;br&gt;<br>
being&nbsp;delivered&nbsp;from&nbsp;production&nbsp;systems&nbsp;which&nbsp;are&nbsp;stuck&nbsp;long-term&nbsp;on&lt;br&gt;<br>
&quot;stable&quot;&nbsp;version&nbsp;packages.&nbsp;Often&nbsp;long&nbsp;after&nbsp;the&nbsp;crash&nbsp;being&nbsp;notified&lt;br&gt;<br>
about&nbsp;is&nbsp;found&nbsp;and&nbsp;fixed.&nbsp;There&nbsp;are&nbsp;people&nbsp;still&nbsp;running&nbsp;Squid&nbsp;3.1.6&nbsp;for&lt;br&gt;<br>
example,&nbsp;despite&nbsp;years&nbsp;having&nbsp;passed&nbsp;and&nbsp;numerous&nbsp;crashes&nbsp;having&nbsp;been&nbsp;fixed.&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;auto-restarts&nbsp;after&nbsp;crashes&nbsp;to&nbsp;ensure&nbsp;minimal&nbsp;downtime&nbsp;and&nbsp;user&lt;br&gt;<br>
impact.&nbsp;There&nbsp;are&nbsp;also&nbsp;numerous&nbsp;other&nbsp;things&nbsp;that&nbsp;could&nbsp;happen&nbsp;that&nbsp;are&lt;br&gt;<br>
only&nbsp;ever&nbsp;logged&nbsp;-&nbsp;that&nbsp;includes&nbsp;the&nbsp;reason&nbsp;for&nbsp;the&nbsp;crash&nbsp;being&lt;br&gt;<br>
notified. &nbsp;So&nbsp;you&nbsp;should&nbsp;have&nbsp;log&nbsp;monitoring&nbsp;in&nbsp;place&nbsp;for&nbsp;production&lt;br&gt;<br>
systems&nbsp;anyway&nbsp;which&nbsp;mails&nbsp;you&nbsp;on&nbsp;criteria&nbsp;you&nbsp;are&nbsp;interested&nbsp;in.&nbsp;Making&lt;br&gt;<br>
this&nbsp;feature&nbsp;much&nbsp;less&nbsp;interesting&nbsp;for&nbsp;production&nbsp;systems&nbsp;using&nbsp;the&lt;br&gt;<br>
formal&nbsp;release&nbsp;for&nbsp;long&nbsp;periods&nbsp;of&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;much&nbsp;more&nbsp;interesting&nbsp;/&nbsp;useful&nbsp;to&nbsp;hear&nbsp;about&nbsp;crashes&nbsp;in&nbsp;newer&nbsp;code&lt;br&gt;<br>
with&nbsp;less&nbsp;production&nbsp;use&nbsp;and&nbsp;testing&nbsp;behind&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;development&nbsp;code&nbsp;and&nbsp;daily&nbsp;snapshots&nbsp;define&nbsp;SQUID_RELEASE_TIME&nbsp;to&nbsp;be&lt;br&gt;<br>
squid_curtime&nbsp;so&nbsp;the&nbsp;if-condition&nbsp;always&nbsp;matches&nbsp;and&nbsp;enables&nbsp;the&nbsp;feature&lt;br&gt;<br>
for&nbsp;experimental&nbsp;installations.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;combined&nbsp;with&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;only&nbsp;way&nbsp;to&nbsp;resolve&nbsp;crash&lt;br&gt;<br>
conditions&nbsp;is&nbsp;to&nbsp;patch&nbsp;the&nbsp;code&nbsp;and/or&nbsp;build&nbsp;latest&nbsp;release&nbsp;snapshot,&lt;br&gt;<br>
means&nbsp;that&nbsp;people&nbsp;who&nbsp;are&nbsp;actually&nbsp;interested&nbsp;in&nbsp;avoiding&nbsp;those&nbsp;type&nbsp;of&lt;br&gt;<br>
problem&nbsp;are&nbsp;usually&nbsp;running&nbsp;the&nbsp;snapshot&nbsp;code&nbsp;where&nbsp;the&nbsp;10-day&nbsp;limit&lt;br&gt;<br>
does&nbsp;not&nbsp;apply.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
