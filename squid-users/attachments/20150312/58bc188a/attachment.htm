<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Mar&nbsp;12,&nbsp;2015&nbsp;at&nbsp;11:04&nbsp;AM,&nbsp;Yuri&nbsp;Voinov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:yvoinov@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;yvoinov@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;<br>
Hash:&nbsp;SHA1&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;only&nbsp;have&nbsp;external&nbsp;helper&nbsp;(which&nbsp;is&nbsp;must&nbsp;wrote&nbsp;yourself)&nbsp;in&nbsp;3.4.x.&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;there&nbsp;any&nbsp;examples&nbsp;that&nbsp;I&nbsp;can&nbsp;look&nbsp;at&nbsp;to&nbsp;implemented&nbsp;this&nbsp;external&nbsp;helper&nbsp;for&nbsp;doing&nbsp;selective&nbsp;ssl_bumps.&nbsp;And&nbsp;what&nbsp;would&nbsp;this&nbsp;helper&nbsp;script&nbsp;do&nbsp;anyways?&nbsp;All&nbsp;we&nbsp;have&nbsp;is&nbsp;the&nbsp;destination&nbsp;IP&nbsp;address&nbsp;which&nbsp;is&nbsp;not&nbsp;really&nbsp;going&nbsp;to&nbsp;give&nbsp;us&nbsp;the&nbsp;actual&nbsp;HTTP&nbsp;hostname. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Works&nbsp;with&nbsp;domains&nbsp;in&nbsp;ssl&nbsp;bump&nbsp;fully&nbsp;available&nbsp;at&nbsp;least&nbsp;3.5.x&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;the&nbsp;3.5.x&nbsp;implementation&nbsp;decrypt&nbsp;the&nbsp;whole&nbsp;payload&nbsp;and&nbsp;then&nbsp;do&nbsp;the&nbsp;ssl_bump?&nbsp;The&nbsp;&quot;peek&quot;&nbsp;option&nbsp;seems&nbsp;to&nbsp;imply&nbsp;that&nbsp;only&nbsp;the&nbsp;HTTP&nbsp;headers&nbsp;are&nbsp;peeked&nbsp;at. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;guess&nbsp;what&nbsp;I&nbsp;am&nbsp;asking&nbsp;is,&nbsp;is&nbsp;there&nbsp;any&nbsp;way&nbsp;we&nbsp;can&nbsp;do&nbsp;this&nbsp;without&nbsp;actually&nbsp;decrypting&nbsp;the&nbsp;payload? &lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
12.03.15&nbsp;21:01,&nbsp;Mukul&nbsp;Gandhi&nbsp;пишет:&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&gt;&nbsp;I&nbsp;am&nbsp;running&nbsp;squid&nbsp;3.4.8&nbsp;and&nbsp;am&nbsp;looking&nbsp;for&nbsp;solutions&nbsp;to&nbsp;ssl_bump&lt;br&gt;<br>
&gt;&nbsp;for&nbsp;specific&nbsp;domains&nbsp;only.&nbsp;Going&nbsp;through&nbsp;the&nbsp;archives&nbsp;it&nbsp;is&nbsp;clear&lt;br&gt;<br>
&gt;&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;possible&nbsp;unless&nbsp;the&nbsp;reverse&nbsp;DNS&nbsp;points&nbsp;back&nbsp;to&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;domain&nbsp;that&nbsp;is&nbsp;to&nbsp;be&nbsp;ssl&nbsp;bumped.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;So&nbsp;then&nbsp;what&nbsp;is&nbsp;the&nbsp;solution&nbsp;to&nbsp;this&nbsp;problem.&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;create&lt;br&gt;<br>
&gt;&nbsp;a&nbsp;SSL&nbsp;whitelist&nbsp;of&nbsp;domains&nbsp;that&nbsp;are&nbsp;to&nbsp;be&nbsp;bumped&nbsp;and&nbsp;the&nbsp;rest&lt;br&gt;<br>
&gt;&nbsp;should&nbsp;be&nbsp;tunneled&nbsp;through.&nbsp;What&nbsp;I&nbsp;have&nbsp;is&nbsp;-&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;ssl_bump&nbsp;none&nbsp;localhost&nbsp;acl&nbsp;ssl_whitelist&nbsp;dstdomain&lt;br&gt;<br>
&gt;&nbsp;&quot;/tmp/ssl_whitelist.txt&quot;&nbsp;ssl_bump&nbsp;server-first&nbsp;ssl_whitelist&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;file&nbsp;/tmp/ssl_whitelist.txt&nbsp;contains&nbsp;-&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://facebook.com&quot;&nbsp;target=&quot;_blank&quot;&gt;facebook.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://twitter.com&quot;&nbsp;target=&quot;_blank&quot;&gt;twitter.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://pintrest.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pintrest.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Of&nbsp;course,&nbsp;this&nbsp;doesn&#39;t&nbsp;work&nbsp;because&nbsp;the&nbsp;ip&nbsp;address&nbsp;for&nbsp;these&lt;br&gt;<br>
&gt;&nbsp;websites&nbsp;points&nbsp;back&nbsp;to&nbsp;&lt;something&gt;.&lt;a&nbsp;href=&quot;http://akamaitechnologies.com&quot;&nbsp;target=&quot;_blank&quot;&gt;akamaitechnologies.com&lt;/a&gt;.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;All&nbsp;I&nbsp;want&nbsp;is&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;decrypt&nbsp;just&nbsp;the&nbsp;traffic&nbsp;to&nbsp;these&lt;br&gt;<br>
&gt;&nbsp;three&nbsp;web-sites,&nbsp;the&nbsp;rest&nbsp;should&nbsp;go&nbsp;through&nbsp;encrypted.&nbsp;But&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;couldn&#39;t&nbsp;find&nbsp;a&nbsp;solution&nbsp;for&nbsp;this&nbsp;anywhere&nbsp;in&nbsp;the&nbsp;archives.&nbsp;I&nbsp;did&lt;br&gt;<br>
&gt;&nbsp;see&nbsp;some&nbsp;mention&nbsp;of&nbsp;using&nbsp;SslBump1/2/3&nbsp;but&nbsp;it&nbsp;wasn&#39;t&nbsp;clear&nbsp;if&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;was&nbsp;the&nbsp;silver&nbsp;bullet.&nbsp;Also&nbsp;I&nbsp;would&nbsp;have&nbsp;to&nbsp;upgrade&nbsp;to&nbsp;3.5&nbsp;to&nbsp;use&lt;br&gt;<br>
&gt;&nbsp;these&nbsp;new&nbsp;directives.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Any&nbsp;idea&nbsp;how&nbsp;I&nbsp;can&nbsp;achieve&nbsp;this&nbsp;in&nbsp;3.4.8&nbsp;(if&nbsp;possible)?&nbsp;Or&nbsp;if&nbsp;I&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;solution&nbsp;exists&nbsp;for&nbsp;this&nbsp;in&nbsp;3.5?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Thanks,&nbsp;-Mukul&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&gt;&nbsp;_______________________________________________&nbsp;squid-users&nbsp;mailing&lt;br&gt;<br>
&gt;&nbsp;list&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
Version:&nbsp;GnuPG&nbsp;v2&lt;br&gt;<br>
&lt;br&gt;<br>
iQEcBAEBAgAGBQJVAar2AAoJENNXIZxhPexGm5MH/0JUWgIjDrNb8+a0b66iyY+x&lt;br&gt;<br>
uWgoNnGqBKL/gzQt3AmKv3P31/3Vc8wCpMlSd3HpOSeyOtJ4pYAqI3kw1o91kkEK&lt;br&gt;<br>
YJ1wGc4FN+8sxUplA9+Kz/XDxpxTFAvS4/9d5AUOmxCoi2PmIhThozl8X8fIMdv/&lt;br&gt;<br>
7shy+Ce9kKj/ozSievVaePxdH+OUd0fmdKtDrv1aenxQpclaZSkuwEflQ3idTYBu&lt;br&gt;<br>
zTpNP3AvEP4+32yb2W+mP4p1JgHwUAi60hEz3kP9pxd+Ym2kuZeFDF5ZV2x2/cKQ&lt;br&gt;<br>
iRpmS++2kOt0nIT074PhV8dzPfD1lZt7atQT+mBJhLvzlD5Sxvxqll7Z/dpQSSI=&lt;br&gt;<br>
=P+8j&lt;br&gt;<br>
-----END&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
