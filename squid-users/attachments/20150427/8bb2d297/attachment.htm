<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1430113531094_5000&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1430113531094_4999&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;Hello,&lt;br&nbsp;clear=&quot;none&quot;&gt;This&nbsp;may&nbsp;be&nbsp;an&nbsp;answer&nbsp;for&nbsp;Amos&nbsp;than&nbsp;anyone&nbsp;else.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34058&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34057&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_26400&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_26399&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_10435&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_10434&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_10433&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_26520&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_10446&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_26974&quot;&gt;I&nbsp;don't&nbsp;sure&nbsp;if&nbsp;i&nbsp;had&nbsp;time&nbsp;to&nbsp;change&nbsp;the&nbsp;web&nbsp;proxy&nbsp;server&nbsp;design.&lt;br&nbsp;clear=&quot;none&quot;&gt;because&nbsp;the&nbsp;deadline&nbsp;is&nbsp;1&nbsp;week&nbsp;more.&lt;br&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;And&nbsp;also&nbsp;for&nbsp;double&nbsp;bandwidth&nbsp;design.&lt;br&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1430113531094_6532&quot;&nbsp;dir=&quot;ltr&quot;&gt;Are&nbsp;you&nbsp;have&nbsp;alternative&nbsp;option&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;implement&nbsp;Failover&nbsp;by&nbsp;using&nbsp;my&nbsp;existing&nbsp;system.&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance.&lt;br&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9460495732signature&quot;&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_7325&quot;&gt;Hierony&nbsp;Manurung&lt;br&nbsp;clear=&quot;none&quot;&gt;Del&nbsp;Institute&nbsp;of&nbsp;Technology&lt;br&nbsp;clear=&quot;none&quot;&gt;Network&nbsp;Management&lt;/div&gt;&nbsp;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;class=&quot;yiv9460495732qtdSeparateBR&quot;&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_10436&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9460495732yqt2343972816&quot;&nbsp;id=&quot;yiv9460495732yqt86694&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9460495732yqt1032478632&quot;&nbsp;id=&quot;yiv9460495732yqt17649&quot;&gt;&lt;div&nbsp;class=&quot;yiv9460495732yqt1373313708&quot;&nbsp;id=&quot;yiv9460495732yqt48883&quot;&gt;&lt;div&nbsp;class=&quot;yiv9460495732yqt5739935229&quot;&nbsp;id=&quot;yiv9460495732yqt30063&quot;&gt;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34064&quot;&gt;&nbsp;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34063&quot;&nbsp;style=&quot;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&nbsp;&lt;div&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34062&quot;&nbsp;style=&quot;font-family:HelveticaNeue,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;Pada&nbsp;Senin,&nbsp;27&nbsp;April&nbsp;2015&nbsp;9:56,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;menulis:&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&lt;div&nbsp;class=&quot;yiv9460495732y_msg_container&quot;&nbsp;id=&quot;yiv9460495732yui_3_16_0_1_1430110363815_34061&quot;&gt;On&nbsp;27/04/2015&nbsp;2:36&nbsp;p.m.,&nbsp;Hierony&nbsp;Manurung&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Dear&nbsp;Fellow,&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;implement&nbsp;Failover&nbsp;in&nbsp;My&nbsp;system,&nbsp;I&nbsp;have&nbsp;3&nbsp;Squid&nbsp;proxy&nbsp;servers&nbsp;right&nbsp;now.&nbsp;they&nbsp;are&nbsp;:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;-&nbsp;Child&nbsp;(172.30.20.200/16)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;receive&nbsp;request,&nbsp;and&nbsp;forward&nbsp;it&nbsp;either&nbsp;to&nbsp;Parent1&nbsp;or&nbsp;Parent2&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;-&nbsp;Parent1&nbsp;(172.31.20.201/16)&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;-&nbsp;Parent2&nbsp;(172.31.20.204/16)&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;use&nbsp;Mikrotik&nbsp;to&nbsp;connect&nbsp;all&nbsp;the&nbsp;servers,&nbsp;and&nbsp;they&nbsp;have&nbsp;been&nbsp;connected&nbsp;and&nbsp;they&nbsp;can&nbsp;work&nbsp;together&nbsp;(distributed&nbsp;caching).&nbsp;For&nbsp;the&nbsp;caching&nbsp;algorithm,&nbsp;I&nbsp;use&nbsp;round-robin&nbsp;algorithm.&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;How&nbsp;can&nbsp;i&nbsp;implement&nbsp;Failover&nbsp;in&nbsp;my&nbsp;system?,&nbsp;so&nbsp;that&nbsp;when&nbsp;Child&nbsp;proxy&nbsp;is&nbsp;down/crash&nbsp;the&nbsp;request&nbsp;move&nbsp;to&nbsp;another&nbsp;Parent&nbsp;proxy.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;You&nbsp;can't&nbsp;with&nbsp;this&nbsp;setup.&nbsp;The&nbsp;Child&nbsp;proxy&nbsp;is&nbsp;a&nbsp;bottleneck&nbsp;and&nbsp;the&lt;br&nbsp;clear=&quot;none&quot;&gt;failover&nbsp;copes&nbsp;with&nbsp;either&nbsp;of&nbsp;the&nbsp;Parents&nbsp;being&nbsp;down&nbsp;but&nbsp;not&nbsp;the&nbsp;Child.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;If&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;have&nbsp;a&nbsp;failover&nbsp;from&nbsp;Child&nbsp;to&nbsp;Parent,&nbsp;then&nbsp;you&nbsp;may&lt;br&nbsp;clear=&quot;none&quot;&gt;as&nbsp;well&nbsp;have&nbsp;all&nbsp;three&nbsp;proxies&nbsp;operating&nbsp;in&nbsp;a&nbsp;&quot;flat&quot;/horizontal&nbsp;design&lt;br&nbsp;clear=&quot;none&quot;&gt;as&nbsp;siblings&nbsp;all&nbsp;independently&nbsp;able&nbsp;to&nbsp;connect&nbsp;upstream.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;failover&nbsp;logics&nbsp;in&nbsp;that&nbsp;design&nbsp;is&nbsp;configured&nbsp;into&nbsp;the&nbsp;Mikrotik&lt;br&nbsp;clear=&quot;none&quot;&gt;somehow&nbsp;(I&nbsp;dont&nbsp;know&nbsp;how&nbsp;exectly&nbsp;though&nbsp;sorry).&nbsp;Or&nbsp;in&nbsp;a&nbsp;PAC&nbsp;file&nbsp;given&lt;br&nbsp;clear=&quot;none&quot;&gt;to&nbsp;the&nbsp;clients.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;design&nbsp;you&nbsp;have&nbsp;with&nbsp;a&nbsp;single&nbsp;router&nbsp;acting&nbsp;as&nbsp;hub&nbsp;for&nbsp;clients&nbsp;and&lt;br&nbsp;clear=&quot;none&quot;&gt;three&nbsp;proxies&nbsp;in&nbsp;a&nbsp;2-tier&nbsp;design&nbsp;sounds&nbsp;like&nbsp;you&nbsp;have&nbsp;traffic&nbsp;travelling&lt;br&nbsp;clear=&quot;none&quot;&gt;over&nbsp;the&nbsp;same&nbsp;router&nbsp;2-3&nbsp;times&nbsp;on&nbsp;its&nbsp;way&nbsp;to&nbsp;the&nbsp;Internet&nbsp;(and&nbsp;same&nbsp;for&lt;br&nbsp;clear=&quot;none&quot;&gt;the&nbsp;responses).&nbsp;That&nbsp;will&nbsp;be&nbsp;cutting&nbsp;your&nbsp;available&nbsp;router&nbsp;bandwidth&nbsp;by&lt;br&nbsp;clear=&quot;none&quot;&gt;as&nbsp;much&nbsp;as&nbsp;60%.&nbsp;You&nbsp;can&nbsp;probably&nbsp;double&nbsp;your&nbsp;bandwidth&nbsp;by&nbsp;using&nbsp;two&lt;br&nbsp;clear=&quot;none&quot;&gt;routers&nbsp;and&nbsp;two&nbsp;NICs&nbsp;on&nbsp;each&nbsp;proxy&nbsp;-&nbsp;without&nbsp;changing&nbsp;the&nbsp;uplinks&lt;br&nbsp;clear=&quot;none&quot;&gt;themselves.&lt;br&nbsp;clear=&quot;none&quot;&gt;Like&nbsp;so:&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;clients-&gt;&nbsp;router1&nbsp;(load&nbsp;balancing)-&gt;proxies-&gt;router2-&gt;Internet&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Amos&lt;div&nbsp;class=&quot;yiv9460495732yqt9314395983&quot;&nbsp;id=&quot;yiv9460495732yqtfd07327&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;_______________________________________________&lt;br&nbsp;clear=&quot;none&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;shape=&quot;rect&quot;&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;shape=&quot;rect&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
