<tt>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Thx&nbsp;all&nbsp;for&nbsp;the&nbsp;info&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;May&nbsp;10,&nbsp;2015&nbsp;5:35&nbsp;PM,&nbsp;&quot;Yuri&nbsp;Voinov&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:yvoinov@gmail.com&quot;&gt;yvoinov@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;<br>
Hash:&nbsp;SHA256&lt;br&gt;<br>
&lt;br&gt;<br>
Amos,&lt;br&gt;<br>
&lt;br&gt;<br>
independent&nbsp;proxies&nbsp;also&nbsp;supported&nbsp;by&nbsp;Cisco&nbsp;WCCP.&nbsp;For&nbsp;redundancy&nbsp;it&nbsp;can&lt;br&gt;<br>
group&nbsp;any&nbsp;numbers&nbsp;of&nbsp;transparent&nbsp;proxies.&lt;br&gt;<br>
&lt;br&gt;<br>
WBR,&nbsp;Yuri&lt;br&gt;<br>
&lt;br&gt;<br>
10.05.15&nbsp;12:57,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;10/05/2015&nbsp;6:31&nbsp;p.m.,&nbsp;Ibrahim&nbsp;Lubis&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Most&nbsp;of&nbsp;all&nbsp;know&nbsp;about&nbsp;tiered&nbsp;network&lt;br&gt;<br>
&gt;&gt;&nbsp;topology(access,aggregation/dist,core)&nbsp;from&nbsp;core&nbsp;than&nbsp;to&nbsp;firewall&nbsp;and&lt;br&gt;<br>
then&lt;br&gt;<br>
&gt;&gt;&nbsp;to&nbsp;router.&nbsp;For&nbsp;redundancy&nbsp;usually&nbsp;there&nbsp;2&nbsp;core&nbsp;and&nbsp;2&nbsp;firewall.&nbsp;I&nbsp;was&lt;br&gt;<br>
&gt;&gt;&nbsp;thinking&nbsp;adding&nbsp;a&nbsp;transparent&nbsp;caching&nbsp;layer&nbsp;between&nbsp;core&nbsp;and&lt;br&gt;<br>
firewall,just&lt;br&gt;<br>
&gt;&gt;&nbsp;adding&nbsp;squid&nbsp;box.&nbsp;It&nbsp;is&nbsp;okay&nbsp;just&nbsp;adding&nbsp;2&nbsp;independent&nbsp;squid&nbsp;box&nbsp;or&nbsp;I&lt;br&gt;<br>
need&lt;br&gt;<br>
&gt;&gt;&nbsp;some&nbsp;sync&nbsp;between&nbsp;squid&nbsp;box&nbsp;?&nbsp;What&nbsp;if&nbsp;I&nbsp;add&nbsp;not&nbsp;2&nbsp;but&nbsp;6&nbsp;and&nbsp;doing&lt;br&gt;<br>
&gt;&gt;&nbsp;active-active&nbsp;on&nbsp;both&nbsp;core&nbsp;n&nbsp;firewall?&nbsp;Can&nbsp;anybody&nbsp;give&nbsp;me&nbsp;insight&nbsp;?&lt;br&gt;<br>
Btw&nbsp;My&lt;br&gt;<br>
&gt;&gt;&nbsp;objective&nbsp;is&nbsp;to&nbsp;save&nbsp;some&nbsp;bandwidths&nbsp;from&nbsp;user&nbsp;for&nbsp;internet&nbsp;access.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Go&nbsp;with&nbsp;independent&nbsp;Squid&nbsp;boxes&nbsp;until&nbsp;you&nbsp;are&nbsp;happy&nbsp;that&nbsp;they&nbsp;are&lt;br&gt;<br>
&gt;&nbsp;operating&nbsp;properly&nbsp;and&nbsp;you&nbsp;know&nbsp;whats&nbsp;going&nbsp;on.&nbsp;Number&nbsp;of&nbsp;Squid&nbsp;does&nbsp;not&lt;br&gt;<br>
&gt;&nbsp;matter&nbsp;much,&nbsp;so&nbsp;long&nbsp;as&nbsp;they&nbsp;each&nbsp;can&nbsp;handle&nbsp;the&nbsp;traffic&nbsp;load&nbsp;you&nbsp;put&lt;br&gt;<br>
&gt;&nbsp;through.&nbsp;If&nbsp;you&nbsp;are&nbsp;new&nbsp;to&nbsp;this&nbsp;start&nbsp;with&nbsp;just&nbsp;one&nbsp;and&nbsp;put&nbsp;only&nbsp;a&nbsp;small&lt;br&gt;<br>
&gt;&nbsp;amount&nbsp;of&nbsp;the&nbsp;traffic&nbsp;through,&nbsp;then&nbsp;increase&nbsp;gradually&nbsp;until&nbsp;you&nbsp;need&nbsp;2,&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;so&nbsp;on.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Sync&#39;ing&nbsp;between&nbsp;the&nbsp;Squid&nbsp;caches,&nbsp;and&nbsp;interception&nbsp;proxying&nbsp;can&nbsp;each&lt;br&gt;<br>
&gt;&nbsp;have&nbsp;unwanted&nbsp;side&nbsp;effects.&nbsp;Its&nbsp;best&nbsp;to&nbsp;deal&nbsp;with&nbsp;those&nbsp;in&nbsp;separately&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;avoid&nbsp;confusion&nbsp;and&nbsp;troubles.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&quot;active-active&nbsp;on&nbsp;both&nbsp;core&nbsp;n&nbsp;firewall&quot;&nbsp;does&nbsp;not&nbsp;matter.&nbsp;You&nbsp;MUST&nbsp;NOT&lt;br&gt;<br>
&gt;&nbsp;perform&nbsp;destination-NAT&nbsp;(or&nbsp;TPROXY)&nbsp;on&nbsp;any&nbsp;machine&nbsp;other&nbsp;than&nbsp;the&nbsp;Squid&lt;br&gt;<br>
&gt;&nbsp;box&nbsp;receiving&nbsp;the&nbsp;TCP&nbsp;connection&nbsp;from&nbsp;client(s).&nbsp;The&nbsp;firewalls&nbsp;and&nbsp;core&lt;br&gt;<br>
&gt;&nbsp;only&nbsp;perform&nbsp;*routing*&nbsp;(perhapse&nbsp;over&nbsp;a&nbsp;tunnel)&nbsp;to&nbsp;get&nbsp;the&nbsp;TCP&nbsp;packets&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;the&nbsp;right&nbsp;Squid&nbsp;box.&nbsp;This&nbsp;has&nbsp;the&nbsp;nice&nbsp;side&nbsp;effect&nbsp;of&nbsp;greatly&lt;br&gt;<br>
&gt;&nbsp;reducing&nbsp;the&nbsp;amount&nbsp;of&nbsp;data&nbsp;the&nbsp;firewalls&nbsp;need&nbsp;to&nbsp;sync.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Hints&nbsp;for&nbsp;beginners:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt; &nbsp;Caching&nbsp;can&nbsp;make&nbsp;some&nbsp;traffic&nbsp;appear&nbsp;slower&nbsp;-&nbsp;all&nbsp;MISS&nbsp;and&nbsp;some&nbsp;REFRESH&lt;br&gt;<br>
&gt;&nbsp;transactions.&nbsp;There&nbsp;is&nbsp;extra&nbsp;packet&nbsp;processing&nbsp;done&nbsp;by&nbsp;the&nbsp;proxy&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;latency&nbsp;getting&nbsp;the&nbsp;packets&nbsp;around.&nbsp;This&nbsp;is&nbsp;the&nbsp;tradeoff&nbsp;for&nbsp;bandwidth&lt;br&gt;<br>
&gt;&nbsp;saving.&nbsp;Super-fast&nbsp;HITs&nbsp;and&nbsp;traffic&nbsp;optimization&nbsp;can&nbsp;make&nbsp;up&nbsp;for&nbsp;that,&lt;br&gt;<br>
&gt;&nbsp;but&nbsp;not&nbsp;always.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Amos&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
Version:&nbsp;GnuPG&nbsp;v2&lt;br&gt;<br>
&lt;br&gt;<br>
iQEcBAEBCAAGBQJVTzRXAAoJENNXIZxhPexGXJYIAMtb90ri0hymGN7ZGTVH98cy&lt;br&gt;<br>
uZbNjQ2kYQqxXGCkkSFECpjM0wqkONF6pPGrL1YqcecZCkmGNS6ExE6r4FMuX8y1&lt;br&gt;<br>
oBE2z9OfaN/4CfMq4+WvE0jwtyOSVyKIUSUKr+I2qTNCubg0kFgr9yWONOdLbUDJ&lt;br&gt;<br>
FJ06c1qqb1U8u8ZsYFTL7/hfTgVRr6QjnGQlnNcCwzU+/QIAtAP7GyRxJB0b0yxJ&lt;br&gt;<br>
i2M/LQ+d1LJMhCgX6ICgBas5x+GXXB3KHtH0jAn/xF854qciQhbOrMf0O/j/ac19&lt;br&gt;<br>
4XB8qfqsGkIvPe3TcPSYypyOJn1dXILpb7mmNogGzh+rE4nmdRG7cam6MX3En8c=&lt;br&gt;<br>
=SXkU&lt;br&gt;<br>
-----END&nbsp;PGP&nbsp;SIGNATURE-----&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
