<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;It&nbsp;seems&nbsp;the&nbsp;option&nbsp;http_port&nbsp;cannot&nbsp;be&nbsp;put&nbsp;under&nbsp;each&nbsp;process&nbsp;ID.&nbsp;If&nbsp;using&nbsp;workers,&nbsp;http_port&nbsp;cannot&nbsp;bind&nbsp;to&nbsp;ports&nbsp;specified&nbsp;from&nbsp;http_port.&lt;br&gt;&lt;br&gt;Alex&lt;br&gt;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;div&gt;&gt;&nbsp;Date&#58;&nbsp;Wed,&nbsp;1&nbsp;Jul&nbsp;2015&nbsp;14&#58;56&#58;46&nbsp;&#43;1200&lt;br&gt;&gt;&nbsp;From&#58;&nbsp;squid3&#64;treenet.co.nz&lt;br&gt;&gt;&nbsp;To&#58;&nbsp;alex_wu2012&#64;hotmail.com&#59;&nbsp;squid-users&#64;lists.squid-cache.org&lt;br&gt;&gt;&nbsp;Subject&#58;&nbsp;Re&#58;&nbsp;&#91;squid-users&#93;&nbsp;sslbump&nbsp;and&nbsp;caching&nbsp;of&nbsp;generated&nbsp;cert&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;On&nbsp;1/07/2015&nbsp;5&#58;08&nbsp;a.m.,&nbsp;Alex&nbsp;Wu&nbsp;wrote&#58;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;/&#42;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;You&nbsp;could&nbsp;assign&nbsp;two&nbsp;workers,&nbsp;each&nbsp;with&nbsp;a&nbsp;different&nbsp;http_port&nbsp;and&lt;br&gt;&gt;&nbsp;&#62;&nbsp;ssl_crtd&nbsp;helper&nbsp;using&nbsp;different&nbsp;cert&nbsp;databases.&lt;br&gt;&gt;&nbsp;&#62;&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;&#42;/&lt;br&gt;&gt;&nbsp;&#62;&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;How&nbsp;to&nbsp;do&nbsp;this&#63;&nbsp;It&nbsp;sounds&nbsp;it&nbsp;might&nbsp;meet&nbsp;our&nbsp;need.&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;at&nbsp;the&nbsp;top&nbsp;of&nbsp;squid.conf&nbsp;place&#58;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;workers&nbsp;2&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;if&nbsp;&#36;&#123;process_number&#125;&nbsp;&#61;&nbsp;1&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;http_port&nbsp;10045&nbsp;...&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;sslcrtd_program&nbsp;...&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;else&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;http_port&nbsp;10046&nbsp;...&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;sslcrtd_program&nbsp;...&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;endif&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;The&nbsp;list&nbsp;of&nbsp;other&nbsp;directives&nbsp;which&nbsp;also&nbsp;need&nbsp;separate&nbsp;per-worker&lt;br&gt;&gt;&nbsp;configuration&nbsp;can&nbsp;be&nbsp;found&nbsp;at&lt;br&gt;&gt;&nbsp;&#60;http&#58;//wiki.squid-cache.org/MultipleInstances&#35;Relevant_squid.conf_directives&#62;.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;The&nbsp;reason&nbsp;is&nbsp;that&nbsp;we&nbsp;assign&nbsp;a&nbsp;port&nbsp;for&nbsp;internal,&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;so&nbsp;we&nbsp;can&nbsp;use&nbsp;cheap&nbsp;CA&nbsp;&#40;self-generated&nbsp;CA&#41;,&nbsp;for&nbsp;the&nbsp;collaboration,&nbsp;we&nbsp;use&nbsp;a&nbsp;diffrent&nbsp;port,&nbsp;&lt;br&gt;&gt;&nbsp;&#62;&nbsp;may&nbsp;need&nbsp;to&nbsp;set&nbsp;up&nbsp;a&nbsp;different&nbsp;CA.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;That&nbsp;dont&nbsp;make&nbsp;sense&nbsp;to&nbsp;me.&nbsp;There&nbsp;should&nbsp;be&nbsp;no&nbsp;need&nbsp;for&nbsp;internal&nbsp;traffic&lt;br&gt;&gt;&nbsp;to&nbsp;use&nbsp;a&nbsp;different&nbsp;CA&nbsp;from&nbsp;what&nbsp;external&nbsp;has.&nbsp;Costs&nbsp;are&nbsp;already&nbsp;paid&nbsp;to&lt;br&gt;&gt;&nbsp;get&nbsp;the&nbsp;public&nbsp;CA,&nbsp;there&nbsp;is&nbsp;no&nbsp;incremental&nbsp;increase&nbsp;for&nbsp;internal&nbsp;traffic&lt;br&gt;&gt;&nbsp;to&nbsp;use&nbsp;it&nbsp;as&nbsp;well.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;You&nbsp;can&nbsp;do&nbsp;simpler&nbsp;things&nbsp;like&nbsp;using&nbsp;a&nbsp;private&nbsp;LAN-specific&nbsp;IP&nbsp;on&nbsp;the&lt;br&gt;&gt;&nbsp;listening&nbsp;http_port&nbsp;for&nbsp;internal&nbsp;traffic&nbsp;and&nbsp;myportname&nbsp;ACL&nbsp;for&nbsp;internal&lt;br&gt;&gt;&nbsp;vs&nbsp;external&nbsp;access&nbsp;controls&nbsp;&#40;that&nbsp;work&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;the&nbsp;request&lt;br&gt;&gt;&nbsp;has&nbsp;been&nbsp;bumped&nbsp;or&nbsp;not&#41;.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Amos&lt;br&gt;&gt;&nbsp;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
