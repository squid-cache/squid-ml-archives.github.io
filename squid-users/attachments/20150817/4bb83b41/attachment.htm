<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;11.00.9600.17937&quot;&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;Hai&nbsp;all,&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I&nbsp;have&nbsp;a&nbsp;Debian&nbsp;<br>
Jessie&nbsp;setup&nbsp;with&nbsp;squid&nbsp;3.4&nbsp;,&nbsp;all&nbsp;debian&nbsp;packages.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;Im&nbsp;using&nbsp;samba&nbsp;4&nbsp;AD&nbsp;<br>
as&nbsp;domain&nbsp;controllers&nbsp;for&nbsp;my&nbsp;kerberos&nbsp;authentication.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I've&nbsp;a&nbsp;setup&nbsp;as&nbsp;<br>
followed&nbsp;here&nbsp;:&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;A&nbsp;<br>
href=&quot;http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory&quot;&gt;&lt;FONT&nbsp;<br>
size=2&nbsp;<br>
face=Arial&gt;http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;<br>
size=2&nbsp;face=Arial&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I&nbsp;have&nbsp;my&nbsp;kerberos&nbsp;<br>
auth&nbsp;working,&nbsp;so&nbsp;i&nbsp;dont&nbsp;type&nbsp;any&nbsp;password&nbsp;with&nbsp;a&nbsp;&quot;domain&nbsp;joined&nbsp;computer&quot;&nbsp;&nbsp;<br>
when&nbsp;i&nbsp;want&nbsp;to&nbsp;internet.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I&nbsp;Have&nbsp;my&nbsp;Ldap&nbsp;auth&nbsp;<br>
working,&nbsp;for&nbsp;my&nbsp;&quot;Non&nbsp;windows,&nbsp;non&nbsp;domain&nbsp;joined&quot;&nbsp;Devices.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;Now,&nbsp;i&nbsp;need&nbsp;to&nbsp;<br>
give&nbsp;users&nbsp;access&nbsp;to&nbsp;the&nbsp;internet,&nbsp;a&nbsp;non&nbsp;domain&nbsp;joined,&nbsp;windows&nbsp;<br>
PC.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;Im&nbsp;getting&nbsp;:&nbsp;&nbsp;(&nbsp;<br>
with&nbsp;markus&nbsp;negotiate_wrapper&nbsp;1.0.1&nbsp;&nbsp;)&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;2015/08/17&nbsp;16:31:51&nbsp;<br>
kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Result:&nbsp;{result=BH,&nbsp;<br>
notes={message:&nbsp;NT_STATUS_UNSUCCESSFUL&nbsp;*&nbsp;NT_STATUS_UNSUCCESSFUL;&nbsp;<br>
}&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;2015/08/17&nbsp;16:32:03|&nbsp;<br>
negotiate_wrapper:&nbsp;Got&nbsp;'YR&nbsp;TlR....&nbsp;&nbsp;&nbsp;='&nbsp;from&nbsp;squid&nbsp;(length:&nbsp;59).&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;2015/08/17&nbsp;16:32:03|&nbsp;negotiate_wrapper:&nbsp;<br>
Decode&nbsp;'TlR...&lt;SPAN&nbsp;class=403484514-17082015&gt;&nbsp;='&nbsp;(decoded&nbsp;length:&nbsp;<br>
40).&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;2015/08/17&nbsp;16:32:03|&nbsp;negotiate_wrapper:&nbsp;<br>
received&nbsp;type&nbsp;1&nbsp;NTLM&nbsp;token&lt;BR&gt;2015/08/17&nbsp;16:32:03|&nbsp;negotiate_wrapper:&nbsp;Return&nbsp;'TT&nbsp;<br>
TlR&lt;SPAN&nbsp;class=403484514-17082015&gt;......&nbsp;&nbsp;AA=&nbsp;*&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;2015/08/17&nbsp;16:32:03|&nbsp;<br>
negotiate_wrapper:&nbsp;Got&nbsp;'KK&nbsp;TlR....&nbsp;&nbsp;8='&nbsp;from&nbsp;squid&nbsp;(length:&nbsp;<br>
711).&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;2015/08/17&nbsp;16:32:03|&nbsp;negotiate_wrapper:&nbsp;<br>
Decode&nbsp;'TlR&lt;SPAN&nbsp;class=403484514-17082015&gt;.....8='&nbsp;(decoded&nbsp;length:&nbsp;<br>
530).&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;2015/08/17&nbsp;16:32:03|&nbsp;<br>
negotiate_wrapper:&nbsp;received&nbsp;type&nbsp;3&nbsp;NTLM&nbsp;token&lt;BR&gt;2015/08/17&nbsp;16:32:03|&nbsp;<br>
negotiate_wrapper:&nbsp;Return&nbsp;'BH&nbsp;NT_STATUS_UNSUCCESSFUL&nbsp;*&nbsp;<br>
NT_STATUS_UNSUCCESSFUL&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;2015/08/17&nbsp;16:32:03&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;<br>
Authentication&nbsp;validating&nbsp;user.&nbsp;Result:&nbsp;{result=BH,&nbsp;notes={message:&nbsp;<br>
NT_STATUS_UNSUCCESSFUL&nbsp;*&nbsp;NT_STATUS_UNSUCCESSFUL;&nbsp;}}&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I&nbsp;know&nbsp;the&nbsp;<br>
following&nbsp;:&nbsp;(&nbsp;and&nbsp;correct&nbsp;me&nbsp;if&nbsp;im&nbsp;thinking&nbsp;wrong&nbsp;here.)&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;##&nbsp;1)&nbsp;Pure&nbsp;Kerberos.&nbsp;<br>
Passthrough&nbsp;auth&nbsp;for&nbsp;windows&nbsp;users&nbsp;with&nbsp;windows&nbsp;DOMAIN&nbsp;JOINED&nbsp;<br>
pc's.&lt;BR&gt;##&nbsp;&nbsp;&nbsp;&nbsp;Fallback&nbsp;to&nbsp;Ldap&nbsp;for&nbsp;NON&nbsp;WINDOWS&nbsp;NON&nbsp;DOMAIN&nbsp;JOINED&nbsp;<br>
Devices.&lt;BR&gt;##&nbsp;&nbsp;&nbsp;&nbsp;NO&nbsp;NTLM.&nbsp;AKA,&nbsp;a&nbsp;windows&nbsp;pc,&nbsp;NOT&nbsp;JOINED&nbsp;in&nbsp;the&nbsp;<br>
domain,&nbsp;with&nbsp;end&nbsp;up&nbsp;in&nbsp;always&nbsp;user&nbsp;popup&nbsp;for&nbsp;auth.&lt;BR&gt;##&nbsp;&nbsp;&nbsp;&nbsp;Which&nbsp;<br>
will&nbsp;always&nbsp;fail&nbsp;because&nbsp;of&nbsp;NTLM&nbsp;TYPE&nbsp;1&nbsp;and&nbsp;TYPE&nbsp;2,&nbsp;authorisations.&lt;BR&gt;##&nbsp;2)&nbsp;<br>
NEGOTIATE&nbsp;AUTH,&nbsp;which&nbsp;will&nbsp;do&nbsp;all&nbsp;of&nbsp;above,&nbsp;but&nbsp;also&nbsp;authenticated&nbsp;Windows&nbsp;PC's&nbsp;<br>
Not&nbsp;domain&nbsp;Joined.&lt;BR&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;But&nbsp;i&nbsp;recieve&nbsp;a&nbsp;type&nbsp;<br>
3&nbsp;NTLM&nbsp;token...&nbsp;&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;This&nbsp;are&nbsp;the&nbsp;configs&nbsp;<br>
have&nbsp;tested&nbsp;and&nbsp;these&nbsp;2&nbsp;work.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;For&nbsp;kerberos&nbsp;auth&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;auth_param&nbsp;negotiate&nbsp;<br>
program&nbsp;/usr/lib/squid3/negotiate_kerberos_auth&nbsp;-s&nbsp;&lt;/FONT&gt;&lt;A&nbsp;<br>
href=&quot;mailto:HTTP/hostname.fqdn@REALM&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;HTTP/hostname.fqdn@REALM&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;for&nbsp;basic&nbsp;auth&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;auth_param&nbsp;basic&nbsp;program&nbsp;<br>
/usr/lib/squid3/basic_ldap_auth&nbsp;-R&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;-b&nbsp;&quot;dc=&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;internal&lt;/SPAN&gt;,dc=&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;domain&lt;/SPAN&gt;,dc=&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;tld&lt;/SPAN&gt;&quot;&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;-D&nbsp;&lt;/FONT&gt;&lt;A&nbsp;<br>
href=&quot;mailto:ldap-bind@internal.domainl&quot;&gt;&lt;A&nbsp;<br>
href=&quot;mailto:ldap-bind@internal.domain.tld&quot;&gt;&lt;A&nbsp;<br>
href=&quot;mailto:ldap-bind@internal.domain.tld&quot;&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;<br>
face=Arial&gt;ldap-bind@&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;internal.domain&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/A&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;.&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;tld&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/A&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&nbsp;-W&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&nbsp;/etc/squid3/private/ldap-bind&nbsp;<br>
\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;-f&nbsp;(|(userPrincipalName=%s)(sAMAccountName=%s))&nbsp;<br>
\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;-h&nbsp;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;addc.internal.domain.tld&nbsp;&nbsp;&lt;/SPAN&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;These&nbsp;dont&nbsp;work.&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;auth_param&nbsp;negotiate&nbsp;<br>
program&nbsp;/usr/lib/squid3/negotiate_wrapper_auth&nbsp;-d&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;--ntlm&nbsp;<br>
/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;<br>
--domain=BAZRTD&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;--kerberos&nbsp;<br>
/usr/lib/squid3/negotiate_kerberos_auth&nbsp;-d&nbsp;-s&nbsp;<br>
GSS_C_NO_NAME&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;o&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;r&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;<br>
/usr/local/bin/negotiate_wrapper&nbsp;-d&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;--ntlm&nbsp;<br>
/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;<br>
--domain=BAZRTD&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;--kerberos&nbsp;<br>
/usr/lib/squid3/negotiate_kerberos_auth&nbsp;-d&nbsp;-s&nbsp;<br>
GSS_C_NO_NAME&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;tried&nbsp;here&nbsp;the&nbsp;supplied&nbsp;wrapper&nbsp;<br>
with&nbsp;squid.:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/lib/squid3/negotiate_wrapper_auth&nbsp;&nbsp;<br>
&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;and&nbsp;i&nbsp;have&nbsp;<br>
tried&nbsp;the&nbsp;negotiate_wrapper&nbsp;of&nbsp;Markus,&nbsp;as&nbsp;the&nbsp;wiki.squid-cache.org&nbsp;also&nbsp;<br>
says&nbsp;&nbsp;here&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;A&nbsp;<br>
href=&quot;http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory&quot;&gt;&lt;FONT&nbsp;<br>
size=2&nbsp;<br>
face=Arial&gt;http://wiki.squid-cache.org/ConfigExamples/Authenticate/WindowsActiveDirectory&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;<br>
size=2&nbsp;face=Arial&gt;&nbsp;&nbsp;&nbsp;(&nbsp;Install&nbsp;negotiate_wrapper&nbsp;)&nbsp;&nbsp;<br>
&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&nbsp;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;the&nbsp;kerberos&nbsp;part&nbsp;<br>
works&nbsp;but&nbsp;not&nbsp;the&nbsp;ntlm&nbsp;.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;when&nbsp;i&nbsp;try&nbsp;with&nbsp;<br>
only:&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;###&nbsp;pure&nbsp;ntlm&nbsp;<br>
authentication&lt;BR&gt;&lt;SPAN&nbsp;id=line-9-2&nbsp;class=anchor&gt;&lt;/SPAN&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;<br>
/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;<br>
--domain=EXAMPLE&lt;BR&gt;&lt;SPAN&nbsp;id=line-10-1&nbsp;class=anchor&gt;&lt;/SPAN&gt;auth_param&nbsp;ntlm&nbsp;<br>
children&nbsp;10&lt;BR&gt;&lt;SPAN&nbsp;id=line-11-1&nbsp;class=anchor&gt;&lt;/SPAN&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;<br>
off&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;im&nbsp;also&nbsp;unable&nbsp;to&nbsp;<br>
authenticat&nbsp;on&nbsp;the&nbsp;proxy.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;all&nbsp;winbind&nbsp;test&nbsp;<br>
work..&nbsp;&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;I&nbsp;googled&nbsp;a&nbsp;lot,&nbsp;but&nbsp;<br>
i&nbsp;didnt&nbsp;find&nbsp;any&nbsp;solutions&nbsp;so&nbsp;im&nbsp;hoping&nbsp;someone&nbsp;here&nbsp;knows&nbsp;more.&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;so&nbsp;anyone&nbsp;any&nbsp;<br>
hint&nbsp;where&nbsp;to&nbsp;look,&nbsp;i&nbsp;cant&nbsp;figure&nbsp;this&nbsp;out.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;Greetz,&nbsp;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;Louis&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&nbsp;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=403484514-17082015&gt;&lt;FONT&nbsp;size=2&nbsp;<br>
face=Arial&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=403484514-17082015&gt;&nbsp;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
