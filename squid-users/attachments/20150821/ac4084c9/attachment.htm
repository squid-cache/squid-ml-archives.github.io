<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/4.6.6&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
On&nbsp;Fri,&nbsp;2015-08-21&nbsp;at&nbsp;05:26&nbsp;-0600,&nbsp;James&nbsp;Lay&nbsp;wrote:&lt;BR&gt;<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Fri,&nbsp;2015-08-21&nbsp;at&nbsp;19:28&nbsp;+1200,&nbsp;Amos&nbsp;Jeffries&nbsp;wrote:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
Hi&nbsp;all,<br>
<br>
&nbsp;Christos&nbsp;has&nbsp;managed&nbsp;(we&nbsp;think)&nbsp;to&nbsp;resolve&nbsp;a&nbsp;fairly&nbsp;major&nbsp;design&nbsp;issue<br>
that&nbsp;has&nbsp;been&nbsp;plaguing&nbsp;the&nbsp;3.5&nbsp;series&nbsp;peek-and-splice&nbsp;feature&nbsp;so&nbsp;far.<br>
&nbsp;(&lt;&lt;A&nbsp;HREF=&quot;http://wiki.squid-cache.org/Features/SslPeekAndSplice&quot;&gt;http://wiki.squid-cache.org/Features/SslPeekAndSplice&lt;/A&gt;&gt;)<br>
<br>
The&nbsp;problem&nbsp;was&nbsp;that&nbsp;Squid&nbsp;was&nbsp;not&nbsp;actually&nbsp;following&nbsp;the&nbsp;intended&nbsp;and<br>
documented&nbsp;logic&nbsp;of&nbsp;skipping&nbsp;the&nbsp;impossible&nbsp;bumping&nbsp;actions.&nbsp;The&nbsp;patch<br>
for&nbsp;that&nbsp;will&nbsp;be&nbsp;in&nbsp;3.5&nbsp;snaphots&nbsp;labelled&nbsp;r13895&nbsp;or&nbsp;later&nbsp;(still&nbsp;waiting<br>
on&nbsp;mirror&nbsp;updates&nbsp;as&nbsp;I&nbsp;write&nbsp;this&nbsp;1-2hrs&nbsp;more&nbsp;maybe).<br>
(&lt;&lt;A&nbsp;HREF=&quot;http://www.squid-cache.org/Versions/v3/3.5/&quot;&gt;http://www.squid-cache.org/Versions/v3/3.5/&lt;/A&gt;&gt;)<br>
<br>
<br>
Since&nbsp;it&nbsp;is&nbsp;affecting&nbsp;the&nbsp;visible&nbsp;behaviour&nbsp;of&nbsp;squid.conf&nbsp;settings&nbsp;I<br>
would&nbsp;like&nbsp;some&nbsp;volunteers&nbsp;to&nbsp;help&nbsp;test&nbsp;it&nbsp;out.&nbsp;Find&nbsp;what&nbsp;problems<br>
remain,&nbsp;and&nbsp;let&nbsp;me&nbsp;know&nbsp;what&nbsp;to&nbsp;alert&nbsp;others&nbsp;to&nbsp;in&nbsp;the&nbsp;next&nbsp;formal&nbsp;release.<br>
<br>
<br>
We&nbsp;need&nbsp;testing&nbsp;both&nbsp;from&nbsp;those&nbsp;having&nbsp;issues&nbsp;currently,&nbsp;and&nbsp;those&nbsp;who<br>
managed&nbsp;to&nbsp;get&nbsp;a&nbsp;trial-and-error&nbsp;config&nbsp;going&nbsp;with&nbsp;older&nbsp;3.5.<br>
<br>
Hopefully,&nbsp;if&nbsp;you&nbsp;are&nbsp;using&nbsp;the&nbsp;at_step&nbsp;workarounds&nbsp;there&nbsp;should&nbsp;not&nbsp;be<br>
any&nbsp;visible&nbsp;difference.&nbsp;But&nbsp;some&nbsp;of&nbsp;the&nbsp;at_step&nbsp;tests&nbsp;may&nbsp;be&nbsp;needless&nbsp;now.<br>
<br>
Thank&nbsp;you&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;assistance.<br>
<br>
Amos<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;A&nbsp;HREF=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/A&gt;<br>
&lt;A&nbsp;HREF=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/A&gt;<br>
&lt;/PRE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Count&nbsp;me&nbsp;in....I'll&nbsp;let&nbsp;you&nbsp;know&nbsp;my&nbsp;results...my&nbsp;config&nbsp;is&nbsp;in&nbsp;this&nbsp;list...it&nbsp;hasn't&nbsp;changed.&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;James&nbsp;<br>
&lt;PRE&gt;<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;A&nbsp;HREF=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/A&gt;<br>
&lt;A&nbsp;HREF=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/A&gt;<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;BR&gt;<br>
Appears&nbsp;to&nbsp;work&nbsp;fine&nbsp;here:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TT&gt;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.5.7-20150821-r13895&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Service&nbsp;Name:&nbsp;squid&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;configure&nbsp;options:&nbsp;&nbsp;'--prefix=/opt'&nbsp;'--with-openssl'&nbsp;'--enable-ssl'&nbsp;'--enable-ssl-crtd'&nbsp;'--enable-linux-netfilter'&nbsp;'--enable-follow-x-forwarded-for'&nbsp;'--with-large-files'&nbsp;'--sysconfdir=/opt/etc/squid'&nbsp;'--enable-external-acl-helpers=none'&lt;/TT&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:11&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:11&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;69.192.193.247:443&nbsp;HTTP/1.1&quot;&nbsp;configuration.apple.com&nbsp;-&nbsp;200&nbsp;9&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:29&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:29&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;17.173.66.95:443&nbsp;HTTP/1.1&quot;&nbsp;pd-st.itunes.apple.com&nbsp;-&nbsp;200&nbsp;532&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:30&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:30&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;69.192.207.154:443&nbsp;HTTP/1.1&quot;&nbsp;init.itunes.apple.com&nbsp;-&nbsp;200&nbsp;31123&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:30&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:30&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;17.173.66.135:443&nbsp;HTTP/1.1&quot;&nbsp;xp.apple.com&nbsp;-&nbsp;200&nbsp;657&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:30&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:30&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;17.173.66.95:443&nbsp;HTTP/1.1&quot;&nbsp;pd-st.itunes.apple.com&nbsp;-&nbsp;200&nbsp;2059&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:31&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:31&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;17.173.66.73:443&nbsp;HTTP/1.1&quot;&nbsp;partiality.itunes.apple.com&nbsp;-&nbsp;200&nbsp;679&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:32&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:32&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;69.192.193.29:443&nbsp;HTTP/1.1&quot;&nbsp;iadsdk.apple.com&nbsp;-&nbsp;200&nbsp;409&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;Aug&nbsp;21&nbsp;06:21:32&nbsp;gateway&nbsp;(squid-1):&nbsp;192.168.1.100&nbsp;-&nbsp;-&nbsp;[21/Aug/2015:06:21:32&nbsp;-0600]&nbsp;&quot;CONNECT&nbsp;69.192.193.29:443&nbsp;HTTP/1.1&quot;&nbsp;iadsdk.apple.com&nbsp;-&nbsp;200&nbsp;409&nbsp;TCP_TUNNEL:ORIGINAL_DST&nbsp;peek&lt;/TT&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;still&nbsp;see&nbsp;only&nbsp;peek&nbsp;instead&nbsp;of&nbsp;the&nbsp;final&nbsp;splice/bump&nbsp;in&nbsp;the&nbsp;logs...hoping&nbsp;that&nbsp;gets&nbsp;resolved&nbsp;soon.&nbsp;&nbsp;Thanks&nbsp;Alex.&lt;BR&gt;<br>
&lt;BR&gt;<br>
James<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
