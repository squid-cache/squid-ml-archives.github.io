<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;GENERATOR&quot;&nbsp;content=&quot;GtkHTML/4.8.5&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;table&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;width=&quot;100%&quot;&gt;<br>
&lt;tbody&gt;<br>
&lt;tr&gt;<br>
&lt;td&gt;&lt;br&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/tbody&gt;<br>
&lt;/table&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;type=&quot;CITE&quot;&gt;On&nbsp;2/09/2015&nbsp;2:35&nbsp;a.m.,&nbsp;Jasper&nbsp;Van&nbsp;Der&nbsp;Westhuizen&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Good&nbsp;day&nbsp;everyone&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;my&nbsp;Squid&nbsp;proxy&nbsp;cache.&nbsp;On&nbsp;two&nbsp;occasions&nbsp;over&nbsp;the&nbsp;last&nbsp;week&nbsp;the&nbsp;cache&nbsp;partitions&nbsp;have&nbsp;filled&nbsp;up&nbsp;to&nbsp;100%.&nbsp;I&nbsp;have&nbsp;4&nbsp;load&nbsp;balanced&nbsp;nodes&nbsp;with&nbsp;100GB&nbsp;cache&nbsp;partitions&nbsp;each.&nbsp;All&nbsp;of&nbsp;them&nbsp;have&nbsp;filled&nbsp;up.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;tried&nbsp;to&nbsp;limit&nbsp;the&nbsp;size&nbsp;by&nbsp;using&nbsp;the&nbsp;following&nbsp;cache_dir&nbsp;directive.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;cache_dir&nbsp;ufs&nbsp;/var/cache/squid/&nbsp;61440&nbsp;128&nbsp;512&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;had&nbsp;a&nbsp;very&nbsp;large&nbsp;increase&nbsp;in&nbsp;traffic&nbsp;over&nbsp;the&nbsp;last&nbsp;couple&nbsp;of&nbsp;months,&nbsp;but&nbsp;surely&nbsp;the&nbsp;configuration&nbsp;above&nbsp;should&nbsp;prevent&nbsp;the&nbsp;cache&nbsp;from&nbsp;filling&nbsp;up?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;depends&nbsp;on&nbsp;what&nbsp;the&nbsp;partition&nbsp;is&nbsp;filling&nbsp;up&nbsp;with.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;its&nbsp;cache&nbsp;objects&nbsp;not&nbsp;being&nbsp;erased,&nbsp;its&nbsp;probably&nbsp;bug&nbsp;3553.&nbsp;High&lt;br&gt;<br>
traffic&nbsp;speed&nbsp;is&nbsp;the&nbsp;bug&nbsp;trigger.&nbsp;There&nbsp;is&nbsp;a&nbsp;fix&nbsp;in&nbsp;the&nbsp;latest&nbsp;3.5&lt;br&gt;<br>
snapshot&nbsp;already&nbsp;if&nbsp;its&nbsp;urgent&nbsp;-&nbsp;and&nbsp;will&nbsp;be&nbsp;in&nbsp;the&nbsp;3.5.8&nbsp;I'm&nbsp;currently&lt;br&gt;<br>
preparing&nbsp;for&nbsp;release&nbsp;(ETA&nbsp;within&nbsp;24&nbsp;hrs).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;completeness;&nbsp;if&nbsp;swap.state&nbsp;or&nbsp;netdb&nbsp;journals&nbsp;are&nbsp;growing&nbsp;huge&nbsp;and&lt;br&gt;<br>
filling&nbsp;up&nbsp;the&nbsp;extra&nbsp;partition&nbsp;space.&nbsp;Then&nbsp;its&nbsp;probably&nbsp;just&nbsp;&quot;squid&nbsp;-k&lt;br&gt;<br>
rotate&quot;&nbsp;not&nbsp;being&nbsp;used&nbsp;often&nbsp;enough&nbsp;for&nbsp;the&nbsp;traffic&nbsp;volume.&nbsp;Regular,&nbsp;but&lt;br&gt;<br>
not&nbsp;too&nbsp;frequent,&nbsp;rotation&nbsp;is&nbsp;good&nbsp;for&nbsp;Squids&nbsp;overall&nbsp;health&nbsp;and&nbsp;clears&lt;br&gt;<br>
up&nbsp;file&nbsp;based&nbsp;outputs&nbsp;in&nbsp;all&nbsp;sorts&nbsp;of&nbsp;areas.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
Thank&nbsp;you&nbsp;Amos.&nbsp;I&nbsp;will&nbsp;look&nbsp;out&nbsp;for&nbsp;the&nbsp;3.5.8&nbsp;release&nbsp;and&nbsp;manage&nbsp;the&nbsp;situation&nbsp;in&nbsp;the&nbsp;mean&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards&lt;br&gt;<br>
Jasper&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;mc&nbsp;type=&quot;body&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;face=&quot;Arial;&quot;&nbsp;size=&quot;1&quot;&gt;Disclaimer:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.shopriteholdings.co.za/Pages/ShopriteE-mailDisclaimer.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.shopriteholdings.co.za/Pages/ShopriteE-mailDisclaimer.aspx&lt;/a&gt;<br>
&lt;/font&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
