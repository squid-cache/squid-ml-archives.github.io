<tt>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;#######&lt;br&gt;<br>
#&nbsp;Negotiate&lt;br&gt;<br>
#&nbsp;#######&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/Features/Authentication&quot;&gt;http://wiki.squid-cache.org/Features/Authentication&lt;/a&gt;&lt;br&gt;<br>
#&nbsp;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/Features/NegotiateAuthentication&quot;&gt;http://wiki.squid-cache.org/Features/NegotiateAuthentication&lt;/a&gt;&lt;br&gt;<br>
auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=gss-spnego&nbsp;--configfile&nbsp;/etc/samba/smb.conf-squid&lt;br&gt;<br>
auth_param&nbsp;negotiate&nbsp;children&nbsp;10&nbsp;startup=0&nbsp;idle=1&lt;br&gt;<br>
auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;#######&lt;br&gt;<br>
#&nbsp;NTLM&nbsp;AUTH&lt;br&gt;<br>
#&nbsp;#######&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;ntlm&nbsp;auth&lt;br&gt;<br>
auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;--configfile&nbsp;/etc/samba/smb.conf-squid&lt;br&gt;<br>
auth_param&nbsp;ntlm&nbsp;children&nbsp;10&lt;br&gt;<br>
#auth_param&nbsp;ntlm&nbsp;children&nbsp;10&nbsp;startup=0&nbsp;idle=1&lt;br&gt;<br>
#auth_param&nbsp;ntlm&nbsp;keep_alive&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;#######&lt;br&gt;<br>
#&nbsp;NTLM&nbsp;over&nbsp;basic&lt;br&gt;<br>
#&nbsp;#######&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;#&nbsp;warning:&nbsp;basic&nbsp;authentication&nbsp;sends&nbsp;passwords&nbsp;plaintext&lt;br&gt;<br>
#&nbsp;a&nbsp;network&nbsp;sniffer&nbsp;can&nbsp;and&nbsp;will&nbsp;discover&nbsp;passwords&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-basic&nbsp;--configfile&nbsp;/etc/samba/smb.conf-squid&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;children&nbsp;5&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;realm&nbsp;Squid&nbsp;proxy-caching&nbsp;web&nbsp;server&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;2&nbsp;September&nbsp;2015&nbsp;at&nbsp;11:15,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;2/09/2015&nbsp;11:50&nbsp;a.m.,&nbsp;Alex&nbsp;Samad&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;have&nbsp;squid&nbsp;setup&nbsp;to&nbsp;use&lt;br&gt;<br>
&gt;&gt;&nbsp;NTLM&nbsp;and&nbsp;then&nbsp;faill&nbsp;back&nbsp;to&nbsp;basic.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;when&nbsp;it&nbsp;fails&nbsp;back&nbsp;to&nbsp;basic,&nbsp;my&nbsp;user&nbsp;put&nbsp;in&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;firstname.surname@a.b.c&nbsp;which&nbsp;fails.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;if&nbsp;they&nbsp;put&nbsp;in&nbsp;firstname.surname&nbsp;it&nbsp;works&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;is&nbsp;there&nbsp;some&nbsp;way&nbsp;to&nbsp;get&nbsp;squid&nbsp;to&nbsp;strip&nbsp;off&nbsp;the&nbsp;@&lt;.*&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;That&nbsp;depends&nbsp;on&nbsp;which&nbsp;helper&nbsp;you&nbsp;are&nbsp;using&nbsp;to&nbsp;validate&nbsp;the&nbsp;Basic&nbsp;auth&lt;br&gt;<br>
&gt;&nbsp;credentials.&nbsp;The&nbsp;ones&nbsp;which&nbsp;support&nbsp;it&nbsp;do&nbsp;so&nbsp;via&nbsp;a&nbsp;command&nbsp;line&lt;br&gt;<br>
&gt;&nbsp;parameter.&nbsp;So&nbsp;check&nbsp;our&nbsp;helpers&nbsp;documentation&nbsp;to&nbsp;see&nbsp;if&nbsp;one&nbsp;exists&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;strip&nbsp;Kerberos/NTLM/Domain.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Otherwise&nbsp;you&nbsp;can&nbsp;always&nbsp;script&nbsp;a&nbsp;helper&nbsp;for&nbsp;yourself.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;also&nbsp;is&nbsp;there&nbsp;some&nbsp;way&nbsp;to&nbsp;change&nbsp;the&nbsp;info&nbsp;in&nbsp;the&nbsp;dialogue&nbsp;box&nbsp;that&nbsp;pops&nbsp;up&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;only&nbsp;controllable&nbsp;part&nbsp;of&nbsp;the&nbsp;popup&nbsp;dialog&nbsp;is&nbsp;the&nbsp;Realm&nbsp;value.&nbsp;Set&lt;br&gt;<br>
&gt;&nbsp;by&nbsp;the&nbsp;auth_param&nbsp;directives&nbsp;&quot;realm&quot;&nbsp;parameter.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;IIRC&nbsp;the&nbsp;realm&nbsp;is&nbsp;usually&nbsp;turned&nbsp;into&nbsp;the&nbsp;title&nbsp;bar,&nbsp;though&nbsp;some&lt;br&gt;<br>
&gt;&nbsp;browsers&nbsp;show&nbsp;it&nbsp;in&nbsp;quotes&nbsp;in&nbsp;the&nbsp;text.&nbsp;The&nbsp;form&nbsp;and&nbsp;display&nbsp;of&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;popup&nbsp;is&nbsp;fixed&nbsp;and&nbsp;not&nbsp;manipulatable&nbsp;by&nbsp;any&nbsp;external&nbsp;server&nbsp;for&nbsp;security&lt;br&gt;<br>
&gt;&nbsp;reasons&nbsp;that&nbsp;should&nbsp;be&nbsp;obvious.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Amos&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>

</tt>
