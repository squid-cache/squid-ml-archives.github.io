<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;have&nbsp;multiple&nbsp;ISP&#39;s&nbsp;configured,&nbsp;working&nbsp;really&nbsp;nicely,&nbsp;snippet&nbsp;from&nbsp;config:&lt;br&gt;&lt;br&gt;acl&nbsp;service_RLO&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.1.10.175/32&quot;&gt;10.1.10.175/32&lt;/a&gt;&lt;br&gt;acl&nbsp;service_RLG&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.1.10.0/24&quot;&gt;10.1.10.0/24&lt;/a&gt;&lt;br&gt;acl&nbsp;service_RLG&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.1.200.0/24&quot;&gt;10.1.200.0/24&lt;/a&gt;&lt;br&gt;acl&nbsp;service_Guest&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.1.3.0/24&quot;&gt;10.1.3.0/24&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[cut]&lt;br&gt;&lt;/div&gt;&lt;div&gt;tcp_outgoing_address&nbsp;10.1.248.1&nbsp;service_RLO&lt;br&gt;tcp_outgoing_address&nbsp;10.1.248.2&nbsp;service_RLG&lt;br&gt;tcp_outgoing_address&nbsp;10.1.248.4&nbsp;service_Pst&lt;br&gt;tcp_outgoing_address&nbsp;10.1.248.5&nbsp;service_Library&lt;br&gt;tcp_outgoing_address&nbsp;10.1.248.6&nbsp;service_DP&lt;br&gt;tcp_outgoing_address&nbsp;10.1.248.3&nbsp;service_Guest&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;add&nbsp;a&nbsp;new&nbsp;ISP&nbsp;and&nbsp;round-robin&nbsp;the&nbsp;src&nbsp;mapping&nbsp;to&nbsp;tcp_outgoing_address,&nbsp;such&nbsp;that,&nbsp;for&nbsp;example&nbsp;in&nbsp;the&nbsp;above&nbsp;service_RLG,&nbsp;I&nbsp;am&nbsp;looking&nbsp;to&nbsp;say,&nbsp;semantically:&lt;br&gt;&lt;br&gt;&lt;/div&gt;tcp_outgoing_address&nbsp;10.1.248.2,&nbsp;10.1.248.9&nbsp;service_RLG&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Where&nbsp;the&nbsp;first&nbsp;IP&nbsp;matching&nbsp;service_RLG&nbsp;maps&nbsp;to&nbsp;10.1.248.2,&nbsp;the&nbsp;next,&nbsp;different&nbsp;IP&nbsp;matching&nbsp;service_RLG&nbsp;maps&nbsp;to&nbsp;10.1.248.9,&nbsp;etc.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;not&nbsp;trying&nbsp;to&nbsp;split&nbsp;a&nbsp;single&nbsp;client&nbsp;over&nbsp;two&nbsp;ISP&#39;s,&nbsp;that&nbsp;can&#39;t&nbsp;work.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;cannot&nbsp;see&nbsp;that&nbsp;this&nbsp;is&nbsp;possible&nbsp;with&nbsp;Squid&nbsp;(3.1.10),&nbsp;which&nbsp;BTW&nbsp;is&nbsp;in&nbsp;transparent&nbsp;proxy&nbsp;mode.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;can&#39;t&nbsp;load&nbsp;balance&nbsp;the&nbsp;traffic&nbsp;out&nbsp;of&nbsp;Squid,&nbsp;for&nbsp;the&nbsp;above&nbsp;reason.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;suppose&nbsp;I&nbsp;could&nbsp;hash&nbsp;the&nbsp;src&nbsp;ip&nbsp;to&nbsp;deliver&nbsp;traffic&nbsp;to&nbsp;two&nbsp;different&nbsp;ports&nbsp;in&nbsp;Squid,&nbsp;then&nbsp;use&nbsp;the&nbsp;port&nbsp;as&nbsp;the&nbsp;basis&nbsp;for&nbsp;the&nbsp;tcp_outgoing.Â &nbsp;I&nbsp;feel&nbsp;this&nbsp;is&nbsp;sub-optimal&nbsp;though&nbsp;as&nbsp;two&nbsp;users&nbsp;may&nbsp;end&nbsp;up&nbsp;on&nbsp;a&nbsp;single&nbsp;ISP&nbsp;with&nbsp;the&nbsp;other&nbsp;ISP&nbsp;idle.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;thoughts?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;--lee&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
