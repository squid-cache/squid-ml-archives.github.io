<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Thanks&nbsp;Amos,&nbsp;my&nbsp;swap&nbsp;is&nbsp;32GB,&nbsp;so&nbsp;that&#39;s&nbsp;causing&nbsp;the&nbsp;error&nbsp;as&nbsp;you&nbsp;said.&lt;br&gt;&lt;/div&gt;Which&nbsp;is&nbsp;the&nbsp;better&nbsp;choice:&nbsp;increase&nbsp;the&nbsp;swap&nbsp;size&nbsp;or&nbsp;reduce&nbsp;the&nbsp;cache_mem???&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2015-09-04&nbsp;13:55&nbsp;GMT-03:00&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;4/09/2015&nbsp;11:32&nbsp;p.m.,&nbsp;Jorgeley&nbsp;Junior&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;guys,&nbsp;I&nbsp;suspect&nbsp;my&nbsp;squid&nbsp;stop&nbsp;to&nbsp;serve&nbsp;request&nbsp;after&nbsp;rotate,&nbsp;in&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;morning,&nbsp;after&nbsp;I&nbsp;restarted&nbsp;it,&nbsp;everything&nbsp;goes&nbsp;to&nbsp;normal.&lt;br&gt;<br>
&gt;&nbsp;here&nbsp;is&nbsp;the&nbsp;log:&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;storeDirWriteCleanLogs:&nbsp;Starting...&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1| &nbsp; Finished. &nbsp;Wrote&nbsp;39639&nbsp;entries.&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1| &nbsp; Took&nbsp;0.01&nbsp;seconds&nbsp;(5804510.18&nbsp;entries/sec).&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;logfileRotate:&nbsp;stdio:/var/logs/store.log&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;Rotate&nbsp;log&nbsp;file&nbsp;stdio:/var/logs/store.log&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;logfileRotate:&nbsp;stdio:/var/logs/access.log&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;Rotate&nbsp;log&nbsp;file&nbsp;stdio:/var/logs/access.log&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;helperOpenServers:&nbsp;Starting&nbsp;1/10&lt;br&gt;<br>
&gt;&nbsp;&#39;basic_ncsa_auth&#39;&nbsp;processes&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;ipcCreate:&nbsp;fork:&nbsp;(12)&nbsp;Cannot&nbsp;allocate&nbsp;memory&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;As&nbsp;you&nbsp;can&nbsp;see&nbsp;Squid&nbsp;uses&nbsp;fork()&nbsp;to&nbsp;spawn&nbsp;its&nbsp;helpers.&nbsp;That&nbsp;means&nbsp;Linux&lt;br&gt;<br>
is&nbsp;going&nbsp;to&nbsp;allocate&nbsp;an&nbsp;N&nbsp;amount&nbsp;of&nbsp;virtual&nbsp;memory&nbsp;equal&nbsp;to&nbsp;the&nbsp;memory&lt;br&gt;<br>
currently&nbsp;being&nbsp;used&nbsp;by&nbsp;Squid.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:01&nbsp;kid1|&nbsp;WARNING:&nbsp;Cannot&nbsp;run&lt;br&gt;<br>
&gt;&nbsp;&#39;/etc/squid-3.5.6/libexec/basic_ncsa_auth&#39;&nbsp;process.&lt;br&gt;<br>
&gt;&nbsp;2015/09/04&nbsp;00:00:55&nbsp;kid1|&nbsp;WARNING:&nbsp;Memory&nbsp;usage&nbsp;at&nbsp;67121&nbsp;MB&lt;br&gt;<br>
&gt;&nbsp;...&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Which&nbsp;is&nbsp;over&nbsp;64&nbsp;GiB.&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;your&nbsp;machine&nbsp;have&nbsp;67,121&nbsp;MB&nbsp;of&nbsp;virtual&nbsp;memory&nbsp;free&nbsp;?&lt;br&gt;<br>
 it&nbsp;would&nbsp;seem&nbsp;not&nbsp;to.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;only&nbsp;workaround&nbsp;for&nbsp;this&nbsp;is&nbsp;to&nbsp;keep&nbsp;Squid&nbsp;cache_mem&nbsp;small&nbsp;enough&lt;br&gt;<br>
that&nbsp;these&nbsp;oprations&nbsp;do&nbsp;not&nbsp;fail&nbsp;when&nbsp;it&nbsp;is&nbsp;fully&nbsp;in-use.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;style=&quot;text-align:left&quot;&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;&lt;b&gt;&lt;u&gt;&lt;br&gt;&lt;/u&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;text-align:left&quot;&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;&lt;b&gt;&lt;u&gt;&lt;img&nbsp;src=&quot;https://lh6.googleusercontent.com/-xODPvbH2piQ/T6RqD0dqXjI/AAAAAAAAAPk/0I8Y3aq0mYM/h120/linuxano+assinatura+e-mail.png&quot;&gt;&lt;br&gt;&lt;/u&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
