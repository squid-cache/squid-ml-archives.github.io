<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello&nbsp;Everyone,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;didn&#39;t&nbsp;see&nbsp;relevant&nbsp;icap&nbsp;config&nbsp;options&nbsp;in&nbsp;squid.conf&nbsp;to&nbsp;carry&nbsp;X-Server-IP&nbsp;in&nbsp;ICAP&nbsp;header&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;tried&nbsp;to&nbsp;use&nbsp;adaptation_meta&nbsp;X-Server-IP:&nbsp;&quot;%&lt;a&quot;&nbsp;in&nbsp;squid&nbsp;3.5.8/squid&nbsp;4.x&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;but&nbsp;not&nbsp;working,&nbsp;I&nbsp;only&nbsp;got&nbsp;the&nbsp;result&nbsp;like&nbsp;following:&lt;br&gt;&lt;br&gt;X-Server-IP:&nbsp;-&lt;br&gt;&lt;br&gt;Does&nbsp;squid&#39;s&nbsp;icap&nbsp;client&nbsp;support&nbsp;X-Server-IP&nbsp;in&nbsp;ICAP&nbsp;header&nbsp;?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;compiled&nbsp;failed&nbsp;in&nbsp;Debian&nbsp;7.8&nbsp;with&nbsp;squid&nbsp;version&nbsp;newer&nbsp;than&nbsp;&lt;b&gt;squid-4.0.0-20150828-r14267&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;the&nbsp;following&nbsp;is&nbsp;the&nbsp;compile&nbsp;error&nbsp;messages&lt;br&gt;&lt;br&gt;depbase=`echo&nbsp;StoreSwapLogData.o&nbsp;|&nbsp;sed&nbsp;&#39;s|[^/]*$|.deps/&amp;|;s|\.o$||&#39;`;\&lt;br&gt;       &nbsp;g++&nbsp;-DHAVE_CONFIG_H&nbsp;-DDEFAULT_CONFIG_FILE=\&quot;/usr/local/squid/etc/squid.conf\&quot;&nbsp;-DDEFAULT_SQUID_DATA_DIR=\&quot;/usr/local/squid/share\&quot;&nbsp;-DDEFAULT_SQUID_CONFIG_DIR=\&quot;/usr/local/squid/etc\&quot;  &nbsp;-I..&nbsp;-I../include&nbsp;-I../lib&nbsp;-I../src&nbsp;-I../include   &nbsp;-I../src   &nbsp;-Wall&nbsp;-Wpointer-arith&nbsp;-Wwrite-strings&nbsp;-Wcomments&nbsp;-Wshadow&nbsp;-Werror&nbsp;-Wno-deprecated-register&nbsp;-pipe&nbsp;-D_REENTRANT&nbsp;-m64  &nbsp;-g&nbsp;-O2&nbsp;-march=native&nbsp;-std=c++11&nbsp;-MT&nbsp;StoreSwapLogData.o&nbsp;-MD&nbsp;-MP&nbsp;-MF&nbsp;$depbase.Tpo&nbsp;-c&nbsp;-o&nbsp;StoreSwapLogData.o&nbsp;StoreSwapLogData.cc&nbsp;&amp;&amp;\&lt;br&gt;       &nbsp;mv&nbsp;-f&nbsp;$depbase.Tpo&nbsp;$depbase.Po&lt;br&gt;StoreSwapLogData.cc:&nbsp;In&nbsp;member&nbsp;function&nbsp;‘std::ostream&amp;&nbsp;SwapChecksum24::print(std::ostream&amp;)&nbsp;const’:&lt;br&gt;StoreSwapLogData.cc:47:23:&nbsp;error:&nbsp;no&nbsp;match&nbsp;for&nbsp;‘operator&lt;&lt;’&nbsp;in&nbsp;‘os&nbsp;&lt;&lt;&nbsp;((const&nbsp;SwapChecksum24*)this)-&gt;SwapChecksum24::raw[0]’&lt;br&gt;StoreSwapLogData.cc:47:23:&nbsp;note:&nbsp;candidate&nbsp;is:&lt;br&gt;In&nbsp;file&nbsp;included&nbsp;from&nbsp;StoreSwapLogData.cc:12:0:&lt;br&gt;StoreSwapLogData.h:70:1:&nbsp;note:&nbsp;std::ostream&amp;&nbsp;operator&lt;&lt;(std::ostream&amp;,&nbsp;const&nbsp;SwapChecksum24&amp;)&lt;br&gt;StoreSwapLogData.h:70:1:&nbsp;note:  &nbsp;no&nbsp;known&nbsp;conversion&nbsp;for&nbsp;argument&nbsp;2&nbsp;from&nbsp;‘const&nbsp;uint8_t&nbsp;{aka&nbsp;const&nbsp;unsigned&nbsp;char}’&nbsp;to&nbsp;‘const&nbsp;SwapChecksum24&amp;’&lt;br&gt;StoreSwapLogData.cc:48:1:&nbsp;error:&nbsp;control&nbsp;reaches&nbsp;end&nbsp;of&nbsp;non-void&nbsp;function&nbsp;[-Werror=return-type]&lt;br&gt;At&nbsp;global&nbsp;scope:&lt;br&gt;cc1plus:&nbsp;error:&nbsp;unrecognized&nbsp;command&nbsp;line&nbsp;option&nbsp;&quot;-Wno-deprecated-register&quot;&nbsp;[-Werror]&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;success&nbsp;compiled&nbsp;after&nbsp;add&nbsp;#include&nbsp;&quot;typedefs.h&quot;&nbsp;into&nbsp;src/StoreSwapLogData.h&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
