<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;&lt;title&gt;&lt;/title&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;.felamimail-body-blockquote&nbsp;{margin:&nbsp;5px&nbsp;10px&nbsp;0&nbsp;3px;padding-left:&nbsp;10px;border-left:&nbsp;2px&nbsp;solid&nbsp;#000088;}&nbsp;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;Hello&nbsp;together,&lt;br&gt;&lt;br&gt;My&nbsp;Issue&nbsp;is&nbsp;the&nbsp;following:&nbsp;&lt;br&gt;&lt;br&gt;Using&nbsp;Squid3&nbsp;with&nbsp;Kerberos&nbsp;Auth&nbsp;works&nbsp;just&nbsp;fine&nbsp;but&nbsp;does&nbsp;not&nbsp;update&nbsp;the&nbsp;users&nbsp;group&nbsp;membership&nbsp;in&nbsp;the&nbsp;winbind&nbsp;cache&nbsp;of&nbsp;samba&nbsp;as&nbsp;for&nbsp;examle&nbsp;ntlm_auth&nbsp;does.&lt;br&gt;&lt;br&gt;So&nbsp;when&nbsp;using&nbsp;/usr/lib/squid3/negotiate_kerberos_auth&nbsp;for&nbsp;Kerberos,&nbsp;the&nbsp;auth&nbsp;works,&nbsp;but&nbsp;group&nbsp;memberships&nbsp;for&nbsp;my&nbsp;user&nbsp;as&nbsp;example&nbsp;are&nbsp;never&nbsp;updated,&nbsp;when&nbsp;I&nbsp;comment&nbsp;this&nbsp;auth&nbsp;helper&nbsp;then&nbsp;it&nbsp;gets&nbsp;updated&nbsp;because&nbsp;then&nbsp;I&nbsp;use&nbsp;ntlm_auth&nbsp;for&nbsp;ntlmssp&lt;br&gt;So&nbsp;if&nbsp;I&nbsp;have&nbsp;a&nbsp;new&nbsp;group&nbsp;eg:&nbsp;My_Test&nbsp;,&nbsp;then&nbsp;I&nbsp;can&nbsp;check&nbsp;this&nbsp;like&nbsp;this:&nbsp;&lt;br&gt;&lt;br&gt;wbinfo&nbsp;-n&nbsp;My_Test&nbsp;-&gt;&nbsp;returns&nbsp;SID&nbsp;of&nbsp;My_Test&lt;br&gt;wbinfo&nbsp;-Y&nbsp;SID&nbsp;-&gt;&nbsp;returns&nbsp;mapped&nbsp;GID&lt;br&gt;wbinfo&nbsp;-r&nbsp;myuser&nbsp;|&nbsp;grep&nbsp;GID&nbsp;-&gt;&nbsp;GID&nbsp;is&nbsp;not&nbsp;listed!!&lt;br&gt;&lt;br&gt;getent&nbsp;group&nbsp;My_Test&nbsp;-&gt;&nbsp;returns:&nbsp;myuser&nbsp;is&nbsp;member&nbsp;of&nbsp;that&nbsp;group!&nbsp;So&nbsp;just&nbsp;in&nbsp;my&nbsp;account&nbsp;&quot;myuser&quot;&nbsp;it&nbsp;is&nbsp;not&nbsp;listed&nbsp;(wbinfo&nbsp;-r&nbsp;myuser&nbsp;|&nbsp;grep&nbsp;GID&nbsp;-&gt;&nbsp;GID&nbsp;is&nbsp;not&nbsp;listed!!)&nbsp;but&nbsp;ext_wbinfo_group_acl&nbsp;is&nbsp;checking&nbsp;my&nbsp;group&nbsp;membership&nbsp;based&nbsp;on&nbsp;the&nbsp;commands&nbsp;listed&nbsp;above.&lt;br&gt;&lt;br&gt;Commenting&nbsp;Kerberos&nbsp;auth&nbsp;in&nbsp;the&nbsp;squid&nbsp;conf,&nbsp;so&nbsp;that&nbsp;only&nbsp;ntlm_auth&nbsp;is&nbsp;used&nbsp;and&nbsp;requesting&nbsp;one&nbsp;website&nbsp;to&nbsp;be&nbsp;sure&nbsp;to&nbsp;have&nbsp;done&nbsp;an&nbsp;auth,&nbsp;works.&nbsp;So&nbsp;then&nbsp;the&nbsp;GID&nbsp;is&nbsp;listed&nbsp;in&nbsp;the&nbsp;output&nbsp;of&nbsp;wbinfo&nbsp;-r&nbsp;myuser&lt;br&gt;&lt;br&gt;How&nbsp;can&nbsp;I&nbsp;ensure&nbsp;that&nbsp;my&nbsp;memberships&nbsp;are&nbsp;getting&nbsp;updated&nbsp;using&nbsp;/usr/lib/squid3/negotiate_kerberos_auth&nbsp;as&nbsp;it&nbsp;does&nbsp;work&nbsp;with&nbsp;ntlm_user?&nbsp;Or&nbsp;is&nbsp;there&nbsp;another&nbsp;auth&nbsp;helper&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;Kerberos&nbsp;that&nbsp;is&nbsp;doing&nbsp;what&nbsp;ntlm_user&nbsp;does&nbsp;automatically&nbsp;after&nbsp;an&nbsp;successfull&nbsp;authentication?&lt;br&gt;&lt;br&gt;My&nbsp;Squid&nbsp;Config&nbsp;for&nbsp;Auth&nbsp;Helpers&nbsp;looks&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;#########################################################&nbsp;Kerberos&nbsp;#########################################################&lt;br&gt;#auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/lib/squid3/negotiate_kerberos_auth&nbsp;-r&nbsp;-s&nbsp;HTTP/myserver.MYDOMAIN@MYDOMAIN&lt;br&gt;#auth_param&nbsp;negotiate&nbsp;children&nbsp;300&lt;br&gt;#auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;br&gt;&lt;br&gt;#########################################################&nbsp;NTLM&nbsp;#########################################################&lt;br&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-ntlmssp&lt;br&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;50&lt;br&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;off&lt;br&gt;&lt;br&gt;#########################################################&nbsp;BASIC&nbsp;#########################################################&lt;br&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-basic&lt;br&gt;auth_param&nbsp;basic&nbsp;children&nbsp;50&lt;br&gt;auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;br&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;Windows&nbsp;Authentication&nbsp;required&lt;br&gt;auth_param&nbsp;basic&nbsp;casesensitive&nbsp;off&lt;br&gt;&lt;br&gt;Also&nbsp;I&nbsp;am&nbsp;using&nbsp;the&nbsp;following&nbsp;to&nbsp;check&nbsp;group&nbsp;memberships,&nbsp;which&nbsp;is&nbsp;working&nbsp;fine&nbsp;!!&nbsp;with&nbsp;all&nbsp;auth&nbsp;helpers&nbsp;!!&nbsp;and&nbsp;it&nbsp;is&nbsp;much&nbsp;faster&nbsp;than&nbsp;the&nbsp;slow&nbsp;Kerberos&nbsp;group&nbsp;check,&nbsp;I&nbsp;assume&nbsp;that&nbsp;this&nbsp;helper&nbsp;is&nbsp;updating&nbsp;automatically&nbsp;the&nbsp;winbind&nbsp;group&nbsp;cache,&nbsp;which&nbsp;is&nbsp;the&nbsp;reason&nbsp;that&nbsp;the&nbsp;group&nbsp;itself&nbsp;is&nbsp;beeing&nbsp;recognized&nbsp;and&nbsp;I&nbsp;am&nbsp;also&nbsp;a&nbsp;member&nbsp;of&nbsp;that&nbsp;group&nbsp;when&nbsp;I&nbsp;check&nbsp;that&nbsp;specific&nbsp;group&nbsp;via&nbsp;getent&nbsp;group&nbsp;My_Test&lt;br&gt;&lt;br&gt;external_acl_type&nbsp;nt_group&nbsp;ttl=60&nbsp;children-max=300&nbsp;children-startup=50&nbsp;%LOGIN&nbsp;/usr/lib/squid3/ext_wbinfo_group_acl&nbsp;-K&lt;br&gt;&lt;br&gt;Software&nbsp;Versions&nbsp;used:&lt;br&gt;-&nbsp;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.4.8&lt;br&gt;-&nbsp;Samba&nbsp;&amp;&nbsp;winbindd&nbsp;Version&nbsp;4.1.17-Debian&lt;br&gt;-&nbsp;Distri:&nbsp;Debian&nbsp;Jessie&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;id=&quot;felamimail-body-signature&quot;&gt;--&nbsp;&lt;br&gt;&lt;span&nbsp;id=&quot;felamimail_inline_felamimail-body-signature&quot;&gt;--&nbsp;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;Enrico&nbsp;Heine&lt;br&gt;&lt;br&gt;â€‹This&nbsp;email&nbsp;and&nbsp;any&nbsp;files&nbsp;transmitted&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;it&nbsp;are&nbsp;confidential&nbsp;and&nbsp;intended&nbsp;solely&nbsp;for&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;individual&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;entity&nbsp;to&nbsp;whom&nbsp;they&nbsp;are&nbsp;addressed.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;email&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;error&nbsp;please&nbsp;notify&nbsp;the&nbsp;system&nbsp;manager.&nbsp;This&nbsp;message&nbsp;contains&nbsp;confidential&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;information&nbsp;and&nbsp;is&nbsp;intended&nbsp;only&nbsp;for&nbsp;the&nbsp;individual&nbsp;named.&nbsp;If&nbsp;you&nbsp;are&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;the&nbsp;named&nbsp;addressee&nbsp;you&nbsp;should&nbsp;not&nbsp;disseminate,&nbsp;distribute&nbsp;or&nbsp;copy&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;e-mail.&nbsp;Please&nbsp;notify&nbsp;the&nbsp;sender&nbsp;immediately&nbsp;by&nbsp;e-mail&nbsp;if&nbsp;you&nbsp;have&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;received&nbsp;this&nbsp;e-mail&nbsp;by&nbsp;mistake&nbsp;and&nbsp;delete&nbsp;this&nbsp;e-mail&nbsp;from&nbsp;your&nbsp;system.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient&nbsp;you&nbsp;are&nbsp;notified&nbsp;that&nbsp;disclosing,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copying,&nbsp;distributing&nbsp;or&nbsp;taking&nbsp;any&nbsp;action&nbsp;in&nbsp;reliance&nbsp;on&nbsp;the&nbsp;contents&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;this&nbsp;information&nbsp;is&nbsp;strictly&nbsp;prohibited.&lt;/span&gt;&lt;a&nbsp;href=&quot;http://www.tine20.com/&quot;&gt;&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
