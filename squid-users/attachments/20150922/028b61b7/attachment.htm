<tt>
<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;name=&quot;generator&quot;&nbsp;content=&quot;Windows&nbsp;Mail&nbsp;17.5.9600.20605&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
.EmailQuote&nbsp;{<br>
margin-left:1pt;<br>
padding-left:4pt;<br>
border-left:#800000&nbsp;2px&nbsp;solid;<br>
}<br>
--&gt;&lt;/style&gt;&lt;style&nbsp;data-externalstyle=&quot;true&quot;&gt;&lt;!--<br>
p.MsoListParagraph,&nbsp;li.MsoListParagraph,&nbsp;div.MsoListParagraph&nbsp;{<br>
margin-top:0in;<br>
margin-right:0in;<br>
margin-bottom:0in;<br>
margin-left:.5in;<br>
margin-bottom:.0001pt;<br>
}<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal&nbsp;{<br>
margin:0in;<br>
margin-bottom:.0001pt;<br>
}<br>
p.MsoListParagraphCxSpFirst,&nbsp;li.MsoListParagraphCxSpFirst,&nbsp;div.MsoListParagraphCxSpFirst,&nbsp;<br>
p.MsoListParagraphCxSpMiddle,&nbsp;li.MsoListParagraphCxSpMiddle,&nbsp;div.MsoListParagraphCxSpMiddle,&nbsp;<br>
p.MsoListParagraphCxSpLast,&nbsp;li.MsoListParagraphCxSpLast,&nbsp;div.MsoListParagraphCxSpLast&nbsp;{<br>
margin-top:0in;<br>
margin-right:0in;<br>
margin-bottom:0in;<br>
margin-left:.5in;<br>
margin-bottom:.0001pt;<br>
line-height:115%;<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;data-externalstyle=&quot;false&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;font-family:&nbsp;'Calibri',&nbsp;'Segoe&nbsp;UI',&nbsp;'Meiryo',&nbsp;'Microsoft&nbsp;YaHei&nbsp;UI',&nbsp;'Microsoft&nbsp;JhengHei&nbsp;UI',&nbsp;'Malgun&nbsp;Gothic',&nbsp;'sans-serif';font-size:12pt;&quot;&gt;<br>
&lt;div&gt;I&nbsp;need&nbsp;database&nbsp;to&nbsp;store&nbsp;sanitized&nbsp;websites&nbsp;(cleaned&nbsp;from&nbsp;javascript&nbsp;malicious&nbsp;parts).&nbsp;If&nbsp;CRC&nbsp;changes&nbsp;webpage&nbsp;should&nbsp;be&nbsp;resanitized,&nbsp;otherwise&nbsp;serve&nbsp;proxy&nbsp;version&nbsp;of&nbsp;the&nbsp;website.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;padding-top:&nbsp;5px;&nbsp;border-top-color:&nbsp;rgb(229,&nbsp;229,&nbsp;229);&nbsp;border-top-width:&nbsp;1px;&nbsp;border-top-style:&nbsp;solid;&quot;&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&nbsp;'Calibri',&nbsp;'Segoe&nbsp;UI',&nbsp;'Meiryo',&nbsp;'Microsoft&nbsp;YaHei&nbsp;UI',&nbsp;'Microsoft&nbsp;JhengHei&nbsp;UI',&nbsp;'Malgun&nbsp;Gothic',&nbsp;'sans-serif'&quot;&nbsp;style='line-height:&nbsp;15pt;&nbsp;letter-spacing:&nbsp;0.02em;&nbsp;font-family:&nbsp;&quot;Calibri&quot;,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Meiryo&quot;,&nbsp;&quot;Microsoft&nbsp;YaHei&nbsp;UI&quot;,&nbsp;&quot;Microsoft&nbsp;JhengHei&nbsp;UI&quot;,&nbsp;&quot;Malgun&nbsp;Gothic&quot;,&nbsp;&quot;sans-serif&quot;;&nbsp;font-size:&nbsp;12pt;'&gt;&lt;b&gt;Von:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users-request@lists.squid-cache.org&quot;&nbsp;target=&quot;_parent&quot;&gt;squid-users-request@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;b&gt;Gesendet:&lt;/b&gt;&nbsp;‎Montag‎,&nbsp;‎21‎.&nbsp;‎September‎&nbsp;‎2015&nbsp;‎13‎:‎59&lt;br&gt;&lt;b&gt;An:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_parent&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;PlainText&quot;&gt;Send&nbsp;squid-users&nbsp;mailing&nbsp;list&nbsp;submissions&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;subscribe&nbsp;or&nbsp;unsubscribe&nbsp;via&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web,&nbsp;visit&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_parent&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
or,&nbsp;via&nbsp;email,&nbsp;send&nbsp;a&nbsp;message&nbsp;with&nbsp;subject&nbsp;or&nbsp;body&nbsp;'help'&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;squid-users-request@lists.squid-cache.org&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;reach&nbsp;the&nbsp;person&nbsp;managing&nbsp;the&nbsp;list&nbsp;at&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;squid-users-owner@lists.squid-cache.org&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;replying,&nbsp;please&nbsp;edit&nbsp;your&nbsp;Subject&nbsp;line&nbsp;so&nbsp;it&nbsp;is&nbsp;more&nbsp;specific&lt;br&gt;<br>
than&nbsp;&quot;Re:&nbsp;Contents&nbsp;of&nbsp;squid-users&nbsp;digest...&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Today's&nbsp;Topics:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;1.&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&nbsp;(Ashish&nbsp;Mukherjee)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;2.&nbsp;Database&nbsp;dilema&nbsp;(Mumin&nbsp;Coder)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;3.&nbsp;Re:&nbsp;Database&nbsp;dilema&nbsp;(Eliezer&nbsp;Croitoru)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;4.&nbsp;Re:&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&nbsp;(Antony&nbsp;Stone)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;5.&nbsp;Re:&nbsp;Lots&nbsp;of&nbsp;&quot;Vary&nbsp;object&nbsp;loop!&quot;&nbsp;(Eliezer&nbsp;Croitoru)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;6.&nbsp;Re:&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&nbsp;(Amos&nbsp;Jeffries)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
----------------------------------------------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;1&lt;br&gt;<br>
Date:&nbsp;Mon,&nbsp;21&nbsp;Sep&nbsp;2015&nbsp;14:50:56&nbsp;+0530&lt;br&gt;<br>
From:&nbsp;Ashish&nbsp;Mukherjee&nbsp;&lt;ashish.mukherjee@gmail.com&gt;&lt;br&gt;<br>
To:&nbsp;Squid&nbsp;Users&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;<br>
Subject:&nbsp;[squid-users]&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&lt;br&gt;<br>
Message-ID:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CACgMzfwVAabOrx__YxRJg3VEXda9zY3_7jYNarow+DUHadyckQ@mail.gmail.com&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;does&nbsp;not&nbsp;follow&nbsp;302&nbsp;and&nbsp;sends&nbsp;back&nbsp;the&nbsp;302&nbsp;header&nbsp;to&nbsp;the&nbsp;client.&nbsp;I&nbsp;am&lt;br&gt;<br>
aware&nbsp;it&nbsp;is&nbsp;so&nbsp;as&nbsp;it&nbsp;would&nbsp;be&nbsp;bad&nbsp;to&nbsp;hide&nbsp;the&nbsp;ultimate&nbsp;url&nbsp;from&nbsp;the&nbsp;client&lt;br&gt;<br>
and&nbsp;for&nbsp;reasons&nbsp;of&nbsp;cache&nbsp;poisoning&nbsp;etc.&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;I&nbsp;have&nbsp;a&nbsp;scenario&nbsp;where&nbsp;I&nbsp;need&nbsp;to&nbsp;implement&nbsp;a&nbsp;proxy&nbsp;browsing&lt;br&gt;<br>
pattern&nbsp;for&nbsp;a&nbsp;controlled&nbsp;audience&nbsp;such&nbsp;that&nbsp;I&nbsp;would&nbsp;like&nbsp;Squid&nbsp;to&nbsp;follow&lt;br&gt;<br>
redirections.&nbsp;How&nbsp;can&nbsp;I&nbsp;configure&nbsp;Squid&nbsp;to&nbsp;do&nbsp;so?&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Ashish&lt;br&gt;<br>
--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;<br>
An&nbsp;HTML&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;<br>
URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/f6b51a90/attachment-0001.html&quot;&nbsp;target=&quot;_parent&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/attachments/20150921/f6b51a90/attachment-0001.html&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;2&lt;br&gt;<br>
Date:&nbsp;Tue,&nbsp;15&nbsp;Sep&nbsp;2015&nbsp;09:23:01&nbsp;+0000&lt;br&gt;<br>
From:&nbsp;Mumin&nbsp;Coder&nbsp;&lt;mumincoder@outlook.com&gt;&lt;br&gt;<br>
To:&nbsp;&quot;=?utf-8?Q?squid-users@lists.squid-cache.org?=&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;<br>
Subject:&nbsp;[squid-users]&nbsp;Database&nbsp;dilema&lt;br&gt;<br>
Message-ID:&nbsp;&lt;SNT406-EAS398B813270931CE94F54CCBD1460@phx.gbl&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;want&nbsp;to&nbsp;make&nbsp;some&nbsp;kind&nbsp;of&nbsp;safe&nbsp;transparent&nbsp;proxy&nbsp;using&nbsp;ubuntu,&nbsp;squid,&nbsp;icap&nbsp;or&nbsp;ecap,&nbsp;database&nbsp;(MongoDB&nbsp;or&nbsp;MySql)&nbsp;and&nbsp;XSS&nbsp;prevention&nbsp;module.&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;inspect&nbsp;URL&nbsp;and&nbsp;javascript/xml&nbsp;inside&nbsp;web&nbsp;page&nbsp;with&nbsp;my&nbsp;sandboxed&nbsp;module&nbsp;(javascript&nbsp;engine)&nbsp;which&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;squid&nbsp;and&nbsp;database&nbsp;using&nbsp;content&nbsp;adaptation.&nbsp;I&nbsp;want&nbsp;to&nbsp;make&nbsp;it&nbsp;optimal&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;processing/analysing&nbsp;of&nbsp;&nbsp;requested&nbsp;webpage.&nbsp;Thus&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;database&nbsp;in&nbsp;order&nbsp;to&nbsp;store&nbsp;visited&nbsp;safe&nbsp;or&nbsp;unsafe&nbsp;URLs&nbsp;and&nbsp;javascript&nbsp;code.&nbsp;Currently&nbsp;I&nbsp;am&nbsp;using&nbsp;Greasyspoon&nbsp;as&nbsp;ICAP&nbsp;server,&nbsp;which&nbsp;I&nbsp;am&nbsp;adapting&nbsp;to&nbsp;my&nbsp;needs.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;which&nbsp;database&nbsp;should&nbsp;I&nbsp;use&nbsp;to&nbsp;fit&nbsp;my&nbsp;needs&nbsp;and&nbsp;how&nbsp;to&nbsp;connect/configure&nbsp;it?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Thank&nbsp;you&nbsp;in&nbsp;advance.&lt;br&gt;<br>
--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;<br>
An&nbsp;HTML&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;<br>
URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20150915/17737051/attachment-0001.html&quot;&nbsp;target=&quot;_parent&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/attachments/20150915/17737051/attachment-0001.html&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;3&lt;br&gt;<br>
Date:&nbsp;Mon,&nbsp;21&nbsp;Sep&nbsp;2015&nbsp;12:56:26&nbsp;+0300&lt;br&gt;<br>
From:&nbsp;Eliezer&nbsp;Croitoru&nbsp;&lt;eliezer@ngtech.co.il&gt;&lt;br&gt;<br>
To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Database&nbsp;dilema&lt;br&gt;<br>
Message-ID:&nbsp;&lt;55FFD44A.8050901@ngtech.co.il&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8;&nbsp;format=flowed&lt;br&gt;<br>
&lt;br&gt;<br>
Hey&nbsp;Mumin,&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;do&nbsp;you&nbsp;need&nbsp;from&nbsp;the&nbsp;db?&lt;br&gt;<br>
If&nbsp;you&nbsp;need&nbsp;a&nbsp;blacklist&nbsp;I&nbsp;can&nbsp;offer&nbsp;you&nbsp;to&nbsp;use&nbsp;SquidBlocker&nbsp;which&nbsp;I&nbsp;wrote:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ngtech.co.il/squidblocker/&quot;&nbsp;target=&quot;_parent&quot;&gt;http://ngtech.co.il/squidblocker/&lt;/a&gt;&lt;br&gt;<br>
The&nbsp;DB&nbsp;is&nbsp;not&nbsp;fully&nbsp;documented&nbsp;but&nbsp;it&nbsp;works&nbsp;under&nbsp;a&nbsp;very&nbsp;heavy&nbsp;load&nbsp;and&nbsp;&lt;br&gt;<br>
seems&nbsp;to&nbsp;give&nbsp;good&nbsp;results.&lt;br&gt;<br>
&lt;br&gt;<br>
Eliezer&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;15/09/2015&nbsp;12:23,&nbsp;Mumin&nbsp;Coder&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;make&nbsp;some&nbsp;kind&nbsp;of&nbsp;safe&nbsp;transparent&nbsp;proxy&nbsp;using&nbsp;ubuntu,&nbsp;squid,&nbsp;icap&nbsp;or&nbsp;ecap,&nbsp;database&nbsp;(MongoDB&nbsp;or&nbsp;MySql)&nbsp;and&nbsp;XSS&nbsp;prevention&nbsp;module.&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;inspect&nbsp;URL&nbsp;and&nbsp;javascript/xml&nbsp;inside&nbsp;web&nbsp;page&nbsp;with&nbsp;my&nbsp;sandboxed&nbsp;module&nbsp;(javascript&nbsp;engine)&nbsp;which&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;squid&nbsp;and&nbsp;database&nbsp;using&nbsp;content&nbsp;adaptation.&nbsp;I&nbsp;want&nbsp;to&nbsp;make&nbsp;it&nbsp;optimal&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;processing/analysing&nbsp;of&nbsp;&nbsp;requested&nbsp;webpage.&nbsp;Thus&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;database&nbsp;in&nbsp;order&nbsp;to&nbsp;store&nbsp;visited&nbsp;safe&nbsp;or&nbsp;unsafe&nbsp;URLs&nbsp;and&nbsp;javascript&nbsp;code.&nbsp;Currently&nbsp;I&nbsp;am&nbsp;using&nbsp;Greasyspoon&nbsp;as&nbsp;ICAP&nbsp;server,&nbsp;which&nbsp;I&nbsp;am&nbsp;adapting&nbsp;to&nbsp;my&nbsp;needs.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;which&nbsp;database&nbsp;should&nbsp;I&nbsp;use&nbsp;to&nbsp;fit&nbsp;my&nbsp;needs&nbsp;and&nbsp;how&nbsp;to&nbsp;connect/configure&nbsp;it?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Thank&nbsp;you&nbsp;in&nbsp;advance.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;4&lt;br&gt;<br>
Date:&nbsp;Mon,&nbsp;21&nbsp;Sep&nbsp;2015&nbsp;11:56:43&nbsp;+0200&lt;br&gt;<br>
From:&nbsp;Antony&nbsp;Stone&nbsp;&lt;Antony.Stone@squid.open.source.it&gt;&lt;br&gt;<br>
To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&lt;br&gt;<br>
Message-ID:&nbsp;&lt;201509211156.43947.Antony.Stone@squid.open.source.it&gt;&lt;br&gt;<br>
Content-Type:&nbsp;Text/Plain;&nbsp;&nbsp;charset=&quot;iso-8859-15&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Monday&nbsp;21&nbsp;September&nbsp;2015&nbsp;at&nbsp;11:20:56,&nbsp;Ashish&nbsp;Mukherjee&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Squid&nbsp;does&nbsp;not&nbsp;follow&nbsp;302&nbsp;and&nbsp;sends&nbsp;back&nbsp;the&nbsp;302&nbsp;header&nbsp;to&nbsp;the&nbsp;client.&nbsp;I&nbsp;am&lt;br&gt;<br>
&gt;&nbsp;aware&nbsp;it&nbsp;is&nbsp;so&nbsp;as&nbsp;it&nbsp;would&nbsp;be&nbsp;bad&nbsp;to&nbsp;hide&nbsp;the&nbsp;ultimate&nbsp;url&nbsp;from&nbsp;the&nbsp;client&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;for&nbsp;reasons&nbsp;of&nbsp;cache&nbsp;poisoning&nbsp;etc.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;However,&nbsp;I&nbsp;have&nbsp;a&nbsp;scenario&nbsp;where&nbsp;I&nbsp;need&nbsp;to&nbsp;implement&nbsp;a&nbsp;proxy&nbsp;browsing&lt;br&gt;<br>
&gt;&nbsp;pattern&nbsp;for&nbsp;a&nbsp;controlled&nbsp;audience&nbsp;such&nbsp;that&nbsp;I&nbsp;would&nbsp;like&nbsp;Squid&nbsp;to&nbsp;follow&lt;br&gt;<br>
&gt;&nbsp;redirections.&nbsp;How&nbsp;can&nbsp;I&nbsp;configure&nbsp;Squid&nbsp;to&nbsp;do&nbsp;so?&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;Why&nbsp;not&nbsp;just&nbsp;let&nbsp;the&nbsp;browser&nbsp;handle&nbsp;the&nbsp;302&nbsp;as&nbsp;normal?&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;I&nbsp;suggest&nbsp;you&nbsp;look&nbsp;at&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://squid-web-proxy-cache.1019090.n4.nabble.com/302-td4658091.html&quot;&nbsp;target=&quot;_parent&quot;&gt;http://squid-web-proxy-cache.1019090.n4.nabble.com/302-td4658091.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Antony.&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
This&nbsp;email&nbsp;was&nbsp;created&nbsp;using&nbsp;100%&nbsp;recycled&nbsp;electrons.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please&nbsp;reply&nbsp;to&nbsp;the&nbsp;list;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;please&nbsp;*don't*&nbsp;CC&nbsp;me.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;5&lt;br&gt;<br>
Date:&nbsp;Mon,&nbsp;21&nbsp;Sep&nbsp;2015&nbsp;13:03:08&nbsp;+0300&lt;br&gt;<br>
From:&nbsp;Eliezer&nbsp;Croitoru&nbsp;&lt;eliezer@ngtech.co.il&gt;&lt;br&gt;<br>
To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Lots&nbsp;of&nbsp;&quot;Vary&nbsp;object&nbsp;loop!&quot;&lt;br&gt;<br>
Message-ID:&nbsp;&lt;55FFD5DC.2020201@ngtech.co.il&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8;&nbsp;format=flowed&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;it&nbsp;happening&nbsp;also&nbsp;with&nbsp;ram&nbsp;cahce&nbsp;only?&nbsp;no&nbsp;disk&nbsp;cache?&lt;br&gt;<br>
&lt;br&gt;<br>
Eliezer&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;04/09/2015&nbsp;00:02,&nbsp;Sebastián&nbsp;Goicochea&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;But&nbsp;still&nbsp;seeing&nbsp;all&nbsp;those&nbsp;Vary&nbsp;loops&nbsp;all&nbsp;the&nbsp;time&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;:(&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Thanks,&lt;br&gt;<br>
&gt;&nbsp;Sebastian&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;6&lt;br&gt;<br>
Date:&nbsp;Mon,&nbsp;21&nbsp;Sep&nbsp;2015&nbsp;23:08:39&nbsp;+1200&lt;br&gt;<br>
From:&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&lt;br&gt;<br>
To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Squid&nbsp;not&nbsp;following&nbsp;302&lt;br&gt;<br>
Message-ID:&nbsp;&lt;55FFE537.20307@treenet.co.nz&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;21/09/2015&nbsp;9:20&nbsp;p.m.,&nbsp;Ashish&nbsp;Mukherjee&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hello,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Squid&nbsp;does&nbsp;not&nbsp;follow&nbsp;302&nbsp;and&nbsp;sends&nbsp;back&nbsp;the&nbsp;302&nbsp;header&nbsp;to&nbsp;the&nbsp;client.&nbsp;I&nbsp;am&lt;br&gt;<br>
&gt;&nbsp;aware&nbsp;it&nbsp;is&nbsp;so&nbsp;as&nbsp;it&nbsp;would&nbsp;be&nbsp;bad&nbsp;to&nbsp;hide&nbsp;the&nbsp;ultimate&nbsp;url&nbsp;from&nbsp;the&nbsp;client&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;for&nbsp;reasons&nbsp;of&nbsp;cache&nbsp;poisoning&nbsp;etc.&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;why&nbsp;do&nbsp;you&nbsp;expect&nbsp;Squid&nbsp;would&nbsp;be&nbsp;allowed&nbsp;to&nbsp;be&nbsp;configured&nbsp;to&nbsp;do&nbsp;that?&lt;br&gt;<br>
&lt;br&gt;<br>
Besides&nbsp;the&nbsp;corruption&nbsp;problems&nbsp;302&nbsp;messages&nbsp;contain&nbsp;a&nbsp;payload/body&lt;br&gt;<br>
which&nbsp;some&nbsp;clients&nbsp;need&nbsp;to&nbsp;display&nbsp;and/or&nbsp;process&nbsp;instead&nbsp;of&nbsp;the&lt;br&gt;<br>
Location&nbsp;header.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;However,&nbsp;I&nbsp;have&nbsp;a&nbsp;scenario&nbsp;where&nbsp;I&nbsp;need&nbsp;to&nbsp;implement&nbsp;a&nbsp;proxy&nbsp;browsing&lt;br&gt;<br>
&gt;&nbsp;pattern&nbsp;for&nbsp;a&nbsp;controlled&nbsp;audience&nbsp;such&nbsp;that&nbsp;I&nbsp;would&nbsp;like&nbsp;Squid&nbsp;to&nbsp;follow&lt;br&gt;<br>
&gt;&nbsp;redirections.&nbsp;How&nbsp;can&nbsp;I&nbsp;configure&nbsp;Squid&nbsp;to&nbsp;do&nbsp;so?&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;would&nbsp;need&nbsp;a&nbsp;ICAP&nbsp;or&nbsp;eCAP&nbsp;RESPMOD&nbsp;adaptor&nbsp;to&nbsp;do&nbsp;that.&nbsp;Since&nbsp;you&nbsp;are&lt;br&gt;<br>
requesting&nbsp;whole-message&nbsp;adaptation.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
PS.&nbsp;any&nbsp;server&nbsp;which&nbsp;is&nbsp;fooled&nbsp;by&nbsp;the&nbsp;behaviour&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&lt;br&gt;<br>
achieve&nbsp;is&nbsp;violating&nbsp;the&nbsp;HTTP&nbsp;requirenment:&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;server&nbsp;MUST&nbsp;NOT&nbsp;assume&nbsp;that&nbsp;two&nbsp;requests&nbsp;on&nbsp;the&nbsp;same&nbsp;connection&nbsp;are&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;from&nbsp;the&nbsp;same&nbsp;user&nbsp;agent&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Subject:&nbsp;Digest&nbsp;Footer&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_parent&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
End&nbsp;of&nbsp;squid-users&nbsp;Digest,&nbsp;Vol&nbsp;13,&nbsp;Issue&nbsp;62&lt;br&gt;<br>
*******************************************&lt;br&gt;<br>
&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
