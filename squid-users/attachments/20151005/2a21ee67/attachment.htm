<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;All,&lt;br&gt;&lt;/div&gt;With&nbsp;the&nbsp;help&nbsp;of&nbsp;Squid&nbsp;I&nbsp;want&nbsp;to&nbsp;return&nbsp;a&nbsp;custom&nbsp;payload&nbsp;for&nbsp;404&nbsp;response&nbsp;returned&nbsp;from&nbsp;web&nbsp;server.&nbsp;I&nbsp;have&nbsp;configured&nbsp;below&nbsp;acl&nbsp;to&nbsp;achieve&nbsp;the&nbsp;same&nbsp;&lt;br&gt;&lt;br&gt;acl&nbsp;denied_status_404&nbsp;http_status&nbsp;404&nbsp;&lt;br&gt;deny_info &nbsp;&lt;a&nbsp;href=&quot;http://errorpage.com&quot;&gt;http://errorpage.com&lt;/a&gt;&nbsp;denied_status_404&lt;br&gt;&lt;br&gt;&lt;/div&gt;with&nbsp;the&nbsp;above&nbsp;configuration&nbsp;squid&nbsp;is&nbsp;sending&nbsp;302&nbsp;redirection&nbsp;to&nbsp;client&nbsp;browser&nbsp;.&nbsp;But&nbsp;I&nbsp;want&nbsp;squid&nbsp;to&nbsp;retain&nbsp;the&nbsp;same&nbsp;http&nbsp;status&nbsp;code&nbsp;(404)&nbsp;when&nbsp;responds&nbsp;back.&nbsp;&lt;br&gt;&lt;/div&gt;Basically&nbsp;I&nbsp;want&nbsp;to&nbsp;modify &nbsp;only&nbsp;the&nbsp;payload&nbsp;of&nbsp;the&nbsp;webserver&nbsp;response&nbsp;with&nbsp;same&nbsp;404&nbsp;status&nbsp;code.&lt;br&gt;&lt;/div&gt;I&nbsp;know&nbsp;this&nbsp;can&nbsp;be&nbsp;achieved&nbsp;in&nbsp;squid&nbsp;version&nbsp;3.2.&nbsp;But&nbsp;our&nbsp;server&nbsp;is&nbsp;running&nbsp;with&nbsp;squid&nbsp;version&nbsp;3.1.20&nbsp;.&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;we&nbsp;can&nbsp;achieve&nbsp;this&nbsp;in&nbsp;squid&nbsp;3.1?&lt;br&gt;&lt;br&gt;&lt;/div&gt;Does&nbsp;the&nbsp;below&nbsp;configuration&nbsp;work?&nbsp;&lt;br&gt;&lt;div&gt;&lt;br&gt;acl&nbsp;denied_status_404&nbsp;http_status&nbsp;404&nbsp;rep_mime_type&nbsp;-i&nbsp;^text/html&lt;br&gt;deny_info &nbsp;&lt;a&nbsp;href=&quot;http://errorpage.com&quot;&gt;http://errorpage.com&lt;/a&gt;&nbsp;denied_status_404&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;squid&nbsp;the&nbsp;squid&nbsp;is&nbsp;spoofing&nbsp;all&nbsp;the&nbsp;404&nbsp;responses&nbsp;irrespective&nbsp;of&nbsp;content&nbsp;type(html/javascript).&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;squid&nbsp;to&nbsp;spoof&nbsp;the&nbsp;404&nbsp;response&nbsp;received&nbsp;from&nbsp;API&nbsp;payload. &nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;squid&nbsp;classify&nbsp;the&nbsp;difference&nbsp;between&nbsp;a&nbsp;webpage&nbsp;and&nbsp;API&nbsp;payload?&lt;span&nbsp;style=&quot;font-size:10.5pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:black&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;br&gt;&lt;/div&gt;&lt;div&gt;Saravanan&nbsp;N&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
