<tt>
&lt;div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;Hi&nbsp;Amos,&lt;/span&gt;&nbsp;thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;reply.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;I&nbsp;have&nbsp;tried&nbsp;both&nbsp;-m&nbsp;and&nbsp;-d&nbsp;for&nbsp;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;htpasswd,&nbsp;they&nbsp;do&nbsp;generate&nbsp;different&nbsp;&lt;/span&gt;&lt;font&nbsp;face=&quot;lucida&nbsp;Grande,&nbsp;Verdana,&nbsp;Microsoft&nbsp;YaHei&quot;&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;encrypted&nbsp;text,&nbsp;but&nbsp;none&nbsp;of&nbsp;them&nbsp;can&nbsp;be&nbsp;recognized&nbsp;by&nbsp;&lt;/font&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;/usr/lib64/squid/ncsa_auth.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;I&nbsp;am&nbsp;still&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;stuck&nbsp;at&nbsp;here.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;just&nbsp;paste&nbsp;the&nbsp;diff&nbsp;part&nbsp;of&nbsp;my&nbsp;config&nbsp;between&nbsp;the&nbsp;default&nbsp;config.&nbsp;So&nbsp;my&nbsp;config&nbsp;contains&nbsp;these&nbsp;2&nbsp;lines:&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'lucida&nbsp;Grande',&nbsp;Verdana,&nbsp;'Microsoft&nbsp;YaHei';&nbsp;line-height:&nbsp;22.4px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;&nbsp;&nbsp;http_access&nbsp;deny&nbsp;!Safe_ports&lt;/span&gt;&lt;br&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;23.8px;&quot;&gt;&nbsp;&nbsp;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_Ports&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;font-family:&nbsp;Arial&nbsp;Narrow;padding:2px&nbsp;0&nbsp;2px&nbsp;0;&quot;&gt;------------------&nbsp;原始邮件&nbsp;------------------&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;background:#efefef;padding:8px;&quot;&gt;&lt;div&gt;&lt;b&gt;发件人:&lt;/b&gt;&nbsp;&quot;Amos&nbsp;Jeffries&quot;;&lt;squid3@treenet.co.nz&gt;;&lt;/div&gt;&lt;div&gt;&lt;b&gt;发送时间:&lt;/b&gt;&nbsp;2015年10月1日(星期四)&nbsp;晚上9:13&lt;/div&gt;&lt;div&gt;&lt;b&gt;收件人:&lt;/b&gt;&nbsp;&quot;squid-users&quot;&lt;squid-users@lists.squid-cache.org&gt;;&nbsp;&lt;wbr&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;主题:&lt;/b&gt;&nbsp;Re:&nbsp;[squid-users]&nbsp;Can&nbsp;not&nbsp;pass&nbsp;Squid&nbsp;basic&nbsp;authentication&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;On&nbsp;1/10/2015&nbsp;10:41&nbsp;p.m.,&nbsp;birbird&nbsp;wrote:&lt;br&gt;&gt;&nbsp;Hi&nbsp;All,&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;have&nbsp;setup&nbsp;basic&nbsp;authentication&nbsp;for&nbsp;Squid,&nbsp;but&nbsp;I&nbsp;can&nbsp;not&nbsp;get&nbsp;passed&nbsp;from&nbsp;browser,&nbsp;just&nbsp;asked&nbsp;to&nbsp;inpu&nbsp;user/password&nbsp;time&nbsp;and&nbsp;time&nbsp;again.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;was&nbsp;stuck&nbsp;at,&nbsp;the&nbsp;command&lt;br&gt;&gt;&nbsp;/usr/lib64/squid/ncsa_auth&nbsp;/etc/squid/squid_passwd&lt;br&gt;&gt;&nbsp;dose&nbsp;not&nbsp;give&nbsp;any&nbsp;output.&nbsp;I&nbsp;think&nbsp;it&nbsp;means&nbsp;squid&nbsp;can&nbsp;not&nbsp;get&nbsp;the&nbsp;authentication&nbsp;info.&nbsp;But&nbsp;I&nbsp;have&nbsp;no&nbsp;idea&nbsp;what&nbsp;to&nbsp;do&nbsp;next.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;create&nbsp;my&nbsp;password&nbsp;by&lt;br&gt;&gt;&nbsp;htpasswd&nbsp;-d&nbsp;/etc/squid/squid_passwd&nbsp;dan&lt;br&gt;&lt;br&gt;Try&nbsp;using&nbsp;-m&nbsp;instead&nbsp;of&nbsp;-d.&lt;br&gt;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;My&nbsp;squid&nbsp;config&nbsp;is&lt;br&gt;&gt;&nbsp;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/lib64/squid/ncsa_auth&nbsp;/etc/squid/squid_passwd&lt;br&gt;&gt;&nbsp;acl&nbsp;ncsa_users&nbsp;proxy_auth&nbsp;REQUIRED&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;ncsa_users&lt;br&gt;&gt;&nbsp;&lt;br&gt;&lt;br&gt;Is&nbsp;that&nbsp;the&nbsp;entire&nbsp;acces&nbsp;control&nbsp;configuration?&lt;br&gt;&lt;br&gt;If&nbsp;so,&nbsp;it&nbsp;is&nbsp;missing&nbsp;the&nbsp;basic&nbsp;security&nbsp;protections&nbsp;against&nbsp;tunnel&nbsp;abuse&lt;br&gt;and&nbsp;protocol&nbsp;smuggling.&nbsp;aka;&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;&nbsp;&nbsp;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_Ports&lt;br&gt;&lt;br&gt;These&nbsp;should&nbsp;be&nbsp;above&nbsp;the&nbsp;auth&nbsp;checks&nbsp;to&nbsp;reduce&nbsp;DoS&nbsp;vulnerabilities.&lt;br&gt;&lt;br&gt;Amos&lt;br&gt;_______________________________________________&lt;br&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;squid-users@lists.squid-cache.org&lt;br&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;&lt;/div&gt;
</tt>
