<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;,&lt;br&gt;&lt;/div&gt;we&nbsp;have&nbsp;been&nbsp;using&nbsp;squid&nbsp;3.1.20&nbsp;comes&nbsp;with&nbsp;debian&nbsp;wheezy&nbsp;7.&nbsp;We&nbsp;could&nbsp;see&nbsp;there&nbsp;is&nbsp;a&nbsp;peformance&nbsp;hit&nbsp;in&nbsp;http&nbsp;traffic&nbsp;when&nbsp;we&nbsp;use&nbsp;Squid.&lt;br&gt;&lt;br&gt;&lt;/div&gt;For&nbsp;each&nbsp;HTTP&nbsp;GET&nbsp;request&nbsp;coming&nbsp;from&nbsp;client&nbsp;to&nbsp;proxy&nbsp;server,&nbsp;Squid&nbsp;takes&nbsp;nearly&nbsp;2&nbsp;seconds&nbsp;to&nbsp;generate&nbsp;HTTP&nbsp;GET&nbsp;in&nbsp;order&nbsp;to&nbsp;establish&nbsp;a&nbsp;connection&nbsp;with&nbsp;server.&lt;br&gt;&lt;br&gt;&lt;/div&gt;There&nbsp;is&nbsp;always&nbsp;a&nbsp;~2&nbsp;second&nbsp;delay&nbsp;between&nbsp;the&nbsp;request&nbsp;coming&nbsp;to&nbsp;our&nbsp;system&nbsp;and&nbsp;going&nbsp;out&nbsp;of&nbsp;Squid.&nbsp;Suppose&nbsp;if&nbsp;a&nbsp;page&nbsp;has&nbsp;lot&nbsp;of&nbsp;embedded&nbsp;URL&#39;s&nbsp;it&#39;s&nbsp;taking&nbsp;more&nbsp;time&nbsp;with&nbsp;squid&nbsp;in&nbsp;place.Suppose&nbsp;If&nbsp;I&nbsp;disable&nbsp;squid&nbsp;the&nbsp;page&nbsp;loads&nbsp;very&nbsp;fast&nbsp;in&nbsp;client&nbsp;browser.&lt;br&gt;&lt;br&gt;&lt;/div&gt;What&nbsp;could&nbsp;be&nbsp;the&nbsp;reason?&nbsp;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;tweak&nbsp;any&nbsp;configuration&nbsp;for&nbsp;this?&nbsp;The&nbsp;first&nbsp;page&nbsp;request&nbsp;always&nbsp;loads&nbsp;slow&nbsp;with&nbsp;Squid.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;u&gt;&lt;b&gt;Configuration&lt;br&gt;&lt;/b&gt;&lt;/u&gt;http_port&nbsp;3128&lt;br&gt;http_port&nbsp;3129&nbsp;tproxy&lt;br&gt;http_port&nbsp;80&nbsp;accel&nbsp;defaultsite=&lt;a&nbsp;href=&quot;http://example.com&quot;&gt;example.com&lt;/a&gt;&lt;br&gt;acl&nbsp;manager&nbsp;proto&nbsp;cache_object&lt;br&gt;acl&nbsp;localhost&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1/32&quot;&gt;127.0.0.1/32&lt;/a&gt;&nbsp;::1&lt;br&gt;acl&nbsp;to_localhost&nbsp;dst&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.0/8&quot;&gt;127.0.0.0/8&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0/32&quot;&gt;0.0.0.0/32&lt;/a&gt;&nbsp;::1&lt;br&gt;acl&nbsp;QUERY&nbsp;urlpath_regex&nbsp;cgi-bin&nbsp;\?&lt;br&gt;cache&nbsp;deny&nbsp;QUERY&lt;br&gt;acl&nbsp;denied_status_404&nbsp;http_status&nbsp;404&lt;br&gt;deny_info &nbsp;&lt;a&nbsp;href=&quot;http://example.com/&quot;&gt;http://example.com/&lt;/a&gt;&nbsp;denied_status_404&lt;br&gt;http_reply_access&nbsp;deny&nbsp;denied_status_404&lt;br&gt;acl&nbsp;denied_status_503&nbsp;http_status&nbsp;503&lt;br&gt;deny_info&nbsp;&lt;a&nbsp;href=&quot;http://example.com&quot;&gt;http://example.com&lt;/a&gt;&nbsp;denied_status_503&lt;br&gt;http_reply_access&nbsp;deny&nbsp;denied_status_503&lt;br&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&lt;br&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;acl&nbsp;PURGE&nbsp;method&nbsp;PURGE&lt;br&gt;http_access&nbsp;allow&nbsp;PURGE&nbsp;localhost&lt;br&gt;http_access&nbsp;deny&nbsp;PURGE&lt;br&gt;http_access&nbsp;allow&nbsp;manager&nbsp;localhost&lt;br&gt;http_access&nbsp;deny&nbsp;manager&lt;br&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;all&lt;br&gt;http_access&nbsp;allow&nbsp;all&lt;br&gt;icp_access&nbsp;allow&nbsp;all&lt;br&gt;tcp_outgoing_address&nbsp;x.y.z.5&lt;br&gt;acl&nbsp;VIDEO &nbsp;url_regex&nbsp;^&lt;a&nbsp;href=&quot;http://example&quot;&gt;http://example&lt;/a&gt;\.examplevideo\.com&lt;br&gt;cache&nbsp;allow&nbsp;VIDEO&lt;br&gt;cache_mem&nbsp;100&nbsp;mb&lt;br&gt;maximum_object_size_in_memory&nbsp;10&nbsp;kb&lt;br&gt;memory_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;cache_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;cache_dir&nbsp;aufs&nbsp;//var/logs/cache&nbsp;6144&nbsp;16&nbsp;256&lt;br&gt;store_dir_select_algorithm&nbsp;round-robin&lt;br&gt;maximum_object_size &nbsp;51200&nbsp;kb&lt;br&gt;cache_swap_low&nbsp;70&lt;br&gt;cache_swap_high&nbsp;80&lt;br&gt;access_log&nbsp;//var/logs/access.log&nbsp;squid&lt;br&gt;cache_store_log&nbsp;none&lt;br&gt;logfile_rotate&nbsp;1&lt;br&gt;mime_table&nbsp;//var/opt/abs/config/acpu/mime.conf&lt;br&gt;pid_filename&nbsp;/var/run/squid3.pid&lt;br&gt; strip_query_terms&nbsp;off&lt;br&gt;cache_log&nbsp;//var/logs/cache.log&lt;br&gt;coredump_dir&nbsp;//var/cache&lt;br&gt;acl&nbsp;apache&nbsp;rep_header&nbsp;server&nbsp;^apache&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;^http://.wsj./.*&nbsp;10&nbsp;200%&nbsp;10&nbsp;override-expire&nbsp;override-lastmod&nbsp;reload-into-ims&nbsp;ignore-reload&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(gif|png|jpg|jpeg|ico)$&nbsp;480&nbsp;100%&nbsp;480&nbsp;override-expire&nbsp;override-lastmod&nbsp;reload-into-ims&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(htm|html|js|css)$&nbsp;480&nbsp;100%&nbsp;480&nbsp;override-expire&nbsp;override-lastmod&nbsp;reload-into-ims&lt;br&gt;refresh_pattern&nbsp;^ftp:      &nbsp;1440   &nbsp;20%&nbsp;10080&lt;br&gt;refresh_pattern&nbsp;^gopher:   &nbsp;1440   &nbsp;0% &nbsp;1440&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0% &nbsp;0&lt;br&gt;refresh_pattern&nbsp;.      &nbsp;0  &nbsp;20%&nbsp;4320&lt;br&gt;quick_abort_min&nbsp;0&nbsp;kb&lt;br&gt;quick_abort_max&nbsp;0&nbsp;kb&lt;br&gt;negative_ttl&nbsp;1&nbsp;minutes&lt;br&gt;positive_dns_ttl&nbsp;1800&nbsp;seconds&lt;br&gt;store_objects_per_bucket&nbsp;100&lt;br&gt;forward_timeout&nbsp;2&nbsp;minutes&lt;br&gt;shutdown_lifetime&nbsp;2&nbsp;seconds&lt;br&gt;visible_hostname&nbsp;x.y.z.3&lt;br&gt;server_persistent_connections&nbsp;off&lt;br&gt;dns_nameservers&nbsp;x.y.z.1&nbsp;x.y.z.2&lt;br&gt;ipcache_size&nbsp;8192&lt;br&gt;fqdncache_size&nbsp;8192&lt;br&gt;memory_pools&nbsp;off&lt;br&gt;&lt;br&gt;&lt;pre&nbsp;style=&quot;&quot;&nbsp;class=&quot;&quot;&gt;&lt;code&gt;&lt;span&nbsp;class=&quot;&quot;&gt;Regards,&lt;br&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&nbsp;style=&quot;&quot;&nbsp;class=&quot;&quot;&gt;&lt;code&gt;&lt;span&nbsp;class=&quot;&quot;&gt;Saravanan&nbsp;N&lt;br&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&nbsp;style=&quot;&quot;&nbsp;class=&quot;&quot;&gt;&lt;code&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;<br>

</tt>
