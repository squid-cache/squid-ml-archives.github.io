<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;meta&nbsp;name=Generator&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Wingdings;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:5&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:11.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#0563C1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#954F72;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-compose;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body&nbsp;lang=EN-US&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;&lt;div&nbsp;class=WordSection1&gt;&lt;p&nbsp;class=MsoNormal&gt;So,&nbsp;here&nbsp;is&nbsp;the&nbsp;problem:&nbsp;&nbsp;I&nbsp;want&nbsp;to&nbsp;cache&nbsp;the&nbsp;images&nbsp;on&nbsp;craigslist.&nbsp;&nbsp;The&nbsp;headers&nbsp;all&nbsp;look&nbsp;thoroughly&nbsp;cacheable,&nbsp;some&nbsp;browsers&nbsp;(I&#8217;m&nbsp;glairing&nbsp;at&nbsp;you&nbsp;Chrome)&nbsp;send&nbsp;with&nbsp;this&nbsp;thing&nbsp;that&nbsp;requests&nbsp;that&nbsp;they&nbsp;not&nbsp;be&nbsp;cachable,&nbsp;but&nbsp;craigslist&nbsp;replies&nbsp;anyway&nbsp;and&nbsp;says&nbsp;&#8220;sure&nbsp;thing!&nbsp;Cache&nbsp;that&nbsp;sucker!&#8221;&nbsp;and&nbsp;firefox&nbsp;doesn&#8217;t&nbsp;even&nbsp;do&nbsp;that.&nbsp;&nbsp;An&nbsp;example&nbsp;of&nbsp;URL:&nbsp;&lt;a&nbsp;href=&quot;http://images.craigslist.org/00o0o_3fcu92TR5jB_600x450.jpg&quot;&gt;http://images.craigslist.org/00o0o_3fcu92TR5jB_600x450.jpg&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;The&nbsp;request&nbsp;headers&nbsp;look&nbsp;like:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Host:&nbsp;images.craigslist.org&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;User-Agent:&nbsp;Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;10.0;&nbsp;WOW64;&nbsp;rv:41.0)&nbsp;Gecko/20100101&nbsp;Firefox/41.0&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Accept:&nbsp;image/png,image/*;q=0.8,*/*;q=0.5&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Accept-Language:&nbsp;en-US,en;q=0.5&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Accept-Encoding:&nbsp;gzip,&nbsp;deflate&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Referer:&nbsp;http://seattle.craigslist.org/oly/hvo/5288435732.html&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Cookie:&nbsp;cl_tocmode=sss%3Agrid;&nbsp;cl_b=hlJExhZ55RGzNupTXAYJOAIcZ80;&nbsp;cl_def_lang=en;&nbsp;cl_def_hp=seattle&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Connection:&nbsp;keep-alive&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;The&nbsp;response&nbsp;headers&nbsp;are:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Cache-Control:&nbsp;public,&nbsp;max-age=2592000&nbsp;&nbsp;&lt;span&nbsp;style='font-family:Wingdings'&gt;&szlig;&lt;/span&gt;&nbsp;doesn&#8217;t&nbsp;that&nbsp;say&nbsp;&#8220;keep&nbsp;that&nbsp;a&nbsp;very&nbsp;long&nbsp;time&#8221;?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Content-Length:&nbsp;49811&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Content-Type:&nbsp;image/jpeg&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Date:&nbsp;Tue,&nbsp;27&nbsp;Oct&nbsp;2015&nbsp;23:04:14&nbsp;GMT&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Last-Modified:&nbsp;Tue,&nbsp;27&nbsp;Oct&nbsp;2015&nbsp;23:04:14&nbsp;GMT&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Server:&nbsp;craigslist/0&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Access&nbsp;log&nbsp;says:&lt;br&gt;1445989120.714&nbsp;&nbsp;&nbsp;&nbsp;265&nbsp;192.168.2.56&nbsp;TCP_MISS/200&nbsp;50162&nbsp;GET&nbsp;http://images.craigslist.org/00Y0Y_kMkjOhL1Lim_600x450.jpg&nbsp;-&nbsp;ORIGINAL_DST/208.82.236.227&nbsp;image/jpeg&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;And&nbsp;Store&nbsp;Log&nbsp;says:&lt;br&gt;1445989120.714&nbsp;RELEASE&nbsp;-1&nbsp;FFFFFFFF&nbsp;27C2B2CEC9ACCA05A31E80479E5F0E9C&nbsp;&nbsp;&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;?/?&nbsp;?/?&nbsp;?&nbsp;?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;I&nbsp;started&nbsp;out&nbsp;with&nbsp;a&nbsp;configuration&nbsp;from&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://wiki.sebeka.k12.mn.us/web_services:squid_update_cache&quot;&gt;http://wiki.sebeka.k12.mn.us/web_services:squid_update_cache&lt;/a&gt;&nbsp;but&nbsp;have&nbsp;made&nbsp;a&nbsp;lot&nbsp;of&nbsp;tweaks&nbsp;to&nbsp;it.&nbsp;&nbsp;In&nbsp;fact,&nbsp;I&#8217;ve&nbsp;dropped&nbsp;all&nbsp;the&nbsp;updates,&nbsp;all&nbsp;the&nbsp;rewrite,&nbsp;store&nbsp;id,&nbsp;and&nbsp;a&nbsp;lot&nbsp;of&nbsp;other&nbsp;stuff.&nbsp;&nbsp;I&#8217;ve&nbsp;set&nbsp;cache&nbsp;allow&nbsp;all&nbsp;(which,&nbsp;I&nbsp;suspect&nbsp;I&nbsp;can&nbsp;simply&nbsp;leave&nbsp;blank,&nbsp;but&nbsp;I&nbsp;don&#8217;t&nbsp;know)&nbsp;&nbsp;I&#8217;ve&nbsp;cut&nbsp;it&nbsp;down&nbsp;quite&nbsp;a&nbsp;bit,&nbsp;the&nbsp;one&nbsp;I&nbsp;am&nbsp;testing&nbsp;right&nbsp;now&nbsp;for&nbsp;example&nbsp;looks&nbsp;like&nbsp;this:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;My&nbsp;squid.conf&nbsp;(which&nbsp;has&nbsp;been&nbsp;hacked&nbsp;mercilously&nbsp;trying&nbsp;stuff,&nbsp;admittedly)&nbsp;looks&nbsp;like&nbsp;this:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;BEGIN&nbsp;SQUID.CONF&nbsp;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;localnet&nbsp;src&nbsp;10.0.0.0/8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;localnet&nbsp;src&nbsp;172.16.0.0/12&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;localnet&nbsp;src&nbsp;192.168.0.0/16&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ftp&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;https&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gopher&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;wais&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;&nbsp;#&nbsp;unregistered&nbsp;ports&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http-mgmt&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gss-http&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;filemaker&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiling&nbsp;http&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;http_access&nbsp;allow&nbsp;localnet&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;http_access&nbsp;allow&nbsp;localhost&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;#&nbsp;And&nbsp;finally&nbsp;deny&nbsp;all&nbsp;other&nbsp;access&nbsp;to&nbsp;this&nbsp;proxy&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;http_access&nbsp;deny&nbsp;all&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;http_port&nbsp;3128&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;http_port&nbsp;3129&nbsp;tproxy&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_dir&nbsp;aufs&nbsp;/var/spool/squid/&nbsp;40000&nbsp;32&nbsp;256&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_swap_low&nbsp;90&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_swap_high&nbsp;95&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;dns_nameservers&nbsp;8.8.8.8&nbsp;8.8.4.4&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache&nbsp;allow&nbsp;all&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;maximum_object_size&nbsp;8000&nbsp;MB&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;range_offset_limit&nbsp;8000&nbsp;MB&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;quick_abort_min&nbsp;512&nbsp;KB&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_store_log&nbsp;/var/log/squid/store.log&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;access_log&nbsp;daemon:/var/log/squid/access.log&nbsp;squid&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_log&nbsp;/var/log/squid/cache.log&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;coredump_dir&nbsp;/var/spool/squid&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;max_open_disk_fds&nbsp;8000&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;vary_ignore_expire&nbsp;on&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;request_entities&nbsp;on&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;-i&nbsp;.*\.(gif|png|jpg|jpeg|ico|webp)$&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;ignore-no-store&nbsp;ignore-private&nbsp;ignore-reload&nbsp;store-stale&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;^ftp:&nbsp;1440&nbsp;20%&nbsp;10080&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;^gopher:&nbsp;1440&nbsp;0%&nbsp;1440&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;-i&nbsp;.*\.index.(html|htm)$&nbsp;2880&nbsp;40%&nbsp;10080&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;-i&nbsp;.*\.(html|htm|css|js)$&nbsp;120&nbsp;40%&nbsp;1440&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0%&nbsp;0&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;refresh_pattern&nbsp;.&nbsp;0&nbsp;40%&nbsp;40320&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_mgr&nbsp;&lt;my&nbsp;address&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_effective_user&nbsp;proxy&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;cache_effective_group&nbsp;proxy&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;END&nbsp;SQUID.CONF&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;There&nbsp;is&nbsp;a&nbsp;good&nbsp;deal&nbsp;of&nbsp;hacking&nbsp;that&nbsp;has&nbsp;gone&nbsp;into&nbsp;this&nbsp;configuration,&nbsp;and&nbsp;I&nbsp;accept&nbsp;that&nbsp;this&nbsp;will&nbsp;eventually&nbsp;be&nbsp;gutted&nbsp;and&nbsp;replaced&nbsp;with&nbsp;something&nbsp;less,&nbsp;broken.&nbsp;&nbsp;Where&nbsp;I&nbsp;am&nbsp;pulling&nbsp;my&nbsp;hair&nbsp;out&nbsp;is&nbsp;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;why&nbsp;things&nbsp;are&nbsp;cached&nbsp;and&nbsp;then&nbsp;not&nbsp;cached.&nbsp;&nbsp;That&nbsp;top&nbsp;refresh&nbsp;line&nbsp;(the&nbsp;one&nbsp;looking&nbsp;for&nbsp;jpg,&nbsp;gifs&nbsp;etc)&nbsp;has&nbsp;taken&nbsp;many&nbsp;forms,&nbsp;and&nbsp;I&nbsp;am&nbsp;getting&nbsp;inconsistent&nbsp;results.&nbsp;&nbsp;The&nbsp;above&nbsp;image&nbsp;will&nbsp;cache&nbsp;just&nbsp;fine,&nbsp;a&nbsp;couple&nbsp;times,&nbsp;but&nbsp;if&nbsp;I&nbsp;go&nbsp;back,&nbsp;clear&nbsp;the&nbsp;cache&nbsp;on&nbsp;the&nbsp;browser,&nbsp;close&nbsp;out,&nbsp;restart&nbsp;and&nbsp;reload,&nbsp;it&nbsp;releases&nbsp;the&nbsp;link&nbsp;and&nbsp;never&nbsp;again&nbsp;shall&nbsp;it&nbsp;cache.&nbsp;&nbsp;What&nbsp;is&nbsp;worse,&nbsp;it&nbsp;appears&nbsp;to&nbsp;get&nbsp;getting&nbsp;worse&nbsp;over&nbsp;time&nbsp;until&nbsp;it&nbsp;isn&#8217;t&nbsp;really&nbsp;picking&nbsp;up&nbsp;much&nbsp;of&nbsp;anything.&nbsp;&nbsp;What&nbsp;starts&nbsp;out&nbsp;as&nbsp;a&nbsp;few&nbsp;missed&nbsp;entries&nbsp;piles&nbsp;up&nbsp;into&nbsp;a&nbsp;huge&nbsp;list&nbsp;of&nbsp;cache&nbsp;misses&nbsp;over&nbsp;time.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;Right&nbsp;now,&nbsp;I&nbsp;am&nbsp;running&nbsp;somewhere&nbsp;in&nbsp;the&nbsp;0.1%&nbsp;hits&nbsp;rate,&nbsp;and&nbsp;I&nbsp;can&nbsp;only&nbsp;assume&nbsp;I&nbsp;have&nbsp;buckled&nbsp;something&nbsp;in&nbsp;all&nbsp;the&nbsp;compile&nbsp;and&nbsp;re-compiles,&nbsp;and&nbsp;reconfigurations.&nbsp;&nbsp;What&nbsp;started&nbsp;out&nbsp;as&nbsp;&#8220;gee,&nbsp;I&nbsp;wonder&nbsp;if&nbsp;I&nbsp;can&nbsp;cache&nbsp;updates&#8221;&nbsp;has&nbsp;turned&nbsp;into&nbsp;quite&nbsp;the&nbsp;rabbit&nbsp;hole!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;So,&nbsp;big&nbsp;question,&nbsp;what&nbsp;debug&nbsp;level&nbsp;do&nbsp;I&nbsp;use&nbsp;to&nbsp;see&nbsp;this&nbsp;thing&nbsp;making&nbsp;decisions&nbsp;on&nbsp;whether&nbsp;to&nbsp;cache,&nbsp;and&nbsp;any&nbsp;tips&nbsp;anyone&nbsp;has&nbsp;about&nbsp;this&nbsp;would&nbsp;be&nbsp;appreciated.&nbsp;&nbsp;Thank&nbsp;you!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
