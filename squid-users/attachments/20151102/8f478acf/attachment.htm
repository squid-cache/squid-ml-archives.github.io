<tt>
&lt;HTML&gt;&lt;HEAD&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Hi&nbsp;Olivier,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;If&nbsp;I&nbsp;decode&nbsp;a&nbsp;token&nbsp;I&nbsp;see&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;/base64&gt;&nbsp;hexdump&nbsp;-c&nbsp;base64_dec.out&lt;/DIV&gt;<br>
&lt;DIV&gt;0000000&nbsp;&nbsp;&nbsp;`&nbsp;201&nbsp;236&nbsp;006&nbsp;006&nbsp;&nbsp;&nbsp;+&nbsp;006&nbsp;001&nbsp;005&nbsp;005&nbsp;002&nbsp;240&nbsp;<br>
201&nbsp;223&nbsp;&nbsp;&nbsp;0&nbsp;201&lt;/DIV&gt;<br>
&lt;DIV&gt;0000010&nbsp;220&nbsp;240&nbsp;032&nbsp;&nbsp;&nbsp;0&nbsp;030&nbsp;006&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;+&nbsp;006&nbsp;001&nbsp;<br>
004&nbsp;001&nbsp;202&nbsp;&nbsp;&nbsp;7&nbsp;002&nbsp;002&lt;/DIV&gt;<br>
&lt;DIV&gt;0000020&nbsp;036&nbsp;006&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;+&nbsp;006&nbsp;001&nbsp;004&nbsp;001&nbsp;202&nbsp;&nbsp;&nbsp;7&nbsp;<br>
002&nbsp;002&nbsp;&nbsp;\n&nbsp;242&nbsp;&nbsp;&nbsp;r&nbsp;004&lt;/DIV&gt;<br>
&lt;DIV&gt;0000030&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;N&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;G&nbsp;&nbsp;&nbsp;<br>
O&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;X&nbsp;&nbsp;&nbsp;T&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;\0&nbsp;&nbsp;<br>
\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&lt;/DIV&gt;<br>
&lt;DIV&gt;0000040&nbsp;&nbsp;\0&nbsp;&nbsp;&nbsp;`&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;&nbsp;<br>
p&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;020&nbsp;366&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;<br>
&amp;&nbsp;023&nbsp;256&lt;/DIV&gt;<br>
&lt;DIV&gt;0000050&nbsp;&nbsp;&nbsp;O&nbsp;271&nbsp;216&nbsp;&nbsp;&nbsp;4&nbsp;305&nbsp;&nbsp;\f&nbsp;200&nbsp;&nbsp;&nbsp;<br>
!&nbsp;&nbsp;\t&nbsp;034&nbsp;340&nbsp;&nbsp;&nbsp;#&nbsp;327&nbsp;322&nbsp;177&nbsp;&nbsp;&nbsp;_&lt;/DIV&gt;<br>
&lt;DIV&gt;0000060&nbsp;211&nbsp;202&nbsp;&nbsp;&nbsp;&gt;&nbsp;254&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;g&nbsp;234&nbsp;325&nbsp;<br>
225&nbsp;001&nbsp;022&nbsp;225&nbsp;&nbsp;\f&nbsp;323&nbsp;276&nbsp;&nbsp;&nbsp;A&lt;/DIV&gt;<br>
&lt;DIV&gt;0000070&nbsp;206&nbsp;024&nbsp;&nbsp;&nbsp;6&nbsp;367&nbsp;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;<br>
\0&nbsp;&nbsp;&nbsp;C&nbsp;273&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;<br>
\0&lt;/DIV&gt;<br>
&lt;DIV&gt;0000080&nbsp;&nbsp;\0&nbsp;&nbsp;&nbsp;`&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;001&nbsp;&nbsp;<br>
\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;\0&nbsp;&nbsp;<br>
\0&lt;/DIV&gt;<br>
&lt;DIV&gt;0000090&nbsp;&nbsp;\0&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<br>
2&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;E&nbsp;213&nbsp;&nbsp;&nbsp;H&nbsp;277&nbsp;331&nbsp;&nbsp;&nbsp;<br>
*&nbsp;&nbsp;&nbsp;k&nbsp;240&nbsp;&nbsp;&nbsp;^&nbsp;244&lt;/DIV&gt;<br>
&lt;DIV&gt;00000a0&nbsp;&nbsp;\n&lt;/DIV&gt;<br>
&lt;DIV&gt;00000a1&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;It&nbsp;says&nbsp;NEGOEXTS&nbsp;&nbsp;which&nbsp;points&nbsp;me&nbsp;to&nbsp;&lt;A&nbsp;<br>
title=https://technet.microsoft.com/en-us/library/dd560645%28v=ws.10%29.aspx?f=255&amp;MSPPError=-2147217396&nbsp;<br>
href=&quot;https://technet.microsoft.com/en-us/library/dd560645%28v=ws.10%29.aspx?f=255&amp;MSPPError=-2147217396&quot;&gt;https://technet.microsoft.com/en-us/library/dd560645%28v=ws.10%29.aspx?f=255&amp;MSPPError=-2147217396&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;P&gt;That&nbsp;is&nbsp;not&nbsp;supported.&lt;/P&gt;<br>
&lt;DIV&gt;Markus&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;BORDER-TOP-COLOR:&nbsp;#000000;&nbsp;BORDER-BOTTOM-COLOR:&nbsp;#000000;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;4px&nbsp;solid;&nbsp;BORDER-RIGHT-COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;small;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;TEXT-DECORATION:&nbsp;none;&nbsp;DISPLAY:&nbsp;inline&quot;&gt;<br>
&lt;DIV&gt;&quot;Olivier&nbsp;CALVANO&quot;&nbsp;&lt;o.calvano@gmail.com&gt;&nbsp;wrote&nbsp;in&nbsp;message&nbsp;<br>
news:CAJajPefqOygT5zsYW7fWszwRTTxN-r1Pd-U73XDfoNax9dLHkA@mail.gmail.com...&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;BORDER-TOP-COLOR:&nbsp;#000000;&nbsp;BORDER-BOTTOM-COLOR:&nbsp;#000000;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;4px&nbsp;solid;&nbsp;BORDER-RIGHT-COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;small;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;TEXT-DECORATION:&nbsp;none;&nbsp;DISPLAY:&nbsp;inline&quot;&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;Hi&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;i&nbsp;test&nbsp;a&nbsp;authentification&nbsp;AD&nbsp;with&nbsp;Kerberos/Ntlm&lt;BR&gt;&lt;BR&gt;###&nbsp;<br>
negotiate&nbsp;kerberos&nbsp;and&nbsp;ntlm&nbsp;authentication&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;<br>
/usr/local/bin/negotiate_wrapper&nbsp;--ntlm&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;<br>
--helper-protocol=squid-2.5-ntlmssp&nbsp;--kerberos&nbsp;/usr/lib64/squid/squid_kerb_auth&nbsp;<br>
-d&nbsp;-s&nbsp;GSS_C_NO_NAME&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;<br>
idle=1&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;BR&gt;&lt;BR&gt;##&nbsp;Module&nbsp;d'authentification&nbsp;<br>
NTLM&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;<br>
--helper-protocol=squid-2.5-ntlmssp&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;<br>
idle=1&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;on&lt;BR&gt;&lt;BR&gt;##&nbsp;Si&nbsp;echec&nbsp;du&nbsp;NTLM&nbsp;proposer&nbsp;la&nbsp;<br>
fenetre&nbsp;d'authentification&lt;BR&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;<br>
--diagnostics&nbsp;--helper-protocol=squid-2.5-basic&lt;BR&gt;auth_param&nbsp;basic&nbsp;children&nbsp;40&nbsp;<br>
startup=5&nbsp;idle=1&lt;BR&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;Company&nbsp;proxy-caching&nbsp;web&nbsp;<br>
server&lt;BR&gt;auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;i&nbsp;have&nbsp;a&nbsp;lot&nbsp;<br>
of&nbsp;user&nbsp;that&nbsp;works,&nbsp;but&nbsp;for&nbsp;other&nbsp;user,&nbsp;squid&nbsp;request&nbsp;Login/pass&nbsp;in&nbsp;<br>
loop.&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;In&nbsp;cache.log&nbsp;i&nbsp;have:&lt;BR&gt;&lt;BR&gt;2015/11/02&nbsp;17:37:57|&nbsp;<br>
squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;<br>
requested.&nbsp;Unknown&nbsp;error&lt;BR&gt;2015/11/02&nbsp;17:37:57&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;<br>
Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;<br>
failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;GENSEC&nbsp;login&nbsp;<br>
failed:&nbsp;NT_STATUS_LOGON_FAILURE&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;<br>
NT_STATUS_LOGON_FAILURE&lt;BR&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;<br>
NT_STATUS_LOGON_FAILURE&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;anyone&nbsp;know&nbsp;this&nbsp;problems&nbsp;<br>
?&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;regards&lt;BR&gt;&lt;/DIV&gt;Olivier&lt;BR&gt;&lt;BR&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;P&gt;<br>
&lt;HR&gt;<br>
_______________________________________________&lt;BR&gt;squid-users&nbsp;mailing&nbsp;<br>
list&lt;BR&gt;squid-users@lists.squid-cache.org&lt;BR&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;BR&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
