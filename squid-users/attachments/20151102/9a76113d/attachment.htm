<tt>
&lt;HTML&gt;&lt;HEAD&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&gt;Hi&nbsp;Olivier,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Which&nbsp;Kerberos&nbsp;version&nbsp;do&nbsp;you&nbsp;use&nbsp;?&nbsp;&nbsp;MIT&nbsp;or&nbsp;Heimdal&nbsp;?&nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Markus&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;BORDER-TOP-COLOR:&nbsp;#000000;&nbsp;BORDER-BOTTOM-COLOR:&nbsp;#000000;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;4px&nbsp;solid;&nbsp;BORDER-RIGHT-COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;small;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;TEXT-DECORATION:&nbsp;none;&nbsp;DISPLAY:&nbsp;inline&quot;&gt;<br>
&lt;DIV&gt;&quot;Olivier&nbsp;CALVANO&quot;&nbsp;&lt;o.calvano@gmail.com&gt;&nbsp;wrote&nbsp;in&nbsp;message&nbsp;<br>
news:CAJajPefqOygT5zsYW7fWszwRTTxN-r1Pd-U73XDfoNax9dLHkA@mail.gmail.com...&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;BORDER-TOP-COLOR:&nbsp;#000000;&nbsp;BORDER-BOTTOM-COLOR:&nbsp;#000000;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;4px&nbsp;solid;&nbsp;BORDER-RIGHT-COLOR:&nbsp;#000000&quot;&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;small;&nbsp;FONT-FAMILY:&nbsp;'Calibri';&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;TEXT-DECORATION:&nbsp;none;&nbsp;DISPLAY:&nbsp;inline&quot;&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;Hi&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;i&nbsp;test&nbsp;a&nbsp;authentification&nbsp;AD&nbsp;with&nbsp;Kerberos/Ntlm&lt;BR&gt;&lt;BR&gt;###&nbsp;<br>
negotiate&nbsp;kerberos&nbsp;and&nbsp;ntlm&nbsp;authentication&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;<br>
/usr/local/bin/negotiate_wrapper&nbsp;--ntlm&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;<br>
--helper-protocol=squid-2.5-ntlmssp&nbsp;--kerberos&nbsp;/usr/lib64/squid/squid_kerb_auth&nbsp;<br>
-d&nbsp;-s&nbsp;GSS_C_NO_NAME&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;<br>
idle=1&lt;BR&gt;auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;BR&gt;&lt;BR&gt;##&nbsp;Module&nbsp;d'authentification&nbsp;<br>
NTLM&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;<br>
--helper-protocol=squid-2.5-ntlmssp&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;<br>
idle=1&lt;BR&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;on&lt;BR&gt;&lt;BR&gt;##&nbsp;Si&nbsp;echec&nbsp;du&nbsp;NTLM&nbsp;proposer&nbsp;la&nbsp;<br>
fenetre&nbsp;d'authentification&lt;BR&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;<br>
--diagnostics&nbsp;--helper-protocol=squid-2.5-basic&lt;BR&gt;auth_param&nbsp;basic&nbsp;children&nbsp;40&nbsp;<br>
startup=5&nbsp;idle=1&lt;BR&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;Company&nbsp;proxy-caching&nbsp;web&nbsp;<br>
server&lt;BR&gt;auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;i&nbsp;have&nbsp;a&nbsp;lot&nbsp;<br>
of&nbsp;user&nbsp;that&nbsp;works,&nbsp;but&nbsp;for&nbsp;other&nbsp;user,&nbsp;squid&nbsp;request&nbsp;Login/pass&nbsp;in&nbsp;<br>
loop.&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;In&nbsp;cache.log&nbsp;i&nbsp;have:&lt;BR&gt;&lt;BR&gt;2015/11/02&nbsp;17:37:57|&nbsp;<br>
squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;<br>
requested.&nbsp;Unknown&nbsp;error&lt;BR&gt;2015/11/02&nbsp;17:37:57&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;<br>
Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;<br>
failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;GENSEC&nbsp;login&nbsp;<br>
failed:&nbsp;NT_STATUS_LOGON_FAILURE&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
Got&nbsp;'YR&nbsp;<br>
YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;<br>
'YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo='&nbsp;<br>
(decoded&nbsp;length:&nbsp;161).&lt;BR&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;<br>
gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;<br>
error&lt;BR&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;<br>
user.&nbsp;Error&nbsp;returned&nbsp;'BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;<br>
mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error'&lt;BR&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;<br>
NT_STATUS_LOGON_FAILURE&lt;BR&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;<br>
NT_STATUS_LOGON_FAILURE&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;anyone&nbsp;know&nbsp;this&nbsp;problems&nbsp;<br>
?&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;regards&lt;BR&gt;&lt;/DIV&gt;Olivier&lt;BR&gt;&lt;BR&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;P&gt;<br>
&lt;HR&gt;<br>
_______________________________________________&lt;BR&gt;squid-users&nbsp;mailing&nbsp;<br>
list&lt;BR&gt;squid-users@lists.squid-cache.org&lt;BR&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;BR&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
