<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&lt;br&gt;&lt;br&gt;&lt;/div&gt;i&nbsp;test&nbsp;a&nbsp;authentification&nbsp;AD&nbsp;with&nbsp;Kerberos/Ntlm&lt;br&gt;&lt;br&gt;###&nbsp;negotiate&nbsp;kerberos&nbsp;and&nbsp;ntlm&nbsp;authentication&lt;br&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/local/bin/negotiate_wrapper&nbsp;--ntlm&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;--kerberos&nbsp;/usr/lib64/squid/squid_kerb_auth&nbsp;-d&nbsp;-s&nbsp;GSS_C_NO_NAME&lt;br&gt;auth_param&nbsp;negotiate&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;idle=1&lt;br&gt;auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;br&gt;&lt;br&gt;##&nbsp;Module&nbsp;d&#39;authentification&nbsp;NTLM&lt;br&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-ntlmssp&lt;br&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;160&nbsp;startup=5&nbsp;idle=1&lt;br&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;on&lt;br&gt;&lt;br&gt;##&nbsp;Si&nbsp;echec&nbsp;du&nbsp;NTLM&nbsp;proposer&nbsp;la&nbsp;fenetre&nbsp;d&#39;authentification&lt;br&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--diagnostics&nbsp;--helper-protocol=squid-2.5-basic&lt;br&gt;auth_param&nbsp;basic&nbsp;children&nbsp;40&nbsp;startup=5&nbsp;idle=1&lt;br&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;Company&nbsp;proxy-caching&nbsp;web&nbsp;server&lt;br&gt;auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;i&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;user&nbsp;that&nbsp;works,&nbsp;but&nbsp;for&nbsp;other&nbsp;user,&nbsp;squid&nbsp;request&nbsp;Login/pass&nbsp;in&nbsp;loop.&lt;br&gt;&lt;br&gt;&lt;/div&gt;In&nbsp;cache.log&nbsp;i&nbsp;have:&lt;br&gt;&lt;br&gt;2015/11/02&nbsp;17:37:57|&nbsp;squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&lt;br&gt;2015/11/02&nbsp;17:37:57&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;&#39;BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&#39;&lt;br&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;NT_STATUS_LOGON_FAILURE&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Got&nbsp;&#39;YR&nbsp;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;&#39;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABD2TDMmE65PuY40xQyAIQkc4CPX0n9fiYI+rHtnnNWVARKVDNO+QYYUNvc7LgBDuwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;(decoded&nbsp;length:&nbsp;161).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&lt;br&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;&#39;BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&#39;&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Got&nbsp;&#39;YR&nbsp;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;&#39;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABH2TDMmE65PuY40xQyAIQlCKZmWETDY7iZgTnIeQF9VidD8h6SKLzwap1w7iI5lcwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;(decoded&nbsp;length:&nbsp;161).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&lt;br&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;&#39;BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&#39;&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Got&nbsp;&#39;YR&nbsp;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;from&nbsp;squid&nbsp;(length:&nbsp;219).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;Decode&nbsp;&#39;YIGeBgYrBgEFBQKggZMwgZCgGjAYBgorBgEEAYI3AgIeBgorBgEEAYI3AgIKonIEcE5FR09FWFRTAAAAAAAAAABgAAAAcAAAABL2TDMmE65PuY40xQyAIQlOCybIQKGs/hmFlEu3FzYMQIag5ivNn4JcpRWBrJ5vMwAAAAAAAAAAYAAAAAEAAAAAAAAAAAAAAEVyfDIyRYtIv9kqa6BepAo=&#39;&nbsp;(decoded&nbsp;length:&nbsp;161).&lt;br&gt;2015/11/02&nbsp;17:37:58|&nbsp;squid_kerb_auth:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&lt;br&gt;2015/11/02&nbsp;17:37:58&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Error&nbsp;returned&nbsp;&#39;BH&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;An&nbsp;unsupported&nbsp;mechanism&nbsp;was&nbsp;requested.&nbsp;Unknown&nbsp;error&#39;&lt;br&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;NT_STATUS_LOGON_FAILURE&lt;br&gt;GENSEC&nbsp;login&nbsp;failed:&nbsp;NT_STATUS_LOGON_FAILURE&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;anyone&nbsp;know&nbsp;this&nbsp;problems&nbsp;?&lt;br&gt;&lt;br&gt;&lt;/div&gt;regards&lt;br&gt;&lt;/div&gt;Olivier&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
