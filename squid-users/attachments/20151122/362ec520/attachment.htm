<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;<br>
&quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;font-family:Arial;font-size:14px&quot;&gt;<br>
&lt;p&gt;Citando&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;:&lt;/p&gt;<br>
&lt;blockquote&nbsp;style=&quot;border-left:2px&nbsp;solid&nbsp;blue;margin-left:2px;padding-left:12px;&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&lt;p&gt;&lt;br&gt;<br>
CONNECT&nbsp;requests&nbsp;with&nbsp;tunnels&nbsp;can&nbsp;be&nbsp;particularly&nbsp;long&nbsp;lived,&nbsp;mobiles&lt;br&gt;<br>
and&nbsp;their&nbsp;applications&nbsp;stay&nbsp;active&nbsp;for&nbsp;weeks&nbsp;on&nbsp;end&nbsp;with&nbsp;few&nbsp;outward&lt;br&gt;<br>
signs&nbsp;of&nbsp;what&nbsp;is&nbsp;happening&nbsp;inside&nbsp;the&nbsp;encrypted&nbsp;tunnel.&nbsp;The&nbsp;only&nbsp;way&nbsp;to&lt;br&gt;<br>
be&nbsp;sure&nbsp;the&nbsp;connection&nbsp;is&nbsp;finished&nbsp;with&nbsp;is&nbsp;when&nbsp;one&nbsp;of&nbsp;the&nbsp;client&nbsp;or&lt;br&gt;<br>
server&nbsp;remote&nbsp;endpoints&nbsp;closes&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;The&nbsp;port&nbsp;55815&nbsp;connection&nbsp;_was_&nbsp;closed&nbsp;sometimes&nbsp;within&nbsp;15&nbsp;mintes&nbsp;of&lt;br&gt;<br>
the&nbsp;lsof&nbsp;being&nbsp;run.&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;The&nbsp;port&nbsp;52288&nbsp;connection&nbsp;is&nbsp;still&nbsp;being&nbsp;used.&lt;br&gt;<br>
&lt;br&gt;<br>
Given&nbsp;the&nbsp;timespan&nbsp;between&nbsp;those&nbsp;messages&nbsp;and&nbsp;the&nbsp;lsof,&nbsp;it&nbsp;is&nbsp;also&lt;br&gt;<br>
possible&nbsp;they&nbsp;were&nbsp;closed&nbsp;and&nbsp;reopened&nbsp;in&nbsp;between.&nbsp;If&nbsp;you&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&lt;br&gt;<br>
ports&nbsp;in&nbsp;active&nbsp;use,&nbsp;then&nbsp;re-use&nbsp;of&nbsp;closed&nbsp;ones&nbsp;becomes&nbsp;more&nbsp;likely.&lt;br&gt;<br>
Though&nbsp;I&nbsp;suspect&nbsp;it&nbsp;is&nbsp;just&nbsp;persistence&nbsp;doing&nbsp;what&nbsp;it&nbsp;is&nbsp;designed&nbsp;to&nbsp;do.&lt;br&gt;<br>
You&nbsp;will&nbsp;need&nbsp;a&nbsp;more&nbsp;detailed&nbsp;trace&nbsp;of&nbsp;the&nbsp;entire&nbsp;time&nbsp;period&nbsp;to&nbsp;know.&lt;/p&gt;<br>
&lt;/blockquote&gt;<br>
&lt;p&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
11&nbsp;more&nbsp;hours&nbsp;have&nbsp;passed&nbsp;since&nbsp;my&nbsp;last&nbsp;&quot;lsof&quot;&nbsp;and&nbsp;cause&nbsp;it's&nbsp;Sunday&nbsp;I'm&nbsp;sure&nbsp;that&nbsp;no&nbsp;device&nbsp;have&nbsp;been&nbsp;connected&nbsp;to&nbsp;192.168.x.x&nbsp;network&nbsp;at&nbsp;least&nbsp;for&nbsp;15&nbsp;hours.&lt;br&gt;<br>
Right&nbsp;now&nbsp;lsof&nbsp;output&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;11&nbsp;hours&nbsp;before:&lt;br&gt;<br>
&lt;br&gt;<br>
squid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32490&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy&nbsp;&nbsp;&nbsp;12u&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPv6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4065613&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0t0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCP&nbsp;172.16.10.22:3126-&gt;192.168.93.113:55815&nbsp;(CLOSE_WAIT)&lt;br&gt;<br>
squid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32490&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy&nbsp;&nbsp;&nbsp;14u&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPv6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4097822&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0t0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCP&nbsp;172.16.10.22:3126-&gt;192.168.90.207:52288&nbsp;(ESTABLISHED)&lt;br&gt;<br>
...&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;is&nbsp;still&nbsp;using&nbsp;file&nbsp;descriptors&nbsp;12&nbsp;and&nbsp;14&nbsp;(and&nbsp;a&nbsp;lot&nbsp;of&nbsp;others)&nbsp;for&nbsp;the&nbsp;same&nbsp;connections&nbsp;as&nbsp;yesterday,&nbsp;although&nbsp;the&nbsp;mobile&nbsp;devices&nbsp;it&nbsp;was&nbsp;connected&nbsp;to&nbsp;have&nbsp;not&nbsp;been&nbsp;online&nbsp;in&nbsp;our&nbsp;network&nbsp;for&nbsp;at&nbsp;least&nbsp;15&nbsp;hours.&lt;br&gt;<br>
Is&nbsp;it&nbsp;by&nbsp;design?&lt;br&gt;<br>
Raising&nbsp;file&nbsp;descriptors&nbsp;limit&nbsp;is&nbsp;the&nbsp;only&nbsp;solution?&lt;br&gt;<br>
The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors&nbsp;in&nbsp;my&nbsp;installation&nbsp;is&nbsp;set&nbsp;to&nbsp;65535.&nbsp;Is&nbsp;there&nbsp;any&nbsp;drawback&nbsp;to&nbsp;increasing&nbsp;this&nbsp;number&nbsp;let's&nbsp;say&nbsp;by&nbsp;a&nbsp;factor&nbsp;of&nbsp;ten?&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&nbsp;&nbsp;Andr&eacute;&lt;br&gt;&lt;/p&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
