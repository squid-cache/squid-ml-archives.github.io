<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;for&nbsp;prompt&nbsp;response.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;want&nbsp;to&nbsp;match&nbsp;all&nbsp;the&nbsp;URL&#39;s&nbsp;which&nbsp;has&nbsp;a&nbsp;pattern&nbsp;of&nbsp;&quot;wsj&quot;&nbsp;(example:&nbsp;*.&lt;a&nbsp;href=&quot;http://wsj.com&quot;&gt;wsj.com&lt;/a&gt;,&nbsp;*.&lt;a&nbsp;href=&quot;http://wsj.net&quot;&gt;wsj.net&lt;/a&gt;,&nbsp;*.&lt;a&nbsp;href=&quot;http://wsj.edu&quot;&gt;wsj.edu&lt;/a&gt;&nbsp;)&nbsp;.&nbsp;Does&nbsp;wildcard&nbsp;makes&nbsp;sense&nbsp;in&nbsp;squid&nbsp;refresh&nbsp;pattern?&nbsp;Can&nbsp;we&nbsp;have&nbsp;something&nbsp;like&nbsp;this?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; refresh_pattern&nbsp;-i&nbsp;^http://*\.wsj\.*/&nbsp;10&nbsp;200%&nbsp;10&nbsp;\&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;override-expire&nbsp;reload-into-ims&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Saravanan&nbsp;N&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Dec&nbsp;27,&nbsp;2015&nbsp;at&nbsp;7:15&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;28/12/2015&nbsp;1:30&nbsp;p.m.,&nbsp;SaRaVanAn&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&nbsp;We&nbsp;are&nbsp;using&nbsp;squid&nbsp;3.1.20&nbsp;in&nbsp;our&nbsp;box.&nbsp;We&nbsp;are&nbsp;facing&nbsp;issues&nbsp;on&nbsp;configuring&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;validating&nbsp;the&nbsp;refresh&nbsp;patterns.&nbsp;It&nbsp;looks&nbsp;like&nbsp;squid&nbsp;is&nbsp;not&nbsp;honoring&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;refresh&nbsp;patterns&nbsp;properly.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;*configuration*&lt;br&gt;<br>
&gt;&nbsp;*refresh_pattern&nbsp;-i&nbsp;^http://.wsj./.*&nbsp;10&nbsp;200%&nbsp;10&nbsp;override-expire&lt;br&gt;<br>
&gt;&nbsp;override-lastmod&nbsp;reload-into-ims&nbsp;ignore-reload*&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;\.(gif|png|jpg|jpeg|ico)$&nbsp;480&nbsp;100%&nbsp;480&nbsp;override-expire&lt;br&gt;<br>
&gt;&nbsp;override-lastmod&nbsp;reload-into-ims&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;\.(htm|html|js|css)$&nbsp;480&nbsp;100%&nbsp;480&nbsp;override-expire&lt;br&gt;<br>
&gt;&nbsp;override-lastmod&nbsp;reload-into-ims&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;^ftp: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1440 &nbsp; &nbsp;20% &nbsp; &nbsp; 10080&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;^gopher: &nbsp; &nbsp; &nbsp; &nbsp;1440 &nbsp; &nbsp;0% &nbsp; &nbsp; &nbsp;1440&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0 &nbsp; &nbsp; 0% &nbsp; &nbsp; &nbsp;0&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 20% &nbsp; &nbsp; 4320&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;As&nbsp;per&nbsp;above&nbsp;refresh&nbsp;pattern&nbsp;squid&nbsp;should&nbsp;refresh&nbsp;the&nbsp;cache&nbsp;every&nbsp;ten&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;minutes&nbsp;for&nbsp;&quot;*^http://.wsj./.*&quot;&nbsp;. &nbsp;*But&nbsp;I&nbsp;am&nbsp;always&nbsp;getting&nbsp;either&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;TCP_HIT/TCP_MEM_HIT&nbsp;even&nbsp;after&nbsp;hours.&nbsp;Why&nbsp;is&nbsp;it&nbsp;so?&nbsp;.&nbsp;Please&nbsp;find&nbsp;the&nbsp;logs&lt;br&gt;<br>
&gt;&nbsp;below&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Because&nbsp;none&nbsp;of&nbsp;the&nbsp;log&nbsp;entries&nbsp;match&nbsp;the&nbsp;regex&nbsp;pattern&nbsp;&quot;^http://.wsj./.*&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
PS.&nbsp;the&nbsp;trailing&nbsp;&quot;.*&nbsp;is&nbsp;useless,&nbsp;the&nbsp;other&nbsp;uses&nbsp;of&nbsp;&#39;.&#39;&nbsp;only&nbsp;match&nbsp;one&lt;br&gt;<br>
single&nbsp;character.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Try&nbsp;this&nbsp;for&nbsp;more&nbsp;correct&nbsp;behaviour:&lt;br&gt;<br>
 &nbsp;refresh_pattern&nbsp;-i&nbsp;^http://[a-zA-Z]+\.wsj\.net/&nbsp;10&nbsp;200%&nbsp;10&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;override-expire&nbsp;reload-into-ims&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
