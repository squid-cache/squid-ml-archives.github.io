<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA256&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;# &nbsp;TAG:&nbsp;client_db   &nbsp;on|off&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#   &nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;disable&nbsp;collecting&nbsp;per-client&nbsp;statistics,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#   &nbsp;turn&nbsp;off&nbsp;client_db&nbsp;here.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#Default:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;client_db&nbsp;on&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Feel&nbsp;free&nbsp;to&nbsp;read&nbsp;squid.conf.documented&nbsp;before.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;04.02.16&nbsp;21:06,&nbsp;Stefan&nbsp;Hölzle&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&nbsp;On&nbsp;04.02.2016&nbsp;14:22,&nbsp;Amos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jeffries&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;On&nbsp;5/02/2016&nbsp;12:41&nbsp;a.m.,&nbsp;Stefan&nbsp;Hölzle&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;Hello,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;I'm&nbsp;using&nbsp;a&nbsp;squid&nbsp;configured&nbsp;as&nbsp;proxy.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;According&nbsp;to&nbsp;the&nbsp;cache&nbsp;log,&nbsp;squid&nbsp;is&nbsp;doing&nbsp;a&nbsp;reverse<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dns&nbsp;lookup&nbsp;for&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;client&nbsp;ips:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;78,3|&nbsp;dns_internal.cc(1794)&nbsp;idnsPTRLookup:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idnsPTRLookup:&nbsp;buf&nbsp;is&nbsp;42&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;bytes&nbsp;for&nbsp;SOME_SOURCE_IP&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;I'm&nbsp;only&nbsp;using&nbsp;the&nbsp;following&nbsp;configuration&nbsp;parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;might&nbsp;be&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;relevant&nbsp;for&nbsp;this&nbsp;issue.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;external_acl_type&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;src&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;dst&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;dstdom_regex&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;port&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;proxy_auth&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;external&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;acl&nbsp;aclname&nbsp;url_regex&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;Any&nbsp;ideas&nbsp;why&nbsp;squid&nbsp;is&nbsp;doing&nbsp;PTR&nbsp;lookups&nbsp;anyway&nbsp;?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Because&nbsp;that&nbsp;list&nbsp;is&nbsp;incomplete.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;The&nbsp;format&nbsp;parameters&nbsp;for&nbsp;external_acl_type,&nbsp;any&nbsp;*_extras<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules&nbsp;for&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;helper&nbsp;formats,&nbsp;and&nbsp;logformat&nbsp;rules&nbsp;also&nbsp;may&nbsp;make&nbsp;use&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;client&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;hostname&nbsp;(if&nbsp;any).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Also,&nbsp;anyone&nbsp;viewing&nbsp;the&nbsp;cachemanager&nbsp;clientdb&nbsp;report<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;trigger&nbsp;some&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;as&nbsp;the&nbsp;report&nbsp;is&nbsp;generated.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Amos&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;quick&nbsp;reply&nbsp;Amos.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;*&nbsp;Used&nbsp;formats&nbsp;for&nbsp;external_acl_type&nbsp;are:&nbsp;%LOGIN,&nbsp;%SRC&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;*&nbsp;There&nbsp;are&nbsp;no&nbsp;*_extras&nbsp;rules&nbsp;defined&nbsp;(store_id_extras&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/store_id_extras/&quot;&gt;&lt;http://www.squid-cache.org/Doc/config/store_id_extras/&gt;&lt;/a&gt;,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;url_rewrite_extras&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/url_rewrite_extras/&quot;&gt;&lt;http://www.squid-cache.org/Doc/config/url_rewrite_extras/&gt;&lt;/a&gt;)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;*&nbsp;logformat&nbsp;defaults&nbsp;are&nbsp;used&nbsp;(there&nbsp;should&nbsp;be&nbsp;nothing&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;responsible&nbsp;for&nbsp;a&nbsp;ptr&nbsp;lookup)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;I&nbsp;guess&nbsp;its&nbsp;the&nbsp;cachemanager&nbsp;then.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;There&nbsp;are&nbsp;actually&nbsp;PTR&nbsp;results&nbsp;listed&nbsp;in&nbsp;the&nbsp;client_list&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;cachemanager.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;I&nbsp;tried&nbsp;blocking&nbsp;access&nbsp;to&nbsp;the&nbsp;cachemanager&nbsp;by&nbsp;adding&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;folling&nbsp;rule:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;http_access&nbsp;deny&nbsp;manager&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;However,&nbsp;squid&nbsp;still&nbsp;does&nbsp;PTR&nbsp;lookups.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;How&nbsp;can&nbsp;I&nbsp;prevent&nbsp;the&nbsp;clientdb&nbsp;reports&nbsp;to&nbsp;be&nbsp;generated&nbsp;?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBCAAGBQJWs2mUAAoJENNXIZxhPexGDSoH/i0/IoFP9v/evo5D8U040CbQ<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;MReG2VxDdgvm/2ev0uOywOCKyDC2zJR+k45quocwImWBlFx7hevg0u2DJ1DpEoy6<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;5j0jbAQn/qhFLA7Rtz9HADPXtejmJBJdC4SYH4iK6f/2cVFKxOqLrvXo8yLFikWW<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SCwWYBptauDH6ZFu9poXVR2tK7X8yMZDmhEhF2eNo70bHefn2fvrtBXv66NrYxpp<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;vQtduE9U7MXjq9Os/c7LOtatJX+lU6ZOJvRWNBFiNRkXJzr79u/poRwvSUJ4gS+t<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iZaqslMdQ2PpDjkEIesZ9A3uhw1aJYZAzsBH6NAymd8BUGQPLufBbKGCkDddzGg=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=kg35<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
