<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA256&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;08.03.16&nbsp;0:38,&nbsp;Heiler&nbsp;Bemerguy&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&nbsp;skyrocketing&nbsp;=&nbsp;using&nbsp;our<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;link&nbsp;download&nbsp;bandwidth.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;This&nbsp;machine&nbsp;is&nbsp;only&nbsp;proxying.&nbsp;Not&nbsp;being&nbsp;a&nbsp;firewall,&nbsp;not&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;router,&nbsp;nor&nbsp;a&nbsp;gateway.&nbsp;It&nbsp;has&nbsp;access&nbsp;to&nbsp;the&nbsp;internet&nbsp;through&nbsp;our<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gateway/firewall&nbsp;(pfsense).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Lots&nbsp;of&nbsp;LAN&nbsp;clients&nbsp;are&nbsp;connected&nbsp;to&nbsp;the&nbsp;proxy,&nbsp;this&nbsp;is&nbsp;their<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only&nbsp;way&nbsp;to&nbsp;the&nbsp;internet.&nbsp;1&nbsp;interface,&nbsp;debian&nbsp;linux.&nbsp;EXT4&nbsp;FS.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPU/MEM&nbsp;usage&nbsp;is&nbsp;always&nbsp;stable.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Clients&nbsp;use&nbsp;it&nbsp;explicitly&nbsp;or&nbsp;via&nbsp;wpad.&nbsp;Never&nbsp;transparently.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now&nbsp;I'm&nbsp;using&nbsp;3&nbsp;workers,&nbsp;because&nbsp;1&nbsp;is&nbsp;not&nbsp;enough&nbsp;and&nbsp;we&nbsp;have&nbsp;spare<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cores.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;*It's&nbsp;a&nbsp;VM&nbsp;machine&nbsp;with&nbsp;netapp&nbsp;storage.&nbsp;lots&nbsp;of&nbsp;raid&nbsp;disks.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;**SQUID&nbsp;was&nbsp;running&nbsp;perfectly&nbsp;without&nbsp;cache_dirs.&nbsp;*&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;VM+netapp&nbsp;has&nbsp;own&nbsp;tweaks,&nbsp;quirks&nbsp;and&nbsp;features.&nbsp;And&nbsp;&quot;squid&nbsp;running<br>
&nbsp;&nbsp;&nbsp;&nbsp;perfectly&nbsp;runs&nbsp;without&nbsp;cache_dirs&quot;&nbsp;directly&nbsp;pointed&nbsp;to&nbsp;problem(s).<br>
&nbsp;&nbsp;&nbsp;&nbsp;(This&nbsp;is&nbsp;excluding&nbsp;not&nbsp;enough&nbsp;storage&nbsp;for&nbsp;store&nbsp;_all_&nbsp;Windows<br>
&nbsp;&nbsp;&nbsp;&nbsp;updates&nbsp;approx.&nbsp;from&nbsp;2013&nbsp;;))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;I&nbsp;think&nbsp;squid&nbsp;is&nbsp;downloading&nbsp;and&nbsp;redownloading&nbsp;the&nbsp;same&nbsp;files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;over&nbsp;and&nbsp;over&nbsp;again&nbsp;because:&nbsp;1-&nbsp;these&nbsp;are&nbsp;segmented&nbsp;downloads&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range_offset_limit&nbsp;is&nbsp;set&nbsp;to&nbsp;NONE&nbsp;for&nbsp;these&nbsp;files.&nbsp;2-&nbsp;it&nbsp;can't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store&nbsp;the&nbsp;downloaded&nbsp;files&nbsp;on&nbsp;the&nbsp;cache&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&nbsp;why!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;1457358960.737  &nbsp;8399&nbsp;10.23.0.63&nbsp;*TCP_SWAPFAIL_MISS*/206<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1058138&nbsp;GET<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://au.download.windowsupdate.com/c/msdownload/update/software/uprl/2013/10/ie11-windows6.1-x64-en-us_ddec9ddc256ffa7d97831af148f6cc45130c6857.exe&quot;&gt;http://au.download.windowsupdate.com/c/msdownload/update/software/uprl/2013/10/ie11-windows6.1-x64-en-us_ddec9ddc256ffa7d97831af148f6cc45130c6857.exe&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;HIER_DIRECT/201.30.251.43&nbsp;application/octet-stream&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;1457358987.869 &nbsp;22464&nbsp;10.88.10.5&nbsp;*TCP_SWAPFAIL_MISS*/206<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1416417&nbsp;GET<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://au.download.windowsupdate.com/d/msdownload/update/software/secu/2016/02/ie11-windows6.1-kb3141092-x64_0f7a98b9dc9f5c7ac73f6f543bf004a15e4d7be8.psf&quot;&gt;http://au.download.windowsupdate.com/d/msdownload/update/software/secu/2016/02/ie11-windows6.1-kb3141092-x64_0f7a98b9dc9f5c7ac73f6f543bf004a15e4d7be8.psf&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;HIER_DIRECT/201.30.251.26&nbsp;application/octet-stream&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Squid&nbsp;Object&nbsp;Cache:&nbsp;Version&nbsp;3.5.15-20160301-r13999&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Build&nbsp;Info:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Service&nbsp;Name:&nbsp;squid&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Start&nbsp;Time:    &nbsp;Fri,&nbsp;04&nbsp;Mar&nbsp;2016&nbsp;21:15:47&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Current&nbsp;Time:  &nbsp;Mon,&nbsp;07&nbsp;Mar&nbsp;2016&nbsp;18:14:37&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Connection&nbsp;information&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;clients&nbsp;accessing&nbsp;cache:     &nbsp;4543&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;HTTP&nbsp;requests&nbsp;received:      &nbsp;7305505&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;ICP&nbsp;messages&nbsp;received:       &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;ICP&nbsp;messages&nbsp;sent:   &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;queued&nbsp;ICP&nbsp;replies:  &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;HTCP&nbsp;messages&nbsp;received:      &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;HTCP&nbsp;messages&nbsp;sent:  &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Request&nbsp;failure&nbsp;ratio:  &nbsp;0.00&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Average&nbsp;HTTP&nbsp;requests&nbsp;per&nbsp;minute&nbsp;since&nbsp;start:  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1765.1&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Average&nbsp;ICP&nbsp;messages&nbsp;per&nbsp;minute&nbsp;since&nbsp;start:   &nbsp;0.0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Select&nbsp;loop&nbsp;called:&nbsp;365044476&nbsp;times,&nbsp;11.146&nbsp;ms&nbsp;avg&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Cache&nbsp;information&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Hits&nbsp;as&nbsp;%&nbsp;of&nbsp;all&nbsp;requests:     &nbsp;5min:&nbsp;22.0%,&nbsp;60min:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21.2%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Hits&nbsp;as&nbsp;%&nbsp;of&nbsp;bytes&nbsp;sent:       &nbsp;5min:&nbsp;3.9%,&nbsp;60min:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.3%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Memory&nbsp;hits&nbsp;as&nbsp;%&nbsp;of&nbsp;hit&nbsp;requests:      &nbsp;5min:&nbsp;2.5%,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60min:&nbsp;2.9%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Disk&nbsp;hits&nbsp;as&nbsp;%&nbsp;of&nbsp;hit&nbsp;requests:&nbsp;5min:&nbsp;28.1%,&nbsp;60min:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26.8%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Storage&nbsp;Swap&nbsp;size:     &nbsp;179951936&nbsp;KB&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Storage&nbsp;Swap&nbsp;capacity: &nbsp;45.1%&nbsp;used,&nbsp;54.9%&nbsp;free&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Storage&nbsp;Mem&nbsp;size:      &nbsp;4194176&nbsp;KB&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Storage&nbsp;Mem&nbsp;capacity:  &nbsp;100.0%&nbsp;used, &nbsp;0.0%&nbsp;free&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Mean&nbsp;Object&nbsp;Size:      &nbsp;46.07&nbsp;KB&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Requests&nbsp;given&nbsp;to&nbsp;unlinkd:     &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Median&nbsp;Service&nbsp;Times&nbsp;(seconds) &nbsp;5&nbsp;min   &nbsp;60&nbsp;min:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;HTTP&nbsp;Requests&nbsp;(All):  &nbsp;0.06514 &nbsp;0.07007&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Cache&nbsp;Misses:         &nbsp;0.09730 &nbsp;0.10075&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Cache&nbsp;Hits:           &nbsp;0.00055 &nbsp;0.00055&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Near&nbsp;Hits:            &nbsp;0.06521 &nbsp;0.06757&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Not-Modified&nbsp;Replies: &nbsp;0.00055 &nbsp;0.00055&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;DNS&nbsp;Lookups:          &nbsp;0.00019 &nbsp;0.00019&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;ICP&nbsp;Queries:          &nbsp;0.00000 &nbsp;0.00000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Resource&nbsp;usage&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;UP&nbsp;Time:       &nbsp;248329.183&nbsp;seconds&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;CPU&nbsp;Time:      &nbsp;21525.705&nbsp;seconds&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;CPU&nbsp;Usage:     &nbsp;8.67%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;CPU&nbsp;Usage,&nbsp;5&nbsp;minute&nbsp;avg:       &nbsp;52.35%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;CPU&nbsp;Usage,&nbsp;60&nbsp;minute&nbsp;avg:      &nbsp;47.90%&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Maximum&nbsp;Resident&nbsp;Size:&nbsp;85809792&nbsp;KB&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Page&nbsp;faults&nbsp;with&nbsp;physical&nbsp;i/o:&nbsp;104&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Memory&nbsp;accounted&nbsp;for:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Total&nbsp;accounted:      &nbsp;164356&nbsp;KB&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;memPoolAlloc&nbsp;calls:&nbsp;1801863396&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;memPoolFree&nbsp;calls: &nbsp;1811836496&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;File&nbsp;descriptor&nbsp;usage&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Maximum&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors:  &nbsp;81920&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Largest&nbsp;file&nbsp;desc&nbsp;currently&nbsp;in&nbsp;use:  &nbsp;6157&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Number&nbsp;of&nbsp;file&nbsp;desc&nbsp;currently&nbsp;in&nbsp;use:&nbsp;8216&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Files&nbsp;queued&nbsp;for&nbsp;open:                  &nbsp;0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Available&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors:&nbsp;73704&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Reserved&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors:  &nbsp;500&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;Store&nbsp;Disk&nbsp;files&nbsp;open:                 &nbsp;11&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Internal&nbsp;Data&nbsp;Structures:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;         &nbsp;25054&nbsp;StoreEntries&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;           &nbsp;391&nbsp;StoreEntries&nbsp;with&nbsp;MemObjects&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;         &nbsp;96086&nbsp;Hot&nbsp;Object&nbsp;Cache&nbsp;Items&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;        &nbsp;3905959&nbsp;on-disk&nbsp;objects&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Best&nbsp;Regards,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;--&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Heiler&nbsp;Bemerguy&nbsp;-&nbsp;(91)&nbsp;98151-4894&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Assessor&nbsp;Técnico&nbsp;-&nbsp;CINBESA&nbsp;(91)&nbsp;3184-1751&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Em&nbsp;07/03/2016&nbsp;14:33,&nbsp;Eliezer&nbsp;Croitoru&nbsp;escreveu:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;On&nbsp;07/03/2016&nbsp;16:29,&nbsp;Heiler&nbsp;Bemerguy&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;We're&nbsp;still&nbsp;getting&nbsp;all&nbsp;these&nbsp;SWAPFAIL&nbsp;and&nbsp;our&nbsp;link<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;skyrocketing......&nbsp;please&nbsp;help!&nbsp;I&nbsp;think&nbsp;it&nbsp;didn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;happen&nbsp;on&nbsp;older&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;versions&nbsp;(.14&nbsp;and&nbsp;below)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Hey,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;What&nbsp;do&nbsp;you&nbsp;mean&nbsp;by&nbsp;skyrocketing??&nbsp;like&nbsp;in&nbsp;the&nbsp;graph??&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Also&nbsp;it&nbsp;is&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;something&nbsp;about&nbsp;the&nbsp;machine,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;this&nbsp;machine&nbsp;a&nbsp;FW\ROUTER\GW?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;If&nbsp;so&nbsp;is&nbsp;it&nbsp;for&nbsp;a&nbsp;lan?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;How&nbsp;many&nbsp;interface&nbsp;this&nbsp;machine&nbsp;has?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Is&nbsp;it&nbsp;a&nbsp;pfsense?&nbsp;if&nbsp;so&nbsp;what&nbsp;version?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;What&nbsp;is&nbsp;the&nbsp;FS&nbsp;used&nbsp;for&nbsp;the&nbsp;cache&nbsp;directories?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Did&nbsp;you&nbsp;also&nbsp;measured&nbsp;CPU&nbsp;when&nbsp;you&nbsp;see&nbsp;the&nbsp;spikes?&nbsp;if&nbsp;so<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what&nbsp;is&nbsp;it?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;How&nbsp;clients&nbsp;access&nbsp;the&nbsp;proxy&nbsp;service?&nbsp;transparently&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;a&nbsp;browser&nbsp;setings&nbsp;or&nbsp;WPAD&nbsp;with&nbsp;dhcp&nbsp;settings?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Also&nbsp;I&nbsp;have&nbsp;seen&nbsp;you&nbsp;are&nbsp;using&nbsp;2&nbsp;workers,&nbsp;is&nbsp;it&nbsp;because<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;worker&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;do&nbsp;the&nbsp;job?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Did&nbsp;you&nbsp;tried&nbsp;to&nbsp;change&nbsp;the&nbsp;values&nbsp;of:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_low&nbsp;98&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_high&nbsp;99&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;from&nbsp;this&nbsp;high&nbsp;to&nbsp;lower&nbsp;numbers&nbsp;such&nbsp;as:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_low&nbsp;90&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_high&nbsp;95&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;or&nbsp;even&nbsp;lower?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_low&nbsp;80&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;cache_swap_high&nbsp;85&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;I&nbsp;am&nbsp;unsure&nbsp;about&nbsp;this&nbsp;since&nbsp;in&nbsp;the&nbsp;docs&nbsp;at:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/cache_swap_low/&quot;&gt;http://www.squid-cache.org/Doc/config/cache_swap_low/&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/cache_swap_high/&quot;&gt;http://www.squid-cache.org/Doc/config/cache_swap_high/&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;the&nbsp;ROCK&nbsp;storage&nbsp;is&nbsp;not&nbsp;mentioned.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Also&nbsp;on&nbsp;what&nbsp;hardware&nbsp;are&nbsp;you&nbsp;running?&nbsp;what&nbsp;disks?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;All&nbsp;the&nbsp;above&nbsp;are&nbsp;important&nbsp;and&nbsp;in&nbsp;your&nbsp;case&nbsp;it&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possible&nbsp;that&nbsp;there&nbsp;is&nbsp;something&nbsp;wrong&nbsp;in&nbsp;how&nbsp;the&nbsp;network&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;planned&nbsp;or&nbsp;the&nbsp;software&nbsp;doing&nbsp;something&nbsp;wrong.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;In&nbsp;scenarios&nbsp;like&nbsp;this&nbsp;I&nbsp;offer&nbsp;to&nbsp;verify&nbsp;two&nbsp;things:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;-&nbsp;test&nbsp;what&nbsp;happens&nbsp;when&nbsp;you&nbsp;disable&nbsp;disk&nbsp;cache.(from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPU,&nbsp;bandwidth,&nbsp;DISK&nbsp;aspect)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;-&nbsp;dump&nbsp;the&nbsp;cache&nbsp;manager&nbsp;info&nbsp;page&nbsp;to&nbsp;see&nbsp;basic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statistics&nbsp;about&nbsp;the&nbsp;proxy&nbsp;traffic&nbsp;using:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http:/cache_ip_or_visiblie_host_name:3128/squid-internal-mgr/info&quot;&gt;http:/cache_ip_or_visiblie_host_name:3128/squid-internal-mgr/info&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;For&nbsp;scenarios&nbsp;like&nbsp;this&nbsp;I&nbsp;started&nbsp;working&nbsp;on&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging\monitoring&nbsp;service\script&nbsp;that&nbsp;will&nbsp;run&nbsp;in&nbsp;the&nbsp;background<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;machine&nbsp;and&nbsp;will&nbsp;dump&nbsp;content&nbsp;of&nbsp;some&nbsp;statistics&nbsp;to&nbsp;enable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;couple&nbsp;squid&nbsp;developers&nbsp;eyes&nbsp;to&nbsp;see&nbsp;these&nbsp;and&nbsp;then&nbsp;have&nbsp;a&nbsp;better<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;understanding&nbsp;the&nbsp;nature&nbsp;of&nbsp;the&nbsp;issue.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;For&nbsp;now&nbsp;the&nbsp;script\service&nbsp;is&nbsp;not&nbsp;ready&nbsp;and&nbsp;will&nbsp;not&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;able&nbsp;to&nbsp;help&nbsp;us&nbsp;so&nbsp;we&nbsp;need&nbsp;these&nbsp;dumps&nbsp;and&nbsp;information..&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;Eliezer&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBCAAGBQJW3eGaAAoJENNXIZxhPexGBcMIAIRTiHjnUXqixXiZnlYgTVZG<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/fMYoCik8wo5iMCcZj35jVmfbGFKUYFgfc9S1NgyrrzO+8cfTxQUhF3QDESjqmu6<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+uFLh1o91bsMtFpXutruRF3YwOz/tvep8r3G0/gmnuzvZo47ZrFztH6eti0tpkDa<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;l9mK3dnrrkpwNb69yBx81MKvt9hshK4iNIRdKC9LtlY7xdthnQqdLySinDtPJlV/<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;bWp3IcTycxqTR5KFVgsTxQnzJdSQaz0He3Bxm0yms2xxwMTnr8Hggk8jB3vY+aFh<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;NKy8WB01N/+oIb2eBtbhW35o9Hu3MYVfCO8oxKSRGGky++DitY0Cr0X02SPSo5g=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=yyyX<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
