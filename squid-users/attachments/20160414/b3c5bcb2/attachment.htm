<tt>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;STYLE&nbsp;id=eMClientCss&gt;BLOCKQUOTE.cite&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PADDING-LEFT:&nbsp;10px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#cccccc&nbsp;1px&nbsp;solid;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;MARGIN-RIGHT:&nbsp;0px<br>
}<br>
BLOCKQUOTE.cite2&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PADDING-TOP:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;10px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#cccccc&nbsp;1px&nbsp;solid;&nbsp;MARGIN-TOP:&nbsp;3px;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;MARGIN-RIGHT:&nbsp;0px<br>
}<br>
.plain&nbsp;PRE&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;100%;&nbsp;FONT-FAMILY:&nbsp;monospace;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal<br>
}<br>
.plain&nbsp;TT&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;100%;&nbsp;FONT-FAMILY:&nbsp;monospace;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal<br>
}<br>
A&nbsp;IMG&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BORDER-TOP:&nbsp;0px;&nbsp;BORDER-RIGHT:&nbsp;0px;&nbsp;BORDER-BOTTOM:&nbsp;0px;&nbsp;BORDER-LEFT:&nbsp;0px<br>
}<br>
#x5f5ca13579ea4269aa2f4def7365716f&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri<br>
}<br>
#xbde894fa6437418ea710ca906527dfa0&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri<br>
}<br>
.plain&nbsp;PRE&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri<br>
}<br>
.plain&nbsp;TT&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri<br>
}<br>
BODY&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri<br>
}<br>
&lt;/STYLE&gt;<br>
<br>
&lt;STYLE&gt;#x5f5ca13579ea4269aa2f4def7365716f&nbsp;BLOCKQUOTE.cite<br>
{PADDING-LEFT:&nbsp;10px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#cccccc&nbsp;1px&nbsp;solid;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;MARGIN-RIGHT:&nbsp;0px}<br>
#x5f5ca13579ea4269aa2f4def7365716f&nbsp;BLOCKQUOTE.cite2<br>
{PADDING-TOP:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;10px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#cccccc&nbsp;1px&nbsp;solid;&nbsp;MARGIN-TOP:&nbsp;3px;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;MARGIN-RIGHT:&nbsp;0px}<br>
#x5f5ca13579ea4269aa2f4def7365716f&nbsp;.plain&nbsp;PRE,&nbsp;#x5f5ca13579ea4269aa2f4def7365716f&nbsp;.plain&nbsp;TT<br>
{FONT-SIZE:&nbsp;100%;&nbsp;FONT-FAMILY:&nbsp;monospace;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal}<br>
#x5f5ca13579ea4269aa2f4def7365716f&nbsp;A&nbsp;IMG<br>
{BORDER-TOP:&nbsp;0px;&nbsp;BORDER-RIGHT:&nbsp;0px;&nbsp;BORDER-BOTTOM:&nbsp;0px;&nbsp;BORDER-LEFT:&nbsp;0px}<br>
#x5f5ca13579ea4269aa2f4def7365716f&nbsp;.plain&nbsp;PRE,&nbsp;#x5f5ca13579ea4269aa2f4def7365716f&nbsp;.plain&nbsp;TT,&nbsp;#x5f5ca13579ea4269aa2f4def7365716f<br>
{FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri}<br>
&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;scroll=auto&nbsp;class&gt;<br>
&lt;DIV&gt;&lt;STRONG&gt;Hi,&lt;/STRONG&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;id=x5f5ca13579ea4269aa2f4def7365716f&gt;<br>
&lt;DIV&gt;I'm&nbsp;trying&nbsp;to&nbsp;deal&nbsp;with&nbsp;dynamic&nbsp;content&nbsp;to&nbsp;be&nbsp;cached&nbsp;by&nbsp;Squid&nbsp;3.5&nbsp;(i&nbsp;tried&nbsp;many&nbsp;other&nbsp;version&nbsp;of&nbsp;squid&nbsp;e.g&nbsp;2.7,&nbsp;3.1,&nbsp;3.4).&nbsp;By&nbsp;Dynamic&nbsp;I&nbsp;mean&nbsp;the&nbsp;URL&nbsp;for&nbsp;the&nbsp;actual&nbsp;content&nbsp;is&nbsp;always&nbsp;change&nbsp;this&nbsp;results&nbsp;in&nbsp;the&nbsp;wastage&nbsp;of&nbsp;Cache&nbsp;storage&nbsp;and&nbsp;low&nbsp;hit&nbsp;rate.&nbsp;As&nbsp;per&nbsp;my&nbsp;understanding&nbsp;I&nbsp;have&nbsp;two&nbsp;challenges&nbsp;atm:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;1-&nbsp;Websites&nbsp;with&nbsp;dynamic&nbsp;URL&nbsp;for&nbsp;requested&nbsp;content&nbsp;(e.g&nbsp;filehippo,&nbsp;download.com&nbsp;etc&nbsp;etc)&lt;/DIV&gt;<br>
&lt;DIV&gt;2-&nbsp;Streaming&nbsp;web&nbsp;sites&nbsp;where&nbsp;the&nbsp;dynamic&nbsp;URL&nbsp;has&nbsp;206&nbsp;(partial&nbsp;content)&nbsp;tune.pk&nbsp;videos&nbsp;for&nbsp;e.g&nbsp;or&nbsp;windows&nbsp;updates&nbsp;(enabling&nbsp;range&nbsp;off&nbsp;set&nbsp;limit&nbsp;to&nbsp;-1&nbsp;causes&nbsp;havoc&nbsp;on&nbsp;upstream&nbsp;to&nbsp;we&nbsp;kept&nbsp;it&nbsp;disable&nbsp;is&nbsp;there&nbsp;some&nbsp;way&nbsp;to&nbsp;control&nbsp;the&nbsp;behavior&nbsp;?)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;If&nbsp;someone&nbsp;has&nbsp;successfully&nbsp;configured&nbsp;the&nbsp;above&nbsp;scenario&nbsp;please&nbsp;help&nbsp;me&nbsp;out&nbsp;as&nbsp;i&nbsp;dont&nbsp;have&nbsp;programming&nbsp;background&nbsp;to&nbsp;deal&nbsp;with&nbsp;this&nbsp;complexity.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;tried&nbsp;using&nbsp;different&nbsp;store-ID&nbsp;helpers&nbsp;but&nbsp;no&nbsp;saving&nbsp;on&nbsp;upstream&nbsp;the&nbsp;content&nbsp;is&nbsp;still&nbsp;coming&nbsp;from&nbsp;origin.&nbsp;Below&nbsp;is&nbsp;the&nbsp;helper&nbsp;i&nbsp;have&nbsp;used:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;id=xbde894fa6437418ea710ca906527dfa0&gt;<br>
&lt;DIV&gt;&lt;STRONG&gt;&lt;U&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;My&nbsp;Setup&nbsp;Summary:&lt;/FONT&gt;&lt;/U&gt;&lt;/STRONG&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Centos&nbsp;6.5&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Tproxy&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Single&nbsp;Ethernet&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Squid&nbsp;v3.5.16&nbsp;(yum&nbsp;installed&nbsp;from&nbsp;repo)&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.5.16&lt;BR&gt;Service&nbsp;Name:&nbsp;squid&lt;BR&gt;configure&nbsp;options:&nbsp;&nbsp;'--build=x86_64-redhat-linux-gnu'&nbsp;'--host=x86_64-redhat-linux-gnu'&nbsp;'--target=x86_64-redhat-linux-gnu'&nbsp;'--program-prefix='&nbsp;'--prefix=/usr'&nbsp;'--exec-prefix=/usr'&nbsp;'--bindir=/usr/bin'&nbsp;'--sbindir=/usr/sbin'&nbsp;'--sysconfdir=/etc'&nbsp;'--datadir=/usr/share'&nbsp;'--includedir=/usr/include'&nbsp;'--libdir=/usr/lib64'&nbsp;'--libexecdir=/usr/libexec'&nbsp;'--sharedstatedir=/var/lib'&nbsp;'--mandir=/usr/share/man'&nbsp;'--infodir=/usr/share/info'&nbsp;'--verbose'&nbsp;'--exec_prefix=/usr'&nbsp;'--libexecdir=/usr/lib64/squid'&nbsp;'--localstatedir=/var'&nbsp;'--datadir=/usr/share/squid'&nbsp;'--sysconfdir=/etc/squid'&nbsp;'--with-logdir=$(localstatedir)/log/squid'&nbsp;'--with-pidfile=$(localstatedir)/run/squid.pid'&nbsp;'--disable-dependency-tracking'&nbsp;'--enable-follow-x-forwarded-for'&nbsp;'--enable-auth'&nbsp;'--enable-auth-basic=DB,LDAP,NCSA,NIS,PAM,POP3,RADIUS,SASL,SMB,getpwnam'&nbsp;'--enable-auth-ntlm=smb_lm,fake'&nbsp;'--enable-auth-digest=file,LDAP'&nbsp;'--enable-auth-negotiate=kerberos,wrapper'&nbsp;'--enable-external-acl-helpers=wbinfo_group,kerberos_ldap_group'&nbsp;'--enable-cache-digests'&nbsp;'--enable-cachemgr-hostname=localhost'&nbsp;'--enable-delay-pools'&nbsp;'--enable-epoll'&nbsp;'--enable-icap-client'&nbsp;'--enable-ident-lookups'&nbsp;'--enable-linux-netfilter'&nbsp;'--enable-removal-policies=heap,lru'&nbsp;'--enable-snmp'&nbsp;'--enable-storeio=aufs,diskd,ufs,rock'&nbsp;'--enable-wccpv2'&nbsp;'--enable-esi'&nbsp;'--enable-ssl-crtd'&nbsp;'--enable-icmp'&nbsp;'--with-aio'&nbsp;'--with-default-user=squid'&nbsp;'--with-filedescriptors=16384'&nbsp;'--with-dl'&nbsp;'--with-openssl'&nbsp;'--with-pthreads'&nbsp;'--with-included-ltdl'&nbsp;'--disable-arch-native'&nbsp;'--without-nettle'&nbsp;'build_alias=x86_64-redhat-linux-gnu'&nbsp;'host_alias=x86_64-redhat-linux-gnu'&nbsp;'target_alias=x86_64-redhat-linux-gnu'&nbsp;'CFLAGS=-O2&nbsp;-g&nbsp;-pipe&nbsp;-Wall&nbsp;-Wp,-D_FORTIFY_SOURCE=2&nbsp;-fexceptions&nbsp;-fstack-protector&nbsp;--param=ssp-buffer-size=4&nbsp;-m64&nbsp;-mtune=generic'&nbsp;'CXXFLAGS=-O2&nbsp;-g&nbsp;-pipe&nbsp;-Wall&nbsp;-Wp,-D_FORTIFY_SOURCE=2&nbsp;-fexceptions&nbsp;-fstack-protector&nbsp;--param=ssp-buffer-size=4&nbsp;-m64&nbsp;-mtune=generic&nbsp;-fPIC'&nbsp;'PKG_CONFIG_PATH=:/usr/lib64/pkgconfig:/usr/share/pkgconfig'&nbsp;--enable-ltdl-convenience&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;-----------------------------------------------&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;Store&nbsp;ID&nbsp;Helper&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;===============================================&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;#!/usr/bin/perl&lt;BR&gt;#&nbsp;Improved\Converted&nbsp;StoreID&nbsp;helper&nbsp;based&nbsp;on&nbsp;perl&nbsp;and&nbsp;not&nbsp;on&nbsp;ruby&lt;BR&gt;#&nbsp;this&nbsp;helper&nbsp;dosn't&nbsp;have&nbsp;my&nbsp;logic&nbsp;about&nbsp;youtube&nbsp;and&nbsp;other&nbsp;StoreID&lt;BR&gt;#&nbsp;but&nbsp;it&nbsp;still&nbsp;do&nbsp;the&nbsp;trick&nbsp;in&nbsp;most&nbsp;cases&nbsp;and&nbsp;for&nbsp;my&nbsp;understanding.&lt;BR&gt;#&nbsp;if&nbsp;you&nbsp;do&nbsp;want&nbsp;to&nbsp;understand&nbsp;the&nbsp;script&nbsp;logic&nbsp;rather&nbsp;then&nbsp;just&lt;BR&gt;#&nbsp;use&nbsp;it&nbsp;try&nbsp;to&nbsp;look&nbsp;at:&nbsp;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://www1.ngtech.co.il/paste/1016/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://www1.ngtech.co.il/paste/1016/&lt;/FONT&gt;&lt;/A&gt;&lt;BR&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;#&nbsp;Eliezer&nbsp;Croitoru&nbsp;eliezer&lt;at&gt;ngtech.co.il&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;$|=1;&lt;BR&gt;while&nbsp;(&lt;&gt;)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@X&nbsp;=&nbsp;split;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(@X[0]&nbsp;=~&nbsp;m/^(exit|quit|x|q)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;STDERR&nbsp;&quot;quiting&nbsp;helper&nbsp;quietly\n&quot;;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;0;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;if&nbsp;($X[0]&nbsp;=~&nbsp;m/^http\:\/\/.*(youtube|google).*(videoplayback|liveplay).*/){&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@itag&nbsp;=&nbsp;m/[&amp;?](itag=[0-9]*)/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@id&nbsp;=&nbsp;m/[&amp;?](id=[^\&amp;]*)/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@range&nbsp;=&nbsp;m/[&amp;?](range=[^\&amp;\s]*)/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@begin&nbsp;=&nbsp;m/[&amp;?](begin=[^\&amp;\s]*)/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@redirect&nbsp;=&nbsp;m/[&amp;?](redirect_counter=[^\&amp;]*)/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://video-srv.youtube.com.squid.internal/@id&amp;@itag&amp;@range@begin@redirect&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://video-srv.youtube.com.squid.internal/@id&amp;@itag&amp;@range@begin@redirect&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http\:\/\/.*(profile|photo|creative).*\.ak\.fbcdn\.net\/((h|)(profile|photos)-ak-)(snc|ash|prn)[0-9]?(.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://fbcdn.net.squid.internal/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://fbcdn.net.squid.internal/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$2&nbsp;&nbsp;.&nbsp;&quot;fb&quot;&nbsp;.&nbsp;&nbsp;$6&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/i[1-4]\.ytimg\.com\/(.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://ytimg.com.squid.internal/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://ytimg.com.squid.internal/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$1&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/.*\.dl\.sourceforge\.net\/(.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://dl.sourceforge.net.squid.internal/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://dl.sourceforge.net.squid.internal/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$1&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Speedtest&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http\:\/\/.*\/speedtest\/(.*\.(jpg|txt)).*/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://speedtest.squid.internal/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://speedtest.squid.internal/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$1&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#BLOGSPOT&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/[1-4]\.bp\.(blogspot\.com.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://blog-cdn&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://blog-cdn&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;.&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#AVAST&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/download[0-9]{3}.(avast.com.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://avast-cdn&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://avast-cdn&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;.&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#AVAST&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/[0-9]*\.[0-9]*\.[0-9]*\.[0-9]*\/(iavs.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://avast-cdn.avast.com/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://avast-cdn.avast.com/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#KAV&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/dnl-[0-9]{2}.(geo.kaspersky.com.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://kav-cdn&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://kav-cdn&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;.&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#AVG&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/update.avg.com/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://avg-cdn&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://avg-cdn&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;.&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#maps.google.com&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/(cbk|mt|khm|mlt|tbn)[0-9]?(.google\.co(m|\.uk|\.id).*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;.&nbsp;$2&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#gstatic&nbsp;and/or&nbsp;wikimapia&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/([a-z])[0-9]?(\.gstatic\.com.*|\.wikimapia\.org.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;.&nbsp;$2&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#maps.google.com&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/(khm|mt)[0-9]?(.google.com.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$1&nbsp;&nbsp;.&nbsp;$2&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Google&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/www\.google-analytics\.com\/__utm\.gif\?.*/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://www.google-analytics.com/__utm.gif\n&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://www.google-analytics.com/__utm.gif\n&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/(www\.ziddu\.com.*\.[^\/]{3,4})\/(.*?)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$1&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#cdn,&nbsp;varialble&nbsp;1st&nbsp;path&lt;BR&gt;}&nbsp;elsif&nbsp;(($X[0]&nbsp;=~&nbsp;/filehippo/)&nbsp;&amp;&amp;&nbsp;(m/^http:\/\/(.*?)\.(.*?)\/(.*?)\/(.*)\.([a-z0-9]{3,4})(\?.*)?/))&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@y&nbsp;=&nbsp;($1,$2,$4,$5);&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$y[0]&nbsp;=~&nbsp;s/[a-z0-9]{2,5}/cdn./;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$y[0]&nbsp;.&nbsp;$y[1]&nbsp;.&nbsp;&quot;/&quot;&nbsp;.&nbsp;$y[2]&nbsp;.&nbsp;&quot;.&quot;&nbsp;.&nbsp;$y[3]&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#rapidshare&lt;BR&gt;}&nbsp;elsif&nbsp;(($X[0]&nbsp;=~&nbsp;/rapidshare/)&nbsp;&amp;&amp;&nbsp;(m/^http:\/\/(([A-Za-z]+[0-9-.]+)*?)([a-z]*\.[^\/]{3}\/[a-z]*\/[0-9]*)\/(.*?)\/([^\/\?\&amp;]{4,})$/))&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://cdn&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://cdn&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;.&quot;&nbsp;.&nbsp;$3&nbsp;.&nbsp;&quot;/squid.internal/&quot;&nbsp;.&nbsp;$5&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#for&nbsp;yimg.com&nbsp;video&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/(.*yimg.com)\/\/(.*)\/([^\/\?\&amp;]*\/[^\/\?\&amp;]*\.[^\/\?\&amp;]{3,4})(\?.*)?$/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://cdn.yimg.com/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://cdn.yimg.com/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$3&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#for&nbsp;yimg.com&nbsp;doubled&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/(.*?)\.yimg\.com\/(.*?)\.yimg\.com\/(.*?)\?(.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://cdn.yimg.com/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://cdn.yimg.com/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;&nbsp;.&nbsp;$3&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#for&nbsp;Filehippo&nbsp;files&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^https?:\/\/.*\.(filehippo\.com)\/.*\/(.*[\.exe|zip|cab|msi|mru|mri|bz2|gzip|tgz|rar|pdf])/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;&lt;/FONT&gt;&lt;A&nbsp;href=&quot;http://filehippo.sqinternal/&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;http://filehippo.sqinternal/&lt;/FONT&gt;&lt;/A&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&quot;&nbsp;.&nbsp;$1&nbsp;.&nbsp;$2&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#for&nbsp;yimg.com&nbsp;with&nbsp;&amp;sig=&lt;BR&gt;}&nbsp;elsif&nbsp;($X[0]&nbsp;=~&nbsp;m/^http:\/\/([^\.]*)\.yimg\.com\/(.*)/)&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@y&nbsp;=&nbsp;($1,$2);&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$y[0]&nbsp;=~&nbsp;s/[a-z]+([0-9]+)?/cdn/;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$y[1]&nbsp;=~&nbsp;s/&amp;sig=.*//;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;http://&quot;&nbsp;.&nbsp;$y[0]&nbsp;.&nbsp;&quot;.yimg.com/&quot;&nbsp;&nbsp;.&nbsp;$y[1]&nbsp;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&nbsp;else&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$out=&quot;ERR&quot;;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;}&lt;BR&gt;if&nbsp;(&nbsp;$out&nbsp;=~&nbsp;m/^http\:\/\/.*/)&nbsp;{&lt;BR&gt;&nbsp;print&nbsp;&quot;OK&nbsp;store-id=$out\n&quot;&nbsp;;&lt;BR&gt;}&nbsp;else&nbsp;{&lt;BR&gt;&nbsp;print&nbsp;&quot;ERR\n&quot;&nbsp;;&lt;BR&gt;}&lt;BR&gt;}&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;--&lt;/DIV&gt;<br>
&lt;DIV&nbsp;id=signature_old&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT-SIZE:&nbsp;12pt;&nbsp;FONT-FAMILY:&nbsp;Calibri&quot;&gt;<br>
&lt;DIV&gt;Regards,&lt;/DIV&gt;<br>
&lt;DIV&gt;Faisal.&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
