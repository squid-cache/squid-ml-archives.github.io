<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;22&nbsp;April&nbsp;2016&nbsp;at&nbsp;13:45,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;22/04/2016&nbsp;8:23&nbsp;p.m.,&nbsp;Odhiambo&nbsp;Washington&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Sure,&nbsp;I&nbsp;am&nbsp;really&nbsp;struggling&nbsp;to&nbsp;understand&nbsp;this.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;serve&lt;br&gt;<br>
&gt;&nbsp;error&nbsp;pages.&nbsp;A&nbsp;complete&nbsp;example&nbsp;of&nbsp;this&nbsp;would&nbsp;really&nbsp;help.&nbsp;I&nbsp;am&nbsp;thinking,&lt;br&gt;<br>
&gt;&nbsp;based&nbsp;on&nbsp;the&nbsp;two&nbsp;templates&nbsp;you&nbsp;gave&nbsp;and&nbsp;going&nbsp;with&nbsp;the&nbsp;one&nbsp;where&nbsp;squid&lt;br&gt;<br>
&gt;&nbsp;intrudes,&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;like&nbsp;below,&nbsp;but&nbsp;to&nbsp;be&nbsp;honest&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;so&lt;br&gt;<br>
&gt;&nbsp;kindly&nbsp;correct&nbsp;me.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;acl&nbsp;time_wastage_sites_ssl&nbsp;ssl::server_name&nbsp;.&lt;a&nbsp;href=&quot;http://facebook.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;facebook.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://youtube.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;youtube.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;ssl_bump&nbsp;splice&nbsp;time_wastage_sites_ssl&lt;br&gt;<br>
&gt;&nbsp;ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;privileged-staff&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;privileged-clients&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;TIMElunch&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;TIMEafterhoursAFT&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;TIMEafterhoursMORN&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;TIMEsatALLDAY&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;time_wastage_sites_ssl&nbsp;TIMEsundALLDAY&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;deny &nbsp;time_wastage_sites_ssl&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;In&nbsp;a&nbsp;file&nbsp;called&nbsp;&quot;/etc/squid/tws&quot;:&lt;br&gt;<br>
.&lt;a&nbsp;href=&quot;http://facebook.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;facebook.com&lt;/a&gt;&lt;br&gt;<br>
.&lt;a&nbsp;href=&quot;http://youtube.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;youtube.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
squid.conf:&lt;br&gt;<br>
 acl&nbsp;time_wastage_sites_ssl &nbsp;ssl::server_name&nbsp;&quot;/etc/squid/tws&quot;&lt;br&gt;<br>
 acl&nbsp;time_wastage_sites_http&nbsp;dstdomain &nbsp; &nbsp; &nbsp; &nbsp;&quot;/etc/squid/tws&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
 acl&nbsp;privileged_traffic&nbsp;any-of&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;privileged-staff&nbsp;privileged-clients&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;TIMElunch&nbsp;TIMEafterhoursAFT&nbsp;TIMEafterhoursMORN&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;TIMEsatALLDAY&nbsp;TIMEsundALLDAY&lt;br&gt;<br>
&lt;br&gt;<br>
 http_access&nbsp;allow&nbsp;privileged_traffic&lt;br&gt;<br>
 http_access&nbsp;deny&nbsp;time_wastage_sites_http&lt;br&gt;<br>
&lt;br&gt;<br>
 ssl_bump&nbsp;splice&nbsp;privileged_traffic&nbsp;time_wastage_sites_ssl&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt; ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;<br>
 ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;You&nbsp;can&nbsp;probably&nbsp;merge&nbsp;the&nbsp;TIME*&nbsp;ACLs&nbsp;down&nbsp;as&nbsp;well&nbsp;like:&lt;br&gt;<br>
 &nbsp;#&nbsp;lunch&lt;br&gt;<br>
 &nbsp;acl&nbsp;okay_times&nbsp;time&nbsp;...&lt;br&gt;<br>
 &nbsp;#&nbsp;afterhours&nbsp;PM&lt;br&gt;<br>
 &nbsp;acl&nbsp;okay_times&nbsp;time&nbsp;...&lt;br&gt;<br>
 &nbsp;#&nbsp;afterhours&nbsp;AM&lt;br&gt;<br>
 &nbsp;acl&nbsp;okay_times&nbsp;time&nbsp;...&lt;br&gt;<br>
 &nbsp;#&nbsp;Saturday&nbsp;and&nbsp;Sunday&nbsp;all&nbsp;day&lt;br&gt;<br>
 &nbsp;acl&nbsp;okay_times&nbsp;time&nbsp;SA&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
Amos&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Quoting&nbsp;Alex:&lt;/div&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;If&nbsp;you&nbsp;want&nbsp;Squid&nbsp;to&nbsp;not&nbsp;intrude&nbsp;except&nbsp;when&nbsp;terminating&nbsp;prohibited&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt; traffic,&nbsp;then&nbsp;start&nbsp;with&nbsp;this&nbsp;sketch:&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&lt;br&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&gt; &nbsp; &nbsp; &nbsp; ssl_bump&nbsp;terminate&nbsp;prohibited_traffic&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&gt; &nbsp; &nbsp; &nbsp; ssl_bump&nbsp;peek&nbsp;all&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80);font-size:12.8px&quot;&gt;&gt; &nbsp; &nbsp; &nbsp; ssl_bump&nbsp;splice&nbsp;all&lt;/span&gt; &lt;/div&gt;&lt;/div&gt;&quot;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;So&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;achieve&nbsp;such&nbsp;a&nbsp;non-intrusive&nbsp;setup,&nbsp;but&nbsp;without&nbsp;&#39;terminate&#39;? &lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Best&nbsp;regards,&lt;br&gt;Odhiambo&nbsp;WASHINGTON,&lt;br&gt;Nairobi,KE&lt;br&gt;+254&nbsp;7&nbsp;3200&nbsp;0004/+254&nbsp;7&nbsp;2274&nbsp;3223&lt;br&gt;&quot;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Oh,&nbsp;the&nbsp;cruft.&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
