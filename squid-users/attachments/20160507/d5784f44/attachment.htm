<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;I&nbsp;started&nbsp;working&nbsp;with&nbsp;squid&nbsp;a&nbsp;few&nbsp;months&nbsp;back. &nbsp;First&nbsp;of&nbsp;all,&nbsp;if&nbsp;you&nbsp;are&nbsp;a&nbsp;squid&nbsp;developer. &nbsp;THANK&nbsp;YOU&nbsp;for&nbsp;this&nbsp;awesome&nbsp;software.&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;am&nbsp;using&nbsp;ssl_bump&nbsp;in&nbsp;transparent&nbsp;mode. &nbsp;When&nbsp;I&nbsp;use&nbsp;my&nbsp;ipad&nbsp;with&nbsp;safari&nbsp;and&nbsp;go&nbsp;to&nbsp;youtube&nbsp;there&nbsp;is&nbsp;a&nbsp;60+&nbsp;second&nbsp;delay&nbsp;before&nbsp;the&nbsp;video&nbsp;starts. &nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;squid&nbsp;is&nbsp;downloading&nbsp;the&nbsp;entire&nbsp;video&nbsp;and&nbsp;is&nbsp;not&nbsp;sending&nbsp;until&nbsp;the&nbsp;entire&nbsp;download&nbsp;is&nbsp;complete. &nbsp;Does&nbsp;anyone&nbsp;know&nbsp;if&nbsp;there&nbsp;is&nbsp;something&nbsp;I&nbsp;could&nbsp;change&nbsp;in&nbsp;my&nbsp;config&nbsp;to&nbsp;get&nbsp;the&nbsp;video&nbsp;to&nbsp;start&nbsp;without&nbsp;that&nbsp;delay?&lt;br&gt;&lt;br&gt;&lt;/div&gt;If&nbsp;you&nbsp;see&nbsp;anything&nbsp;off&nbsp;in&nbsp;my&nbsp;config,&nbsp;please&nbsp;explain. &nbsp;&lt;br&gt;&lt;br&gt;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.5.17&lt;br&gt;Service&nbsp;Name:&nbsp;squid&lt;br&gt;configure&nbsp;options: &nbsp;&#39;--build=x86_64-redhat-linux-gnu&#39;&nbsp;&#39;--host=x86_64-redhat-linux-gnu&#39;&nbsp;&#39;--program-prefix=&#39;&nbsp;&#39;--prefix=/usr&#39;&nbsp;&#39;--exec-prefix=/usr&#39;&nbsp;&#39;--bindir=/usr/bin&#39;&nbsp;&#39;--sbindir=/usr/sbin&#39;&nbsp;&#39;--sysconfdir=/etc&#39;&nbsp;&#39;--datadir=/usr/share&#39;&nbsp;&#39;--includedir=/usr/include&#39;&nbsp;&#39;--libdir=/usr/lib64&#39;&nbsp;&#39;--libexecdir=/usr/libexec&#39;&nbsp;&#39;--sharedstatedir=/var/lib&#39;&nbsp;&#39;--mandir=/usr/share/man&#39;&nbsp;&#39;--infodir=/usr/share/info&#39;&nbsp;&#39;--verbose&#39;&nbsp;&#39;--exec_prefix=/usr&#39;&nbsp;&#39;--libexecdir=/usr/lib64/squid&#39;&nbsp;&#39;--localstatedir=/var&#39;&nbsp;&#39;--datadir=/usr/share/squid&#39;&nbsp;&#39;--sysconfdir=/etc/squid&#39;&nbsp;&#39;--with-logdir=$(localstatedir)/log/squid&#39;&nbsp;&#39;--with-pidfile=$(localstatedir)/run/squid.pid&#39;&nbsp;&#39;--disable-dependency-tracking&#39;&nbsp;&#39;--enable-follow-x-forwarded-for&#39;&nbsp;&#39;--enable-auth&#39;&nbsp;&#39;--enable-auth-basic=DB,LDAP,NCSA,NIS,PAM,POP3,RADIUS,SASL,SMB,getpwnam,fake&#39;&nbsp;&#39;--enable-auth-ntlm=smb_lm,fake&#39;&nbsp;&#39;--enable-auth-digest=file,LDAP,eDirectory&#39;&nbsp;&#39;--enable-auth-negotiate=kerberos,wrapper&#39;&nbsp;&#39;--enable-external-acl-helpers=wbinfo_group,kerberos_ldap_group,LDAP_group,delayer,file_userip,SQL_session,unix_group,session,time_quota&#39;&nbsp;&#39;--enable-cache-digests&#39;&nbsp;&#39;--enable-cachemgr-hostname=localhost&#39;&nbsp;&#39;--enable-delay-pools&#39;&nbsp;&#39;--enable-epoll&#39;&nbsp;&#39;--enable-icap-client&#39;&nbsp;&#39;--enable-ident-lookups&#39;&nbsp;&#39;--enable-linux-netfilter&#39;&nbsp;&#39;--enable-removal-policies=heap,lru&#39;&nbsp;&#39;--enable-snmp&#39;&nbsp;&#39;--enable-storeio=aufs,diskd,ufs,rock&#39;&nbsp;&#39;--enable-wccpv2&#39;&nbsp;&#39;--enable-esi&#39;&nbsp;&#39;--enable-ssl-crtd&#39;&nbsp;&#39;--enable-icmp&#39;&nbsp;&#39;--with-aio&#39;&nbsp;&#39;--with-default-user=squid&#39;&nbsp;&#39;--with-filedescriptors=16384&#39;&nbsp;&#39;--with-dl&#39;&nbsp;&#39;--with-openssl&#39;&nbsp;&#39;--with-pthreads&#39;&nbsp;&#39;--with-included-ltdl&#39;&nbsp;&#39;--disable-arch-native&#39;&nbsp;&#39;--enable-ecap&#39;&nbsp;&#39;--without-nettle&#39;&nbsp;&#39;build_alias=x86_64-redhat-linux-gnu&#39;&nbsp;&#39;host_alias=x86_64-redhat-linux-gnu&#39;&nbsp;&#39;CFLAGS=-O2&nbsp;-g&nbsp;-pipe&nbsp;-Wall&nbsp;-Wp,-D_FORTIFY_SOURCE=2&nbsp;-fexceptions&nbsp;-fstack-protector-strong&nbsp;--param=ssp-buffer-size=4&nbsp;-grecord-gcc-switches  &nbsp;-m64&nbsp;-mtune=generic&#39;&nbsp;&#39;LDFLAGS=-Wl,-z,relro&nbsp;&#39;&nbsp;&#39;CXXFLAGS=-O2&nbsp;-g&nbsp;-pipe&nbsp;-Wall&nbsp;-Wp,-D_FORTIFY_SOURCE=2&nbsp;-fexceptions&nbsp;-fstack-protector-strong&nbsp;--param=ssp-buffer-size=4&nbsp;-grecord-gcc-switches  &nbsp;-m64&nbsp;-mtune=generic&nbsp;-fPIC&#39;&nbsp;&#39;PKG_CONFIG_PATH=:/usr/lib64/pkgconfig:/usr/share/pkgconfig&#39;&nbsp;--enable-ltdl-convenience&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.0.0.0/8&quot;&gt;10.0.0.0/8&lt;/a&gt;    &nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://172.16.0.0/12&quot;&gt;172.16.0.0/12&lt;/a&gt; &nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&gt;192.168.0.0/16&lt;/a&gt;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7      &nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10     &nbsp;#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535 &nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210        &nbsp;#&nbsp;wais&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21         &nbsp;#&nbsp;ftp&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280        &nbsp;#&nbsp;http-mgmt&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443        &nbsp;#&nbsp;https&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488        &nbsp;#&nbsp;gss-http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591        &nbsp;#&nbsp;filemaker&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70         &nbsp;#&nbsp;gopher&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777        &nbsp;#&nbsp;multiling&nbsp;http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80         &nbsp;#&nbsp;http&lt;br&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;&lt;br&gt;coredump_dir&nbsp;/var/spool/squid&lt;br&gt;strip_query_terms&nbsp;off&lt;br&gt;&lt;br&gt;forward_max_tries&nbsp;25&lt;br&gt;http_access&nbsp;allow&nbsp;all&lt;br&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;&lt;br&gt;http_port &nbsp;3126&nbsp;intercept&lt;br&gt;http_port &nbsp;3128&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/sslcert/myca.pem&lt;br&gt;https_port&nbsp;3127&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/sslcert/myca.pem&nbsp;key=/etc/squid/sslcert/myca.pem&lt;br&gt;&lt;br&gt;refresh_pattern&nbsp;.              &nbsp;0      &nbsp;20%    &nbsp;4320&lt;br&gt;refresh_pattern&nbsp;^ftp:          &nbsp;1440   &nbsp;20%    &nbsp;10080&lt;br&gt;refresh_pattern&nbsp;^gopher:       &nbsp;1440   &nbsp;0%     &nbsp;1440&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0    &nbsp;0%     &nbsp;0&lt;br&gt;shutdown_lifetime&nbsp;3&nbsp;seconds&lt;br&gt;&lt;br&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&gt;acl&nbsp;step2&nbsp;at_step&nbsp;SslBump2&lt;br&gt;acl&nbsp;nobumpSites&nbsp;ssl::server_name&nbsp;.&lt;a&nbsp;href=&quot;http://netflix.com&quot;&gt;netflix.com&lt;/a&gt;&nbsp;&lt;br&gt;&lt;br&gt;ssl_bump&nbsp;peek&nbsp;step1&nbsp;all&lt;br&gt;ssl_bump&nbsp;splice&nbsp;step2&nbsp;nobumpSites&lt;br&gt;ssl_bump&nbsp;bump&lt;br&gt;&lt;br&gt;&lt;br&gt;sslcrtd_children&nbsp;8&nbsp;startup=1&nbsp;idle=1&lt;br&gt;sslcrtd_program&nbsp;/usr/lib64/squid/ssl_crtd&nbsp;-s&nbsp;/var/spool/squid_ssldb&nbsp;-M&nbsp;4MB&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
