<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;Hey&nbsp;Amos,&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre-wrap;&nbsp;widows:&nbsp;1;&quot;&nbsp;class=&quot;&quot;&gt;What&nbsp;is&nbsp;causing&nbsp;the&nbsp;problem&nbsp;is&nbsp;that&nbsp;ICAP&nbsp;services&nbsp;need&nbsp;to&nbsp;be&nbsp;working&lt;/span&gt;&lt;/div&gt;&lt;pre&nbsp;style=&quot;white-space:&nbsp;pre-wrap;&nbsp;line-height:&nbsp;normal;&nbsp;widows:&nbsp;1;&quot;&nbsp;class=&quot;&quot;&gt;&gt;*immediately*&nbsp;and&nbsp;do&nbsp;not&nbsp;wait&nbsp;for&nbsp;DNS&nbsp;results&nbsp;to&nbsp;come&nbsp;back.&nbsp;If&nbsp;they&nbsp;are<br>
&gt;not&nbsp;available&nbsp;immediately&nbsp;then&nbsp;the&nbsp;service&nbsp;is&nbsp;not&nbsp;contactable&nbsp;for&nbsp;that<br>
&gt;transaction.<br>
<br>
&gt;Adding&nbsp;/etc/hosts&nbsp;entries&nbsp;makes&nbsp;Squid&nbsp;load&nbsp;the&nbsp;name+IP&nbsp;details&nbsp;on<br>
&gt;startup&nbsp;before&nbsp;ICAP&nbsp;is&nbsp;used.&nbsp;So&nbsp;the&nbsp;problem&nbsp;does&nbsp;not&nbsp;appear.<br>
&lt;/pre&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Is&nbsp;there&nbsp;a&nbsp;configuration&nbsp;for&nbsp;squid&nbsp;where&nbsp;we&nbsp;can&nbsp;ask&nbsp;it&nbsp;to&nbsp;perform&nbsp;DNS&nbsp;lookup&nbsp;immediately&nbsp;rather&nbsp;than&nbsp;doing&nbsp;later&nbsp;when&nbsp;it&nbsp;sends&nbsp;an&nbsp;OPTIONS&nbsp;request&nbsp;again.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thanks&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Aashima&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
