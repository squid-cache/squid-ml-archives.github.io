<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;very&nbsp;new&nbsp;to&nbsp;squid&nbsp;and&nbsp;we&nbsp;are&nbsp;wanting&nbsp;to&nbsp;implement&nbsp;letsencrypt&nbsp;for&nbsp;our&nbsp;ssl&nbsp;certificates.&nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;Here&#39;s&nbsp;the&nbsp;scenario:&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;We&#39;ve&nbsp;got&nbsp;several&nbsp;frontend&nbsp;servers&nbsp;running&nbsp;squid&nbsp;that&nbsp;are&nbsp;caching&nbsp;from&nbsp;the&nbsp;backend&nbsp;systems.&nbsp; &lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;i.e.&nbsp;&lt;a&nbsp;href=&quot;http://test.com&quot;&gt;test.com&lt;/a&gt;&nbsp;-&gt;&nbsp;10.0.0.1,&nbsp;10.0.1.1,&nbsp;10.0.2.1&nbsp;(all&nbsp;physically&nbsp;separated&nbsp;from&nbsp;one&nbsp;another)&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;Each&nbsp;internal&nbsp;server&nbsp;also&nbsp;has&nbsp;its&nbsp;own&nbsp;dns&nbsp;name:&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;&lt;a&nbsp;href=&quot;http://web1.test.com&quot;&gt;web1.test.com&lt;/a&gt;&nbsp;-&gt;&nbsp;10.0.0.1&lt;br&gt;&lt;a&nbsp;href=&quot;http://web2.test.com&quot;&gt;web2.test.com&lt;/a&gt;&nbsp;-&gt;&nbsp;10.0.1.1&lt;br&gt;&lt;a&nbsp;href=&quot;http://web3.test.com&quot;&gt;web3.test.com&lt;/a&gt;&nbsp;-&gt;&nbsp;10.0.2.1&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;Note&nbsp;that&nbsp;these&nbsp;are&nbsp;all&nbsp;public.&nbsp;Using&nbsp;10.&nbsp;as&nbsp;examples.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;I&#39;d&nbsp;like&nbsp;to&nbsp;create&nbsp;a&nbsp;SAN&nbsp;certificate&nbsp;naming&nbsp;the&nbsp;3&nbsp;internal&nbsp;systems&nbsp;in&nbsp;addition&nbsp;to&nbsp;the&nbsp;public&nbsp;name:&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;&lt;a&nbsp;href=&quot;http://test.com&quot;&gt;test.com&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://web1.test.com&quot;&gt;web1.test.com&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://web2.test.com&quot;&gt;web2.test.com&lt;/a&gt;,&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://web3.test.com&quot;&gt;web3.test.com&lt;/a&gt;.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;On&nbsp;the&nbsp;letsencrypt&nbsp;forum&nbsp;they&nbsp;said&nbsp;that&nbsp;I&nbsp;could&nbsp;do&nbsp;a&nbsp;HTTP&nbsp;301&nbsp;redirect&nbsp;from&nbsp;the&nbsp;squid&nbsp;servers&nbsp;to&nbsp;the&nbsp;backend&nbsp;letsencrypt&nbsp;server&nbsp;where&nbsp;any&nbsp;match&nbsp;for:&nbsp; /.well-known/acme-challenge/*&nbsp;would&nbsp;redirect&nbsp;with&nbsp;an&nbsp;HTTP&nbsp;301&nbsp;to&nbsp;that&nbsp;backend&nbsp;letsencrypt&nbsp;server. &nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;to&nbsp;do&nbsp;this&nbsp;and&nbsp;the&nbsp;squid&nbsp;documentation&nbsp;is&nbsp;not&nbsp;easy&nbsp;to&nbsp;comprehend.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;Let&nbsp;me&nbsp;know&nbsp;if&nbsp;this&nbsp;isn&#39;t&nbsp;clear&nbsp;how&nbsp;I&#39;ve&nbsp;explained&nbsp;this.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:19px&quot;&gt;Thanks!&lt;/p&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
