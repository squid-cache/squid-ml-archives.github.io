<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;writing&nbsp;a&nbsp;small&nbsp;bash&nbsp;program&nbsp;script&nbsp;to&nbsp;redirect&nbsp;any&nbsp;request&nbsp;to&nbsp;say&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;.&nbsp;This&nbsp;script&nbsp;is&nbsp;able&nbsp;to&nbsp;redirect&nbsp;any&nbsp;http&nbsp;script&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://google.com&quot;&gt;google.com&lt;/a&gt;,&nbsp;but&nbsp;not&nbsp;https&nbsp;requests. &lt;/div&gt;&lt;div&gt;I&nbsp;read&nbsp;the&nbsp;documentation&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/Features/HTTPS&quot;&gt;http://wiki.squid-cache.org/Features/HTTPS&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;this&nbsp;seem&nbsp;quite&nbsp;complex&nbsp;for&nbsp;my&nbsp;task.&nbsp;Basically&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;redirect&nbsp;any&nbsp;domain,&nbsp;without&nbsp;looking&nbsp;into&nbsp;the&nbsp;full&nbsp;path.&nbsp;Knowing&nbsp;the&nbsp;domain&nbsp;name&nbsp;should&nbsp;not&nbsp;be&nbsp;counted&nbsp;as&nbsp;violation&nbsp;or&nbsp;interception&nbsp;of&nbsp;https&nbsp;I&nbsp;hope&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&#39;s&nbsp;the&nbsp;script&nbsp;which&nbsp;works&nbsp;with&nbsp;http&nbsp;but&nbsp;not&nbsp;https:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&quot;&lt;/div&gt;&lt;div&gt;#!/bin/bash&lt;/div&gt;&lt;div&gt;while&nbsp;true;&lt;/div&gt;&lt;div&gt;do&lt;/div&gt;&lt;div&gt;  read&nbsp;input;&lt;/div&gt;&lt;div&gt;  if&nbsp;[[&nbsp;&quot;$old_url&quot;&nbsp;=~&nbsp;&quot;.&lt;a&nbsp;href=&quot;http://google.com&quot;&gt;google.com&lt;/a&gt;&quot;&nbsp;]];&nbsp;then&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;echo&nbsp;&quot;ERB&quot;&lt;/div&gt;&lt;div&gt; &nbsp;else&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;echo&nbsp;&quot;echo&nbsp;&#39;303:&lt;a&nbsp;href=&quot;https://www.google.com&quot;&gt;https://www.google.com&lt;/a&gt;&quot;&lt;/div&gt;&lt;div&gt; &nbsp;fi&lt;/div&gt;&lt;div&gt;done&lt;/div&gt;&lt;div&gt;&quot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;ideas&nbsp;how&nbsp;to&nbsp;solve&nbsp;that?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards&nbsp;and&nbsp;thanks&lt;/div&gt;&lt;/div&gt;<br>

</tt>
