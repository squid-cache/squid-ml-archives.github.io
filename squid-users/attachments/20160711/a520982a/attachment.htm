<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;id=&quot;:ed.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;Hello&nbsp;there, &lt;/div&gt;&lt;div&nbsp;id=&quot;:ed.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;:ed.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;Thanks&nbsp;for&nbsp;your&nbsp;your&nbsp;interest.&nbsp;The&nbsp;versions&nbsp;we&nbsp;use&nbsp;are:&lt;/div&gt;&lt;div&nbsp;id=&quot;:ed.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;outline:none&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;:ed.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;span&nbsp;id=&quot;:ed.co&quot;&nbsp;class=&quot;&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;outline:none&quot;&gt;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.4.10&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;:ee.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;div&nbsp;id=&quot;:ee.at&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;text-align:center;outline:none&quot;&gt;&lt;/div&gt;&lt;span&nbsp;id=&quot;:ee.co&quot;&nbsp;class=&quot;&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;outline:none&quot;&gt;OpenSSL&nbsp;1.0.2h &nbsp;3&nbsp;May&nbsp;2016&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;:ef.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;div&nbsp;id=&quot;:ef.at&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;text-align:center;outline:none&quot;&gt;&lt;/div&gt;----------&lt;/div&gt;&lt;div&nbsp;id=&quot;:ef.ma&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;Configuration&nbsp;we&nbsp;use&nbsp;for&nbsp;https&nbsp;bumping:&lt;/div&gt;&lt;div&nbsp;id=&quot;:eg.ma&quot;&nbsp;class=&quot;&quot;&nbsp;title=&quot;7/11/16,&nbsp;10:14&nbsp;AM&quot;&nbsp;style=&quot;font-family:Roboto,Arial,sans-serif;font-size:13px;line-height:16px;margin-bottom:6px;margin-left:9px;margin-right:9px;word-wrap:break-word;outline:none;color:rgb(38,50,56)&quot;&gt;&lt;div&nbsp;id=&quot;:eg.at&quot;&nbsp;class=&quot;&quot;&nbsp;style=&quot;text-align:center;outline:none&quot;&gt;&lt;/div&gt;&lt;span&nbsp;id=&quot;:eg.co&quot;&nbsp;class=&quot;&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;outline:none&quot;&gt;always_direct&nbsp;allow&nbsp;all&lt;br&nbsp;style=&quot;outline:none&quot;&gt;ssl_bump&nbsp;none&nbsp;localhost&lt;br&nbsp;style=&quot;outline:none&quot;&gt;ssl_bump&nbsp;server-first&nbsp;all&lt;br&nbsp;style=&quot;outline:none&quot;&gt;&lt;br&nbsp;style=&quot;outline:none&quot;&gt;sslproxy_cert_error&nbsp;allow&nbsp;all&lt;br&nbsp;style=&quot;outline:none&quot;&gt;sslproxy_flags&nbsp;DONT_VERIFY_PEER&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Jul&nbsp;10,&nbsp;2016&nbsp;at&nbsp;5:12&nbsp;PM,&nbsp;Eliezer&nbsp;Croitoru&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:eliezer@ngtech.co.il&quot;&nbsp;target=&quot;_blank&quot;&gt;eliezer@ngtech.co.il&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Hey,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;What&nbsp;version&nbsp;of&nbsp;squid&nbsp;is&nbsp;provided&nbsp;on&nbsp;pfsense&nbsp;and&nbsp;what&nbsp;version&nbsp;are&nbsp;you&nbsp;using?&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Eliezer&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Arial&nbsp;Rounded&nbsp;MT&nbsp;Bold&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;----&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Arial&nbsp;Rounded&nbsp;MT&nbsp;Bold&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;a&nbsp;href=&quot;http://ngtech.co.il/lmgtfy/&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;span&nbsp;style=&quot;color:#0563c1&quot;&gt;Eliezer&nbsp;Croitoru&lt;/span&gt;&lt;/a&gt;&lt;br&gt;Linux&nbsp;System&nbsp;Administrator&lt;br&gt;Mobile:&nbsp;+972-5-28704261&lt;br&gt;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:eliezer@ngtech.co.il&quot;&nbsp;target=&quot;_blank&quot;&gt;eliezer@ngtech.co.il&lt;/a&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;img&nbsp;border=&quot;0&quot;&nbsp;width=&quot;183&quot;&nbsp;height=&quot;69&quot;&nbsp;src=&quot;cid:image001.png@01D1DACE.40E36EA0&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;&quot;&gt;&nbsp;squid-users&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users-bounces@lists.squid-cache.org&lt;/a&gt;]&nbsp;&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;Yi?itcan&nbsp;U?UM&lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Sunday,&nbsp;July&nbsp;10,&nbsp;2016&nbsp;3:49&nbsp;PM&lt;br&gt;&lt;b&gt;To:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[squid-users]&nbsp;HTTPS&nbsp;bump&nbsp;doesn&#39;t&nbsp;work&nbsp;with&nbsp;websites&nbsp;that&nbsp;require&nbsp;SNI&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;Hello&nbsp;there.&nbsp;We&#39;re&nbsp;using&nbsp;pfsense&nbsp;and&nbsp;squid-proxy&nbsp;to&nbsp;bump&nbsp;https&nbsp;connections&nbsp;between&nbsp;some&nbsp;of&nbsp;our&nbsp;machines&nbsp;and&nbsp;www.&nbsp;The&nbsp;setup&nbsp;seems&nbsp;to&nbsp;works&nbsp;fine&nbsp;for&nbsp;most&nbsp;of&nbsp;the&nbsp;https&nbsp;sites,&nbsp;but&nbsp;it&nbsp;doesn&#39;t&nbsp;work&nbsp;for&nbsp;the&nbsp;others.&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;One&nbsp;example&nbsp;to&nbsp;this&nbsp;sites&nbsp;is&nbsp;&quot;&lt;a&nbsp;href=&quot;http://docs.docker.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;docs.docker.com&lt;/a&gt;&quot;.&nbsp;Even&nbsp;though&nbsp;we&nbsp;can&nbsp;connect&nbsp;to&nbsp;&quot;&lt;a&nbsp;href=&quot;http://docker.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;docker.com&lt;/a&gt;&quot;,&nbsp;we&nbsp;can&#39;t&nbsp;connect&nbsp;to&nbsp;&quot;&lt;a&nbsp;href=&quot;http://docs.docker.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;docs.docker.com&lt;/a&gt;&quot;.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;The&nbsp;error&nbsp;we&nbsp;get&nbsp;is:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;(92)&nbsp;Protocol&nbsp;error&nbsp;(TLS&nbsp;code:&nbsp;SQUID_ERR_SSL_HANDSHAKE)&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;Handshake&nbsp;with&nbsp;SSL&nbsp;server&nbsp;failed:&nbsp;error:14077410:SSL&nbsp;routines:SSL23_GET_SERVER_HELLO:sslv3&nbsp;alert&nbsp;handshake&nbsp;failure&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;Upon&nbsp;further&nbsp;investigation&nbsp;we&nbsp;found&nbsp;out&nbsp;that&nbsp;this&nbsp;happens&nbsp;because&nbsp;some&nbsp;sites&nbsp;require&nbsp;SNI&nbsp;to&nbsp;supply&nbsp;correct&nbsp;SSL&nbsp;certificate.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;You&nbsp;can&nbsp;test&nbsp;this&nbsp;out&nbsp;with:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;-------------------------------&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;openssl&nbsp;s_client&nbsp;-connect &lt;a&nbsp;href=&quot;http://docs.docker.com:443/&quot;&nbsp;target=&quot;_blank&quot;&gt;docs.docker.com:443&lt;/a&gt; -&gt;&nbsp;ERROR&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;140612823746464:error:14077410:SSL&nbsp;routines:SSL23_GET_SERVER_HELLO:sslv3&nbsp;alert&nbsp;handshake&nbsp;failure:s23_clnt.c:744:&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;-------------------------------&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;openssl&nbsp;s_client&nbsp;-connect &lt;a&nbsp;href=&quot;http://docs.docker.com:443/&quot;&nbsp;target=&quot;_blank&quot;&gt;docs.docker.com:443&lt;/a&gt; -servername &lt;a&nbsp;href=&quot;http://docs.docker.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;docs.docker.com&lt;/a&gt; -&gt;&nbsp;Works&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;--------------------------------&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;color:#1e1e1e&quot;&gt;Squid&nbsp;seems&nbsp;to&nbsp;make&nbsp;https&nbsp;request&nbsp;without&nbsp;the&nbsp;SNI.&nbsp;How&nbsp;can&nbsp;we&nbsp;configure&nbsp;Squid&nbsp;to&nbsp;use&nbsp;SNI?&nbsp;Thanks.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
