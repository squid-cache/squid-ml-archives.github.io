<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;Em&nbsp;12/07/2016&nbsp;23:43,&nbsp;Alex&nbsp;Rousskov<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;escreveu:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:5785AAE1.3000301@measurement-factory.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;(without&nbsp;using&nbsp;Range:&nbsp;header).<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
That's&nbsp;your&nbsp;squid.conf&nbsp;customization,&nbsp;I&nbsp;presume.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;squid&nbsp;won't&nbsp;send&nbsp;a&nbsp;Range:&nbsp;header&nbsp;to&nbsp;the&nbsp;server&nbsp;because&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;request&nbsp;is&nbsp;matching&nbsp;the&nbsp;range_offset_limit&nbsp;-1&nbsp;ACL.&nbsp;I&nbsp;presume.&nbsp;So<br>
&nbsp;&nbsp;&nbsp;&nbsp;squid&nbsp;will&nbsp;try&nbsp;to&nbsp;fetch&nbsp;the&nbsp;file&nbsp;from&nbsp;the&nbsp;beginning,&nbsp;faking&nbsp;a&nbsp;full<br>
&nbsp;&nbsp;&nbsp;&nbsp;request,&nbsp;right?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:5785AAE1.3000301@measurement-factory.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;That's&nbsp;why&nbsp;I&nbsp;don't&nbsp;understand&nbsp;why&nbsp;it&nbsp;does&nbsp;not&nbsp;work&nbsp;on&nbsp;a&nbsp;REAL<br>
enviroment.<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
Many&nbsp;things&nbsp;can&nbsp;go&nbsp;wrong&nbsp;--&nbsp;the&nbsp;real&nbsp;requests&nbsp;may&nbsp;require&nbsp;collapsed<br>
forwarding&nbsp;that&nbsp;you&nbsp;do&nbsp;not&nbsp;test,&nbsp;the&nbsp;real&nbsp;requests&nbsp;may&nbsp;have&nbsp;no-cache,<br>
the&nbsp;real&nbsp;response&nbsp;may&nbsp;not&nbsp;be&nbsp;cachable,&nbsp;or&nbsp;there&nbsp;is&nbsp;some&nbsp;Range&nbsp;handling<br>
bug&nbsp;that&nbsp;your&nbsp;test&nbsp;scripts&nbsp;do&nbsp;not&nbsp;tickle&nbsp;(e.g.,&nbsp;they&nbsp;request&nbsp;ranges&nbsp;that<br>
are&nbsp;always&nbsp;close&nbsp;to&nbsp;each&nbsp;other&nbsp;and&nbsp;are&nbsp;always&nbsp;available&nbsp;at&nbsp;the&nbsp;same&nbsp;time).&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Well,&nbsp;if&nbsp;I&nbsp;turn&nbsp;off&nbsp;collapsed_forwarding&nbsp;and&nbsp;try&nbsp;to&nbsp;GET&nbsp;the&nbsp;same<br>
&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;on&nbsp;the&nbsp;same&nbsp;server&nbsp;in&nbsp;a&nbsp;row&nbsp;(only&nbsp;changing&nbsp;the&nbsp;Range),&nbsp;it&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;create&nbsp;&lt;b&gt;two&nbsp;&lt;/b&gt;connections&nbsp;to&nbsp;the&nbsp;server&nbsp;instead&nbsp;of&nbsp;only&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;use&nbsp;&quot;override-expire&nbsp;ignore-private&nbsp;ignore-no-store&nbsp;ignore-reload<br>
&nbsp;&nbsp;&nbsp;&nbsp;ignore-must-revalidate&nbsp;store-stale&quot;&nbsp;for&nbsp;this&nbsp;particular&nbsp;request,<br>
&nbsp;&nbsp;&nbsp;&nbsp;won't&nbsp;it&nbsp;override&nbsp;the&nbsp;no-cache&nbsp;or&nbsp;whatever?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:5785AAE1.3000301@measurement-factory.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
Beyond&nbsp;that,&nbsp;you&nbsp;would&nbsp;have&nbsp;to&nbsp;do&nbsp;detailed&nbsp;traffic&nbsp;analysis&nbsp;(packet<br>
captures;&nbsp;ALL,2;&nbsp;ALL,9).<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;use&nbsp;tcpdump&nbsp;rather&nbsp;frequently.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
Best&nbsp;Regards,<br>
<br>
Heiler&nbsp;Bemerguy<br>
Network&nbsp;Manager&nbsp;-&nbsp;CINBESA<br>
55&nbsp;91&nbsp;98151-4894/3184-1751&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
