<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;Squid&nbsp;3&nbsp;on&nbsp;Debian&nbsp;8.2&lt;br&gt;&lt;br&gt;When&nbsp;the&nbsp;users&nbsp;open&nbsp;your&nbsp;browsers,&nbsp;the&nbsp;squid&nbsp;asks&nbsp;the&nbsp;name&nbsp;and&nbsp;password.&nbsp;Until&nbsp;this&nbsp;moment&nbsp;is&nbsp;OK,&nbsp;but&nbsp;if&nbsp;the&nbsp;users&nbsp;inform&nbsp;only&nbsp;the&nbsp;password&nbsp;(field&nbsp;&quot;name&quot;&nbsp;not&nbsp;filled&nbsp;-&nbsp;in&nbsp;blank),&nbsp;the&nbsp;navigation&nbsp;is&nbsp;permitted.&lt;br&gt;&lt;br&gt;&lt;/div&gt;The&nbsp;following&nbsp;is&nbsp;my&nbsp;squid.conf&nbsp;file:&lt;br&gt;&lt;br&gt;http_port&nbsp;3128&lt;br&gt;cache_mem&nbsp;512&nbsp;MB&lt;br&gt;cache_swap_low&nbsp;80&lt;br&gt;cache_swap_high&nbsp;90&lt;br&gt;maximum_object_size&nbsp;512&nbsp;MB&lt;br&gt;minimum_object_size&nbsp;0&nbsp;KB&lt;br&gt;maximum_object_size_in_memory&nbsp;4096&nbsp;KB&lt;br&gt;cache_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;memory_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;quick_abort_min&nbsp;-1&nbsp;KB&lt;br&gt;detect_broken_pconn&nbsp;on&lt;br&gt;fqdncache_size&nbsp;1024&lt;br&gt;&lt;br&gt;###&nbsp;CACHE&lt;br&gt;refresh_pattern&nbsp;^ftp:   &nbsp;1440   &nbsp;20%   &nbsp;10080&lt;br&gt;refresh_pattern&nbsp;^gopher:   &nbsp;1440   &nbsp;0%   &nbsp;1440&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0%&nbsp;   &nbsp;0&lt;br&gt;refresh_pattern&nbsp;.   &nbsp;   &nbsp;0   &nbsp;20%   &nbsp;4320&lt;br&gt;&lt;br&gt;###&nbsp;LOGS&lt;br&gt;access_log&nbsp;/var/log/squid3/access.log&lt;br&gt;cache_log&nbsp;/var/log/squid3/cache.log&lt;br&gt;&lt;br&gt;cache_dir&nbsp;aufs&nbsp;/var/spool/squid3&nbsp;600&nbsp;16&nbsp;256&lt;br&gt;&lt;br&gt;#Allow&nbsp;Acces&lt;br&gt;acl&nbsp;caixa&nbsp;dstdomain&nbsp;.&lt;a&nbsp;href=&quot;http://caixa.gov.br&quot;&gt;caixa.gov.br&lt;/a&gt;&lt;br&gt;cache&nbsp;deny&nbsp;caixa&lt;br&gt;&lt;br&gt;#&nbsp;NTLM&nbsp;&lt;br&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-ntlmssp&nbsp;--domain=EMPRESA&lt;br&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;20&lt;br&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;off&lt;br&gt;&lt;br&gt;&lt;br&gt;#&nbsp;BASIC&lt;br&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-basic&lt;br&gt;auth_param&nbsp;basic&nbsp;children&nbsp;5&lt;br&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;Autenticacao&nbsp;Básica&nbsp;-&nbsp;Acesso&nbsp;Monitorado&lt;br&gt;auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;8&nbsp;hours&lt;br&gt;&lt;br&gt;/usr/lib/squid3/ext_wbinfo_group_acl&nbsp;&lt;br&gt;external_acl_type&nbsp;ad_group&nbsp;%LOGIN&nbsp;/usr/lib/squid3/ext_wbinfo_group_acl&nbsp;-d&lt;br&gt;&lt;br&gt;visible_hostname&nbsp;&lt;a&nbsp;href=&quot;http://proxy.empresa.com&quot;&gt;proxy.empresa.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;###&nbsp;ACLs&lt;br&gt;acl&nbsp;localhost&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.200.35/32&quot;&gt;192.168.200.35/32&lt;/a&gt;&lt;br&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;22&nbsp;443&nbsp;563&nbsp;7071&nbsp;10000&nbsp;#&nbsp;ssh,&nbsp;https,&nbsp;snews,&nbsp;bacula&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21   &nbsp;   &nbsp; #&nbsp;ftp&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70   &nbsp;   &nbsp; #&nbsp;gopher&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;   &nbsp;   &nbsp; #&nbsp;http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;88   &nbsp;   &nbsp; #&nbsp;kerberos&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210   &nbsp;   &nbsp; #&nbsp;wais&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280   &nbsp;   &nbsp; #&nbsp;http-mgmt&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;389&nbsp;   &nbsp;   &nbsp; #&nbsp;ldap&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;   &nbsp;   &nbsp; #&nbsp;https&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;464&nbsp;   &nbsp;   &nbsp; #&nbsp;kerberos&nbsp;password&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488   &nbsp;   &nbsp; #&nbsp;gss-http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;563   &nbsp;   &nbsp; #&nbsp;snews&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591   &nbsp;   &nbsp; #&nbsp;filemaker&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777   &nbsp;   &nbsp; #&nbsp;multiling&nbsp;http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535   &nbsp; #&nbsp;unregistered&nbsp;ports&lt;br&gt;&lt;br&gt;acl&nbsp;purge&nbsp;method&nbsp;PURGE&lt;br&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;&lt;br&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;http_access&nbsp;allow&nbsp;manager&nbsp;localhost&lt;br&gt;http_access&nbsp;deny&nbsp;manager&lt;br&gt;http_access&nbsp;allow&nbsp;purge&nbsp;localhost&lt;br&gt;http_access&nbsp;deny&nbsp;purge&lt;br&gt;&lt;br&gt;acl&nbsp;group_admins&nbsp;external&nbsp;ad_group&nbsp;gg_webadmins&lt;br&gt;acl&nbsp;group_managers&nbsp;external&nbsp;ad_group&nbsp;gg_webliberados&nbsp;&lt;br&gt;acl&nbsp;grupo_commons&nbsp;external&nbsp;ad_group&nbsp;domain%20users&lt;br&gt;&lt;br&gt;###&nbsp;ALLOW&nbsp;UPDATE&lt;br&gt;acl&nbsp;updates&nbsp;url_regex&nbsp;-i&nbsp;&quot;/etc/squid3/acls/updates&quot;&lt;br&gt;http_access&nbsp;allow&nbsp;updates&lt;br&gt;&lt;br&gt;&lt;br&gt;###&nbsp;DENY&nbsp;EXTENSIONS&lt;br&gt;acl&nbsp;extensions_deny&nbsp;url_regex&nbsp;-i&nbsp;&quot;/etc/squid3/acls/extensions-denied&quot;&lt;br&gt;&lt;br&gt;###&nbsp;ALLOW&nbsp;SITES&lt;br&gt;acl&nbsp;sites_allows&nbsp;url_regex&nbsp;-i&nbsp;&quot;/etc/squid3/acls/sites-allow&quot;&lt;br&gt;acl&nbsp;sites_denied&nbsp;url_regex&nbsp;-i&nbsp;&quot;/etc/squid3/acls/sites-denied&quot;&lt;br&gt;&lt;br&gt;acl&nbsp;users&nbsp;proxy_auth&nbsp;REQUIRED&lt;br&gt;&lt;br&gt;http_access&nbsp;allow&nbsp;group_admins&lt;br&gt;&lt;br&gt;http_access&nbsp;deny&nbsp;extensions-denied&lt;br&gt;http_access&nbsp;allow&nbsp;sites_allows&lt;br&gt;http_access&nbsp;deny&nbsp;sites_denied&nbsp;&lt;br&gt;&lt;br&gt;http_access&nbsp;allow&nbsp;group_manager&lt;br&gt;&lt;br&gt;#&nbsp;SquidGuard&nbsp;Rules&lt;br&gt;redirect_program&nbsp;/usr/bin/squidGuard&lt;br&gt;redirect_children&nbsp;20&lt;br&gt;redirector_bypass&nbsp;on&lt;br&gt;&lt;br&gt;http_access&nbsp;allow&nbsp;group_common&lt;br&gt;&lt;br&gt;http_access&nbsp;allow&nbsp;users&lt;br&gt;&lt;br&gt;###&nbsp;LAN&nbsp;#####&lt;br&gt;acl&nbsp;lan-net&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.200.0/22&quot;&gt;192.168.200.0/22&lt;/a&gt;&nbsp;&lt;br&gt;acl&nbsp;wireless-net&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.210.0/22&quot;&gt;192.168.210.0/22&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;http_access&nbsp;allow&nbsp;lan-net&lt;br&gt;http_access&nbsp;allow&nbsp;wireless-net&lt;br&gt;&lt;br&gt;#negando&nbsp;o&nbsp;acesso&nbsp;para&nbsp;todos&nbsp;que&nbsp;nao&nbsp;estiverem&nbsp;nas&nbsp;regras&nbsp;anteriores&lt;br&gt;http_access&nbsp;deny&nbsp;all&lt;br&gt;&lt;br&gt;###&nbsp;Errors&lt;br&gt;error_directory&nbsp;/usr/share/squid3/errors/en&lt;br&gt;coredump_dir&nbsp;/var/spool/squid3&lt;br&gt;&lt;br&gt;&lt;/div&gt;Regards,&lt;br&gt;&lt;br&gt;&lt;/div&gt;Márcio&lt;br&gt;&lt;/div&gt;<br>

</tt>
