<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Just&nbsp;one&nbsp;thing&nbsp;I&nbsp;noticed: &lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&quot;clientca&quot;&nbsp;is&nbsp;not&nbsp;the&nbsp;CA&nbsp;which&nbsp;issued&nbsp;your&nbsp;&quot;cert&quot;&nbsp;(&lt;a&nbsp;href=&quot;http://sklad.duckdns.org&quot;&gt;sklad.duckdns.org&lt;/a&gt;)&nbsp;-&nbsp;it&#39;s&nbsp;the&nbsp;CA&nbsp;to&nbsp;be&nbsp;used&nbsp;when&nbsp;doing&nbsp;client-side&nbsp;authentication,&nbsp;which&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;you&#39;re&nbsp;doing. &lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Dio&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;24,&nbsp;2016&nbsp;at&nbsp;2:02&nbsp;PM,&nbsp;Samuraiii&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:samurai.no.dojo@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;samurai.no.dojo@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;Please&nbsp;give&nbsp;more&nbsp;details&nbsp;for&nbsp;&quot;fails&quot;.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;the&nbsp;following&nbsp;your&nbsp;entire&nbsp;squid.conf&nbsp;(except&nbsp;for&nbsp;comments)?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Have&nbsp;you&nbsp;tried&nbsp;getting&nbsp;SSL&nbsp;access&nbsp;to&nbsp;Squid&nbsp;working&nbsp;before&nbsp;introducing&lt;br&gt;<br>
&gt;&nbsp;authentication?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;What&nbsp;are&nbsp;you&nbsp;trying,&nbsp;to&nbsp;test&nbsp;this,&nbsp;and&nbsp;what&nbsp;are&nbsp;the&nbsp;results?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Regards,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Antony.&lt;br&gt;<br>
&lt;/span&gt;First&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;apologize&nbsp;for&nbsp;previous&nbsp;incomplete&nbsp;mail.&lt;br&gt;<br>
I&nbsp;got&nbsp;interrupted&nbsp;and&nbsp;accidentally&nbsp;sent&nbsp;it&nbsp;out&nbsp;before&nbsp;being&nbsp;complete.&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;fails&nbsp;to&nbsp;start&nbsp;for&nbsp;me&nbsp;with:&lt;br&gt;<br>
FATAL:&nbsp;No&nbsp;valid&nbsp;signing&nbsp;SSL&nbsp;certificate&nbsp;configured&nbsp;for&nbsp;HTTPS_port&nbsp;[::]:8443&lt;br&gt;<br>
I&nbsp;have&nbsp;found&nbsp;that&nbsp;this&nbsp;is&nbsp;related&nbsp;to&nbsp;missing&nbsp;self&nbsp;signed&nbsp;certificate,&lt;br&gt;<br>
and&nbsp;since&nbsp;I&nbsp;do&nbsp;not&nbsp;want&nbsp;to&nbsp;use&nbsp;self&nbsp;signed&nbsp;certificate&nbsp;I&nbsp;am&nbsp;asking&nbsp;if&nbsp;I&lt;br&gt;<br>
can&nbsp;do&nbsp;anything&nbsp;about&nbsp;it.&lt;br&gt;<br>
I&nbsp;would&nbsp;like&nbsp;to&nbsp;avoid&nbsp;self&nbsp;signed&nbsp;certificates&nbsp;so&nbsp;my&nbsp;users&nbsp;would&nbsp;not&lt;br&gt;<br>
need&nbsp;to&nbsp;import&nbsp;and&nbsp;replace&nbsp;my&nbsp;own&nbsp;certs.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;here&nbsp;is&nbsp;my&nbsp;complete&nbsp;squid.conf:&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;http&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;21 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;ftp&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;443 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;https&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;70 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;gopher&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;210 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;wais&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535 &nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;280 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;http-mgmt&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;488 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;gss-http&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;591 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;filemaker&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;777 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;multiling&nbsp;http&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;901 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;SWAT&lt;br&gt;<br>
acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;manager&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;to_localhost&lt;br&gt;<br>
&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;program&nbsp;/usr/libexec/squid/basic_pam_&lt;wbr&gt;auth&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;children&nbsp;5&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;realm&nbsp;Proxy&nbsp;Authentication&nbsp;Required&lt;br&gt;<br>
auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;2&nbsp;hours&lt;br&gt;<br>
&lt;br&gt;<br>
acl&nbsp;authenticated&nbsp;proxy_auth&nbsp;REQUIRED&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;authenticated&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;all&lt;br&gt;<br>
&lt;br&gt;<br>
https_port&nbsp;8443&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;cert=/etc/letsencrypt/live/&lt;a&nbsp;href=&quot;http://sklad.duckdns.org/cert.pem&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;skl&lt;wbr&gt;ad.duckdns.org/cert.pem&lt;/a&gt;&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;key=/etc/letsencrypt/live/&lt;a&nbsp;href=&quot;http://sklad.duckdns.org/key.pem&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;skla&lt;wbr&gt;d.duckdns.org/key.pem&lt;/a&gt;&nbsp;\&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt; &nbsp; &nbsp;clientca=/etc/letsencrypt/&lt;wbr&gt;live/&lt;a&nbsp;href=&quot;http://sklad.duckdns.org/fullchain.pem&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;sklad.duckdns.org/&lt;wbr&gt;fullchain.pem&lt;/a&gt;&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;tls-dh=/etc/ssl/certs/dhparam.&lt;wbr&gt;pem&nbsp;\&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt; &nbsp; &nbsp;options=NO_SSLv2,NO_SSLv3,&lt;wbr&gt;SINGLE_DH_USE&nbsp;\&lt;br&gt;<br>
 &nbsp; &nbsp;cipher=HIGH&lt;br&gt;<br>
cache_dir&nbsp;aufs&nbsp;/var/cache/squid&nbsp;512&nbsp;16&nbsp;256&lt;br&gt;<br>
coredump_dir&nbsp;/var/cache/squid&lt;br&gt;<br>
refresh_pattern&nbsp;^ftp: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1440 &nbsp; &nbsp;20% &nbsp; &nbsp; 10080&lt;br&gt;<br>
refresh_pattern&nbsp;^gopher: &nbsp; &nbsp; &nbsp; &nbsp;1440 &nbsp; &nbsp;0% &nbsp; &nbsp; &nbsp;1440&lt;br&gt;<br>
refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0 &nbsp; &nbsp; 0% &nbsp; &nbsp; &nbsp;0&lt;br&gt;<br>
refresh_pattern&nbsp;. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 20% &nbsp; &nbsp; 4320&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;One&nbsp;more&nbsp;apology&nbsp;for&nbsp;escaped&nbsp;mail.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;S&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;br&gt;--------&lt;br&gt;&lt;br&gt;Diogenes&nbsp;S.&nbsp;de&nbsp;Jesus&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
