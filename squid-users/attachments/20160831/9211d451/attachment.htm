<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Verdana;font-size:&nbsp;12.0px;&quot;&gt;&lt;div&gt;Dear&nbsp;all,&lt;/div&gt;<br>
<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
<br>
&lt;div&gt;i&#39;m&nbsp;facing&nbsp;a&nbsp;strange&nbsp;problem&nbsp;using&nbsp;squid&nbsp;3.5.20&nbsp;with&nbsp;ntlm&nbsp;transparent&nbsp;authentication.&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;cannot&nbsp;use&nbsp;kerberos&nbsp;auth&nbsp;because&nbsp;i&nbsp;need&nbsp;to&nbsp;pass&nbsp;DOMAIN&#92;user&nbsp;to&nbsp;my&nbsp;parent&nbsp;proxy&nbsp;with&nbsp;x-authenticated-user&nbsp;header,&nbsp;and&nbsp;the&nbsp;form&nbsp;USERNAME@DOMAIN&nbsp;is&nbsp;not&nbsp;supported.&lt;/div&gt;<br>
<br>
&lt;div&gt;Users&nbsp;can&nbsp;surf&nbsp;the&nbsp;web&nbsp;without&nbsp;problems&nbsp;but,&nbsp;sometimes,&nbsp;they&nbsp;receive&nbsp;request&nbsp;credential&nbsp;popup&nbsp;from&nbsp;browser&nbsp;(explorer,&nbsp;edge,&nbsp;mozilla&nbsp;and&nbsp;chrome&nbsp;it&nbsp;does&nbsp;not&nbsp;matter).&lt;/div&gt;<br>
<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
<br>
&lt;div&gt;auth_param&nbsp;ntlm&nbsp;program&nbsp;/usr/local/samba/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-ntlmssp&lt;/div&gt;<br>
<br>
&lt;div&gt;auth_param&nbsp;ntlm&nbsp;children&nbsp;300&nbsp;startup=200&nbsp;idle=10&nbsp;concurrency=0&lt;/div&gt;<br>
<br>
&lt;div&gt;auth_param&nbsp;ntlm&nbsp;keep_alive&nbsp;on&lt;/div&gt;<br>
<br>
&lt;div&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/usr/local/samba/bin/ntlm_auth&nbsp;--helper-protocol=squid-2.5-basic&lt;br/&gt;<br>
auth_param&nbsp;basic&nbsp;children&nbsp;25&nbsp;startup=15&nbsp;idle=5&nbsp;concurrency=0&lt;br/&gt;<br>
auth_param&nbsp;basic&nbsp;realm&nbsp;PROXY&nbsp;AUTHORIZATION&nbsp;REQUIRED&lt;br/&gt;<br>
auth_param&nbsp;basic&nbsp;credentialsttl&nbsp;30&nbsp;minutes&lt;br/&gt;<br>
authenticate_cache_garbage_interval&nbsp;1&nbsp;hours&lt;br/&gt;<br>
authenticate_ttl&nbsp;30&nbsp;minutes&lt;br/&gt;<br>
authenticate_ip_ttl&nbsp;30&nbsp;minutes&lt;/div&gt;<br>
<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;migrated&nbsp;from&nbsp;squid&nbsp;2.6.x&nbsp;and,&nbsp;with&nbsp;similar&nbsp;configuration,&nbsp;the&nbsp;required&nbsp;credentials&nbsp;was&nbsp;displayed&nbsp;only&nbsp;when&nbsp;the&nbsp;password&nbsp;was&nbsp;expired.&lt;/div&gt;<br>
<br>
&lt;div&gt;In&nbsp;this&nbsp;situation,&nbsp;&nbsp;users&nbsp;must&nbsp;click&nbsp;on&nbsp;abort&nbsp;button&nbsp;many&nbsp;times&nbsp;to&nbsp;restore&nbsp;a&nbsp;good&nbsp;situation,&nbsp;but&nbsp;i&nbsp;cannot&nbsp;understand&nbsp;why&nbsp;the&nbsp;request&nbsp;popup&nbsp;suddenly.&lt;/div&gt;<br>
<br>
&lt;div&gt;Is&nbsp;this&nbsp;a&nbsp;credentials&nbsp;cache&nbsp;timeout&nbsp;problm&nbsp;(authenticate_ttl&nbsp;30&nbsp;minutes)?&lt;/div&gt;<br>
<br>
&lt;div&gt;Is&nbsp;this&nbsp;a&nbsp;problem&nbsp;in&nbsp;the&nbsp;browser?&lt;/div&gt;<br>
<br>
&lt;div&gt;Is&nbsp;this&nbsp;a&nbsp;comunication&nbsp;problem&nbsp;with&nbsp;squind&nbsp;and&nbsp;Active&nbsp;Directory?&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;undestrand&nbsp;why,&nbsp;so&nbsp;i&nbsp;need&nbsp;advices&nbsp;to&nbsp;start&nbsp;debug&nbsp;and&nbsp;find&nbsp;a&nbsp;solution.&lt;/div&gt;<br>
<br>
&lt;div&gt;Any&nbsp;help&nbsp;will&nbsp;be&nbsp;much&nbsp;appreciated.&lt;/div&gt;<br>
<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
<br>
&lt;div&gt;Best&nbsp;Regards.&lt;/div&gt;<br>
<br>
&lt;div&gt;Giulius.&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;<br>
<br>

</tt>
