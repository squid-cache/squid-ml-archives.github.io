<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;hi&nbsp;all&nbsp;&lt;span&nbsp;title=&quot;:-)&quot;&gt;&lt;/span&gt;<br>
&lt;br&gt;I&#39;ve&nbsp;a&nbsp;strange&nbsp;problem&nbsp;with&nbsp;squid&nbsp;v3.1.20<br>
&lt;br&gt;<br>
&lt;br&gt;Using&nbsp;squid&nbsp;also&nbsp;to&nbsp;cache&nbsp;&quot;big&quot;&nbsp;files&nbsp;(for&nbsp;big&nbsp;I&nbsp;mean&nbsp;&gt;20Mb),&nbsp;happens&nbsp;<br>
that&nbsp;if&nbsp;a&nbsp;pc&nbsp;download&nbsp;a&nbsp;file,&nbsp;first&nbsp;time&nbsp;file&nbsp;has&nbsp;downloaded&nbsp;from&nbsp;<br>
internet.&nbsp;Second&nbsp;time&nbsp;from&nbsp;squid&nbsp;cache.&nbsp;Everything&nbsp;ok&nbsp;&lt;span&nbsp;title=&quot;:-)&quot;&gt;&lt;/span&gt;&nbsp;But:&nbsp;if&nbsp;I&nbsp;try&nbsp;<br>
to&nbsp;download&nbsp;same&nbsp;file&nbsp;from&nbsp;another&nbsp;pc,&nbsp;same&nbsp;file&nbsp;come&nbsp;downloaded&nbsp;from&nbsp;<br>
internet&nbsp;and&nbsp;not&nbsp;via&nbsp;squid.<br>
&lt;br&gt;<br>
&lt;br&gt;Why?<br>
&lt;br&gt;<br>
&lt;br&gt;thanks!<br>
&lt;br&gt;<br>
&lt;br&gt;maximum_object_size&nbsp;5&nbsp;Gb<br>
&lt;br&gt;cache_dir&nbsp;ufs&nbsp;/data/vmware/squid-cache&nbsp;30720&nbsp;16&nbsp;256<br>
&lt;br&gt;cache_mem&nbsp;4096&nbsp;MB<br>
&lt;br&gt;<br>
&lt;br&gt;minimum_object_size&nbsp;0<br>
&lt;br&gt;maximum_object_size_in_memory&nbsp;512&nbsp;Kb<br>
&lt;br&gt;cache_replacement_policy&nbsp;heap&nbsp;GDSF<br>
&lt;br&gt;<br>
&lt;br&gt;cache_swap_low&nbsp;85<br>
&lt;br&gt;cache_swap_high&nbsp;90<br>
&lt;br&gt;<br>
&lt;br&gt;half_closed_clients&nbsp;off<br>
&lt;br&gt;<br>
&lt;br&gt;hosts_file&nbsp;/etc/hosts<br>
&lt;br&gt;memory_pools&nbsp;off<br>
&lt;br&gt;client_db&nbsp;off<br>
&lt;br&gt;dns_nameservers&nbsp;127.0.0.1<br>
&lt;br&gt;<br>
&lt;br&gt;via&nbsp;off<br>
&lt;br&gt;forwarded_for&nbsp;off<br>
&lt;br&gt;httpd_suppress_version_string&nbsp;off<br>
&lt;br&gt;follow_x_forwarded_for&nbsp;deny&nbsp;all<br>
&lt;br&gt;#visible_hostname&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://sign.bunker.org&quot;&gt;sign.bunker.org&lt;/a&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;refresh_pattern&nbsp;^ftp:&nbsp;1440&nbsp;20%&nbsp;10080<br>
&lt;br&gt;refresh_pattern&nbsp;^gopher:&nbsp;1440&nbsp;0%&nbsp;1440<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(gif|png|jpg|jpeg|ico)$&nbsp;10080&nbsp;90%&nbsp;43200&nbsp;<br>
override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;ignore-private<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(iso|avi|wav|mp3|mp4|mpeg|&lt;wbr&gt;swf|flv|x-flv)$&nbsp;43200&nbsp;90%&nbsp;<br>
432000&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;ignore-private<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(deb|rpm|exe|zip|tar|tgz|&lt;wbr&gt;ram|rar|bin|ppt|doc|tiff)$&nbsp;<br>
10080&nbsp;90%&nbsp;43200&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;<br>
ignore-private<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.index.(html|htm)$&nbsp;0&nbsp;40%&nbsp;10080<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(html|htm|css|js)$&nbsp;1440&nbsp;40%&nbsp;40320<br>
&lt;br&gt;refresh_pattern&nbsp;.&nbsp;0&nbsp;40%&nbsp;40320<br>
&lt;br&gt;<br>
&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://movies.com/.*&quot;&gt;movies.com/.*&lt;/a&gt;&nbsp;10080&nbsp;90%&nbsp;43200<br>
&lt;br&gt;refresh_pattern&nbsp;(&lt;i&gt;&lt;span&gt;/&lt;/span&gt;cgi-bin&lt;span&gt;/&lt;/span&gt;&lt;/i&gt;|\?)&nbsp;0&nbsp;0%&nbsp;0<br>
&lt;/div&gt;<br>

</tt>
