<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Amos,&lt;div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;version&nbsp;3.5.12&nbsp;compiled&nbsp;with&nbsp;Debian&nbsp;rules&nbsp;example&nbsp;provided&nbsp;here,&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://docs.diladele.com/administrator_guide_4_5/install/ubuntu14/tools.html&quot;&gt;http://docs.diladele.com/administrator_guide_4_5/install/ubuntu14/tools.html&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Do&nbsp;you&nbsp;think&nbsp;I&nbsp;could&nbsp;patch&nbsp;squid&nbsp;from&nbsp;3.5.12&nbsp;to&nbsp;3.5.21&nbsp;via&nbsp;patches&nbsp;available&nbsp;at &lt;a&nbsp;href=&quot;http://www.squid-cache.org/Versions/v3/3.5/&quot;&gt;http://www.squid-cache.org/Versions/v3/3.5/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;Or&nbsp;I could&nbsp;download&nbsp;tar.gz&nbsp;file&nbsp;and&nbsp;replace&nbsp;files&nbsp;from&nbsp;that&nbsp;folder&nbsp;to&nbsp;Debian source&nbsp;folder&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;do&nbsp;i&nbsp;need&nbsp;any&nbsp;extra&nbsp;tools&nbsp;to&nbsp;build&nbsp;squid&nbsp;3.5.21?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Sep&nbsp;20,&nbsp;2016&nbsp;at&nbsp;3:58&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;20/09/2016&nbsp;4:42&nbsp;a.m.,&nbsp;Hardik&nbsp;Dangar&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hello,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;using&nbsp;squid&nbsp;3.5.12(detailed&nbsp;version&nbsp;info&nbsp;is&nbsp;below)&nbsp;on&nbsp;Ubuntu&nbsp;16.04.1&lt;br&gt;<br>
&gt;&nbsp;LTS&nbsp;server.&nbsp;My&nbsp;squid&nbsp;config&nbsp;is&nbsp;at,&nbsp;&lt;a&nbsp;href=&quot;http://pastebin.com/raw/b8RZ67u9&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://pastebin.com/raw/&lt;wbr&gt;b8RZ67u9&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;configured&nbsp;squid&nbsp;as&nbsp;intercept&nbsp;proxy&nbsp;bumping&nbsp;all&nbsp;SSL&nbsp;https&lt;br&gt;<br>
&gt;&nbsp;connections.&nbsp;Setup&nbsp;is&nbsp;working&nbsp;fine&nbsp;for&nbsp;many&nbsp;things&nbsp;like&nbsp;browsing,&lt;br&gt;<br>
&gt;&nbsp;even&nbsp;on&nbsp;command&nbsp;line&nbsp;like&nbsp;wget&nbsp;i&nbsp;can&nbsp;download&nbsp;via&nbsp;https&nbsp;as&nbsp;i&nbsp;have&nbsp;installed&lt;br&gt;<br>
&gt;&nbsp;root&nbsp;certificate&nbsp;within&nbsp;my&nbsp;client&nbsp;os.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;My&nbsp;issue&nbsp;is&nbsp;whenever&nbsp;i&nbsp;try&nbsp;to&nbsp;add&nbsp;extra&nbsp;repository&nbsp;via&nbsp;command,&nbsp;i.e.&lt;br&gt;<br>
&gt;&nbsp;sudo&nbsp;add-apt-repository&nbsp;ppa:ondrej/php&lt;br&gt;<br>
&gt;&nbsp;command&nbsp;fails&nbsp;with&nbsp;output&nbsp;&quot;Cannot&nbsp;add&nbsp;PPA:&nbsp;&#39;ppa:~ondrej/ubuntu/php&#39;.&lt;wbr&gt;ERROR:&lt;br&gt;<br>
&gt;&nbsp;&#39;~ondrej&#39;&nbsp;user&nbsp;or&nbsp;team&nbsp;does&nbsp;not&nbsp;exist.&quot;&nbsp;and&nbsp;in&nbsp;squid&#39;s&nbsp;cache&nbsp;and&nbsp;access.log&lt;br&gt;<br>
&gt;&nbsp;following&nbsp;entries&nbsp;can&nbsp;be&nbsp;located&nbsp;for&nbsp;this&nbsp;request,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;==&gt;&nbsp;/var/log/squid/access.log&nbsp;&lt;==&lt;br&gt;<br>
&gt;&nbsp;1474302162.378 &nbsp; &nbsp;439&nbsp;192.168.1.66&nbsp;TAG_NONE/200&nbsp;0&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://91.189.89.223:443&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;91.189.89.223:443&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;ORIGINAL_DST/&lt;a&nbsp;href=&quot;http://91.189.89.223&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;91.189.89.223&lt;/a&gt;&nbsp;-&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;==&gt;&nbsp;/var/log/squid/cache.log&nbsp;&lt;==&lt;br&gt;<br>
&gt;&nbsp;2016/09/19&nbsp;21:52:42&nbsp;kid1|&nbsp;Error&nbsp;negotiating&nbsp;SSL&nbsp;connection&nbsp;on&nbsp;FD&nbsp;21:&lt;br&gt;<br>
&gt;&nbsp;error:14094418:SSL&nbsp;routines:ssl3_read_bytes:tlsv1&nbsp;alert&nbsp;unknown&nbsp;ca&nbsp;(1/0)&lt;br&gt;<br>
&gt;&nbsp;2016/09/19&nbsp;21:52:42&nbsp;kid1|&nbsp;hold&nbsp;write&nbsp;on&nbsp;SSL&nbsp;connection&nbsp;on&nbsp;FD&nbsp;22&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;==&gt;&nbsp;/var/log/squid/access.log&nbsp;&lt;==&lt;br&gt;<br>
&gt;&nbsp;1474302162.885 &nbsp; &nbsp;403&nbsp;192.168.1.66&nbsp;TAG_NONE/200&nbsp;0&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://91.189.89.223:443&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;91.189.89.223:443&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;ORIGINAL_DST/&lt;a&nbsp;href=&quot;http://91.189.89.223&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;91.189.89.223&lt;/a&gt;&nbsp;-&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;==&gt;&nbsp;/var/log/squid/cache.log&nbsp;&lt;==&lt;br&gt;<br>
&gt;&nbsp;2016/09/19&nbsp;21:52:42&nbsp;kid1|&nbsp;Error&nbsp;negotiating&nbsp;SSL&nbsp;connection&nbsp;on&nbsp;FD&nbsp;21:&lt;br&gt;<br>
&gt;&nbsp;error:14094418:SSL&nbsp;routines:ssl3_read_bytes:tlsv1&nbsp;alert&nbsp;unknown&nbsp;ca&nbsp;(1/0)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;the&nbsp;above&nbsp;output&nbsp;192.168.1.66&nbsp;is&nbsp;my&nbsp;client&nbsp;requesting&nbsp;that&nbsp;request&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;as&nbsp;you&nbsp;can&nbsp;see&nbsp;in&nbsp;cache.log&nbsp;there&nbsp;is&nbsp;certificate&nbsp;negotiation&nbsp;error.&nbsp;I&nbsp;have&lt;br&gt;<br>
&gt;&nbsp;tried&nbsp;to&nbsp;fiddle&nbsp;with&nbsp;all&nbsp;options&nbsp;provided&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.squid-cache.org/&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;ConfigExamples/Intercept/&lt;wbr&gt;SslBumpExplicit&nbsp;but&nbsp;it&nbsp;seems&nbsp;i&nbsp;am&nbsp;out&nbsp;of&nbsp;luck&lt;br&gt;<br>
&gt;&nbsp;after&nbsp;almost&nbsp;half&nbsp;of&nbsp;my&nbsp;day&nbsp;battling&nbsp;this&nbsp;issue.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Can&nbsp;someone&nbsp;tell&nbsp;me&nbsp;they&nbsp;are&nbsp;successful&nbsp;with&nbsp;this&nbsp;issue?&nbsp;if&nbsp;so&nbsp;can&nbsp;you&lt;br&gt;<br>
&gt;&nbsp;share&nbsp;your&nbsp;squid.conf&nbsp;relevant&nbsp;section?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;$&nbsp;squid&nbsp;-v&lt;br&gt;<br>
&gt;&nbsp;Squid&nbsp;Cache:&nbsp;Version&nbsp;3.5.12&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;Ubuntu&nbsp;Squid&nbsp;package&nbsp;does&nbsp;not&nbsp;build&nbsp;with&nbsp;SSL&nbsp;functionality.&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;re-building&nbsp;your&nbsp;Squid&nbsp;with&nbsp;SSL-Bump&nbsp;features&nbsp;it&nbsp;is&nbsp;important&nbsp;to&lt;br&gt;<br>
always&nbsp;use&nbsp;teh&nbsp;very&nbsp;latest&nbsp;Squid&nbsp;release.&nbsp;SSL/TLS&nbsp;and&nbsp;bumping&nbsp;are&nbsp;part&lt;br&gt;<br>
of&nbsp;an&nbsp;ongoing&nbsp;arms&nbsp;race&nbsp;situation.&nbsp;Things&nbsp;are&nbsp;constantly&nbsp;changing&nbsp;and&lt;br&gt;<br>
software&nbsp;from&nbsp;as&nbsp;little&nbsp;as&nbsp;a&nbsp;year&nbsp;ago&nbsp;is&nbsp;unlikly&nbsp;to&nbsp;work&nbsp;100%&nbsp;well&nbsp;with&lt;br&gt;<br>
intercepting&nbsp;(&#39;bumping&#39;)&nbsp;encryption&nbsp;from&nbsp;today.&lt;br&gt;<br>
&lt;br&gt;<br>
First&nbsp;thing&nbsp;to&nbsp;try&nbsp;is&nbsp;to&nbsp;rebuild&nbsp;with&nbsp;squid&nbsp;3.5.20&nbsp;or&nbsp;.21&nbsp;and&nbsp;see&nbsp;if&nbsp;the&lt;br&gt;<br>
problem&nbsp;remains.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
