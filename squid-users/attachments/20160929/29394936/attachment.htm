<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;the&nbsp;squid.conf.documented,&nbsp;it&nbsp;looks&nbsp;like&nbsp;I&nbsp;can&nbsp;log&nbsp;the&nbsp;server&nbsp;certificate&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;client&nbsp;certificate....&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;#        &nbsp;%ssl::&gt;sni   &nbsp;SSL&nbsp;client&nbsp;SNI&nbsp;sent&nbsp;to&nbsp;Squid                                                                                       &nbsp;&lt;br&gt;#        &nbsp;%ssl::&lt;cert_subject&nbsp;SSL&nbsp;server&nbsp;certificate&nbsp;DN                                                                                    &nbsp;&lt;br&gt;#        &nbsp;%ssl::&lt;cert_issuer&nbsp;SSL&nbsp;server&nbsp;certificate&nbsp;issuer&nbsp;DN                                                                              &nbsp;&lt;br&gt;#                                                                                                                                          &nbsp;&lt;br&gt;#        &nbsp;%&gt;{Header}   &nbsp;HTTP&nbsp;request&nbsp;header&nbsp;&quot;Header&quot;    &nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;29,&nbsp;2016&nbsp;at&nbsp;7:09&nbsp;PM,&nbsp;Michael&nbsp;Pelletier&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:michael.pelletier@palmbeachschools.org&quot;&nbsp;target=&quot;_blank&quot;&gt;michael.pelletier@palmbeachschools.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;I&nbsp;misspoke.&nbsp;I&nbsp;am&nbsp;getting&nbsp;%ssl::&gt;sni&nbsp;but&nbsp;not&nbsp;%ssl::&lt;cert_subject&nbsp;or&nbsp;%ssl::&lt;cert_issuer&nbsp;but&nbsp;then&nbsp;clients&nbsp;may&nbsp;not&nbsp;be&nbsp;sending&nbsp;certs&nbsp;out....&lt;br&gt;&lt;br&gt;&lt;/div&gt;The&nbsp;doc&nbsp;says&nbsp;is&nbsp;supports&nbsp;server&nbsp;certs&nbsp;but&nbsp;using&nbsp;%ssl::&gt;cert_subject&nbsp;and&nbsp;%ssl::&gt;cert_issuer.&nbsp;gives&nbsp;me&nbsp;a&nbsp;parse&nbsp;error....&lt;br&gt;&lt;br&gt;&lt;/div&gt;Note&nbsp;the&nbsp;&quot;&lt;&quot;&nbsp;instead&nbsp;of&nbsp;the&nbsp;&quot;&gt;&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;29,&nbsp;2016&nbsp;at&nbsp;7:01&nbsp;PM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.&lt;wbr&gt;com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&gt;On&nbsp;09/29/2016&nbsp;04:50&nbsp;PM,&nbsp;Michael&nbsp;Pelletier&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;log&nbsp;some&nbsp;data&nbsp;during&nbsp;the&nbsp;ssl&nbsp;flow.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;logformat&nbsp;custom&nbsp;...&nbsp;%ssl::&gt;sni&nbsp;%ssl::&gt;cert_subject&nbsp;%ssl::&gt;cert_issuer&lt;br&gt;<br>
&lt;span&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;Yet&nbsp;I&nbsp;get&nbsp;nothing&nbsp;from&nbsp;any&nbsp;of&nbsp;the&nbsp;%ssl::&nbsp;entries....&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Do&nbsp;your&nbsp;users&nbsp;send&nbsp;certificates&nbsp;to&nbsp;Squid?&nbsp;If&nbsp;not,&nbsp;%ssl::&gt;cert_subject&lt;br&gt;<br>
%ssl::&gt;cert_issuer&nbsp;should&nbsp;be&nbsp;&quot;-&quot;.&nbsp;These&nbsp;%codes&nbsp;are&nbsp;_not_&nbsp;about&nbsp;the&lt;br&gt;<br>
origin&nbsp;server&nbsp;certificate.&lt;br&gt;<br>
&lt;br&gt;<br>
ssl::&gt;sni&nbsp;is&nbsp;only&nbsp;available&nbsp;during&nbsp;certain&nbsp;SslBump&nbsp;steps.&nbsp;Do&nbsp;you&nbsp;use&lt;br&gt;<br>
SslBump?&nbsp;If&nbsp;yes,&nbsp;do&nbsp;you&nbsp;get&nbsp;the&nbsp;corresponding&nbsp;CONNECT&nbsp;entries&nbsp;in&nbsp;your&lt;br&gt;<br>
access&nbsp;log&nbsp;(there&nbsp;should&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;CONNECT&nbsp;per&nbsp;SSL&nbsp;connection&lt;br&gt;<br>
IIRC)?&nbsp;What&nbsp;are&nbsp;your&nbsp;ssl_bump&nbsp;rules?&lt;br&gt;<br>
&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;br&gt;<br>
&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:1.3em&quot;&gt;&lt;b&nbsp;style=&quot;color:rgb(34,34,34);font-size:1.3em&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;style=&quot;line-height:14.7200002670288px;font-family:Arial&quot;&gt;Disclaimer:&lt;/span&gt; &lt;/font&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-size:x-small;line-height:11.5px;font-family:Arial&quot;&gt;Under&nbsp;Florida&nbsp;law,&nbsp;e-mail&nbsp;addresses&nbsp;are&nbsp;public&nbsp;records.&nbsp;If&nbsp;you&nbsp;do&nbsp;not&nbsp;want&nbsp;your&nbsp;e-mail&nbsp;address&nbsp;released&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;public&nbsp;records&nbsp;request,&nbsp;do&nbsp;not&nbsp;send&nbsp;electronic&nbsp;mail&nbsp;to&nbsp;this&nbsp;entity.&nbsp;Instead,&nbsp;contact&nbsp;this&nbsp;office&nbsp;by&nbsp;phone&nbsp;or&nbsp;in&nbsp;writing.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:1.3em;font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;/p&gt;
</tt>
