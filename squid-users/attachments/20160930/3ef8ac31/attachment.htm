<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;snippet&nbsp;of&nbsp;debug&nbsp;logs&nbsp;&lt;br&gt;&lt;/div&gt;I&nbsp;dont&nbsp;get&nbsp;to&nbsp;see&nbsp;anything&nbsp;missing&nbsp;out&nbsp;there&nbsp;.&nbsp;It&nbsp;does&nbsp;a&nbsp;GET&nbsp;call&nbsp;to&nbsp;the&nbsp;docker&nbsp;registry&nbsp;on&nbsp;behalf&nbsp;of&nbsp;the&nbsp;requesting&nbsp;client&nbsp;The&nbsp;registry&nbsp;listens&nbsp;on&nbsp;443&nbsp;so&nbsp;squid&nbsp;mimicks &nbsp;client&nbsp;TLS&nbsp;connections&nbsp;post&nbsp;which&nbsp;does&nbsp;a&nbsp;GET&nbsp;call&nbsp;to&nbsp;the&nbsp;docker&nbsp;registry&nbsp;on&nbsp;the&nbsp;requested&nbsp;blobs&nbsp;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Logs&nbsp;&lt;br&gt;=====&lt;br&gt;&lt;br&gt;&lt;br&gt;---------&lt;br&gt;GET&nbsp;/v2/idp/mtd-log-viewer/blobs/sha256:7f24efe711014be87fc45d3ccdc15bb419f45f26ab1f7dd4652b83890ba16294&nbsp;HTTP/1.1&lt;br&gt;Host:&nbsp;&lt;a&nbsp;href=&quot;http://dockerregistry.com&quot;&gt;dockerregistry.com&lt;/a&gt;&lt;br&gt;User-Agent:&nbsp;docker/1.12.1&nbsp;go/go1.6.3&nbsp;git-commit/23cf638&nbsp;kernel/3.16.0-71-generic&nbsp;os/linux&nbsp;arch/amd64&nbsp;UpstreamClient(Docker-Client/1.12.1&nbsp;\(linux\))&lt;br&gt;Authorization:&nbsp;Bearer&nbsp;AKCp2V5yYCcLhiuTrm6gvr2h6At9FfzhpxEB61CncxQsQxoRNT4tmcSLbWjecmnSFT4gtvF1q&lt;br&gt;Accept-Encoding:&nbsp;gzip&lt;br&gt;Connection:&nbsp;close&lt;br&gt;&lt;br&gt;&lt;br&gt;----------&lt;br&gt;2016/09/30&nbsp;07:05:26.100|&nbsp;11,2|&nbsp;http.cc(2201)&nbsp;sendRequest:&nbsp;HTTP&nbsp;Server&nbsp;local=&lt;a&nbsp;href=&quot;http://10.88.92.129:56249&quot;&gt;10.88.92.129:56249&lt;/a&gt;&nbsp;remote=xx.xx.xx.xx:443&nbsp;FD&nbsp;16&nbsp;flags=1&lt;br&gt;2016/09/30&nbsp;07:05:26.100|&nbsp;11,2|&nbsp;http.cc(2202)&nbsp;sendRequest:&nbsp;HTTP&nbsp;Server&nbsp;REQUEST:&lt;br&gt;---------&lt;br&gt;GET&nbsp;/v2/idp/mtd-log-viewer/blobs/sha256:7f24efe711014be87fc45d3ccdc15bb419f45f26ab1f7dd4652b83890ba16294&nbsp;HTTP/1.1&lt;br&gt;User-Agent:&nbsp;docker/1.12.1&nbsp;go/go1.6.3&nbsp;git-commit/23cf638&nbsp;kernel/3.16.0-71-generic&nbsp;os/linux&nbsp;arch/amd64&nbsp;UpstreamClient(Docker-Client/1.12.1&nbsp;\(linux\))&lt;br&gt;Host:&nbsp;&lt;a&nbsp;href=&quot;http://dockerregistry.com&quot;&gt;dockerregistry.com&lt;/a&gt;&lt;br&gt;Via:&nbsp;1.1&nbsp;proxyserver&nbsp;(squid/3.5.20-20160817-r14075)&lt;br&gt;Surrogate-Capability:&nbsp;proxyserver=&quot;Surrogate/1.0&quot;&lt;br&gt;X-Forwarded-For:&nbsp;10.88.84.102&lt;br&gt;Cache-Control:&nbsp;max-age=600&lt;br&gt;Connection:&nbsp;keep-alive&lt;br&gt;&lt;br&gt;&lt;br&gt;----------&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;ctx:&nbsp;enter&nbsp;level &nbsp;0:&nbsp;&#39;&lt;a&nbsp;href=&quot;https://dockerregistry.com/v2/blobs/sha256:3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&quot;&gt;https://dockerregistry.com/v2/blobs/sha256:3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&lt;/a&gt;&#39;&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;11,2|&nbsp;http.cc(717)&nbsp;processReplyHeader:&nbsp;HTTP&nbsp;Server&nbsp;local=&lt;a&nbsp;href=&quot;http://10.88.92.129:56250&quot;&gt;10.88.92.129:56250&lt;/a&gt;&nbsp;remote=xx.xx.xx.xx:443&nbsp;FD&nbsp;21&nbsp;flags=1&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;11,2|&nbsp;http.cc(718)&nbsp;processReplyHeader:&nbsp;HTTP&nbsp;Server&nbsp;REPLY:&lt;br&gt;---------&lt;br&gt;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;Server:&nbsp;nginx&lt;br&gt;Date:&nbsp;Fri,&nbsp;30&nbsp;Sep&nbsp;2016&nbsp;07:06:12&nbsp;GMT&lt;br&gt;Content-Type:&nbsp;application/octet-stream&lt;br&gt;Content-Length:&nbsp;1256&lt;br&gt;Connection:&nbsp;keep-alive&lt;br&gt;X-Artifactory-Id:&nbsp;fb4bb806eccd564b:-7d2d7c9a:156cf92100e:-8000&lt;br&gt;Last-Modified:&nbsp;Tue,&nbsp;13&nbsp;Sep&nbsp;2016&nbsp;06:03:06&nbsp;GMT&lt;br&gt;ETag:&nbsp;ca5755fd72e65e6cc42e608eb7524d4956c9a358&lt;br&gt;X-Checksum-Sha1:&nbsp;ca5755fd72e65e6cc42e608eb7524d4956c9a358&lt;br&gt;Accept-Ranges:&nbsp;bytes&lt;br&gt;X-Checksum-Md5:&nbsp;a15d3dcf76f3334177fa44e6ad0af578&lt;br&gt;X-Artifactory-Filename:&nbsp;sha256__3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&lt;br&gt;Docker-Distribution-Api-Version:&nbsp;registry/2.0&lt;br&gt;Docker-Content-Digest:&nbsp;sha256:3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&lt;br&gt;&lt;br&gt;�&lt;br&gt;----------&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;ctx:&nbsp;exit&nbsp;level &nbsp;0&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;11,2|&nbsp;client_side.cc(1392)&nbsp;sendStartOfMessage:&nbsp;HTTP&nbsp;Client&nbsp;local=&lt;a&nbsp;href=&quot;http://10.88.92.129:443&quot;&gt;10.88.92.129:443&lt;/a&gt;&nbsp;remote=&lt;a&nbsp;href=&quot;http://10.88.84.102:41429&quot;&gt;10.88.84.102:41429&lt;/a&gt;&nbsp;FD&nbsp;18&nbsp;flags=1&lt;br&gt;2016/09/30&nbsp;07:05:27.046|&nbsp;11,2|&nbsp;client_side.cc(1393)&nbsp;sendStartOfMessage:&nbsp;HTTP&nbsp;Client&nbsp;REPLY:&lt;br&gt;---------&lt;br&gt;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;Server:&nbsp;nginx&lt;br&gt;Date:&nbsp;Fri,&nbsp;30&nbsp;Sep&nbsp;2016&nbsp;07:06:12&nbsp;GMT&lt;br&gt;Content-Type:&nbsp;application/octet-stream&lt;br&gt;Content-Length:&nbsp;1256&lt;br&gt;X-Artifactory-Id:&nbsp;fb4bb806eccd564b:-7d2d7c9a:156cf92100e:-8000&lt;br&gt;Last-Modified:&nbsp;Tue,&nbsp;13&nbsp;Sep&nbsp;2016&nbsp;06:03:06&nbsp;GMT&lt;br&gt;ETag:&nbsp;ca5755fd72e65e6cc42e608eb7524d4956c9a358&lt;br&gt;X-Checksum-Sha1:&nbsp;ca5755fd72e65e6cc42e608eb7524d4956c9a358&lt;br&gt;Accept-Ranges:&nbsp;bytes&lt;br&gt;X-Checksum-Md5:&nbsp;a15d3dcf76f3334177fa44e6ad0af578&lt;br&gt;X-Artifactory-Filename:&nbsp;sha256__3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&lt;br&gt;Docker-Distribution-Api-Version:&nbsp;registry/2.0&lt;br&gt;Docker-Content-Digest:&nbsp;sha256:3071a8ec2f6e96d06697a8069a385f889fa318ef479a0c2557baddb0e06a9b2c&lt;br&gt;X-Cache:&nbsp;MISS&nbsp;from&nbsp;proxyserver&nbsp;&lt;=======================================================================================&nbsp;MISS&nbsp;&lt;br&gt;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;proxyserver:443&lt;=============================================================================&nbsp;LOOKUP&nbsp;MISS &nbsp;&lt;br&gt;Via:&nbsp;1.1&nbsp;proxyserver&nbsp;(squid/3.5.20-20160817-r14075)&lt;br&gt;Connection:&nbsp;close&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Sep&nbsp;28,&nbsp;2016&nbsp;at&nbsp;7:54&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;28/09/2016&nbsp;11:17&nbsp;p.m.,&nbsp;Michael&nbsp;Varun&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Team&nbsp;-&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Would&nbsp;like&nbsp;to&nbsp;know&nbsp;is&nbsp;there&nbsp;any&nbsp;specific&nbsp;config&nbsp;that&nbsp;we&nbsp;need&nbsp;to&nbsp;enable&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;cache&nbsp;MIME&nbsp;attachement&nbsp;of&nbsp;application/octet-stream&nbsp;type&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;We&nbsp;are&nbsp;trying&nbsp;to&nbsp;caching&nbsp;docker&nbsp;image&nbsp;blobs&nbsp;which&nbsp;is&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;application/octet-stream &nbsp;and&nbsp;everytime&nbsp;we&nbsp;hit&nbsp;the&nbsp;docker&nbsp;registry&nbsp;via)GET&lt;br&gt;<br>
&gt;&nbsp;call&nbsp;squid&nbsp;throws&nbsp;up&nbsp;TCP_MISS/200 &nbsp;I&nbsp;had&nbsp;never&nbsp;got&nbsp;a&nbsp;CACHE&nbsp;HIT&nbsp;or&nbsp;MEM&nbsp;HIT&lt;br&gt;<br>
&gt;&nbsp;for&nbsp;these&nbsp;contents.&nbsp;Can&nbsp;someone&nbsp;show&nbsp;pointers&nbsp;to&nbsp;how&nbsp;to&nbsp;succeed&nbsp;in&nbsp;cache&lt;br&gt;<br>
&gt;&nbsp;hit&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;The&nbsp;object&nbsp;mime&nbsp;type&nbsp;does&nbsp;not&nbsp;matter&nbsp;for&nbsp;caching.&nbsp;What&nbsp;does&nbsp;matter&nbsp;are&lt;br&gt;<br>
the&nbsp;URL&nbsp;and&nbsp;identifier&nbsp;headers,&nbsp;plus&nbsp;headers&nbsp;about&nbsp;the&nbsp;objects&nbsp;age,&lt;br&gt;<br>
Vary,&nbsp;Expires&nbsp;and&nbsp;Cache-Control.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;configure&nbsp;&quot;debug_options&nbsp;11,2&quot;&nbsp;to&nbsp;get&nbsp;a&nbsp;cache.log&nbsp;trace&nbsp;of&nbsp;the&lt;br&gt;<br>
messages&nbsp;going&nbsp;through&nbsp;the&nbsp;proxy.&nbsp;Taking&nbsp;a&nbsp;closer&nbsp;look&nbsp;at&nbsp;those&nbsp;message&lt;br&gt;<br>
headers&nbsp;to&nbsp;find&nbsp;out&nbsp;why&nbsp;caching&nbsp;is&nbsp;not&nbsp;happening.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;could&nbsp;also&nbsp;use&nbsp;the&nbsp;tool&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://redbot.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;redbot.org&lt;/a&gt;.&nbsp;It&nbsp;takes&nbsp;a&nbsp;public&nbsp;URL&nbsp;and&lt;br&gt;<br>
displays&nbsp;the&nbsp;cacheability&nbsp;situation&nbsp;for&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;br&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Arial;background-color:white&quot;&gt;______________________________&lt;WBR&gt;______________________________&lt;WBR&gt;_&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;style=&quot;font-family:Arial;background-color:white&quot;&gt;&lt;font&nbsp;color=&quot;#808080&quot;&gt;The&nbsp;information&nbsp;contained&nbsp;in&nbsp;this&nbsp;communication&nbsp;is&nbsp;intended&nbsp;solely&nbsp;for&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;individual&nbsp;or&nbsp;entity&nbsp;to&nbsp;whom&nbsp;it&nbsp;is&nbsp;addressed&nbsp;and&nbsp;others&nbsp;authorized&nbsp;to&nbsp;receive&nbsp;it.&nbsp;It&nbsp;may&nbsp;contain&nbsp;confidential&nbsp;or&nbsp;legally&nbsp;privileged&nbsp;information.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient&nbsp;you&nbsp;are&nbsp;hereby&nbsp;notified&nbsp;that&nbsp;any&nbsp;disclosure,&nbsp;copying,&nbsp;distribution&nbsp;or&nbsp;taking&nbsp;any&nbsp;action&nbsp;in&nbsp;reliance&nbsp;on&nbsp;the&nbsp;contents&nbsp;of&nbsp;this&nbsp;information&nbsp;is&nbsp;strictly&nbsp;prohibited&nbsp;and&nbsp;may&nbsp;be&nbsp;unlawful.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;communication&nbsp;in&nbsp;error,&nbsp;please&nbsp;notify&nbsp;us&nbsp;immediately&nbsp;by&nbsp;responding&nbsp;to&nbsp;this&nbsp;email&nbsp;and&nbsp;then&nbsp;delete&nbsp;it&nbsp;from&nbsp;your&nbsp;system.&nbsp;The&nbsp;firm&nbsp;is&nbsp;neither&nbsp;liable&nbsp;for&nbsp;the&nbsp;proper&nbsp;and&nbsp;complete&nbsp;transmission&nbsp;of&nbsp;the&nbsp;information&nbsp;contained&nbsp;in&nbsp;this&nbsp;communication&nbsp;nor&nbsp;for&nbsp;any&nbsp;delay&nbsp;in&nbsp;its&nbsp;receipt.&lt;/font&gt;&lt;/span&gt;
</tt>
