<tt>
&lt;div&nbsp;id=&quot;__MailbirdStyleContent&quot;&nbsp;style=&quot;font-size:&nbsp;10pt;font-family:&nbsp;arial;color:&nbsp;#000000&quot;&gt;Hi&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;main&nbsp;issue&nbsp;with&nbsp;squid&nbsp;guard&nbsp;is&nbsp;that&nbsp;when&nbsp;I&nbsp;try&nbsp;and&nbsp;block&nbsp;say&nbsp;www.facebook.com&nbsp;and&nbsp;the&nbsp;user&nbsp;goes&nbsp;to&nbsp;https://www.facebook.com,&nbsp;squidguard&nbsp;only&nbsp;sees&nbsp;the&nbsp;initial&nbsp;CONNECT&nbsp;as&nbsp;the&nbsp;target&nbsp;IP&nbsp;so&nbsp;doesn't&nbsp;match&nbsp;against&nbsp;the&nbsp;domain&nbsp;entry.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;squidguard&nbsp;did&nbsp;a&nbsp;reverse&nbsp;DNS&nbsp;lookup,&nbsp;I&nbsp;could&nbsp;keep&nbsp;using&nbsp;that&nbsp;more&nbsp;complex&nbsp;filtering&nbsp;solution.&nbsp;That&nbsp;is&nbsp;where&nbsp;the&nbsp;dstdomain&nbsp;acl&nbsp;is&nbsp;a&nbsp;better&nbsp;option&nbsp;but&nbsp;has&nbsp;the&nbsp;ram&nbsp;overhead.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;line-height:&nbsp;1.5&quot;&gt;Time&nbsp;for&nbsp;some&nbsp;experimentation&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;line-height:&nbsp;1.5&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;line-height:&nbsp;1.5&quot;&gt;thanks&nbsp;again&nbsp;for&nbsp;the&nbsp;feedback&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;mb_sig&quot;&gt;Sent&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird&quot;&nbsp;target=&quot;_blank&quot;&gt;Mailbird&lt;/a&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;history_container&quot;&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:&nbsp;solid;border-width:&nbsp;1px;margin-top:&nbsp;20px;margin-left:&nbsp;0px;padding-left:&nbsp;10px;min-width:&nbsp;500px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#AAAAAA;&nbsp;margin-top:&nbsp;10px;&quot;&gt;On&nbsp;30/09/2016&nbsp;7:21:53&nbsp;PM,&nbsp;Yuri&nbsp;Voinov&nbsp;&lt;yvoinov@gmail.com&gt;&nbsp;wrote:&lt;/p&gt;<br>
&lt;br&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----<br>
&lt;br&gt;Hash:&nbsp;SHA256<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;Amos,&nbsp;I'm&nbsp;afraid&nbsp;that&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;solution.&nbsp;Block&nbsp;lists&nbsp;have&nbsp;become&nbsp;so<br>
&lt;br&gt;huge&nbsp;that&nbsp;only&nbsp;their&nbsp;compression&nbsp;and&nbsp;/&nbsp;or&nbsp;placement&nbsp;in&nbsp;an&nbsp;external<br>
&lt;br&gt;database&nbsp;(as&nbsp;Marcus)&nbsp;can&nbsp;save&nbsp;the&nbsp;situation.<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;30.09.2016&nbsp;12:59,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
&lt;br&gt;&gt;&nbsp;On&nbsp;30/09/2016&nbsp;6:58&nbsp;p.m.,&nbsp;Darren&nbsp;wrote:<br>
&lt;br&gt;&gt;&gt;&nbsp;Thank&nbsp;you&nbsp;Amos<br>
&lt;br&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;The&nbsp;resources&nbsp;I&nbsp;save&nbsp;not&nbsp;running&nbsp;multiple&nbsp;Squidguards&nbsp;will&nbsp;&nbsp;make&nbsp;more<br>
&lt;br&gt;&gt;&gt;&nbsp;ram&nbsp;available&nbsp;as&nbsp;you&nbsp;say&nbsp;and&nbsp;having&nbsp;a&nbsp;simpler&nbsp;setup&nbsp;is&nbsp;never&nbsp;a&nbsp;bad<br>
&lt;br&gt;&gt;&gt;&nbsp;thing&nbsp;either.<br>
&lt;br&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;Just&nbsp;to&nbsp;clarify,&nbsp;so&nbsp;when&nbsp;squid&nbsp;fires&nbsp;up,&nbsp;it&nbsp;caches&nbsp;the&nbsp;ACL&nbsp;file&nbsp;into<br>
&lt;br&gt;&gt;&gt;&nbsp;ram&nbsp;&nbsp;in&nbsp;it's&nbsp;entirety&nbsp;and&nbsp;then&nbsp;does&nbsp;some&nbsp;optimizations?&nbsp;If&nbsp;that&nbsp;is<br>
&lt;br&gt;&gt;&gt;&nbsp;the&nbsp;case&nbsp;I&nbsp;would&nbsp;need&nbsp;to&nbsp;budget&nbsp;the&nbsp;ram&nbsp;to&nbsp;allow&nbsp;for&nbsp;this.<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;Not&nbsp;quite.&nbsp;Squid&nbsp;still&nbsp;reads&nbsp;the&nbsp;files&nbsp;line&nbsp;by&nbsp;line&nbsp;into&nbsp;a&nbsp;memory<br>
&lt;br&gt;&gt;&nbsp;structure&nbsp;for&nbsp;whatever&nbsp;type&nbsp;of&nbsp;ACL&nbsp;is&nbsp;being&nbsp;loaded.&nbsp;That&nbsp;is&nbsp;part&nbsp;of&nbsp;why<br>
&lt;br&gt;&gt;&nbsp;its&nbsp;so&nbsp;much&nbsp;slowe&nbsp;to&nbsp;load&nbsp;than&nbsp;the&nbsp;helpers&nbsp;(which&nbsp;generally&nbsp;do&nbsp;as&nbsp;you<br>
&lt;br&gt;&gt;&nbsp;describe).<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;The&nbsp;optimizations&nbsp;are&nbsp;type&nbsp;dependent&nbsp;and&nbsp;fairly&nbsp;simplistic.&nbsp;Ignoring<br>
&lt;br&gt;&gt;&nbsp;duplicate&nbsp;entries,&nbsp;catenating&nbsp;regex&nbsp;into&nbsp;bigger&nbsp;&quot;&nbsp;A|B&nbsp;&quot;&nbsp;patterns&nbsp;(faster<br>
&lt;br&gt;&gt;&nbsp;to&nbsp;check&nbsp;against),&nbsp;etc.<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;Amos<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;_______________________________________________<br>
&lt;br&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list<br>
&lt;br&gt;&gt;&nbsp;squid-users@lists.squid-cache.org<br>
&lt;br&gt;&gt;&nbsp;http://lists.squid-cache.org/listinfo/squid-users<br>
&lt;br&gt;<br>
&lt;br&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;iQEcBAEBCAAGBQJX7kq8AAoJENNXIZxhPexGH+cH/jmZsQlcZgXpwt62pHDtHp4t<br>
&lt;br&gt;TWDnhr5KOfHv+GFeBUmJYuD2nn8wefb5KUUhea5fdpRAeDihFDQDPQDwAnaC/E5q<br>
&lt;br&gt;FzE68zh+nF13xVwTW9/5mQhK75G17mOGJPGFPn1ZUC3lf/Q2JCOhWB+0MFilXXcQ<br>
&lt;br&gt;/ptCeQII/E8oXaiBOvHPzasOp6eDnu/m51q0DnkfoUceEWap9W0rY/vKxwL32FI9<br>
&lt;br&gt;fjqoZGGBPt3FDczjb8/9X6trqeGBwUl4PKSTE4JSdyU6z52evaCSsVbEgAmw+LjI<br>
&lt;br&gt;ELCBPOuU7buFxNjCSNLVhDNQeZJFJxPV8Oh/OcDQZQDhdUYliEwRke5Sz+Rz37k=<br>
&lt;br&gt;=hFD2<br>
&lt;br&gt;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;squid-users@lists.squid-cache.org&lt;br&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;&lt;/div&gt;
</tt>
