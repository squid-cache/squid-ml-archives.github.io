<tt>
&lt;div&nbsp;id=&quot;__MailbirdStyleContent&quot;&nbsp;style=&quot;font-size:&nbsp;10pt;font-family:&nbsp;arial;color:&nbsp;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hi&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;now&nbsp;opened&nbsp;the&nbsp;Pandora&nbsp;box&nbsp;of&nbsp;writing&nbsp;my&nbsp;own&nbsp;helper&nbsp;as&nbsp;per&nbsp;Bobs&nbsp;suggestion.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;playing&nbsp;with&nbsp;the&nbsp;idea&nbsp;of&nbsp;pre-processing&nbsp;my&nbsp;acl&nbsp;lists&nbsp;and&nbsp;using&nbsp;memcached&nbsp;as&nbsp;a&nbsp;KV&nbsp;store.&nbsp;This&nbsp;way&nbsp;I&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;update&nbsp;ACL&nbsp;members&nbsp;whilst&nbsp;keeping&nbsp;everything&nbsp;as&nbsp;available&nbsp;as&nbsp;possible.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;update&nbsp;the&nbsp;acl&nbsp;members&nbsp;outside&nbsp;of&nbsp;squid&nbsp;so&nbsp;it&nbsp;should&nbsp;be&nbsp;fast,&nbsp;and&nbsp;if&nbsp;I&nbsp;get&nbsp;my&nbsp;tree&nbsp;model&nbsp;right,&nbsp;fast&nbsp;and&nbsp;scale&nbsp;well&nbsp;too.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;had&nbsp;great&nbsp;success&nbsp;with&nbsp;Memcache&nbsp;on&nbsp;various&nbsp;large&nbsp;web&nbsp;applications&nbsp;so&nbsp;again,&nbsp;pending&nbsp;a&nbsp;clever&nbsp;tree&nbsp;algorithm,&nbsp;this&nbsp;could&nbsp;provide&nbsp;me&nbsp;with&nbsp;what&nbsp;I&nbsp;need&nbsp;without&nbsp;having&nbsp;to&nbsp;reload&nbsp;/&nbsp;restart&nbsp;squid.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Darren&nbsp;B.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;mb_sig&quot;&gt;Sent&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.getmailbird.com/?utm_source=Mailbird&amp;utm_medium=email&amp;utm_campaign=sent-from-mailbird&quot;&nbsp;target=&quot;_blank&quot;&gt;Mailbird&lt;/a&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;history_container&quot;&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:&nbsp;solid;border-width:&nbsp;1px;margin-top:&nbsp;20px;margin-left:&nbsp;0px;padding-left:&nbsp;10px;min-width:&nbsp;500px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#AAAAAA;&nbsp;margin-top:&nbsp;10px;&quot;&gt;On&nbsp;2/10/2016&nbsp;12:15:52&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;wrote:&lt;/p&gt;On&nbsp;2/10/2016&nbsp;2:08&nbsp;p.m.,&nbsp;Benjamin&nbsp;E.&nbsp;Nichols&nbsp;wrote:&lt;br&gt;&gt;&nbsp;I&nbsp;wouldnt&nbsp;advise&nbsp;reconfigure&nbsp;for&nbsp;when&nbsp;you&nbsp;update&nbsp;your&nbsp;blacklists,&nbsp;sure&lt;br&gt;&gt;&nbsp;it&nbsp;sounds&nbsp;great,&nbsp;but&nbsp;in&nbsp;reality,&nbsp;as&nbsp;I&nbsp;said,&nbsp;in&nbsp;my&nbsp;experience,&nbsp;only&lt;br&gt;&gt;&nbsp;sometimes&nbsp;will&nbsp;it&nbsp;actually&nbsp;reload&nbsp;the&nbsp;acl&nbsp;from&nbsp;disk,&nbsp;sometimes&nbsp;it&nbsp;wont.&nbsp;&lt;br&gt;&gt;&nbsp;Youll&nbsp;do&nbsp;a&nbsp;reconfigure&nbsp;and&nbsp;discover&nbsp;your&nbsp;squid&nbsp;is&nbsp;still&nbsp;running&nbsp;the&nbsp;old&lt;br&gt;&gt;&nbsp;acls&nbsp;which&nbsp;presumably&nbsp;are&nbsp;memory&nbsp;resident,&nbsp;now&nbsp;this&nbsp;may&nbsp;have&nbsp;been&nbsp;a&nbsp;bug&lt;br&gt;&gt;&nbsp;thats&nbsp;been&nbsp;since&nbsp;fixed,&nbsp;but&nbsp;Im&nbsp;not&nbsp;messing&nbsp;with&nbsp;it.&nbsp;&nbsp;In&nbsp;our&nbsp;testig&lt;br&gt;&gt;&nbsp;environment&nbsp;we&nbsp;dont&nbsp;have&nbsp;time&nbsp;to&nbsp;be&nbsp;dealing&nbsp;with&nbsp;squid&nbsp;deciding&nbsp;to&nbsp;load&lt;br&gt;&gt;&nbsp;an&nbsp;acl&nbsp;from&nbsp;disk&nbsp;when&nbsp;it&nbsp;feels&nbsp;like&nbsp;it&nbsp;should&nbsp;do&nbsp;so,&nbsp;we&nbsp;need&nbsp;it&nbsp;to&nbsp;load&lt;br&gt;&gt;&nbsp;from&nbsp;disk&nbsp;every&nbsp;time.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Once&nbsp;you&nbsp;do&nbsp;your&nbsp;own&nbsp;testing&nbsp;youll&nbsp;see&nbsp;what&nbsp;im&nbsp;talking&nbsp;about,&nbsp;go&nbsp;ahead&lt;br&gt;&gt;&nbsp;and&nbsp;add&nbsp;some&nbsp;urls&nbsp;to&nbsp;your&nbsp;acl&nbsp;and&nbsp;-k&nbsp;reconfigure,&nbsp;do&nbsp;this&nbsp;a&nbsp;few&nbsp;times,&lt;br&gt;&lt;br&gt;So&nbsp;you&nbsp;are&nbsp;sening&nbsp;Squid&nbsp;a&nbsp;series&nbsp;of&nbsp;reload&nbsp;signals&nbsp;so&nbsp;fast&nbsp;it&nbsp;does&nbsp;not&lt;br&gt;have&nbsp;time&nbsp;to&nbsp;complete&nbsp;one&nbsp;before&nbsp;the&nbsp;next&nbsp;is&nbsp;arriving?&lt;br&gt;&lt;br&gt;There&nbsp;are&nbsp;many&nbsp;fixes&nbsp;in&nbsp;Squid-4&nbsp;and&nbsp;latest&nbsp;3.5&nbsp;for&nbsp;those&nbsp;situations.&nbsp;But&lt;br&gt;still&nbsp;some&nbsp;open&nbsp;bug&nbsp;reports&nbsp;about&nbsp;the&nbsp;behaviour&nbsp;there.&nbsp;Those&nbsp;are&nbsp;not&lt;br&gt;related&nbsp;to&nbsp;ACLs&nbsp;specifically.&nbsp;Any&nbsp;reconfig&nbsp;task&nbsp;that&nbsp;takes&nbsp;longer&nbsp;than&lt;br&gt;the&nbsp;time&nbsp;between&nbsp;-k&nbsp;reconfigure&nbsp;signals&nbsp;being&nbsp;sent&nbsp;will&nbsp;trigger&nbsp;issues.&lt;br&gt;&lt;br&gt;...&nbsp;Ironically&nbsp;using&nbsp;a&nbsp;helper&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;things&nbsp;which&nbsp;breaks.&nbsp;Squid&lt;br&gt;looses&nbsp;track&nbsp;of&nbsp;whether&nbsp;any&nbsp;given&nbsp;new&nbsp;helper&nbsp;being&nbsp;started&nbsp;was&nbsp;for&nbsp;the&lt;br&gt;current&nbsp;or&nbsp;previous&nbsp;-k&nbsp;reconfigure&nbsp;signal.&lt;br&gt;&lt;br&gt;And&nbsp;of&nbsp;course&nbsp;connections&nbsp;and&nbsp;transactions&nbsp;which&nbsp;are&nbsp;already&nbsp;underway&lt;br&gt;are&nbsp;not&nbsp;affected&nbsp;by&nbsp;newly&nbsp;loaded&nbsp;config&nbsp;details.&lt;br&gt;&lt;br&gt;Amos&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;squid-users@lists.squid-cache.org&lt;br&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;&lt;/div&gt;
</tt>
