<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;On&nbsp;Mon,&nbsp;2016-10-03&nbsp;at&nbsp;11:33&nbsp;-0600,&nbsp;Alex&nbsp;Rousskov&nbsp;wrote:&lt;/div&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&lt;pre&gt;On&nbsp;10/03/2016&nbsp;04:50&nbsp;AM,&nbsp;Jasper&nbsp;Van&nbsp;Der&nbsp;Westhuizen&nbsp;wrote:<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
This&nbsp;morning&nbsp;I&nbsp;had&nbsp;some&nbsp;problems&nbsp;with&nbsp;some&nbsp;of&nbsp;our&nbsp;proxies.&nbsp;2&nbsp;Proxies&nbsp;in<br>
cluster&nbsp;A&nbsp;crashed&nbsp;with&nbsp;the&nbsp;below&nbsp;errors.&nbsp;The&nbsp;shortly&nbsp;afterwards&nbsp;4&nbsp;in<br>
cluster&nbsp;B&nbsp;did&nbsp;the&nbsp;same.&nbsp;Both&nbsp;clusters&nbsp;are&nbsp;configured&nbsp;to&nbsp;run&nbsp;their&nbsp;cache<br>
in&nbsp;memory&nbsp;with&nbsp;SMP&nbsp;and&nbsp;4&nbsp;workers&nbsp;configured.<br>
<br>
FATAL:&nbsp;Received&nbsp;Bus&nbsp;Error...dying.<br>
&lt;/blockquote&gt;<br>
<br>
<br>
There&nbsp;are&nbsp;at&nbsp;least&nbsp;two&nbsp;possible&nbsp;reasons:<br>
<br>
&nbsp;&nbsp;1.&nbsp;A&nbsp;bug&nbsp;in&nbsp;Squid&nbsp;and<br>
&nbsp;&nbsp;2.&nbsp;Memory&nbsp;overallocation&nbsp;by&nbsp;the&nbsp;OS&nbsp;kernel.<br>
<br>
To&nbsp;fix&nbsp;the&nbsp;former,&nbsp;the&nbsp;developers&nbsp;will&nbsp;need&nbsp;a&nbsp;stack&nbsp;trace&nbsp;(at&nbsp;least).&nbsp;I<br>
recommend&nbsp;filing&nbsp;a&nbsp;bug&nbsp;report&nbsp;after&nbsp;getting&nbsp;that&nbsp;trace&nbsp;and&nbsp;excluding<br>
reason&nbsp;#2.&nbsp;Squid&nbsp;wiki&nbsp;and&nbsp;various&nbsp;system&nbsp;administration&nbsp;guides&nbsp;explain<br>
how&nbsp;to&nbsp;make&nbsp;Squid&nbsp;dump&nbsp;core&nbsp;files.<br>
<br>
To&nbsp;check&nbsp;for&nbsp;memory&nbsp;overallocation,&nbsp;you&nbsp;can&nbsp;temporary&nbsp;start&nbsp;Squid&nbsp;v4.0<br>
with&nbsp;&quot;shared_memory_locking&nbsp;on&quot;.&nbsp;Unfortunately,&nbsp;that&nbsp;squid.conf<br>
directive&nbsp;is&nbsp;not&nbsp;available&nbsp;in&nbsp;Squid&nbsp;v3.&nbsp;You&nbsp;may&nbsp;be&nbsp;able&nbsp;to&nbsp;emulate&nbsp;it<br>
using&nbsp;some&nbsp;OS-specific&nbsp;sysctl&nbsp;or&nbsp;environment&nbsp;variables,&nbsp;but&nbsp;doing&nbsp;so&nbsp;may<br>
be&nbsp;far&nbsp;from&nbsp;trivial,&nbsp;and&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;instructions.<br>
<br>
<br>
&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Thanks&nbsp;Alex.&nbsp;We&nbsp;have&nbsp;patched&nbsp;the&nbsp;servers&nbsp;to&nbsp;the&nbsp;latest&nbsp;and&nbsp;will&nbsp;monitor.&nbsp;If&nbsp;it&nbsp;happens&nbsp;again&nbsp;I&nbsp;will&nbsp;fill&nbsp;in&nbsp;a&nbsp;bug&nbsp;report&nbsp;and&nbsp;see&nbsp;where&nbsp;it&nbsp;takes&nbsp;us.&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Regards&lt;/div&gt;<br>
&lt;div&gt;Jasper&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;mc&nbsp;type=&quot;body&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;face=&quot;Arial;&quot;&nbsp;size=&quot;1&quot;&gt;Disclaimer:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.shopriteholdings.co.za/Pages/ShopriteE-mailDisclaimer.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.shopriteholdings.co.za/Pages/ShopriteE-mailDisclaimer.aspx&lt;/a&gt;<br>
&lt;/font&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
