<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA256&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;13.10.2016&nbsp;21:02,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;13.10.2016&nbsp;20:09,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;On&nbsp;14/10/2016&nbsp;2:46&nbsp;a.m.,&nbsp;Yuri&nbsp;Voinov&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;13.10.2016&nbsp;19:44,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;13.10.2016&nbsp;19:41,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;On&nbsp;14/10/2016&nbsp;1:38&nbsp;a.m.,&nbsp;Yuri&nbsp;Voinov&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;Hash:&nbsp;SHA256&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;Hi&nbsp;gents.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;I&nbsp;have&nbsp;very&nbsp;stupid&nbsp;question.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;Look&nbsp;at&nbsp;this&nbsp;access.log&nbsp;entry:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;1476236018.506    &nbsp;85&nbsp;192.168.100.103<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCP_MISS/304&nbsp;354&nbsp;GET&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/gzt/img/logo_footer.png&quot;&gt;https://www.gazeta.ru/nm2015/gzt/img/logo_footer.png&lt;/a&gt;&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;HIER_DIRECT/81.19.72.2&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;I'm&nbsp;see&nbsp;this:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://wiki.squid-cache.org/SquidFaq/SquidLogs#HTTP_status_codes&quot;&gt;http://wiki.squid-cache.org/SquidFaq/SquidLogs#HTTP_status_codes&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;Code&nbsp;304&nbsp;references&nbsp;to&nbsp;RFC&nbsp;2616.&nbsp;Ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opens&nbsp;it:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot;&gt;https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;The&nbsp;reference&nbsp;is&nbsp;outdated.&nbsp;Current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requirements&nbsp;are&nbsp;defined&nbsp;in&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;https://tools.ietf.org/html/rfc7232#section-4.1&quot;&gt;&lt;https://tools.ietf.org/html/rfc7232#section-4.1&gt;&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;According&nbsp;to&nbsp;RFC&nbsp;2616,&nbsp;it&nbsp;comes&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client's&nbsp;browser&nbsp;cache,&nbsp;make&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;revalidation,&nbsp;discover&nbsp;content&nbsp;no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed&nbsp;and&nbsp;return&nbsp;304&nbsp;code.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;So,&nbsp;it&nbsp;must&nbsp;means&nbsp;(exactly)&nbsp;CLIENT_HIT,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;No.&nbsp;Squid&nbsp;does&nbsp;not&nbsp;receive&nbsp;transactions&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;would&nbsp;match&nbsp;the&nbsp;meaning&nbsp;of&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;the&nbsp;tags&nbsp;CLIENT_HIT.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Ok.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;My&nbsp;question&nbsp;is:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;*Why&nbsp;Squid&nbsp;register&nbsp;this&nbsp;as&nbsp;TCP_MISS/304<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;access.log,&nbsp;when&nbsp;logically&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&gt;&nbsp;expect&nbsp;TCP_CLIENT_HIT/304?*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;MISS&nbsp;on&nbsp;the&nbsp;Squid&nbsp;cache.&nbsp;A&nbsp;304<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;the&nbsp;server&nbsp;delivered&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;the&nbsp;client.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Ok,&nbsp;304&nbsp;delivered.&nbsp;But&nbsp;content&nbsp;-&nbsp;not,&nbsp;right?&nbsp;So,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;is&nbsp;HIT&nbsp;-&nbsp;even&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Squid's&nbsp;hit,&nbsp;yes?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;In&nbsp;agreement&nbsp;with&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://tools.ietf.org/html/rfc7232#page-18&quot;&gt;https://tools.ietf.org/html/rfc7232#page-18&lt;/a&gt;):&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;Unknown&nbsp;without&nbsp;seeing&nbsp;the&nbsp;client&nbsp;request&nbsp;headers.&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;bit&nbsp;disagree.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;we&nbsp;seen&nbsp;TCP_MISS/200&nbsp;with&nbsp;reply&nbsp;size&nbsp;above&nbsp;headers&nbsp;size&nbsp;-&nbsp;we<br>
&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;be&nbsp;sure&nbsp;content&nbsp;tresspasses&nbsp;proxy&nbsp;first&nbsp;time&nbsp;and&nbsp;this&nbsp;is&nbsp;clean<br>
&nbsp;&nbsp;&nbsp;&nbsp;MISS.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;we&nbsp;seen&nbsp;??????/304&nbsp;with&nbsp;only&nbsp;headers&nbsp;-&nbsp;most&nbsp;probably&nbsp;content<br>
&nbsp;&nbsp;&nbsp;&nbsp;behind&nbsp;proxy&nbsp;already&nbsp;and&nbsp;this&nbsp;is&nbsp;CLIENT_IMS_HIT&nbsp;observed.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Yes,&nbsp;of&nbsp;course,&nbsp;we&nbsp;don't&nbsp;know&nbsp;is&nbsp;this&nbsp;content&nbsp;really&nbsp;in&nbsp;client<br>
&nbsp;&nbsp;&nbsp;&nbsp;cache.&nbsp;But&nbsp;this&nbsp;is&nbsp;don't&nbsp;care&nbsp;-&nbsp;proxy&nbsp;shared&nbsp;cache&nbsp;contains&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;modified&nbsp;copy&nbsp;of&nbsp;content.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Right?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;There&nbsp;might&nbsp;be&nbsp;no&nbsp;content&nbsp;in&nbsp;Squid&nbsp;cache&nbsp;at&nbsp;the&nbsp;start,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;due&nbsp;to&nbsp;304&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;not&nbsp;providing&nbsp;a&nbsp;payload&nbsp;none&nbsp;at&nbsp;the&nbsp;end&nbsp;either.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;In&nbsp;given&nbsp;example&nbsp;I&nbsp;know&nbsp;exactly&nbsp;content&nbsp;already&nbsp;in&nbsp;client<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Squid's&nbsp;too.&nbsp;This&nbsp;record&nbsp;occurs&nbsp;due&nbsp;to&nbsp;web-page,&nbsp;contains<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto-refresh&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;code/pragma.&nbsp;And&nbsp;does&nbsp;periodically&nbsp;refresh.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Well,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;make&nbsp;this&nbsp;known?&nbsp;We're&nbsp;on&nbsp;proxy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;between&nbsp;client&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;and&nbsp;web-server.&nbsp;So,&nbsp;it&nbsp;can&nbsp;be&nbsp;easy&nbsp;-&nbsp;сode&nbsp;304&nbsp;is&nbsp;immediately<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;reload/refresh&nbsp;query&nbsp;by&nbsp;the&nbsp;same&nbsp;client.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;It&nbsp;is&nbsp;not&nbsp;possible&nbsp;to&nbsp;pre-remember&nbsp;that&nbsp;it&nbsp;sent&nbsp;the&nbsp;client&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;header&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;-&nbsp;or&nbsp;a&nbsp;request&nbsp;for&nbsp;an&nbsp;update&nbsp;-&nbsp;and&nbsp;create&nbsp;the&nbsp;correct&nbsp;tag?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;not&nbsp;on&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;the&nbsp;principle&nbsp;of&nbsp;&quot;We&nbsp;broke&nbsp;to&nbsp;determine&nbsp;that&nbsp;it&nbsp;is&nbsp;-&nbsp;so&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;log&nbsp;this&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;as&nbsp;TCP_MISS.&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;It&nbsp;seems&nbsp;to&nbsp;me,&nbsp;such&nbsp;behavior&nbsp;would&nbsp;be&nbsp;more&nbsp;appropriate,&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;more&nbsp;than&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;would&nbsp;be&nbsp;consistent&nbsp;with&nbsp;RFC.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Right?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;It&nbsp;might&nbsp;be&nbsp;a&nbsp;CLIENT_IMS_UNMODIFIED&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLIENT_INM_UNMODIFIED&nbsp;if&nbsp;Squid&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;had&nbsp;codes&nbsp;for&nbsp;those&nbsp;cases.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Ok,&nbsp;Squid&nbsp;has?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;Squid&nbsp;has&nbsp;TCP_MISS&nbsp;tag,&nbsp;which&nbsp;is&nbsp;used&nbsp;for&nbsp;unknown<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;situations&nbsp;where&nbsp;a&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;server&nbsp;was&nbsp;involved.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;Amos&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBCAAGBQJX/8nBAAoJENNXIZxhPexG6O4H/RSPqYtUJc/c13sENtup86gH<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;5tg3n1QeU5xLOF0k+osexcvAwf/McuFux4aVN92yJw6F2A3PvQSksdDSo0PVNNZZ<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;tHQAotiqdxf2NvwU+ZTP91UxYpl8UhNBtWYanWLsrH4taTPznKYmvCQ/TNwTWFqB<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;R9Wa8KTN1OqX7AK3uRYiCdhzjO/+wwg9p+1RA+YaVNJGBuA/Gp2ANXkeZsgZK4Nn<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;pDfmGP/Jg2TmaRgnPe8U4bZnkYzLcoOaIy/ytM8ePxJiVlHyEBMohjrfZUN6/Nez<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;9GwwA3mRl5MH8DsDz8Ro/7D5DHirnVzfWdGBMFzk12kL/SF7uR/XjvRyohAqtps=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=mIPv<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
