<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA256&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;bit&nbsp;more&nbsp;details.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;4&nbsp;transactions&nbsp;in&nbsp;chronological&nbsp;order.&nbsp;Two&nbsp;from&nbsp;wget&nbsp;-S&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;two&nbsp;from&nbsp;same&nbsp;PC&nbsp;via&nbsp;browser&nbsp;for&nbsp;the&nbsp;same&nbsp;URL:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*root&nbsp;@&nbsp;khorne&nbsp;/tmp&nbsp;#&nbsp;wget&nbsp;-S<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.gazeta.ru/nm2015/js/gazeta.media.query.js*&quot;&gt;http://www.gazeta.ru/nm2015/js/gazeta.media.query.js*&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;--2016-10-14&nbsp;17:18:05-- <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;http://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Connecting&nbsp;to&nbsp;127.0.0.1:3128...&nbsp;connected.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Proxy&nbsp;request&nbsp;sent,&nbsp;awaiting&nbsp;response...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;HTTP/1.1&nbsp;301&nbsp;Moved&nbsp;Permanently&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Server:&nbsp;nginx&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Date:&nbsp;Fri,&nbsp;14&nbsp;Oct&nbsp;2016&nbsp;11:18:07&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Content-Type:&nbsp;text/html&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Content-Length:&nbsp;178&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Location:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;khorne&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;khorne:3128&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Connection:&nbsp;keep-alive&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Location:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[following]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;--2016-10-14&nbsp;17:18:07-- <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Connecting&nbsp;to&nbsp;127.0.0.1:3128...&nbsp;connected.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Proxy&nbsp;request&nbsp;sent,&nbsp;awaiting&nbsp;response...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Server:&nbsp;nginx&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Date:&nbsp;Fri,&nbsp;14&nbsp;Oct&nbsp;2016&nbsp;10:45:57&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Content-Type:&nbsp;application/javascript;&nbsp;charset=windows-1251&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Last-Modified:&nbsp;Fri,&nbsp;30&nbsp;Oct&nbsp;2015&nbsp;12:33:38&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ETag:&nbsp;W/&quot;cdf370-758-52351a306ac80&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Cache-Control:&nbsp;max-age=3600&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Expires:&nbsp;Fri,&nbsp;14&nbsp;Oct&nbsp;2016&nbsp;11:45:57&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Access-Control-Allow-Origin:&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Age:&nbsp;1930&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache:&nbsp;HIT&nbsp;from&nbsp;khorne&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache-Lookup:&nbsp;HIT&nbsp;from&nbsp;khorne:3128&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Transfer-Encoding:&nbsp;chunked&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Connection:&nbsp;keep-alive&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Length:&nbsp;unspecified&nbsp;[application/javascript]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Saving&nbsp;to:&nbsp;'gazeta.media.query.js'&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;gazeta.media.query.    &nbsp;[&nbsp;&lt;=&gt;              &nbsp;]  &nbsp;1.84K <br>
&nbsp;&nbsp;&nbsp;&nbsp;--.-KB/s   &nbsp;in&nbsp;0s   &nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;2016-10-14&nbsp;17:18:07&nbsp;(138&nbsp;MB/s)&nbsp;-&nbsp;'gazeta.media.query.js'&nbsp;saved<br>
&nbsp;&nbsp;&nbsp;&nbsp;[1880]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/HTTP&nbsp;object&nbsp;in&nbsp;cache&nbsp;and&nbsp;HIT./&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;**root&nbsp;@&nbsp;khorne&nbsp;/tmp&nbsp;#&nbsp;wget&nbsp;-S<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js*&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js*&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;--2016-10-14&nbsp;17:18:30-- <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Connecting&nbsp;to&nbsp;127.0.0.1:3128...&nbsp;connected.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Proxy&nbsp;request&nbsp;sent,&nbsp;awaiting&nbsp;response...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Server:&nbsp;nginx&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Date:&nbsp;Fri,&nbsp;14&nbsp;Oct&nbsp;2016&nbsp;10:45:57&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Content-Type:&nbsp;application/javascript;&nbsp;charset=windows-1251&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Last-Modified:&nbsp;Fri,&nbsp;30&nbsp;Oct&nbsp;2015&nbsp;12:33:38&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ETag:&nbsp;W/&quot;cdf370-758-52351a306ac80&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Cache-Control:&nbsp;max-age=3600&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Expires:&nbsp;Fri,&nbsp;14&nbsp;Oct&nbsp;2016&nbsp;11:45:57&nbsp;GMT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Access-Control-Allow-Origin:&nbsp;*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Age:&nbsp;1953&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache:&nbsp;HIT&nbsp;from&nbsp;khorne&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;X-Cache-Lookup:&nbsp;HIT&nbsp;from&nbsp;khorne:3128&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Transfer-Encoding:&nbsp;chunked&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Connection:&nbsp;keep-alive&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Length:&nbsp;unspecified&nbsp;[application/javascript]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Saving&nbsp;to:&nbsp;'gazeta.media.query.js.1'&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;gazeta.media.query.    &nbsp;[&nbsp;&lt;=&gt;              &nbsp;]  &nbsp;1.84K <br>
&nbsp;&nbsp;&nbsp;&nbsp;--.-KB/s   &nbsp;in&nbsp;0s   &nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;2016-10-14&nbsp;17:18:30&nbsp;(120&nbsp;MB/s)&nbsp;-&nbsp;'gazeta.media.query.js.1'&nbsp;saved<br>
&nbsp;&nbsp;&nbsp;&nbsp;[1880]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/HTTPS&nbsp;object&nbsp;in&nbsp;cache&nbsp;and&nbsp;HIT&nbsp;too./&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;ok.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*Ctrl+F5&nbsp;(force&nbsp;reload)&nbsp;from&nbsp;browser:*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;1476443947.419    &nbsp;92&nbsp;192.168.100.103&nbsp;TCP_MISS/200&nbsp;2323&nbsp;GET<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;HIER_DIRECT/81.19.72.0&nbsp;application/javascript&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;MISS&nbsp;-&nbsp;it&nbsp;is&nbsp;ok&nbsp;too,&nbsp;client&nbsp;browser&nbsp;sends&nbsp;no-cache.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;At&nbsp;this&nbsp;point&nbsp;we&nbsp;sure&nbsp;object&nbsp;in&nbsp;cache,&nbsp;right?&nbsp;Both&nbsp;in&nbsp;proxy&nbsp;cache<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;in&nbsp;client&nbsp;cache&nbsp;(client&nbsp;is&nbsp;the&nbsp;same&nbsp;in&nbsp;attempt&nbsp;3&nbsp;and&nbsp;4).&nbsp;Now&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;refresh&nbsp;from&nbsp;browser&nbsp;on&nbsp;the&nbsp;same&nbsp;page&nbsp;(same&nbsp;session),&nbsp;which&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;equivalent&nbsp;of&nbsp;page&nbsp;auto-refresh.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*F5&nbsp;(refresh)&nbsp;from&nbsp;the&nbsp;same&nbsp;browser:*&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;1476443997.252    &nbsp;96&nbsp;192.168.100.103&nbsp;TCP_MISS/304&nbsp;353&nbsp;GET<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&quot;&gt;https://www.gazeta.ru/nm2015/js/gazeta.media.query.js&lt;/a&gt;&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;HIER_DIRECT/81.19.72.0&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Here&nbsp;is&nbsp;it.&nbsp;Object&nbsp;in&nbsp;proxy&nbsp;cache,&nbsp;in&nbsp;client&nbsp;cache,&nbsp;revalidation&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;ok&nbsp;-&nbsp;object&nbsp;not&nbsp;changed.&nbsp;It&nbsp;must&nbsp;be&nbsp;TCP_REFRESH_UNMODIFIED,&nbsp;and&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;tag&nbsp;we've&nbsp;got&nbsp;with&nbsp;HTTP&nbsp;object&nbsp;via&nbsp;browser.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/But&nbsp;shit!&nbsp;HTTPS&nbsp;goes&nbsp;TCP_MISS/304!&nbsp;We're&nbsp;expected&nbsp;to&nbsp;get<br>
&nbsp;&nbsp;&nbsp;&nbsp;TCP_REFRESH_UNMODIFIED/304!&nbsp;Because&nbsp;this&nbsp;is&nbsp;refresh&nbsp;operation,&nbsp;we're<br>
&nbsp;&nbsp;&nbsp;&nbsp;sure&nbsp;object&nbsp;in&nbsp;both&nbsp;caches&nbsp;-&nbsp;proxy&nbsp;and&nbsp;client,&nbsp;revalidation&nbsp;is&nbsp;ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;this&nbsp;marks&nbsp;as&nbsp;MISS./&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Why&nbsp;HTTP&nbsp;refresh&nbsp;goes&nbsp;with&nbsp;TCP_REFRESH_UNMODIFIED,&nbsp;and&nbsp;the&nbsp;same<br>
&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;via&nbsp;HTTPS&nbsp;goes&nbsp;with&nbsp;TCP_MISS?&nbsp;As&nbsp;shown&nbsp;above,&nbsp;object&nbsp;has&nbsp;no<br>
&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;preventing&nbsp;caching.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Is&nbsp;it&nbsp;bug&nbsp;or&nbsp;feature?&nbsp;Because&nbsp;of,&nbsp;when&nbsp;site&nbsp;goes&nbsp;under&nbsp;HTTPS,&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;has&nbsp;lower&nbsp;hit&nbsp;with&nbsp;the&nbsp;same&nbsp;content.&nbsp;It&nbsp;seems&nbsp;wrong.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note:&nbsp;This&nbsp;is&nbsp;news&nbsp;site.&nbsp;There&nbsp;is&nbsp;no&nbsp;private&nbsp;headers&nbsp;or&nbsp;any&nbsp;other<br>
&nbsp;&nbsp;&nbsp;&nbsp;cache-preventing&nbsp;headers.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;14.10.2016&nbsp;15:57,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;It&nbsp;seems&nbsp;I&nbsp;found&nbsp;the&nbsp;root&nbsp;of&nbsp;problem.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;When&nbsp;cached&nbsp;object&nbsp;refreshed&nbsp;and&nbsp;goes&nbsp;via&nbsp;HTTP,&nbsp;it&nbsp;gives<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCP_REFRESH_UNMODIFIED&nbsp;in&nbsp;access.log,&nbsp;which&nbsp;is&nbsp;correct.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;When&nbsp;the&nbsp;_same_&nbsp;_cached_&nbsp;_object_&nbsp;refreshes&nbsp;and&nbsp;goes&nbsp;via<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTTPS,&nbsp;it&nbsp;gives&nbsp;TCP_MISS/304&nbsp;in&nbsp;access.log,&nbsp;and&nbsp;this&nbsp;is&nbsp;wrong.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;It&nbsp;seems&nbsp;like&nbsp;bug.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;14.10.2016&nbsp;3:44,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;14.10.2016&nbsp;2:48,&nbsp;Alex&nbsp;Rousskov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;On&nbsp;10/13/2016&nbsp;01:44&nbsp;PM,&nbsp;Yuri&nbsp;Voinov&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;However,&nbsp;this&nbsp;is&nbsp;nothing&nbsp;more&nbsp;than&nbsp;word<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;games,&nbsp;Alex.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;...&nbsp;unless&nbsp;the&nbsp;definition&nbsp;of&nbsp;a&nbsp;hit&nbsp;affects<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;your&nbsp;billing&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;or&nbsp;your&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;interpretation&nbsp;of&nbsp;Squid&nbsp;documentation&nbsp;or&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;developer&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;interpretation&nbsp;of&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;the&nbsp;code.&nbsp;Definitions&nbsp;matter!&nbsp;You&nbsp;yourself<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;seen&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;their&nbsp;importance&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;when&nbsp;you&nbsp;showed&nbsp;your&nbsp;excellent&nbsp;byte&nbsp;hit&nbsp;ratio<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;but&nbsp;folks&nbsp;were&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;looking&nbsp;at&nbsp;the&nbsp;ordinary&nbsp;document&nbsp;hit&nbsp;ratio<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;instead.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Sure.&nbsp;But&nbsp;difference&nbsp;with&nbsp;TCP_HIT&nbsp;itself&nbsp;and&nbsp;byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hit&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;obvious.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;The&nbsp;question&nbsp;is&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;can&nbsp;we&nbsp;more&nbsp;or&nbsp;less&nbsp;significant<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differences&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;known&nbsp;what&nbsp;hit&nbsp;proxy&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;code&nbsp;level&nbsp;and&nbsp;/&nbsp;or&nbsp;transactions&nbsp;which,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obviously,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;on&nbsp;the&nbsp;proxy&nbsp;level,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;we&nbsp;can&nbsp;see&nbsp;in&nbsp;its&nbsp;entirety.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;Sorry,&nbsp;I&nbsp;do&nbsp;not&nbsp;understand&nbsp;the&nbsp;question.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;say&nbsp;that&nbsp;on&nbsp;the&nbsp;proxy&nbsp;level,&nbsp;seeing&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transaction&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;as&nbsp;a&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;whole,&nbsp;we&nbsp;are&nbsp;able&nbsp;to&nbsp;differentiate&nbsp;hit&nbsp;or&nbsp;his<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;likeness&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;all&nbsp;other&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;transactions.&nbsp;We&nbsp;see&nbsp;the&nbsp;whole&nbsp;session&nbsp;in&nbsp;its<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entirety.&nbsp;We&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;see&nbsp;repeated&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;queries&nbsp;of&nbsp;the&nbsp;same&nbsp;client&nbsp;to&nbsp;the&nbsp;same&nbsp;resource.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Accordingly,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;we&nbsp;can&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;quite&nbsp;clearly&nbsp;be&nbsp;judged&nbsp;by&nbsp;the&nbsp;behavior&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;header&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;the&nbsp;client&nbsp;or&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;server&nbsp;that&nbsp;is&nbsp;happening.&nbsp;Correctly?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Specifically,&nbsp;in&nbsp;this&nbsp;particular&nbsp;case.&nbsp;Proxy&nbsp;IMS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;enabled:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;refresh_all_ims&nbsp;on&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;reload_into_ims&nbsp;on&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;On&nbsp;web-page&nbsp;level&nbsp;we&nbsp;have:&nbsp;periodically<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reload/refresh&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;directive,&nbsp;which&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;is&nbsp;forces&nbsp;to&nbsp;check&nbsp;(after&nbsp;initially&nbsp;store&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared&nbsp;cache)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;freshness&nbsp;of&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;content.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;In&nbsp;this&nbsp;situation&nbsp;(and&nbsp;I've&nbsp;checked&nbsp;this&nbsp;web-page<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elements&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;stored&nbsp;in&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;cache)&nbsp;TCP_MISS/304&nbsp;means&nbsp;TCP_REFRESH_UNMODIFIED.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;So,&nbsp;this&nbsp;is&nbsp;HIT&nbsp;exactly.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;I'm&nbsp;not&nbsp;saying&nbsp;-&nbsp;literally.&nbsp;And&nbsp;in&nbsp;fact.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Correctly?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Unfortunately,&nbsp;there&nbsp;are&nbsp;too&nbsp;many<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;definitions&nbsp;of&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;a&nbsp;&quot;hit&quot;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;There&nbsp;is&nbsp;no&nbsp;many&nbsp;definitions&nbsp;of&nbsp;hit.&nbsp;We<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;talking&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;about&nbsp;the&nbsp;caching&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;proxy,&nbsp;which&nbsp;is&nbsp;basically&nbsp;no&nbsp;different<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;all&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;other&nbsp;caches,&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;subject&nbsp;to&nbsp;the&nbsp;same&nbsp;rules.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;You&nbsp;are&nbsp;oversimplifying&nbsp;a&nbsp;complex&nbsp;subject<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matter.&nbsp;If&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;Squid&nbsp;delivers&nbsp;a&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;single&nbsp;response&nbsp;comprising&nbsp;1000&nbsp;bytes&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;cache&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;10&nbsp;bytes&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;the&nbsp;origin&nbsp;server,&nbsp;is&nbsp;that&nbsp;a&nbsp;hit&nbsp;or&nbsp;a&nbsp;miss?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;Squid&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;delivers&nbsp;the&nbsp;entire&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;response&nbsp;from&nbsp;the&nbsp;cache&nbsp;but&nbsp;spends&nbsp;10&nbsp;minutes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;talking&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;the&nbsp;origin&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;server&nbsp;about&nbsp;that&nbsp;object&nbsp;first,&nbsp;is&nbsp;that&nbsp;a&nbsp;hit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;a&nbsp;miss?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;Different&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;people&nbsp;will&nbsp;give&nbsp;you&nbsp;different&nbsp;answers&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;those&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;questions.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;10&nbsp;minutes&nbsp;a&nbsp;bit&nbsp;above&nbsp;TCP&nbsp;timeout&nbsp;and&nbsp;will&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aborted,&nbsp;I&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;think.&nbsp;So,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Squid's&nbsp;write&nbsp;TCP_MISS_ABORTED&nbsp;in&nbsp;access.log.&nbsp;:)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;We&nbsp;have&nbsp;[poorly&nbsp;defined]&nbsp;byte&nbsp;hits,&nbsp;document<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hits,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;revalidation&nbsp;hits,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;stale&nbsp;hits,&nbsp;partial&nbsp;hits,&nbsp;etc.,&nbsp;etc.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;What&nbsp;yes&nbsp;-&nbsp;yes.&nbsp;The&nbsp;documentation&nbsp;is&nbsp;the&nbsp;problem.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;If&nbsp;the&nbsp;first&nbsp;access&nbsp;does&nbsp;not&nbsp;find&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;in&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;cache,&nbsp;it&nbsp;requests&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;from&nbsp;the&nbsp;network,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;yes&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;saves&nbsp;in&nbsp;the&nbsp;cache,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;or&nbsp;does&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Yes.&nbsp;May&nbsp;be&nbsp;or&nbsp;may&nbsp;be&nbsp;not.&nbsp;But&nbsp;in&nbsp;this&nbsp;case&nbsp;we<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;1)&nbsp;Know&nbsp;about&nbsp;transaction&nbsp;history&nbsp;and&nbsp;we&nbsp;know&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object(s)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;in&nbsp;cache.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;2)&nbsp;Proxy&nbsp;can&nbsp;easy&nbsp;check&nbsp;it,&nbsp;right?&nbsp;Just&nbsp;swap&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;disk&nbsp;in&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;memory.&nbsp;If&nbsp;this&nbsp;success,&nbsp;object&nbsp;in&nbsp;cache,&nbsp;so&nbsp;we<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;qualify&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;it&nbsp;as&nbsp;HIT.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Otherwise,&nbsp;exactly&nbsp;MISS.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;and&nbsp;re-treatment&nbsp;or&nbsp;gets&nbsp;a&nbsp;hit,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;or&nbsp;does&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;&quot;the&nbsp;object&nbsp;is&nbsp;not&nbsp;changed.&quot;&nbsp;Dot.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;or&nbsp;the&nbsp;Squid-cached&nbsp;object&nbsp;did&nbsp;not&nbsp;change&nbsp;but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;client-cached&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;did.&nbsp;Or&nbsp;vice&nbsp;versa.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Client-cached&nbsp;object&nbsp;gives&nbsp;from&nbsp;Squid.&nbsp;They<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ideally)&nbsp;must&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;not&nbsp;be&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;different.&nbsp;Client&nbsp;cache&nbsp;and&nbsp;squid's&nbsp;cache&nbsp;operates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;like&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;chain,&nbsp;one&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;source&nbsp;for&nbsp;another.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;If&nbsp;the&nbsp;time&nbsp;in&nbsp;the&nbsp;cache&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;object&nbsp;lifetime&nbsp;expires,&nbsp;or&nbsp;a&nbsp;lifetime&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;server&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;timed&nbsp;out&nbsp;-&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;object&nbsp;is&nbsp;requested&nbsp;again&nbsp;and&nbsp;a&nbsp;miss&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recorded.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;*&nbsp;Yes,&nbsp;if&nbsp;you&nbsp;define&nbsp;a&nbsp;miss&nbsp;as&nbsp;&quot;contact&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;origin&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;server&quot;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;add:&nbsp;&quot;contact&nbsp;with&nbsp;the&nbsp;origin&nbsp;server&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;content&quot;.&nbsp;Not&nbsp;for&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;revalidation&nbsp;purposes.&nbsp;If&nbsp;revalidation&nbsp;returns<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Object&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;changed&quot;&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;this&nbsp;is&nbsp;positive&nbsp;and&nbsp;must&nbsp;be&nbsp;qualified&nbsp;as&nbsp;HIT&nbsp;IMO.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;*&nbsp;No,&nbsp;if&nbsp;contact&nbsp;with&nbsp;the&nbsp;origin&nbsp;server&nbsp;is&nbsp;OK<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;a&nbsp;hit&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;as&nbsp;long&nbsp;as&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;server&nbsp;does&nbsp;not&nbsp;send&nbsp;the&nbsp;response&nbsp;_body_&nbsp;back<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;Squid.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;....&nbsp;when&nbsp;revalidation&nbsp;true&nbsp;-&nbsp;i.e.&nbsp;object&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared&nbsp;cache&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;stale,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;this&nbsp;is&nbsp;HIT.&nbsp;We're&nbsp;not&nbsp;interested&nbsp;in&nbsp;client<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;browser's&nbsp;cache&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;state.&nbsp;Only&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;shared&nbsp;cache&nbsp;matters.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;if&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;the&nbsp;proxy&nbsp;responds&nbsp;to&nbsp;the&nbsp;client&nbsp;&quot;has&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed&quot;,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;it&nbsp;means,&nbsp;in&nbsp;fact,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;that&nbsp;the&nbsp;client&nbsp;has&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;Yes.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;and&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;proxy&nbsp;object,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;The&nbsp;copy&nbsp;in&nbsp;the&nbsp;proxy&nbsp;cache&nbsp;may&nbsp;be&nbsp;different<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;copy&nbsp;in&nbsp;the&nbsp;client&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;cache&nbsp;or&nbsp;may&nbsp;not&nbsp;exist&nbsp;at&nbsp;all.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Yes.&nbsp;If&nbsp;object&nbsp;not&nbsp;exists&nbsp;in&nbsp;proxy&nbsp;-&nbsp;this&nbsp;is&nbsp;proxy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MISS.&nbsp;If&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;client&nbsp;cache&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;not&nbsp;contains&nbsp;object&nbsp;-&nbsp;client&nbsp;go&nbsp;to&nbsp;proxy&nbsp;and&nbsp;asks<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;about&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;object.&nbsp;Found&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;-&nbsp;excellent,&nbsp;for&nbsp;client&nbsp;this&nbsp;is&nbsp;MISS,&nbsp;for&nbsp;proxy&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HIT.&nbsp;If&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;proxy&nbsp;also&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;contains&nbsp;object&nbsp;-&nbsp;it&nbsp;will&nbsp;be&nbsp;MISS-MISS&nbsp;and&nbsp;loading<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;from&nbsp;origin.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;the&nbsp;proxy&nbsp;and&nbsp;responds&nbsp;to&nbsp;the&nbsp;client,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performing&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;REFRESH&nbsp;that&nbsp;the&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&gt;&nbsp;did&nbsp;not&nbsp;change.&nbsp;What&nbsp;is&nbsp;this,&nbsp;if&nbsp;not&nbsp;hit?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;Assuming&nbsp;the&nbsp;proxy&nbsp;asked&nbsp;the&nbsp;origin&nbsp;server<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whether&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;object&nbsp;in&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;client&nbsp;(or&nbsp;the&nbsp;proxy,&nbsp;depending&nbsp;on&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;circumstances)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;cache&nbsp;is&nbsp;fresh,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;for&nbsp;many,&nbsp;it&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;*&nbsp;a&nbsp;[document]&nbsp;miss&nbsp;(because&nbsp;there&nbsp;was&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;potentially&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;very&nbsp;slow&nbsp;contact&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;with&nbsp;the&nbsp;origin&nbsp;server)&nbsp;or&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;*&nbsp;a&nbsp;[byte]&nbsp;hit&nbsp;(because&nbsp;the&nbsp;response&nbsp;body<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;came&nbsp;from&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;Squid&nbsp;cache&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;not&nbsp;from&nbsp;the&nbsp;origin&nbsp;server).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;Resisting&nbsp;the&nbsp;existence&nbsp;of&nbsp;different&nbsp;valid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hit&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;definitions&nbsp;is&nbsp;futile&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;IMO.&nbsp;State&nbsp;what&nbsp;_your_&nbsp;definition&nbsp;is&nbsp;(be&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precise&nbsp;as&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;possible;&nbsp;this&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;may&nbsp;require&nbsp;several&nbsp;iterations)&nbsp;and&nbsp;then&nbsp;you<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;ask&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;whether&nbsp;a&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;particular&nbsp;transaction&nbsp;is&nbsp;a&nbsp;hit.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&gt;&nbsp;Alex.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;I&nbsp;agree&nbsp;that&nbsp;there&nbsp;are&nbsp;a&nbsp;number&nbsp;of&nbsp;boundary&nbsp;cases.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;However,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;in&nbsp;most&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;cases&nbsp;we&nbsp;are&nbsp;dealing&nbsp;with&nbsp;a&nbsp;relatively&nbsp;simple<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chain,&nbsp;which&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;should&nbsp;be&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;considered&nbsp;and,&nbsp;in&nbsp;my&nbsp;opinion.&nbsp;How&nbsp;is&nbsp;it&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regarded&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;revalidation&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;facilities&nbsp;and&nbsp;its&nbsp;results?&nbsp;If&nbsp;revalidation<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;confirms&nbsp;that&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;object&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;not&nbsp;stale&nbsp;and&nbsp;not&nbsp;expired&nbsp;-&nbsp;it's&nbsp;a&nbsp;hit,&nbsp;is&nbsp;not&nbsp;it?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;If&nbsp;revalidation&nbsp;fails&nbsp;-&nbsp;object&nbsp;stale/expired&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everything&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;clear&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;there&nbsp;is&nbsp;nothing&nbsp;to&nbsp;discuss.&nbsp;Definitely&nbsp;miss.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;Well,&nbsp;let's&nbsp;say&nbsp;we&nbsp;do&nbsp;not&nbsp;know&nbsp;and&nbsp;can&nbsp;not&nbsp;know<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;object&nbsp;in&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;client&nbsp;cache.&nbsp;Assume&nbsp;also&nbsp;that&nbsp;we&nbsp;do&nbsp;not&nbsp;want&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;whether&nbsp;this&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;object&nbsp;is&nbsp;in&nbsp;the&nbsp;cache&nbsp;proxy.&nbsp;Let&nbsp;us&nbsp;assume&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;do&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;want&nbsp;to&nbsp;spend&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;resources&nbsp;to&nbsp;figure&nbsp;out&nbsp;what&nbsp;happened&nbsp;to&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;in&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;future,&nbsp;in&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;client's&nbsp;browser,&nbsp;or&nbsp;on&nbsp;proxy's&nbsp;disk&nbsp;cache.&nbsp;Ok.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Is,&nbsp;in&nbsp;this&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;case,&nbsp;would&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;not&nbsp;be&nbsp;more&nbsp;correct&nbsp;to&nbsp;write&nbsp;in&nbsp;log&nbsp;TCP_NONE/304?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;In&nbsp;this&nbsp;case,&nbsp;we're&nbsp;talking&nbsp;directly&nbsp;-&nbsp;&quot;We&nbsp;do&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;know,&nbsp;hit&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;it&nbsp;or&nbsp;not.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;We&nbsp;only&nbsp;know&nbsp;that&nbsp;the&nbsp;object&nbsp;has&nbsp;not&nbsp;changed&nbsp;since<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;last&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;request/revalidation.&nbsp;We&nbsp;do&nbsp;not&nbsp;want&nbsp;to&nbsp;know,&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;can&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;interpret&nbsp;it&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;any&nbsp;way&nbsp;you&nbsp;like&quot;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt; &nbsp;It&nbsp;would&nbsp;be&nbsp;more&nbsp;correct,&nbsp;it&nbsp;seems&nbsp;to&nbsp;me,&nbsp;than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;just&nbsp;to&nbsp;say&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;&quot;TCP_MISS/304&nbsp;-&nbsp;This&nbsp;is&nbsp;a&nbsp;cache&nbsp;miss,&nbsp;whatever&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was&nbsp;not&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;really.&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;      &nbsp;&gt;&nbsp;WBR,&nbsp;Yuri&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBCAAGBQJYAMKnAAoJENNXIZxhPexGLz4H/RjDMSnsVTHDHpBqksSB28jd<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SbeNAv34cRd9ECGFb0kM1I7tYe4CdwBEbXWLMdDhYc4vW9AGq70Tc55d+CMl65BV<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;VW/vkVcDge6g4yJ1YHTZE+sb3djlTIkjurDUTo+VZ6LUXcly58IFR2DoFNTNtU6D<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;K0n5zfSKkYuw9TKr3tTp9hVyldDRHI3iSvBBsE70AM1iwdTTcLKg8P6i6q51MZEx<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SliuJ6gWT3o05guceGspSusBL5fRdU0twUpJhcXohI4oM0JafNmhV29CYhi4t3KU<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;OaCDraL8ntIHzIcLMHB74Mz0vGrHXojeot+bZ8crtpsumMt9BuUDg5HZTEj3KEU=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=4K9l<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
