<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hash:&nbsp;SHA256&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;final,&nbsp;I&nbsp;do&nbsp;not&nbsp;think&nbsp;Squid&nbsp;architecture&nbsp;is&nbsp;designed&nbsp;for&nbsp;fast<br>
&nbsp;&nbsp;&nbsp;&nbsp;access&nbsp;to&nbsp;huge&nbsp;amounts&nbsp;of&nbsp;memory.&nbsp;It&nbsp;came&nbsp;from&nbsp;a&nbsp;time&nbsp;when&nbsp;computers<br>
&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;young,&nbsp;memory&nbsp;cost&nbsp;like&nbsp;Boeing&nbsp;and&nbsp;hardly&nbsp;Squid&nbsp;itself<br>
&nbsp;&nbsp;&nbsp;&nbsp;seriously&nbsp;reworked&nbsp;in&nbsp;this&nbsp;part&nbsp;since&nbsp;then.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;23.10.2016&nbsp;18:15,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;23.10.2016&nbsp;18:09,&nbsp;Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;23.10.2016&nbsp;17:40,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;This&nbsp;effect&nbsp;is&nbsp;good&nbsp;known&nbsp;to&nbsp;all&nbsp;who&nbsp;have&nbsp;worked<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;relational&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;databases.&nbsp;In&nbsp;fact,&nbsp;it&nbsp;is&nbsp;typical&nbsp;in&nbsp;general&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;caches&nbsp;except&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;purpose-built&nbsp;highly&nbsp;scalable&nbsp;systems.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;23.10.2016&nbsp;17:37,&nbsp;Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&gt;&nbsp;doesn't&nbsp;that&nbsp;imply&nbsp;kind&nbsp;of&nbsp;effectiveness?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;On&nbsp;23.10.16&nbsp;17:53,&nbsp;Yuri&nbsp;Voinov&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;In&nbsp;fact,&nbsp;the&nbsp;explanation&nbsp;is&nbsp;very&nbsp;simple.&nbsp;At&nbsp;some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point&nbsp;soon&nbsp;will&nbsp;get&nbsp;the&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;content&nbsp;from&nbsp;the&nbsp;disc&nbsp;using&nbsp;an&nbsp;index&nbsp;of&nbsp;any&nbsp;kind<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than&nbsp;consequentially&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;and&nbsp;fully&nbsp;scan&nbsp;the&nbsp;giant&nbsp;structure&nbsp;in&nbsp;RAM.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Performance&nbsp;indicator&nbsp;is&nbsp;expressed&nbsp;in&nbsp;the&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access&nbsp;time.&nbsp;But&nbsp;this&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;from&nbsp;the&nbsp;category&nbsp;of&nbsp;personal&nbsp;experience.&nbsp;Everyone<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;choose&nbsp;their&nbsp;own&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;road&nbsp;to&nbsp;hell.&nbsp;:)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;saying&nbsp;this&nbsp;you&nbsp;could&nbsp;say&nbsp;that&nbsp;huge&nbsp;in-memory&nbsp;cache&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSes&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;useless....&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;This&nbsp;is&nbsp;not&nbsp;me&nbsp;talking,&nbsp;and&nbsp;tuning&nbsp;specialists.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;iirc&nbsp;in&nbsp;some&nbsp;squid&nbsp;versions&nbsp;itwas&nbsp;caused&nbsp;by&nbsp;linear<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searching&nbsp;for&nbsp;memory&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;objects.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Only&nbsp;up&nbsp;to&nbsp;a&nbsp;point&nbsp;and&nbsp;is&nbsp;highly&nbsp;dependent&nbsp;on&nbsp;the&nbsp;server<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hardware&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;architecture&nbsp;and&nbsp;software&nbsp;process&nbsp;architecture.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;using&nbsp;indexes&nbsp;should&nbsp;speed&nbsp;up&nbsp;saerching&nbsp;and&nbsp;bigger<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;probability&nbsp;to&nbsp;find&nbsp;and&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;higher&nbsp;probability&nbsp;to&nbsp;find&nbsp;object&nbsp;in&nbsp;memory&nbsp;could<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outweight&nbsp;searching&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;time.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Certainly.&nbsp;As&nbsp;I&nbsp;said&nbsp;above,&nbsp;it&nbsp;depends&nbsp;on&nbsp;the&nbsp;software<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;architecture&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;access&nbsp;to&nbsp;a&nbsp;cache&nbsp;memory.&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;effective&nbsp;index<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;structure&nbsp;(like&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;a&nbsp;balanced&nbsp;B-tree),&nbsp;the&nbsp;effect&nbsp;disappears.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&gt;&nbsp;databases&nbsp;are&nbsp;much&nbsp;faster&nbsp;when&nbsp;using&nbsp;indexes&nbsp;properly,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aren't&nbsp;they?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Absolutely&nbsp;yes.&nbsp;But:&nbsp;Most&nbsp;database&nbsp;index&nbsp;structures&nbsp;exist&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disk&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;objects&nbsp;and&nbsp;do&nbsp;not&nbsp;exist&nbsp;for&nbsp;the&nbsp;memory&nbsp;structures.&nbsp;There's&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completely&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;different&nbsp;mechanism.&nbsp;Indices&nbsp;disk&nbsp;objects&nbsp;(which&nbsp;are&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata)&nbsp;are&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;loaded&nbsp;into&nbsp;memory&nbsp;and&nbsp;used&nbsp;to&nbsp;access&nbsp;the&nbsp;on-disk&nbsp;data.&nbsp;But<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access&nbsp;to&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;the&nbsp;memory&nbsp;is&nbsp;carried&nbsp;out&nbsp;mostly&nbsp;through&nbsp;a&nbsp;simple&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;structures.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;Which&nbsp;leads&nbsp;to&nbsp;performance&nbsp;degradation&nbsp;in&nbsp;case&nbsp;of&nbsp;huge<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caches.&nbsp;Again&nbsp;we&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;come&nbsp;back&nbsp;to&nbsp;the&nbsp;importance&nbsp;of&nbsp;software&nbsp;architecture&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memory&nbsp;accesses.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----BEGIN&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Version:&nbsp;GnuPG&nbsp;v2<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;iQEcBAEBCAAGBQJYDKrmAAoJENNXIZxhPexGMPEIALfRoGL7EDTi4lS1rmItes6k<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;VJATrwChT8uZR+nexYTusVRaiYc2OnbQthTLYSOTYWqXl43l+Haj0+YAAc4edS1J<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;8ajAY0FzmGZsLynTsRLq526QsIXBUcuTAnbXbZb16g8sHbWZ/cnZzeR2SBP86qyC<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;b7EqAsQV1preTlqXo4WpfaZFDZldjwTaemjb91Rl9HsdBaKxcru35wzZbdvefbng<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;y4I9QPAv6xVFvEjw/IsUdpSe9vRPHFaLXF7WyYF2rM9+1mmCWd9YhFK0NASJ8Jxs<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;REhMi/WMZHFCh3SK1Dj5H+bH4xONN0AHuf0YogpbgvmjxrJkQhRB88RkH2xNiRE=<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;=/YWN<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-----END&nbsp;PGP&nbsp;SIGNATURE-----<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
