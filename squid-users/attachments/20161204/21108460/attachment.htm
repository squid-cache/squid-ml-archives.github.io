<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Let&nbsp;say&nbsp;a&nbsp;client&nbsp;asks&nbsp;for&nbsp;a&nbsp;URL&nbsp;using&nbsp;a&nbsp;range:&nbsp;0-256000.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;want&nbsp;squid&nbsp;to&nbsp;ask&nbsp;just&nbsp;for&nbsp;10.000&nbsp;bytes&nbsp;and&nbsp;answer&nbsp;as&nbsp;if&nbsp;the&nbsp;request&nbsp;was&nbsp;server&nbsp;side&nbsp;aborted.&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;can&nbsp;change&nbsp;the&nbsp;request&nbsp;Range:&nbsp;&quot;bytes=0-256000&quot;&nbsp;to&nbsp;&quot;bytes=0-10000&quot;&nbsp;with&nbsp;and&nbsp;icap&nbsp;server&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;answer&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;change&nbsp;the&nbsp;Content-Range&nbsp;from&nbsp;&quot;0-10000/total&quot;&nbsp;to&nbsp;&quot;0-256000/total&quot;&nbsp;and&nbsp;Content-Length&nbsp;from&nbsp;&quot;10001&quot;&nbsp;to&nbsp;&quot;256001&quot;&nbsp;squid&nbsp;won&#39;t&nbsp;hung&nbsp;up&nbsp;and&nbsp;the&nbsp;client&nbsp;will&nbsp;stay&nbsp;waiting&nbsp;after&nbsp;the&nbsp;first&nbsp;10001&nbsp;bytes.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&#39;s&nbsp;a&nbsp;way&nbsp;to&nbsp;make&nbsp;squid&nbsp;send&nbsp;what&nbsp;it&nbsp;gets&nbsp;from&nbsp;the&nbsp;icap&nbsp;and&nbsp;then&nbsp;drop&nbsp;the&nbsp;TCP&nbsp;connection&nbsp;as&nbsp;in&nbsp;a&nbsp;server&nbsp;side&nbsp;aborted&nbsp;connection?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;m_5939925357310979522gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;Alfrenovsky&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
