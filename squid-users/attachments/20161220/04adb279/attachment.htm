<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&lt;!--&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divtagdefaultwrapper&quot;&nbsp;style=&quot;font-size:12pt;color:#000000;font-family:Calibri,Arial,Helvetica,sans-serif;&quot;&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(36,&nbsp;39,&nbsp;41);&nbsp;font-family:&nbsp;Arial,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;19.5px;&quot;&gt;Hi&nbsp;Guys,&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(36,&nbsp;39,&nbsp;41);&nbsp;font-family:&nbsp;Arial,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;19.5px;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(36,&nbsp;39,&nbsp;41);&nbsp;font-family:&nbsp;Arial,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;19.5px;&quot;&gt;I&nbsp;want&nbsp;to&nbsp;calculate&nbsp;all&nbsp;bytes&nbsp;when&nbsp;a&nbsp;request&nbsp;is&nbsp;sent&nbsp;to&nbsp;squid,&nbsp;including:&lt;/span&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;id=&quot;divtagdefaultwrapper&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;font-size:12pt;&nbsp;color:#000000;&nbsp;font-family:Calibri,Arial,Helvetica,sans-serif&quot;&gt;<br>
&lt;ol&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em&nbsp;30px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;font-size:15px;&nbsp;color:rgb(36,39,41);&nbsp;font-family:Arial,'Helvetica&nbsp;Neue',Helvetica,sans-serif;&nbsp;line-height:19.5px&quot;&gt;<br>
&lt;li&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0.5em;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;word-wrap:break-word&quot;&gt;the&nbsp;header&nbsp;length&nbsp;that&nbsp;client&nbsp;will&nbsp;send&nbsp;to&nbsp;squid&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0.5em;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;word-wrap:break-word&quot;&gt;the&nbsp;post&nbsp;content&nbsp;length&nbsp;that&nbsp;send&nbsp;to&nbsp;squid&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;word-wrap:break-word&quot;&gt;the&nbsp;response&nbsp;length&nbsp;squid&nbsp;will&nbsp;reply&nbsp;to&nbsp;client&lt;/li&gt;&lt;/ol&gt;<br>
&lt;p&nbsp;style=&quot;margin-right:0px;&nbsp;margin-bottom:1em;&nbsp;margin-left:0px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;font-size:15px;&nbsp;clear:both;&nbsp;color:rgb(36,39,41);&nbsp;font-family:Arial,'Helvetica&nbsp;Neue',Helvetica,sans-serif;&nbsp;line-height:19.5px&quot;&gt;<br>
&lt;code&nbsp;style=&quot;margin:0px;&nbsp;padding:1px&nbsp;5px;&nbsp;border:0px;&nbsp;font-size:13px;&nbsp;font-family:Consolas,Menlo,Monaco,'Lucida&nbsp;Console','Liberation&nbsp;Mono','DejaVu&nbsp;Sans&nbsp;Mono','Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono','Courier&nbsp;New',monospace,sans-serif;&nbsp;white-space:pre-wrap;&nbsp;background-color:rgb(239,240,241)&quot;&gt;logformat<br>
&nbsp;squid&nbsp;%ts.%03tu&nbsp;%6tr&nbsp;%&gt;a&nbsp;%Ss/%03Hs&nbsp;&lt;b&gt;%&lt;st&lt;/b&gt;&nbsp;%rm&nbsp;%ru&nbsp;%un&nbsp;%Sh/%&lt;A:%&lt;a&nbsp;%mt&nbsp;&lt;b&gt;%st&lt;/b&gt;&lt;/code&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-right:0px;&nbsp;margin-bottom:1em;&nbsp;margin-left:0px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;font-size:15px;&nbsp;clear:both;&nbsp;color:rgb(36,39,41);&nbsp;font-family:Arial,'Helvetica&nbsp;Neue',Helvetica,sans-serif;&nbsp;line-height:19.5px&quot;&gt;<br>
In&nbsp;the&nbsp;squid&nbsp;config&nbsp;file,&nbsp;I&nbsp;can&nbsp;only&nbsp;set&nbsp;&lt;strong&nbsp;style=&quot;margin:0px;&nbsp;padding:0px;&nbsp;border:0px&quot;&gt;%st&lt;/strong&gt;&nbsp;which&nbsp;only&nbsp;include&nbsp;1&nbsp;and&nbsp;3,&nbsp;seems&nbsp;squid&nbsp;ignore&nbsp;the&nbsp;point&nbsp;2(the&nbsp;post&nbsp;content&nbsp;length&nbsp;is&nbsp;not&nbsp;included&nbsp;in&nbsp;the&nbsp;total&nbsp;size),&nbsp;it&nbsp;also&nbsp;happens&nbsp;when&nbsp;a&nbsp;post&nbsp;request<br>
&nbsp;occurs&nbsp;in&nbsp;squid&nbsp;https&nbsp;connection.&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-right:0px;&nbsp;margin-bottom:1em;&nbsp;margin-left:0px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;font-size:15px;&nbsp;clear:both;&nbsp;color:rgb(36,39,41);&nbsp;font-family:Arial,'Helvetica&nbsp;Neue',Helvetica,sans-serif;&nbsp;line-height:19.5px&quot;&gt;<br>
I&nbsp;don't&nbsp;need&nbsp;to&nbsp;know&nbsp;the&nbsp;request&nbsp;content,&nbsp;just&nbsp;want&nbsp;to&nbsp;know&nbsp;how&nbsp;many&nbsp;bytes&nbsp;the&nbsp;client&nbsp;totally&nbsp;send&nbsp;including&nbsp;the&nbsp;post&nbsp;and&nbsp;https&nbsp;bytes,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;do&nbsp;this?&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-right:0px;&nbsp;margin-bottom:1em;&nbsp;margin-left:0px;&nbsp;padding:0px;&nbsp;border:0px;&nbsp;font-size:15px;&nbsp;clear:both;&nbsp;color:rgb(36,39,41);&nbsp;font-family:Arial,'Helvetica&nbsp;Neue',Helvetica,sans-serif;&nbsp;line-height:19.5px&quot;&gt;<br>
Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;modify&nbsp;the&nbsp;squid&nbsp;source&nbsp;code&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;parameter&nbsp;to&nbsp;control&nbsp;this?&nbsp;Is&nbsp;it&nbsp;just&nbsp;a&nbsp;counting&nbsp;logic&nbsp;that&nbsp;won't&nbsp;be&nbsp;complex?&nbsp;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&nbsp;Thanks.&lt;/p&gt;<br>
&lt;span&nbsp;id=&quot;ms-rterangepaste-end&quot;&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
