<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;Thank&nbsp;s&nbsp;a&nbsp;lot&nbsp;,&nbsp;Amos &lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&nbsp;will&nbsp;try&nbsp;these&nbsp;things&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;11-Jan-2017&nbsp;9:22&nbsp;PM,&nbsp;&quot;Amos&nbsp;Jeffries&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;12/01/2017&nbsp;3:55&nbsp;a.m.,&nbsp;Vidyadhish&nbsp;Joshi&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Amos,&nbsp;thank&nbsp;you&nbsp;for&nbsp;the&nbsp;details.&lt;br&gt;<br>
&gt;&nbsp;Need&nbsp;pointers&nbsp;for&nbsp;caching&nbsp;the&nbsp;dynamic&nbsp;contents.&nbsp;My&nbsp;app&nbsp;has&nbsp;static&nbsp;n&nbsp;dynamic&lt;br&gt;<br>
&gt;&nbsp;cache&nbsp;n&nbsp;static&nbsp;am&nbsp;able&nbsp;to&nbsp;cache&nbsp;it&nbsp;.&nbsp;For&nbsp;dynamic&nbsp;the&nbsp;URL&nbsp;is&nbsp;getting&lt;br&gt;<br>
&gt;&nbsp;appended&nbsp;with&nbsp;query&nbsp;string. &nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;cache&nbsp;dynamic&nbsp;contests&nbsp;n&lt;br&gt;<br>
&gt;&nbsp;what&nbsp;would&nbsp;be&nbsp;configuration&nbsp;changes&nbsp;to&nbsp;cache&nbsp;dynamic&nbsp;ones.&lt;br&gt;<br>
&lt;br&gt;<br>
Sure;&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Use&nbsp;the&nbsp;latest&nbsp;3.5&nbsp;version&nbsp;you&nbsp;can.&nbsp;There&nbsp;have&nbsp;been&nbsp;small&nbsp;but&lt;br&gt;<br>
important&nbsp;improvements&nbsp;across&nbsp;the&nbsp;whole&nbsp;series.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Make&nbsp;sure&nbsp;you&nbsp;_do&nbsp;not_&nbsp;have&nbsp;the&nbsp;old&nbsp;Squid-2&nbsp;QUERY&nbsp;ACL&nbsp;denying&nbsp;storage&lt;br&gt;<br>
(&#39;cache&nbsp;deny&nbsp;QUERY&#39;&nbsp;line&nbsp;in&nbsp;squid.conf)&nbsp;for&nbsp;those&nbsp;objects.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Make&nbsp;sure&nbsp;your&nbsp;refresh_pattern&nbsp;lines&nbsp;_do&nbsp;not_&nbsp;contain&nbsp;ignore-auth,&lt;br&gt;<br>
ignore-no-cache,&nbsp;ignore-must-revalidate,&nbsp;ignore-no-store&nbsp;or&lt;br&gt;<br>
override-lastmod.&lt;br&gt;<br>
 -&nbsp;you&nbsp;can&nbsp;add&nbsp;store-stale&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;increase&nbsp;the&nbsp;caching&nbsp;further.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Make&nbsp;sure&nbsp;you&nbsp;_do_&nbsp;have&nbsp;these&nbsp;Squid-3&nbsp;default&nbsp;refresh_patterns.&nbsp;The&nbsp;0&lt;br&gt;<br>
value&#39;s&nbsp;are&nbsp;important&nbsp;to&nbsp;be&nbsp;0.&nbsp;The&nbsp;other&nbsp;numbers&nbsp;you&nbsp;can&nbsp;change&nbsp;as&nbsp;wanted:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0 &nbsp; &nbsp; 0% &nbsp; &nbsp; &nbsp;0&lt;br&gt;<br>
 &nbsp;refresh_pattern&nbsp;. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 20% &nbsp; &nbsp; 4320&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Make&nbsp;sure&nbsp;your&nbsp;server&nbsp;produces&nbsp;appropriate&nbsp;caching&nbsp;options&nbsp;indicating&lt;br&gt;<br>
how&nbsp;long&nbsp;the&nbsp;content&nbsp;is&nbsp;to&nbsp;be&nbsp;cached.&nbsp;Specifically&nbsp;either&nbsp;Expires&nbsp;or&lt;br&gt;<br>
Cache-Control:max-age=N&nbsp;indicating&nbsp;when&nbsp;it&nbsp;will&nbsp;next&nbsp;change,&nbsp;or&lt;br&gt;<br>
Cache-Control:must-revalidate&nbsp;to&nbsp;require&nbsp;constant&nbsp;REFRESH.&lt;br&gt;<br>
 see&nbsp;&lt;&lt;a&nbsp;href=&quot;https://tools.ietf.org/html/rfc7234&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://tools.ietf.org/html/&lt;wbr&gt;rfc7234&lt;/a&gt;&gt;&nbsp;for&nbsp;more&nbsp;details&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Your&nbsp;server&nbsp;should&nbsp;also&nbsp;produce&nbsp;Last-Modified&nbsp;and/or&nbsp;ETag&nbsp;headers&nbsp;for&lt;br&gt;<br>
content&nbsp;it&nbsp;generates.&nbsp;And&nbsp;handle&nbsp;the&nbsp;If-*&nbsp;request&nbsp;headers&nbsp;on&nbsp;received&lt;br&gt;<br>
requests&nbsp;to&nbsp;produce&nbsp;304&nbsp;responses&nbsp;when&nbsp;the&nbsp;content&nbsp;is&nbsp;unchanged.&lt;br&gt;<br>
 see&nbsp;&lt;&lt;a&nbsp;href=&quot;https://tools.ietf.org/html/rfc7232&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://tools.ietf.org/html/&lt;wbr&gt;rfc7232&lt;/a&gt;&gt;&nbsp;for&nbsp;more&nbsp;details&lt;br&gt;<br>
&lt;br&gt;<br>
 -&nbsp;when&nbsp;the&nbsp;server&nbsp;properly&nbsp;handles&nbsp;these&nbsp;If-*&nbsp;headers&nbsp;you&nbsp;can&nbsp;add&nbsp;the&lt;br&gt;<br>
refresh_pattern&nbsp;option&nbsp;refresh-ims&nbsp;and/or&nbsp;reload-into-ims&nbsp;to&nbsp;further&lt;br&gt;<br>
increase&nbsp;caching.&nbsp;(Until&nbsp;the&nbsp;server&nbsp;properly&nbsp;revalidates&nbsp;these&nbsp;options&lt;br&gt;<br>
are&nbsp;useless.)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
