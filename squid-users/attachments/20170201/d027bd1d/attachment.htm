<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;Hi,&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;&lt;br&gt;I&nbsp;need&nbsp;your&nbsp;advice.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;transparent&nbsp;proxy&nbsp;running&nbsp;with&nbsp;the&nbsp;self&nbsp;generated&nbsp;certificates&nbsp;&#39;myCA.pem&#39;,&nbsp;as&nbsp;it&nbsp;is&nbsp;not&nbsp;signed&nbsp;by&nbsp;a&nbsp;valid&nbsp;entity&nbsp;then&nbsp;I&nbsp;have&nbsp;to&nbsp;import&nbsp;the&nbsp;&#39;myCA.der&#39;&nbsp;certificate&nbsp;in&nbsp;all&nbsp;web&nbsp;browsers&nbsp;...&lt;br&gt;&lt;br&gt;I&nbsp;want&nbsp;to&nbsp;know&nbsp;where&nbsp;I&nbsp;can&nbsp;buy&nbsp;a&nbsp;valid&nbsp;certificate&nbsp;that&nbsp;work&nbsp;in&nbsp;Squid.&lt;/span&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PD:&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;proxy&nbsp;is&nbsp;working&nbsp;great&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;----------------------------------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&gt;Important&nbsp;information&nbsp;for&nbsp;clarity&nbsp;(FreeBSD,&nbsp;squid-3.5.23&nbsp;and&nbsp;PF):&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Create&nbsp;self-signed&nbsp;certificate&nbsp;for&nbsp;Squid&nbsp;server&lt;br&gt;&lt;br&gt;#&nbsp;openssl&nbsp;req&nbsp;-new&nbsp;-newkey&nbsp;rsa:2048&nbsp;-sha256&nbsp;-days&nbsp;36500&nbsp;-nodes&nbsp;-x509&nbsp;-extensions&nbsp;v3_ca&nbsp;-keyout&nbsp;myCA.pem &nbsp;-out&nbsp;/usr/local/etc/squid/ssl_cert/myCA.pem&nbsp;-config&nbsp;/usr/local/etc/squid/ssl_cert/openssl.cnf&lt;br&gt;&lt;br&gt;#&nbsp;openssl&nbsp;dhparam&nbsp;-outform&nbsp;PEM&nbsp;-out&nbsp;/usr/local/etc/squid/ssl_cert/dhparam.pem&nbsp;2048&lt;br&gt;&lt;br&gt;Create&nbsp;a&nbsp;DER-encoded&nbsp;certificate&nbsp;to&nbsp;import&nbsp;into&nbsp;users&#39;&nbsp;browsers&lt;br&gt;&lt;br&gt;#&nbsp;openssl&nbsp;x509&nbsp;-in&nbsp;/usr/local/etc/squid/ssl_cert/myCA.pem&nbsp;-outform&nbsp;DER&nbsp;-out&nbsp;/usr/local/etc/squid/ssl_cert/myCA.der&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#&nbsp;edit&nbsp;/usr/local/etc/squid/squid.conf&lt;br&gt;...&lt;br&gt;#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;br&gt;http_port &nbsp;3128&lt;br&gt;&lt;br&gt;#&nbsp;Intercept&nbsp;HTTPS&nbsp;CONNECT&nbsp;messages&nbsp;with&nbsp;SSL-Bump&lt;br&gt;#&lt;br&gt;http_port &nbsp;3129&nbsp;ssl-bump&nbsp;intercept&nbsp;\&lt;br&gt;       &nbsp;cert=/usr/local/etc/squid/ssl_cert/myCA.pem&nbsp;\&lt;br&gt;       &nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;\&lt;br&gt;       &nbsp;dhparams=/usr/local/etc/squid/ssl_cert/dhparam.pem&lt;br&gt;#&lt;br&gt;https_port&nbsp;3130&nbsp;ssl-bump&nbsp;intercept&nbsp;\&lt;br&gt;       &nbsp;cert=/usr/local/etc/squid/ssl_cert/myCA.pem&nbsp;\&lt;br&gt;       &nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;\&lt;br&gt;       &nbsp;dhparams=/usr/local/etc/squid/ssl_cert/dhparam.pem&lt;br&gt;#&lt;br&gt;sslcrtd_program&nbsp;/usr/local/libexec/squid/ssl_crtd&nbsp;-s&nbsp;/usr/local/etc/squid/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;#&lt;br&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&gt;#&lt;br&gt;ssl_bump&nbsp;peek&nbsp;step1&lt;br&gt;ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;always_direct&nbsp;allow&nbsp;all&lt;br&gt;#&lt;br&gt;sslproxy_cert_error&nbsp;allow&nbsp;all&lt;br&gt;sslproxy_flags&nbsp;DONT_VERIFY_PEER&lt;br&gt;&nbsp;&lt;/div&gt;&lt;div&gt;...&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PF&nbsp;redirect&nbsp;the&nbsp;traffic&nbsp;to&nbsp;the&nbsp;Squid&lt;br&gt;&lt;br&gt;#&nbsp;edit&nbsp;/etc/pf.conf&lt;br&gt;...&lt;br&gt;#&nbsp;Intercept&nbsp;HTTPS&nbsp;CONNECT&nbsp;messages&nbsp;with&nbsp;SSL-Bump&lt;br&gt;rdr&nbsp;pass&nbsp;on&nbsp;$int_if&nbsp;inet &nbsp;proto&nbsp;tcp&nbsp;from&nbsp;any&nbsp;to&nbsp;port&nbsp;https&nbsp;\&lt;br&gt;       &nbsp;-&gt;&nbsp;127.0.0.1&nbsp;port&nbsp;3130&lt;br&gt;rdr&nbsp;pass&nbsp;on&nbsp;$int_if&nbsp;inet6&nbsp;proto&nbsp;tcp&nbsp;from&nbsp;any&nbsp;to&nbsp;port&nbsp;https&nbsp;\&lt;br&gt;       &nbsp;-&gt;&nbsp;::1&nbsp;port&nbsp;3130&lt;br&gt;&lt;/div&gt;&lt;div&gt;...&lt;br&gt;----------------------------------------------------------------------------------------------&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Ángel&nbsp;Villa&nbsp;G.&lt;br&gt;US&nbsp;+1&nbsp;(786)&nbsp;233-9240&nbsp;|&nbsp;CO&nbsp;+57&nbsp;(300)&nbsp;283-6546&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:angelvg@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;angelvg@gmail.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://google.com/+AngelVillaG&quot;&nbsp;target=&quot;_blank&quot;&gt;https://google.com/+AngelVillaG&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://angelcontents.blogspot.com&quot;&nbsp;target=&quot;_blank&quot;&gt;https://angelcontents.blogspot.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;&quot;We&nbsp;are&nbsp;all&nbsp;atheists&nbsp;about&nbsp;most&nbsp;of&nbsp;the&nbsp;gods&nbsp;that&nbsp;societies&nbsp;have&nbsp;ever&nbsp;believed&nbsp;in.&nbsp;Some&nbsp;of&nbsp;us&nbsp;just&nbsp;go&nbsp;one&nbsp;god&nbsp;further&quot;&nbsp;-&nbsp;Richard&nbsp;Dawkins&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
