<tt>
&lt;br&gt;&lt;br&gt;On&nbsp;Friday,&nbsp;February&nbsp;10,&nbsp;2017,&nbsp;Varun&nbsp;Singh&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:varun.singh@gslab.com&quot;&gt;varun.singh@gslab.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;Tue,&nbsp;Feb&nbsp;7,&nbsp;2017&nbsp;at&nbsp;3:48&nbsp;AM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;squid3@treenet.co.nz&#39;)&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;7/02/2017&nbsp;2:46&nbsp;a.m.,&nbsp;Varun&nbsp;Singh&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;Mon,&nbsp;Feb&nbsp;6,&nbsp;2017&nbsp;at&nbsp;11:39&nbsp;AM,&nbsp;Amos&nbsp;Jeffries&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&nbsp;Please&nbsp;find&nbsp;my&nbsp;reply&nbsp;inline:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;What&nbsp;documentation?&nbsp;it&nbsp;is&nbsp;wrong,&nbsp;or&nbsp;you&nbsp;are&nbsp;misunderstanding&nbsp;it.&nbsp;The&nbsp;URL&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;path?query&nbsp;is&nbsp;definitely&nbsp;*not*&nbsp;available&nbsp;without&nbsp;decrypting.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Correct,&nbsp;I&nbsp;mis-read&nbsp;it.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Because&nbsp;the&nbsp;only&nbsp;way&nbsp;to&nbsp;access&nbsp;more&nbsp;than&nbsp;hostname/IP&nbsp;and&nbsp;port&nbsp;is&nbsp;to&nbsp;decrypt.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Okay.&nbsp;In&nbsp;that,&nbsp;case&nbsp;I&nbsp;am&nbsp;okay&nbsp;with&nbsp;only&nbsp;being&nbsp;able&nbsp;to&nbsp;see&nbsp;hostname/IP&nbsp;and&nbsp;port.&lt;br&gt;<br>
&gt;&gt;&nbsp;But&nbsp;whenever&nbsp;I&nbsp;search&nbsp;for&nbsp;setting&nbsp;up&nbsp;HTTPS&nbsp;with&nbsp;Squid,&nbsp;I&nbsp;always&nbsp;come&lt;br&gt;<br>
&gt;&gt;&nbsp;across&nbsp;SSL-bump.&lt;br&gt;<br>
&gt;&gt;&nbsp;Could&nbsp;you&nbsp;point&nbsp;me&nbsp;to&nbsp;a&nbsp;tutorial&nbsp;which&nbsp;perform&nbsp;just&nbsp;basic&nbsp;HTTPS&nbsp;setup?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;Squid&nbsp;default&nbsp;config&nbsp;handles&nbsp;as&nbsp;much&nbsp;of&nbsp;HTTPS&nbsp;as&nbsp;can&nbsp;be&nbsp;handled&lt;br&gt;<br>
&gt;&nbsp;without&nbsp;the&nbsp;SSL-Bump&nbsp;feature.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;What&nbsp;I&nbsp;have&nbsp;tried&nbsp;so&nbsp;far&nbsp;is,&nbsp;configuring&nbsp;Squid&nbsp;to&nbsp;listen&nbsp;to&nbsp;port&nbsp;3129&lt;br&gt;<br>
&gt;&gt;&nbsp;to&nbsp;expect&nbsp;HTTPS&nbsp;traffic.&nbsp;I&nbsp;did&nbsp;this&nbsp;by&nbsp;adding&nbsp;following&nbsp;line&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;squid.conf:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;https_port&nbsp;3129&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Once&nbsp;this&nbsp;was&nbsp;done,&nbsp;I&nbsp;redirected&nbsp;all&nbsp;the&nbsp;traffic&nbsp;coming&nbsp;to&nbsp;port&nbsp;443&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;port&nbsp;3129&nbsp;using&nbsp;iptables.&nbsp;This&nbsp;is&nbsp;because&nbsp;my&nbsp;clients&nbsp;connect&nbsp;to&nbsp;proxy&lt;br&gt;<br>
&gt;&gt;&nbsp;via&nbsp;VPN.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Since&nbsp;you&nbsp;are&nbsp;intercepting&nbsp;port&nbsp;443&nbsp;that&nbsp;port&nbsp;is&nbsp;missing&nbsp;the&nbsp;&#39;intercept&#39;&lt;br&gt;<br>
&gt;&nbsp;flag.&nbsp;Also,&nbsp;interceptig&nbsp;port&nbsp;443&nbsp;requires&nbsp;SSL-Bump.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;But&nbsp;this&nbsp;had&nbsp;no&nbsp;effect.&nbsp;After&nbsp;connecting&nbsp;clients&nbsp;to&nbsp;proxy,&nbsp;when&nbsp;I&nbsp;try&lt;br&gt;<br>
&gt;&gt;&nbsp;to&nbsp;access&nbsp;an&nbsp;HTTPS&nbsp;website,&nbsp;the&nbsp;clients&nbsp;get&nbsp;no&nbsp;response&nbsp;and&nbsp;nothing&lt;br&gt;<br>
&gt;&gt;&nbsp;shows&nbsp;in&nbsp;access.log&nbsp;file.&nbsp;The&nbsp;browser&nbsp;behaves&nbsp;as&nbsp;if&nbsp;it&nbsp;could&nbsp;not&lt;br&gt;<br>
&gt;&gt;&nbsp;connect&nbsp;to&nbsp;internet.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Please&nbsp;note&nbsp;that&nbsp;this&nbsp;setup&nbsp;works&nbsp;perfectly&nbsp;for&nbsp;HTTP&nbsp;requests.&nbsp;Only&lt;br&gt;<br>
&gt;&gt;&nbsp;HTTPS&nbsp;requests&nbsp;give&nbsp;problems.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Port&nbsp;80&nbsp;(HTTP)&nbsp;and&nbsp;port&nbsp;443&nbsp;(HTTPS)&nbsp;have&nbsp;totally&nbsp;different&nbsp;transport&lt;br&gt;<br>
&gt;&nbsp;protocols.&nbsp;The&nbsp;port&nbsp;443&nbsp;one&nbsp;is&nbsp;designed&nbsp;to&nbsp;break&nbsp;when&nbsp;being&nbsp;intercepted.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;FYI,&nbsp;by&nbsp;documentation&nbsp;I&nbsp;was&nbsp;referring&nbsp;to&nbsp;below&nbsp;link:&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/Features/HTTPS&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.squid-cache.org/&lt;wbr&gt;Features/HTTPS&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Amos&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;Amos.&nbsp;Sorry&nbsp;I&nbsp;couldn&#39;t&nbsp;reply&nbsp;early.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;in&nbsp;this&nbsp;case,&nbsp;say&nbsp;I&nbsp;want&nbsp;to&nbsp;configure&nbsp;HTTPS&nbsp;proxy&nbsp;from&nbsp;a&lt;br&gt;<br>
web-browser&nbsp;directly&nbsp;and&nbsp;not&nbsp;through&nbsp;VPN.&nbsp;In&nbsp;that&nbsp;case&nbsp;there&nbsp;will&nbsp;be&lt;br&gt;<br>
no&nbsp;port&nbsp;forwarding&nbsp;involved&nbsp;and&nbsp;hence&nbsp;443&nbsp;shouldn&#39;t&nbsp;break.&nbsp;To&nbsp;achieve&lt;br&gt;<br>
this,&nbsp;what&nbsp;configurations&nbsp;will&nbsp;have&nbsp;to&nbsp;be&nbsp;set&nbsp;in&nbsp;squid.conf&nbsp;file?&nbsp;I&nbsp;am&lt;br&gt;<br>
assuming&nbsp;we&nbsp;will&nbsp;have&nbsp;to&nbsp;at&nbsp;least&nbsp;provide&nbsp;a&nbsp;port&nbsp;number&nbsp;by&nbsp;adding&lt;br&gt;<br>
&#39;https_port&nbsp;3129&#39;.&nbsp;Is&nbsp;there&nbsp;anything&nbsp;else&nbsp;I&nbsp;will&nbsp;have&nbsp;to&nbsp;do?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;help.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Varun&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;found&nbsp;this&nbsp;post&nbsp;on&nbsp;a&nbsp;StackExchange&nbsp;forum&nbsp;which&nbsp;is&nbsp;exactly&nbsp;what&nbsp;I&nbsp;want:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://serverfault.com/questions/798481/squid-configuration-for-https&quot;&gt;http://serverfault.com/questions/798481/squid-configuration-for-https&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;answer&nbsp;points&nbsp;to&nbsp;installing&nbsp;a&nbsp;CA&nbsp;on&nbsp;client. &lt;/div&gt;&lt;div&gt;Does&nbsp;this&nbsp;mean&nbsp;even&nbsp;if&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;Squid-in-the-middle&nbsp;approach,&nbsp;my&nbsp;clients&nbsp;would&nbsp;still&nbsp;have&nbsp;to&nbsp;install&nbsp;a&nbsp;certificate?&lt;/div&gt;&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;Regards,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;Varun&nbsp;Singh&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;Sr.&nbsp;Software&nbsp;Engineer&nbsp;|&nbsp;m:&nbsp;+91&nbsp;20&nbsp;4671&nbsp;2290&nbsp;| &lt;/span&gt;&lt;a&nbsp;href=&quot;https://in.linkedin.com/in/varun-singh-12b29026&quot;&nbsp;style=&quot;color:rgb(43,170,223);font-family:Helvetica;font-size:14px&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;align=&quot;none&quot;&nbsp;height=&quot;15&quot;&nbsp;src=&quot;https://gallery.mailchimp.com/1a9fbb5d6abc2f2947e56eb5d/images/f047b2ca-8206-43d4-b4a6-7b095b6210e9.jpg&quot;&nbsp;width=&quot;15&quot;&nbsp;style=&quot;width:15px;height:15px;margin:0px;border:0px;outline:none;text-decoration:none&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;G&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.gslab.com/&quot;&nbsp;style=&quot;color:rgb(43,170,223);font-family:Helvetica;font-size:14px&quot;&nbsp;target=&quot;_blank&quot;&gt;reat&nbsp;Software&nbsp;Laboratory&lt;/a&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Helvetica;font-size:14px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:Helvetica;font-size:14px;color:rgb(211,211,211)&quot;&gt;------------------------------------------------------------------------------&lt;br&gt;&lt;a&nbsp;href=&quot;https://twitter.com/_gslab&quot;&nbsp;style=&quot;color:rgb(43,170,223)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;align=&quot;none&quot;&nbsp;height=&quot;13&quot;&nbsp;src=&quot;https://gallery.mailchimp.com/1a9fbb5d6abc2f2947e56eb5d/images/d5a40031-1c45-4586-8100-03423e9b8fa4.jpg&quot;&nbsp;width=&quot;14&quot;&nbsp;style=&quot;width:14px;height:13px;margin:0px;border:0px;outline:none;text-decoration:none&quot;&gt;&lt;/a&gt;  &lt;a&nbsp;href=&quot;https://www.facebook.com/LifeAtGSLab/&quot;&nbsp;style=&quot;color:rgb(43,170,223)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;align=&quot;none&quot;&nbsp;height=&quot;15&quot;&nbsp;src=&quot;https://gallery.mailchimp.com/1a9fbb5d6abc2f2947e56eb5d/images/4c300b7e-cc74-4e9a-993e-387bd5c1aa2e.jpg&quot;&nbsp;width=&quot;15&quot;&nbsp;style=&quot;width:15px;height:15px;margin:0px;border:0px;outline:none;text-decoration:none&quot;&gt;&lt;/a&gt;  &lt;a&nbsp;href=&quot;https://www.linkedin.com/company/gs-lab&quot;&nbsp;style=&quot;color:rgb(43,170,223)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;align=&quot;none&quot;&nbsp;height=&quot;15&quot;&nbsp;src=&quot;https://gallery.mailchimp.com/1a9fbb5d6abc2f2947e56eb5d/images/ec63a100-f2cf-4609-a453-c1fef61302d0.jpg&quot;&nbsp;width=&quot;15&quot;&nbsp;style=&quot;width:15px;height:15px;margin:0px;border:0px;outline:none;text-decoration:none&quot;&gt;&lt;/a&gt;  &lt;a&nbsp;href=&quot;http://www.gslab.com/blogs&quot;&nbsp;style=&quot;color:rgb(43,170,223)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;align=&quot;none&quot;&nbsp;height=&quot;15&quot;&nbsp;src=&quot;https://gallery.mailchimp.com/1a9fbb5d6abc2f2947e56eb5d/images/bfee8a1f-4135-4fa0-90d8-6831ba9d93f9.jpg&quot;&nbsp;width=&quot;15&quot;&nbsp;style=&quot;width:15px;height:15px;margin:0px;border:0px;outline:none;text-decoration:none&quot;&gt;&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
