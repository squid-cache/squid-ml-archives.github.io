<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;&lt;div&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Feb&nbsp;12,&nbsp;2017&nbsp;5:43&nbsp;PM,&nbsp;&quot;Amos&nbsp;Jeffries&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;m_-6872900206847984097quoted-text&quot;&gt;On&nbsp;12/02/2017&nbsp;11:51&nbsp;p.m.,&nbsp;Varun&nbsp;Singh&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Feb&nbsp;12,&nbsp;2017&nbsp;2:21&nbsp;PM,&nbsp;&quot;Amos&nbsp;Jeffries&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;12/02/2017&nbsp;7:40&nbsp;p.m.,&nbsp;Varun&nbsp;Singh&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;The&nbsp;answer&nbsp;points&nbsp;to&nbsp;installing&nbsp;a&nbsp;CA&nbsp;on&nbsp;client.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;question&nbsp;was&nbsp;about&nbsp;how&nbsp;to&nbsp;get&nbsp;browsers&nbsp;talking&nbsp;TLS&nbsp;*directly&nbsp;to&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;Squid&nbsp;reverse-proxy*.&nbsp;Your&nbsp;Ubuntu&nbsp;package&nbsp;is&nbsp;not&nbsp;capable&nbsp;of&nbsp;that&nbsp;and&nbsp;you&lt;br&gt;<br>
&gt;&nbsp;are&nbsp;not&nbsp;using&nbsp;a&nbsp;reverse-proxy.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Does&nbsp;this&nbsp;mean&nbsp;even&nbsp;if&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;Squid-in-the-middle&nbsp;approach,&nbsp;my&lt;br&gt;<br>
&gt;&gt;&nbsp;clients&nbsp;would&nbsp;still&nbsp;have&nbsp;to&nbsp;install&nbsp;a&nbsp;certificate?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;No.&nbsp;It&nbsp;is&nbsp;irrelevant&nbsp;to&nbsp;yrou&nbsp;sitation.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;You&nbsp;began&nbsp;this&nbsp;thread&nbsp;with&nbsp;a&nbsp;simple&nbsp;question:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;Squid&nbsp;3&nbsp;installed&nbsp;on&nbsp;Ubuntu&nbsp;16.04.&nbsp;It&nbsp;works&nbsp;perfectly&nbsp;as&nbsp;an&lt;br&gt;<br>
&gt;&gt;&nbsp;HTTP&nbsp;proxy&nbsp;server&nbsp;in&nbsp;transparent&nbsp;mode.&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;wanted&nbsp;to&nbsp;know&nbsp;whether&nbsp;it&nbsp;can&nbsp;be&nbsp;configured&nbsp;to&nbsp;run&nbsp;as&nbsp;HTTPS&nbsp;proxy&lt;br&gt;<br>
&gt;&gt;&nbsp;server&nbsp;without&nbsp;ssl-bump&nbsp;i.e.&nbsp;without&nbsp;&#39;man&nbsp;in&nbsp;the&nbsp;middle&nbsp;attack&#39;&lt;br&gt;<br>
&gt;&gt;&nbsp;technique.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Everything&nbsp;you&nbsp;have&nbsp;been&nbsp;asking&nbsp;about&nbsp;since&nbsp;then&nbsp;is&nbsp;various&nbsp;ways&nbsp;to&nbsp;do&lt;br&gt;<br>
&gt;&nbsp;parts&nbsp;of&nbsp;the&nbsp;SSL-bump&nbsp;process.&nbsp;Which&nbsp;does&nbsp;not&nbsp;fit&nbsp;very&nbsp;well&nbsp;with&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;&quot;without&nbsp;ssl-bump&quot;&nbsp;requirement.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Simply&nbsp;put;&nbsp;if&nbsp;you&nbsp;are&nbsp;not&nbsp;going&nbsp;to&nbsp;SSL-Bump&nbsp;then&nbsp;you&nbsp;can&nbsp;discard&nbsp;any&lt;br&gt;<br>
&gt;&nbsp;thoughts&nbsp;of&nbsp;doing&nbsp;things&nbsp;with&nbsp;the&nbsp;HTTPS&nbsp;messages&nbsp;or&nbsp;port&nbsp;443&nbsp;traffic.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;you&nbsp;have&nbsp;changed&nbsp;your&nbsp;mind&nbsp;and&nbsp;want&nbsp;to&nbsp;use&nbsp;SSL-Bump&nbsp;now,&nbsp;please&lt;br&gt;<br>
&gt;&nbsp;re-describe&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;actually&nbsp;happen&nbsp;now.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;You&nbsp;have&nbsp;not&nbsp;described&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;happen.&nbsp;Just&nbsp;asked&nbsp;how&nbsp;to&nbsp;do&lt;br&gt;<br>
this&nbsp;unknown&nbsp;thing...&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&nbsp;want&nbsp;to&nbsp;implement&nbsp;a&nbsp;URL&nbsp;filter&nbsp;using&nbsp;proxy&nbsp;server.&nbsp;My&nbsp;clients&nbsp;will&nbsp;use&nbsp;this&nbsp;server&nbsp;either&nbsp;from&nbsp;their&nbsp;web-browsers&nbsp;or&nbsp;via&nbsp;strongSwan&nbsp;IPSec&nbsp;VPN&nbsp;server.&nbsp;If&nbsp;they&nbsp;use&nbsp;the&nbsp;proxy&nbsp;server&nbsp;via&nbsp;VPN&nbsp;server,&nbsp;their&nbsp;VPN&nbsp;profile&nbsp;will&nbsp;have&nbsp;HTTP&nbsp;and&nbsp;HTTPS&nbsp;proxy&nbsp;server&nbsp;configuration.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;This&nbsp;proxy&nbsp;server&nbsp;will&nbsp;filter&nbsp;HTTP&nbsp;and&nbsp;HTTPS&nbsp;websites&nbsp;based&nbsp;on&nbsp;ACL&nbsp;provided.&nbsp;For&nbsp;security&nbsp;reasons,&nbsp;I&nbsp;want&nbsp;to&nbsp;avoid&nbsp;using&nbsp;SSL-bump.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;m_-6872900206847984097quoted-text&quot;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&nbsp;Simply&nbsp;put,&nbsp;my&nbsp;question&nbsp;has&nbsp;three&nbsp;parts:&lt;br&gt;<br>
&gt;&nbsp;1.&nbsp;Can&nbsp;Squid&nbsp;be&nbsp;configured&nbsp;as&nbsp;an&nbsp;HTTPS&nbsp;proxy&nbsp;server&nbsp;without&nbsp;SSL-Bump?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;*&nbsp;The&nbsp;term&nbsp;&quot;HTTPS&quot;&nbsp;is&nbsp;a&nbsp;generic&nbsp;term&nbsp;used&nbsp;to&nbsp;simultaneously&nbsp;describe&nbsp;two&lt;br&gt;<br>
completely&nbsp;different&nbsp;traffic&nbsp;syntaxes&nbsp;(CONNECT&nbsp;tunnels,&nbsp;and&nbsp;port&nbsp;443&nbsp;TLS).&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;There&nbsp;are&nbsp;three&nbsp;proxy&nbsp;operating&nbsp;&quot;modes&quot;&nbsp;which&nbsp;may&nbsp;receive&nbsp;each&nbsp;of&lt;br&gt;<br>
those&nbsp;types&nbsp;of&nbsp;traffic&nbsp;(explicit/forward,&nbsp;intercept/tproxy,&nbsp;and&lt;br&gt;<br>
reverse/CDN/accel).&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;For&nbsp;each&nbsp;type&nbsp;of&nbsp;traffic&nbsp;one&nbsp;mode&nbsp;is&nbsp;invalid,&nbsp;leaving&nbsp;2x2=&nbsp;4&nbsp;different&lt;br&gt;<br>
sets&nbsp;of&nbsp;operations&nbsp;all&nbsp;called&nbsp;&quot;proxying&nbsp;HTTPS&quot;.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;This&nbsp;means&nbsp;the&nbsp;combinations&nbsp;are:&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#1&nbsp;CONNECT&nbsp;-&nbsp;explicit/forward&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#2&nbsp;443&nbsp;TLS&nbsp;-&nbsp;explicit/forward&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#3&nbsp;CONNECT&nbsp;-&nbsp;intercept/tproxy&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#4&nbsp;443&nbsp;TLS&nbsp;-&nbsp;intercept/tproxy&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#5&nbsp;CONNECT&nbsp;-&nbsp;reverse/CDN/accel&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;#6&nbsp;443&nbsp;TLS&nbsp;-Â &lt;span&nbsp;style=&quot;font-family:sans-serif&quot;&gt;reverse/CDN/accel&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;span&nbsp;style=&quot;font-family:sans-serif&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;span&nbsp;style=&quot;font-family:sans-serif&quot;&gt;One&nbsp;of&nbsp;modes&nbsp;in&nbsp;each&nbsp;type&nbsp;is&nbsp;invalid.&nbsp;So,&nbsp;from&nbsp;Squid&#39;s&nbsp;HTTPS&nbsp;feature&nbsp;page,&nbsp;looks&nbsp;like&nbsp;my&nbsp;scenario&nbsp;falls&nbsp;either&nbsp;in&nbsp;#1&nbsp;or&nbsp;#3.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;span&nbsp;style=&quot;font-family:sans-serif&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
*&nbsp;all&nbsp;4&nbsp;of&nbsp;those&nbsp;ways&nbsp;may&nbsp;be&nbsp;done&nbsp;with&nbsp;or&nbsp;without&nbsp;SSL-Bump&nbsp;feature.&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;not&nbsp;using&nbsp;SSL-Bump&nbsp;2&nbsp;of&nbsp;the&nbsp;ways&nbsp;of&nbsp;&quot;proxying&nbsp;HTTPS&quot;&nbsp;will&nbsp;work,&nbsp;2&lt;br&gt;<br>
will&nbsp;not.&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;using&nbsp;SSL-Bump&nbsp;the&nbsp;non-working&nbsp;ways&nbsp;of&nbsp;&quot;proxying&nbsp;HTTPS&quot;&nbsp;will&nbsp;start&lt;br&gt;<br>
working,&nbsp;and&nbsp;the&nbsp;working&nbsp;ways&nbsp;will&nbsp;have&nbsp;an&nbsp;extra&nbsp;permutation&nbsp;of&nbsp;splice&lt;br&gt;<br>
vs&nbsp;bump&nbsp;operation&nbsp;that&nbsp;can&nbsp;happen.&nbsp;Extending&nbsp;the&nbsp;possibilities&nbsp;to&nbsp;be&nbsp;6&lt;br&gt;<br>
ways&nbsp;of&nbsp;&quot;proxying&nbsp;HTTPS&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;the&nbsp;answer(s)&nbsp;to&nbsp;your&nbsp;first&nbsp;question&nbsp;are:&lt;br&gt;<br>
&lt;br&gt;<br>
yes,&nbsp;no.Â &nbsp;yes,&nbsp;no.Â &nbsp;no,&nbsp;yes.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;m_-6872900206847984097quoted-text&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;2.&nbsp;If&nbsp;yes,&nbsp;then&nbsp;what&nbsp;other&nbsp;configurations&nbsp;have&nbsp;to&nbsp;performed&nbsp;other&nbsp;than&lt;br&gt;<br>
&gt;&nbsp;&quot;https_port&nbsp;XXXX&quot;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;For&nbsp;the&nbsp;cases&nbsp;where&nbsp;the&nbsp;#1&nbsp;answer&nbsp;was&nbsp;&quot;yes&quot;&nbsp;and&nbsp;not&nbsp;&quot;no&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
a)&nbsp;An&nbsp;explicit/forward&nbsp;or&nbsp;intercept&nbsp;proxy&nbsp;not&nbsp;using&nbsp;ssl-bump&nbsp;and&lt;br&gt;<br>
receiving&nbsp;CONNECT&nbsp;requests&nbsp;does&nbsp;not&nbsp;need&nbsp;any&nbsp;special&nbsp;configuration&nbsp;to&lt;br&gt;<br>
&quot;proxy&nbsp;HTTPS&quot;.&nbsp;The&nbsp;proxy&nbsp;will&nbsp;simply&nbsp;enact&nbsp;the&nbsp;requested&nbsp;opaque&nbsp;tunnel&lt;br&gt;<br>
in&nbsp;accordance&nbsp;to&nbsp;HTTP&nbsp;rules.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;So&nbsp;this&nbsp;means&nbsp;other&nbsp;than&nbsp;specifying&nbsp;&quot;https_port&nbsp;XXXX&quot;&nbsp;no&nbsp;other&nbsp;config&nbsp;is&nbsp;needed.Â &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;When&nbsp;I&nbsp;setup&nbsp;Squid&nbsp;with&nbsp;just&nbsp;&quot;https_port&nbsp;xxxx&quot;&nbsp;and&nbsp;configured&nbsp;Firefox&nbsp;to&nbsp;use&nbsp;my&nbsp;proxy&nbsp;server&nbsp;for&nbsp;HTTP&nbsp;and&nbsp;HTTPS,&nbsp;it&nbsp;worked&nbsp;fine&nbsp;for&nbsp;HTTP&nbsp;but&nbsp;for&nbsp;HTTPS&nbsp;it&nbsp;gave&nbsp;&quot;Proxy&nbsp;server&nbsp;rejected&nbsp;connection&quot;.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;So&nbsp;either&nbsp;something&nbsp;is&nbsp;wrong&nbsp;in&nbsp;my&nbsp;squid.conf&nbsp;or&nbsp;my&nbsp;assumption&nbsp;is&nbsp;incorrect&nbsp;that&nbsp;my&nbsp;scenario&nbsp;falls&nbsp;in&nbsp;#1&nbsp;or&nbsp;#3.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
b)&nbsp;A&nbsp;reverse&nbsp;proxy&nbsp;requires&nbsp;the&nbsp;&#39;accel&#39;&nbsp;mode&nbsp;flag,&nbsp;and&nbsp;the&nbsp;cert=&nbsp;option&lt;br&gt;<br>
must&nbsp;load&nbsp;the&nbsp;cert&nbsp;for&nbsp;the&nbsp;domain&nbsp;you&nbsp;are&nbsp;hosting&nbsp;on&nbsp;that&nbsp;port,&nbsp;and&nbsp;the&lt;br&gt;<br>
key=&nbsp;option&nbsp;must&nbsp;load&nbsp;the&nbsp;private&nbsp;key&nbsp;for&nbsp;that&nbsp;certificate.&lt;br&gt;<br>
&lt;br&gt;<br>
c)&nbsp;all&nbsp;other&nbsp;modes&nbsp;will&nbsp;not&nbsp;work&nbsp;without&nbsp;SSL-Bump&nbsp;feature.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;m_-6872900206847984097quoted-text&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;3.&nbsp;In&nbsp;this&nbsp;configuration,&nbsp;can&nbsp;Squid&nbsp;filter&nbsp;HTTPS&nbsp;requests&nbsp;from&nbsp;ACL?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;That&nbsp;depends&nbsp;on&nbsp;the&nbsp;meaning&nbsp;of&nbsp;&quot;this&quot;.&nbsp;There&nbsp;are&nbsp;3&nbsp;different&lt;br&gt;<br>
configurations&nbsp;in&nbsp;the&nbsp;answer&nbsp;to&nbsp;#2.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;(2a)&nbsp;-&nbsp;no.&nbsp;Only&nbsp;the&nbsp;CONNECT&nbsp;request&nbsp;can&nbsp;be&nbsp;filterd.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;From&nbsp;below&nbsp;links&nbsp;it&nbsp;looks&nbsp;like&nbsp;destination&nbsp;IP&nbsp;Address&nbsp;or&nbsp;hostname&nbsp;of&nbsp;a&nbsp;CONNECT&nbsp;request&nbsp;is&nbsp;same&nbsp;as&nbsp;HTTPS&nbsp;request.&nbsp;Is&nbsp;that&nbsp;correct?&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;a&nbsp;href=&quot;https://en.m.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_tunneling&quot;&gt;https://en.m.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_tunneling&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;a&nbsp;href=&quot;http://stackoverflow.com/a/11698002/548403&quot;&gt;http://stackoverflow.com/a/11698002/548403&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
For&nbsp;(2b)&nbsp;-&nbsp;yes.&nbsp;BUT,&nbsp;notice&nbsp;that&nbsp;it&nbsp;requires&nbsp;private&nbsp;key&nbsp;data&nbsp;for&nbsp;certs.&lt;br&gt;<br>
This&nbsp;configuration&nbsp;is&nbsp;only&nbsp;usable&nbsp;when&nbsp;_you&nbsp;own&nbsp;the&nbsp;domain_&nbsp;which&nbsp;the&lt;br&gt;<br>
client&nbsp;is&nbsp;visiting.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;(2c)&nbsp;-&nbsp;SSL-Bump&nbsp;feature&nbsp;is&nbsp;the&nbsp;mechanism&nbsp;which&nbsp;enables&nbsp;https://&lt;br&gt;<br>
filtering&nbsp;for&nbsp;all&nbsp;traffic&nbsp;modes&nbsp;other&nbsp;than&nbsp;that&nbsp;described&nbsp;by&nbsp;(2b).&lt;br&gt;<br>
Without&nbsp;using&nbsp;that&nbsp;feature&nbsp;-&nbsp;no.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;you&nbsp;understand&nbsp;now&nbsp;why&nbsp;every&nbsp;path&nbsp;you&nbsp;have&nbsp;tried&nbsp;ends&nbsp;up&nbsp;with&nbsp;how-tos&lt;br&gt;<br>
for&nbsp;configuring&nbsp;SSL-Bump?&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Yes,&nbsp;thanks&nbsp;for&nbsp;the&nbsp;elaborate&nbsp;explanation.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;m_-6872900206847984097quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
HTH&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;Amos&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
