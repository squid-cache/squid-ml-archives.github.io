<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;class=&quot;gmail-im&quot;&nbsp;style=&quot;font-size:12.8px&quot;&gt; Hi,&lt;br&gt;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&gt;&nbsp;In&nbsp;my&nbsp;environment&nbsp;I&nbsp;have&nbsp;deployed&nbsp;two&nbsp;KVM&nbsp;hypervisors.&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;deploy&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;class=&quot;gmail-im&quot;&nbsp;style=&quot;font-size:12.8px&quot;&gt;&gt;&nbsp;in&nbsp;my&nbsp;DMZ&nbsp;a&nbsp;squid&nbsp;proxy&nbsp;host&nbsp;in&nbsp;order&nbsp;to&nbsp;hide&nbsp;hypervisor&nbsp;IPs&nbsp;and&nbsp;Ports&nbsp;from&lt;br&gt;&gt;&nbsp;the&nbsp;clients.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Why? &nbsp;What&#39;s&nbsp;the&nbsp;problem&nbsp;with&nbsp;the&nbsp;clients&nbsp;knowing&nbsp;the&nbsp;true&nbsp;values?&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;publis&nbsp;VDI&nbsp;Desktops&nbsp;through&nbsp;Internet.&nbsp;If&nbsp;I&nbsp;have&nbsp;10&nbsp;hypervisors&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;publish&nbsp;10&nbsp;public&nbsp;IPs,&nbsp;I&nbsp;prefer&nbsp;just&nbsp;tu&nbsp;publish&nbsp;a&nbsp;proxy&nbsp;server.&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;class=&quot;gmail-im&quot;&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&gt;&nbsp;Each&nbsp;virtual&nbsp;machine&nbsp;has&nbsp;a&nbsp;unique&nbsp;port&nbsp;but&nbsp;VMs&nbsp;can&nbsp;run&nbsp;on&nbsp;any&nbsp;hypervisor.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;It&nbsp;doesn&#39;t&nbsp;sound&nbsp;to&nbsp;me&nbsp;like&nbsp;the&nbsp;VMs&nbsp;are&nbsp;actually&nbsp;part&nbsp;of&nbsp;what&nbsp;you&#39;re&nbsp;trying&nbsp;to&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;do&nbsp;here? &nbsp;You&#39;re&nbsp;just&nbsp;talking&nbsp;about&nbsp;client&nbsp;connections&nbsp;to&nbsp;hypervisors;&nbsp;the&nbsp;VMs&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;are&nbsp;not&nbsp;part&nbsp;of&nbsp;that.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&gt;&nbsp;The&nbsp;hypervisor&nbsp;has&nbsp;a&nbsp;specific&nbsp;port&nbsp;for&nbsp;each&nbsp;VM.&nbsp;If&nbsp;you&nbsp;connect&nbsp;to&nbsp;the&nbsp;hypervisor&nbsp;by&nbsp;that&nbsp;port,&nbsp;you&nbsp;are&nbsp;connecting&nbsp;directly&nbsp;to&nbsp;the&nbsp;virtual&nbsp;machine.&nbsp;This&nbsp;is&nbsp;how&nbsp;SPICE&nbsp;works.&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&gt;&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;achieve&nbsp;this&nbsp;with&nbsp;squid?&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;What&nbsp;protocol&nbsp;do&nbsp;the&nbsp;clients&nbsp;use&nbsp;to&nbsp;communicate&nbsp;with&nbsp;the&nbsp;KVM&nbsp;Hypervisors?&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;--&gt;&nbsp;The&nbsp;protocol&nbsp;is&nbsp;SPICE&nbsp;(&lt;a&nbsp;href=&quot;https://www.spice-space.org/&quot;&gt;https://www.spice-space.org/&lt;/a&gt;)&lt;br&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;If&nbsp;it&#39;s&nbsp;HTTP,&nbsp;HTTPS&nbsp;or&nbsp;FTP,&nbsp;then&nbsp;you&nbsp;can&nbsp;probably&nbsp;configure&nbsp;Squid&nbsp;in&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;accelerator&nbsp;mode&nbsp;and&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;what&nbsp;you&nbsp;want.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;However,&nbsp;why&nbsp;are&nbsp;you&nbsp;trying&nbsp;to&nbsp;do&nbsp;this? &nbsp;What&nbsp;is&nbsp;the&nbsp;risk&nbsp;involved&nbsp;in&nbsp;the&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;clients&nbsp;knowing&nbsp;the&nbsp;true&nbsp;IPs&nbsp;and&nbsp;ports&nbsp;of&nbsp;the&nbsp;hypervisors,&nbsp;which&nbsp;would&nbsp;be&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;mitigated&nbsp;by&nbsp;having&nbsp;them&nbsp;connect&nbsp;via&nbsp;a&nbsp;proxy&nbsp;instead?&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Have&nbsp;you&nbsp;considered&nbsp;using&nbsp;HAproxy&nbsp;or&nbsp;LVS,&nbsp;both&nbsp;of&nbsp;which&nbsp;are&nbsp;far&nbsp;more&nbsp;generic&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;network&nbsp;proxies&nbsp;than&nbsp;Squid&nbsp;is?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&gt;&nbsp;I&nbsp;have&nbsp;not&nbsp;considered&nbsp;it&nbsp;yet... &lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;class=&quot;gmail-im&quot;&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&gt;&nbsp;Is&nbsp;there&nbsp;any&nbsp;example&nbsp;how&nbsp;to&nbsp;configure&nbsp;this?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Not&nbsp;that&nbsp;I&nbsp;have&nbsp;ever&nbsp;heard&nbsp;of,&nbsp;however&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;protocol&nbsp;which&nbsp;Squid&nbsp;can&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;handle,&nbsp;it&nbsp;really&nbsp;doesn&#39;t&nbsp;matter&nbsp;what&nbsp;the&nbsp;specific&nbsp;backend&nbsp;system&nbsp;is;&nbsp;there&nbsp;are&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;plenty&nbsp;of&nbsp;examples&nbsp;on&nbsp;how&nbsp;to&nbsp;do&nbsp;HTTP,&nbsp;HTTPS&nbsp;and&nbsp;FTP.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2017-02-19&nbsp;23:15&nbsp;GMT+01:00&nbsp;Antony&nbsp;Stone&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:Antony.Stone@squid.open.source.it&quot;&nbsp;target=&quot;_blank&quot;&gt;Antony.Stone@squid.open.source.it&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;Sunday&nbsp;19&nbsp;February&nbsp;2017&nbsp;at&nbsp;19:05:57,&nbsp;Oscar&nbsp;Segarra&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;In&nbsp;my&nbsp;environment&nbsp;I&nbsp;have&nbsp;deployed&nbsp;two&nbsp;KVM&nbsp;hypervisors.&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;deploy&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;in&nbsp;my&nbsp;DMZ&nbsp;a&nbsp;squid&nbsp;proxy&nbsp;host&nbsp;in&nbsp;order&nbsp;to&nbsp;hide&nbsp;hypervisor&nbsp;IPs&nbsp;and&nbsp;Ports&nbsp;from&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;clients.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Why? &nbsp;What&#39;s&nbsp;the&nbsp;problem&nbsp;with&nbsp;the&nbsp;clients&nbsp;knowing&nbsp;the&nbsp;true&nbsp;values?&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;Each&nbsp;virtual&nbsp;machine&nbsp;has&nbsp;a&nbsp;unique&nbsp;port&nbsp;but&nbsp;VMs&nbsp;can&nbsp;run&nbsp;on&nbsp;any&nbsp;hypervisor.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;It&nbsp;doesn&#39;t&nbsp;sound&nbsp;to&nbsp;me&nbsp;like&nbsp;the&nbsp;VMs&nbsp;are&nbsp;actually&nbsp;part&nbsp;of&nbsp;what&nbsp;you&#39;re&nbsp;trying&nbsp;to&lt;br&gt;<br>
do&nbsp;here? &nbsp;You&#39;re&nbsp;just&nbsp;talking&nbsp;about&nbsp;client&nbsp;connections&nbsp;to&nbsp;hypervisors;&nbsp;the&nbsp;VMs&lt;br&gt;<br>
are&nbsp;not&nbsp;part&nbsp;of&nbsp;that.&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;achieve&nbsp;this&nbsp;with&nbsp;squid?&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;protocol&nbsp;do&nbsp;the&nbsp;clients&nbsp;use&nbsp;to&nbsp;communicate&nbsp;with&nbsp;the&nbsp;KVM&nbsp;Hypervisors?&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;it&#39;s&nbsp;HTTP,&nbsp;HTTPS&nbsp;or&nbsp;FTP,&nbsp;then&nbsp;you&nbsp;can&nbsp;probably&nbsp;configure&nbsp;Squid&nbsp;in&lt;br&gt;<br>
accelerator&nbsp;mode&nbsp;and&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;what&nbsp;you&nbsp;want.&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;why&nbsp;are&nbsp;you&nbsp;trying&nbsp;to&nbsp;do&nbsp;this? &nbsp;What&nbsp;is&nbsp;the&nbsp;risk&nbsp;involved&nbsp;in&nbsp;the&lt;br&gt;<br>
clients&nbsp;knowing&nbsp;the&nbsp;true&nbsp;IPs&nbsp;and&nbsp;ports&nbsp;of&nbsp;the&nbsp;hypervisors,&nbsp;which&nbsp;would&nbsp;be&lt;br&gt;<br>
mitigated&nbsp;by&nbsp;having&nbsp;them&nbsp;connect&nbsp;via&nbsp;a&nbsp;proxy&nbsp;instead?&lt;br&gt;<br>
&lt;br&gt;<br>
Have&nbsp;you&nbsp;considered&nbsp;using&nbsp;HAproxy&nbsp;or&nbsp;LVS,&nbsp;both&nbsp;of&nbsp;which&nbsp;are&nbsp;far&nbsp;more&nbsp;generic&lt;br&gt;<br>
network&nbsp;proxies&nbsp;than&nbsp;Squid&nbsp;is?&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;there&nbsp;any&nbsp;example&nbsp;how&nbsp;to&nbsp;configure&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Not&nbsp;that&nbsp;I&nbsp;have&nbsp;ever&nbsp;heard&nbsp;of,&nbsp;however&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;protocol&nbsp;which&nbsp;Squid&nbsp;can&lt;br&gt;<br>
handle,&nbsp;it&nbsp;really&nbsp;doesn&#39;t&nbsp;matter&nbsp;what&nbsp;the&nbsp;specific&nbsp;backend&nbsp;system&nbsp;is;&nbsp;there&nbsp;are&lt;br&gt;<br>
plenty&nbsp;of&nbsp;examples&nbsp;on&nbsp;how&nbsp;to&nbsp;do&nbsp;HTTP,&nbsp;HTTPS&nbsp;and&nbsp;FTP.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Antony.&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Numerous&nbsp;psychological&nbsp;studies&nbsp;over&nbsp;the&nbsp;years&nbsp;have&nbsp;demonstrated&nbsp;that&nbsp;the&lt;br&gt;<br>
majority&nbsp;of&nbsp;people&nbsp;genuinely&nbsp;believe&nbsp;they&nbsp;are&nbsp;not&nbsp;like&nbsp;the&nbsp;majority&nbsp;of&nbsp;people.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Please&nbsp;reply&nbsp;to&nbsp;the&nbsp;list;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; please&nbsp;*don&#39;t*&nbsp;CC&nbsp;me.&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
