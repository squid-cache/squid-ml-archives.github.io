<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Are&nbsp;you&nbsp;creating&nbsp;the&nbsp;database&nbsp;as&nbsp;root&nbsp;or&nbsp;the&nbsp;squid&nbsp;user.....try&nbsp;as&nbsp;the&nbsp;squid&nbsp;user&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;3&nbsp;March&nbsp;2017&nbsp;at&nbsp;08:46,&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid-users-request@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users-request@lists.squid-cache.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Send&nbsp;squid-users&nbsp;mailing&nbsp;list&nbsp;submissions&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;subscribe&nbsp;or&nbsp;unsubscribe&nbsp;via&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web,&nbsp;visit&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
or,&nbsp;via&nbsp;email,&nbsp;send&nbsp;a&nbsp;message&nbsp;with&nbsp;subject&nbsp;or&nbsp;body&nbsp;&#39;help&#39;&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users-request@lists.squid-cache.org&quot;&gt;squid-users-request@lists.&lt;wbr&gt;squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;reach&nbsp;the&nbsp;person&nbsp;managing&nbsp;the&nbsp;list&nbsp;at&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users-owner@lists.squid-cache.org&quot;&gt;squid-users-owner@lists.squid-&lt;wbr&gt;cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;replying,&nbsp;please&nbsp;edit&nbsp;your&nbsp;Subject&nbsp;line&nbsp;so&nbsp;it&nbsp;is&nbsp;more&nbsp;specific&lt;br&gt;<br>
than&nbsp;&quot;Re:&nbsp;Contents&nbsp;of&nbsp;squid-users&nbsp;digest...&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Today&#39;s&nbsp;Topics:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; 1.&nbsp;Re:&nbsp;squid&nbsp;3.5.2==&gt;&nbsp;HTTPS&nbsp;FATAL:&nbsp;The&nbsp;ssl_crtd&nbsp;helpers&nbsp;are&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;crashing&nbsp;too&nbsp;rapidly,&nbsp;need&nbsp;help!&nbsp;(Yuri&nbsp;Voinov)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;wbr&gt;------------------------------&lt;wbr&gt;----------&lt;br&gt;<br>
&lt;br&gt;<br>
Message:&nbsp;1&lt;br&gt;<br>
Date:&nbsp;Fri,&nbsp;3&nbsp;Mar&nbsp;2017&nbsp;03:46:10&nbsp;+0600&lt;br&gt;<br>
From:&nbsp;Yuri&nbsp;Voinov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:yvoinov@gmail.com&quot;&gt;yvoinov@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;squid&nbsp;3.5.2==&gt;&nbsp;HTTPS&nbsp;FATAL:&nbsp;The&nbsp;ssl_crtd&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;helpers&nbsp;are&nbsp;crashing&nbsp;too&nbsp;rapidly,&nbsp;need&nbsp;help!&lt;br&gt;<br>
Message-ID:&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:714528e5-a6d5-e72a-2bc7-9950a8eecb73@gmail.com&quot;&gt;714528e5-a6d5-e72a-2bc7-&lt;wbr&gt;9950a8eecb73@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;problem,&nbsp;in&nbsp;principle,&nbsp;is&nbsp;common&nbsp;to&nbsp;all&nbsp;versions&nbsp;of&nbsp;ssl-bumped&lt;br&gt;<br>
Squid&nbsp;from&nbsp;version&nbsp;3.4&nbsp;and&nbsp;5.0,&nbsp;inclusive,&nbsp;and&nbsp;occurs&nbsp;when&nbsp;the&nbsp;stored&lt;br&gt;<br>
certificate&nbsp;is&nbsp;damaged&nbsp;for&nbsp;any&nbsp;reason.&nbsp;The&nbsp;only&nbsp;thing&nbsp;vorkeraund&nbsp;that&nbsp;I&lt;br&gt;<br>
could&nbsp;find&nbsp;-&nbsp;a&nbsp;monitor&nbsp;kesh.log&nbsp;and&nbsp;initialize&nbsp;the&nbsp;certificate&nbsp;database&lt;br&gt;<br>
again&nbsp;with&nbsp;squid&nbsp;restart&nbsp;automatically.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;some&nbsp;installations,&nbsp;this&nbsp;problem&nbsp;does&nbsp;not&nbsp;occur&nbsp;over&nbsp;the&nbsp;years.&nbsp;In&lt;br&gt;<br>
other&nbsp;-&nbsp;almost&nbsp;daily.&nbsp;I&nbsp;have&nbsp;no&nbsp;desire&nbsp;to&nbsp;find&nbsp;out&nbsp;why&nbsp;this&nbsp;is&nbsp;happening&lt;br&gt;<br>
exactly.&nbsp;For&nbsp;me&nbsp;it&nbsp;was&nbsp;easier&nbsp;to&nbsp;make&nbsp;the&nbsp;watchdog,&nbsp;which&nbsp;will&nbsp;follow&nbsp;up&lt;br&gt;<br>
on&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
03.03.2017&nbsp;3:40,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;One&nbsp;hint&nbsp;finally:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&#39;([^&nbsp;]*)&nbsp;helper&nbsp;database&nbsp;([^&nbsp;]*)&nbsp;failed:&nbsp;The&nbsp;SSL&nbsp;certificate&nbsp;database&lt;br&gt;<br>
&gt;&nbsp;([^&nbsp;]*)&nbsp;is&nbsp;corrupted.&nbsp;Please&nbsp;rebuild&#39;&nbsp;-&nbsp;-&nbsp;-&nbsp;0 &nbsp; &nbsp;exec&lt;br&gt;<br>
&gt;&nbsp;&quot;/usr/local/bin/crtd_create.sh&nbsp;-r&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1&quot;&lt;br&gt;<br>
&gt;&nbsp;&#39;FATAL:&nbsp;([^&nbsp;]*)&nbsp;helpers&nbsp;are&nbsp;crashing&nbsp;too&nbsp;rapidly,&nbsp;need&nbsp;help!&#39;&nbsp;-&nbsp;-&nbsp;-&lt;br&gt;<br>
&gt;&nbsp;0 &nbsp; &nbsp;exec&nbsp;&quot;/usr/local/bin/crtd_create.sh&nbsp;-r&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1&quot;&lt;br&gt;<br>
&gt;&nbsp;&#39;Cannot&nbsp;add&nbsp;certificate&nbsp;to&nbsp;db.&#39;&nbsp;-&nbsp;-&nbsp;-&nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;exec&lt;br&gt;<br>
&gt;&nbsp;&quot;/usr/local/bin/crtd_create.sh&nbsp;-r&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1&quot;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;PS.&nbsp;This&nbsp;is&nbsp;from&nbsp;logsurfer.conf.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;03.03.2017&nbsp;3:34,&nbsp;Yuri&nbsp;Voinov&nbsp;пишет:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;This&nbsp;error&nbsp;is&nbsp;usually&nbsp;preceded&nbsp;by&nbsp;another&nbsp;error&nbsp;in&nbsp;cache.log&lt;br&gt;<br>
&gt;&gt;&nbsp;associated&nbsp;with&nbsp;the&nbsp;certificates.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;will&nbsp;show&nbsp;you&nbsp;the&nbsp;direction.&nbsp;Then&nbsp;go&nbsp;himself.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;This&nbsp;software&nbsp;will&nbsp;useful&nbsp;for&nbsp;you&nbsp;to&nbsp;solve:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.crypt.gen.nz/logsurfer/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.crypt.gen.nz/&lt;wbr&gt;logsurfer/&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;HTH,&nbsp;Yuri&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;03.03.2017&nbsp;2:47,&nbsp;--Ahmad--&nbsp;пишет:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;hey&nbsp;folks&nbsp;.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;i&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;squid&nbsp;it&nbsp;get&nbsp;crashed&nbsp;after&nbsp;i&nbsp;enabled&nbsp;https&nbsp;!&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cache&nbsp;log&nbsp;error&nbsp;=&gt;&nbsp;FATAL:&nbsp;The&nbsp;ssl_crtd&nbsp;helpers&nbsp;are&nbsp;crashing&nbsp;too&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;rapidly,&nbsp;need&nbsp;help!&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;i&nbsp;googled&nbsp;many&nbsp;topics&nbsp;and&nbsp;relevant&nbsp;pages&nbsp;and&nbsp;couldnt&nbsp;find&nbsp;a&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;clear&nbsp;solution&nbsp;.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;the&nbsp;quick&nbsp;solution&nbsp;i&nbsp;made&nbsp;was&nbsp;i &nbsp;removed&nbsp;the&nbsp;certs&nbsp;in&nbsp;file&nbsp;:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;*rm&nbsp;-rfv&nbsp;/var/lib/ssl_db/*&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;*&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;*&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;*then&nbsp;reinitiated&nbsp;the&nbsp;DB&nbsp;using&nbsp;cmd&nbsp;below&nbsp;:*&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;/lib/squid/ssl_crtd&nbsp;-c&nbsp;-s&nbsp;/var/lib/ssl_db&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;chown&nbsp;-R&nbsp;squid.squid&nbsp;/var/lib/ssl_db&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;chown-R&nbsp;squid.squid&nbsp;/var/lib/ssl_db&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;the&nbsp;restarted&nbsp;squid&nbsp;.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;solution&nbsp;becuase&nbsp;squid&nbsp;get&nbsp;crashed&nbsp;again&nbsp;after&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;certain&nbsp;time&nbsp;and&nbsp;i&nbsp;don’t&nbsp;know&nbsp;why&nbsp;!&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;my&nbsp;version&nbsp;is&nbsp;3.5.2&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;here&nbsp;is&nbsp;squid.conf&nbsp;:&lt;br&gt;<br>
&gt;&gt;&gt; &nbsp;/etc/squid/squid.conf&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;visible_hostname&nbsp;pcloud&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;ip1&nbsp;myip&nbsp;10.1.0.1&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;ip2&nbsp;myip&nbsp;192.168.10.210&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;tcp_outgoing_address&nbsp;192.168.10.210&nbsp;ip1&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;tcp_outgoing_address&nbsp;192.168.10.210&nbsp;ip2&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Recommended&nbsp;minimum&nbsp;configuration:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Adapt&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&nbsp;from&nbsp;where&nbsp;browsing&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.0.0.0/8&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;10.0.0.0/8&lt;/a&gt; &nbsp; &nbsp; #&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://172.16.0.0/12&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;172.16.0.0/12&lt;/a&gt; &nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.0.0/16&lt;/a&gt;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7 &nbsp; &nbsp; &nbsp; #&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10 &nbsp; &nbsp; &nbsp;#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;plugged)&nbsp;machines&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;http&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;21 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;ftp&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;443 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;https&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;70 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;gopher&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;210 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;wais&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535 &nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;280 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;http-mgmt&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;488 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;gss-http&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;591 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;filemaker&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;777 &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;multiling&nbsp;http&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Recommended&nbsp;minimum&nbsp;Access&nbsp;Permission&nbsp;configuration:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Deny&nbsp;requests&nbsp;to&nbsp;certain&nbsp;unsafe&nbsp;ports&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Deny&nbsp;CONNECT&nbsp;to&nbsp;other&nbsp;than&nbsp;secure&nbsp;SSL&nbsp;ports&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;allow &nbsp;CONNECT&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Only&nbsp;allow&nbsp;cachemgr&nbsp;access&nbsp;from&nbsp;localhost&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;manager&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;We&nbsp;strongly&nbsp;recommend&nbsp;the&nbsp;following&nbsp;be&nbsp;uncommented&nbsp;to&nbsp;protect&nbsp;innocent&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;web&nbsp;applications&nbsp;running&nbsp;on&nbsp;the&nbsp;proxy&nbsp;server&nbsp;who&nbsp;think&nbsp;the&nbsp;only&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;one&nbsp;who&nbsp;can&nbsp;access&nbsp;services&nbsp;on&nbsp;&quot;localhost&quot;&nbsp;is&nbsp;a&nbsp;local&nbsp;user&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#http_access&nbsp;deny&nbsp;to_localhost&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;INSERT&nbsp;YOUR&nbsp;OWN&nbsp;RULE(S)&nbsp;HERE&nbsp;TO&nbsp;ALLOW&nbsp;ACCESS&nbsp;FROM&nbsp;YOUR&nbsp;CLIENTS&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Adapt&nbsp;localnet&nbsp;in&nbsp;the&nbsp;ACL&nbsp;section&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;from&nbsp;where&nbsp;browsing&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;localnet&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;localhost&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;And&nbsp;finally&nbsp;deny&nbsp;all&nbsp;other&nbsp;access&nbsp;to&nbsp;this&nbsp;proxy&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_port&nbsp;3128&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Uncomment&nbsp;and&nbsp;adjust&nbsp;the&nbsp;following&nbsp;to&nbsp;add&nbsp;a&nbsp;disk&nbsp;cache&nbsp;directory.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#cache_dir&nbsp;ufs&nbsp;/var/cache/squid&nbsp;100&nbsp;16&nbsp;256&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Leave&nbsp;coredumps&nbsp;in&nbsp;the&nbsp;first&nbsp;cache&nbsp;dir&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#coredump_dir&nbsp;/var/cache/squid&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Add&nbsp;any&nbsp;of&nbsp;your&nbsp;own&nbsp;refresh_pattern&nbsp;entries&nbsp;above&nbsp;these.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;http_port&nbsp;3126&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#http_port&nbsp;3128&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;##############################&lt;wbr&gt;#########&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#cache_swap_low&nbsp;90&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#cache_swap_high&nbsp;95&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;############################&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cache_effective_user&nbsp;squid&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cache_effective_group&nbsp;squid&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;memory_replacement_policy&nbsp;lru&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cache_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;########################&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;maximum_object_size&nbsp;10000&nbsp;MB&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#cache_mem&nbsp;5000&nbsp;MB&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;maximum_object_size_in_memory&nbsp;10&nbsp;MB&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#########################&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;logfile_rotate&nbsp;2&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;max_filedescriptors&nbsp;131072&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;##############################&lt;wbr&gt;#&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;############&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cache_dir&nbsp;aufs&nbsp;/var/cache/squid&nbsp;600000&nbsp;64&nbsp;128&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;##############################&lt;wbr&gt;#########&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;https_port&nbsp;3129&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;dynamic_cert_mem_cache_size=&lt;wbr&gt;4MB&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;cert=/usr/local/squid/ssl_&lt;wbr&gt;cert/myca.pem&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;key=/usr/local/squid/ssl_cert/&lt;wbr&gt;myca.pem&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;ssl_bump&nbsp;server-first&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;sslcrtd_program&nbsp;/lib/squid/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;sslcrtd_children&nbsp;1000&nbsp;startup=1&nbsp;idle=1&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;###&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;minimum_object_size&nbsp;0&nbsp;bytes&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;#refresh&nbsp;patterns&nbsp;for&nbsp;caching&nbsp;static&nbsp;files&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;^ftp:&nbsp;1440&nbsp;20%&nbsp;10080&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;^gopher:&nbsp;1440&nbsp;0%&nbsp;1440&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;.(gif|png|jpg|jpeg|ico)$&nbsp;10080&nbsp;90%&nbsp;43200&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;ignore-private&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;.(iso|avi|wav|mp3|mp4|mpeg|&lt;wbr&gt;swf|flv|x-flv)$&nbsp;43200&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;90%&nbsp;432000&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;ignore-private&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;.(deb|rpm|exe|zip|tar|tgz|ram|&lt;wbr&gt;rar|bin|ppt|doc|tiff)$&nbsp;10080&nbsp;90%&nbsp;43200&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;override-expire&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;ignore-private&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;.index.(html|htm)$&nbsp;0&nbsp;40%&nbsp;10080&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;.(html|htm|css|js)$&nbsp;1440&nbsp;40%&nbsp;40320&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;.&nbsp;0&nbsp;40%&nbsp;40320&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;any&nbsp;Joy&nbsp;Guys&nbsp;?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;should&nbsp;i&nbsp;update&nbsp;squid&nbsp;?&nbsp;or&nbsp;downgrade&nbsp;squid&nbsp;?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;kind&nbsp;regards&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&nbsp;Bugs&nbsp;to&nbsp;the&nbsp;Future&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;Bugs&nbsp;to&nbsp;the&nbsp;Future&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Bugs&nbsp;to&nbsp;the&nbsp;Future&lt;br&gt;<br>
--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;<br>
An&nbsp;HTML&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;<br>
URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20170303/f5499462/attachment.html&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;pipermail/squid-users/&lt;wbr&gt;attachments/20170303/f5499462/&lt;wbr&gt;attachment.html&lt;/a&gt;&gt;&lt;br&gt;<br>
--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;<br>
A&nbsp;non-text&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;<br>
Name:&nbsp;0x613DEC46.asc&lt;br&gt;<br>
Type:&nbsp;application/pgp-keys&lt;br&gt;<br>
Size:&nbsp;2437&nbsp;bytes&lt;br&gt;<br>
Desc:&nbsp;not&nbsp;available&lt;br&gt;<br>
URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20170303/f5499462/attachment.key&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;pipermail/squid-users/&lt;wbr&gt;attachments/20170303/f5499462/&lt;wbr&gt;attachment.key&lt;/a&gt;&gt;&lt;br&gt;<br>
--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;<br>
A&nbsp;non-text&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;<br>
Name:&nbsp;signature.asc&lt;br&gt;<br>
Type:&nbsp;application/pgp-signature&lt;br&gt;<br>
Size:&nbsp;473&nbsp;bytes&lt;br&gt;<br>
Desc:&nbsp;OpenPGP&nbsp;digital&nbsp;signature&lt;br&gt;<br>
URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20170303/f5499462/attachment.sig&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;pipermail/squid-users/&lt;wbr&gt;attachments/20170303/f5499462/&lt;wbr&gt;attachment.sig&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
Subject:&nbsp;Digest&nbsp;Footer&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
End&nbsp;of&nbsp;squid-users&nbsp;Digest,&nbsp;Vol&nbsp;31,&nbsp;Issue&nbsp;9&lt;br&gt;<br>
******************************&lt;wbr&gt;************&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;hate&nbsp;to&nbsp;advocate&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;&lt;b&gt;drugs&lt;/b&gt;&lt;/span&gt;,&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;&lt;b&gt;alcohol&lt;/b&gt;&lt;/span&gt;,&lt;b&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;violence&lt;/span&gt;&nbsp;&lt;/b&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;&lt;/span&gt;&lt;/span&gt;or&nbsp;&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;&lt;b&gt;insanity&lt;/b&gt;&lt;/span&gt;&nbsp;to&nbsp;anyone,&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;&nbsp;&lt;b&gt;but&lt;/b&gt;&lt;/span&gt;&nbsp;they&#39;ve&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;always&lt;/span&gt;&lt;/b&gt;&nbsp;worked&nbsp;for&lt;b&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,153,0)&quot;&gt;me&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,153,0)&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;-&nbsp;Hunter&nbsp;S.&nbsp;Thompson&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
