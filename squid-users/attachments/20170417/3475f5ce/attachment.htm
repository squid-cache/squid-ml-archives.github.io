<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30371&quot;&gt;Hi,&lt;/span&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30372&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30374&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30378&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30379&quot;&gt;I'm&nbsp;new&nbsp;to&nbsp;Squid,&nbsp;and&nbsp;having&nbsp;trouble&nbsp;getting&nbsp;SSL&nbsp;filtering&nbsp;work.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30380&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30381&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30382&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30383&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30384&quot;&gt;I<br>
&nbsp;have&nbsp;a&nbsp;blanket&nbsp;block&nbsp;setup&nbsp;with&nbsp;Squid&nbsp;as&nbsp;Transparent&nbsp;proxy&nbsp;where&nbsp;access<br>
&nbsp;it&nbsp;allowed&nbsp;only&nbsp;to&nbsp;github.com.&nbsp;But,&nbsp;squid&nbsp;generates&nbsp;certificates&nbsp;for&nbsp;IP<br>
&nbsp;address&nbsp;instead&nbsp;of&nbsp;domain&nbsp;name&nbsp;and&nbsp;SSL&nbsp;validation&nbsp;fails.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30385&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30386&quot;&gt;&lt;/span&gt;Squid&nbsp;version:&nbsp;&lt;code&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30387&quot;&gt;3.5.25-20170408-r14154&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30388&quot;&gt;When&nbsp;I&nbsp;use&nbsp;curl&nbsp;(I&nbsp;have&nbsp;imported&nbsp;my&nbsp;self&nbsp;signed&nbsp;SSL&nbsp;to&nbsp;the&nbsp;certificate&nbsp;store)&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30389&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;code&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30390&quot;&gt;curl:&nbsp;(51)&nbsp;SSL:&nbsp;certificate&nbsp;subject&nbsp;name&nbsp;(192.30.255.112)&nbsp;does&nbsp;not&nbsp;match&nbsp;target&nbsp;host&nbsp;name&nbsp;'github.com&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30392&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_31552&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_31554&quot;&gt;How&nbsp;to&nbsp;configure&nbsp;properly&nbsp;to&nbsp;splice&nbsp;a&nbsp;whitelist&nbsp;and&nbsp;block&nbsp;all&nbsp;other&nbsp;domains.&nbsp;Below&nbsp;is&nbsp;my&nbsp;current&nbsp;configuration&lt;/div&gt;&lt;/div&gt;&lt;pre&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30393&quot;&gt;http_port&nbsp;3128&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30394&quot;&nbsp;clear=&quot;none&quot;&gt;http_port&nbsp;3129&nbsp;intercept&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30395&quot;&nbsp;clear=&quot;none&quot;&gt;https_port&nbsp;3130intercept&nbsp;ssl-bump&nbsp;enerate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;<br>
cert=/etc/squid/ssl_certs/myca.pem&nbsp;key=/etc/squid/ssl_certs/myca.pem&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30396&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30397&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;whitelist&nbsp;ssl::server_name&nbsp;.github.com&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30398&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30399&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30400&quot;&nbsp;clear=&quot;none&quot;&gt;ssl_bump&nbsp;peek&nbsp;step1&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30401&quot;&nbsp;clear=&quot;none&quot;&gt;ssl_bump&nbsp;splice&nbsp;whitelist&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30402&quot;&nbsp;clear=&quot;none&quot;&gt;ssl_bump&nbsp;bump&nbsp;all&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30403&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30404&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;span&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30405&quot;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30406&quot;&gt;Please&nbsp;help&nbsp;me&nbsp;fixing&nbsp;the&nbsp;issue.&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30407&quot;&gt;&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30408&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492438383468_30409&quot;&gt;thanks,&lt;/div&gt;Shan&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
