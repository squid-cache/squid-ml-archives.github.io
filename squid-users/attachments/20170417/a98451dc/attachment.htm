<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5220&quot;&gt;&lt;div&nbsp;style=&quot;color:#000;background-color:#fff;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px;&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5219&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2187&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2186&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px;&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_10844&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_10843&quot;&nbsp;style=&quot;color:#000;background-color:#fff;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px;&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3247&quot;&gt;Hi&nbsp;Alex,&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5078&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5076&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3250&quot;&gt;Thank&nbsp;you.&nbsp;Yes,&nbsp;there&nbsp;are&nbsp;http_access&nbsp;rules&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3252&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3251&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5523&quot;&gt;I&nbsp;have&nbsp;included&nbsp;the&nbsp;entire&nbsp;configuration&nbsp;file&nbsp;(Sorry,&nbsp;I'm&nbsp;new&nbsp;to&nbsp;Squid)&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5521&quot;&gt;The&nbsp;goal&nbsp;is&nbsp;to&nbsp;splice&nbsp;only&nbsp;whitelist&nbsp;(github.com)&nbsp;and&nbsp;terminate&nbsp;all&nbsp;other&nbsp;domains.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5129&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5270&quot;&nbsp;clear=&quot;none&quot;&gt;http_port&nbsp;3128&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5271&quot;&nbsp;clear=&quot;none&quot;&gt;http_port&nbsp;3129&nbsp;intercept&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5272&quot;&nbsp;clear=&quot;none&quot;&gt;https_port&nbsp;3130&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/ssl_certs/myca.pem&nbsp;key=/etc/squid/ssl_certs/myca.pem&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5273&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5274&quot;&nbsp;clear=&quot;none&quot;&gt;visible_hostname&nbsp;squid.internal&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5275&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5277&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;localnet&nbsp;src&nbsp;172.16.0.0/16&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5278&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3171&quot;&gt;acl&nbsp;http_whitelist&nbsp;dstdomain&nbsp;.github.com&lt;/div&gt;acl&nbsp;whitelist&nbsp;ssl::server_name&nbsp;.github.com&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5280&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5281&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5282&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5283&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ftp&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5284&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;https&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5285&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gopher&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5286&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;wais&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5287&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http-mgmt&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5288&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gss-http&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5289&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;filemaker&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5290&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiling&nbsp;http&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5291&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;&nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5292&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5293&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;step2&nbsp;at_step&nbsp;SslBump2&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5294&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5295&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5296&quot;&nbsp;clear=&quot;none&quot;&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5297&quot;&nbsp;clear=&quot;none&quot;&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5298&quot;&nbsp;clear=&quot;none&quot;&gt;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5299&quot;&nbsp;clear=&quot;none&quot;&gt;http_access&nbsp;deny&nbsp;manager&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5300&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5302&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_3268&quot;&gt;http_access&nbsp;allow&nbsp;http_whitelist&nbsp;localnet&lt;/div&gt;http_access&nbsp;deny&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5304&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5305&quot;&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5431&quot;&nbsp;clear=&quot;none&quot;&gt;ssl_bump&nbsp;peek&nbsp;step1&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5432&quot;&nbsp;clear=&quot;none&quot;&gt;ssl_bump&nbsp;splice&nbsp;whitelist&lt;br&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5433&quot;&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5439&quot;&gt;ssl_bump&nbsp;bump&nbsp;all&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5452&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5485&quot;&gt;via&nbsp;off&lt;/div&gt;forwarded_for&nbsp;off&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5311&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Allow&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5312&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Authorization&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5313&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;WWW-Authenticate&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5314&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Proxy-Authorization&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5315&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Proxy-Authenticate&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5316&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Cache-Control&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5317&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Content-Encoding&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5318&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Content-Length&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5319&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Content-Type&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5320&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Date&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5321&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Expires&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5322&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Host&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5323&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;If-Modified-Since&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5324&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Last-Modified&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5325&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Location&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5326&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Pragma&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5327&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Accept&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5328&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Accept-Charset&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5329&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Accept-Encoding&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5330&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Accept-Language&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5331&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Content-Language&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5332&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Mime-Version&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5333&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Retry-After&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5334&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Title&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5335&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Connection&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5336&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Proxy-Connection&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5337&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;User-Agent&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5338&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;Cookie&nbsp;allow&nbsp;all&lt;br&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5339&quot;&nbsp;clear=&quot;none&quot;&gt;request_header_access&nbsp;All&nbsp;deny&nbsp;all&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5077&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5075&quot;&gt;&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9677157595signature&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492444613556_5074&quot;&gt;&lt;span&nbsp;style=&quot;font-size:small;&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5490&quot;&gt;-Shan&lt;/span&gt;&lt;/div&gt;&nbsp;&lt;div&nbsp;class=&quot;yiv9677157595qtdSeparateBR&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5488&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9677157595yqt5679300248&quot;&nbsp;id=&quot;yiv9677157595yqt57579&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv9677157595yqt1290664056&quot;&nbsp;id=&quot;yiv9677157595yqt86850&quot;&gt;&lt;div&nbsp;class=&quot;yiv9677157595yqt4907182381&quot;&nbsp;id=&quot;yiv9677157595yqt35990&quot;&gt;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2185&quot;&gt;&nbsp;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2184&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:13px;&quot;&gt;&nbsp;&lt;div&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2183&quot;&nbsp;style=&quot;font-family:HelveticaNeue,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5487&quot;&gt;&lt;font&nbsp;id=&quot;yui_3_16_0_ym19_1_1492447834855_5486&quot;&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;On&nbsp;Monday,&nbsp;April&nbsp;17,&nbsp;2017&nbsp;10:10&nbsp;PM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;rousskov@measurement-factory.com&gt;&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/font&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&lt;div&nbsp;class=&quot;yiv9677157595y_msg_container&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2182&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yiv9677157595yui_3_16_0_ym19_1_1492447834855_2181&quot;&gt;On&nbsp;04/17/2017&nbsp;08:38&nbsp;AM,&nbsp;Shanmugam&nbsp;Sundaram&nbsp;wrote:&lt;div&nbsp;class=&quot;yiv9677157595yqt9720908102&quot;&nbsp;id=&quot;yiv9677157595yqtfd19898&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;blanket&nbsp;block&nbsp;setup&nbsp;with&nbsp;Squid&nbsp;as&nbsp;Transparent&nbsp;proxy&nbsp;where&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;access&nbsp;it&nbsp;allowed&nbsp;only&nbsp;to&nbsp;github.com.&nbsp;But,&nbsp;squid&nbsp;generates&nbsp;certificates&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;for&nbsp;IP&nbsp;address&nbsp;instead&nbsp;of&nbsp;domain&nbsp;name&nbsp;and&nbsp;SSL&nbsp;validation&nbsp;fails.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Squid&nbsp;version:&nbsp;|3.5.25-20170408-r14154|&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;When&nbsp;I&nbsp;use&nbsp;curl&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;|curl:&nbsp;(51)&nbsp;SSL:&nbsp;certificate&nbsp;subject&nbsp;name&nbsp;(192.30.255.112)&nbsp;does&nbsp;not&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;match&nbsp;target&nbsp;host&nbsp;name&nbsp;'github.com|&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;How&nbsp;to&nbsp;configure&nbsp;properly&nbsp;to&nbsp;splice&nbsp;a&nbsp;whitelist&nbsp;and&nbsp;block&nbsp;all&nbsp;other&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;domains.&nbsp;Below&nbsp;is&nbsp;my&nbsp;current&nbsp;configuration&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;http_port&nbsp;3128&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;http_port&nbsp;3129&nbsp;intercept&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;https_port&nbsp;3130intercept&nbsp;ssl-bump&nbsp;enerate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;cert=/etc/squid/ssl_certs/myca.pem&nbsp;key=/etc/squid/ssl_certs/myca.pem&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;acl&nbsp;whitelist&nbsp;ssl::server_name&nbsp;.github.com&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;ssl_bump&nbsp;peek&nbsp;step1&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;ssl_bump&nbsp;splice&nbsp;whitelist&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Please&nbsp;help&nbsp;me&nbsp;fixing&nbsp;the&nbsp;issue.&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Any&nbsp;http_access&nbsp;rules?&nbsp;Is&nbsp;it&nbsp;possible&nbsp;that&nbsp;Squid&nbsp;denies&nbsp;the&nbsp;fake&nbsp;CONNECT&lt;br&nbsp;clear=&quot;none&quot;&gt;request&nbsp;during&nbsp;step1&nbsp;(before&nbsp;looking&nbsp;up&nbsp;SNI&nbsp;during&nbsp;step2)?&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;What&nbsp;does&nbsp;access.log&nbsp;say?&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Alex.&lt;div&nbsp;class=&quot;yiv9677157595yqt9720908102&quot;&nbsp;id=&quot;yiv9677157595yqtfd46257&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
