<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;facing&nbsp;an&nbsp;issue&nbsp;with&nbsp;Squid&nbsp;3.5&nbsp;with&nbsp;SSL&nbsp;Bump&nbsp;configuration,&nbsp;i&nbsp;already&nbsp;configure&nbsp;it&nbsp;without&nbsp;SSL&nbsp;bump&nbsp;and&nbsp;it&nbsp;works&nbsp;fine.&nbsp;but&nbsp;after&nbsp;configuring&nbsp;intercept&nbsp;process&nbsp;it&nbsp;shows&nbsp;the&nbsp;below&nbsp;error:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;No&nbsp;valid&nbsp;signing&nbsp;SSL&nbsp;certificate&nbsp;configured&nbsp;for&nbsp;HTTPS_port&nbsp;[::]:3128&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;below&nbsp;snippet&nbsp;from&nbsp;the&nbsp;Squid&nbsp;configuration&nbsp;file:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;https_port&nbsp;3128&nbsp;intercept&nbsp;ssl-bump&nbsp;\&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp;generate-host-certificates=on&nbsp;\&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;\&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp;cert=/etc/squid/ssl_cert/myCA.pem&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;#&nbsp;For&nbsp;squid&nbsp;3.5.x&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;sslcrtd_program&nbsp;/usr/lib64/squid/ssl_crtd&nbsp; -s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;ssl_bump&nbsp;peek&nbsp;step1&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;ssl_bump&nbsp;bump&nbsp;all&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;i&nbsp;used&nbsp;the&nbsp;below&nbsp;link&nbsp;as&nbsp;guid&nbsp;in&nbsp;creating&nbsp;the&nbsp;certificate:&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit&quot;&gt;http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;moreover,&nbsp;below&nbsp;are&nbsp;the&nbsp;result&nbsp;for&nbsp;squid&nbsp;-k&nbsp;command:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initializing&nbsp;Authentication&nbsp;Schemes&nbsp;...&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initialized&nbsp;Authentication&nbsp;Scheme&nbsp;&#39;basic&#39;&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initialized&nbsp;Authentication&nbsp;Scheme&nbsp;&#39;digest&#39;&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initialized&nbsp;Authentication&nbsp;Scheme&nbsp;&#39;negotiate&#39;&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initialized&nbsp;Authentication&nbsp;Scheme&nbsp;&#39;ntlm&#39;&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Startup:&nbsp;Initialized&nbsp;Authentication.&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing&nbsp;Configuration&nbsp;File:&nbsp;/etc/squid/squid.conf&nbsp;(depth&nbsp;0)&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://172.16.10.0/24&quot;&gt;172.16.10.0/24&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&gt;192.168.0.0/16&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10&nbsp; &nbsp; &nbsp; #&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;http&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;ftp&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;https&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;gopher&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;wais&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;#&nbsp;unregistered&nbsp;ports&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;http-mgmt&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;gss-http&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;filemaker&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp;multiling&nbsp;http&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;deny&nbsp;!Safe_ports&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;deny&nbsp;manager&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;allow&nbsp;localnet&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;allow&nbsp;localhost&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;http_access&nbsp;deny&nbsp;all&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;https_port&nbsp;3128&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/ssl_cert/myCA.pem&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Starting&nbsp;Authentication&nbsp;on&nbsp;port&nbsp;[::]:3128&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Disabling&nbsp;Authentication&nbsp;on&nbsp;port&nbsp;[::]:3128&nbsp;(interception&nbsp;enabled)&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;sslcrtd_program&nbsp;/usr/lib64/squid/ssl_crtd&nbsp; -s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;ssl_bump&nbsp;peek&nbsp;step1&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;cache_dir&nbsp;ufs&nbsp;/var/spool/squid&nbsp;100&nbsp;16&nbsp;256&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;coredump_dir&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;refresh_pattern&nbsp;^ftp:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1440&nbsp; &nbsp; 20%&nbsp; &nbsp; &nbsp;10080&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;refresh_pattern&nbsp;^gopher:&nbsp; &nbsp; &nbsp; &nbsp;1440&nbsp; &nbsp; 0%&nbsp; &nbsp; &nbsp; 1440&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp; &nbsp; 0%&nbsp; &nbsp; &nbsp; 0&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Processing:&nbsp;refresh_pattern&nbsp;.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;20%&nbsp; &nbsp; &nbsp;4320&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Initializing&nbsp;https&nbsp;proxy&nbsp;context&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Initializing&nbsp;https_port&nbsp;[::]:3128&nbsp;SSL&nbsp;context&lt;/div&gt;&lt;div&gt;2017/05/09&nbsp;09:38:26|&nbsp;Using&nbsp;certificate&nbsp;in&nbsp;/etc/squid/ssl_cert/myCA.pem&lt;/div&gt;&lt;div&gt;FATAL:&nbsp;No&nbsp;valid&nbsp;signing&nbsp;SSL&nbsp;certificate&nbsp;configured&nbsp;for&nbsp;HTTPS_port&nbsp;[::]:3128&lt;/div&gt;&lt;div&gt;Squid&nbsp;Cache&nbsp;(Version&nbsp;3.5.20):&nbsp;Terminated&nbsp;abnormally.&lt;/div&gt;&lt;div&gt;CPU&nbsp;Usage:&nbsp;0.027&nbsp;seconds&nbsp;=&nbsp;0.013&nbsp;user&nbsp;+&nbsp;0.014&nbsp;sys&lt;/div&gt;&lt;div&gt;Maximum&nbsp;Resident&nbsp;Size:&nbsp;37264&nbsp;KB&lt;/div&gt;&lt;div&gt;Page&nbsp;faults&nbsp;with&nbsp;physical&nbsp;i/o:&nbsp;0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;already&nbsp;do&nbsp;googling&nbsp;for&nbsp;this&nbsp;issue,&nbsp;and&nbsp;i&nbsp;found&nbsp;similar&nbsp;issue&nbsp;and&nbsp;it&nbsp;was&nbsp;solved&nbsp;by&nbsp;setting&nbsp;SELinux&nbsp;to&nbsp;permissive&nbsp;and&nbsp;reboot.&nbsp;i&nbsp;already&nbsp;did&nbsp;the&nbsp;same&nbsp;but&nbsp;its&nbsp;still&nbsp;not&nbsp;working.&nbsp;pleas&nbsp;advice &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;and&nbsp;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Mohammed&nbsp;AL-Jakri&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
