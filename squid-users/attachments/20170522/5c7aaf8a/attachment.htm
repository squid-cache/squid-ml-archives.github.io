<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;11.00.9600.17041&quot;&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;BR&gt;It&nbsp;is&nbsp;possible&nbsp;to&nbsp;use&nbsp;SSL_bump&nbsp;on&nbsp;my&nbsp;squid&nbsp;server&nbsp;3.5.23,&nbsp;if&nbsp;my&nbsp;parent&nbsp;<br>
cache&nbsp;(cache_peer)&nbsp;does&nbsp;not&nbsp;use&nbsp;ssl_bump&nbsp;(not&nbsp;configured).&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;When&nbsp;I&nbsp;try&nbsp;to&nbsp;access&nbsp;an&nbsp;https:&nbsp;//&lt;BR&gt;#&nbsp;With&nbsp;this&nbsp;setting:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;http_port&nbsp;127.0.0.1:3129&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;<br>
dynamic_cert_mem_cache_size=4MB&nbsp;<br>
cert=/etc/squid/ssl_cert/myCA.pem&lt;BR&gt;sslproxy_options&nbsp;<br>
NO_SSLv2,NO_SSLv3,SINGLE_DH_USE&lt;BR&gt;ssl_bump&nbsp;none&nbsp;localhost&lt;BR&gt;ssl_bump&nbsp;<br>
server-first&nbsp;all&lt;BR&gt;sslproxy_flags&nbsp;DONT_VERIFY_PEER&lt;BR&gt;sslproxy_cert_error&nbsp;allow&nbsp;<br>
all&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;Cache.log&nbsp;reports&nbsp;this&nbsp;error:&lt;BR&gt;assertion&nbsp;failed:&nbsp;PeerConnector.cc:116:&nbsp;<br>
&quot;peer-&gt;use_ssl&quot;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;With&nbsp;this&nbsp;setting:&lt;BR&gt;http_port&nbsp;127.0.0.1:3129&nbsp;ssl-bump&nbsp;<br>
generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;<br>
cert=/etc/squid/ssl_cert/myCA.pem&lt;BR&gt;sslproxy_options&nbsp;<br>
NO_SSLv2,NO_SSLv3,SINGLE_DH_USE&lt;BR&gt;ssl_bump&nbsp;none&nbsp;localhost&lt;BR&gt;ssl_bump&nbsp;bump&nbsp;<br>
all&lt;BR&gt;sslproxy_flags&nbsp;DONT_VERIFY_PEER&lt;BR&gt;sslproxy_cert_error&nbsp;allow&nbsp;all&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;The&nbsp;browser&nbsp;designates&nbsp;that&nbsp;the&nbsp;connection&nbsp;is&nbsp;not&nbsp;private,&nbsp;<br>
NET::ERR_CERT_AUTHORITY_INVALID&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Is&nbsp;it&nbsp;necessary&nbsp;for&nbsp;the&nbsp;cache_peer&nbsp;to&nbsp;be&nbsp;compiled&nbsp;with&nbsp;--enable-ssl-crtd&nbsp;<br>
and&nbsp;--with-openssl&nbsp;and&nbsp;configured&nbsp;with&nbsp;ssl_bump&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;ssl_bump&nbsp;on&nbsp;my&nbsp;<br>
squid&nbsp;child&nbsp;server?&nbsp;Or&nbsp;there&nbsp;is&nbsp;a&nbsp;way&nbsp;to&nbsp;configure&nbsp;ssl_bump&nbsp;on&nbsp;the&nbsp;child&nbsp;only,&nbsp;<br>
even&nbsp;if&nbsp;the&nbsp;parent&nbsp;does&nbsp;not.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Please&nbsp;help.&lt;BR&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
