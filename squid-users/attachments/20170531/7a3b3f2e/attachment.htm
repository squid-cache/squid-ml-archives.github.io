<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Dear&nbsp;Alex,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;helpful&nbsp;reply.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;follow&nbsp;up&nbsp;question. &nbsp;What&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;achieve&nbsp;is&nbsp;an&nbsp;https&nbsp;connection&nbsp;between&nbsp;the&nbsp;client&nbsp;and&nbsp;squid&nbsp;proxy,&nbsp;as&nbsp;well&nbsp;as&nbsp;listen&nbsp;on&nbsp;port&nbsp;80&nbsp;for&nbsp;http&nbsp;traffic,&nbsp;on&nbsp;port&nbsp;443&nbsp;for&nbsp;ssl&nbsp;traffic,&nbsp;and&nbsp;apply&nbsp;ssl-bump&nbsp;to&nbsp;the&nbsp;ssl&nbsp;traffic. &nbsp;I&nbsp;am&nbsp;having&nbsp;trouble&nbsp;expressing&nbsp;this&nbsp;in&nbsp;my&nbsp;config.&nbsp;Would&nbsp;the&nbsp;http_port&nbsp;and&nbsp;https_port&nbsp;directives&nbsp;need&nbsp;to&nbsp;look&nbsp;like&nbsp;this?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;http_port &lt;a&nbsp;href=&quot;http://172.30.0.67:443/&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;ip_address&gt;:&lt;/a&gt;80 ssl-bump&nbsp;cert=/path/to/some.cert.pem&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=&lt;wbr&gt;4MB&nbsp;tls-dh=/usr/local/squid/etc/&lt;wbr&gt;dhparam.pem&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&gt;https_port&nbsp;&lt;ip_address&gt;&lt;a&nbsp;href=&quot;http://172.30.0.67:443/&quot;&nbsp;target=&quot;_blank&quot;&gt;:443&lt;/a&gt; cert=/path/to/other.cert.pem&nbsp;cipher=EECDH+ECDSA+AESGCM:&lt;wbr&gt;EECDH+aRSA+AESGCM:EECDH+ECDSA+&lt;wbr&gt;SHA384:EECDH+ECDSA+SHA256:&lt;wbr&gt;EECDH+aRSA+SHA384:EECDH+aRSA+&lt;wbr&gt;SHA256:EECDH+aRSA+RC4:EECDH:&lt;wbr&gt;EDH+aRSA:!RC4:!aNULL:!eNULL:!&lt;wbr&gt;LOW:!3DES:!MD5:!EXP:!PSK:!SRP:&lt;wbr&gt;!DSS&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also&nbsp;wondering&nbsp;what,&nbsp;if&nbsp;any,&nbsp;are&nbsp;the&nbsp;security&nbsp;issues&nbsp;with&nbsp;using&nbsp;port&nbsp;80&nbsp;for&nbsp;the&nbsp;http&nbsp;traffic?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you,&lt;/div&gt;&lt;div&gt;-Masha&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;May&nbsp;26,&nbsp;2017&nbsp;at&nbsp;7:19&nbsp;AM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;05/26/2017&nbsp;12:00&nbsp;AM,&nbsp;Masha&nbsp;Lifshin&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;added&nbsp;an&nbsp;https_port&nbsp;directive&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;squid.conf,&nbsp;but&nbsp;it&nbsp;must&nbsp;be&nbsp;misconfigured.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;http_port&nbsp;&lt;a&nbsp;href=&quot;http://172.30.0.67:443&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;172.30.0.67:443&lt;/a&gt;&nbsp;...&lt;br&gt;<br>
&gt;&nbsp;https_port&nbsp;&lt;a&nbsp;href=&quot;http://172.30.0.67:443&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;172.30.0.67:443&lt;/a&gt;&nbsp;...&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;are&nbsp;right&nbsp;--&nbsp;your&nbsp;Squid&nbsp;is&nbsp;misconfigured.&nbsp;You&nbsp;cannot&nbsp;use&nbsp;the&nbsp;same&lt;br&gt;<br>
address&nbsp;for&nbsp;two&nbsp;ports.&nbsp;Unfortunately,&nbsp;Squid&nbsp;thinks&nbsp;that&nbsp;port&nbsp;binding&lt;br&gt;<br>
errors&nbsp;are&nbsp;a&nbsp;minor&nbsp;inconvenience&nbsp;and&nbsp;continues&nbsp;running&nbsp;after&nbsp;logging&nbsp;an&lt;br&gt;<br>
error&nbsp;message&nbsp;(that&nbsp;looks&nbsp;like&nbsp;many&nbsp;other&nbsp;benign&nbsp;error&nbsp;messages).&lt;br&gt;<br>
&lt;br&gt;<br>
Changing&nbsp;one&nbsp;of&nbsp;the&nbsp;ports&nbsp;will&nbsp;solve&nbsp;the&nbsp;&quot;same&nbsp;address&quot;&nbsp;problem&lt;br&gt;<br>
described&nbsp;above.&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;not&nbsp;use&nbsp;port&nbsp;443&nbsp;for&nbsp;http_port.&nbsp;It&nbsp;makes&nbsp;triage&nbsp;extremely&nbsp;confusing&lt;br&gt;<br>
because&nbsp;port&nbsp;443&nbsp;usually&nbsp;implies&nbsp;SSL.&nbsp;Consider&nbsp;using&nbsp;port&nbsp;3128&nbsp;instead.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
