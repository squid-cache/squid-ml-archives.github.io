<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Dear&nbsp;Amos,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;explanation&nbsp;and&nbsp;suggestion.&nbsp;I&nbsp;added&nbsp;the&nbsp;&quot;store-stale&quot;&nbsp;to&nbsp;the&nbsp;refresh_pattern&nbsp;rule&nbsp;as:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;refresh_pattern&nbsp;-i&nbsp;\.(ts|m3u8)$&nbsp;120&nbsp;90%&nbsp;1000&nbsp;override-expire &lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-no-store&nbsp;store-stale&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;However,&nbsp;I&nbsp;have&nbsp;checked&nbsp;the&nbsp;access.log,&nbsp;I&nbsp;am&nbsp;still&nbsp;getting&nbsp;TCP_Miss. &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;1496754869.963&nbsp;13&nbsp;192.168.0.100&nbsp;TCP_MISS/200&nbsp;16636&nbsp;GET &lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2Fqthttp.apple.com.edgesuite.net%2F1010qwoeiuryfg%2F0150_vod.m3u8&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHpiHy55EMeBIaMGhgEKRHanTrXxg&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; -&nbsp;HIER_DIRECT/&lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2F95.101.182.201&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNE9ZWXH7sOJgbqIA--MJwxobSp76Q&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;95.101.182.201&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; application/x-mpegURL&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;1496754870.605&nbsp;4 &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;192.168.0.100&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; TCP_MISS/200&nbsp;16636&nbsp;GET &lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2Fqthttp.apple.com.edgesuite.net%2F1010qwoeiuryfg%2F0150_vod.m3u8&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHpiHy55EMeBIaMGhgEKRHanTrXxg&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; -&nbsp;HIER_DIRECT/&lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2F95.101.182.201&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNE9ZWXH7sOJgbqIA--MJwxobSp76Q&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;95.101.182.201&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; application/x-mpegURL&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;1496754871.194&nbsp;15 &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;192.168.0.100&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; TCP_MISS/200&nbsp;16636&nbsp;GET &lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2Fqthttp.apple.com.edgesuite.net%2F1010qwoeiuryfg%2F0150_vod.m3u8&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHpiHy55EMeBIaMGhgEKRHanTrXxg&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; -&nbsp;HIER_DIRECT/&lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2F95.101.182.201&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNE9ZWXH7sOJgbqIA--MJwxobSp76Q&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;95.101.182.201&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; application/x-mpegURL&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;1496754871.715&nbsp;4 &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;192.168.0.100&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; TCP_MISS/200&nbsp;16636&nbsp;GET &lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2Fqthttp.apple.com.edgesuite.net%2F1010qwoeiuryfg%2F0150_vod.m3u8&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHpiHy55EMeBIaMGhgEKRHanTrXxg&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; -&nbsp;HIER_DIRECT/&lt;/span&gt;&lt;a&nbsp;rel=&quot;nofollow&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2F95.101.182.201&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNE9ZWXH7sOJgbqIA--MJwxobSp76Q&quot;&nbsp;class=&quot;gmail-Xx&quot;&nbsp;tabindex=&quot;-1&quot;&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;unicode-bidi:-webkit-isolate;color:rgb(38,50,56);font-size:13px&quot;&gt;95.101.182.201&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt; application/x-mpegURL&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(38,50,56);font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#263238&quot;&gt;If&nbsp;I&nbsp;understand&nbsp;well,&nbsp;TCP_MISS/200&nbsp;shows&nbsp;the content&nbsp;is&nbsp;not&nbsp;cached&nbsp;by&nbsp;Squid. Could&nbsp;you&nbsp;please&nbsp;help&nbsp;me&nbsp;to&nbsp;see&nbsp;if anything&nbsp;I&nbsp;did&nbsp;wrong&nbsp;to&nbsp;make&nbsp;.m3u8&nbsp;not&nbsp;cached&nbsp;by&nbsp;Squid?&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Date:&nbsp;Tue,&nbsp;6&nbsp;Jun&nbsp;2017&nbsp;14:08:11&nbsp;+1200&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;From:&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;/span&gt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;To: &lt;/span&gt;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Squid&nbsp;issue&nbsp;of&nbsp;caching&nbsp;the&nbsp;m3u8&nbsp;file&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Message-ID:&nbsp;&lt;&lt;/span&gt;&lt;a&nbsp;href=&quot;mailto:5af5e6e9-4880-f58e-106b-9f11dd0a4a7b@treenet.co.nz&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;5af5e6e9-4880-f58e-106b-&lt;wbr&gt;9f11dd0a4a7b@treenet.co.nz&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8;&nbsp;format=flowed&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;On&nbsp;05/06/17&nbsp;23:54,&nbsp;LIU&nbsp;Yaning&nbsp;wrote:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Dear&nbsp;All,&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;cache&nbsp;the&nbsp;.m3u8&nbsp;file&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;provide&nbsp;offline&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;caching&nbsp;service&nbsp;by&nbsp;Squid.&nbsp;The&nbsp;played&nbsp;HLS&nbsp;video&nbsp;streaming&nbsp;is&nbsp;the&nbsp;link&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;as&nbsp;below:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt; &lt;/span&gt;&lt;a&nbsp;href=&quot;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;http://qthttp.apple.com.&lt;wbr&gt;edgesuite.net/1010qwoeiuryfg/&lt;wbr&gt;0150_vod.m3u8&lt;/a&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;&lt;&lt;/span&gt;&lt;a&nbsp;href=&quot;http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/0150_vod.m3u8&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;http://qthttp.apple.com.&lt;wbr&gt;edgesuite.net/1010qwoeiuryfg/&lt;wbr&gt;0150_vod.m3u8&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;However,&nbsp;the&nbsp;.m3u8&nbsp;file&nbsp;is&nbsp;not&nbsp;be&nbsp;cached&nbsp;probably&nbsp;because&nbsp;it&nbsp;is&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;mentioned&nbsp;as&nbsp;a&nbsp;no-cache,&nbsp;no-store,&nbsp;max-age=0&nbsp;in&nbsp;the&nbsp;&quot;Cache-Control&quot;&nbsp;in&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;the&nbsp;HTTP&nbsp;header.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Nope.&nbsp;Only&nbsp;the&nbsp;CC:no-store&nbsp;is&nbsp;preventing&nbsp;caching.&nbsp;The&nbsp;other&nbsp;headers&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;simply&nbsp;put&nbsp;boundaries&nbsp;on&nbsp;what&nbsp;is&nbsp;to&nbsp;be&nbsp;done&nbsp;with&nbsp;the&nbsp;content&nbsp;in&nbsp;the&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;cache.&nbsp;In&nbsp;particular&nbsp;the&nbsp;&quot;no-cache&quot;,&nbsp;max-age=0&nbsp;and&nbsp;Expires&nbsp;values&nbsp;mean&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;it&nbsp;has&nbsp;to&nbsp;be&nbsp;revalidated&nbsp;(REFRESH&nbsp;in&nbsp;your&nbsp;access.log)&nbsp;before&nbsp;any&nbsp;future&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;uses&nbsp;-&nbsp;probably&nbsp;because&nbsp;of&nbsp;that&nbsp;Set-Cookie&nbsp;needing&nbsp;to&nbsp;be&nbsp;changed&nbsp;for&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;different&nbsp;end-users.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Server:&nbsp;Apache&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;ETag:&nbsp;&quot;&lt;/span&gt;&lt;wbr&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;1d7168b4f49e75f76f3182f24bf075&lt;/span&gt;&lt;wbr&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;f6:1299516751&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Last-Modified:&nbsp;Mon,&nbsp;07&nbsp;Mar&nbsp;2011&nbsp;16:52:31&nbsp;GMT&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Expires:&nbsp;Fri,&nbsp;02&nbsp;Jun&nbsp;2017&nbsp;14:26:52&nbsp;GMT&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Cache-Control:&nbsp;max-age=0,&nbsp;no-cache,&nbsp;no-store&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Pragma:&nbsp;no-cache&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Date:&nbsp;Fri,&nbsp;02&nbsp;Jun&nbsp;2017&nbsp;14:26:52&nbsp;GMT&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Content-Length:&nbsp;16046&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Set-Cookie:&nbsp;AKID=&lt;/span&gt;&lt;wbr&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;77F9F1316ECCE780566608C5E514DE&lt;/span&gt;&lt;wbr&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;0A;expires=Fri,&nbsp;26&nbsp;Aug&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;2016&nbsp;00:01:00&nbsp;GMT;&nbsp;path=/;&nbsp;domain=&lt;/span&gt;&lt;a&nbsp;href=&quot;http://qthttp.apple.com.edgesuite.net/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;qthttp.apple.com.&lt;wbr&gt;edgesuite.net&lt;/a&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;&lt;&lt;/span&gt;&lt;a&nbsp;href=&quot;http://qthttp.apple.com.edgesuite.net/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;http://qthttp.apple.com.&lt;wbr&gt;edgesuite.net/&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Content-Type:&nbsp;application/x-mpegURL&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Access-Control-Allow-Origin:&nbsp;*&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;I&nbsp;added&nbsp;a&nbsp;new&nbsp;rule&nbsp;for&nbsp;.m3u8&nbsp;file&nbsp;in&nbsp;squid.conf,&nbsp;however,&nbsp;it&nbsp;is&nbsp;still&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;not&nbsp;working.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;\.(ts|m3u8)$&nbsp;120&nbsp;90%&nbsp;1000&nbsp;override-expire&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-no-store&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;Does&nbsp;anyone&nbsp;know&nbsp;how&nbsp;to&nbsp;allow&nbsp;Squid&nbsp;caching&nbsp;the&nbsp;.m3u8&nbsp;file?&nbsp;Thanks&nbsp;a&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&nbsp;lot&nbsp;in&nbsp;advance.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;What&nbsp;makes&nbsp;you&nbsp;think&nbsp;it&nbsp;is&nbsp;not&nbsp;caching?&nbsp;The&nbsp;ignore-no-store&nbsp;alone&nbsp;should&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;be&nbsp;sufficient&nbsp;to&nbsp;allow&nbsp;current&nbsp;Squid&nbsp;versions&nbsp;to&nbsp;cache&nbsp;that&nbsp;object.&nbsp;You&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;could&nbsp;perhapse&nbsp;add&nbsp;&quot;store-stale&quot;&nbsp;option&nbsp;on&nbsp;that&nbsp;config&nbsp;line.&nbsp;Which&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;should&nbsp;make&nbsp;Squid&nbsp;cache&nbsp;object&nbsp;containing&nbsp;an&nbsp;Expires&nbsp;header&nbsp;with&nbsp;current&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;or&nbsp;past&nbsp;values.&nbsp;refresh_pattern&nbsp;settings&nbsp;do&nbsp;not&nbsp;affect&nbsp;that&nbsp;cacheable&nbsp;vs&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;non-cacheable&nbsp;decision.&nbsp;The&nbsp;no-cache&nbsp;header&nbsp;tells&nbsp;Squid&nbsp;the&nbsp;object&nbsp;needs&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;revalidating&nbsp;before&nbsp;every&nbsp;use.&nbsp;However,&nbsp;be&nbsp;aware&nbsp;the&nbsp;tool&nbsp;at &lt;/span&gt;&lt;a&nbsp;href=&quot;http://redbot.org/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px&quot;&gt;redbot.org&lt;/a&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;tells&nbsp;me&nbsp;that&nbsp;this&nbsp;URL&nbsp;is&nbsp;badly&nbsp;broken&nbsp;in&nbsp;how&nbsp;it&nbsp;is&nbsp;using&nbsp;the&nbsp;ETag&nbsp;and&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;Vary&nbsp;headers&nbsp;-&nbsp;in&nbsp;a&nbsp;way&nbsp;which&nbsp;can&nbsp;break&nbsp;the&nbsp;revalidation&nbsp;when&nbsp;these&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;things&nbsp;are&nbsp;cached.&nbsp;Some&nbsp;of&nbsp;your&nbsp;clients&nbsp;may&nbsp;see&nbsp;very&nbsp;broken&nbsp;behaviour&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;accessing&nbsp;this&nbsp;object&nbsp;unless&nbsp;you&nbsp;follow&nbsp;the&nbsp;no-store&nbsp;requirement&nbsp;or&nbsp;the&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;server&nbsp;stops&nbsp;its&nbsp;broken&nbsp;ETag&nbsp;behaviour.&nbsp;PS.&nbsp;if&nbsp;you&nbsp;are&nbsp;using&nbsp;a&nbsp;Squid&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;version&nbsp;much&nbsp;older&nbsp;than&nbsp;3.5.24&nbsp;I&nbsp;recommend&nbsp;an&nbsp;upgrade.&nbsp;With&nbsp;an&nbsp;urgency&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px&quot;&gt;increasing&nbsp;the&nbsp;older&nbsp;your&nbsp;Squid&nbsp;is.&nbsp;Amos&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;Best&nbsp;Regards,&lt;br&gt;--&lt;br&gt;Yaning.&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
