<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Well,&nbsp;I&nbsp;know&nbsp;that&nbsp;issue&nbsp;very&nbsp;good&nbsp;and&nbsp;google&nbsp;is&nbsp;the&nbsp;issue&nbsp;since&nbsp;they&nbsp;should&nbsp;put&nbsp;their&nbsp;captcha&nbsp;on&nbsp;a&nbsp;own&nbsp;subdomain.&nbsp;Then&nbsp;we&nbsp;could&nbsp;effectivley&nbsp;allow&nbsp;only&nbsp;the&nbsp;access&nbsp;to&nbsp;the&nbsp;captcha.&lt;br&gt;<br>
&lt;br&gt;<br>
Until&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;good&nbsp;way&nbsp;to&nbsp;achive&nbsp;this.&nbsp;But&nbsp;there&nbsp;is&nbsp;a&nbsp;non&nbsp;reliable&nbsp;way&nbsp;of&nbsp;blocking&nbsp;&lt;a&nbsp;href=&quot;http://google.com&quot;&gt;google.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
First&nbsp;allow&nbsp;the&nbsp;Connect&nbsp;method&nbsp;for&nbsp;&lt;a&nbsp;href=&quot;http://google.com&quot;&gt;google.com&lt;/a&gt;&lt;br&gt;<br>
Acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;<br>
acl&nbsp;sslconnect&nbsp;dstdomain&nbsp;-i&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;CONNECT&nbsp;sslconnect&lt;br&gt;<br>
Then&nbsp;use&nbsp;an&nbsp;url&nbsp;regex&nbsp;and&nbsp;allow&nbsp;&lt;a&nbsp;href=&quot;http://google.com/recaptcha&quot;&gt;google.com/recaptcha&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;way&nbsp;sometimes&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;&nbsp;is&nbsp;blocked,&nbsp;sometimes&nbsp;not.&nbsp;But&nbsp;access&nbsp;to&nbsp;recaptcha&nbsp;will&nbsp;always&nbsp;work.&lt;br&gt;<br>
&lt;br&gt;<br>
Why&nbsp;we&nbsp;can&#39;t&nbsp;block&nbsp;it&nbsp;reliable?&nbsp;Well&nbsp;when&nbsp;&nbsp;&nbsp;browser/client&nbsp;wants&nbsp;to&nbsp;connect&nbsp;to&nbsp;&nbsp;https&nbsp;website&nbsp;then&nbsp;the&nbsp;firsr&nbsp;thing&nbsp;the&nbsp;browser&nbsp;trie&nbsp;is&nbsp;open&nbsp;a&nbsp;ssl&nbsp;tunnel&nbsp;to&nbsp;the&nbsp;FQDN&lt;br&gt;<br>
As&nbsp;soon&nbsp;as&nbsp;the&nbsp;tunnel&nbsp;is&nbsp;up&nbsp;it&nbsp;will&nbsp;request&nbsp;the&nbsp;ressource.&nbsp;May&nbsp;it&nbsp;helps&nbsp;if&nbsp;you&nbsp;add&nbsp;a&nbsp;url&nbsp;regex&nbsp;deny&nbsp;between&nbsp;allowing&nbsp;the&nbsp;connect&nbsp;method&nbsp;and&nbsp;allowing&nbsp;the&nbsp;url&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com/recaptcha&quot;&gt;www.google.com/recaptcha&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Written&nbsp;on&nbsp;&nbsp;my&nbsp;mobile..&lt;br&gt;<br>
&lt;br&gt;<br>
Br,&lt;br&gt;<br>
Flashdown&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Am&nbsp;27.&nbsp;Juni&nbsp;2017&nbsp;17:07:19&nbsp;MESZ&nbsp;schrieb&nbsp;&quot;Cherukuri,&nbsp;Naresh&quot;&nbsp;&lt;ncherukuri@partycity.com&gt;:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;pre&nbsp;class=&quot;k9mail&quot;&gt;Hi&nbsp;Eliezer,&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;We&nbsp;successfully&nbsp;blocked&nbsp;gmail,&nbsp;google&nbsp;images,&nbsp;google&nbsp;drive&nbsp;and&nbsp;rest&nbsp;all&nbsp;google&nbsp;related.&nbsp;Now&nbsp;we&nbsp;allowing&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;&nbsp;and&nbsp;www.&nbsp;google/Recaptcha.&nbsp;We&nbsp;still&nbsp;need&nbsp;to&nbsp;block&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;&nbsp;and&nbsp;just&nbsp;allow&nbsp;&lt;a&nbsp;href=&quot;http://www.google/recaptcha&quot;&gt;www.google/recaptcha&lt;/a&gt;.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;that?&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Appreciate&nbsp;your&nbsp;quick&nbsp;turnover!&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Thanks&amp;Regards,&lt;br&nbsp;/&gt;Naresh&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&nbsp;&lt;br&nbsp;/&gt;-----Original&nbsp;Message-----&lt;br&nbsp;/&gt;From:&nbsp;Eliezer&nbsp;Croitoru&nbsp;[mailto:eliezer@ngtech.co.il]&nbsp;&lt;br&nbsp;/&gt;Sent:&nbsp;Tuesday,&nbsp;June&nbsp;27,&nbsp;2017&nbsp;10:16&nbsp;AM&lt;br&nbsp;/&gt;To:&nbsp;Cherukuri,&nbsp;Naresh;&nbsp;squid-users@lists.squid-cache.org&lt;br&nbsp;/&gt;Subject:&nbsp;RE:&nbsp;[squid-users]&nbsp;Squid&nbsp;Version&nbsp;3.5.20&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Hey,&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;can&nbsp;try&nbsp;to&nbsp;help&nbsp;you&nbsp;but&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;enough&nbsp;logs&nbsp;for&nbsp;it.&lt;br&nbsp;/&gt;Also&nbsp;it's&nbsp;not&nbsp;so&nbsp;simple.&lt;br&nbsp;/&gt;Basically&nbsp;you&nbsp;will&nbsp;need&nbsp;to&nbsp;block&nbsp;gmail&nbsp;and&nbsp;google&nbsp;drive&nbsp;themselves&nbsp;in&nbsp;one&nbsp;rule&nbsp;that&nbsp;will&nbsp;not&nbsp;include&nbsp;other&nbsp;google&nbsp;services.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;All&nbsp;The&nbsp;Bests,&lt;br&nbsp;/&gt;Eliezer&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;----&lt;br&nbsp;/&gt;&lt;a&nbsp;href=&quot;http://ngtech.co.il/lmgtfy&quot;&gt;http://ngtech.co.il/lmgtfy&lt;/a&gt;/&lt;br&nbsp;/&gt;Linux&nbsp;System&nbsp;Administrator&lt;br&nbsp;/&gt;Mobile:&nbsp;+972-5-28704261&lt;br&nbsp;/&gt;Email:&nbsp;eliezer@ngtech.co.il&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;From:&nbsp;squid-users&nbsp;[mailto:squid-users-bounces@lists.squid-cache.org]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Cherukuri,&nbsp;Naresh&lt;br&nbsp;/&gt;Sent:&nbsp;Friday,&nbsp;June&nbsp;23,&nbsp;2017&nbsp;23:34&lt;br&nbsp;/&gt;To:&nbsp;squid-users@lists.squid-cache.org&lt;br&nbsp;/&gt;Subject:&nbsp;[squid-users]&nbsp;Squid&nbsp;Version&nbsp;3.5.20&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Hello&nbsp;All,&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;installed&nbsp;Squid&nbsp;version&nbsp;3.5.20&nbsp;on&nbsp;RHEL&nbsp;7&nbsp;and&nbsp;generated&nbsp;selfsigned&nbsp;CA&nbsp;certificates,&nbsp;can&nbsp;you&nbsp;shed&nbsp;some&nbsp;light&nbsp;on&nbsp;how&nbsp;to&nbsp;&quot;Configure&nbsp;regular&nbsp;expression&nbsp;of&nbsp;the&nbsp;Google&nbsp;ReCaptcha&nbsp;URL&nbsp;with&nbsp;ACL&quot;.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;My&nbsp;requirement&nbsp;:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;This&nbsp;requirement&nbsp;is&nbsp;to&nbsp;allow&nbsp;Google's&nbsp;ReCaptcha&nbsp;URL&nbsp;(HTTPS)&nbsp;so&nbsp;associates&nbsp;can&nbsp;successfully&nbsp;use&nbsp;ADP&nbsp;which&nbsp;now&nbsp;utilizes&nbsp;Google's&nbsp;ReCaptcha&nbsp;which&nbsp;is&nbsp;called&nbsp;via&nbsp;an&nbsp;HTTPS&nbsp;URL,&nbsp;without&nbsp;allowing&nbsp;users&nbsp;to&nbsp;access&nbsp;other&nbsp;Google-related&nbsp;services&nbsp;such&nbsp;as&nbsp;Gmail&nbsp;or&nbsp;Google&nbsp;Drive.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Any&nbsp;ideas&nbsp;much&nbsp;appreciated!&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Thanks,&lt;br&nbsp;/&gt;Naresh&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;&lt;br&nbsp;/&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&nbsp;/&gt;squid-users@lists.squid-cache.org&lt;br&nbsp;/&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&nbsp;/&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
