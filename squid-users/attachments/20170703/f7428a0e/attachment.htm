<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;W&nbsp;dniu&nbsp;03.07.2017&nbsp;o 09:43,&nbsp;Todd&nbsp;Pearson<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pisze:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:111642404.3970659.1499067815362@mail.yahoo.com&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans-serif;font-size:16px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;I&nbsp;have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spent&nbsp;the&nbsp;past&nbsp;few&nbsp;days&nbsp;working&nbsp;to&nbsp;get&nbsp;the&nbsp;latest&nbsp;version<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;working&nbsp;in&nbsp;an&nbsp;all&nbsp;windows&nbsp;environment.&nbsp; I&nbsp;am&nbsp;unable&nbsp;to&nbsp;get<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kerberos&nbsp;authentication&nbsp;to&nbsp;work.&nbsp; I&nbsp;am&nbsp;struggling&nbsp;with&nbsp;getting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;keytab&nbsp;file&nbsp;correct.&nbsp; &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;Wondering<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;there&nbsp;is&nbsp;anyone&nbsp;who&nbsp;has&nbsp;seen&nbsp;it&nbsp;actually&nbsp;work&nbsp;in&nbsp;an&nbsp;all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;windows&nbsp;environment.&nbsp; I&nbsp;have&nbsp;had&nbsp;earlier&nbsp;version&nbsp;(v2.X&nbsp;stable)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;NTLM&nbsp;authentication,&nbsp;but&nbsp;unfortunately&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binaries&nbsp;to&nbsp;implement&nbsp;in&nbsp;v3.5.x.x.&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;I<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue&nbsp;to&nbsp;struggle&nbsp;to&nbsp;find&nbsp;the&nbsp;secret&nbsp;forumula&nbsp;for&nbsp;SPN&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keytab.&nbsp; &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;Thanks,&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;id=&quot;yui_3_16_0_ym19_1_1499067573933_3064&quot;&gt;Todd&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;fieldset&nbsp;class=&quot;mimeAttachmentHeader&quot;&gt;&lt;/fieldset&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;Hi,&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;I&nbsp;have&nbsp;4&nbsp;squid&nbsp;serves,&nbsp;3&nbsp;of&nbsp;them&nbsp;are&nbsp;3.5.9<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@centos&nbsp;7.x.&nbsp;Everything&nbsp;is&nbsp;working&nbsp;fine,&nbsp;both&nbsp;pure&nbsp;NTLM&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NEGOTIATE&nbsp;helpers&nbsp;are&nbsp;working&nbsp;flawlessly.&nbsp;I've&nbsp;created&nbsp;local<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;group&nbsp;on&nbsp;squid&nbsp;servers&nbsp;like&nbsp;keytab-readers,&nbsp;then:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chown&nbsp;root:keytab-readers&nbsp;/etc/krb5.keytab&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chmod&nbsp;740&nbsp;/etc/keytab-readers&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;added&nbsp;squid&nbsp;to&nbsp;keytab-readers.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;Squid&nbsp;clients&nbsp;are&nbsp;windows&nbsp;workstations,&nbsp;mostly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.1&nbsp;and&nbsp;10.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;size=&quot;-1&quot;&gt;Why&nbsp;do&nbsp;you&nbsp;need&nbsp;to&nbsp;have&nbsp;Squid&nbsp;on&nbsp;Windows&nbsp;server&nbsp;so<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;badly?&nbsp;Less&nbsp;documentation,&nbsp;less&nbsp;support.&nbsp;And&nbsp;nowadays,&nbsp;my&nbsp;guess<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is &nbsp;almost&nbsp;every&nbsp;MS&nbsp;security&nbsp;update&nbsp;can&nbsp;brake&nbsp;things&nbsp;down.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My&nbsp;guess&nbsp;is&nbsp;when&nbsp;you're&nbsp;using&nbsp;squid&nbsp;on&nbsp;Windows&nbsp;server,&nbsp;you&nbsp;have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to,&nbsp;alternatively:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;Run&nbsp;squid&nbsp;on&nbsp;NT&nbsp;AUTHORITY/SYSTEM&nbsp;or&nbsp;NT&nbsp;AUTHORITY/NETWORK<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SERVICE&nbsp;account&nbsp;and&nbsp;put&nbsp;SPN &nbsp;squid_accessible_name&nbsp;to&nbsp;AD&nbsp;machine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;account.&nbsp;So,&nbsp;if&nbsp;Your&nbsp;squid&nbsp;DNS&nbsp;name&nbsp;is&nbsp;squidproxy.corpo.local&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;your&nbsp;server&nbsp;name&nbsp;is&nbsp;srvSquid01.corpo.local,&nbsp;machine&nbsp;account<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srvSquid01$&nbsp;has&nbsp;to&nbsp;have&nbsp;HOST/squidproxy&nbsp;SPN&nbsp;also.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;Run&nbsp;squid&nbsp;on&nbsp;dedicated&nbsp;domain&nbsp;account&nbsp;(user&nbsp;account).&nbsp;Create<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;like&nbsp;&quot;squid01&quot;,&nbsp;give&nbsp;it&nbsp;all&nbsp;nessecary&nbsp;permissions&nbsp;on&nbsp;squid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;and&nbsp;then&nbsp;give&nbsp;this&nbsp;user&nbsp;SPN.&nbsp;And&nbsp;there's&nbsp;the&nbsp;problem:&nbsp;what<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kind&nbsp;of&nbsp;SPN&nbsp;in&nbsp;this&nbsp;configuration...&nbsp;I&nbsp;would&nbsp;say&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTTP/squidproxy,&nbsp;and&nbsp;then&nbsp;in&nbsp;DNS&nbsp;you'll&nbsp;have&nbsp;to&nbsp;have&nbsp;presumably<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNAME&nbsp;(not&nbsp;A)&nbsp;pointing&nbsp;squidproxy&nbsp;to&nbsp;srvSquid01.corpo.local.&nbsp;And<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;domain&nbsp;user&nbsp;squid01&nbsp;will&nbsp;have&nbsp;to&nbsp;read&nbsp;acces&nbsp;to&nbsp;keytab,&nbsp;as&nbsp;well&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keytab&nbsp;will&nbsp;have&nbsp;to&nbsp;have&nbsp;apropriate&nbsp;content&nbsp;(it&nbsp;should&nbsp;be&nbsp;a&nbsp;user,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;machine&nbsp;keytab).&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://support.microsoft.com/en-us/help/929650/how-to-use-spns-when-you-configure-web-applications-that-are-hosted-on&quot;&gt;https://support.microsoft.com/en-us/help/929650/how-to-use-spns-when-you-configure-web-applications-that-are-hosted-on&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
Greets,&nbsp;Dijx&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
