<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Dear&nbsp;squid&nbsp;users&nbsp;folks&nbsp;,&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;i&nbsp;have&nbsp;many&nbsp;different&nbsp;cache&nbsp;peers&nbsp;I’m&nbsp;gonna&nbsp;send&nbsp;traffic&nbsp;to.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;but&nbsp;the&nbsp;issue&nbsp;is&nbsp;i&nbsp;want&nbsp;to&nbsp;have&nbsp;different&nbsp;cache&nbsp;peer&nbsp;setup&nbsp;based&nbsp;on&nbsp;the&nbsp;source&nbsp;ip&nbsp;address&nbsp;&nbsp;.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;say&nbsp;the&nbsp;ip&nbsp;address&nbsp;of&nbsp;the&nbsp;user&nbsp;was&nbsp;1.1.1.1&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;i&nbsp;want&nbsp;it&nbsp;go&nbsp;to&nbsp;the&nbsp;cache&nbsp;peer&nbsp;&nbsp;with&nbsp;system&nbsp;below&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(4,&nbsp;51,&nbsp;255);&quot;&nbsp;class=&quot;&quot;&gt;##################&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;acl&nbsp;custNet&nbsp;dstdomain&nbsp;.&lt;a&nbsp;href=&quot;http://mail.com&quot;&nbsp;class=&quot;&quot;&gt;mail.com&lt;/a&gt;&nbsp;&nbsp;.&lt;a&nbsp;href=&quot;http://mail.ru&quot;&nbsp;class=&quot;&quot;&gt;mail.ru&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://trustly.com&quot;&nbsp;class=&quot;&quot;&gt;trustly.com&lt;/a&gt;&nbsp;&nbsp;.&lt;a&nbsp;href=&quot;http://ing.nl&quot;&nbsp;class=&quot;&quot;&gt;ing.nl&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://live.adyen.com&quot;&nbsp;class=&quot;&quot;&gt;live.adyen.com&lt;/a&gt;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.mail.com&quot;&nbsp;class=&quot;&quot;&gt;www.mail.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://uicdn.com&quot;&nbsp;class=&quot;&quot;&gt;uicdn.com&lt;/a&gt;&nbsp;.&nbsp;.&lt;a&nbsp;href=&quot;http://9gag.com&quot;&nbsp;class=&quot;&quot;&gt;9gag.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://tumblr.com&quot;&nbsp;class=&quot;&quot;&gt;tumblr.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://boredpanda.com&quot;&nbsp;class=&quot;&quot;&gt;boredpanda.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://deref-mail.com&quot;&nbsp;class=&quot;&quot;&gt;deref-mail.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://tutanota.com&quot;&nbsp;class=&quot;&quot;&gt;tutanota.com&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer&nbsp;12.13.250.251&nbsp;parent&nbsp;5555&nbsp;0&nbsp;no-query&nbsp;no-digest&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;never_direct&nbsp;allow&nbsp;custNet&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer_access&nbsp;12.13.250.251&nbsp;allow&nbsp;custNet&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer_access&nbsp;12.13.250.251&nbsp;deny&nbsp;all&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;http_access&nbsp;allow&nbsp;custNet&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;#############################################################&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;say&nbsp;the&nbsp;source&nbsp;ip&nbsp;address&nbsp;was&nbsp;2.2.2.2&nbsp;&nbsp;i&nbsp;want&nbsp;it&nbsp;has&nbsp;the&nbsp;custom&nbsp;config&nbsp;of&nbsp;cache&nbsp;peer&nbsp;below&nbsp;:&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(4,&nbsp;51,&nbsp;255);&quot;&nbsp;class=&quot;&quot;&gt;##################&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;acl&nbsp;custNet&nbsp;dstdomain&nbsp;.&lt;a&nbsp;href=&quot;http://mail.com&quot;&nbsp;class=&quot;&quot;&gt;mail.com&lt;/a&gt;&nbsp;&nbsp;.&lt;a&nbsp;href=&quot;http://mail.ru&quot;&nbsp;class=&quot;&quot;&gt;mail.ru&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://trustly.com&quot;&nbsp;class=&quot;&quot;&gt;trustly.com&lt;/a&gt;&nbsp;&nbsp;.&lt;a&nbsp;href=&quot;http://ing.nl&quot;&nbsp;class=&quot;&quot;&gt;ing.nl&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://live.adyen.com&quot;&nbsp;class=&quot;&quot;&gt;live.adyen.com&lt;/a&gt;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.mail.com&quot;&nbsp;class=&quot;&quot;&gt;www.mail.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://uicdn.com&quot;&nbsp;class=&quot;&quot;&gt;uicdn.com&lt;/a&gt;&nbsp;.&nbsp;.&lt;a&nbsp;href=&quot;http://9gag.com&quot;&nbsp;class=&quot;&quot;&gt;9gag.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://tumblr.com&quot;&nbsp;class=&quot;&quot;&gt;tumblr.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://boredpanda.com&quot;&nbsp;class=&quot;&quot;&gt;boredpanda.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://deref-mail.com&quot;&nbsp;class=&quot;&quot;&gt;deref-mail.com&lt;/a&gt;&nbsp;.&lt;a&nbsp;href=&quot;http://tutanota.com&quot;&nbsp;class=&quot;&quot;&gt;tutanota.com&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#ff2600&quot;&nbsp;class=&quot;&quot;&gt;12.13.250.252&lt;/font&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;parent&nbsp;5555&nbsp;0&nbsp;no-query&nbsp;no-digest&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;never_direct&nbsp;allow&nbsp;custNet&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer_access&nbsp;&lt;/font&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(255,&nbsp;38,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;12.13.250.252&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(4,&nbsp;51,&nbsp;255);&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;allow&nbsp;custNet&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;cache_peer_access&nbsp;&lt;/font&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(255,&nbsp;38,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;12.13.250.252&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(4,&nbsp;51,&nbsp;255);&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;deny&nbsp;all&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;http_access&nbsp;allow&nbsp;custNet&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;#############################################################&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;so&nbsp;I’m&nbsp;wondering&nbsp;@&nbsp;the&nbsp;moment&nbsp;how&nbsp;can&nbsp;i&nbsp;modify&nbsp;squid&nbsp;config&nbsp;so&nbsp;that&nbsp;it&nbsp;forward&nbsp;to&nbsp;specific&nbsp;peer&nbsp;&nbsp;based&nbsp;on&nbsp;the&nbsp;source&nbsp;ip&nbsp;address&nbsp;of&nbsp;the&nbsp;user&nbsp;who&nbsp;using&nbsp;the&nbsp;proxy&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;kind&nbsp;regards&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#0433ff&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
