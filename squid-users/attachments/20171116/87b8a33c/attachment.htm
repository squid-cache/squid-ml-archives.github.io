<tt>
&lt;div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Hello&nbsp;Amos,&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;The&nbsp;problem&nbsp;is&nbsp;the&nbsp;connections&nbsp;are&nbsp;not&nbsp;getting&nbsp;through.&nbsp;It&nbsp;just&nbsp;acts&nbsp;like&nbsp;there&nbsp;is&nbsp;no&nbsp;WiFi&nbsp;connection. &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Adding&nbsp;the&nbsp;cert&nbsp;db&nbsp;every&nbsp;start&nbsp;up&nbsp;isn’t&nbsp;an&nbsp;issue. &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&nbsp;was&nbsp;thinking&nbsp;of&nbsp;having&nbsp;a&nbsp;small&nbsp;cert&nbsp;cache&nbsp;locally&nbsp;instead&nbsp;thinking&nbsp;about&nbsp;it&nbsp;since. &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;The&nbsp;connections&nbsp;just&nbsp;aren’t&nbsp;being&nbsp;made.&nbsp;No&nbsp;ssl&nbsp;warning. &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Thank&nbsp;you&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Joe&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Thu,&nbsp;16&nbsp;Nov&nbsp;2017&nbsp;at&nbsp;08:15,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;16/11/17&nbsp;02:32,&nbsp;Joe&nbsp;Foster&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Good&nbsp;afternoon,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;small&nbsp;router&nbsp;onto&nbsp;which&nbsp;I&nbsp;have&nbsp;installed&nbsp;Squid.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;filter&nbsp;HTTPS&nbsp;urls&nbsp;for&nbsp;bad&nbsp;words&nbsp;on&nbsp;a&nbsp;blocked&nbsp;list.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;It&nbsp;will&nbsp;require&nbsp;the&nbsp;client&nbsp;on&nbsp;the&nbsp;safe&nbsp;side&nbsp;of&nbsp;the&nbsp;router&nbsp;to&nbsp;install&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;certificate,&nbsp;this&nbsp;isn&#39;t&nbsp;an&nbsp;issue&nbsp;as&nbsp;it&#39;s&nbsp;an&nbsp;open&nbsp;process&nbsp;and&nbsp;not&nbsp;an&lt;br&gt;<br>
&gt;&nbsp;illigal&nbsp;MITM&nbsp;attack.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Below&nbsp;is&nbsp;my&nbsp;squid.conf&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;As&nbsp;you&nbsp;will&nbsp;see&nbsp;I&nbsp;have&nbsp;been&nbsp;playing&nbsp;around&nbsp;with&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;code&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;what&nbsp;code&nbsp;to&nbsp;put&nbsp;in.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;only&nbsp;have&nbsp;a&nbsp;small&nbsp;amount&nbsp;of&nbsp;flash&nbsp;drive&nbsp;so&nbsp;I&nbsp;have&nbsp;put&nbsp;the&nbsp;auto-gen&lt;br&gt;<br>
&gt;&nbsp;cert&nbsp;directory&nbsp;in&nbsp;/tmp/.&nbsp;I&nbsp;am&nbsp;aware&nbsp;this&nbsp;is&nbsp;volatile&nbsp;memory&nbsp;but&nbsp;until&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;have&nbsp;a&nbsp;better&nbsp;solution&nbsp;I&nbsp;will&nbsp;be&nbsp;doing&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
Since&nbsp;/tmp&nbsp;is&nbsp;subject&nbsp;to&nbsp;random&nbsp;deletion&nbsp;of&nbsp;content&nbsp;you&nbsp;will&nbsp;need&nbsp;to&lt;br&gt;<br>
make&nbsp;sure&nbsp;you&nbsp;always&nbsp;shutdown&nbsp;Squid&nbsp;and&nbsp;re-run&nbsp;the&nbsp;ssl_crtd&nbsp;(etc.)&lt;br&gt;<br>
create&nbsp;command&nbsp;to&nbsp;re-generate&nbsp;the&nbsp;cert&nbsp;DB&nbsp;structures&nbsp;whenever&nbsp;the&nbsp;device&lt;br&gt;<br>
erases&nbsp;its&nbsp;/tmp&nbsp;content.&nbsp;Otherwise&nbsp;your&nbsp;proxy&nbsp;will&nbsp;crash&nbsp;and/or&nbsp;client&lt;br&gt;<br>
connections&nbsp;will&nbsp;start&nbsp;being&nbsp;terminated&nbsp;with&nbsp;strange&nbsp;looking&nbsp;errors.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
IMO&nbsp;you&nbsp;would&nbsp;probably&nbsp;be&nbsp;better&nbsp;off&nbsp;setting&nbsp;the&nbsp;cert&nbsp;DB&nbsp;to&nbsp;a&nbsp;very&nbsp;small&lt;br&gt;<br>
size&nbsp;suitable&nbsp;for&nbsp;your&nbsp;limited&nbsp;space&nbsp;-&nbsp;or&nbsp;disabling&nbsp;it&nbsp;entirely&nbsp;[more&nbsp;on&lt;br&gt;<br>
that&nbsp;below].&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;put&nbsp;a&nbsp;firewall&nbsp;rule&nbsp;in&nbsp;to&nbsp;forward&nbsp;443&nbsp;to&nbsp;3128.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/Features/SslBump&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/Features/SslBump&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/SquidAcl&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/SquidAcl&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;also&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;cache&nbsp;due&nbsp;to&nbsp;flash&nbsp;drive&nbsp;issues.&nbsp;Is&nbsp;this&nbsp;possible?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 From&nbsp;the&nbsp;documentation&nbsp;of&nbsp;the&nbsp;SSL-Bump&nbsp;settings:&lt;br&gt;<br>
 &nbsp;&lt;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/http_port/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/http_port/&lt;/a&gt;&gt;&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
 &nbsp; dynamic_cert_mem_cache_size=SIZE&lt;br&gt;<br>
 &nbsp; &nbsp; Approximate&nbsp;total&nbsp;RAM&nbsp;size&nbsp;spent&nbsp;on&nbsp;cached&nbsp;generated&lt;br&gt;<br>
 &nbsp; &nbsp; certificates.&nbsp;If&nbsp;set&nbsp;to&nbsp;zero,&nbsp;caching&nbsp;is&nbsp;disabled.&nbsp;The&lt;br&gt;<br>
 &nbsp; &nbsp; default&nbsp;value&nbsp;is&nbsp;4MB.&lt;br&gt;<br>
&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Its&nbsp;the&nbsp;same&nbsp;cert&nbsp;in&nbsp;/root/&nbsp;and&nbsp;/certs/&nbsp;before&nbsp;anyone&nbsp;points&nbsp;it&nbsp;out.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Nothing&nbsp;has&nbsp;been&nbsp;appearing&nbsp;in&nbsp;the&nbsp;log&nbsp;files&nbsp;either&nbsp;but&nbsp;this&nbsp;is&nbsp;no&lt;br&gt;<br>
&gt;&nbsp;surprise.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Been&nbsp;up&nbsp;till&nbsp;1am&nbsp;last&nbsp;few&nbsp;nights&nbsp;on&nbsp;this&nbsp;so&nbsp;you&nbsp;assistance&nbsp;is&nbsp;very&lt;br&gt;<br>
&gt;&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;sounds&nbsp;like&nbsp;you&nbsp;are&nbsp;having&nbsp;a&nbsp;problem.&nbsp;But&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;any&nbsp;mention&lt;br&gt;<br>
of&nbsp;what&nbsp;that&nbsp;is&nbsp;exactly.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
