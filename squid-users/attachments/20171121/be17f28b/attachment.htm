<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&lt;!--&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divtagdefaultwrapper&quot;&nbsp;style=&quot;font-size:12pt;color:#000000;font-family:Calibri,Helvetica,sans-serif;&quot;&nbsp;dir=&quot;ltr&quot;&gt;<br>
Hello£¬&lt;span&gt;I&nbsp;configured&nbsp;&nbsp;https_port&nbsp;in&nbsp;squid.conf&nbsp;.&nbsp;However&nbsp;&nbsp;when&nbsp;I&nbsp;a&lt;span&gt;ccess&nbsp;https&nbsp;websites&nbsp;using&nbsp;Firefox£¬it&nbsp;shows&nbsp;&nbsp;&nbsp;&quot;&lt;span&gt;Your&nbsp;connection&nbsp;is&nbsp;not&nbsp;secure&quot;&nbsp;.&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;The&nbsp;error&nbsp;like&nbsp;this:&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;http://www.amazon.com&quot;&nbsp;class=&quot;OWAAutoLink&quot;&nbsp;id=&quot;LPlnk179739&quot;&nbsp;previewremoved=&quot;true&quot;&gt;www.amazon.com&lt;/a&gt;&nbsp;used&nbsp;an&nbsp;invalid&nbsp;security&nbsp;certificate.&nbsp;&lt;/span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;This&nbsp;certificate&nbsp;is&nbsp;valid&nbsp;for&nbsp;23.13.186.212&nbsp;only.&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Error&nbsp;code:&nbsp;SSL_ERROR_BAD_CERT_DOMAIN&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;My&nbsp;CA&nbsp;produced&nbsp;by&nbsp;openssl&nbsp;is&nbsp;a&nbsp;&lt;span&gt;Self-signed&nbsp;certificate.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;Here&nbsp;is&nbsp;my&nbsp;squid.conf:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;https_port&nbsp;192.168.51.200:3129&nbsp;intercept&nbsp;ssl-bump&nbsp;connection-auth=off&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/usr/local/squid/ssl_cert/myCA.pem&nbsp;key=/usr/local/squid/ssl_cert/myCA.pem&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;acl&nbsp;ssl_step1&nbsp;at_step&nbsp;SslBump1&lt;/div&gt;<br>
&lt;div&gt;acl&nbsp;ssl_step2&nbsp;at_step&nbsp;SslBump2&lt;/div&gt;<br>
&lt;div&gt;acl&nbsp;ssl_step3&nbsp;at_step&nbsp;SslBump3&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;ssl_bump&nbsp;bump&nbsp;all&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;sslcrtd_program&nbsp;/usr/local/squid/libexec/ssl_crtd&nbsp;-s&nbsp;/usr/local/squid/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;/div&gt;<br>
&lt;div&gt;sslcrtd_children&nbsp;8&nbsp;startup=1&nbsp;idle=1&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
