#
#       Logrotate fragment for squid.
#
/var/log/squid/*.log {
	daily
	compress
	delaycompress
	rotate 2
	missingok
	nocreate
	sharedscripts
	prerotate
		test ! -x /usr/sbin/sarg-reports || /usr/sbin/sarg-reports daily
	endscript
	postrotate
		for pidf in $(ls /var/run/squid/*.pid); do
			inst=$(basename $(echo ${pidf%%.pid}));
			/usr/sbin/squid -n ${inst} -k rotate;
		done
	endscript
}

