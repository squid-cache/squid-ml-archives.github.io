<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;Amos,&nbsp;this&nbsp;sounded&nbsp;promising.&nbsp;Unfortunately&nbsp;the&nbsp;behavior&nbsp;I&nbsp;observe&nbsp;is&nbsp;not&nbsp;what&nbsp;I&nbsp;expect.&lt;div&gt;So&nbsp;I&nbsp;added&nbsp;the&nbsp;following&nbsp;config:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;cache_peer&nbsp;&lt;a&nbsp;href=&quot;http://my.company.webserver.net&quot;&gt;my.company.webserver.net&lt;/a&gt;&nbsp;parent&nbsp;8081&nbsp;0&nbsp;no-query&nbsp;login=NEGOTIATE:myPrincipal&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;now&nbsp;squid&nbsp;still&nbsp;does&nbsp;not&nbsp;do&nbsp;the&nbsp;SPNEGO&nbsp;negotiation.&nbsp;I&nbsp;can&nbsp;see&nbsp;in&nbsp;the&nbsp;logs&nbsp;that&nbsp;it&nbsp;connects&nbsp;to&nbsp;the&nbsp;specified&nbsp;&quot;parent&quot;&nbsp;cache_peer,&nbsp;which&nbsp;returns&nbsp;&quot;401&nbsp;Unauthorized&quot;&nbsp;as&nbsp;expected.&nbsp;But&nbsp;then&nbsp;squid&nbsp;just&nbsp;returns&nbsp;that&nbsp;to&nbsp;the&nbsp;client&nbsp;instead&nbsp;of&nbsp;sending&nbsp;another&nbsp;request&nbsp;with&nbsp;the&nbsp;Kerberos&nbsp;ticket&nbsp;to&nbsp;complete&nbsp;the&nbsp;negotiation.&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;misunderstanding&nbsp;what&#39;s&nbsp;supposed&nbsp;to&nbsp;happen?Â &lt;/div&gt;&lt;div&gt;Or&nbsp;am&nbsp;I&nbsp;not&nbsp;configuring&nbsp;it&nbsp;right?&nbsp;(The&nbsp;keytab&nbsp;is&nbsp;readable&nbsp;by&nbsp;the&nbsp;squid&nbsp;user)&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Mar&nbsp;15,&nbsp;2018&nbsp;at&nbsp;9:44&nbsp;AM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;15/03/18&nbsp;11:01,&nbsp;Patrick&nbsp;Nick&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;It&nbsp;consumes&nbsp;the&nbsp;data&nbsp;for&nbsp;its&nbsp;graphs&nbsp;from&nbsp;a&nbsp;REST&nbsp;API&nbsp;via&nbsp;HTTP,&nbsp;on&nbsp;ports&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;the&nbsp;8000-9000&nbsp;range.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Then&nbsp;you&nbsp;can&nbsp;use&nbsp;cache_peer&nbsp;from&nbsp;the&nbsp;proxy&nbsp;to&nbsp;the&nbsp;origin&nbsp;server.&nbsp;See&nbsp;the&lt;br&gt;<br>
&quot;AUTHENTICATION&nbsp;OPTIONS&quot;&nbsp;section&nbsp;for&nbsp;how&nbsp;to&nbsp;send&nbsp;various&nbsp;types&nbsp;of&lt;br&gt;<br>
credentials&nbsp;to&nbsp;that&nbsp;peer.&lt;br&gt;<br>
&lt;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/cache_peer/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/&lt;wbr&gt;Doc/config/cache_peer/&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
