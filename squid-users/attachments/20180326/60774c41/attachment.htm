<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Disagree.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;My&nbsp;point&nbsp;about&nbsp;TLS&nbsp;is&nbsp;quite&nbsp;different.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;SSH,&nbsp;by&nbsp;design,&nbsp;assumes&nbsp;end-to-end&nbsp;encryption&nbsp;and&nbsp;do&nbsp;not&nbsp;assumes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;third-party&nbsp;treats&nbsp;as&nbsp;trusty,&nbsp;like&nbsp;TLS&nbsp;does.&nbsp;SSH&nbsp;immediately<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice&nbsp;you&nbsp;when&nbsp;server&nbsp;key&nbsp;surprisingly&nbsp;changed.&nbsp;Any&nbsp;MiTM&nbsp;in&nbsp;SSH<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tunnel&nbsp;immediately&nbsp;breaks&nbsp;connection.&nbsp;Of&nbsp;course,&nbsp;you&nbsp;can&nbsp;steal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;private&nbsp;key,&nbsp;you&nbsp;can&nbsp;break&nbsp;private&nbsp;key&nbsp;password.&nbsp;But&nbsp;you<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can't&nbsp;easy&nbsp;become&nbsp;fake&nbsp;server&nbsp;or&nbsp;intermediate&nbsp;hop&nbsp;and&nbsp;silently<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrypt&nbsp;tunneled&nbsp;SSH&nbsp;traffic.&nbsp;You&nbsp;can't&nbsp;do&nbsp;this&nbsp;by&nbsp;design.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Basics&nbsp;of&nbsp;TLS&nbsp;(in&nbsp;HTTPS&nbsp;implementation)&nbsp;assumes&nbsp;trusted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;third-party,&nbsp;which&nbsp;is&nbsp;authenticate&nbsp;both&nbsp;sides&nbsp;of&nbsp;conversations<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(i.e.&nbsp;Bob&nbsp;and&nbsp;Alice).&nbsp;I.e.,&nbsp;in&nbsp;case&nbsp;of&nbsp;this&nbsp;third&nbsp;party&nbsp;becomes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;untrusted&nbsp;by&nbsp;any&nbsp;reason&nbsp;(&lt;span&nbsp;id=&quot;result_box&quot;&nbsp;class=&quot;short_text&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lang=&quot;en&quot;&gt;&lt;span&gt;as&nbsp;practice&nbsp;has&nbsp;shown,&nbsp;it&nbsp;is&nbsp;very&nbsp;likely&lt;/span&gt;&lt;/span&gt;),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;can&nbsp;silently&nbsp;decrypt&nbsp;Bob&nbsp;and&nbsp;Alice&nbsp;conversation&nbsp;without&nbsp;any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notification&nbsp;-&nbsp;you&nbsp;still&nbsp;see&nbsp;green&nbsp;lock.&nbsp;Here&nbsp;we're&nbsp;can&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;talking&nbsp;about&nbsp;SSL&nbsp;Bump&nbsp;itself.&nbsp;Just&nbsp;imagine&nbsp;-&nbsp;not&nbsp;only&nbsp;you&nbsp;can&nbsp;do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;with&nbsp;squid,&nbsp;but&nbsp;any&nbsp;who&nbsp;can&nbsp;get&nbsp;intermediate&nbsp;CA&nbsp;signed&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trusted&nbsp;root&nbsp;CA.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Yes,&nbsp;users&nbsp;is&nbsp;involved&nbsp;in&nbsp;both&nbsp;cases.&nbsp;However&nbsp;the&nbsp;difference<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;still&nbsp;here.&nbsp;SSH&nbsp;is&nbsp;end-to-end&nbsp;always&nbsp;by&nbsp;design&nbsp;(we're&nbsp;not&nbsp;talking<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;things&nbsp;like&nbsp;Kerberos&nbsp;here),&nbsp;TLS&nbsp;is&nbsp;not.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;26.03.2018&nbsp;13:47,&nbsp;Sticher,&nbsp;Jascha<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;пишет:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:E286ADE35F919742812E3076A36122E701BFCAA911@tdsnsumbx2vp&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hi&nbsp;everyone,<br>
<br>
I&nbsp;know&nbsp;this&nbsp;is&nbsp;quite&nbsp;off-topic,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;clarify&nbsp;a&nbsp;bit.<br>
<br>
SSH&nbsp;and&nbsp;TLS&nbsp;both&nbsp;provide&nbsp;the&nbsp;same&nbsp;thing,&nbsp;namely&nbsp;a&nbsp;tunnel&nbsp;between&nbsp;a&nbsp;client&nbsp;and&nbsp;a&nbsp;server.&nbsp;While&nbsp;both&nbsp;use&nbsp;asymmetric&nbsp;crypto&nbsp;for&nbsp;authentication&nbsp;and&nbsp;symmetric&nbsp;crypto&nbsp;for&nbsp;data&nbsp;transfer&nbsp;and&nbsp;therefore&nbsp;the&nbsp;same&nbsp;algorithms&nbsp;(that's&nbsp;why&nbsp;openssh&nbsp;requires&nbsp;openssl/gnutls&nbsp;-&nbsp;as&nbsp;crypto&nbsp;library),&nbsp;they&nbsp;are&nbsp;independent&nbsp;protocols.&nbsp;SSH&nbsp;uses&nbsp;its&nbsp;own&nbsp;key&nbsp;format,&nbsp;which&nbsp;does&nbsp;not&nbsp;know&nbsp;such&nbsp;a&nbsp;thing&nbsp;as&nbsp;a&nbsp;CA&nbsp;–&nbsp;each&nbsp;server&nbsp;generates&nbsp;its&nbsp;own&nbsp;server&nbsp;key&nbsp;pair&nbsp;(or&nbsp;at&nbsp;least&nbsp;it&nbsp;should).[1,2]<br>
<br>
As&nbsp;to&nbsp;SSH-MiTM,&nbsp;this&nbsp;is&nbsp;indeed&nbsp;possible,&nbsp;in&nbsp;two&nbsp;cases:<br>
a)&nbsp;The&nbsp;server&nbsp;key&nbsp;is&nbsp;unknown&nbsp;to&nbsp;the&nbsp;client&nbsp;and&nbsp;not&nbsp;verified&nbsp;correctly&nbsp;(by&nbsp;the&nbsp;user!).&nbsp;Then&nbsp;a&nbsp;fake&nbsp;server&nbsp;can&nbsp;decrypt&nbsp;SSH&nbsp;and&nbsp;intercept&nbsp;everything.<br>
b)&nbsp;The&nbsp;client&nbsp;validates&nbsp;server&nbsp;certificates&nbsp;incorrectly&nbsp;or&nbsp;is&nbsp;told&nbsp;ignore&nbsp;changes&nbsp;in&nbsp;the&nbsp;server&nbsp;key&nbsp;(eg.&nbsp;“-o&nbsp;StrictHostKeyChecking=no”&nbsp;with&nbsp;openssh)<br>
<br>
There&nbsp;are&nbsp;some&nbsp;SSH-MITM&nbsp;solutions&nbsp;available&nbsp;on&nbsp;the&nbsp;internet.[3]<br>
<br>
To&nbsp;conclude,&nbsp;if&nbsp;crypto&nbsp;is&nbsp;involved&nbsp;_every_&nbsp;part&nbsp;of&nbsp;the&nbsp;conversation&nbsp;needs&nbsp;to&nbsp;do&nbsp;it&nbsp;_right_.&nbsp;Including&nbsp;the&nbsp;user.<br>
<br>
<br>
Kind&nbsp;regards,<br>
<br>
Jascha<br>
<br>
<br>
[1]&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure&quot;&gt;https://security.stackexchange.com/questions/1599/what-is-the-difference-between-ssl-vs-ssh-which-is-more-secure&lt;/a&gt;<br>
[2]&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://wiki.hetzner.de/index.php/Ed25519&quot;&gt;https://wiki.hetzner.de/index.php/Ed25519&lt;/a&gt;&nbsp;-&nbsp;hetzner&nbsp;shipped&nbsp;the&nbsp;same&nbsp;elliptic-curve&nbsp;host&nbsp;key&nbsp;on&nbsp;each&nbsp;host&nbsp;for&nbsp;a&nbsp;time<br>
[2]&nbsp;e.g.&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://github.com/mitmproxy/mitmproxy&quot;&gt;https://github.com/mitmproxy/mitmproxy&lt;/a&gt;<br>
<br>
<br>
<br>
Von:&nbsp;squid-users&nbsp;[&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&gt;mailto:squid-users-bounces@lists.squid-cache.org&lt;/a&gt;]&nbsp;Im&nbsp;Auftrag&nbsp;von&nbsp;Yuri<br>
Gesendet:&nbsp;Montag,&nbsp;26.&nbsp;März&nbsp;2018&nbsp;03:13<br>
An:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
Betreff:&nbsp;Re:&nbsp;[squid-users]&nbsp;How&nbsp;to&nbsp;configure&nbsp;a&nbsp;&quot;proxy&nbsp;home&quot;&nbsp;page&nbsp;?<br>
<br>
<br>
<br>
26.03.2018&nbsp;07:08,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
On&nbsp;26/03/18&nbsp;13:44,&nbsp;Yuri&nbsp;wrote:<br>
<br>
<br>
26.03.2018&nbsp;06:41,&nbsp;Yuri&nbsp;пишет:<br>
<br>
26.03.2018&nbsp;06:30,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
On&nbsp;26/03/18&nbsp;12:34,&nbsp;Yuri&nbsp;wrote:<br>
26.03.2018&nbsp;05:23,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
On&nbsp;26/03/18&nbsp;12:07,&nbsp;Yuri&nbsp;wrote:<br>
26.03.2018&nbsp;05:05,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
On&nbsp;26/03/18&nbsp;11:05,&nbsp;Yuri&nbsp;wrote:<br>
<br>
<br>
On&nbsp;26/03/18&nbsp;12:34,&nbsp;Yuri&nbsp;wrote:&gt;<br>
26.03.2018&nbsp;05:23,&nbsp;Amos&nbsp;Jeffries&nbsp;пишет:<br>
This&nbsp;is&nbsp;what&nbsp;I&nbsp;mean&nbsp;by&nbsp;&quot;TLS&nbsp;used&nbsp;properly&quot;&nbsp;-&nbsp;proper&nbsp;is&nbsp;when&nbsp;it&nbsp;always<br>
circles&nbsp;back&nbsp;to&nbsp;user&nbsp;deciding&nbsp;who&nbsp;they&nbsp;trust.&nbsp;No&nbsp;matter&nbsp;how&nbsp;indirectly,<br>
the&nbsp;user&nbsp;installs&nbsp;a&nbsp;(root)&nbsp;CA&nbsp;causing&nbsp;trust&nbsp;or&nbsp;allowed&nbsp;someone&nbsp;else&nbsp;to<br>
do&nbsp;so.<br>
Generally&nbsp;speaking,&nbsp;yes.<br>
<br>
I&nbsp;just&nbsp;mean,&nbsp;that&nbsp;in&nbsp;some&nbsp;other&nbsp;protocols&nbsp;you&nbsp;have&nbsp;no&nbsp;any&nbsp;possibility&nbsp;to<br>
make&nbsp;MiTM&nbsp;by&nbsp;any&nbsp;way,&nbsp;whenever&nbsp;installing&nbsp;something&nbsp;or&nbsp;not.&nbsp;This<br>
prevents&nbsp;any&nbsp;improper&nbsp;or&nbsp;malicious&nbsp;use&nbsp;of&nbsp;protocol.<br>
<br>
TLS*have*&nbsp;this&nbsp;possibility.&nbsp;SSH&nbsp;is&nbsp;*not*.&nbsp;You&nbsp;can't&nbsp;MiTM&nbsp;or&nbsp;compromise<br>
SSH&nbsp;by&nbsp;installing&nbsp;any&nbsp;key/certs&nbsp;to&nbsp;client.&nbsp;Correct?&nbsp;This&nbsp;is&nbsp;by&nbsp;design?<br>
No.&nbsp;SSH&nbsp;is&nbsp;just&nbsp;TCP/telnet&nbsp;over&nbsp;TLS.&nbsp;So&nbsp;if&nbsp;the&nbsp;SSH&nbsp;software&nbsp;were&nbsp;to<br>
trust&nbsp;the&nbsp;cert/key&nbsp;Squid&nbsp;delivers&nbsp;one&nbsp;could&nbsp;use&nbsp;SSL-Bump&nbsp;on&nbsp;that&nbsp;SSH<br>
traffic.<br>
You&nbsp;sure?<br>
<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl&quot;&gt;https://stackoverflow.com/questions/723152/difference-between-ssh-and-ssl-especially-in-terms-of-sftp-vs-ftp-over-ssl&lt;/a&gt;<br>
<br>
Quote:&nbsp;&quot;SSH&nbsp;has&nbsp;its&nbsp;own&nbsp;transport&nbsp;protocol&nbsp;independent&nbsp;from&nbsp;SSL,&nbsp;so&nbsp;that<br>
means&nbsp;SSH&nbsp;DOES&nbsp;NOT&nbsp;use&nbsp;SSL&nbsp;under&nbsp;the&nbsp;hood.&quot;<br>
<br>
Because&nbsp;I'm&nbsp;not.&nbsp;Different&nbsp;sources&nbsp;tells&nbsp;opposite.<br>
I'm&nbsp;sure&nbsp;SSH&nbsp;using&nbsp;openssl&nbsp;under&nbsp;the&nbsp;hood.&nbsp;But&nbsp;not&nbsp;sure&nbsp;it&nbsp;uses&nbsp;same<br>
tunneling&nbsp;implementation&nbsp;like&nbsp;TLS-over-HTTP.&nbsp;And&nbsp;now&nbsp;it&nbsp;is&nbsp;still&nbsp;unknown<br>
any&nbsp;method&nbsp;to&nbsp;MiTM&nbsp;SSH,&nbsp;AFAIK.<br>
<br>
I'm&nbsp;not&nbsp;100%&nbsp;sure,&nbsp;but&nbsp;it&nbsp;uses&nbsp;the&nbsp;same&nbsp;message&nbsp;framing&nbsp;as&nbsp;TLS&nbsp;and<br>
performs&nbsp;the&nbsp;same&nbsp;handshake&nbsp;sequence&nbsp;and&nbsp;security&nbsp;verifications.<br>
This&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;transport,&nbsp;yes?&nbsp;Because&nbsp;of&nbsp;transport&nbsp;is&nbsp;primary&nbsp;target&nbsp;for&nbsp;bumping.<br>
<br>
<br>
<br>
That&nbsp;said&nbsp;*SSL*&nbsp;_is_&nbsp;different&nbsp;from&nbsp;TLS&nbsp;so&nbsp;the&nbsp;quote&nbsp;is&nbsp;technically<br>
correct&nbsp;either&nbsp;way.<br>
It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;difference&nbsp;is&nbsp;not&nbsp;of&nbsp;principle.&nbsp;Both&nbsp;SSL&nbsp;and&nbsp;TLS&nbsp;use&nbsp;the&nbsp;same&nbsp;architecture,&nbsp;in&nbsp;which,&nbsp;in&nbsp;principle,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;have&nbsp;an&nbsp;MiTM&nbsp;certificate,&nbsp;which&nbsp;one&nbsp;of&nbsp;the&nbsp;parties&nbsp;trusts.<br>
<br>
<br>
Amos<br>
<br>
Erleben&nbsp;Sie&nbsp;Industrie&nbsp;4.0&nbsp;konkret&nbsp;–&nbsp;auf&nbsp;der&nbsp;HANNOVER&nbsp;MESSE.<br>
Vom&nbsp;23.&nbsp;bis&nbsp;27.&nbsp;April&nbsp;2018.<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.fujitsu.com/de/microsite/hmi/register/index.html?utm_source=Email&amp;utm_medium=Signature%20EMail&amp;utm_campaign=HANNOVER%20MESSE%20DE&amp;utm_term=&amp;utm_content=Ticket-anfordern&quot;&gt;www.fujitsu.com/de/microsite/hmi/register/index.html?utm_source=Email&amp;utm_medium=Signature%20EMail&amp;utm_campaign=HANNOVER%20MESSE%20DE&amp;utm_term=&amp;utm_content=Ticket-anfordern&lt;/a&gt;<br>
<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
<br>
<br>
--<br>
&quot;C++&nbsp;seems&nbsp;like&nbsp;a&nbsp;language&nbsp;suitable&nbsp;for&nbsp;firing&nbsp;other&nbsp;people's&nbsp;legs.&quot;<br>
<br>
*****************************<br>
*&nbsp;C++20&nbsp;:&nbsp;Bug&nbsp;to&nbsp;the&nbsp;future&nbsp;*<br>
*****************************<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
&quot;C++&nbsp;seems&nbsp;like&nbsp;a&nbsp;language&nbsp;suitable&nbsp;for&nbsp;firing&nbsp;other&nbsp;people's&nbsp;legs.&quot;<br>
<br>
*****************************<br>
*&nbsp;C++20&nbsp;:&nbsp;Bug&nbsp;to&nbsp;the&nbsp;future&nbsp;*<br>
*****************************&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
