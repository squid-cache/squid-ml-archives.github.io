<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Mon,&nbsp;Apr&nbsp;9,&nbsp;2018&nbsp;at&nbsp;4:43&nbsp;PM,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&gt;&nbsp;On&nbsp;04/09/2018&nbsp;06:03&nbsp;AM,&nbsp;Peter&nbsp;Viskup&nbsp;wrote:&lt;br&gt;&gt;&gt;&nbsp;Running&nbsp;Squid&nbsp;4.0.23&nbsp;the&nbsp;ICAP&nbsp;connections&nbsp;getting&nbsp;&quot;frozen&quot;.&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&gt;&nbsp;proxy:~&nbsp;$&nbsp;netstat&nbsp;-ntpa|&nbsp;grep&nbsp;40620&lt;br&gt;&gt;&gt;&nbsp;tcp&nbsp; &nbsp;920144&nbsp; &nbsp; &nbsp; 0&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:40620&quot;&gt;127.0.0.1:40620&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:1344&quot;&gt;127.0.0.1:1344&lt;/a&gt;&lt;br&gt;&gt;&gt;&nbsp;ESTABLISHED&nbsp;1165/(squid-1)&lt;br&gt;&gt;&gt;&nbsp;tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp;2744857&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:1344&quot;&gt;127.0.0.1:1344&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;http://127.0.0.1:40620&quot;&gt;127.0.0.1:40620&lt;/a&gt;&lt;br&gt;&gt;&gt;&nbsp;ESTABLISHED&nbsp;1211/esets_icap&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&gt;&nbsp;#&nbsp;after&nbsp;ICAP&nbsp;service&nbsp;restart&lt;br&gt;&gt;&gt;&nbsp;proxy:~&nbsp;$&nbsp;netstat&nbsp;-ntpa|&nbsp;grep&nbsp;40620&lt;br&gt;&gt;&gt;&nbsp;tcp&nbsp; &nbsp;920144&nbsp; &nbsp; &nbsp; 0&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:40620&quot;&gt;127.0.0.1:40620&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:1344&quot;&gt;127.0.0.1:1344&lt;/a&gt;&lt;br&gt;&gt;&gt;&nbsp;ESTABLISHED&nbsp;1165/(squid-1)&lt;br&gt;&gt;&gt;&nbsp;tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp;2744858&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:1344&quot;&gt;127.0.0.1:1344&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;http://127.0.0.1:40620&quot;&gt;127.0.0.1:40620&lt;/a&gt;&lt;br&gt;&gt;&gt;&nbsp;FIN_WAIT1&nbsp; &nbsp;-&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&gt;&nbsp;#&nbsp;later&nbsp;on&nbsp;-&nbsp;squid&nbsp;still&nbsp;keep&nbsp;the&nbsp;connection&nbsp;open&lt;br&gt;&gt;&gt;&nbsp;proxy:~&nbsp;$&nbsp;netstat&nbsp;-ntpa|&nbsp;grep&nbsp;40620&lt;br&gt;&gt;&gt;&nbsp;tcp&nbsp; &nbsp;920144&nbsp; &nbsp; &nbsp; 0&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:40620&quot;&gt;127.0.0.1:40620&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:1344&quot;&gt;127.0.0.1:1344&lt;/a&gt;&lt;br&gt;&gt;&gt;&nbsp;ESTABLISHED&nbsp;1165/(squid-1)&lt;br&gt;&gt;&lt;br&gt;&gt;&gt;&nbsp;How&nbsp;the&nbsp;ICAP&nbsp;connections&nbsp;are&nbsp;handled?&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Is&nbsp;there&nbsp;an&nbsp;HTTP&nbsp;transaction&nbsp;associated&nbsp;with&nbsp;(e.g.,&nbsp;waiting&nbsp;for)&nbsp;that&lt;br&gt;&gt;&nbsp;stuck&nbsp;ICAP&nbsp;connection?&lt;br&gt;&lt;br&gt;Not&nbsp;found&nbsp;the&nbsp;HTTP&nbsp;transaction&nbsp;associated&nbsp;with.&lt;br&gt;&lt;br&gt;&gt;&nbsp;Can&nbsp;you&nbsp;reproduce&nbsp;this&nbsp;problem&nbsp;with&nbsp;a&nbsp;single&nbsp;HTTP&nbsp;transaction?&nbsp;Or&nbsp;does&lt;br&gt;&gt;&nbsp;it&nbsp;take&nbsp;many&nbsp;transactions&nbsp;to&nbsp;get&nbsp;Squid&nbsp;into&nbsp;this&nbsp;state?&nbsp;If&nbsp;you&nbsp;can&lt;br&gt;&gt;&nbsp;easily&nbsp;reproduce,&nbsp;I&nbsp;recommend&nbsp;filing&nbsp;a&nbsp;bug&nbsp;report&nbsp;with&nbsp;an&nbsp;ALL,9&nbsp;trace&nbsp;of&lt;br&gt;&gt;&nbsp;the&nbsp;problematic&nbsp;transaction&nbsp;attached.&lt;br&gt;&lt;br&gt;I&nbsp;can&nbsp;easily&nbsp;reproduce.&nbsp;Will&nbsp;search&nbsp;for&nbsp;the&nbsp;HTTP&nbsp;transaction,&nbsp;but&nbsp;not&nbsp;sure&nbsp;whether&nbsp;I&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;trace&nbsp;it.&lt;br&gt;&lt;br&gt;More&nbsp;information&nbsp;in:&lt;br&gt;&lt;a&nbsp;href=&quot;https://bugs.squid-cache.org/show_bug.cgi?id=4844&quot;&gt;https://bugs.squid-cache.org/show_bug.cgi?id=4844&lt;/a&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
