<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Mon,&nbsp;May&nbsp;21,&nbsp;2018&nbsp;at&nbsp;3:29&nbsp;PM,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;22/05/18&nbsp;00:08,&nbsp;kAja&nbsp;Ziegler&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp; &nbsp;I&nbsp;want&nbsp;to&nbsp;ask,&nbsp;if&nbsp;it&nbsp;is&nbsp;really&nbsp;needed&nbsp;to&nbsp;use&nbsp;ulimit&nbsp;or&lt;br&gt;<br>
&gt;&nbsp;/etc/security/limits.conf&nbsp;to&nbsp;increase&nbsp;max_filedescriptors&nbsp;value?&nbsp;From&nbsp;my&lt;br&gt;<br>
&gt;&nbsp;testing,&nbsp;it&nbsp;seems&nbsp;not.&lt;br&gt;<br>
&lt;br&gt;<br>
Sometimes&nbsp;yes,&nbsp;sometimes&nbsp;no.&nbsp;It&nbsp;depends&nbsp;on&nbsp;what&nbsp;the&nbsp;systems&nbsp;normal&lt;br&gt;<br>
settings&nbsp;are&nbsp;and&nbsp;whether&nbsp;the&nbsp;Squid&nbsp;binary&nbsp;was&nbsp;built&nbsp;with&nbsp;full&nbsp;or&nbsp;partial&lt;br&gt;<br>
rlimit()&nbsp;support.&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*=&nbsp;my&nbsp;environment:*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;CentOS&nbsp;6.9&lt;br&gt;<br>
&gt;&nbsp;Squid&nbsp;3.1.23&nbsp;/&nbsp;3.4.14&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*-&nbsp;default&nbsp;ulimits&nbsp;for&nbsp;root&nbsp;and&nbsp;other&nbsp;users:*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;ulimit&nbsp;-Sa&nbsp;|&nbsp;grep&nbsp;--&nbsp;&#39;-n&#39;&lt;br&gt;<br>
&gt;&nbsp;open&nbsp;files                     &nbsp;(-n)&nbsp;1024&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;ulimit&nbsp;-Ha&nbsp;|&nbsp;grep&nbsp;--&nbsp;&#39;-n&#39;&lt;br&gt;<br>
&gt;&nbsp;open&nbsp;files                     &nbsp;(-n)&nbsp;4096&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*-&nbsp;default&nbsp;ulimits&nbsp;for&nbsp;squid&nbsp;user:*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;sudo&nbsp;-u&nbsp;squid&nbsp;/bin/bash&lt;br&gt;<br>
&gt;&nbsp;bash-4.1$&nbsp;id&lt;br&gt;<br>
&gt;&nbsp;uid=23(squid)&nbsp;gid=23(squid)&nbsp;groups=23(squid),...&lt;br&gt;<br>
&gt;&nbsp;bash-4.1$&nbsp;ulimit&nbsp;-Sa&nbsp;|&nbsp;grep&nbsp;--&nbsp;&#39;-n&#39;&lt;br&gt;<br>
&gt;&nbsp;open&nbsp;files                     &nbsp;(-n)&nbsp;1024&lt;br&gt;<br>
&gt;&nbsp;bash-4.1$&nbsp;ulimit&nbsp;-Ha&nbsp;|&nbsp;grep&nbsp;--&nbsp;&#39;-n&#39;&lt;br&gt;<br>
&gt;&nbsp;open&nbsp;files                     &nbsp;(-n)&nbsp;4096&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*-&nbsp;processes:*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;ps&nbsp;aux&nbsp;|&nbsp;grep&nbsp;squid&lt;br&gt;<br>
&gt;&nbsp;root     &nbsp;7194 &nbsp;0.0 &nbsp;0.1 &nbsp;73524 &nbsp;3492&nbsp;?       &nbsp;Ss  &nbsp;May17  &nbsp;0:00&nbsp;squid&lt;br&gt;<br>
&gt;&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;br&gt;<br>
&gt;&nbsp;squid    &nbsp;7197 &nbsp;0.2&nbsp;10.9&nbsp;276080&nbsp;210156&nbsp;?      &nbsp;S   &nbsp;May17  &nbsp;4:53&nbsp;(squid)&lt;br&gt;<br>
&gt;&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;br&gt;<br>
&gt;&nbsp;squid    &nbsp;7198 &nbsp;0.0 &nbsp;0.0 &nbsp;20080 &nbsp;1084&nbsp;?       &nbsp;S   &nbsp;May17  &nbsp;0:00&nbsp;(unlinkd)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*-&nbsp;error&nbsp;and&nbsp;warning&nbsp;messages&nbsp;from&nbsp;cache.log:*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;client_side.cc(3070)&nbsp;okToAccept:&nbsp;WARNING!&nbsp;Your&nbsp;cache&nbsp;is&nbsp;running&nbsp;out&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;filedescriptors&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;comm_open:&nbsp;socket&nbsp;failure:&nbsp;(24)&nbsp;Too&nbsp;many&nbsp;open&nbsp;files&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;IpIntercept.cc(137)&nbsp;NetfilterInterception: &nbsp;NF&lt;br&gt;<br>
&gt;&nbsp;getsockopt(SO_ORIGINAL_DST)&nbsp;failed&nbsp;on&nbsp;FD&nbsp;68:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file&nbsp;or&lt;br&gt;<br>
&gt;&nbsp;directory&nbsp;...&nbsp;(many&nbsp;with&nbsp;different&nbsp;FD)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
These&nbsp;should&nbsp;not&nbsp;be&nbsp;related&nbsp;to&nbsp;FD&nbsp;numbers&nbsp;running&nbsp;out.&nbsp;As&nbsp;you&nbsp;can&nbsp;see&nbsp;FD&lt;br&gt;<br>
68&nbsp;was&nbsp;already&nbsp;allocated&nbsp;to&nbsp;this&nbsp;TCP&nbsp;connection&nbsp;and&nbsp;the&nbsp;socket&nbsp;accept()&#39;ed.&lt;br&gt;<br>
&lt;br&gt;<br>
NAT&nbsp;errors&nbsp;are&nbsp;usually&nbsp;caused&nbsp;by&nbsp;explicit-proxy&nbsp;traffic&nbsp;arriving&nbsp;at&nbsp;a&lt;br&gt;<br>
NAT&nbsp;interception&nbsp;port.&nbsp;Such&nbsp;traffic&nbsp;is&nbsp;prohibited.&lt;br&gt;<br>
or&nbsp;by&nbsp;NAT&nbsp;table&nbsp;overflowing&nbsp;under&nbsp;extreme&nbsp;traffic&nbsp;loads.&nbsp;Either&nbsp;way&lt;br&gt;<br>
current&nbsp;Squid&nbsp;versions&nbsp;will&nbsp;terminate&nbsp;that&nbsp;connection&nbsp;immediately&nbsp;since&lt;br&gt;<br>
it&nbsp;cannot&nbsp;identify&nbsp;where&nbsp;the&nbsp;packets&nbsp;were&nbsp;supposed&nbsp;to&nbsp;be&nbsp;going.&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;found&nbsp;many&nbsp;How-tos&nbsp;like&nbsp;these&nbsp;-&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://access.redhat.com/solutions/63027&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://access.redhat.com/&lt;wbr&gt;solutions/63027&lt;/a&gt;&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://www.cyberciti.biz/faq/squid-proxy-server-running-out-filedescriptors/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.cyberciti.biz/faq/&lt;wbr&gt;squid-proxy-server-running-&lt;wbr&gt;out-filedescriptors/&lt;/a&gt;.&lt;br&gt;<br>
&gt;&nbsp;Both&nbsp;how-tos&nbsp;mention&nbsp;editing&nbsp;the&nbsp;file&nbsp;/etc/security/limits.conf&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;adding&nbsp;the&nbsp;line&nbsp;&quot;*&nbsp;-&nbsp;nofile&nbsp;4096&quot;&nbsp;to&nbsp;increase&nbsp;the&nbsp;nofile&nbsp;limit&nbsp;for&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;users&nbsp;except&nbsp;root&nbsp;-&nbsp;I&nbsp;don&#39;t&nbsp;like&nbsp;this.&nbsp;According&nbsp;to&nbsp;my&nbsp;test,&nbsp;see&nbsp;below, &lt;br&gt;<br>
&gt;&nbsp;this&nbsp;is&nbsp;not&nbsp;necessary,&nbsp;but&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;sure,&nbsp;so&nbsp;I&#39;m&nbsp;writing&nbsp;here.&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;neither&nbsp;of&nbsp;those&nbsp;are&nbsp;the&nbsp;official&nbsp;Squid&nbsp;FAQ.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;official&nbsp;recommendation&nbsp;is&nbsp;to&nbsp;use&nbsp;those&nbsp;data&nbsp;sources&nbsp;to&nbsp;*check*&nbsp;what&lt;br&gt;<br>
the&nbsp;system&nbsp;limits&nbsp;are.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;official&nbsp;Best&nbsp;Practice&nbsp;varies&nbsp;depending&nbsp;on&nbsp;ones&nbsp;needs.&nbsp;Packagers&lt;br&gt;<br>
distributing&nbsp;Squid&nbsp;are&nbsp;advised&nbsp;to&nbsp;set&nbsp;reasonable&nbsp;limits&nbsp;in&nbsp;the&nbsp;init&lt;br&gt;<br>
script&nbsp;starting&nbsp;Squid.&nbsp;End&nbsp;users&nbsp;to&nbsp;use&nbsp;the&nbsp;configuration&nbsp;file&nbsp;best&lt;br&gt;<br>
suited&nbsp;to&nbsp;their&nbsp;need&nbsp;(MAY&nbsp;be&nbsp;limits.conf,&nbsp;but&nbsp;usually&nbsp;squid.conf).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*a)&nbsp;Squid&nbsp;default&nbsp;configuration&nbsp;(max_filedesc&nbsp;0)&nbsp;and&nbsp;default&nbsp;nofile&lt;br&gt;<br>
&gt;&nbsp;limit&nbsp;(1024/4096):*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;not&nbsp;set&nbsp;the&nbsp;limit&nbsp;to&nbsp;&quot;0&quot;.&nbsp;That&nbsp;actually&nbsp;means&nbsp;*no*&nbsp;filedescriptors&lt;br&gt;<br>
for&nbsp;the&nbsp;newer&nbsp;Squid&nbsp;versions.&lt;br&gt;<br>
&lt;br&gt;<br>
Remove&nbsp;the&nbsp;directive&nbsp;entirely&nbsp;from&nbsp;your&nbsp;squid.conf&nbsp;for&nbsp;the&nbsp;default&lt;br&gt;<br>
behaviour.&lt;br&gt;<br>
&lt;br&gt;<br>
Also&nbsp;&quot;max_filedescriptors&quot;&nbsp;is&nbsp;teh&nbsp;directive&nbsp;name.&nbsp;&quot;max_filedesc&quot;&nbsp;was&lt;br&gt;<br>
only&nbsp;for&nbsp;the&nbsp;experimental&nbsp;RHEL&nbsp;patch&nbsp;many&nbsp;decades&nbsp;ago.&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;*c)&nbsp;Squid&nbsp;configuration&nbsp;with&nbsp;max_filedesc&nbsp;8192&nbsp;and&nbsp;default&nbsp;nofile&nbsp;limit&lt;br&gt;<br>
&gt;&nbsp;(1024/4096):*&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;ps&nbsp;aux&nbsp;|&nbsp;grep&nbsp;squid&lt;br&gt;<br>
&gt;&nbsp;root    &nbsp;18734 &nbsp;0.0 &nbsp;0.1 &nbsp;73524 &nbsp;3492&nbsp;?       &nbsp;Ss  &nbsp;14:00  &nbsp;0:00&nbsp;squid&lt;br&gt;<br>
&gt;&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;br&gt;<br>
&gt;&nbsp;squid   &nbsp;18737 &nbsp;0.3 &nbsp;0.6 &nbsp;80244&nbsp;11860&nbsp;?       &nbsp;S   &nbsp;14:00  &nbsp;0:00&nbsp;(squid)&lt;br&gt;<br>
&gt;&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;br&gt;<br>
&gt;&nbsp;squid   &nbsp;18740 &nbsp;0.0 &nbsp;0.0 &nbsp;20080 &nbsp;1088&nbsp;?       &nbsp;S   &nbsp;14:00  &nbsp;0:00&nbsp;(unlinkd)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;grep&nbsp;-E&nbsp;&quot;Limit|Max&nbsp;open&nbsp;files&quot;&nbsp;/proc/18734/limits&lt;br&gt;<br>
&gt;&nbsp;Limit                    &nbsp;Soft&nbsp;Limit          &nbsp;Hard&nbsp;Limit          &nbsp;Units&lt;br&gt;<br>
&gt;&nbsp;Max&nbsp;open&nbsp;files           &nbsp;1024                &nbsp;4096                &nbsp;files&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;grep&nbsp;-E&nbsp;&quot;Limit|Max&nbsp;open&nbsp;files&quot;&nbsp;/proc/18737/limits&lt;br&gt;<br>
&gt;&nbsp;Limit                    &nbsp;Soft&nbsp;Limit          &nbsp;Hard&nbsp;Limit          &nbsp;Units&lt;br&gt;<br>
&gt;&nbsp;Max&nbsp;open&nbsp;files           &nbsp;*8192*                &nbsp;*8192*                &lt;br&gt;<br>
&gt;&nbsp;files&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;[root@...]#&nbsp;grep&nbsp;-E&nbsp;&quot;Limit|Max&nbsp;open&nbsp;files&quot;&nbsp;/proc/18740/limits&lt;br&gt;<br>
&gt;&nbsp;Limit                    &nbsp;Soft&nbsp;Limit          &nbsp;Hard&nbsp;Limit          &nbsp;Units&lt;br&gt;<br>
&gt;&nbsp;Max&nbsp;open&nbsp;files            *8192*       &lt;wbr&gt;          *8192*              &lt;wbr&gt;  &lt;br&gt;<br>
&gt;&nbsp;files&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;both&nbsp;soft&nbsp;and&nbsp;hard&nbsp;nofile&nbsp;limits&nbsp;were&nbsp;increased&nbsp;for&nbsp;processes&nbsp;running&lt;br&gt;<br>
&gt;&nbsp;under&nbsp;squid&nbsp;user&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;think,&nbsp;that&nbsp;the&nbsp;limits&nbsp;could&nbsp;be&nbsp;increased&nbsp;in&nbsp;tests&nbsp;b)&nbsp;and&nbsp;c)&nbsp;because&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;master&nbsp;process&nbsp;runs&nbsp;under&nbsp;the&nbsp;root&nbsp;user.&nbsp;Am&nbsp;I&nbsp;right&nbsp;or&nbsp;not?&lt;br&gt;<br>
&lt;br&gt;<br>
AFAIK,&nbsp;Hard&nbsp;limit&nbsp;can&nbsp;be&nbsp;changed&nbsp;by&nbsp;root&nbsp;(or&nbsp;ulimit&nbsp;tool&nbsp;itself&nbsp;would&lt;br&gt;<br>
not&nbsp;work).&nbsp;Soft&nbsp;limit&nbsp;can&nbsp;be&nbsp;changed&nbsp;by&nbsp;any&nbsp;user&nbsp;to&nbsp;any&nbsp;value&nbsp;below&nbsp;hard&lt;br&gt;<br>
limit.&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;you&nbsp;see&nbsp;in&nbsp;(c)&nbsp;is&nbsp;the&nbsp;master&nbsp;process&nbsp;changing&nbsp;the&nbsp;hard&nbsp;limit&nbsp;for&lt;br&gt;<br>
its&nbsp;spawned&nbsp;child&nbsp;processes&nbsp;so&nbsp;that&nbsp;they&nbsp;can&nbsp;use&nbsp;the&nbsp;value&nbsp;in&nbsp;squid.conf&lt;br&gt;<br>
without&nbsp;errors.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Or&nbsp;need&nbsp;I&nbsp;to&nbsp;increase&nbsp;the&nbsp;limits&nbsp;for&nbsp;the&nbsp;master&nbsp;proccess&nbsp;too?&lt;br&gt;<br>
&lt;br&gt;<br>
Not&nbsp;if&nbsp;squid&nbsp;is&nbsp;correctly&nbsp;setting&nbsp;the&nbsp;limits&nbsp;for&nbsp;you.&nbsp;Doing&nbsp;that&lt;br&gt;<br>
automatically&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;reasons&nbsp;the&nbsp;master&nbsp;exists&nbsp;separately&nbsp;from&lt;br&gt;<br>
the&nbsp;workers.&nbsp;The&nbsp;init&nbsp;script&nbsp;use&nbsp;of&nbsp;ulimit&nbsp;is&nbsp;a&nbsp;workaround&nbsp;for&nbsp;builds&lt;br&gt;<br>
where&nbsp;rlimit()&nbsp;support&nbsp;is&nbsp;lacking&nbsp;or&nbsp;broken.&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.&lt;wbr&gt;org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/&lt;wbr&gt;listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;Thank&nbsp;you&nbsp;Amos&nbsp;for&nbsp;your&nbsp;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;clarification&lt;/span&gt;&lt;/span&gt;/explanation&nbsp;and&nbsp;confirmation&nbsp;of&nbsp;my&nbsp;presumptions.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-alt-edited&quot;&gt;About&nbsp;the&nbsp;NAT&nbsp;errors&nbsp;I&#39;m&nbsp;going&nbsp;to&nbsp;write&nbsp;new&nbsp;email.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-alt-edited&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-alt-edited&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;Do&nbsp;not&nbsp;set&nbsp;the&nbsp;limit&nbsp;to&nbsp;&quot;0&quot;.&nbsp;That&nbsp;actually&nbsp;means&nbsp;*no*&nbsp;filedescriptors&nbsp;for&nbsp;the&nbsp;newer&nbsp;Squid&nbsp;versions.&lt;br&gt;&lt;br&gt;Remove&nbsp;the&nbsp;directive&nbsp;entirely&nbsp;from&nbsp;your&nbsp;squid.conf&nbsp;for&nbsp;the&nbsp;default&nbsp;behaviour.&lt;/blockquote&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Thank&nbsp;you&nbsp;for&nbsp;the&nbsp;warning,&nbsp;I&nbsp;came&nbsp;up&nbsp;with&nbsp;the&nbsp;documentation&nbsp;for&nbsp;Squid&nbsp;3.1.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
Also&nbsp;&quot;max_filedescriptors&quot;&nbsp;is&nbsp;teh&nbsp;directive&nbsp;name.&nbsp;&quot;max_filedesc&quot;&nbsp;was&nbsp;only&nbsp;for&nbsp;the&nbsp;experimental&nbsp;RHEL&nbsp;patch&nbsp;many&nbsp;decades&nbsp;ago.&lt;/blockquote&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Yep,&nbsp;I&nbsp;made&nbsp;copy&nbsp;&amp;&nbsp;paste&nbsp;error&nbsp;from&nbsp;the&nbsp;old&nbsp;RHEL&nbsp;5.x&nbsp;page&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;https://access.redhat.com/solutions/63027&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://access.redhat.com/&lt;wbr&gt;solutions/63027&lt;/a&gt;. &lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;I&nbsp;use&nbsp;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;&quot;max_filedescriptors&quot;&lt;/span&gt;&lt;/span&gt;&nbsp;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;in&nbsp;my&nbsp;configuration&nbsp;of&nbsp;course.&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Best&nbsp;regards&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;--&nbsp;&lt;br&gt;Karel&nbsp;Ziegler&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
