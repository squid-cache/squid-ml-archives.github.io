<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Still&nbsp;reading&nbsp;all&nbsp;the&nbsp;options,&nbsp;noticed&nbsp;dns_packet_max&nbsp;is&nbsp;off&nbsp;by&nbsp;default.&nbsp;My&nbsp;squid&nbsp;uses&nbsp;dnsmasq,&nbsp;that&nbsp;has&nbsp;EDNS&nbsp;on&nbsp;by&nbsp;default&nbsp;and&nbsp;it&nbsp;&quot;defaults&nbsp;to&nbsp;4096,&nbsp;which&nbsp;is&nbsp;the&nbsp;RFC5625-recommended&nbsp;size&quot;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;case&nbsp;what&nbsp;will&nbsp;happen&nbsp;then?&nbsp;dnsmasq&nbsp;may&nbsp;receive&nbsp;EDNS&nbsp;up&nbsp;to&nbsp;4K,&nbsp;which&nbsp;squid&nbsp;by&nbsp;default&nbsp;only&nbsp;takes&nbsp;512Byte.  &lt;a&nbsp;href=&quot;http://www.squid-cache.org/Versions/v3/3.5/cfgman/dns_packet_max.html&quot;&gt;http://www.squid-cache.org/Versions/v3/3.5/cfgman/dns_packet_max.html&lt;/a&gt; &nbsp;warns&nbsp;some&nbsp;older&nbsp;resolver&nbsp;does&nbsp;not&nbsp;like&nbsp;EDNS,&nbsp;but&nbsp;dnsmasq&nbsp;has&nbsp;this&nbsp;feature&nbsp;on&nbsp;by&nbsp;default...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thinking&nbsp;about&nbsp;setting&nbsp;up&nbsp;&quot;dns_packet_max&nbsp;4096&quot;&nbsp;and&nbsp;see&nbsp;what&nbsp;happens...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gordon&lt;/div&gt;&lt;/div&gt;<br>

</tt>
