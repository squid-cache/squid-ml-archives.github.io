<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Date:&nbsp;Thu,&nbsp;28&nbsp;Jun&nbsp;2018&nbsp;07:06:14&nbsp;+1200&lt;br&gt;<br>
From:&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;can&nbsp;squid&nbsp;use&nbsp;dns&nbsp;server&nbsp;on&nbsp;random&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;port(non-53)?&lt;br&gt;<br>
Message-ID:&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:4563f027-a210-deeb-df82-f5a238887410@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;4563f027-a210-deeb-df82-f5a238887410@treenet.co.nz&lt;/a&gt;&gt;&lt;br&gt;<br>
Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;27/06/18&nbsp;16:29,&nbsp;Dieter&nbsp;Bloms&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hello,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Tue,&nbsp;Jun&nbsp;26,&nbsp;Gordon&nbsp;Hsiao&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;checked&nbsp;the&nbsp;manual&nbsp;it&nbsp;seems&nbsp;I&nbsp;can&nbsp;only&nbsp;set&nbsp;dnsserver&nbsp;with&nbsp;a&nbsp;new&nbsp;IP,&nbsp;is&nbsp;it&lt;br&gt;<br>
&gt;&gt;&nbsp;possible&nbsp;to&nbsp;make&nbsp;squid&nbsp;support&nbsp;non-standard&nbsp;DNS&nbsp;port,&nbsp;e.g.&nbsp;5353?&lt;br&gt;<br>
&lt;br&gt;<br>
Squid&nbsp;only&nbsp;contains&nbsp;a&nbsp;minimal&nbsp;stub&nbsp;resolver.&nbsp;It&nbsp;requires&nbsp;a&nbsp;recursive&lt;br&gt;<br>
resolver&nbsp;on&nbsp;port&nbsp;53&nbsp;(UDP&nbsp;*and*&nbsp;TCP)&nbsp;to&nbsp;do&nbsp;the&nbsp;actual&nbsp;DNS&nbsp;resolving&nbsp;and&lt;br&gt;<br>
any&nbsp;fancy&nbsp;things&nbsp;like&nbsp;strange&nbsp;ports.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;what&nbsp;Dieter&nbsp;said:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;maybe&nbsp;you&nbsp;can&nbsp;use&nbsp;a&nbsp;dns&nbsp;resolver&nbsp;like&nbsp;unbound,&nbsp;dnscache,&nbsp;dnsmasq,&nbsp;....&lt;br&gt;<br>
&gt;&nbsp;which&nbsp;can&nbsp;be&nbsp;configure&nbsp;to&nbsp;listen&nbsp;on&nbsp;localhost&nbsp;port&nbsp;53,&nbsp;so&nbsp;only&nbsp;squid&nbsp;can&lt;br&gt;<br>
&gt;&nbsp;access&nbsp;it&nbsp;via&nbsp;localhost&nbsp;and&nbsp;no&nbsp;other&nbsp;servers.&lt;br&gt;<br>
&gt;&nbsp;These&nbsp;dns&nbsp;resolvers&nbsp;can&nbsp;be&nbsp;configure&nbsp;to&nbsp;use&nbsp;a&nbsp;non&nbsp;standard&nbsp;port&nbsp;like&lt;br&gt;<br>
&gt;&nbsp;5353&nbsp;for&nbsp;the&nbsp;destination&nbsp;dns&nbsp;servers.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;But&nbsp;in&nbsp;the&nbsp;past&nbsp;I&#39;ve&nbsp;never&nbsp;seen&nbsp;a&nbsp;dns&nbsp;server&nbsp;listening&nbsp;on&nbsp;port&nbsp;5353,&nbsp;so&lt;br&gt;<br>
&gt;&nbsp;maybe&nbsp;the&nbsp;setup&nbsp;is&nbsp;a&nbsp;little&nbsp;broken.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Amos&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;I&nbsp;agree&nbsp;it&#39;s&nbsp;a&nbsp;bit&nbsp;unusual,&nbsp;but&nbsp;adding&nbsp;a&nbsp;nameserver&nbsp;port&nbsp;option&nbsp;will&nbsp;be&nbsp;nice&nbsp;if&nbsp;the&nbsp;changes&nbsp;are&nbsp;not&nbsp;intrusive.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Gordon &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
