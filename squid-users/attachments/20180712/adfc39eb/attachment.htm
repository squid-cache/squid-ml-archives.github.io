<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Ahmad,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Proxy&nbsp;will&nbsp;just&nbsp;change&nbsp;your&nbsp;ip&nbsp;when&nbsp;you&nbsp;are&nbsp;connecting&nbsp;FB&nbsp;in&nbsp;this&nbsp;way,&nbsp;But&nbsp;FB&nbsp;probably&nbsp;has&nbsp;or&nbsp;at&nbsp;least&nbsp;should,&nbsp;so&nbsp;many&nbsp;other&nbsp;ways&nbsp;to&nbsp;detect&nbsp;if&nbsp;thats&nbsp;the&nbsp;same&nbsp;person&nbsp;connecting,&nbsp;just&nbsp;to&nbsp;name&nbsp;one&nbsp;browser&nbsp;based&nbsp;profiling.&nbsp;They&nbsp;have&nbsp;your&nbsp;user_agent,&nbsp;browser&nbsp;extensions,&nbsp;cookies,&nbsp;etc..&lt;/div&gt;&lt;div&gt;In&nbsp;other&nbsp;words&nbsp;you&nbsp;will&nbsp;have&nbsp;so&nbsp;many&nbsp;other&nbsp;footprints.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&lt;/div&gt;&lt;div&gt;Logan&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;--Ahmad--&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ahmed.zaeem@netstream.ps&quot;&gt;ahmed.zaeem@netstream.ps&lt;/a&gt;&gt;,&nbsp;12&nbsp;Tem&nbsp;2018&nbsp;Per,&nbsp;15:15&nbsp;tarihinde&nbsp;şunu&nbsp;yazdı:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;TAHNK&nbsp;YOU&nbsp;Guys&nbsp;ALL&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
so&nbsp;my&nbsp;question&nbsp;is&nbsp;in&nbsp;another&nbsp;way&nbsp;is&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;i&nbsp;have&nbsp;squid&nbsp;proxy&nbsp;using&nbsp;it&nbsp;using&nbsp;the&nbsp;TCP_Connect&nbsp;way&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
and&nbsp;from&nbsp;the&nbsp;same&nbsp;pc&nbsp;and&nbsp;same&nbsp;browser&nbsp;and&nbsp;try&nbsp;to&nbsp;open&nbsp;facebook&nbsp;from&nbsp;200&nbsp;different&nbsp;address&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
then&nbsp;facebook&nbsp;wont&nbsp;have&nbsp;a&nbsp;footprint&nbsp;that&nbsp;there&nbsp;is&nbsp;200&nbsp;different&nbsp;addresses&nbsp;hit&nbsp;FB&nbsp;from&nbsp;the&nbsp;same&nbsp;public&nbsp;key&nbsp;/cert&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
i&nbsp;just&nbsp;ant&nbsp;to&nbsp;make&nbsp;sure&nbsp;there&nbsp;is&nbsp;no&nbsp;footprint&nbsp;happen&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
thats&nbsp;way&nbsp;i&nbsp;asked&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
let&nbsp;me&nbsp;know&nbsp;concerns&nbsp;Guys&nbsp;,&nbsp;thanks&nbsp;alot&nbsp;Guys&nbsp;!&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;12&nbsp;Jul&nbsp;2018,&nbsp;at&nbsp;23:35,&nbsp;Eliezer&nbsp;Croitoru&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:eliezer@ngtech.co.il&quot;&nbsp;target=&quot;_blank&quot;&gt;eliezer@ngtech.co.il&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Alex,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Just&nbsp;to&nbsp;be&nbsp;sure:&lt;br&gt;<br>
&gt;&nbsp;Every&nbsp;RSA&nbsp;key&nbsp;and&nbsp;certificate&nbsp;pair&nbsp;regardless&nbsp;to&nbsp;the&nbsp;origin&nbsp;server&nbsp;and&nbsp;the&nbsp;SSL-BUMP&nbsp;enabled&nbsp;proxy&nbsp;can&nbsp;be&nbsp;different.&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;the&nbsp;key&nbsp;would&nbsp;be&nbsp;the&nbsp;exact&nbsp;same&nbsp;one&nbsp;then&nbsp;we&nbsp;will&nbsp;probably&nbsp;have&nbsp;a&nbsp;very&nbsp;big&nbsp;security&nbsp;issue/risk&nbsp;to&nbsp;my&nbsp;understanding&nbsp;(leaving&nbsp;aside&nbsp;DH).&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Will&nbsp;it&nbsp;be&nbsp;more&nbsp;accurate&nbsp;to&nbsp;say&nbsp;that&nbsp;just&nbsp;as&nbsp;long&nbsp;as&nbsp;these&nbsp;200&nbsp;squid&nbsp;instances(different&nbsp;squid.conf&nbsp;and&nbsp;couple&nbsp;other&nbsp;local&nbsp;variables)&lt;br&gt;<br>
&gt;&nbsp;use&nbsp;the&nbsp;same&nbsp;exact&nbsp;ssl_db&nbsp;cache&nbsp;directory &nbsp;then&nbsp;it&#39;s&nbsp;probable&nbsp;that&nbsp;they&nbsp;will&nbsp;use&nbsp;the&nbsp;same&nbsp;certificate.&lt;br&gt;<br>
&gt;&nbsp;Or&nbsp;these&nbsp;200&nbsp;squid&nbsp;instances&nbsp;are&nbsp;in&nbsp;SMP&nbsp;mode&nbsp;with&nbsp;200&nbsp;workers...&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;these&nbsp;200&nbsp;instances&nbsp;do&nbsp;not&nbsp;share&nbsp;memory&nbsp;and&nbsp;certificate&nbsp;cache&nbsp;then&nbsp;there&nbsp;is&nbsp;a&nbsp;possibility&nbsp;that&nbsp;the&nbsp;same&nbsp;site&nbsp;from&nbsp;two&nbsp;different&nbsp;sources&lt;br&gt;<br>
&gt;&nbsp;will&nbsp;serve&nbsp;different&nbsp;certificates(due&nbsp;to&nbsp;the&nbsp;different&nbsp;RSA&nbsp;key&nbsp;which&nbsp;is&nbsp;different).&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Thanks,&lt;br&gt;<br>
&gt;&nbsp;Eliezer&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;----&lt;br&gt;<br>
&gt;&nbsp;Eliezer&nbsp;Croitoru&lt;br&gt;<br>
&gt;&nbsp;Linux&nbsp;System&nbsp;Administrator&lt;br&gt;<br>
&gt;&nbsp;Mobile:&nbsp;+972-5-28704261&lt;br&gt;<br>
&gt;&nbsp;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:eliezer@ngtech.co.il&quot;&nbsp;target=&quot;_blank&quot;&gt;eliezer@ngtech.co.il&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;-----Original&nbsp;Message-----&lt;br&gt;<br>
&gt;&nbsp;From:&nbsp;squid-users&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users-bounces@lists.squid-cache.org&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Alex&nbsp;Rousskov&lt;br&gt;<br>
&gt;&nbsp;Sent:&nbsp;Thursday,&nbsp;July&nbsp;12,&nbsp;2018&nbsp;11:27&nbsp;PM&lt;br&gt;<br>
&gt;&nbsp;To:&nbsp;--Ahmad--&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ahmed.zaeem@netstream.ps&quot;&nbsp;target=&quot;_blank&quot;&gt;ahmed.zaeem@netstream.ps&lt;/a&gt;&gt;;&nbsp;Squid&nbsp;Users&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;question&nbsp;about&nbsp;squid&nbsp;and&nbsp;https&nbsp;connection&nbsp;.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;07/12/2018&nbsp;01:17&nbsp;PM,&nbsp;--Ahmad--&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;if&nbsp;i&nbsp;have&nbsp;pc#&nbsp;1&nbsp;and&nbsp;that&nbsp;pc&nbsp;open&nbsp;facebook&nbsp;.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;then&nbsp;i&nbsp;have&nbsp;other&nbsp;pc&nbsp;#&nbsp;2&nbsp;and&nbsp;that&nbsp;other&nbsp;pc&nbsp;open&nbsp;facebook&nbsp;.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;now &nbsp;as&nbsp;we&nbsp;know&nbsp;facebook&nbsp;is&nbsp;https&nbsp;.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;so&nbsp;is&nbsp;the&nbsp;key/&nbsp;cert&nbsp;that&nbsp;used&nbsp;on&nbsp;pc&nbsp;#&nbsp;1&nbsp;is&nbsp;same&nbsp;as&nbsp;cert&nbsp;in&nbsp;pc&nbsp;#&nbsp;2&nbsp;to&nbsp;decrypt&nbsp;the&nbsp;fb&nbsp;encrypted&nbsp;traffic&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Certificates&nbsp;themselves&nbsp;are&nbsp;not&nbsp;used&nbsp;(directly)&nbsp;to&nbsp;decrypt&nbsp;traffic&lt;br&gt;<br>
&gt;&nbsp;AFAIK,&nbsp;but&nbsp;yes,&nbsp;both&nbsp;PCs&nbsp;will&nbsp;see&nbsp;the&nbsp;same&nbsp;server&nbsp;certificate&nbsp;(ignoring&lt;br&gt;<br>
&gt;&nbsp;CDNs&nbsp;and&nbsp;other&nbsp;complications).&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;now&nbsp;in&nbsp;the&nbsp;presence&nbsp;of&nbsp;squid&nbsp;.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;if&nbsp;i&nbsp;used&nbsp;tcp&nbsp;connect&nbsp;method &nbsp;,&nbsp;will&nbsp;it&nbsp;be&nbsp;different&nbsp;than&nbsp;above&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;bumping&nbsp;the&nbsp;connection,&nbsp;then&nbsp;both&nbsp;PCs&nbsp;will&nbsp;see&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;&nbsp;real&nbsp;Facebook&nbsp;certificate&nbsp;as&nbsp;if&nbsp;those&nbsp;PCs&nbsp;did&nbsp;not&nbsp;use&nbsp;a&nbsp;proxy.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;bumping&nbsp;the&nbsp;connection,&nbsp;then&nbsp;both&nbsp;PCs&nbsp;will&nbsp;see&nbsp;the&nbsp;same&nbsp;fake&lt;br&gt;<br>
&gt;&nbsp;certificate&nbsp;generated&nbsp;by&nbsp;Squid.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;say&nbsp;i&nbsp;used&nbsp;200&nbsp;proxies&nbsp;in&nbsp;same&nbsp;squid&nbsp;machine&nbsp;and&nbsp;i&nbsp;used&nbsp;to&nbsp;access&nbsp;FB&nbsp;from&nbsp;the&nbsp;same&nbsp;pc&nbsp;same&nbsp;browser&nbsp;.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;will&nbsp;facebook&nbsp;see&nbsp;my&nbsp;cert/key&nbsp;i&nbsp;used&nbsp;to&nbsp;decrypt&nbsp;its&nbsp;traffic&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;asking&nbsp;whether&nbsp;Facebook&nbsp;will&nbsp;know&nbsp;anything&nbsp;about&nbsp;the&nbsp;fake&lt;br&gt;<br>
&gt;&nbsp;certificate&nbsp;generated&nbsp;by&nbsp;Squid&nbsp;for&nbsp;clients,&nbsp;then&nbsp;the&nbsp;answer&nbsp;is&nbsp;&quot;no,&lt;br&gt;<br>
&gt;&nbsp;unless&nbsp;Facebook&nbsp;runs&nbsp;some&nbsp;special&nbsp;client&nbsp;code&nbsp;to&nbsp;deliver&nbsp;(Squid)&lt;br&gt;<br>
&gt;&nbsp;certificate&nbsp;back&nbsp;to&nbsp;Facebook&quot;.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;In&nbsp;general,&nbsp;the&nbsp;origin&nbsp;server&nbsp;assumes&nbsp;that&nbsp;the&nbsp;client&nbsp;is&nbsp;talking&nbsp;to&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;directly.&nbsp;Clients&nbsp;may&nbsp;pin&nbsp;or&nbsp;otherwise&nbsp;restrict&nbsp;certificates&nbsp;that&nbsp;they&lt;br&gt;<br>
&gt;&nbsp;trust,&nbsp;but&nbsp;after&nbsp;the&nbsp;connection&nbsp;is&nbsp;successfully&nbsp;established,&nbsp;the&nbsp;server&lt;br&gt;<br>
&gt;&nbsp;may&nbsp;assume&nbsp;that&nbsp;it&nbsp;is&nbsp;talking&nbsp;to&nbsp;the&nbsp;client&nbsp;directly.&nbsp;A&nbsp;paranoid&nbsp;server&lt;br&gt;<br>
&gt;&nbsp;may&nbsp;deliver&nbsp;special&nbsp;code&nbsp;to&nbsp;double&nbsp;check&nbsp;that&nbsp;assumption,&nbsp;but&nbsp;there&nbsp;are&lt;br&gt;<br>
&gt;&nbsp;other,&nbsp;more&nbsp;standard&nbsp;methods&nbsp;to&nbsp;prevent&nbsp;bumping&nbsp;such&nbsp;as&nbsp;certificate&lt;br&gt;<br>
&gt;&nbsp;pinning&nbsp;and&nbsp;certificate&nbsp;transparency&nbsp;cervices.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;is&nbsp;the&nbsp;key/cert&nbsp;of&nbsp;FB&nbsp;to&nbsp;decrypt&nbsp;the&nbsp;https&nbsp;content&nbsp;is&nbsp;same&nbsp;on&nbsp;all&nbsp;browsers&nbsp;on&nbsp;all&nbsp;computers&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;asking&nbsp;whether&nbsp;the&nbsp;generated&nbsp;certificates&nbsp;are&nbsp;going&nbsp;to&nbsp;be&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;same&nbsp;for&nbsp;all&nbsp;clients,&nbsp;then&nbsp;the&nbsp;answer&nbsp;is&nbsp;&quot;yes,&nbsp;provided&nbsp;all&nbsp;those&nbsp;200&lt;br&gt;<br>
&gt;&nbsp;Squids&nbsp;use&nbsp;the&nbsp;same&nbsp;configuration&nbsp;(including&nbsp;the&nbsp;CA&nbsp;certificate)&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;receive&nbsp;the&nbsp;same&nbsp;real&nbsp;certificate&nbsp;from&nbsp;Facebook&quot;.&nbsp;Squid&#39;s&nbsp;certificate&lt;br&gt;<br>
&gt;&nbsp;generation&nbsp;algorithm&nbsp;generates&nbsp;the&nbsp;same&nbsp;certificate&nbsp;given&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;&nbsp;configuration&nbsp;and&nbsp;the&nbsp;same&nbsp;origin&nbsp;server&nbsp;certificate.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;HTH,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Alex.&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
