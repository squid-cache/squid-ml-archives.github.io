<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Just&nbsp;upgraded&nbsp;squid&nbsp;to&nbsp;4.1,&nbsp;however&nbsp;if&nbsp;I&nbsp;enabled&nbsp;shared_memory_locking&nbsp;I&nbsp;failed&nbsp;to&nbsp;start&nbsp;squid:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&quot;FATAL:&nbsp;shared_memory_locking&nbsp;on&nbsp;but&nbsp;failed&nbsp;to&nbsp;mlock(/squid-tls_session_cache.shm,&nbsp;2101212):&nbsp;(12)&nbsp;Out&nbsp;of&nbsp;memory&quot;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;I&nbsp;know&nbsp;how&nbsp;much&nbsp;memory&nbsp;it&nbsp;is&nbsp;trying&nbsp;to&nbsp;mlock?&nbsp;is&nbsp;2101212(~2MB)&nbsp;the&nbsp;shm&nbsp;size&nbsp;of&nbsp;not,&nbsp;any&nbsp;way&nbsp;to&nbsp;debug/looking-into/config&nbsp;this&nbsp;size?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Again&nbsp;I&nbsp;disabled&nbsp;cache&nbsp;etc&nbsp;for&nbsp;a&nbsp;memory&nbsp;restricted&nbsp;environment,&nbsp;also&nbsp;used&nbsp;the&nbsp;minimal&nbsp;configuration&nbsp;with&nbsp;a&nbsp;few&nbsp;enable-flags,&nbsp;in&nbsp;the&nbsp;meantime&nbsp;I&nbsp;want&nbsp;to&nbsp;avoid&nbsp;memory&nbsp;overcommit&nbsp;from&nbsp;squid(thus&nbsp;mlock)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Gordon&lt;/div&gt;&lt;/div&gt;<br>

</tt>
