<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;all,&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;observed&nbsp;the&nbsp;following&nbsp;warning&nbsp;at&nbsp;squid&nbsp;cache&nbsp;logs:&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;WARNING!&nbsp;Your&nbsp;cache&nbsp;is&nbsp;running&nbsp;out&nbsp;of&nbsp;filedescriptors&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Googling&nbsp;around&nbsp;I&nbsp;tried&nbsp;to&nbsp;increase&nbsp;the&nbsp;default&nbsp;file&nbsp;descriptors&nbsp;of&nbsp;the&nbsp;system&nbsp;(I&nbsp;am&nbsp;runnign&nbsp;Debian9&nbsp;x64&nbsp;bit),&nbsp;by&nbsp;setting&nbsp;at&nbsp;/etc/sysctl.conf:&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;fs.file-max=802762&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Restarted&nbsp;system.&nbsp;Still&nbsp;was&nbsp;receiving&nbsp;the&nbsp;warnings.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;checking&nbsp;further&nbsp;I&nbsp;observed&nbsp;that&nbsp;I&nbsp;have&nbsp;the&nbsp;following&nbsp;default&nbsp;limits:&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;ulimit&nbsp;-a&lt;br&gt;core&nbsp;file&nbsp;size         &nbsp;(blocks,&nbsp;-c)&nbsp;0&lt;br&gt;data&nbsp;seg&nbsp;size          &nbsp;(kbytes,&nbsp;-d)&nbsp;unlimited&lt;br&gt;scheduling&nbsp;priority            &nbsp;(-e)&nbsp;0&lt;br&gt;file&nbsp;size              &nbsp;(blocks,&nbsp;-f)&nbsp;unlimited&lt;br&gt;pending&nbsp;signals                &nbsp;(-i)&nbsp;15338&lt;br&gt;max&nbsp;locked&nbsp;memory      &nbsp;(kbytes,&nbsp;-l)&nbsp;64&lt;br&gt;max&nbsp;memory&nbsp;size        &nbsp;(kbytes,&nbsp;-m)&nbsp;unlimited&lt;br&gt;&lt;b&gt;open&nbsp;files                     &nbsp;(-n)&nbsp;1024&lt;/b&gt;&lt;br&gt;pipe&nbsp;size           &nbsp;(512&nbsp;bytes,&nbsp;-p)&nbsp;8&lt;br&gt;POSIX&nbsp;message&nbsp;queues    &nbsp;(bytes,&nbsp;-q)&nbsp;819200&lt;br&gt;real-time&nbsp;priority             &nbsp;(-r)&nbsp;0&lt;br&gt;stack&nbsp;size             &nbsp;(kbytes,&nbsp;-s)&nbsp;8192&lt;br&gt;cpu&nbsp;time              &nbsp;(seconds,&nbsp;-t)&nbsp;unlimited&lt;br&gt;max&nbsp;user&nbsp;processes             &nbsp;(-u)&nbsp;15338&lt;br&gt;virtual&nbsp;memory         &nbsp;(kbytes,&nbsp;-v)&nbsp;unlimited&lt;br&gt;file&nbsp;locks                     &nbsp;(-x)&nbsp;unlimited&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Where&nbsp;the&nbsp;&quot;open&nbsp;files&quot;&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&nbsp;related&nbsp;one.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;set&nbsp;also&nbsp;the&nbsp;following&nbsp;at&nbsp;squid&nbsp;conf:&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;max_filedescriptors&nbsp;65535&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;running&nbsp;a&nbsp;compiled&nbsp;version&nbsp;3.5.23.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;I&nbsp;have&nbsp;done&nbsp;the&nbsp;correct&nbsp;steps&nbsp;or&nbsp;if&nbsp;I&nbsp;need&nbsp;to&nbsp;tweak&nbsp;the&nbsp;ulimits&nbsp;also.&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;experience&nbsp;from&nbsp;your&nbsp;side?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanx,&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;alex&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
