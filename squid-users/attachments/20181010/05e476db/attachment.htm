<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydp2aa78d3fyahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;&quot;&gt;&lt;span&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;Hello,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;Sorry&nbsp;if&nbsp;this&nbsp;question&nbsp;has&nbsp;already&nbsp;been&nbsp;posted&nbsp;(&nbsp;I&nbsp;can't&nbsp;check&nbsp;as&nbsp;the&nbsp;&quot;Search&nbsp;Function&quot;&nbsp;is&nbsp;currently&nbsp;not&nbsp;working&nbsp;)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;I'm&nbsp;running&nbsp;squid-3.5.20&nbsp;on&nbsp;Amazon&nbsp;Linux&nbsp;2018.03.&nbsp;2&nbsp;cores&nbsp;with&nbsp;8&nbsp;GB&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;My&nbsp;squid&nbsp;is&nbsp;currently&nbsp;working&nbsp;but&nbsp;only&nbsp;on&nbsp;1&nbsp;core.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;I&nbsp;which&nbsp;to&nbsp;use&nbsp;the&nbsp;2&nbsp;cores.&nbsp;I&nbsp;understood&nbsp;that&nbsp;I&nbsp;have&nbsp;to&nbsp;use&nbsp;workers&nbsp;in&nbsp;squid.conf&nbsp;with&nbsp;separate&nbsp;cache&nbsp;directory.&nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;So&nbsp;I&nbsp;modified&nbsp;default&nbsp;&nbsp;squid.conf&nbsp;&nbsp;with&nbsp;:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;---&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;small;&nbsp;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&quot;&gt;&lt;div&gt;&nbsp;&lt;span&gt;&lt;div&gt;[root@JujuServerTest2&nbsp;~]#&nbsp;egrep&nbsp;-v&nbsp;&quot;^#|^$&quot;&nbsp;/etc/squid/squid.conf&lt;/div&gt;&lt;div&gt;acl&nbsp;localnet&nbsp;src&nbsp;10.0.0.0/8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;/div&gt;&lt;div&gt;acl&nbsp;localnet&nbsp;src&nbsp;172.16.0.0/12&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;/div&gt;&lt;div&gt;acl&nbsp;localnet&nbsp;src&nbsp;192.168.0.0/16&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;/div&gt;&lt;div&gt;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;/div&gt;&lt;div&gt;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;/div&gt;&lt;div&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ftp&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;https&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gopher&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;wais&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;&nbsp;#&nbsp;unregistered&nbsp;ports&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http-mgmt&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gss-http&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;filemaker&lt;/div&gt;&lt;div&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiling&nbsp;http&lt;/div&gt;&lt;div&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;/div&gt;&lt;div&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;/div&gt;&lt;div&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;/div&gt;&lt;div&gt;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;/div&gt;&lt;div&gt;http_access&nbsp;deny&nbsp;manager&lt;/div&gt;&lt;div&gt;http_access&nbsp;allow&nbsp;localnet&lt;/div&gt;&lt;div&gt;http_access&nbsp;allow&nbsp;localhost&lt;/div&gt;&lt;div&gt;http_access&nbsp;deny&nbsp;all&lt;/div&gt;&lt;div&gt;http_port&nbsp;3128&lt;/div&gt;&lt;div&gt;workers&nbsp;2&lt;/div&gt;&lt;div&gt;if&nbsp;${process_number}&nbsp;=&nbsp;1&lt;/div&gt;&lt;div&gt;cache_dir&nbsp;rock&nbsp;/var/spool/squid1&nbsp;1024&lt;/div&gt;&lt;div&gt;endif&lt;/div&gt;&lt;div&gt;if&nbsp;${process_number}&nbsp;=&nbsp;2&lt;/div&gt;&lt;div&gt;cache_dir&nbsp;rock&nbsp;/var/spool/squid2&nbsp;1024&lt;/div&gt;&lt;div&gt;endif&lt;/div&gt;&lt;div&gt;coredump_dir&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;refresh_pattern&nbsp;^ftp:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10080&lt;/div&gt;&lt;div&gt;refresh_pattern&nbsp;^gopher:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&lt;/div&gt;&lt;div&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&lt;/div&gt;&lt;div&gt;refresh_pattern&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4320&lt;/div&gt;&lt;div&gt;[root@JujuServerTest2&nbsp;~]#&lt;/div&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;but&lt;/div&gt;&lt;div&gt;/var/log/squid/squid.out&nbsp;:&lt;br&gt;&lt;/div&gt;&lt;div&gt;[...]&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid2|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid2|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid1|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid1|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;No&nbsp;cache_dir&nbsp;stores&nbsp;are&nbsp;configured.&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid2|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid1|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&nbsp;/var/spool/squid&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid2|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid1|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;Creating&nbsp;missing&nbsp;swap&nbsp;directories&lt;/div&gt;&lt;div&gt;2018/10/10&nbsp;13:52:15&nbsp;kid3|&nbsp;No&nbsp;cache_dir&nbsp;stores&nbsp;are&nbsp;configured&nbsp;&lt;span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;small;&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;------&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;div&gt;ps&nbsp;faux&nbsp;|grep&nbsp;squid&lt;/div&gt;&lt;div&gt;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4172&nbsp;&nbsp;0.0&nbsp;&nbsp;0.1&nbsp;110512&nbsp;&nbsp;2012&nbsp;pts/1&nbsp;&nbsp;&nbsp;&nbsp;S+&nbsp;&nbsp;&nbsp;14:00&nbsp;&nbsp;&nbsp;0:00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_&nbsp;grep&nbsp;--color=auto&nbsp;squid&lt;/div&gt;&lt;div&gt;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4133&nbsp;&nbsp;0.0&nbsp;&nbsp;0.6&nbsp;346844&nbsp;&nbsp;6848&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ss&nbsp;&nbsp;&nbsp;13:52&nbsp;&nbsp;&nbsp;0:00&nbsp;squid&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;/div&gt;&lt;div&gt;squid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4136&nbsp;&nbsp;0.0&nbsp;&nbsp;2.1&nbsp;359828&nbsp;21292&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;13:52&nbsp;&nbsp;&nbsp;0:00&nbsp;&nbsp;\_&nbsp;(squid-coord-3)&nbsp;-f&nbsp;/etc/squid/squid.conf&lt;/div&gt;&lt;div&gt;squid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4140&nbsp;&nbsp;0.0&nbsp;&nbsp;0.1&nbsp;&nbsp;28004&nbsp;&nbsp;1892&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;13:52&nbsp;&nbsp;&nbsp;0:00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_&nbsp;(logfile-daemon)&nbsp;/var/log/squid/access.log&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Looks&nbsp;like,&nbsp;my&nbsp;configuration&nbsp;is&nbsp;not&nbsp;good&nbsp;because&nbsp;&quot;No&nbsp;cache_dir&nbsp;stores&nbsp;are&nbsp;configured&quot;&lt;/div&gt;&lt;div&gt;Coud&nbsp;you&nbsp;tell&nbsp;me&nbsp;where&nbsp;is&nbsp;my&nbsp;mistake&nbsp;?&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;very&nbsp;much.&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
