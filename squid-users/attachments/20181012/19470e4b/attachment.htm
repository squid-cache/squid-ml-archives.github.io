<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpfcdc63c7yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Tank&nbsp;you,&nbsp;I&nbsp;see&nbsp;it&nbsp;now.&lt;/div&gt;&lt;div&gt;It&nbsp;does&nbsp;not&nbsp;help&nbsp;me,&nbsp;I&nbsp;want&nbsp;to&nbsp;have&nbsp;an&nbsp;acl&nbsp;to&nbsp;select&nbsp;traffic&nbsp;(&lt;span&gt;HTTP&nbsp;traffic&nbsp;that&nbsp;comes&nbsp;from&nbsp;client&nbsp;to&nbsp;squid&lt;/span&gt;)&nbsp;that&nbsp;have&nbsp;a&nbsp;specific&nbsp;packet&nbsp;mark&nbsp;and&nbsp;then&nbsp;send&nbsp;them&nbsp;out&nbsp;with&nbsp;another&nbsp;mark.&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;In&nbsp;iptables-mangle-PREROUTING:&nbsp;&nbsp;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;span&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;iptables&nbsp;-t&nbsp;mangle&nbsp;-A&nbsp;PREROUTING&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;80&nbsp;&nbsp;-j&nbsp;MARK&nbsp;--set-mark&nbsp;1&lt;/div&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;span&gt;&lt;/span&gt;In&nbsp;Squid&nbsp;Configuration:&lt;/div&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;acl&nbsp;MARKED_PACKETS&nbsp;nfmark&nbsp;1&lt;/div&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;tcp_outgoing_mark&nbsp;1&nbsp;MARKED_PACKETS&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;ydp23966f0yiv4963861188ydpa86c133byahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Is&nbsp;that&nbsp;possible&nbsp;or&nbsp;not?&lt;/div&gt;&lt;div&gt;I&nbsp;want&nbsp;this&nbsp;kind&nbsp;of&nbsp;marks&nbsp;because&nbsp;I&nbsp;need&nbsp;to&nbsp;determine&nbsp;source&nbsp;interface&nbsp;of&nbsp;packets&nbsp;after&nbsp;they&nbsp;go&nbsp;out&nbsp;of&nbsp;squid!&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;id=&quot;yahoo_quoted_0007347842&quot;&nbsp;class=&quot;yahoo_quoted&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;color:#26282a;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Friday,&nbsp;October&nbsp;12,&nbsp;2018,&nbsp;6:37:44&nbsp;PM&nbsp;GMT+3:30,&nbsp;Antony&nbsp;Stone&nbsp;&lt;Antony.Stone@squid.open.source.it&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Friday&nbsp;12&nbsp;October&nbsp;2018&nbsp;at&nbsp;16:41:44,&nbsp;morteza&nbsp;omidian&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;HiI&nbsp;asked&nbsp;my&nbsp;question&nbsp;before.It&nbsp;seems&nbsp;that&nbsp;anybody&nbsp;can&nbsp;not&nbsp;answer&nbsp;it!!&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Did&nbsp;you&nbsp;miss&nbsp;the&nbsp;response&nbsp;from&nbsp;Amos?&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/2018-October/019389.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/2018-October/019389.html&lt;/a&gt;&lt;div&nbsp;class=&quot;yqt8161295153&quot;&nbsp;id=&quot;yqtfd64358&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;As&nbsp;you&nbsp;know,&nbsp;we&nbsp;can&nbsp;mark&nbsp;packets&nbsp;when&nbsp;they&nbsp;go&nbsp;out&nbsp;of&nbsp;squid&nbsp;with&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&quot;tcp_outgoing_mark&quot;,&nbsp;this&nbsp;mark&nbsp;is&nbsp;based&nbsp;on&nbsp;Source&nbsp;IP&nbsp;or&nbsp;Source&nbsp;MAC&nbsp;of&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;client,&nbsp;but&nbsp;i&nbsp;want&nbsp;to&nbsp;mark&nbsp;them&nbsp;based&nbsp;on&nbsp;mark&nbsp;of&nbsp;input&nbsp;packet,&nbsp;something&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;like&nbsp;this:&nbsp;In&nbsp;iptables&nbsp;&gt;&nbsp;mangle&nbsp;&gt;&nbsp;PREROUTING:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;iptables&nbsp;-t&nbsp;mangle&nbsp;-A&nbsp;PREROUTING&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;80&nbsp;-j&nbsp;MARK&nbsp;--set-mark&nbsp;1&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;In&nbsp;Squid&nbsp;Configuration:acl&nbsp;MARKED_PACKETS&nbsp;nfmark&nbsp;1tcp_outgoing_mark&nbsp;1&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;MARKED_PACKETS&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Is&nbsp;that&nbsp;possible?&nbsp;How&nbsp;can&nbsp;i&nbsp;solve&nbsp;my&nbsp;problem??&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Tanx&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;PS:&nbsp;Please&nbsp;do&nbsp;not&nbsp;set&nbsp;&quot;Reply-to&quot;&nbsp;on&nbsp;list&nbsp;emails.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Thanks,&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Antony.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;--&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;Schr√∂dinger's&nbsp;rule&nbsp;of&nbsp;data&nbsp;integrity:&nbsp;the&nbsp;condition&nbsp;of&nbsp;any&nbsp;backup&nbsp;is&nbsp;unknown&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;until&nbsp;a&nbsp;restore&nbsp;is&nbsp;attempted.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please&nbsp;reply&nbsp;to&nbsp;the&nbsp;list;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;please&nbsp;*don't*&nbsp;CC&nbsp;me.&lt;br&nbsp;clear=&quot;none&quot;&gt;_______________________________________________&lt;br&nbsp;clear=&quot;none&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;div&nbsp;class=&quot;yqt8161295153&quot;&nbsp;id=&quot;yqtfd43839&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
