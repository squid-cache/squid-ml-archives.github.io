>From 284dbfccf8e5de22721d6480d97e20b43954cec7 Mon Sep 17 00:00:00 2001
From: Luca Savarino <lsavarino@olfeo.com>
Date: Mon, 21 Jan 2019 13:09:26 +0100
Subject: [PATCH] Initializa ALE for delay_pools.

---
 src/DelayId.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/DelayId.cc b/src/DelayId.cc
index fbce786a8..a69d7d91d 100644
--- a/src/DelayId.cc
+++ b/src/DelayId.cc
@@ -97,6 +97,8 @@ DelayId::DelayClient(ClientHttpRequest * http, HttpReply *reply)
 #endif /* FOLLOW_X_FORWARDED_FOR */
             ch.src_addr = r->client_addr;
         ch.my_addr = r->my_addr;
+	ch.al = http->al;
+	ch.al->reply = reply;
 
         if (http->getConn() != NULL)
             ch.conn(http->getConn());
@@ -174,4 +176,3 @@ DelayId::delayRead(DeferredRead const &aRead)
 }
 
 #endif /* USE_DELAY_POOLS */
-
-- 
2.11.0

