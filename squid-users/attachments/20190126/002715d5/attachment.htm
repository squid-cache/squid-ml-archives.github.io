<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;struggling&nbsp;quite&nbsp;a&nbsp;bit&nbsp;with&nbsp;transitioning&nbsp;from basic_ncsa_auth&nbsp;to&nbsp;basic_db_auth.&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;some&nbsp;ports&nbsp;where&nbsp;only&nbsp;certain&nbsp;users&nbsp;(sometimes&nbsp;just&nbsp;one)&nbsp;is&nbsp;allowed&nbsp;to&nbsp;connect/pass&nbsp;the&nbsp;ACL&nbsp;check.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;running&nbsp;Squid&nbsp;3.28&nbsp;on&nbsp;Ubuntu  &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;lines&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;div&gt;acl userA&nbsp;proxy_auth_regex&nbsp;-i&nbsp;userA&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Which&nbsp;reads&nbsp;the&nbsp;htpasswd&nbsp;file&nbsp;and&nbsp;matches&nbsp;the&nbsp;user&nbsp;based&nbsp;on&nbsp;the&nbsp;regex.&lt;/div&gt;&lt;div&gt;Port&nbsp;config&nbsp;looks&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;http_port&nbsp;3201&nbsp;name=3201&lt;/div&gt;&lt;div&gt;acl&nbsp;userA3201&nbsp;myportname&nbsp;3201&lt;/div&gt;&lt;div&gt;cache_peer&nbsp;&lt;a&nbsp;href=&quot;http://example.com&quot;&gt;example.com&lt;/a&gt;&nbsp;parent&nbsp;3300&nbsp;0&nbsp;no-query&nbsp;no-digest&nbsp;proxy-only&nbsp;standby=60&nbsp;name=up01&lt;/div&gt;&lt;div&gt;cache_peer_access &nbsp;up01 &nbsp;allow&nbsp;userA3201&lt;/div&gt;&lt;div&gt;never_direct&nbsp;allow&nbsp;userA3201&lt;/div&gt;&lt;div&gt;http_access&nbsp;allow &nbsp;userA3201&nbsp;userA&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;that&nbsp;for&nbsp;multiple&nbsp;Ports.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;now&nbsp;want&nbsp;to&nbsp;transition&nbsp;to&nbsp;basic_db_auth&nbsp;and&nbsp;got&nbsp;it&nbsp;up&nbsp;and&nbsp;running,&nbsp;but&nbsp;the&nbsp;problem&nbsp;is&nbsp;that&nbsp;the&nbsp;above&nbsp;does&nbsp;not&nbsp;work&nbsp;anymore.&nbsp;All&nbsp;authed&nbsp;users&nbsp;can&nbsp;now&nbsp;connect&nbsp;to&nbsp;every&nbsp;port.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;UserA&nbsp;can&nbsp;use&nbsp;Port&nbsp;3201,3202,3206&nbsp;for&nbsp;connecting&nbsp;to&nbsp;the&nbsp;proxy&lt;/div&gt;&lt;div&gt;UserB&nbsp;can&#39;t&nbsp;use&nbsp;these&nbsp;and&nbsp;only&nbsp;can&nbsp;use&nbsp;3315&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;is&nbsp;the&nbsp;best/cleanest&nbsp;way&nbsp;to&nbsp;regain&nbsp;the&nbsp;above&nbsp;functionality?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;in&nbsp;advance!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
