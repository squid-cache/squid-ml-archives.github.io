<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpf786e4c0yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;I&nbsp;use&nbsp;this&nbsp;configuration&nbsp;to&nbsp;solve&nbsp;my&nbsp;problem.&lt;/div&gt;&lt;div&gt;Whit&nbsp;this&nbsp;configuration&nbsp;at&nbsp;first&nbsp;step&nbsp;I&nbsp;use&nbsp;bump&nbsp;action&nbsp;for&nbsp;sites&nbsp;that&nbsp;i&nbsp;want&nbsp;to&nbsp;block&nbsp;and&nbsp;show&nbsp;ACCESS_DENIED&nbsp;page&nbsp;then&nbsp;splice&nbsp;all&nbsp;other&nbsp;requests!!&lt;/div&gt;&lt;div&gt;My&nbsp;problem&nbsp;in&nbsp;this&nbsp;config&nbsp;is&nbsp;when&nbsp;my&nbsp;clients&nbsp;want&nbsp;to&nbsp;see&nbsp;block&nbsp;pages&nbsp;they&nbsp;first&nbsp;see&nbsp;SSL&nbsp;warning&nbsp;in&nbsp;their&nbsp;browser&nbsp;then&nbsp;after&nbsp;click&nbsp;on&nbsp;exception&nbsp;they&nbsp;will&nbsp;see&nbsp;ACCESS_DENIED&nbsp;page!!&lt;br&gt;&lt;/div&gt;&lt;div&gt;..........&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;pre&nbsp;class=&quot;ydp63f918b8code-java&quot;&gt;acl&nbsp;blk&nbsp;ssl::server_name&nbsp;&lt;span&nbsp;class=&quot;ydp63f918b8code-quote&quot;&gt;&quot;/&lt;span&nbsp;class=&quot;ydp63f918b8code-keyword&quot;&gt;var&lt;/span&gt;/blkfiles/url.txt&quot;&lt;/span&gt;<br>
&lt;span&gt;&lt;pre&nbsp;class=&quot;ydp20e024b7code-java&quot;&gt;http_access&nbsp;&nbsp;deny&nbsp;blk&lt;/pre&gt;&lt;/span&gt;acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1<br>
ssl_bump&nbsp;peek&nbsp;step1<br>
ssl_bump&nbsp;bump&nbsp;blk<br>
ssl_bump&nbsp;splice&nbsp;all&lt;/pre&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;id=&quot;yahoo_quoted_0832379914&quot;&nbsp;class=&quot;yahoo_quoted&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;color:#26282a;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Wednesday,&nbsp;February&nbsp;13,&nbsp;2019,&nbsp;9:55:06&nbsp;AM&nbsp;GMT+3:30,&nbsp;squid-users-request@lists.squid-cache.org&nbsp;&lt;squid-users-request@lists.squid-cache.org&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Send&nbsp;squid-users&nbsp;mailing&nbsp;list&nbsp;submissions&nbsp;to&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To&nbsp;subscribe&nbsp;or&nbsp;unsubscribe&nbsp;via&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web,&nbsp;visit&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;or,&nbsp;via&nbsp;email,&nbsp;send&nbsp;a&nbsp;message&nbsp;with&nbsp;subject&nbsp;or&nbsp;body&nbsp;'help'&nbsp;to&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users-request@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users-request@lists.squid-cache.org&quot;&gt;squid-users-request@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;can&nbsp;reach&nbsp;the&nbsp;person&nbsp;managing&nbsp;the&nbsp;list&nbsp;at&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users-owner@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users-owner@lists.squid-cache.org&quot;&gt;squid-users-owner@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;When&nbsp;replying,&nbsp;please&nbsp;edit&nbsp;your&nbsp;Subject&nbsp;line&nbsp;so&nbsp;it&nbsp;is&nbsp;more&nbsp;specific&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;than&nbsp;&quot;Re:&nbsp;Contents&nbsp;of&nbsp;squid-users&nbsp;digest...&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Today's&nbsp;Topics:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;1.&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&nbsp;(&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;2.&nbsp;Re:&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&nbsp;(Alex&nbsp;Rousskov)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;3.&nbsp;Pass&nbsp;ip&nbsp;to&nbsp;server&nbsp;(erdosain9)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;4.&nbsp;Re:&nbsp;Pass&nbsp;ip&nbsp;to&nbsp;server&nbsp;(Joey&nbsp;Officer)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;5.&nbsp;Re:&nbsp;Filering&nbsp;HTTPS&nbsp;URLs&nbsp;-&nbsp;A&nbsp;complete&nbsp;configuration&nbsp;(Alex&nbsp;Rousskov)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;6.&nbsp;Re:&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;----------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;1&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Tue,&nbsp;12&nbsp;Feb&nbsp;2019&nbsp;14:21:34&nbsp;+0000&nbsp;(UTC)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;&quot;&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;&quot;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;[squid-users]&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:1479917107.2282419.1549981294109@mail.yahoo.com&quot;&nbsp;href=&quot;mailto:1479917107.2282419.1549981294109@mail.yahoo.com&quot;&gt;1479917107.2282419.1549981294109@mail.yahoo.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;againDo&nbsp;i&nbsp;have&nbsp;to&nbsp;use&nbsp;CA&nbsp;and&nbsp;Certificate&nbsp;configuration&nbsp;if&nbsp;i&nbsp;want&nbsp;to&nbsp;block&nbsp;only&nbsp;&nbsp;HTTPS&nbsp;requests&nbsp;with&nbsp;splice&nbsp;action?!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;https_port&nbsp;3130&nbsp;tproxy&nbsp;ssl-bump&nbsp;\&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;cert=/etc/squid/ssl_cert/myCA.pem&nbsp;\&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;sslcrtd_program&nbsp;/usr/lib64/squid/security_file_certgen&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;An&nbsp;HTML&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20190212/8311d242/attachment-0001.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/attachments/20190212/8311d242/attachment-0001.html&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;2&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Tue,&nbsp;12&nbsp;Feb&nbsp;2019&nbsp;08:04:08&nbsp;-0700&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:024a80a6-6b15-e9d8-06f9-b9645fbb3058@measurement-factory.com&quot;&nbsp;href=&quot;mailto:024a80a6-6b15-e9d8-06f9-b9645fbb3058@measurement-factory.com&quot;&gt;024a80a6-6b15-e9d8-06f9-b9645fbb3058@measurement-factory.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;2/12/19&nbsp;7:21&nbsp;AM,&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;Do&nbsp;i&nbsp;have&nbsp;to&nbsp;use&nbsp;CA&nbsp;and&nbsp;Certificate&nbsp;configuration&nbsp;if&nbsp;i&nbsp;want&nbsp;to&nbsp;block&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;only&nbsp;HTTPS&nbsp;requests&nbsp;with&nbsp;splice&nbsp;action?!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;IIRC,&nbsp;you&nbsp;currently&nbsp;need&nbsp;a&nbsp;CA&nbsp;certificate&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;SslBump,&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;regardless&nbsp;of&nbsp;the&nbsp;SslBump&nbsp;actions&nbsp;in&nbsp;use.&nbsp;In&nbsp;some&nbsp;ways,&nbsp;this&nbsp;is&nbsp;a&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;limitation&nbsp;of&nbsp;the&nbsp;current&nbsp;SslBump&nbsp;implementation&nbsp;rather&nbsp;than&nbsp;a&nbsp;natural&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;requirement,&nbsp;but&nbsp;the&nbsp;CA&nbsp;certificate&nbsp;is&nbsp;needed&nbsp;when&nbsp;Squid&nbsp;reports&nbsp;an&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;error&nbsp;to&nbsp;the&nbsp;client&nbsp;because&nbsp;Squid&nbsp;has&nbsp;to&nbsp;bump&nbsp;the&nbsp;client&nbsp;connection&nbsp;to&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;report&nbsp;errors.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;If&nbsp;you&nbsp;do&nbsp;not&nbsp;care&nbsp;what&nbsp;happens&nbsp;when&nbsp;handling&nbsp;errors,&nbsp;then&nbsp;you&nbsp;probably&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;do&nbsp;not&nbsp;need&nbsp;to&nbsp;configure&nbsp;dynamic&nbsp;certificate&nbsp;generation.&nbsp;I&nbsp;have&nbsp;not&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;tested&nbsp;that,&nbsp;but&nbsp;I&nbsp;assume&nbsp;that,&nbsp;when&nbsp;reporting&nbsp;errors&nbsp;in&nbsp;that&nbsp;case,&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Squid&nbsp;will&nbsp;silently&nbsp;revert&nbsp;to&nbsp;using&nbsp;the&nbsp;old&nbsp;code&nbsp;that&nbsp;generates&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;self-signed&nbsp;certificates&nbsp;(and&nbsp;the&nbsp;client&nbsp;will&nbsp;not&nbsp;trust&nbsp;them).&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Please&nbsp;note&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;clear&nbsp;what&nbsp;you&nbsp;mean&nbsp;by&nbsp;&quot;to&nbsp;block&nbsp;with&nbsp;splice&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;action&quot;&nbsp;--&nbsp;splice&nbsp;does&nbsp;not&nbsp;block&nbsp;anything.&nbsp;If&nbsp;you&nbsp;are&nbsp;blocking&nbsp;requests&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;using&nbsp;http_access&nbsp;rules,&nbsp;then&nbsp;Squid&nbsp;is&nbsp;probably&nbsp;using&nbsp;an&nbsp;(implicit)&nbsp;bump&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;action&nbsp;to&nbsp;report&nbsp;blocking&nbsp;to&nbsp;the&nbsp;client,&nbsp;as&nbsp;discussed&nbsp;above.&nbsp;Blocking&nbsp;is&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;an&nbsp;example&nbsp;of&nbsp;errors&nbsp;that&nbsp;may&nbsp;happen&nbsp;even&nbsp;when&nbsp;you&nbsp;do&nbsp;not&nbsp;explicitly&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;bump&nbsp;any&nbsp;requests.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Alex.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;https_port&nbsp;3130&nbsp;tproxy&nbsp;ssl-bump&nbsp;\&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;&nbsp;&nbsp;cert=/etc/squid/ssl_cert/myCA.pem&nbsp;\&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;&nbsp;&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;&nbsp;&nbsp;sslcrtd_program&nbsp;/usr/lib64/squid/security_file_certgen&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;3&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Tue,&nbsp;12&nbsp;Feb&nbsp;2019&nbsp;09:14:45&nbsp;-0600&nbsp;(CST)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;erdosain9&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:erdosain9@gmail.com&quot;&nbsp;href=&quot;mailto:erdosain9@gmail.com&quot;&gt;erdosain9@gmail.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;[squid-users]&nbsp;Pass&nbsp;ip&nbsp;to&nbsp;server&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:1549984485300-0.post@n4.nabble.com&quot;&nbsp;href=&quot;mailto:1549984485300-0.post@n4.nabble.com&quot;&gt;1549984485300-0.post@n4.nabble.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=us-ascii&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;is&nbsp;possible&nbsp;that,&nbsp;for&nbsp;some&nbsp;site&nbsp;(sales.mydomain.com)&nbsp;the&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;proxy&nbsp;server&nbsp;send&nbsp;the&nbsp;&quot;real&nbsp;ip&quot;.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Because&nbsp;i&nbsp;want&nbsp;to&nbsp;see&nbsp;in&nbsp;the&nbsp;logs&nbsp;of&nbsp;sales.mydomain.com&nbsp;the&nbsp;real&nbsp;ip&nbsp;of&nbsp;the&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;machine&nbsp;that&nbsp;are&nbsp;going&nbsp;(and&nbsp;not&nbsp;the&nbsp;proxy&nbsp;ip).&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;know&nbsp;that&nbsp;i&nbsp;can&nbsp;see&nbsp;this&nbsp;in&nbsp;the&nbsp;log&nbsp;of&nbsp;squid...&nbsp;but,&nbsp;i&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;it&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;is&nbsp;possible&nbsp;see&nbsp;this&nbsp;in&nbsp;the&nbsp;other&nbsp;server.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;to&nbsp;all.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;--&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Sent&nbsp;from:&nbsp;&lt;a&nbsp;href=&quot;http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;4&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Tue,&nbsp;12&nbsp;Feb&nbsp;2019&nbsp;16:49:58&nbsp;+0000&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;Joey&nbsp;Officer&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:JOfficer@istreamfs.com&quot;&nbsp;href=&quot;mailto:JOfficer@istreamfs.com&quot;&gt;JOfficer@istreamfs.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;erdosain9&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:erdosain9@gmail.com&quot;&nbsp;href=&quot;mailto:erdosain9@gmail.com&quot;&gt;erdosain9@gmail.com&lt;/a&gt;&gt;,&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Pass&nbsp;ip&nbsp;to&nbsp;server&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:DM5PR19MB1579C05FD36C83FF2D018DF8CD650@DM5PR19MB1579.namprd19.prod.outlook.com&quot;&nbsp;href=&quot;mailto:DM5PR19MB1579C05FD36C83FF2D018DF8CD650@DM5PR19MB1579.namprd19.prod.outlook.com&quot;&gt;DM5PR19MB1579C05FD36C83FF2D018DF8CD650@DM5PR19MB1579.namprd19.prod.outlook.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;believe&nbsp;the&nbsp;option&nbsp;you&nbsp;are&nbsp;referring&nbsp;to&nbsp;is&nbsp;the&nbsp;'forwarded_for'&nbsp;http&nbsp;header.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Reference&nbsp;this:&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/forwarded_for/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/forwarded_for/&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hope&nbsp;that&nbsp;helps&nbsp;you.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;-----Original&nbsp;Message-----&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;squid-users&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&gt;squid-users-bounces@lists.squid-cache.org&lt;/a&gt;&gt;&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;erdosain9&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Sent:&nbsp;Tuesday,&nbsp;February&nbsp;12,&nbsp;2019&nbsp;9:15&nbsp;AM&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;[squid-users]&nbsp;Pass&nbsp;ip&nbsp;to&nbsp;server&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;is&nbsp;possible&nbsp;that,&nbsp;for&nbsp;some&nbsp;site&nbsp;(sales.mydomain.com)&nbsp;the&nbsp;proxy&nbsp;server&nbsp;send&nbsp;the&nbsp;&quot;real&nbsp;ip&quot;.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Because&nbsp;i&nbsp;want&nbsp;to&nbsp;see&nbsp;in&nbsp;the&nbsp;logs&nbsp;of&nbsp;sales.mydomain.com&nbsp;the&nbsp;real&nbsp;ip&nbsp;of&nbsp;the&nbsp;machine&nbsp;that&nbsp;are&nbsp;going&nbsp;(and&nbsp;not&nbsp;the&nbsp;proxy&nbsp;ip).&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;know&nbsp;that&nbsp;i&nbsp;can&nbsp;see&nbsp;this&nbsp;in&nbsp;the&nbsp;log&nbsp;of&nbsp;squid...&nbsp;but,&nbsp;i&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;see&nbsp;this&nbsp;in&nbsp;the&nbsp;other&nbsp;server.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;to&nbsp;all.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;--&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Sent&nbsp;from:&nbsp;&lt;a&nbsp;href=&quot;http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://squid-web-proxy-cache.1019090.n4.nabble.com/Squid-Users-f1019091.html&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;_______________________________________________&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;5&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Tue,&nbsp;12&nbsp;Feb&nbsp;2019&nbsp;14:48:51&nbsp;-0700&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Filering&nbsp;HTTPS&nbsp;URLs&nbsp;-&nbsp;A&nbsp;complete&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;configuration&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:ed3096f0-fff0-2f8b-ddc5-e89cdbf92749@measurement-factory.com&quot;&nbsp;href=&quot;mailto:ed3096f0-fff0-2f8b-ddc5-e89cdbf92749@measurement-factory.com&quot;&gt;ed3096f0-fff0-2f8b-ddc5-e89cdbf92749@measurement-factory.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;2/11/19&nbsp;3:55&nbsp;AM,&nbsp;Paul&nbsp;Doignon&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;The&nbsp;closest&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;above&nbsp;is&nbsp;with:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;*&nbsp;bump&nbsp;everything[1],&nbsp;and&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;*&nbsp;use&nbsp;http_access&nbsp;to&nbsp;check&nbsp;the&nbsp;https://&nbsp;URLs&nbsp;for&nbsp;your&nbsp;policy&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;*&nbsp;use&nbsp;&quot;deny_info&nbsp;TCP_RESET&quot;&nbsp;[2]&nbsp;on&nbsp;the&nbsp;blocked&nbsp;requests.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;[1]&nbsp;some&nbsp;things&nbsp;literally&nbsp;cannot&nbsp;be&nbsp;bumped.&nbsp;So&nbsp;a&nbsp;decision&nbsp;needs&nbsp;to&nbsp;be&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;made&nbsp;about&nbsp;what&nbsp;to&nbsp;do&nbsp;then.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;I&nbsp;guess&nbsp;adding&nbsp;this&nbsp;second&nbsp;line&nbsp;will&nbsp;terminate&nbsp;those&nbsp;un-bumpable&nbsp;requests?&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;No,&nbsp;that&nbsp;second&nbsp;ssl_bump&nbsp;line&nbsp;has&nbsp;no&nbsp;effect&nbsp;--&nbsp;it&nbsp;will&nbsp;never&nbsp;be&nbsp;reached.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;are&nbsp;probably&nbsp;misinterpreting&nbsp;what&nbsp;was&nbsp;meant&nbsp;by&nbsp;&quot;literally&nbsp;cannot&nbsp;be&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;bumped&quot;.&nbsp;What&nbsp;was&nbsp;meant&nbsp;by&nbsp;that&nbsp;phrase&nbsp;was&nbsp;that&nbsp;bumping&nbsp;certain&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;connections&nbsp;always&nbsp;results&nbsp;in&nbsp;client&nbsp;and/or&nbsp;server&nbsp;errors,&nbsp;regardless&nbsp;of&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;how&nbsp;you&nbsp;configure&nbsp;Squid.&nbsp;In&nbsp;those&nbsp;cases,&nbsp;Squid&nbsp;will&nbsp;still&nbsp;perform&nbsp;the&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;bump&nbsp;action&nbsp;if&nbsp;you&nbsp;tell&nbsp;it&nbsp;to&nbsp;bump,&nbsp;but&nbsp;that&nbsp;action&nbsp;will&nbsp;not&nbsp;lead&nbsp;to&nbsp;a&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;functioning&nbsp;tunnel&nbsp;through&nbsp;Squid.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;general,&nbsp;Squid&nbsp;itself&nbsp;cannot&nbsp;predict&nbsp;which&nbsp;connections&nbsp;can&nbsp;be&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;successfully&nbsp;bumped.&nbsp;You&nbsp;have&nbsp;to&nbsp;tell&nbsp;it&nbsp;(using&nbsp;ACLs,&nbsp;like&nbsp;the&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;whitelisted&nbsp;ACL&nbsp;in&nbsp;the&nbsp;example&nbsp;below).&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;ssl_bump&nbsp;terminate&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;The&nbsp;first&nbsp;line&nbsp;emulates&nbsp;client-first&nbsp;bumping.&nbsp;That&nbsp;is&nbsp;not&nbsp;what&nbsp;you&nbsp;want.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To&nbsp;bump&nbsp;all&nbsp;connections,&nbsp;you&nbsp;could&nbsp;use&nbsp;something&nbsp;like&nbsp;this:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To&nbsp;bump&nbsp;all&nbsp;connections&nbsp;except&nbsp;whitelisted&nbsp;ones,&nbsp;you&nbsp;probably&nbsp;want&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;something&nbsp;like&nbsp;this:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;ssl_bump&nbsp;splice&nbsp;whitelisted&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;...&nbsp;where&nbsp;whitelisted&nbsp;is&nbsp;your&nbsp;ACL&nbsp;implementing&nbsp;your&nbsp;white&nbsp;listing&nbsp;policy&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;(i.e.&nbsp;matching&nbsp;TLS&nbsp;connections&nbsp;that&nbsp;should&nbsp;be&nbsp;spliced).&nbsp;It&nbsp;may&nbsp;use&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;ssl::server_name&nbsp;and&nbsp;probably&nbsp;other&nbsp;ACLs.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;More&nbsp;details&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/Features/SslPeekAndSplice&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/Features/SslPeekAndSplice&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Alex.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message:&nbsp;6&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Date:&nbsp;Wed,&nbsp;13&nbsp;Feb&nbsp;2019&nbsp;06:22:43&nbsp;+0000&nbsp;(UTC)&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;From:&nbsp;&quot;&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;&quot;&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:leomessi983@yahoo.com&quot;&nbsp;href=&quot;mailto:leomessi983@yahoo.com&quot;&gt;leomessi983@yahoo.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;To:&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;ssl-bump&nbsp;does&nbsp;not&nbsp;redirect&nbsp;to&nbsp;block&nbsp;page&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Message-ID:&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:974828205.84661.1550038963335@mail.yahoo.com&quot;&nbsp;href=&quot;mailto:974828205.84661.1550038963335@mail.yahoo.com&quot;&gt;974828205.84661.1550038963335@mail.yahoo.com&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Content-Type:&nbsp;text/plain;&nbsp;charset=&quot;utf-8&quot;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&gt;&nbsp;aka&nbsp;the&nbsp;'bump'&nbsp;action.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;This&nbsp;part&nbsp;is&nbsp;misleading:&nbsp;Modern&nbsp;Squids&nbsp;_automatically_&nbsp;bump&nbsp;connections&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;to&nbsp;report&nbsp;[access&nbsp;denied]&nbsp;errors&nbsp;--&nbsp;no&nbsp;explicit&nbsp;bump&nbsp;action&nbsp;is&nbsp;required&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;(or&nbsp;even&nbsp;desirable).&nbsp;I&nbsp;do&nbsp;not&nbsp;know&nbsp;whether&gt;&nbsp;*&nbsp;that&nbsp;bumping&nbsp;does&nbsp;not&nbsp;happen&nbsp;for&nbsp;leo&nbsp;(e.g.,&nbsp;due&nbsp;to&nbsp;Squid&nbsp;bugs),&nbsp;or&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;*&nbsp;it&nbsp;does&nbsp;happen,&nbsp;but&nbsp;the&nbsp;browser&nbsp;refuses&nbsp;to&nbsp;show&nbsp;the&nbsp;error&nbsp;page&nbsp;anyway&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;.(because&nbsp;of&nbsp;certificate&nbsp;pinning&nbsp;and/or&nbsp;because&nbsp;Squid&nbsp;did&nbsp;not&nbsp;have&nbsp;enough&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;information&nbsp;to&nbsp;properly&nbsp;bump&nbsp;the&nbsp;client&nbsp;connection&nbsp;using&nbsp;just&nbsp;step1&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;knowledge).&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;A&nbsp;packet&nbsp;capture&nbsp;or&nbsp;an&nbsp;ALL,2&nbsp;cache.log&nbsp;may&nbsp;distinguish&nbsp;those&nbsp;two&nbsp;cases.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;Alex.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Alex&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Actually&nbsp;i&nbsp;don't&nbsp;understand&nbsp;if&nbsp;it&nbsp;could&nbsp;be&nbsp;done&nbsp;or&nbsp;not!!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Amos&nbsp;said&nbsp;it&nbsp;is&nbsp;impossible&nbsp;you&nbsp;said&nbsp;no!!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;can&nbsp;you&nbsp;show&nbsp;me&nbsp;the&nbsp;correct&nbsp;configuration&nbsp;for&nbsp;blocking&nbsp;HTTPS&nbsp;requests&nbsp;with&nbsp;showing&nbsp;access&nbsp;denied&nbsp;page&nbsp;to&nbsp;clients?!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;--------------&nbsp;next&nbsp;part&nbsp;--------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;An&nbsp;HTML&nbsp;attachment&nbsp;was&nbsp;scrubbed...&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;URL:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/attachments/20190213/d8a98891/attachment.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/attachments/20190213/d8a98891/attachment.html&lt;/a&gt;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Subject:&nbsp;Digest&nbsp;Footer&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;_______________________________________________&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;End&nbsp;of&nbsp;squid-users&nbsp;Digest,&nbsp;Vol&nbsp;54,&nbsp;Issue&nbsp;24&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;*******************************************&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
