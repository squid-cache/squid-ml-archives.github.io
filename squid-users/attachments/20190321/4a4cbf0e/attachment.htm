<tt>
&lt;tt&gt;&lt;font&nbsp;size=2&gt;Hi&nbsp;we&nbsp;are&nbsp;using&nbsp;Squid&nbsp;as&nbsp;a&nbsp;Caching&nbsp;proxy&nbsp;for&nbsp;out&nbsp;patch<br>
deployment.&lt;br&gt;<br>
&lt;br&gt;<br>
Since&nbsp;we&nbsp;moved&nbsp;to&nbsp;version&nbsp;3.5.28&nbsp;on&nbsp;windows&nbsp;Server&nbsp;,we&nbsp;have&nbsp;problems&nbsp;in<br>
our&lt;br&gt;<br>
main&nbsp;spots.&lt;br&gt;<br>
&lt;br&gt;<br>
typical&nbsp;cache.log&nbsp;entry´s&nbsp;are&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Using&nbsp;Least&nbsp;Load&nbsp;store&nbsp;dir&nbsp;selection&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Set&nbsp;Current&nbsp;Directory&nbsp;to&lt;br&gt;<br>
C:\smart\Squid\var\cache\squid&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Finished&nbsp;loading&nbsp;MIME&nbsp;types&nbsp;and&nbsp;icons.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;HTCP&nbsp;Disabled.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Squid&nbsp;plugin&nbsp;modules&nbsp;loaded:&nbsp;0&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Adaptation&nbsp;support&nbsp;is&nbsp;off.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Accepting&nbsp;HTTP&nbsp;Socket&nbsp;connections&nbsp;at&nbsp;local=[::]:81&lt;br&gt;<br>
remote=[::]&nbsp;FD&nbsp;12&nbsp;flags=9&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Done&nbsp;reading&nbsp;F:\LEMSS-Content&nbsp;swaplog&nbsp;(743&lt;br&gt;<br>
entries)&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Finished&nbsp;rebuilding&nbsp;storage&nbsp;from&nbsp;disk.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;482&nbsp;Entries&nbsp;scanned&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;Invalid&nbsp;entries.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;With&nbsp;invalid&nbsp;flags.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;223&nbsp;Objects&nbsp;loaded.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;Objects&nbsp;expired.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;Objects&nbsp;cancelled.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;119&nbsp;Duplicate&nbsp;URLs&nbsp;purged.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;140&nbsp;Swapfile&nbsp;clashes&nbsp;avoided.&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;Took&nbsp;0.14&nbsp;seconds&nbsp;(1588.31&nbsp;objects/sec).&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;Beginning&nbsp;Validation&nbsp;Procedure&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;Completed&nbsp;Validation&nbsp;Procedure&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;Validated&nbsp;223&nbsp;Entries&lt;br&gt;<br>
2019/03/12&nbsp;14:12:00&nbsp;kid1|&nbsp;&nbsp;&nbsp;store_swap_size&nbsp;=&nbsp;6227808.00&nbsp;KB&lt;br&gt;<br>
2019/03/12&nbsp;14:12:01&nbsp;kid1|&nbsp;storeLateRelease:&nbsp;released&nbsp;0&nbsp;objects&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file<br>
or&lt;br&gt;<br>
directory&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/00000025&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;WARNING:&nbsp;1&nbsp;swapin&nbsp;MD5&nbsp;mismatches&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file<br>
or&lt;br&gt;<br>
directory&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/00000025&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;WARNING:&nbsp;1&nbsp;swapin&nbsp;MD5&nbsp;mismatches&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file<br>
or&lt;br&gt;<br>
directory&lt;br&gt;<br>
2019/03/12&nbsp;14:12:03&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/0000002D&lt;br&gt;<br>
2019/03/12&nbsp;14:12:24&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(16)&nbsp;Device&nbsp;or&lt;br&gt;<br>
resource&nbsp;busy&lt;br&gt;<br>
2019/03/12&nbsp;14:12:24&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/000000CC&lt;br&gt;<br>
2019/03/12&nbsp;14:12:24&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file<br>
or&lt;br&gt;<br>
directory&lt;br&gt;<br>
2019/03/12&nbsp;14:12:24&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/00000079&lt;br&gt;<br>
2019/03/12&nbsp;14:12:31&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(2)&nbsp;No&nbsp;such&nbsp;file<br>
or&lt;br&gt;<br>
directory&lt;br&gt;<br>
2019/03/12&nbsp;14:12:31&nbsp;kid1|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F:\LEMSS-Content/00/00/00000008&lt;br&gt;<br>
2019/03/12&nbsp;14:12:59&nbsp;kid1|&nbsp;DiskThreadsDiskFile::openDone:&nbsp;(13)&nbsp;Permission&lt;br&gt;<br>
denied&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
after&nbsp;that&nbsp;squid&nbsp;service&nbsp;is&nbsp;running&nbsp;but&nbsp;does&nbsp;not&nbsp;keep&nbsp;connections&nbsp;ore&lt;br&gt;<br>
reastablish&nbsp;connections.&lt;br&gt;<br>
Squid&nbsp;service&nbsp;has&nbsp;to&nbsp;be&nbsp;restarted.&lt;br&gt;<br>
&lt;br&gt;<br>
Depending&nbsp;on&nbsp;the&nbsp;location&nbsp;we&nbsp;have&nbsp;100&nbsp;Mbit&nbsp;to&nbsp;10&nbsp;Gbit.&lt;br&gt;<br>
&lt;br&gt;<br>
our&nbsp;squid.conf&nbsp;at&nbsp;the&nbsp;main&nbsp;branches&nbsp;is&nbsp;like&lt;br&gt;<br>
#Local&nbsp;Settings&lt;br&gt;<br>
acl&nbsp;all&nbsp;src&nbsp;all&lt;br&gt;<br>
acl&nbsp;manager&nbsp;proto&nbsp;cache_object&lt;br&gt;<br>
acl&nbsp;localhost&nbsp;src&nbsp;127.0.0.1/32&lt;br&gt;<br>
acl&nbsp;to_localhost&nbsp;dst&nbsp;127.0.0.0/8&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;<br>
#&nbsp;Adapt&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&nbsp;from&nbsp;where&nbsp;browsing&lt;br&gt;<br>
#&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;<br>
&lt;br&gt;<br>
acl&nbsp;localnet&nbsp;src&nbsp;10.0.0.0/8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
acl&nbsp;localnet&nbsp;src&nbsp;172.16.0.0/12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
acl&nbsp;localnet&nbsp;src&nbsp;192.168.0.0/16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;<br>
acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private<br>
network&nbsp;range&lt;br&gt;<br>
acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly<br>
plugged)&lt;br&gt;<br>
machines&lt;br&gt;<br>
acl&nbsp;Windowsupdate&nbsp;dstdomain&nbsp;lemss.m287.local&lt;br&gt;<br>
&lt;br&gt;<br>
acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ftp&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;https&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gopher&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;wais&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http-mgmt&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gss-http&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;filemaker&lt;br&gt;<br>
acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiling&nbsp;http&lt;br&gt;<br>
acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;<br>
&lt;br&gt;<br>
#&lt;br&gt;<br>
#&nbsp;Recommended&nbsp;minimum&nbsp;Access&nbsp;Permission&nbsp;configuration:&lt;br&gt;<br>
#&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Only&nbsp;allow&nbsp;cachemgr&nbsp;access&nbsp;from&nbsp;localhost&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&gt;<br>
#&nbsp;http_access&nbsp;allow&nbsp;windowsudpate&nbsp;localhost&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;manager&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Deny&nbsp;requests&nbsp;to&nbsp;certain&nbsp;unsafe&nbsp;ports&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Deny&nbsp;CONNECT&nbsp;to&nbsp;other&nbsp;than&nbsp;secure&nbsp;SSL&nbsp;ports&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;We&nbsp;strongly&nbsp;recommend&nbsp;the&nbsp;following&nbsp;be&nbsp;uncommented&nbsp;to&nbsp;protect&nbsp;innocent&lt;br&gt;<br>
#&nbsp;web&nbsp;applications&nbsp;running&nbsp;on&nbsp;the&nbsp;proxy&nbsp;server&nbsp;who&nbsp;think&nbsp;the&nbsp;only&lt;br&gt;<br>
#&nbsp;one&nbsp;who&nbsp;can&nbsp;access&nbsp;services&nbsp;on&nbsp;&quot;localhost&quot;&nbsp;is&nbsp;a&nbsp;local&nbsp;user&lt;br&gt;<br>
#http_access&nbsp;deny&nbsp;to_localhost&lt;br&gt;<br>
&lt;br&gt;<br>
#&lt;br&gt;<br>
#&nbsp;INSERT&nbsp;YOUR&nbsp;OWN&nbsp;RULE(S)&nbsp;HERE&nbsp;TO&nbsp;ALLOW&nbsp;ACCESS&nbsp;FROM&nbsp;YOUR&nbsp;CLIENTS&lt;br&gt;<br>
#&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;<br>
#&nbsp;Adapt&nbsp;localnet&nbsp;in&nbsp;the&nbsp;ACL&nbsp;section&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&lt;br&gt;<br>
#&nbsp;from&nbsp;where&nbsp;browsing&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;localnet&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;localhost&lt;br&gt;<br>
http_access&nbsp;allow&nbsp;Windowsupdate&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;And&nbsp;finally&nbsp;deny&nbsp;all&nbsp;other&nbsp;access&nbsp;to&nbsp;this&nbsp;proxy&lt;br&gt;<br>
http_access&nbsp;deny&nbsp;all&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Limit&nbsp;number&nbsp;of&nbsp;days&nbsp;to&nbsp;keep&nbsp;logs&lt;br&gt;<br>
#&nbsp;logfile_rotate&nbsp;2&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;br&gt;<br>
http_port&nbsp;81&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Delay&nbsp;parameters&lt;br&gt;<br>
delay_pools&nbsp;1&lt;br&gt;<br>
delay_class&nbsp;1&nbsp;1&lt;br&gt;<br>
delay_parameters&nbsp;1&nbsp;none&nbsp;-1/-1&lt;br&gt;<br>
delay_access&nbsp;1&nbsp;allow&nbsp;localnet&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Uncomment&nbsp;the&nbsp;line&nbsp;below&nbsp;to&nbsp;enable&nbsp;disk&nbsp;caching&nbsp;-&nbsp;path&nbsp;format&nbsp;is&lt;br&gt;<br>
/cygdrive/&lt;full&nbsp;path&nbsp;to&nbsp;cache&nbsp;folder&gt;,&nbsp;i.e.&lt;br&gt;<br>
cache_dir&nbsp;aufs&nbsp;F:\LEMSS-Content&nbsp;10000&nbsp;16&nbsp;256&lt;br&gt;<br>
cache_mem&nbsp;2048&nbsp;MB&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Leave&nbsp;coredumps&nbsp;in&nbsp;the&nbsp;first&nbsp;cache&nbsp;dir&lt;br&gt;<br>
coredump_dir&nbsp;C:\smart\Squid\var\cache\squid&lt;br&gt;<br>
&lt;br&gt;<br>
#debug_options&nbsp;All,1&nbsp;33,2&nbsp;28,9&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Add&nbsp;any&nbsp;of&nbsp;your&nbsp;own&nbsp;refresh_pattern&nbsp;entries&nbsp;above&nbsp;these.&lt;br&gt;<br>
#&nbsp;refresh_pattern&nbsp;-i&lt;br&gt;<br>
lemss.m287.local/.*\.(cab|exe|ms[i|u|f|p]|[ap]sf|wm[v|a]|dat|zip|psf)&nbsp;43200&lt;br&gt;<br>
80%&nbsp;129600&nbsp;reload-into-ims&lt;br&gt;<br>
refresh_pattern&nbsp;-i&lt;br&gt;<br>
lemss.m287.local/.*\.(cab|exe|ms[i|u|f|p]|[ap]sf|wm[v|a]|dat|zip|psf)&nbsp;43200&lt;br&gt;<br>
80%&nbsp;129600&nbsp;reload-into-ims&lt;br&gt;<br>
refresh_pattern&nbsp;^ftp:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10080&lt;br&gt;<br>
refresh_pattern&nbsp;^gopher:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;1440&lt;br&gt;<br>
refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&lt;br&gt;<br>
refresh_pattern&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;4320&lt;br&gt;<br>
&lt;br&gt;<br>
dns_v4_first&nbsp;on&lt;br&gt;<br>
&lt;br&gt;<br>
dns_nameservers&nbsp;10.1.19.203&nbsp;10.1.19.204&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;pipeline_prefetch&nbsp;2&lt;br&gt;<br>
&lt;br&gt;<br>
max_filedescriptors&nbsp;3200&lt;br&gt;<br>
&lt;br&gt;<br>
range_offset_limit&nbsp;2000&nbsp;MB&nbsp;windowsupdate&lt;br&gt;<br>
&lt;br&gt;<br>
maximum_object_size&nbsp;2000&nbsp;MB&lt;br&gt;<br>
collapsed_forwarding&nbsp;on&lt;br&gt;<br>
&lt;br&gt;<br>
quick_abort_min&nbsp;-1&lt;br&gt;<br>
&lt;br&gt;<br>
thats&nbsp;our&nbsp;squid.conf&lt;/font&gt;&lt;/tt&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;
</tt>
