<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
Hi,&nbsp;this&nbsp;is&nbsp;part&nbsp;of&nbsp;my&nbsp;squid.conf:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&gt;https_port&nbsp;192.168.30.4:3129&nbsp;intercept&nbsp;ssl-bump&nbsp;connection-auth=off&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/opt/squid/ssl_cert/CA.pem&nbsp;sslflags=NO_DEFAULT_CA&nbsp;&lt;br&gt;<br>
&lt;/span&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;acl&nbsp;broken_sites&nbsp;ssl::server_name&nbsp;foo.com&nbsp;&lt;/div&gt;<br>
&lt;div&gt;acl&nbsp;ssl_step1&nbsp;at_step&nbsp;SslBump1&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;ssl_bump&nbsp;peek&nbsp;ssl_step1&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;ssl_bump&nbsp;bump&nbsp;broken_sites&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;ssl_bump&nbsp;splice&nbsp;all&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;span&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
so&nbsp;how&nbsp;to&nbsp;restrict&nbsp;the&nbsp;maximum&nbsp;negotiated&nbsp;version&nbsp;of&nbsp;squid&nbsp;HTTPS&nbsp;to&nbsp;TLS1.2?&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
I&nbsp;also&nbsp;try&nbsp;configure&nbsp;like&nbsp;this:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;https_port&nbsp;192.168.30.4:3129&nbsp;intercept&nbsp;ssl-bump&nbsp;connection-auth=off&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/opt/squid/ssl_cert/CA.pem&lt;span&gt;&nbsp;<br>
&nbsp;version=4&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;span&gt;it&nbsp;did&nbsp;not&nbsp;work.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;display:&nbsp;inline&nbsp;!important&quot;&gt;&lt;span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
the&nbsp;access.log&nbsp;show&nbsp;TCP/TUNNEL&nbsp;200&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
