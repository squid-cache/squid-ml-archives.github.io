<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:verdana,sans-serif&quot;&gt;I&#39;m&nbsp;trying&nbsp;to&nbsp;setup&nbsp;squid&nbsp;for&nbsp;my&nbsp;wifi&nbsp;which&nbsp;mainly&nbsp;for&nbsp;cell&nbsp;phones&nbsp;and&nbsp;tv&nbsp;box&nbsp;with&nbsp;ssl-bump&nbsp;for&nbsp;the&nbsp;sake&nbsp;of&nbsp;bandwidth&nbsp;saving&nbsp;and&nbsp;my&nbsp;kids&nbsp;protection. Is&nbsp;it&nbsp;posible&nbsp;for&nbsp;squid&nbsp;to&nbsp;directly&nbsp;inject&nbsp;root&nbsp;CA&nbsp;as&nbsp;per&nbsp;request&nbsp;by&nbsp;applications?&nbsp;As&nbsp;i&nbsp;found&nbsp;hardly&nbsp;to&nbsp;setup&nbsp;my&nbsp;root&nbsp;ca&nbsp;to&nbsp;cellphone&nbsp;apps.&nbsp;I&nbsp;had&nbsp;tried&nbsp;install&nbsp;using&nbsp;user&nbsp;credentiall&nbsp;setup&nbsp;but&nbsp;its&nbsp;still&nbsp;failed&nbsp;and&nbsp;impossible&nbsp;for&nbsp;me&nbsp;to&nbsp;reflash&nbsp;the&nbsp;android&nbsp;os&nbsp;just&nbsp;to&nbsp;install&nbsp;the&nbsp;CA&nbsp;cert&nbsp;into&nbsp;the&nbsp;trusted&nbsp;credentialls&nbsp;table.&nbsp;I&nbsp;had&nbsp;try&nbsp;ssl_bump&nbsp;option&nbsp;combination&nbsp;with&nbsp;no&nbsp;luck,&nbsp;peek&nbsp;and&nbsp;bump&nbsp;produce&nbsp;alot&nbsp;of&nbsp;handshake&nbsp;errors.&nbsp;Here&#39;s&nbsp;my&nbsp;squid.conf,&nbsp;just&nbsp;guide&nbsp;me&nbsp;to&nbsp;the&nbsp;right&nbsp;way.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:verdana,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:verdana,sans-serif&quot;&gt;###################################################&lt;br&gt;#&nbsp;Recommended&nbsp;minimum&nbsp;configuration:&lt;br&gt;#&lt;br&gt;&lt;br&gt;#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;#&nbsp;Adapt&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&nbsp;from&nbsp;where&nbsp;browsing&lt;br&gt;#&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.0.0.0/8&quot;&gt;10.0.0.0/8&lt;/a&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://172.16.0.0/12&quot;&gt;172.16.0.0/12&lt;/a&gt;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&gt;192.168.0.0/16&lt;/a&gt;&nbsp;&nbsp;#&nbsp;RFC1918&nbsp;possible&nbsp;internal&nbsp;network&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;br&gt;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10&nbsp; &nbsp; &nbsp; #&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;br&gt;&lt;br&gt;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ftp&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;https&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gopher&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;wais&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535&nbsp;&nbsp;#&nbsp;unregistered&nbsp;ports&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;http-mgmt&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gss-http&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;filemaker&lt;br&gt;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiling&nbsp;http&lt;br&gt;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;&lt;br&gt;#&lt;br&gt;#&nbsp;Recommended&nbsp;minimum&nbsp;Access&nbsp;Permission&nbsp;configuration:&lt;br&gt;#&lt;br&gt;#&nbsp;Deny&nbsp;requests&nbsp;to&nbsp;certain&nbsp;unsafe&nbsp;ports&lt;br&gt;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;&lt;br&gt;#&nbsp;Deny&nbsp;CONNECT&nbsp;to&nbsp;other&nbsp;than&nbsp;secure&nbsp;SSL&nbsp;ports&lt;br&gt;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;&lt;br&gt;#&nbsp;Only&nbsp;allow&nbsp;cachemgr&nbsp;access&nbsp;from&nbsp;localhost&lt;br&gt;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&gt;http_access&nbsp;deny&nbsp;manager&lt;br&gt;&lt;br&gt;#&nbsp;We&nbsp;strongly&nbsp;recommend&nbsp;the&nbsp;following&nbsp;be&nbsp;uncommented&nbsp;to&nbsp;protect&nbsp;innocent&lt;br&gt;#&nbsp;web&nbsp;applications&nbsp;running&nbsp;on&nbsp;the&nbsp;proxy&nbsp;server&nbsp;who&nbsp;think&nbsp;the&nbsp;only&lt;br&gt;#&nbsp;one&nbsp;who&nbsp;can&nbsp;access&nbsp;services&nbsp;on&nbsp;&quot;localhost&quot;&nbsp;is&nbsp;a&nbsp;local&nbsp;user&lt;br&gt;#http_access&nbsp;deny&nbsp;to_localhost&lt;br&gt;&lt;br&gt;#&lt;br&gt;#&nbsp;INSERT&nbsp;YOUR&nbsp;OWN&nbsp;RULE(S)&nbsp;HERE&nbsp;TO&nbsp;ALLOW&nbsp;ACCESS&nbsp;FROM&nbsp;YOUR&nbsp;CLIENTS&lt;br&gt;#&lt;br&gt;&lt;br&gt;#&nbsp;Example&nbsp;rule&nbsp;allowing&nbsp;access&nbsp;from&nbsp;your&nbsp;local&nbsp;networks.&lt;br&gt;#&nbsp;Adapt&nbsp;localnet&nbsp;in&nbsp;the&nbsp;ACL&nbsp;section&nbsp;to&nbsp;list&nbsp;your&nbsp;(internal)&nbsp;IP&nbsp;networks&lt;br&gt;#&nbsp;from&nbsp;where&nbsp;browsing&nbsp;should&nbsp;be&nbsp;allowed&lt;br&gt;http_access&nbsp;allow&nbsp;localnet&lt;br&gt;http_access&nbsp;allow&nbsp;localhost&lt;br&gt;&lt;br&gt;#&nbsp;And&nbsp;finally&nbsp;deny&nbsp;all&nbsp;other&nbsp;access&nbsp;to&nbsp;this&nbsp;proxy&lt;br&gt;http_access&nbsp;deny&nbsp;all&lt;br&gt;&lt;br&gt;#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;br&gt;#http_port&nbsp;3127&nbsp;intercept&lt;br&gt;https_port&nbsp;&lt;a&nbsp;href=&quot;http://10.0.1.2:3127&quot;&gt;10.0.1.2:3127&lt;/a&gt;&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/ssl_cert/myca.pem&nbsp;dhparams=/etc/squid/ssl_cert/dhparam.pem&lt;br&gt;&lt;br&gt;#############################################################&lt;br&gt;#&nbsp;tproxy&nbsp;setting&lt;br&gt;#&nbsp;ausearch&nbsp;-c&nbsp;&#39;squid&#39;&nbsp;--raw&nbsp;|&nbsp;audit2allow&nbsp;-M&nbsp;my-squid&lt;br&gt;#&nbsp;semodule&nbsp;-i&nbsp;my-squid.pp&lt;br&gt;#http_port&nbsp;&lt;a&nbsp;href=&quot;http://10.0.1.2:3128&quot;&gt;10.0.1.2:3128&lt;/a&gt;&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/ssl_cert/myca.pem&nbsp;version=1&nbsp;options=NO_SSLv2,NO_SSLv3,SINGLE_ECDH_USE&lt;br&gt;http_port&nbsp;&lt;a&nbsp;href=&quot;http://10.0.1.2:3128&quot;&gt;10.0.1.2:3128&lt;/a&gt;&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&nbsp;cert=/etc/squid/ssl_cert/myca.pem&nbsp;dhparams=/etc/squid/ssl_cert/dhparam.pem&lt;br&gt;&lt;br&gt;#&nbsp;Uncomment&nbsp;and&nbsp;adjust&nbsp;the&nbsp;following&nbsp;to&nbsp;add&nbsp;a&nbsp;disk&nbsp;cache&nbsp;directory.&lt;br&gt;#cache_dir&nbsp;ufs&nbsp;/var/spool/squid&nbsp;100&nbsp;16&nbsp;256&lt;br&gt;cache_dir&nbsp;aufs&nbsp;/var/spool/squid&nbsp;5000&nbsp;100&nbsp;256&lt;br&gt;&lt;br&gt;#&nbsp;Leave&nbsp;coredumps&nbsp;in&nbsp;the&nbsp;first&nbsp;cache&nbsp;dir&lt;br&gt;coredump_dir&nbsp;/var/spool/squid&lt;br&gt;&lt;br&gt;cache_mem&nbsp;8&nbsp;MB&lt;br&gt;maximum_object_size_in_memory&nbsp;32&nbsp;KB&lt;br&gt;memory_replacement_policy&nbsp;heap&nbsp;GDSF&lt;br&gt;cache_replacement_policy&nbsp;heap&nbsp;LFUDA&lt;br&gt;maximum_object_size&nbsp;128000&nbsp;KB&lt;br&gt;cache_swap_low&nbsp;95&lt;br&gt;cache_swap_high&nbsp;99&lt;br&gt;strip_query_terms&nbsp;off&lt;br&gt;&lt;br&gt;#&nbsp;semanage&nbsp;fcontext&nbsp;-a&nbsp;-t&nbsp;FILE_TYPE&nbsp;&#39;index.txt&#39;&lt;br&gt;#&nbsp;#where&nbsp;FILE_TYPE&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;following:&nbsp;NetworkManager_tmp_t,&nbsp;abrt_helper_exec&lt;br&gt;#&nbsp;#&nbsp;Then&nbsp;execute:&lt;br&gt;#restorecon&nbsp;-vr&nbsp;&#39;index.txt&#39;&lt;br&gt;sslcrtd_program&nbsp;/usr/lib64/squid/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;&lt;br&gt;sslproxy_foreign_intermediate_certs&nbsp;/etc/squid/ssl_cert/myca.pem&lt;br&gt;#sslproxy_options&nbsp;NO_SSLv2,NO_SSLv3,SINGLE_DH_USE&lt;br&gt;sslproxy_cafile&nbsp;/etc/squid/ssl_cert/myca.pem&lt;br&gt;sslproxy_cipher&nbsp;EECDH+ECDSA+AESGCM:E$&lt;br&gt;&lt;br&gt;acl&nbsp;step1&nbsp;at_step&nbsp;sslbump1&lt;br&gt;acl&nbsp;step2&nbsp;at_step&nbsp;sslbump2&lt;br&gt;acl&nbsp;step3&nbsp;at_step&nbsp;sslbump3&lt;br&gt;&lt;br&gt;ssl_bump&nbsp;stare&nbsp;step1&lt;br&gt;ssl_bump&nbsp;peek&nbsp;step2&lt;br&gt;ssl_bump&nbsp;bump&nbsp;step3&lt;br&gt;&lt;br&gt;#&nbsp;When&nbsp;a&nbsp;peek&nbsp;rule&nbsp;matches&nbsp;during&nbsp;step1,&nbsp;Squid&nbsp;proceeds&nbsp;to&nbsp;step2&nbsp;where&nbsp;it&nbsp;parses&nbsp;the&nbsp;TLS&nbsp;Client&nbsp;Hello&nbsp;and&nbsp;extracts&nbsp;SNI&nbsp;&lt;br&gt;#&nbsp;(if&nbsp;any).&nbsp;When&nbsp;a&nbsp;peek&nbsp;rule&nbsp;matches&nbsp;during&nbsp;step&nbsp;2,&nbsp;Squid&nbsp;proceeds&nbsp;to&nbsp;step3&nbsp;where&nbsp;it&nbsp;parses&nbsp;the&nbsp;TLS&nbsp;Server&nbsp;Hello&nbsp;&lt;br&gt;#&nbsp;and&nbsp;extracts&nbsp;server&nbsp;certificate&nbsp;while&nbsp;preserving&nbsp;the&nbsp;possibility&nbsp;of&nbsp;splicing&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;connections;&nbsp;&lt;br&gt;#&nbsp;peeking&nbsp;at&nbsp;the&nbsp;server&nbsp;certificate&nbsp;usually&nbsp;precludes&nbsp;future&nbsp;bumping&nbsp;(see&nbsp;Limitations).&lt;br&gt;#ssl_bump&nbsp;peek&nbsp;all&lt;br&gt;&lt;br&gt;#&nbsp;When&nbsp;a&nbsp;stare&nbsp;rule&nbsp;matches&nbsp;during&nbsp;step1,&nbsp;Squid&nbsp;proceeds&nbsp;to&nbsp;step2&nbsp;where&nbsp;it&nbsp;parses&nbsp;the&nbsp;TLS&nbsp;Client&nbsp;Hello&nbsp;and&nbsp;extracts&nbsp;SNI&nbsp;&lt;br&gt;#&nbsp;(if&nbsp;any).&nbsp;When&nbsp;a&nbsp;stare&nbsp;rule&nbsp;matches&nbsp;during&nbsp;step2,&nbsp;Squid&nbsp;proceeds&nbsp;to&nbsp;step3&nbsp;where&nbsp;it&nbsp;parses&nbsp;the&nbsp;TLS&nbsp;Server&nbsp;Hello&nbsp;and&nbsp;extracts&nbsp;&lt;br&gt;#&nbsp;server&nbsp;certificate&nbsp;while&nbsp;preserving&nbsp;the&nbsp;possibility&nbsp;of&nbsp;bumping&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;connections;&nbsp;staring&nbsp;at&nbsp;the&nbsp;server&nbsp;&lt;br&gt;#&nbsp;certificate&nbsp;usually&nbsp;precludes&nbsp;future&nbsp;splicing&nbsp;(see&nbsp;Limitations).&lt;br&gt;#ssl_bump&nbsp;stare&nbsp;all&lt;br&gt;&lt;br&gt;#&nbsp;Become&nbsp;a&nbsp;TCP&nbsp;tunnel&nbsp;without&nbsp;decoding&nbsp;the&nbsp;connection.&nbsp;The&nbsp;client&nbsp;and&nbsp;the&nbsp;server&nbsp;exchange&nbsp;data&nbsp;as&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;proxy&nbsp;in&nbsp;&lt;br&gt;#&nbsp;between.&nbsp;Step&nbsp;1,&nbsp;2&nbsp;and&nbsp;sometime&nbsp;3&lt;br&gt;#ssl_bump&nbsp;splice&nbsp;all&lt;br&gt;&lt;br&gt;#&nbsp;Establish&nbsp;a&nbsp;TLS&nbsp;connection&nbsp;with&nbsp;the&nbsp;server&nbsp;(using&nbsp;client&nbsp;SNI,&nbsp;if&nbsp;any)&nbsp;and&nbsp;establish&nbsp;a&nbsp;TLS&nbsp;connection&nbsp;with&nbsp;the&nbsp;client&nbsp;&lt;br&gt;#&nbsp;(using&nbsp;a&nbsp;mimicked&nbsp;server&nbsp;certificate).&nbsp;However,&nbsp;this&nbsp;is&nbsp;not&nbsp;what&nbsp;actually&nbsp;happens&nbsp;right&nbsp;now&nbsp;if&nbsp;a&nbsp;bump&nbsp;rule&nbsp;matches&nbsp;during&nbsp;&lt;br&gt;#&nbsp;step1.&lt;br&gt;#ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;&lt;br&gt;#&nbsp;Close&nbsp;client&nbsp;and&nbsp;server&nbsp;connections.&lt;br&gt;#ssl_bump&nbsp;terminate&nbsp;all&lt;br&gt;&lt;br&gt;acl&nbsp;ARCHIEVES&nbsp;url_regex&nbsp;-i&nbsp;\.(rpm|cab|deb|exe|msi|msu|zip|tar|xz|bz|bz2|lzma|gz|tgz|rar|bin|7z|doc?|xls?|ppt?|pdf|nth|psd|sis)*&lt;br&gt;acl&nbsp;PICS&nbsp;url_regex&nbsp;-i&nbsp;\.(gif|png|jp?g|ico|bmp|tiff?)*&lt;br&gt;acl&nbsp;MOVIES&nbsp;url_regex&nbsp;-i&nbsp;\.(avi|iso|wav|mid|mp?|mpeg|mov|3gp|wm?|swf|flv|x-flv|axd|ism?)*&lt;br&gt;acl&nbsp;FILES&nbsp;url_regex&nbsp;-i&nbsp;\.(html|htm|css|js)*&lt;br&gt;acl&nbsp;IDXS&nbsp;url_regex&nbsp;-i&nbsp;\.index.(html|htm)*&lt;br&gt;acl&nbsp;GV&nbsp;url_regex&nbsp;-i&nbsp;\.googlevideo\.com*&lt;br&gt;&lt;br&gt;#never_direct&nbsp;allow&nbsp;ARCHIEVES&lt;br&gt;#never_direct&nbsp;allow&nbsp;PICS&lt;br&gt;#never_direct&nbsp;allow&nbsp;MOVIES&lt;br&gt;#never_direct&nbsp;allow&nbsp;FILES&lt;br&gt;#never_direct&nbsp;allow&nbsp;IDXS&lt;br&gt;&lt;br&gt;cache&nbsp;allow&nbsp;ARCHIEVES&lt;br&gt;cache&nbsp;allow&nbsp;PICS&lt;br&gt;cache&nbsp;allow&nbsp;MOVIES&lt;br&gt;cache&nbsp;allow&nbsp;FILES&lt;br&gt;cache&nbsp;allow&nbsp;IDXS&lt;br&gt;cache&nbsp;allow&nbsp;GV&lt;br&gt;&lt;br&gt;#never_direct&nbsp;deny&nbsp;alldst&lt;br&gt;#always_direct&nbsp;allow&nbsp;alldst&lt;br&gt;&lt;br&gt;request_header_access&nbsp;From&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Server&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;WWW-Authenticate&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Link&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Cache-Control&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Proxy-Connection&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;X-Cache&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;X-Cache-Lookup&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Via&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;X-Forwarded-For&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Pragma&nbsp;deny&nbsp;all&lt;br&gt;request_header_access&nbsp;Keep-Alive&nbsp;deny&nbsp;all&lt;br&gt;&lt;br&gt;refresh_pattern&nbsp;^ftp:&nbsp; &nbsp; &nbsp; &nbsp;1440&nbsp; &nbsp; 20%&nbsp;10080&lt;br&gt;refresh_pattern&nbsp;^gopher:&nbsp; &nbsp; 1440&nbsp; &nbsp; 0%&nbsp; 1440&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0%&nbsp; 0&lt;br&gt;refresh_pattern&nbsp;(Release|Packages(.gz)*)*&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;20%&nbsp; &nbsp; &nbsp;2880&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(gif|png|jp?g|ico|bmp|tiff?)*&nbsp;10080&nbsp;95%&nbsp;43200&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(rpm|cab|deb|exe|msi|msu|zip|tar|xz|bz|bz2|lzma|gz|tgz|rar|bin|7z|doc?|xls?|ppt?|pdf|nth|psd|sis)*&nbsp;10080&nbsp;90%&nbsp;43200&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(avi|iso|wav|mid|mp?|mpeg|mov|3gp|wm?|swf|flv|x-flv|axd)*&nbsp;43200&nbsp;95%&nbsp;432000&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.(html|htm|css|js)*&nbsp;1440&nbsp;75%&nbsp;40320&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.index.(html|htm)*&nbsp;0&nbsp;75%&nbsp;10080&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0%&nbsp;0&lt;br&gt;refresh_pattern&nbsp;-i&nbsp;\.googlevideo\.com*&nbsp;43200&nbsp;95%&nbsp;432000&lt;br&gt;refresh_pattern&nbsp;.&nbsp;1440&nbsp;90%&nbsp;10080&lt;br&gt;&lt;br&gt;quick_abort_min&nbsp;0&nbsp;KB&lt;br&gt;quick_abort_max&nbsp;0&nbsp;KB&lt;br&gt;quick_abort_pct&nbsp;100&lt;br&gt;store_avg_object_size&nbsp;13&nbsp;KB&lt;br&gt;&lt;br&gt;dns_nameservers&nbsp;10.0.1.2&nbsp;192.168.19.2&lt;br&gt;visible_hostname&nbsp;&lt;a&nbsp;href=&quot;http://ws1.ebedsat.net&quot;&gt;ws1.ebedsat.net&lt;/a&gt;&lt;br&gt;shutdown_lifetime&nbsp;3&nbsp;second&lt;br&gt;via&nbsp;off&lt;br&gt;forwarded_for&nbsp;off&lt;br&gt;&lt;br&gt;logformat&nbsp;logaccess&nbsp;[%{%d/%b/%Y&nbsp;%H:%M:%S}tl]&nbsp;%&gt;a&nbsp;%Ss/%03&gt;Hs&nbsp;%&lt;st&nbsp;%rm&nbsp;%ru&nbsp;%un&nbsp;%Sh/%&lt;A&nbsp;%mt&lt;br&gt;access_log&nbsp;daemon:/var/log/squid/access.log&nbsp;logaccess&lt;br&gt;&lt;br&gt;#&lt;br&gt;#&nbsp;Add&nbsp;any&nbsp;of&nbsp;your&nbsp;own&nbsp;refresh_pattern&nbsp;entries&nbsp;above&nbsp;these.&lt;br&gt;#&lt;br&gt;#refresh_pattern&nbsp;^ftp:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10080&lt;br&gt;#refresh_pattern&nbsp;^gopher:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1440&lt;br&gt;#refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&lt;br&gt;#refresh_pattern&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4320&lt;/div&gt;&lt;/div&gt;<br>

</tt>
