<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;br&gt;<br>
On&nbsp;8/8/19&nbsp;3:29&nbsp;PM,&nbsp;Tom&nbsp;Karches&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;in&nbsp;the&nbsp;process&nbsp;of&nbsp;upgrading&nbsp;our&nbsp;Squid&nbsp;proxy&nbsp;server&nbsp;from&nbsp;3.1&nbsp;(on&lt;br&gt;<br>
&gt;&nbsp;RHEL6)&nbsp;to&nbsp;3.3&nbsp;(on&nbsp;RHEL7).&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;could&nbsp;have&nbsp;been&nbsp;worse!&nbsp;For&nbsp;example,&nbsp;you&nbsp;could&nbsp;ask&nbsp;a&nbsp;question&nbsp;about&lt;br&gt;<br>
upgrading&nbsp;Squid&nbsp;from&nbsp;v1.0&nbsp;to&nbsp;v2.0...&nbsp;I&nbsp;will&nbsp;try&nbsp;to&nbsp;help,&nbsp;but&nbsp;I&nbsp;do&nbsp;not&lt;br&gt;<br>
remember&nbsp;much&nbsp;about&nbsp;v3.3&nbsp;specifics.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;realize&nbsp;that&nbsp;it&#39;s&nbsp;a&nbsp;bit&nbsp;old.&nbsp;It&nbsp;is&nbsp;the&nbsp;default&nbsp;for&nbsp;RHEL&nbsp;7&nbsp;and&nbsp;unless&nbsp;there&nbsp;is&nbsp;a&nbsp;specific&nbsp;reason&nbsp;to&nbsp;update&nbsp;to&nbsp;the&nbsp;latest&nbsp;version,&nbsp;I&nbsp;usually&nbsp;stick&nbsp;with&nbsp;the&nbsp;default.&nbsp;The&nbsp;current&nbsp;proxy&nbsp;is&nbsp;3.1&nbsp;and&nbsp;totally&nbsp;works&nbsp;for&nbsp;our&nbsp;application.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
No,&nbsp;simply&nbsp;logging&nbsp;HTTP&nbsp;CONNECT&nbsp;requests&nbsp;does&nbsp;not&nbsp;require&nbsp;bumping&nbsp;SSL.&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Great.&nbsp;Don&#39;t&nbsp;want&nbsp;to&nbsp;go&nbsp;down&nbsp;that&nbsp;path. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
&gt;&nbsp;I&nbsp;used&nbsp;curl&nbsp;to&nbsp;test&nbsp;the&nbsp;new&nbsp;proxy.&nbsp;When&nbsp;I&nbsp;attempt&nbsp;to&nbsp;proxy&nbsp;an&nbsp;external&lt;br&gt;<br>
&gt;&nbsp;https&nbsp;connection,&nbsp;this&nbsp;is&nbsp;the&nbsp;result&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;$&nbsp;curl&nbsp;--proxy&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:3128&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://127.0.0.1:3128&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;https://www.google.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.google.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;curl:&nbsp;(56)&nbsp;Received&nbsp;HTTP&nbsp;code&nbsp;503&nbsp;from&nbsp;proxy&nbsp;after&nbsp;CONNECT&lt;br&gt;<br>
&lt;br&gt;<br>
Your&nbsp;Squid&nbsp;told&nbsp;curl&nbsp;that&nbsp;something&nbsp;went&nbsp;wrong.&nbsp;If&nbsp;you&nbsp;look&nbsp;at&nbsp;the&lt;br&gt;<br>
actual&nbsp;response,&nbsp;you&nbsp;may&nbsp;know&nbsp;what&nbsp;went&nbsp;wrong.&nbsp;The&nbsp;same&nbsp;information&nbsp;may&lt;br&gt;<br>
be&nbsp;available&nbsp;in&nbsp;Squid&nbsp;access.log,&nbsp;but&nbsp;the&nbsp;error&nbsp;response&nbsp;may&nbsp;have&nbsp;more&lt;br&gt;<br>
details&nbsp;than&nbsp;a&nbsp;log&nbsp;record.&nbsp;Please&nbsp;share&nbsp;that&nbsp;info&nbsp;here&nbsp;if&nbsp;it&nbsp;does&nbsp;not&lt;br&gt;<br>
point&nbsp;you&nbsp;to&nbsp;a&nbsp;solution.&lt;br&gt;&lt;br&gt;<br>
&gt;&nbsp;Where&nbsp;should&nbsp;I&nbsp;be&nbsp;looking&nbsp;for&nbsp;the&nbsp;problem?&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;Squid&nbsp;response&nbsp;to&nbsp;curl.&nbsp;You&nbsp;can&nbsp;use&nbsp;curl&nbsp;tracing&nbsp;options&nbsp;or&nbsp;Wireshark&lt;br&gt;<br>
to&nbsp;see&nbsp;it.&nbsp;Squid&nbsp;access.log&nbsp;may&nbsp;have&nbsp;some&nbsp;clues&nbsp;as&nbsp;well.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;With&nbsp;this&nbsp;command&nbsp;:&lt;br&gt;$curl&nbsp;--trace&nbsp;--proxy&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:3128&quot;&gt;http://127.0.0.1:3128&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;https://www.google.com&quot;&gt;https://www.google.com&lt;/a&gt;&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;get&nbsp;the&nbsp;HTML&nbsp;of&nbsp;the&nbsp;page,&nbsp;with&nbsp;this&nbsp;near&nbsp;the&nbsp;top&nbsp;:&lt;br&gt;&lt;title&gt;ERROR:&nbsp;The&nbsp;requested&nbsp;URL&nbsp;could&nbsp;not&nbsp;be&nbsp;retrieved&lt;/title&gt;&lt;br&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;and&nbsp;then&nbsp;:&lt;br&gt;&lt;br&gt;&lt;div&nbsp;id=&quot;content&quot;&gt;&lt;br&gt;&lt;p&gt;The&nbsp;following&nbsp;error&nbsp;was&nbsp;encountered&nbsp;while&nbsp;trying&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;URL:&nbsp;&lt;a&nbsp;href=&quot;/&quot;&gt;/&lt;/a&gt;&lt;/p&gt;&lt;br&gt;&lt;blockquote&nbsp;id=&quot;error&quot;&gt;&lt;br&gt;&lt;p&gt;&lt;b&gt;Invalid&nbsp;URL&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;and&nbsp;no&nbsp;503&nbsp;error&nbsp;at&nbsp;the&nbsp;end.&lt;br&gt;&lt;br&gt;Getting&nbsp;this&nbsp;in&nbsp;access.log&nbsp;:&lt;br&gt;1565358617.666&nbsp; &nbsp; &nbsp; 0&nbsp;127.0.0.1&nbsp;TAG_NONE/400&nbsp;3958&nbsp;GET&nbsp;/&nbsp;-&nbsp;HIER_NONE/-&nbsp;text/html&lt;br&gt;&lt;br&gt;Which&nbsp;seems&nbsp;odd.&nbsp;So&nbsp;the&nbsp;page&nbsp;is&nbsp;being&nbsp;delivered,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;it&nbsp;unless&nbsp;--trace&nbsp;is&nbsp;turned&nbsp;on.&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;use&nbsp;:&nbsp;&lt;br&gt;curl&nbsp;--proxy&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:3128&quot;&gt;http://127.0.0.1:3128&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;https://www.google.com&quot;&gt;https://www.google.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;I&nbsp;get&nbsp;this&nbsp;in&nbsp;access.log&nbsp;:&lt;br&gt;1565358720.756&nbsp; &nbsp; &nbsp; 2&nbsp;127.0.0.1&nbsp;TAG_NONE/503&nbsp;0&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com:443&quot;&gt;www.google.com:443&lt;/a&gt;&nbsp;-&nbsp;HIER_NONE/-&nbsp;-&lt;br&gt;&lt;br&gt;My&nbsp;http_port&nbsp;directive&nbsp;is&nbsp;set&nbsp;as&nbsp;such&nbsp;:&lt;br&gt;&lt;br&gt;#&nbsp;Squid&nbsp;normally&nbsp;listens&nbsp;to&nbsp;port&nbsp;3128&lt;br&gt;http_port&nbsp;3128&lt;br&gt;&lt;br&gt;This&nbsp;is&nbsp;an&nbsp;explicit&nbsp;proxy&nbsp;so&nbsp;everything&nbsp;should&nbsp;be&nbsp;going&nbsp;through&nbsp;3128.&lt;br&gt;&lt;/font&gt;&lt;br&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;&lt;span&nbsp;class=&quot;gmail-s1&quot;&nbsp;style=&quot;font-variant-ligatures:no-common-ligatures&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;I&nbsp;don&#39;t&nbsp;feel&nbsp;so&nbsp;bad&nbsp;about&nbsp;not&nbsp;figuring&nbsp;this&nbsp;out&nbsp;sooner.&nbsp;There&nbsp;was&nbsp;a&nbsp;thread&nbsp;with&nbsp;a&nbsp;similar&nbsp;problem&nbsp;on&nbsp;the&nbsp;list&nbsp;(though&nbsp;it&nbsp;was&nbsp;not&nbsp;helpful)&nbsp;where&nbsp;they&nbsp;were&nbsp;still&nbsp;stuck&nbsp;at&nbsp;this&nbsp;point&nbsp;after&nbsp;a&nbsp;month.&nbsp;I&#39;ve&nbsp;only&nbsp;spent&nbsp;a&nbsp;week.&lt;/p&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;Thanks,&lt;/p&gt;&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:16px;line-height:normal;font-family:Menlo;color:rgb(0,0,0)&quot;&gt;Tom&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;size=&quot;1&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;Thomas&nbsp;Karches&lt;br&gt;NCSU&nbsp;OIT&nbsp;CSI&nbsp;- Systems&nbsp;Specialist&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;1&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;M.E&nbsp;Student&nbsp;-&nbsp;Technology&nbsp;Education&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;1&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;Hillsborough&nbsp;319&nbsp;/&nbsp;919.515.5508&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
