<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpb0755094yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,&nbsp;courier,&nbsp;monaco,&nbsp;monospace,&nbsp;sans-serif;font-size:10px;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;It&nbsp;is&nbsp;known,&nbsp;that&nbsp;RosComNadzor&nbsp;is&nbsp;blocking&nbsp;certain&nbsp;domains/IPs.&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Often&nbsp;it&nbsp;is&nbsp;bloking&nbsp;by&nbsp;rewriting&nbsp;url&nbsp;in&nbsp;place,&nbsp;i.e.,&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;access&nbsp;http(s)://blocked.domain,&nbsp;it&nbsp;changes&nbsp;in&nbsp;the&nbsp;location&nbsp;bar&nbsp;of&nbsp;the&nbsp;browser&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&nbsp;(RosComNadzor's&nbsp;bloking&nbsp;page)&nbsp;in&nbsp;place,&nbsp;i.e.&nbsp;no&nbsp;ability&nbsp;to&nbsp;click&nbsp;the&nbsp;back&nbsp;button&nbsp;to&nbsp;see&nbsp;which&nbsp;url&nbsp;was&nbsp;blocked.&nbsp;RosComNadzor's&nbsp;blocking&nbsp;page&nbsp;has&nbsp;no&nbsp;mention&nbsp;of&nbsp;what&nbsp;url&nbsp;was&nbsp;blocked&nbsp;either.&nbsp;When&nbsp;I&nbsp;try&nbsp;to&nbsp;use&nbsp;Firefox'es&nbsp;or&nbsp;Chrom(e|ium)'s&nbsp;Developer&nbsp;Tools's&nbsp;Network&nbsp;section&nbsp;on&nbsp;blocked&nbsp;page&nbsp;to&nbsp;see,&nbsp;if&nbsp;I&nbsp;can&nbsp;find&nbsp;out&nbsp;what&nbsp;page&nbsp;was&nbsp;blocked&nbsp;by&nbsp;looking&nbsp;at&nbsp;Referer&nbsp;param&nbsp;of&nbsp;the&nbsp;HTTP&nbsp;header,&nbsp;it's&nbsp;already&nbsp;too&nbsp;late,&nbsp;because&nbsp;those&nbsp;Network&nbsp;sections&nbsp;don't&nbsp;show&nbsp;anything,&nbsp;because&nbsp;they&nbsp;were&nbsp;not&nbsp;started&nbsp;in&nbsp;advance,&nbsp;before&nbsp;the&nbsp;page&nbsp;was&nbsp;blocked.&nbsp;I&nbsp;have&nbsp;to&nbsp;reload&nbsp;the&nbsp;page,&nbsp;in&nbsp;order&nbsp;to&nbsp;see&nbsp;something&nbsp;in&nbsp;that&nbsp;networking&nbsp;section,&nbsp;but&nbsp;I&nbsp;would&nbsp;be&nbsp;reloading&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&nbsp;page&nbsp;already,&nbsp;not&nbsp;the&nbsp;required&nbsp;url&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&nbsp;doesn't&nbsp;show&nbsp;any&nbsp;Referer&nbsp;in&nbsp;HTTP&nbsp;header,&nbsp;because,&nbsp;it's&nbsp;reloaded&nbsp;in&nbsp;place,&nbsp;and&nbsp;did&nbsp;not&nbsp;come&nbsp;from&nbsp;some&nbsp;other&nbsp;page.&nbsp;It's&nbsp;frustrating,&nbsp;because,&nbsp;when&nbsp;you&nbsp;have&nbsp;many&nbsp;tabs&nbsp;open,&nbsp;you&nbsp;have&nbsp;no&nbsp;way&nbsp;of&nbsp;knowing,&nbsp;which&nbsp;url's&nbsp;were&nbsp;blocked&nbsp;and&nbsp;no&nbsp;way&nbsp;of&nbsp;recovering&nbsp;the&nbsp;blocked&nbsp;address.&nbsp;squid's&nbsp;access&nbsp;log&nbsp;doesn't&nbsp;help&nbsp;either,&nbsp;because&nbsp;you&nbsp;can't&nbsp;tell&nbsp;for&nbsp;certain,&nbsp;that&nbsp;the&nbsp;log&nbsp;entry,&nbsp;previous&nbsp;to&nbsp;log&nbsp;entry&nbsp;with&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&nbsp;address&nbsp;belongs&nbsp;to&nbsp;the&nbsp;same&nbsp;tab&nbsp;of&nbsp;the&nbsp;browser.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;I've&nbsp;found&nbsp;out,&nbsp;one&nbsp;of&nbsp;the&nbsp;urls,&nbsp;that&nbsp;is&nbsp;being&nbsp;blocked,&nbsp;because&nbsp;it&nbsp;happened&nbsp;in&nbsp;front&nbsp;of&nbsp;my&nbsp;eyes,&nbsp;so&nbsp;I've&nbsp;tested&nbsp;it&nbsp;with:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;$&nbsp;&lt;span&gt;curl&nbsp;-v&nbsp;'http://blocked.domain/'&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;I&nbsp;got&nbsp;the&nbsp;dump:&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;---DUMP&nbsp;START---&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;*&nbsp;&nbsp;&nbsp;Trying&nbsp;127.0.0.1...&lt;br&gt;*&nbsp;Connected&nbsp;to&nbsp;127.0.0.1&nbsp;(127.0.0.1)&nbsp;port&nbsp;3128&nbsp;(#0)&lt;br&gt;&lt;div&gt;&gt;&nbsp;GET&nbsp;http://&lt;span&gt;&lt;span&gt;blocked.domain&lt;/span&gt;&lt;/span&gt;/&nbsp;HTTP/1.1&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Host:&nbsp;&nbsp;&lt;span&gt;&lt;span&gt;blocked.domain&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&gt;&nbsp;User-Agent:&nbsp;curl/7.47.0&lt;br&gt;&gt;&nbsp;Accept:&nbsp;*/*&lt;br&gt;&gt;&nbsp;Proxy-Connection:&nbsp;Keep-Alive&lt;br&gt;&gt;&lt;br&gt;&lt;&nbsp;HTTP/1.1&nbsp;302&nbsp;Found&lt;br&gt;&lt;&nbsp;Date:&nbsp;Wed,&nbsp;11&nbsp;Sep&nbsp;2019&nbsp;08:48:44&nbsp;GMT&lt;br&gt;&lt;&nbsp;Content-Length:&nbsp;205&lt;br&gt;&lt;&nbsp;Location:&nbsp;http://eais.rkn.gov.ru&lt;br&gt;&lt;&nbsp;Content-Type:&nbsp;text/html;&nbsp;charset=UTF-8&lt;br&gt;&lt;&nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;ls02800008008u&lt;br&gt;&lt;&nbsp;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;ls02800008008u:3128&lt;br&gt;&lt;&nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;ws02800008006&lt;br&gt;&lt;&nbsp;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;ws02800008006:3128&lt;br&gt;&lt;&nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;cooldown-nb&lt;br&gt;&lt;&nbsp;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;cooldown-nb:3128&lt;br&gt;&lt;&nbsp;Via:&nbsp;1.1&nbsp;ls02800008008u&nbsp;(squid/3.5.12),&nbsp;1.1&nbsp;ws02800008006&nbsp;(squid/3.5.27),&nbsp;1.1&nbsp;cooldown-nb&nbsp;(squid/3.5.12)&lt;br&gt;&lt;&nbsp;Connection:&nbsp;keep-alive&lt;br&gt;&lt;&lt;br&gt;&lt;HTML&gt;&lt;HEAD&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;charset=utf-8&quot;&gt;&lt;br&gt;&lt;TITLE&gt;302&nbsp;Found&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;br&gt;&lt;H1&gt;302&nbsp;Found&lt;/H1&gt;&lt;br&gt;The&nbsp;document&nbsp;has&nbsp;moved&lt;br&gt;&lt;A&nbsp;HREF=&quot;http://eais.rkn.gov.ru&quot;&gt;here&lt;/A&gt;&lt;br&gt;&lt;div&gt;*&nbsp;Connection&nbsp;#0&nbsp;to&nbsp;host&nbsp;127.0.0.1&nbsp;left&nbsp;intact&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;---DUMP&nbsp;END---&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;So,&nbsp;there&nbsp;is&nbsp;a&nbsp;302&nbsp;redirect,&nbsp;that&nbsp;happens&nbsp;automatically:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;Location:&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;How&nbsp;do&nbsp;I&nbsp;disable&nbsp;302&nbsp;redirect&nbsp;in&nbsp;squid,&nbsp;but&nbsp;only&nbsp;to&nbsp;&lt;span&gt;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&lt;/span&gt;&nbsp;address,&nbsp;so,&nbsp;in&nbsp;browser&nbsp;I&nbsp;see&nbsp;that&nbsp;page&nbsp;is&nbsp;blocked,&nbsp;but&nbsp;at&nbsp;least,&nbsp;I&nbsp;don't&nbsp;loose&nbsp;the&nbsp;information&nbsp;of&nbsp;what&nbsp;page&nbsp;is&nbsp;blocked,&nbsp;because&nbsp;it's&nbsp;not&nbsp;automatically&nbsp;redirected&nbsp;to&nbsp;&lt;span&gt;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eais.rkn.gov.ru&lt;/a&gt;&lt;/span&gt;&nbsp;and&nbsp;the&nbsp;location&nbsp;in&nbsp;the&nbsp;browser&nbsp;showing&nbsp;the&nbsp;original&nbsp;url?&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;After&nbsp;I've&nbsp;wrote&nbsp;my&nbsp;question,&nbsp;I&nbsp;thought,&nbsp;if&nbsp;it's&nbsp;possible&nbsp;to&nbsp;to&nbsp;do&nbsp;it&nbsp;with:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;acl&nbsp;sites_blocking_redirect&nbsp;url_regex&nbsp;&lt;a&nbsp;href=&quot;http://eais.rkn.gov.ru&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;eais\.rkn\.gov\.ru&lt;/a&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;reply_header_access&nbsp;Location&nbsp;deny&nbsp;sites_blocking_redirect&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;Is&nbsp;it&nbsp;a&nbsp;workable&nbsp;or&nbsp;the&nbsp;correct&nbsp;way&nbsp;to&nbsp;do&nbsp;it,&nbsp;so&nbsp;it&nbsp;solves&nbsp;my&nbsp;problem?&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
