<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=Windows-1252&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&lt;!--&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divtagdefaultwrapper&quot;&nbsp;style=&quot;font-size:10pt;color:#000000;font-family:Consolas,Courier,monospace;&quot;&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;p&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
Hello,<br>
&lt;div&gt;With&nbsp;your&nbsp;comments&nbsp;and&nbsp;help&nbsp;I&nbsp;succesfully&nbsp;did&nbsp;the&nbsp;fwmark/routing&nbsp;intercept&nbsp;squid.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;From&nbsp;what&nbsp;i&nbsp;read&nbsp;from&nbsp;the&nbsp;other&nbsp;examples,&nbsp;the&nbsp;only&nbsp;method&nbsp;to&nbsp;use&nbsp;if&nbsp;squid&nbsp;is&nbsp;not&nbsp;on&nbsp;the&nbsp;router&nbsp;is&nbsp;always&nbsp;using&nbsp;routes.&nbsp;Which&nbsp;means&nbsp;my&nbsp;squid&nbsp;MUST&nbsp;always&nbsp;be&nbsp;directly&nbsp;connected&nbsp;to&nbsp;the&nbsp;router.&lt;/div&gt;<br>
&lt;div&gt;Am&nbsp;I&nbsp;wrong&nbsp;?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;only&nbsp;way&nbsp;that&nbsp;seems&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;work&nbsp;if&nbsp;not&nbsp;directly&nbsp;connected&nbsp;is&nbsp;the&nbsp;wccp&nbsp;one&nbsp;which&nbsp;seems&nbsp;to&nbsp;use&nbsp;gre.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Thanks.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;div&gt;<br>
&lt;hr&nbsp;tabindex=&quot;-1&quot;&nbsp;style=&quot;display:inline-block;&nbsp;width:98%&quot;&gt;<br>
&lt;div&nbsp;id=&quot;x_divRplyFwdMsg&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:11pt&quot;&gt;&lt;b&gt;De&nbsp;:&lt;/b&gt;&nbsp;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;de&nbsp;la&nbsp;part&nbsp;de&nbsp;Rafael&nbsp;Akchurin&nbsp;&lt;rafael.akchurin@diladele.com&gt;&lt;br&gt;<br>
&lt;b&gt;Envoyé&nbsp;:&lt;/b&gt;&nbsp;vendredi&nbsp;1&nbsp;novembre&nbsp;2019&nbsp;07:35&lt;br&gt;<br>
&lt;b&gt;À&nbsp;:&lt;/b&gt;&nbsp;Amos&nbsp;Jeffries;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;b&gt;Objet&nbsp;:&lt;/b&gt;&nbsp;Re:&nbsp;[squid-users]&nbsp;Unsuccessful&nbsp;at&nbsp;using&nbsp;Squid&nbsp;v4&nbsp;with&nbsp;intercept&lt;/font&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;PlainText&quot;&gt;Hello&nbsp;Sebastian,&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;decide&nbsp;to&nbsp;go&nbsp;policy&nbsp;routing&nbsp;way&nbsp;as&nbsp;Amos&nbsp;suggested&nbsp;-&nbsp;please&nbsp;see&nbsp;the&nbsp;tutorial&nbsp;at<br>
&lt;a&nbsp;href=&quot;https://docs.diladele.com/tutorials/policy_based_routing_squid/index.html&quot;&nbsp;id=&quot;LPlnk743478&quot;&nbsp;previewremoved=&quot;true&quot;&gt;<br>
https://docs.diladele.com/tutorials/policy_based_routing_squid/index.html&lt;/a&gt;<br>
&lt;div&nbsp;id=&quot;LPBorder_GT_15728719436950.3025755557019896&quot;&nbsp;style=&quot;margin-bottom:&nbsp;20px;&nbsp;overflow:&nbsp;auto;&nbsp;width:&nbsp;100%;&nbsp;text-indent:&nbsp;0px;&quot;&gt;<br>
&lt;table&nbsp;id=&quot;LPContainer_15728719436930.5912611238606813&quot;&nbsp;role=&quot;presentation&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;style=&quot;width:&nbsp;90%;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;position:&nbsp;relative;&nbsp;overflow:&nbsp;auto;&nbsp;padding-top:&nbsp;20px;&nbsp;padding-bottom:&nbsp;20px;&nbsp;margin-top:&nbsp;20px;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;rgb(200,&nbsp;200,&nbsp;200);&nbsp;border-bottom:&nbsp;1px&nbsp;dotted&nbsp;rgb(200,&nbsp;200,&nbsp;200);&quot;&gt;<br>
&lt;tbody&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;border-spacing:&nbsp;0px;&quot;&gt;<br>
&lt;td&nbsp;id=&quot;TextCell_15728719436940.35358502710064466&quot;&nbsp;colspan=&quot;2&quot;&nbsp;style=&quot;vertical-align:&nbsp;top;&nbsp;position:&nbsp;relative;&nbsp;padding:&nbsp;0px;&nbsp;display:&nbsp;table-cell;&quot;&gt;<br>
&lt;div&nbsp;id=&quot;LPRemovePreviewContainer_15728719436940.24906324693178883&quot;&gt;&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPTitle_15728719436940.6461439015158936&quot;&nbsp;style=&quot;top:&nbsp;0px;&nbsp;color:&nbsp;rgb(36,&nbsp;96,&nbsp;118);&nbsp;font-weight:&nbsp;400;&nbsp;font-size:&nbsp;21px;&nbsp;font-family:&nbsp;wf_segoe-ui_light,&nbsp;&quot;Segoe&nbsp;UI&nbsp;Light&quot;,&nbsp;&quot;Segoe&nbsp;WP&nbsp;Light&quot;,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;line-height:&nbsp;21px;&quot;&gt;<br>
&lt;a&nbsp;id=&quot;LPUrlAnchor_15728719436940.5260029242773925&quot;&nbsp;href=&quot;https://docs.diladele.com/tutorials/policy_based_routing_squid/index.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;text-decoration:&nbsp;none;&quot;&gt;Transparently&nbsp;filtering&nbsp;HTTPS&nbsp;with&nbsp;Squid&nbsp;and&nbsp;Policy&nbsp;Based&nbsp;Routing&nbsp;—&nbsp;Web&nbsp;Filter<br>
&nbsp;for&nbsp;Your&nbsp;Network&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPMetadata_15728719436940.9128842104461881&quot;&nbsp;style=&quot;margin:&nbsp;10px&nbsp;0px&nbsp;16px;&nbsp;color:&nbsp;rgb(102,&nbsp;102,&nbsp;102);&nbsp;font-weight:&nbsp;400;&nbsp;font-family:&nbsp;wf_segoe-ui_normal,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&nbsp;line-height:&nbsp;14px;&quot;&gt;<br>
docs.diladele.com&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPDescription_15728719436940.1206152969870431&quot;&nbsp;style=&quot;display:&nbsp;block;&nbsp;color:&nbsp;rgb(102,&nbsp;102,&nbsp;102);&nbsp;font-weight:&nbsp;400;&nbsp;font-family:&nbsp;wf_segoe-ui_normal,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&nbsp;line-height:&nbsp;20px;&nbsp;max-height:&nbsp;100px;&nbsp;overflow:&nbsp;hidden;&quot;&gt;<br>
Detailed&nbsp;tutorial&nbsp;for&nbsp;setting&nbsp;up&nbsp;policy&nbsp;based&nbsp;routing&nbsp;intercept-style&nbsp;HTTPS&nbsp;filtering&nbsp;on&nbsp;Ubuntu&nbsp;16&nbsp;using&nbsp;Squid,&nbsp;iptables&nbsp;and&nbsp;Web&nbsp;Safety.&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/tbody&gt;<br>
&lt;/table&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Or&nbsp;&lt;a&nbsp;href=&quot;https://docs.diladele.com/tutorials/web_filter_https_squid_cisco_wccp/index.html&quot;&nbsp;id=&quot;LPlnk883667&quot;&nbsp;previewremoved=&quot;true&quot;&gt;<br>
https://docs.diladele.com/tutorials/web_filter_https_squid_cisco_wccp/index.html&lt;/a&gt;&nbsp;for&nbsp;WCCP.<br>
&lt;div&nbsp;id=&quot;LPBorder_GT_15728719437000.9769966180856129&quot;&nbsp;style=&quot;margin-bottom:&nbsp;20px;&nbsp;overflow:&nbsp;auto;&nbsp;width:&nbsp;100%;&nbsp;text-indent:&nbsp;0px;&quot;&gt;<br>
&lt;table&nbsp;id=&quot;LPContainer_15728719436990.18265920753738873&quot;&nbsp;role=&quot;presentation&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;style=&quot;width:&nbsp;90%;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;position:&nbsp;relative;&nbsp;overflow:&nbsp;auto;&nbsp;padding-top:&nbsp;20px;&nbsp;padding-bottom:&nbsp;20px;&nbsp;margin-top:&nbsp;20px;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;rgb(200,&nbsp;200,&nbsp;200);&nbsp;border-bottom:&nbsp;1px&nbsp;dotted&nbsp;rgb(200,&nbsp;200,&nbsp;200);&quot;&gt;<br>
&lt;tbody&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;border-spacing:&nbsp;0px;&quot;&gt;<br>
&lt;td&nbsp;id=&quot;TextCell_15728719437000.07660274960536184&quot;&nbsp;colspan=&quot;2&quot;&nbsp;style=&quot;vertical-align:&nbsp;top;&nbsp;position:&nbsp;relative;&nbsp;padding:&nbsp;0px;&nbsp;display:&nbsp;table-cell;&quot;&gt;<br>
&lt;div&nbsp;id=&quot;LPRemovePreviewContainer_15728719437000.5126653604109761&quot;&gt;&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPTitle_15728719437000.8928560559584966&quot;&nbsp;style=&quot;top:&nbsp;0px;&nbsp;color:&nbsp;rgb(36,&nbsp;96,&nbsp;118);&nbsp;font-weight:&nbsp;400;&nbsp;font-size:&nbsp;21px;&nbsp;font-family:&nbsp;wf_segoe-ui_light,&nbsp;&quot;Segoe&nbsp;UI&nbsp;Light&quot;,&nbsp;&quot;Segoe&nbsp;WP&nbsp;Light&quot;,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;line-height:&nbsp;21px;&quot;&gt;<br>
&lt;a&nbsp;id=&quot;LPUrlAnchor_15728719437000.12795952308437775&quot;&nbsp;href=&quot;https://docs.diladele.com/tutorials/web_filter_https_squid_cisco_wccp/index.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;text-decoration:&nbsp;none;&quot;&gt;Transparent&nbsp;HTTPS&nbsp;Web&nbsp;Filter&nbsp;with&nbsp;Squid,&nbsp;Cisco&nbsp;ASA&nbsp;and&nbsp;ICAP&nbsp;—&nbsp;Web&nbsp;Filter<br>
&nbsp;for&nbsp;Your&nbsp;Network&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPMetadata_15728719437000.7357786260697359&quot;&nbsp;style=&quot;margin:&nbsp;10px&nbsp;0px&nbsp;16px;&nbsp;color:&nbsp;rgb(102,&nbsp;102,&nbsp;102);&nbsp;font-weight:&nbsp;400;&nbsp;font-family:&nbsp;wf_segoe-ui_normal,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&nbsp;line-height:&nbsp;14px;&quot;&gt;<br>
docs.diladele.com&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;LPDescription_15728719437000.8876168130093225&quot;&nbsp;style=&quot;display:&nbsp;block;&nbsp;color:&nbsp;rgb(102,&nbsp;102,&nbsp;102);&nbsp;font-weight:&nbsp;400;&nbsp;font-family:&nbsp;wf_segoe-ui_normal,&nbsp;&quot;Segoe&nbsp;UI&quot;,&nbsp;&quot;Segoe&nbsp;WP&quot;,&nbsp;Tahoma,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&nbsp;line-height:&nbsp;20px;&nbsp;max-height:&nbsp;100px;&nbsp;overflow:&nbsp;hidden;&quot;&gt;<br>
Step-by-step&nbsp;tutorial&nbsp;for&nbsp;enabling&nbsp;transparent&nbsp;HTTP&nbsp;and&nbsp;HTTPS&nbsp;filtering&nbsp;with&nbsp;Squid,&nbsp;Cisco&nbsp;ASA&nbsp;and&nbsp;Diladele&nbsp;Web&nbsp;Safety.&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/tbody&gt;<br>
&lt;/table&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
Rafael&nbsp;Akchurin&lt;br&gt;<br>
Diladele&nbsp;B.V.&lt;br&gt;<br>
&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Amos&nbsp;Jeffries&lt;br&gt;<br>
Sent:&nbsp;Friday,&nbsp;1&nbsp;November&nbsp;2019&nbsp;07:02&lt;br&gt;<br>
To:&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Unsuccessful&nbsp;at&nbsp;using&nbsp;Squid&nbsp;v4&nbsp;with&nbsp;intercept&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;1/11/19&nbsp;5:53&nbsp;am,&nbsp;FOUTREL&nbsp;Sébastien&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;----------------------------------------------------------------------&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;*De&nbsp;:*&nbsp;Antony&nbsp;Stone&lt;br&gt;<br>
&gt;&nbsp;*Envoyé&nbsp;:*&nbsp;mercredi&nbsp;30&nbsp;octobre&nbsp;2019&nbsp;17:39&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Wednesday&nbsp;30&nbsp;October&nbsp;2019&nbsp;at&nbsp;17:11:29,&nbsp;FOUTREL&nbsp;Sébastien&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hello,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;squid&nbsp;as&nbsp;a&nbsp;transparent&nbsp;proxy&nbsp;for&nbsp;my&nbsp;users.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;&quot;Clients&quot;&nbsp;are&nbsp;behind&nbsp;a&nbsp;Debian&nbsp;&quot;Router&quot;&nbsp;which&nbsp;MASQUERADE&nbsp;them&nbsp;(as&nbsp;they&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;use&nbsp;RFC&nbsp;1918&nbsp;ips).&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;Squid&nbsp;4.6&nbsp;from&nbsp;Debian&nbsp;Buster&nbsp;packages&nbsp;installed&nbsp;on&nbsp;a&nbsp;&quot;Proxy&quot;&lt;br&gt;<br>
&gt;&gt;&nbsp;server&nbsp;which&nbsp;is&nbsp;outside&nbsp;my&nbsp;network.&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;read&nbsp;a&nbsp;lot&nbsp;of&nbsp;tutorials&nbsp;and&nbsp;examples&nbsp;from&nbsp;squid&nbsp;site...&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Did&nbsp;that&nbsp;include&nbsp;the&nbsp;links&nbsp;I've&nbsp;given&nbsp;below?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Yes&nbsp;I&nbsp;read&nbsp;almost&nbsp;all&nbsp;examples&nbsp;config&nbsp;from&nbsp;wiki.squid-cache.org&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/InterceptionProxy&quot;&nbsp;id=&quot;LPlnk731854&quot;&nbsp;previewremoved=&quot;true&quot;&gt;https://wiki.squid-cache.org/SquidFaq/InterceptionProxy&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/InterceptionProxy&quot;&nbsp;id=&quot;LPlnk560150&quot;&nbsp;previewremoved=&quot;true&quot;&gt;https://wiki.squid-cache.org/SquidFaq/InterceptionProxy&lt;/a&gt;&gt;And&nbsp;I&nbsp;was<br>
&lt;br&gt;<br>
&gt;&nbsp;mislead&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;DNAT&nbsp;config&nbsp;and&nbsp;a&nbsp;REDIRECT&nbsp;config..&lt;br&gt;<br>
&gt;&nbsp;DNAT&nbsp;is&nbsp;completely&nbsp;useless&nbsp;if&nbsp;Squid&nbsp;only&nbsp;support&nbsp;to&nbsp;be&nbsp;on&nbsp;the&nbsp;router.&lt;br&gt;<br>
&gt;&nbsp;Wasn't&nbsp;it&nbsp;possible&nbsp;to&nbsp;dnat&nbsp;to&nbsp;a&nbsp;different&nbsp;server&nbsp;with&nbsp;older&nbsp;versions&nbsp;&lt;br&gt;<br>
&gt;&nbsp;(my&nbsp;memory&nbsp;is&nbsp;faulty)&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://tldp.org/HOWTO/TransparentProxy-6.html&quot;&nbsp;id=&quot;LPlnk127024&quot;&nbsp;previewremoved=&quot;true&quot;&gt;<br>
http://tldp.org/HOWTO/TransparentProxy-6.html&lt;/a&gt;&nbsp;for&nbsp;example.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Squid-2&nbsp;used&nbsp;to&nbsp;ignore&nbsp;all&nbsp;NAT&nbsp;errors&nbsp;and&nbsp;just&nbsp;go&nbsp;where&nbsp;the&nbsp;client&nbsp;HTTP&nbsp;headers&nbsp;were&nbsp;claiming&nbsp;to&nbsp;be&nbsp;going.&nbsp;This&nbsp;proved&nbsp;to&nbsp;be&nbsp;a&nbsp;major&nbsp;security&nbsp;vulnerability&nbsp;with&nbsp;a&nbsp;pile&nbsp;of&nbsp;nasty&nbsp;related&nbsp;issues&nbsp;and&nbsp;side&nbsp;effects.&lt;br&gt;<br>
CVE-2009-0801&nbsp;for&nbsp;reference.&lt;br&gt;<br>
&lt;br&gt;<br>
DNAT&nbsp;is&nbsp;a&nbsp;tiny&nbsp;amount&nbsp;faster&nbsp;and&nbsp;less&nbsp;CPU&nbsp;cycles&nbsp;on&nbsp;the&nbsp;kernel&nbsp;NAT&nbsp;side&nbsp;of&nbsp;interception,&nbsp;and&nbsp;can&nbsp;be&nbsp;used&nbsp;in&nbsp;config&nbsp;tricks&nbsp;to&nbsp;get&nbsp;more&nbsp;than&nbsp;64K&nbsp;entries&nbsp;in&nbsp;the&nbsp;NAT&nbsp;tables.&nbsp;So&nbsp;it&nbsp;is&nbsp;kept&nbsp;around&nbsp;for&nbsp;extremely&nbsp;high-traffic&nbsp;proxies.&lt;br&gt;<br>
&lt;br&gt;<br>
REDIRECT&nbsp;is&nbsp;better&nbsp;for&nbsp;zero-conf&nbsp;installations&nbsp;or&nbsp;ones&nbsp;with&nbsp;a&nbsp;dynamic&nbsp;IP&nbsp;address&nbsp;on&nbsp;the&nbsp;proxy&nbsp;machine&nbsp;(eg&nbsp;IPv6&nbsp;auto-conf&nbsp;and&nbsp;privacy&nbsp;addressing).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;read&nbsp;the&nbsp;&quot;fw&nbsp;mark&nbsp;and&nbsp;route&nbsp;policy&quot;&nbsp;method&nbsp;as&nbsp;an&nbsp;alternative&nbsp;not&nbsp;the&nbsp;&lt;br&gt;<br>
&gt;&nbsp;only&nbsp;way&nbsp;to&nbsp;go.&nbsp;My&nbsp;mistake.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Easily&nbsp;made&nbsp;if&nbsp;you&nbsp;are&nbsp;reading&nbsp;*every*&nbsp;example&nbsp;config.&nbsp;Policy&nbsp;Routing&nbsp;_is_&nbsp;an&nbsp;alternative&nbsp;...&nbsp;to&nbsp;WCCP.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;are&nbsp;so&nbsp;many&nbsp;different&nbsp;types&nbsp;of&nbsp;routers&nbsp;with&nbsp;different&nbsp;config&nbsp;requirements,&nbsp;and&nbsp;also&nbsp;numerous&nbsp;NAT&nbsp;systems.&nbsp;Our&nbsp;formal&nbsp;Intercept&nbsp;examples&nbsp;are&nbsp;laid&nbsp;out&nbsp;as&nbsp;separate&nbsp;router&nbsp;config&nbsp;example&nbsp;and&nbsp;NAT&nbsp;config&nbsp;example.&nbsp;Pick&nbsp;one&nbsp;from&nbsp;each&nbsp;category&nbsp;as&nbsp;appropriate&nbsp;to<br>
&nbsp;the&nbsp;software&nbsp;your&nbsp;network&nbsp;uses&nbsp;for&nbsp;each&nbsp;machine.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;id=&quot;LPlnk815112&quot;&nbsp;previewremoved=&quot;true&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;id=&quot;LPlnk987793&quot;&nbsp;previewremoved=&quot;true&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
