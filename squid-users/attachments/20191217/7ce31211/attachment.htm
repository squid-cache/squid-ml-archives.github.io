<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;Hi&nbsp;All&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;use Squid&nbsp;4.8&nbsp;with&nbsp;OpenSSL&nbsp;1.1.1d&nbsp;in&nbsp;a&nbsp;transparent&nbsp;mode&nbsp;for&nbsp;peek&nbsp;and&nbsp;splice&nbsp;interception.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;With&nbsp;this&nbsp;version,&nbsp;we&nbsp;lost&nbsp;the possibility to&nbsp;connect&nbsp;to&nbsp;any&nbsp;HTTPS&nbsp;site.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;are&nbsp;a&nbsp;few&nbsp;issues: &lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;support&nbsp;TLSv1.2&nbsp;sites&nbsp;(already&nbsp;discussed&nbsp;in&nbsp;thread &lt;a&nbsp;href=&quot;http://squid-web-proxy-cache.1019090.n4.nabble.com/Problem-with-ssl-choose-client-version-inappropriate-fallback-on-some-sites-when-using-TLS1-2-td4688258.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://squid-web-proxy-cache.1019090.n4.nabble.com/Problem-with-ssl-choose-client-version-inappropriate-fallback-on-some-sites-when-using-TLS1-2-td4688258.html&lt;/a&gt; )&lt;/li&gt;&lt;li&gt;support&nbsp;TLSv1.3&nbsp;sites.&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Support&nbsp;TLSv1.2.&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;OpenSSL&nbsp;1.1.1d&nbsp;adds&nbsp;support&nbsp;of&nbsp;TLSv1.3.&nbsp;These&nbsp;changes&nbsp;added&nbsp;some&nbsp;kind&nbsp;of&nbsp;guard&nbsp;if&nbsp;we&nbsp;perform&nbsp;a&nbsp;handshake&nbsp;with&nbsp;a&nbsp;lower&nbsp;version&nbsp;of&nbsp;the&nbsp;TLS&nbsp;protocol&nbsp;than&nbsp;we&nbsp;support.&nbsp;In&nbsp;this&nbsp;scenario,&nbsp;we&nbsp;receive&nbsp;downgrade&nbsp;fallback error.&lt;/div&gt;&lt;div&gt;Handshake&nbsp;version&nbsp;TLSv1.2&nbsp;vs.&nbsp;max&nbsp;support&nbsp;TLSv1.3.&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;In&nbsp;such&nbsp;case,&nbsp;we&nbsp;have&nbsp;the&nbsp;next&nbsp;error:&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;ERROR:&nbsp;negotiating&nbsp;TLS&nbsp;on&nbsp;FD&nbsp;19:&nbsp;error:1425F175:SSL&nbsp;routines:ssl_choose_client_version:inappropriate&nbsp;fallback&nbsp;(1/-1/0)&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif&quot;&gt;OpenSSL&nbsp;already &lt;/span&gt;provided&lt;span&nbsp;style=&quot;font-family:arial,sans-serif&quot;&gt; a&nbsp;fix&nbsp;for&nbsp;it.&nbsp;You&nbsp;can&nbsp;configure&nbsp;SSL&nbsp;session&nbsp;to&nbsp;use&nbsp;option &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;color:rgb(0,0,0)&quot;&gt;SSL_MODE_SEND_FALLBACK_SCSV&nbsp;and&nbsp;setting&nbsp;SSL&nbsp;max&nbsp;proto&nbsp;version&nbsp;for&nbsp;current&nbsp;SSL&nbsp;session,&nbsp;but&nbsp;squid&nbsp;not&nbsp;yet&nbsp;supported&nbsp;these&nbsp;features.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;find&nbsp;a&nbsp;patch&nbsp;in&nbsp;the&nbsp;attachments,&nbsp;will&nbsp;be&nbsp;grateful&nbsp;for&nbsp;the&nbsp;review.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;issue&nbsp;with&nbsp;TLS&nbsp;1.3&nbsp;support,&nbsp;we&nbsp;are&nbsp;still&nbsp;investigating,&nbsp;any&nbsp;advice&nbsp;will&nbsp;be&nbsp;pleasant.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards,&lt;/div&gt;&lt;div&gt;Yaroslav&nbsp;Pushko.&lt;/div&gt;&lt;div&gt;&lt;div&gt;-- &lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;Best&nbsp;Regards,&lt;br&gt;&lt;span&nbsp;style=&quot;vertical-align:baseline;font-variant:normal;font-style:normal;font-size:12px;background-color:transparent;text-decoration:none;font-family:Arial;font-weight:bold&quot;&gt;Yaroslav&nbsp;Pushko&nbsp;|&nbsp;Senior &lt;/span&gt;&lt;/font&gt;&lt;b&nbsp;style=&quot;font-family:arial,helvetica,sans-serif;font-size:12.8px&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt;font-family:Arial,sans-serif;color:rgb(51,51,51)&quot;&gt;Software&nbsp;Engineer&lt;/span&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;vertical-align:baseline;font-variant:normal;font-style:normal;font-size:12px;background-color:transparent;text-decoration:none;font-family:Arial;font-weight:normal&quot;&gt;GlobalLogic&lt;/span&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;vertical-align:baseline;font-variant:normal;font-style:normal;font-size:12px;background-color:transparent;text-decoration:none;font-family:Arial;font-weight:normal&quot;&gt;P&nbsp;+380971842774&nbsp; M&nbsp;+380634232226&nbsp;S dithard&lt;/span&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.globallogic.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline&quot;&gt;www.globallogic.com&lt;/span&gt;&lt;/a&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-size:11px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline&quot;&gt;&lt;a&nbsp;href=&quot;http://www.globallogic.com/email_disclaimer.txt&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.globallogic.com/email_disclaimer.txt&lt;/a&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
