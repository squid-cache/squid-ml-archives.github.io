<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
Yes,&nbsp;that's&nbsp;what&nbsp;i&nbsp;did.&nbsp;As&nbsp;I&nbsp;explained&nbsp;before,&nbsp;i&nbsp;provided&nbsp;to&nbsp;squid&nbsp;a&nbsp;pem&nbsp;file&nbsp;containing:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;sever&nbsp;key&lt;/li&gt;&lt;li&gt;server&nbsp;cert&lt;/li&gt;&lt;li&gt;intermediate&nbsp;cert&lt;/li&gt;&lt;/ul&gt;<br>
&lt;div&gt;with&nbsp;in&nbsp;squid.conf:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;https_port&nbsp;8443&nbsp;tls-cert=path/to/my/wildcard.pem&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;did&nbsp;not&nbsp;try&nbsp;to&nbsp;add&nbsp;root&nbsp;cert&nbsp;as&nbsp;i'm&nbsp;aware&nbsp;it's&nbsp;not&nbsp;necessary&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I've&nbsp;spent&nbsp;so&nbsp;many&nbsp;hours&nbsp;on&nbsp;something&nbsp;that&nbsp;should&nbsp;work&nbsp;quickly..&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;appendonsend&quot;&gt;&lt;/div&gt;<br>
&lt;hr&nbsp;style=&quot;display:inline-block;width:98%&quot;&nbsp;tabindex=&quot;-1&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divRplyFwdMsg&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;style=&quot;font-size:11pt&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;b&gt;De&nbsp;:&lt;/b&gt;&nbsp;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;de&nbsp;la&nbsp;part&nbsp;de&nbsp;Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas&nbsp;&lt;uhlar@fantomas.sk&gt;&lt;br&gt;<br>
&lt;b&gt;Envoyé&nbsp;:&lt;/b&gt;&nbsp;jeudi&nbsp;28&nbsp;mai&nbsp;2020&nbsp;10:12&lt;br&gt;<br>
&lt;b&gt;À&nbsp;:&lt;/b&gt;&nbsp;squid-users@lists.squid-cache.org&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;<br>
&lt;b&gt;Objet&nbsp;:&lt;/b&gt;&nbsp;Re:&nbsp;[squid-users]&nbsp;HTTPS_PORT&nbsp;AND&nbsp;SSL&nbsp;CERT&lt;/font&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;BodyFragment&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11pt;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;PlainText&quot;&gt;On&nbsp;28.05.20&nbsp;06:32,&nbsp;Julien&nbsp;&nbsp;TEHERY&nbsp;wrote:&lt;br&gt;<br>
&gt;I&nbsp;retried&nbsp;everything&nbsp;possible&nbsp;in&nbsp;terms&nbsp;of&nbsp;order&nbsp;in&nbsp;the&nbsp;pem&nbsp;file.&nbsp;&nbsp;from&nbsp;my&lt;br&gt;<br>
&gt;workstation,&nbsp;if&nbsp;i&nbsp;do&nbsp;&quot;openssl&nbsp;s_client&nbsp;-showcerts&nbsp;-connect&lt;br&gt;<br>
&gt;mysquid.mycompany.com:8443&quot;&nbsp;i&nbsp;only&nbsp;get&nbsp;one&nbsp;certificate/issuer,&nbsp;but&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;command&nbsp;on&nbsp;same&nbsp;server&nbsp;but&nbsp;different&nbsp;port&nbsp;(apache&nbsp;listenning&nbsp;on&nbsp;443),&nbsp;i&lt;br&gt;<br>
&gt;correctly&nbsp;get&nbsp;2&nbsp;certificates/issuers:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;I&nbsp;precise&nbsp;my&nbsp;https&nbsp;configuration&nbsp;isn't&nbsp;for&nbsp;ssl_bump&nbsp;purpose&nbsp;but&nbsp;only&nbsp;to&nbsp;provide&nbsp;secure&nbsp;access&nbsp;to&nbsp;the&nbsp;http&nbsp;proxy&nbsp;through&nbsp;the&nbsp;WAN&nbsp;with&nbsp;a&nbsp;valid&nbsp;certificate.&lt;br&gt;<br>
&gt;Do&nbsp;you&nbsp;some&nbsp;of&nbsp;you&nbsp;use&nbsp;complete&nbsp;certificates&nbsp;(including&nbsp;intermediate)&nbsp;with&nbsp;squid?&nbsp;If&nbsp;yes&nbsp;please&nbsp;tell&nbsp;me&nbsp;how&nbsp;you&nbsp;made&nbsp;it&nbsp;work.&lt;br&gt;<br>
&gt;I&nbsp;do&nbsp;have&nbsp;the&nbsp;latest&nbsp;stable&nbsp;squid&nbsp;version&nbsp;built&nbsp;with&nbsp;openssl&nbsp;support.&lt;br&gt;<br>
&lt;br&gt;<br>
you&nbsp;apparnetly&nbsp;need&nbsp;ptovide&nbsp;concatenated&nbsp;list&nbsp;of&nbsp;your&nbsp;squid&nbsp;certificate&nbsp;and&lt;br&gt;<br>
intermediate&nbsp;certificate&nbsp;that&nbsp;signed&nbsp;your&nbsp;squid&nbsp;certificate.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;don't&nbsp;need&nbsp;to&nbsp;provide&nbsp;the&nbsp;root&nbsp;certificate&nbsp;that&nbsp;signed&nbsp;intermediate&lt;br&gt;<br>
certificate,&nbsp;since&nbsp;browsers&nbsp;&nbsp;to&nbsp;have&nbsp;that&nbsp;certificate&nbsp;installed&lt;br&gt;<br>
(otherwise&nbsp;they&nbsp;wouldn't&nbsp;trust&nbsp;the&nbsp;certificate&nbsp;at&nbsp;all).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas,&nbsp;uhlar@fantomas.sk&nbsp;;&nbsp;&lt;a&nbsp;href=&quot;http://www.fantomas.sk/&quot;&gt;http://www.fantomas.sk/&lt;/a&gt;&lt;br&gt;<br>
Warning:&nbsp;I&nbsp;wish&nbsp;NOT&nbsp;to&nbsp;receive&nbsp;e-mail&nbsp;advertising&nbsp;to&nbsp;this&nbsp;address.&lt;br&gt;<br>
Varovanie:&nbsp;na&nbsp;tuto&nbsp;adresu&nbsp;chcem&nbsp;NEDOSTAVAT&nbsp;akukolvek&nbsp;reklamnu&nbsp;postu.&lt;br&gt;<br>
-&nbsp;Have&nbsp;you&nbsp;got&nbsp;anything&nbsp;without&nbsp;Spam&nbsp;in&nbsp;it?&lt;br&gt;<br>
-&nbsp;Well,&nbsp;there's&nbsp;Spam&nbsp;egg&nbsp;sausage&nbsp;and&nbsp;Spam,&nbsp;that's&nbsp;not&nbsp;got&nbsp;much&nbsp;Spam&nbsp;in&nbsp;it.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
