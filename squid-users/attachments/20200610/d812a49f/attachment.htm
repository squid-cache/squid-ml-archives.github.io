<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Alex,&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;responding&nbsp;to&nbsp;my&nbsp;issue &nbsp;.&nbsp;I&nbsp;didn&#39;t&nbsp;get&nbsp;how&nbsp;the&nbsp;math&nbsp;was&nbsp;done(why&nbsp;it&#39;s&nbsp;multiplied&nbsp;by&nbsp;2)&nbsp;to&nbsp;get&nbsp;16&nbsp;slots&nbsp;if&nbsp;possible&nbsp;could&nbsp;you&nbsp;please&nbsp;elaborate&nbsp;with&nbsp;an&nbsp;example.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards&lt;/div&gt;&lt;div&gt;Premchand&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Wed,&nbsp;Jun&nbsp;10,&nbsp;2020&nbsp;at&nbsp;7:12&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;6/10/20&nbsp;6:09&nbsp;AM,&nbsp;Prem&nbsp;Chand&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;My&nbsp;squid&nbsp;cache&nbsp;peer&nbsp;has&nbsp;3&nbsp;parent&nbsp;IP’s&nbsp;configured.&nbsp;I&nbsp;need&nbsp;to&nbsp;send&nbsp;HTTPS&lt;br&gt;<br>
&gt;&nbsp;requests&nbsp;to&nbsp;the&nbsp;first&nbsp;parent&nbsp;IP&nbsp;for&nbsp;30&nbsp;minutes&nbsp;and&nbsp;after&nbsp;to&nbsp;the&nbsp;2nd&lt;br&gt;<br>
&gt;&nbsp;parent&nbsp;IP&nbsp;for&nbsp;30&nbsp;minutes&nbsp;and&nbsp;then&nbsp;to&nbsp;3rd&nbsp;IP&nbsp;for&nbsp;30&nbsp;minutes&nbsp;and&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;switching&nbsp;needs&nbsp;to&nbsp;happen&nbsp;continuously&nbsp;.Could&nbsp;you&nbsp;please&nbsp;let&nbsp;us&nbsp;know&nbsp;how&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;can&nbsp;achieve&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;are&nbsp;OK&nbsp;with&nbsp;hard-coded&nbsp;usage&nbsp;time&nbsp;slots&nbsp;for&nbsp;each&nbsp;peer,&nbsp;then&nbsp;I&lt;br&gt;<br>
would&nbsp;use&nbsp;two[1]&nbsp;&quot;time&quot;&nbsp;ACLs&nbsp;and&nbsp;cache_peer_access&nbsp;rules.&nbsp;Look&nbsp;for&lt;br&gt;<br>
&quot;aclname&nbsp;time&quot;&nbsp;in&nbsp;squid.conf.documented.&nbsp;You&nbsp;will&nbsp;have&nbsp;to&nbsp;generate&nbsp;a&lt;br&gt;<br>
list&nbsp;of&nbsp;(24*2/3=16)&nbsp;staggered&nbsp;time&nbsp;slots&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;two&nbsp;ACLs,&nbsp;but&lt;br&gt;<br>
it&nbsp;should&nbsp;work.&nbsp;This&nbsp;may&nbsp;be&nbsp;the&nbsp;simplest&nbsp;solution.&lt;br&gt;<br>
&lt;br&gt;<br>
[1]&nbsp;You&nbsp;need&nbsp;two&nbsp;ACLs&nbsp;for&nbsp;three&nbsp;peers&nbsp;because&nbsp;the&nbsp;third&nbsp;peer&nbsp;should&nbsp;get&lt;br&gt;<br>
the&nbsp;requests&nbsp;that&nbsp;the&nbsp;first&nbsp;two&nbsp;peers&nbsp;were&nbsp;not&nbsp;allowed&nbsp;to&nbsp;get.&lt;br&gt;<br>
&lt;br&gt;<br>
----&lt;br&gt;<br>
&lt;br&gt;<br>
With&nbsp;a&nbsp;modern&nbsp;Squid,&nbsp;you&nbsp;could&nbsp;also&nbsp;implement&nbsp;this&nbsp;using&nbsp;a&nbsp;more&nbsp;flexible&lt;br&gt;<br>
(and&nbsp;more&nbsp;expensive,&nbsp;on&nbsp;several&nbsp;layers!)&nbsp;architecture&nbsp;with&nbsp;two&nbsp;ACLs:&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;An&nbsp;external&nbsp;ACL&nbsp;that&nbsp;returns&nbsp;the&nbsp;right&nbsp;cache&nbsp;peer&nbsp;name&nbsp;to&nbsp;use&nbsp;via&nbsp;a&lt;br&gt;<br>
keyword=value&nbsp;annotation&nbsp;API.&nbsp;This&nbsp;always-matching&nbsp;ACL&nbsp;should&nbsp;be&lt;br&gt;<br>
attached&nbsp;to&nbsp;http_access&nbsp;or&nbsp;a&nbsp;similar&nbsp;directive&nbsp;that&nbsp;supports&nbsp;slow&nbsp;ACLs.&lt;br&gt;<br>
Its&nbsp;goal&nbsp;is&nbsp;to&nbsp;annotate&nbsp;the&nbsp;request.&nbsp;You&nbsp;will&nbsp;need&nbsp;to&nbsp;write&nbsp;a&lt;br&gt;<br>
script/program&nbsp;that&nbsp;will&nbsp;compute&nbsp;the&nbsp;right&nbsp;annotations&nbsp;based&nbsp;on&nbsp;time&nbsp;or&lt;br&gt;<br>
some&nbsp;other&nbsp;factors.&nbsp;This&nbsp;is&nbsp;where&nbsp;the&nbsp;flexibility&nbsp;of&nbsp;this&nbsp;solution&nbsp;is&lt;br&gt;<br>
coming&nbsp;from.&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;A&nbsp;&quot;note&quot;&nbsp;ACL&nbsp;attached&nbsp;to&nbsp;cache_peer_access&nbsp;directives,&nbsp;allowing&lt;br&gt;<br>
access&nbsp;to&nbsp;peer&nbsp;X&nbsp;if&nbsp;the&nbsp;external&nbsp;ACL&nbsp;in&nbsp;item&nbsp;1&nbsp;returned&lt;br&gt;<br>
use_cache_peer_=X.&nbsp;The&nbsp;&quot;note&quot;&nbsp;ACL&nbsp;is&nbsp;a&nbsp;fast&nbsp;ACL&nbsp;and,&nbsp;hence,&nbsp;can&nbsp;be&lt;br&gt;<br>
reliably&nbsp;used&nbsp;with&nbsp;cache_peer_access.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;already&nbsp;have&nbsp;another&nbsp;external&nbsp;ACL,&nbsp;you&nbsp;may&nbsp;be&nbsp;able&nbsp;to&nbsp;piggyback&lt;br&gt;<br>
annotations&nbsp;in&nbsp;item&nbsp;1&nbsp;to&nbsp;whatever&nbsp;that&nbsp;ACL&nbsp;is&nbsp;already&nbsp;doing.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;more&nbsp;information,&nbsp;search&nbsp;for&nbsp;&quot;keyword=value&quot;&nbsp;and&nbsp;&quot;acl&nbsp;aclname&nbsp;note&quot;&lt;br&gt;<br>
in&nbsp;your&nbsp;squid.conf.documented&nbsp;and&nbsp;see&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/Features/AddonHelpers#Access_Control_.28ACL.29&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/Features/AddonHelpers#Access_Control_.28ACL.29&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;prem&lt;/div&gt;<br>

</tt>
