<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;<br>
Hi,&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;I’ve&nbsp;never&nbsp;used<br>
Squid&nbsp;until&nbsp;last&nbsp;week.&nbsp;&nbsp;Squid&nbsp;4.11&nbsp;has&nbsp;been&nbsp;set&nbsp;as&nbsp;a&nbsp;proxy&nbsp;server&nbsp;for<br>
my&nbsp;mtk&nbsp;demo&nbsp;board&nbsp;connecting&nbsp;to&nbsp;the&nbsp;internet.&nbsp;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;<br>
<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;Recently,&nbsp;when&nbsp;I<br>
tried&nbsp;to&nbsp;run&nbsp;CTS&nbsp;on&nbsp;a&nbsp;demo&nbsp;board,&nbsp;few&nbsp;network&nbsp;test&nbsp;cases&nbsp;failed.&nbsp;After<br>
tcpdumping&nbsp;and&nbsp;investigating&nbsp;with&nbsp;wireshark,&nbsp;it&nbsp;seems&nbsp;that&nbsp;the<br>
following&nbsp;happens&nbsp;,&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;1.&nbsp;demo&nbsp;board<br>
performs&nbsp;a&nbsp;&#39;GET&#39;&nbsp;in&nbsp;HTTP&nbsp;1.0&nbsp;to&nbsp;the&nbsp;proxy&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;2.&nbsp;the&nbsp;proxy&nbsp;then<br>
performs&nbsp;this&nbsp;GET&nbsp;to&nbsp;the&nbsp;server,&nbsp;but&nbsp;now&nbsp;it&#39;s&nbsp;in&nbsp;HTTP&nbsp;1.1&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;3.&nbsp;the&nbsp;server<br>
replies&nbsp;in&nbsp;HTTP&nbsp;1.1&nbsp;to&nbsp;proxy&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;4.&nbsp;the&nbsp;proxy&nbsp;replies<br>
in&nbsp;HTTP&nbsp;1.1&nbsp;to&nbsp;the&nbsp;demo&nbsp;board&nbsp;which&nbsp;&lt;b&gt;expects&nbsp;response&nbsp;in&nbsp;HTTP&nbsp;1.0&lt;/b&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;At&nbsp;first&nbsp;I&nbsp;was<br>
thinking&nbsp;I&nbsp;chose&nbsp;the&nbsp;wrong&nbsp;server&nbsp;which&nbsp;doesn’t&nbsp;support&nbsp;HTTP&nbsp;1.0.<br>
So&nbsp;I&nbsp;used&nbsp;my&nbsp;laptop&nbsp;to&nbsp;send&nbsp;exactly&nbsp;the&nbsp;same&nbsp;&#39;GET&#39;&nbsp;to&nbsp;this&nbsp;server.&nbsp;It<br>
replied&nbsp;in&nbsp;HTTP&nbsp;1.0.&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;<br>
<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;Now&nbsp;the&nbsp;problem&nbsp;is,<br>
when&nbsp;my&nbsp;squid&nbsp;proxy&nbsp;communicating&nbsp;to&nbsp;server&nbsp;,&nbsp;it&nbsp;cannot&nbsp;use&nbsp;the&nbsp;same&nbsp;HTTP<br>
protocol&nbsp;version&nbsp;as&nbsp;it&nbsp;communicating&nbsp;to &nbsp;client.&nbsp;Why?&nbsp;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;<br>
<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;I&nbsp;tried&nbsp;to&nbsp;find<br>
similar&nbsp;problems&nbsp;in&nbsp;the&nbsp;forum.&nbsp;But&nbsp;all&nbsp;I&nbsp;found&nbsp;were&nbsp;more&nbsp;than&nbsp;ten<br>
years&nbsp;ago.&nbsp;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;I&nbsp;suppose&nbsp;I&nbsp;must<br>
miss&nbsp;something&nbsp;in&nbsp;configuration&nbsp;of&nbsp;squid.&nbsp;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;Please&nbsp;help,&nbsp;thanks<br>
in&nbsp;advance.&nbsp;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0in;line-height:100%;background:transparent&nbsp;none&nbsp;repeat&nbsp;scroll&nbsp;0%&nbsp;0%&quot;&gt;best&nbsp;regards&nbsp;&lt;br&gt;<br>
Frank<br>
Law&lt;/p&gt;&lt;/div&gt;<br>

</tt>
