<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;size=&quot;+1&quot;&gt;Thank&nbsp;Amos. &nbsp;Ironically&nbsp;I&nbsp;just&nbsp;found&nbsp;that&nbsp;out&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testing&nbsp;and&nbsp;then&nbsp;a&nbsp;search&nbsp;pointing&nbsp;me&nbsp;here:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://wiki.squid-cache.org/Features/HTTPS&quot;&gt;https://wiki.squid-cache.org/Features/HTTPS&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sadly,&nbsp;I&nbsp;should&nbsp;have&nbsp;thought&nbsp;of&nbsp;that. &nbsp;Been&nbsp;a&nbsp;long&nbsp;day&nbsp;I&nbsp;guess.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;again!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--David&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;On&nbsp;7/22/20&nbsp;8:58&nbsp;PM,&nbsp;Amos&nbsp;Jeffries<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:df3abb61-ec02-d17c-ca9a-280575815eb7@treenet.co.nz&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;On&nbsp;23/07/20&nbsp;3:27&nbsp;pm,&nbsp;David&nbsp;A.&nbsp;Gershman&nbsp;wrote:<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hello&nbsp;again,<br>
<br>
After&nbsp;further&nbsp;testing,&nbsp;the&nbsp;looks&nbsp;like&nbsp;the&nbsp;only&nbsp;thing&nbsp;being&nbsp;regex'd<br>
against&nbsp;is&nbsp;the&nbsp;domain&nbsp;name. &nbsp;I&nbsp;shrunk&nbsp;the&nbsp;RE&nbsp;down&nbsp;to&nbsp;just:<br>
<br>
   &nbsp;acl&nbsp;user_allowed&nbsp;url_regex&nbsp;http &nbsp;#&nbsp;nothing&nbsp;more,&nbsp;just&nbsp;'http'<br>
<br>
and&nbsp;it&nbsp;/*still*/&nbsp;failed!!! &nbsp;It's&nbsp;as&nbsp;if&nbsp;the&nbsp;&quot;whole&nbsp;url&quot;&nbsp;(claimed&nbsp;by&nbsp;the<br>
docs)&nbsp;is&nbsp;/not/&nbsp;being&nbsp;compared&nbsp;against. &nbsp;I'm&nbsp;just&nbsp;posting&nbsp;this&nbsp;here&nbsp;as&nbsp;an<br>
FYI...no&nbsp;solution&nbsp;has&nbsp;been&nbsp;found.&nbsp;:(<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Squid&nbsp;uses&nbsp;basic&nbsp;regex&nbsp;without&nbsp;extensions&nbsp;-&nbsp;the&nbsp;basic&nbsp;operators&nbsp;that<br>
work&nbsp;in&nbsp;both&nbsp;GNU&nbsp;regex&nbsp;and&nbsp;POSIX&nbsp;regex&nbsp;can&nbsp;be&nbsp;expected&nbsp;to&nbsp;work.<br>
<br>
Your&nbsp;mistake&nbsp;is&nbsp;thinking&nbsp;that&nbsp;URL&nbsp;always&nbsp;looks&nbsp;like&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;https://example.com/&quot;&gt;&quot;https://example.com/&quot;&lt;/a&gt;.<br>
<br>
For&nbsp;HTTPS&nbsp;traffic&nbsp;going&nbsp;through&nbsp;an&nbsp;HTTP&nbsp;proxy&nbsp;the&nbsp;URL&nbsp;is&nbsp;in<br>
authority-form&nbsp;which&nbsp;looks&nbsp;like&nbsp;&quot;example.com:443&quot;.<br>
&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;https://tools.ietf.org/html/rfc7230#section-5.3.3&quot;&gt;&lt;https://tools.ietf.org/html/rfc7230#section-5.3.3&gt;&lt;/a&gt;<br>
<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
On&nbsp;7/22/20&nbsp;7:22&nbsp;PM,&nbsp;David&nbsp;A.&nbsp;Gershman&nbsp;wrote:<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hello,<br>
<br>
I&nbsp;have&nbsp;the&nbsp;following&nbsp;in&nbsp;my&nbsp;config&nbsp;file:<br>
<br>
   &nbsp;acl&nbsp;user_allowed&nbsp;url_regex&nbsp;^&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://example\.com/&quot;&gt;https://example\.com/&lt;/a&gt;<br>
<br>
but&nbsp;surfing&nbsp;to&nbsp;that&nbsp;site&nbsp;fails&nbsp;(authentication&nbsp;works&nbsp;fine). &nbsp;My<br>
ultimate&nbsp;goal&nbsp;is&nbsp;to&nbsp;have&nbsp;an&nbsp;RE&nbsp;comparable&nbsp;to&nbsp;the&nbsp;PCRE&nbsp;of:<br>
<br>
   &nbsp;^https?:\/\/.*?example\.com\/<br>
<br>
While&nbsp;the&nbsp;PCRE&nbsp;works&nbsp;just&nbsp;fine&nbsp;in&nbsp;other&nbsp;tools&nbsp;(my&nbsp;own&nbsp;scripts,&nbsp;online,<br>
etc.),&nbsp;I&nbsp;was&nbsp;unable&nbsp;to&nbsp;get&nbsp;it&nbsp;to&nbsp;work&nbsp;within&nbsp;Squid3. &nbsp;As&nbsp;I&nbsp;stripped<br>
away&nbsp;pieces&nbsp;of&nbsp;the&nbsp;RE&nbsp;in&nbsp;the&nbsp;config&nbsp;file,&nbsp;the&nbsp;only&nbsp;RE&nbsp;which&nbsp;seemed&nbsp;to<br>
work&nbsp;was:<br>
<br>
   &nbsp;example\.com<br>
<br>
...not&nbsp;even&nbsp;having&nbsp;the&nbsp;ending&nbsp;'/'. &nbsp;However,&nbsp;this&nbsp;obviously&nbsp;does&nbsp;not<br>
meet&nbsp;my&nbsp;needs.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
To&nbsp;get&nbsp;to&nbsp;the&nbsp;scheme&nbsp;and&nbsp;path&nbsp;information&nbsp;for&nbsp;HTTPS&nbsp;traffic&nbsp;you&nbsp;need<br>
SSL-Bump&nbsp;functionality&nbsp;built&nbsp;into&nbsp;the&nbsp;proxy&nbsp;and&nbsp;configured&nbsp;to&nbsp;decrypt<br>
the&nbsp;TLS&nbsp;traffic&nbsp;layer.<br>
<br>
OpenSSL&nbsp;license&nbsp;currently&nbsp;(soon&nbsp;to&nbsp;change,&nbsp;yay!)&nbsp;does&nbsp;not&nbsp;permit&nbsp;Debian<br>
to&nbsp;distribute&nbsp;a&nbsp;Squid&nbsp;binary&nbsp;package&nbsp;with&nbsp;that&nbsp;feature&nbsp;enabled&nbsp;so&nbsp;you<br>
will&nbsp;have&nbsp;to&nbsp;rebuild&nbsp;the&nbsp;squid&nbsp;package&nbsp;yourself&nbsp;with&nbsp;relevant&nbsp;additions<br>
or&nbsp;install&nbsp;a&nbsp;package&nbsp;from&nbsp;an&nbsp;independent&nbsp;repository.<br>
<br>
<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;I'm&nbsp;on&nbsp;Debian&nbsp;10&nbsp;and&nbsp;am&nbsp;unable&nbsp;to&nbsp;determine&nbsp;which&nbsp;RE&nbsp;library&nbsp;Debian<br>
compiled&nbsp;Squid3&nbsp;against&nbsp;(I've&nbsp;got&nbsp;a&nbsp;Tweet&nbsp;out&nbsp;to&nbsp;them&nbsp;to&nbsp;see&nbsp;if&nbsp;they<br>
can&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;right&nbsp;direction).<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Squid3&nbsp;has&nbsp;been&nbsp;removed&nbsp;from&nbsp;Debian&nbsp;long&nbsp;ago.&nbsp;You&nbsp;should&nbsp;be&nbsp;using<br>
&quot;squid&quot;&nbsp;package&nbsp;these&nbsp;days&nbsp;which&nbsp;is&nbsp;Squid-4&nbsp;on&nbsp;all&nbsp;current&nbsp;Debian.<br>
<br>
<br>
HTH<br>
Amos<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
