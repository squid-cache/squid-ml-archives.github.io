<tt>
&lt;div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Amos,&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;It&nbsp;was&nbsp;very&nbsp;helpful.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&gt;&nbsp;That&nbsp;number&nbsp;was&nbsp;gained&nbsp;before&nbsp;HTTPS&nbsp;became&nbsp;so&nbsp;popular.&nbsp;So&nbsp;YMMV&nbsp;depending&lt;br&gt;&gt;&nbsp;on&nbsp;how&nbsp;many&nbsp;CONNECT&nbsp;tunnels&nbsp;you&nbsp;have&nbsp;to&nbsp;deal&nbsp;with.&nbsp;That&nbsp;HTTPS&nbsp;traffic can&nbsp;possibly&nbsp;be&nbsp;decrypted &lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&gt;&nbsp;and&nbsp;cached&nbsp;but&nbsp;performance&nbsp;trade-offs&nbsp;are quite&nbsp;large.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Squid&nbsp;uses&nbsp;SSL-Bump.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&#39;m&nbsp;very&nbsp;worried&nbsp;about&nbsp;the&nbsp;internet&nbsp;slowing&nbsp;down&nbsp;due&nbsp;to&nbsp;https&nbsp;decording.&nbsp;and&nbsp;I&#39;m&nbsp;also&nbsp;worried&nbsp;about&nbsp;the&nbsp;internet&nbsp;slowing&nbsp;down&nbsp;due&nbsp;to&nbsp;using&nbsp;Blacklist.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&nbsp;load&nbsp;tens&nbsp;of&nbsp;thousands&nbsp;of&nbsp;URL(black&nbsp;list&nbsp;file)&nbsp;every&nbsp;time&nbsp;I&nbsp;set&nbsp;up&nbsp;ACL.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;How&nbsp;many&nbsp;requests&nbsp;does&nbsp;SSL-Bump&nbsp;in&nbsp;one&nbsp;second?&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Thank&nbsp;you,&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;kitamura&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;2020年8月5日(水)&nbsp;10:32&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid3@treenet.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;squid3@treenet.co.nz&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;5/08/20&nbsp;11:28&nbsp;am,&nbsp;m&nbsp;k&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;We&nbsp;are&nbsp;considering&nbsp;to&nbsp;use&nbsp;Squid&nbsp;for&nbsp;our&nbsp;proxy,&nbsp;and would&nbsp;like&nbsp;to&nbsp;know&lt;br&gt;<br>
&gt;&gt;&nbsp;performance&nbsp;sizing&nbsp;aspects.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Current&nbsp;web&nbsp;access&nbsp;request&nbsp;averages&nbsp;per&nbsp;1&nbsp;hour&nbsp;are&nbsp;as&nbsp;followings &lt;br&gt;<br>
&gt;&gt;&nbsp;Clients：30,000、&lt;br&gt;<br>
&gt;&gt;&nbsp;Page&nbsp;Views:141,741/hour&lt;br&gt;<br>
&gt;&gt;&nbsp;*Requests:4,893,106&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Okay.&nbsp;Requests&nbsp;and&nbsp;client&nbsp;count&nbsp;are&nbsp;the&nbsp;important&nbsp;numbers&nbsp;there.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;~1359&nbsp;req/sec&nbsp;is&nbsp;well&nbsp;within&nbsp;a&nbsp;default&nbsp;Squid&nbsp;capabilities,&nbsp;which&nbsp;can&lt;br&gt;<br>
extend&nbsp;up&nbsp;to&nbsp;around&nbsp;10k&nbsp;req/sec&nbsp;before&nbsp;needing&nbsp;careful&nbsp;tuning.&lt;br&gt;<br>
&lt;br&gt;That&nbsp;number&nbsp;was&nbsp;gained&nbsp;before&nbsp;HTTPS&nbsp;became&nbsp;so&nbsp;popular.&nbsp;So&nbsp;YMMV&nbsp;depending&lt;br&gt;on&nbsp;how&nbsp;many&nbsp;CONNECT&nbsp;tunnels&nbsp;you&nbsp;have&nbsp;to&nbsp;deal&nbsp;with.&nbsp;That&nbsp;HTTPS&nbsp;traffic&lt;br&gt;can&nbsp;possibly&nbsp;be&nbsp;decrypted&nbsp;and&nbsp;cached&nbsp;but&nbsp;performance&nbsp;trade-offs&nbsp;are&lt;br&gt;quite&nbsp;large.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;We&nbsp;will&nbsp;install&nbsp;Squid&nbsp;on&nbsp;CentOS&nbsp;8.1. &nbsp; Please&nbsp;kindly&nbsp;share&nbsp;your&lt;br&gt;<br>
&gt;&gt;&nbsp;thoughts&nbsp;/&nbsp;advices&lt;br&gt;<br>
&lt;br&gt;<br>
Whatever&nbsp;OS&nbsp;you&nbsp;are&nbsp;most&nbsp;comfortable&nbsp;with&nbsp;administering.&nbsp;Be&nbsp;aware&nbsp;that&lt;br&gt;<br>
CentOS&nbsp;official&nbsp;Squid&nbsp;packages&nbsp;are&nbsp;very&nbsp;slow&nbsp;to&nbsp;update&nbsp;-&nbsp;Apparently&nbsp;they&lt;br&gt;<br>
still&nbsp;have&nbsp;only&nbsp;v4.4&nbsp;(8&nbsp;months&nbsp;old)&nbsp;despite&nbsp;a&nbsp;8.2&nbsp;point&nbsp;release&nbsp;only&nbsp;a&lt;br&gt;<br>
few&nbsp;weeks&nbsp;ago.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;you&nbsp;may&nbsp;need&nbsp;to&nbsp;be&nbsp;building&nbsp;your&nbsp;own&nbsp;from&nbsp;sources&nbsp;and/or&nbsp;using&nbsp;other&lt;br&gt;<br>
semi-official&nbsp;packagers&nbsp;such&nbsp;as&nbsp;the&nbsp;ones&nbsp;from&nbsp;Eliezer&nbsp;at&nbsp;NGTech&nbsp;when&nbsp;he&lt;br&gt;<br>
gets&nbsp;around&nbsp;to&nbsp;CentOS&nbsp;8&nbsp;packages.&lt;br&gt;<br>
 &nbsp;&lt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/KnowledgeBase/CentOS&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/KnowledgeBase/CentOS&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
FYI;&nbsp;If&nbsp;you&nbsp;find&nbsp;yourself&nbsp;having&nbsp;to&nbsp;use&nbsp;SSL-Bump,&nbsp;then&nbsp;we&nbsp;highly&lt;br&gt;<br>
recommended&nbsp;to&nbsp;follow&nbsp;the&nbsp;latest&nbsp;Squid&nbsp;releases&nbsp;with&nbsp;fairly&nbsp;frequent&lt;br&gt;<br>
updates&nbsp;(at&nbsp;minimum&nbsp;a&nbsp;few&nbsp;times&nbsp;per&nbsp;year&nbsp;-&nbsp;worst&nbsp;case&nbsp;monthly).&nbsp;If&nbsp;you&lt;br&gt;<br>
like&nbsp;CentOS&nbsp;you&nbsp;may&nbsp;find&nbsp;Fedora&nbsp;more&nbsp;suitable&nbsp;to&nbsp;track&nbsp;the&nbsp;security&lt;br&gt;<br>
environment&nbsp;volatility&nbsp;and&nbsp;update&nbsp;churn.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&gt;&nbsp;Is&nbsp;there&nbsp;sizing&nbsp;methodology&nbsp;and&nbsp;tools?&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;are&nbsp;a&nbsp;couple&nbsp;of&nbsp;methodologies,&nbsp;depending&nbsp;on&nbsp;what&nbsp;aspect&nbsp;you&nbsp;are&lt;br&gt;<br>
tuning&nbsp;towards&nbsp;-&nbsp;and&nbsp;one&nbsp;for&nbsp;identifying&nbsp;the&nbsp;limitation&nbsp;points&nbsp;to&nbsp;begin&lt;br&gt;<br>
a&nbsp;tuning&nbsp;process&nbsp;tuning.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;info&nbsp;you&nbsp;gave&nbsp;above&nbsp;is&nbsp;the&nbsp;beginning.&nbsp;Checking&nbsp;to&nbsp;see&nbsp;if&nbsp;your&lt;br&gt;<br>
traffic&nbsp;rate&nbsp;is&nbsp;reasonably&nbsp;within&nbsp;capability&nbsp;of&nbsp;a&nbsp;single&nbsp;Squid&nbsp;instance.&lt;br&gt;<br>
&lt;br&gt;<br>
Yours&nbsp;is&nbsp;reasonable,&nbsp;so&nbsp;next&nbsp;step&nbsp;is&nbsp;to&nbsp;get&nbsp;Squid&nbsp;running&nbsp;and&nbsp;see&nbsp;where&lt;br&gt;<br>
the&nbsp;trouble&nbsp;points&nbsp;(if&nbsp;any)&nbsp;are.&lt;br&gt;<br>
&lt;br&gt;<br>
 For&nbsp;more&nbsp;see&nbsp;&lt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/&lt;/a&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&gt;&nbsp;How&nbsp;much&nbsp;resources&nbsp;are&nbsp;generally&nbsp;recommended&nbsp;for&nbsp;our&nbsp;environment?&lt;br&gt;<br>
&gt;&gt;　&nbsp;CPU:　&nbsp;Memory:　&nbsp;Disk&nbsp;space&nbsp;:&nbsp;Other&nbsp;factors&nbsp;to&nbsp;be&nbsp;considered&nbsp;if&nbsp;any:&lt;br&gt;<br>
&gt;&gt;&nbsp;Do&nbsp;you&nbsp;have&nbsp;a&nbsp;generally&nbsp;recommended&nbsp;performance&nbsp;testing&nbsp;tools?&nbsp;Any&lt;br&gt;<br>
&gt;&gt;&nbsp;suggested&nbsp;guidelines?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 CPU&nbsp;-&nbsp;squid&nbsp;is&nbsp;still&nbsp;mostly&nbsp;single-process.&nbsp;So&nbsp;prioritize&nbsp;faster&nbsp;GHz&lt;br&gt;<br>
rates&nbsp;over&nbsp;core&nbsp;number.&nbsp;Multi-core&nbsp;can&nbsp;help&nbsp;of&nbsp;course,&nbsp;but&nbsp;not&nbsp;as&nbsp;much&lt;br&gt;<br>
as&nbsp;cycle&nbsp;speeds&nbsp;do.&nbsp;Hyper-threading&nbsp;is&nbsp;useless&nbsp;for&nbsp;Squid.&lt;br&gt;<br>
&lt;br&gt;<br>
 Memory&nbsp;-&nbsp;Squid&nbsp;will&nbsp;use&nbsp;as&nbsp;much&nbsp;as&nbsp;you&nbsp;can&nbsp;give&nbsp;it.&nbsp;Let&nbsp;your&nbsp;budget&lt;br&gt;<br>
govern&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
 Disk&nbsp;-&nbsp;Squid&nbsp;will&nbsp;happily&nbsp;run&nbsp;with&nbsp;no&nbsp;disk&nbsp;-&nbsp;or&nbsp;lots&nbsp;of&nbsp;large&nbsp;ones.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; -&nbsp;Avoid&nbsp;RAID.&nbsp;Squid&nbsp;*will*&nbsp;shorten&nbsp;disk&nbsp;lifetimes&nbsp;with&nbsp;its&nbsp;unusually&lt;br&gt;<br>
high&nbsp;write&nbsp;I/O&nbsp;pattern.&nbsp;How&nbsp;much&nbsp;shorter&nbsp;varies&nbsp;by&nbsp;disk&nbsp;type&nbsp;(HDD&nbsp;vs&lt;br&gt;<br>
SSD).&nbsp;So&nbsp;you&nbsp;may&nbsp;find&nbsp;it&nbsp;better&nbsp;to&nbsp;plan&nbsp;budget&nbsp;towards&nbsp;maintenance&nbsp;costs&lt;br&gt;<br>
of&nbsp;replacing&nbsp;disks&nbsp;in&nbsp;future&nbsp;rather&nbsp;than&nbsp;buying&nbsp;multiple&nbsp;up-front&nbsp;for&lt;br&gt;<br>
RAID&nbsp;use.&lt;br&gt;<br>
 see&nbsp;&lt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/RAID&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/RAID&lt;/a&gt;&gt;&nbsp;for&nbsp;details.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;-&nbsp;Up&nbsp;to&nbsp;a&nbsp;few&nbsp;hundred&nbsp;GB&nbsp;per&nbsp;cache_dir&nbsp;can&nbsp;be&nbsp;good&nbsp;for&nbsp;large&nbsp;caches.&lt;br&gt;<br>
Going&nbsp;up&nbsp;to&nbsp;TB&nbsp;is&nbsp;not&nbsp;(yet)&nbsp;worth&nbsp;the&nbsp;disk&nbsp;cost&nbsp;as&nbsp;Squid&nbsp;has&nbsp;a&nbsp;per-cache&lt;br&gt;<br>
limit&nbsp;on&nbsp;stored&nbsp;objects.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; -&nbsp;Disk&nbsp;caches&nbsp;can&nbsp;be&nbsp;re-tuned,&nbsp;added,&nbsp;moved,&nbsp;removed,&nbsp;and/or&nbsp;extended&lt;br&gt;<br>
at&nbsp;any&nbsp;time&nbsp;and&nbsp;will&nbsp;depend&nbsp;on&nbsp;the&nbsp;profile&nbsp;of&nbsp;object&nbsp;sizes&nbsp;your&nbsp;proxy&lt;br&gt;<br>
handles&nbsp;-&nbsp;which&nbsp;itself&nbsp;likely&nbsp;changes&nbsp;over&nbsp;time.&nbsp;So&nbsp;general&nbsp;let&nbsp;your&lt;br&gt;<br>
budget&nbsp;decide&nbsp;the&nbsp;initial&nbsp;disks&nbsp;and&nbsp;work&nbsp;from&nbsp;there.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Load&nbsp;Testing&nbsp;-&nbsp;the&nbsp;tools&nbsp;us&nbsp;dev&nbsp;use&nbsp;to&nbsp;review&nbsp;performance&nbsp;are&nbsp;listed&nbsp;at&lt;br&gt;<br>
the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;profiling&nbsp;FAQ&nbsp;page.&nbsp;These&nbsp;are&nbsp;best&nbsp;for&nbsp;testing&nbsp;the&lt;br&gt;<br>
theoretical&nbsp;limits&nbsp;of&nbsp;a&nbsp;particular&nbsp;installation&nbsp;-&nbsp;real&nbsp;traffic&nbsp;tends&nbsp;to&lt;br&gt;<br>
be&nbsp;somewhat&nbsp;lower.&nbsp;So&nbsp;I&nbsp;personally&nbsp;prefer&nbsp;taking&nbsp;stats&nbsp;from&nbsp;the&nbsp;running&lt;br&gt;<br>
proxy&nbsp;on&nbsp;real&nbsp;traffic&nbsp;and&nbsp;seeing&nbsp;what&nbsp;I&nbsp;can&nbsp;observe&nbsp;from&nbsp;those.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
