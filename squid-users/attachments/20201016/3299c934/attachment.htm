<tt>
&lt;div&gt;&lt;div&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;hi&nbsp;all,&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;Good&nbsp;news.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;I&nbsp;was&nbsp;able&nbsp;to&nbsp;solve&nbsp;the&nbsp;problem&nbsp;yesterday.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;I&nbsp;created&nbsp;a&nbsp;key&nbsp;tab&nbsp;for&nbsp;haproxy&nbsp;and&nbsp;added&nbsp;the&nbsp;following&nbsp;options&nbsp;to&nbsp;negotiate_kerberos_auth&nbsp;in&nbsp;squid.conf.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;-s&nbsp;GSS_C_NO_NAME&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;(squid.conf)&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/lib64/squid/negotiate_kerberos_auth&nbsp;-k&nbsp;/etc/krb5.keytab&nbsp;-s&nbsp;HTTP/&lt;a&nbsp;href=&quot;mailto:c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&lt;/a&gt; -s&nbsp;GSS_C_NO_NAME&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;Kerberos&nbsp;authentication&nbsp;is&nbsp;also&nbsp;possible&nbsp;on&nbsp;the&nbsp;load&nbsp;balancer&nbsp;backend&nbsp;server.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;Thank&nbsp;you,&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&nbsp;style=&quot;border-color:rgb(0,0,0)&quot;&gt;kitamura&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;2020年10月12日(月)&nbsp;20:31&nbsp;m&nbsp;k&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:tamurin0525@gmail.com&quot;&gt;tamurin0525@gmail.com&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;hello,&lt;br&gt;&lt;br&gt;Switching&nbsp;from&nbsp;NTLM&nbsp;certification&nbsp;to&nbsp;Kerberos&nbsp;certification.&lt;br&gt;Sure&nbsp;enough,&nbsp;I&#39;m&nbsp;in&nbsp;trouble.&lt;br&gt;&lt;br&gt;Kerberos&nbsp;authentication&nbsp;doesn&#39;t&nbsp;work.&lt;br&gt;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;mistake&nbsp;in&nbsp;the&nbsp;settings.&lt;br&gt;&lt;br&gt;&lt;br&gt;SPN&nbsp;creation&lt;br&gt;WINTEST(Active&nbsp;Directory)&lt;br&gt;ktpass.exe&nbsp;/princ&nbsp;HTTP/&lt;a&nbsp;href=&quot;mailto:c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&lt;/a&gt;&nbsp;/mapuser&nbsp;&lt;a&nbsp;href=&quot;mailto:S139821admin@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;S139821admin@WINTEST.EXAMPLE.CO.JP&lt;/a&gt;&nbsp;/crypto&nbsp;AES256-SHA1&nbsp;/ptype&nbsp;KRB5_NT_PRINCIPAL&nbsp;/pass&nbsp;20201002&nbsp;/out&nbsp;C:\squid.keytab&lt;br&gt;&lt;br&gt;&lt;br&gt;PTR&nbsp;record&nbsp;setting&lt;br&gt;#&nbsp;nslookup&nbsp;10.217.192.22&lt;br&gt;22.192.217.10.in-addr.arpa&nbsp; &nbsp; &nbsp; name&nbsp;=&nbsp;&lt;a&nbsp;href=&quot;http://c0528004l.wintest.example.co.jp&quot;&nbsp;target=&quot;_blank&quot;&gt;c0528004l.wintest.example.co.jp&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;br&gt;#&nbsp;klist&lt;br&gt;Ticket&nbsp;cache:&nbsp;KCM:1001&lt;br&gt;Default&nbsp;principal:&nbsp;&lt;a&nbsp;href=&quot;mailto:lx17070028admin@WIN.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;lx17070028admin@WIN.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt;&lt;br&gt;Valid&nbsp;starting&nbsp; &nbsp; &nbsp; &nbsp;Expires&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Service&nbsp;principal&lt;br&gt;10/12/2020&nbsp;16:05:10&nbsp; 10/13/2020&nbsp;02:04:04&nbsp; ldap/&lt;a&nbsp;href=&quot;mailto:a9413001l.win.example.co.jp@WIN.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;a9413001l.win.example.co.jp@WIN.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;renew&nbsp;until&nbsp;10/13/2020&nbsp;02:04:04&lt;br&gt;10/12/2020&nbsp;16:04:04&nbsp; 10/13/2020&nbsp;02:04:04&nbsp; krbtgt/&lt;a&nbsp;href=&quot;mailto:WIN.EXAMPLE.CO.JP@WIN.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;WIN.EXAMPLE.CO.JP@WIN.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;renew&nbsp;until&nbsp;10/13/2020&nbsp;02:04:04&lt;br&gt;10/12/2020&nbsp;16:07:21&nbsp; 10/13/2020&nbsp;02:04:04&nbsp; ldap/&lt;a&nbsp;href=&quot;mailto:a9401002l.win.example.co.jp@WIN.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;a9401002l.win.example.co.jp@WIN.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;renew&nbsp;until&nbsp;10/13/2020&nbsp;02:04:04&lt;br&gt;&lt;br&gt;&lt;br&gt;config&nbsp;setting&lt;br&gt;/etc/squid/squid.conf&lt;br&gt;#&nbsp;Kerberos&nbsp;Auth&lt;br&gt;auth_param&nbsp;negotiate&nbsp;program&nbsp;/usr/lib64/squid/negotiate_kerberos_auth&nbsp;-k&nbsp;/etc/squid/squid.keytab&nbsp;-s&nbsp;HTTP/&lt;a&nbsp;href=&quot;mailto:c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;c0528004l.wintest.example.co.jp@WINTEST.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt;auth_param&nbsp;negotiate&nbsp;children&nbsp;20&lt;br&gt;auth_param&nbsp;negotiate&nbsp;keep_alive&nbsp;on&lt;br&gt;acl&nbsp;kerb-auth&nbsp;proxy_auth&nbsp;REQUIRED&lt;br&gt;http_access&nbsp;allow&nbsp;kerb-auth&lt;br&gt;&lt;br&gt;---&gt;I&nbsp;get&nbsp;a&nbsp;windows&nbsp;security&nbsp;pop-up&nbsp;in&nbsp;IE.&lt;br&gt;&lt;br&gt;&lt;br&gt;error&nbsp;message&lt;br&gt;/var/log/squid/cache.log&lt;br&gt;2020/10/12&nbsp;20:06:31&nbsp;kid1|&nbsp;ERROR:&nbsp;Negotiate&nbsp;Authentication&nbsp;validating&nbsp;user.&nbsp;Result:&nbsp;{result=BH,&nbsp;notes={message:&nbsp;gss_accept_sec_context()&nbsp;failed:&nbsp;Unspecified&nbsp;GSS&nbsp;failure. &nbsp;Minor&nbsp;code&nbsp;may&nbsp;provide&nbsp;more&nbsp;information.&nbsp;Service&nbsp;key&nbsp;not&nbsp;available;&nbsp;}}&lt;br&gt;&lt;br&gt;&lt;br&gt;Create&nbsp;SPN&nbsp;from&nbsp;server&lt;br&gt;c0528004l(CentOS8.1)&lt;br&gt;#&nbsp;net&nbsp;ads&nbsp;keytab&nbsp;create&nbsp;-U&nbsp;&lt;a&nbsp;href=&quot;mailto:S139821admin@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;S139821admin@WINTEST.EXAMPLE.CO.JP&lt;/a&gt;&lt;br&gt;Warning:&nbsp;&quot;kerberos&nbsp;method&quot;&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;a&nbsp;keytab&nbsp;method&nbsp;to&nbsp;use&nbsp;keytab&nbsp;functions.&lt;br&gt;Enter&nbsp;&lt;a&nbsp;href=&quot;mailto:S139821admin@WINTEST.EXAMPLE.CO.JP&quot;&nbsp;target=&quot;_blank&quot;&gt;S139821admin@WINTEST.EXAMPLE.CO.JP&lt;/a&gt;&#39;s&nbsp;password:&lt;br&gt;ads_keytab_open:&nbsp;Invalid&nbsp;kerberos&nbsp;method&nbsp;set&nbsp;(0)&lt;br&gt;&lt;br&gt;---&gt;&nbsp;An&nbsp;error&nbsp;occurs&nbsp;and&nbsp;keytab&nbsp;cannot&nbsp;be&nbsp;created.&lt;br&gt;&lt;br&gt;&lt;br&gt;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;you&nbsp;have&nbsp;any&nbsp;other&nbsp;information&nbsp;you&nbsp;need.&lt;br&gt;&lt;br&gt;Hi&nbsp;Eliezer,&lt;br&gt;&lt;br&gt;docker&nbsp;is&nbsp;already&nbsp;installed.&lt;br&gt;We&nbsp;are&nbsp;considering&nbsp;a&nbsp;configuration&nbsp;of&nbsp;at&nbsp;least&nbsp;6&nbsp;servers.&lt;br&gt;Whether&nbsp;it&nbsp;will&nbsp;be&nbsp;8&nbsp;or&nbsp;10&nbsp;has&nbsp;not&nbsp;been&nbsp;verified.&lt;br&gt;&lt;br&gt;&lt;br&gt;thank&nbsp;you,&lt;br&gt;kitamura&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
