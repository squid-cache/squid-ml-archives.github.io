<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Hi&nbsp;all,&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;I&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;my&nbsp;proxy(version&nbsp;4.10)&nbsp;digest&nbsp;authentication&nbsp;is&nbsp;fine.&nbsp;I&nbsp;did&nbsp;not&nbsp;find&nbsp;an&nbsp;example&nbsp;on&nbsp;the&nbsp;online&nbsp;documentation&nbsp;and&nbsp;I&nbsp;used&nbsp;&lt;a&nbsp;href=&quot;https://www.linux.com/training-tutorials/squid-and-digest-authentication/&quot;&nbsp;class=&quot;&quot;&gt;this&nbsp;&lt;/a&gt;as&nbsp;a&nbsp;reference.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;The&nbsp;client&nbsp;is&nbsp;a&nbsp;simple&nbsp;java&nbsp;app&nbsp;that&nbsp;just&nbsp;connects&nbsp;to&nbsp;a&nbsp;page&nbsp;&nbsp;through&nbsp;the&nbsp;proxy.&nbsp;I&nbsp;use&nbsp;-&gt;&lt;b&gt;Authenticator.setDefault(new&nbsp;Authenticator()&nbsp;{&nbsp;.&nbsp;&lt;/b&gt;Which&nbsp;works&nbsp;fine&nbsp;for&nbsp;the&nbsp;&lt;i&gt;basic_ncsa_auth&nbsp;&lt;/i&gt;or&nbsp;without&nbsp;authentication&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;The&nbsp;error&nbsp;I&nbsp;get&nbsp;using&nbsp;the&nbsp;digest&nbsp;authentication&nbsp;is.:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;on&nbsp;client&nbsp;side:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;java.net.ProtocolException:&nbsp;&lt;b&gt;Server&nbsp;redirected&nbsp;too&nbsp;many&nbsp;&nbsp;times&nbsp;(20)&lt;/b&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;pre-wrap;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;at&nbsp;sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1908)&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;I&nbsp;do&nbsp;not&nbsp;see&nbsp;any&nbsp;errors&nbsp;on&nbsp;proxy&nbsp;&lt;i&gt;access&nbsp;.log&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;b&gt;Can&nbsp;you&nbsp;please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;my&nbsp;config&nbsp;is&nbsp;correct&nbsp;and&nbsp;how&nbsp;can&nbsp;I&nbsp;test&nbsp;my&nbsp;squid&nbsp;proxy&nbsp;digest&nbsp;auth?&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Below&nbsp;if&nbsp;my&nbsp;&lt;b&gt;squid.conf&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;#####&nbsp;LOG&nbsp;####################&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;cache_log&nbsp;/var/log/squid/cache.log&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;access_log&nbsp;/var/log/squid/access.log&nbsp;squid&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;cache_store_log&nbsp;none&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;logfile_rotate&nbsp;10&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;##&nbsp;disable&nbsp;cache&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;cache&nbsp;deny&nbsp;all&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;##&nbsp;Digest&nbsp;Authentication&nbsp;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;program&nbsp;/usr/lib/squid/digest_file_auth&nbsp;&nbsp;/etc/squid/passwd_digest&nbsp;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;realm&nbsp;squiddigest&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;#auth_param&nbsp;digest&nbsp;utf8&nbsp;on&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;children&nbsp;20&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;nonce_garbage_interval&nbsp;5&nbsp;minutes&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;nonce_max_duration&nbsp;30&nbsp;minutes&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;#auth_param&nbsp;digest&nbsp;nonce_max_count&nbsp;50&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;auth_param&nbsp;digest&nbsp;nonce_strictness&nbsp;off&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;#auth_param&nbsp;digest&nbsp;check_nonce_count&nbsp;on&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;acl&nbsp;no_auth&nbsp;myport&nbsp;3130&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;acl&nbsp;digest_users&nbsp;proxy_auth&nbsp;REQUIRED&nbsp;myport&nbsp;3131&nbsp;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&nbsp;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;##&nbsp;Permissions&nbsp;list.&nbsp;Do&nbsp;not&nbsp;change&nbsp;the&nbsp;order!&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;http_access&nbsp;allow&nbsp;no_auth&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;http_access&nbsp;allow&nbsp;digest_users&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;http_access&nbsp;deny&nbsp;all&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;##&nbsp;listening&nbsp;port&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;http_port&nbsp;3130&nbsp;transparent&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;http_port&nbsp;3131&nbsp;transparent&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;and&nbsp;content&nbsp;of&nbsp;&lt;b&gt;passwd_digest&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;squid:squiddigest:310dc627ec8633cbbc61d9bc02608287&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Thanks,&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
