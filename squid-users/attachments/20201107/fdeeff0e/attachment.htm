<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#464646&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;bz_comment_text&quot;&nbsp;id=&quot;comment_text_0&quot;&gt;<br>
When&nbsp;having&nbsp;several&nbsp;*_access&nbsp;http_access,reply_access...<br>
In&nbsp;a&nbsp;stressed&nbsp;environment,&nbsp;it&nbsp;is&nbsp;difficult&nbsp;to&nbsp;hunt&nbsp;an&nbsp;issue&nbsp;or&nbsp;a&nbsp;wrong&nbsp;rule.<br>
<br>
The&nbsp;debug&nbsp;mode&nbsp;is&nbsp;impossible&nbsp;because&nbsp;the&nbsp;proxy&nbsp;in&nbsp;production&nbsp;mode&nbsp;write&nbsp;too&nbsp;many&nbsp;logs..<br>
<br>
But&nbsp;if&nbsp;we&nbsp;can&nbsp;identify&nbsp;the&nbsp;rule&nbsp;and&nbsp;add&nbsp;pointer&nbsp;to&nbsp;the&nbsp;log,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;see&nbsp;a&nbsp;wrong&nbsp;rule&nbsp;or&nbsp;to&nbsp;see&nbsp;that&nbsp;a&nbsp;request&nbsp;is&nbsp;correctly&nbsp;passed&nbsp;trough.<br>
<br>
Currently&nbsp;we&nbsp;have&nbsp;to&nbsp;do&nbsp;<br>
<br>
acl&nbsp;acl1&nbsp;src&nbsp;1.2.3.4<br>
http_access&nbsp;deny&nbsp;acl1<br>
<br>
<br>
<br>
We&nbsp;suggest&nbsp;using&nbsp;the&nbsp;same&nbsp;token&nbsp;used&nbsp;in&nbsp;http_port:<br>
<br>
acl&nbsp;acl1&nbsp;src&nbsp;1.2.3.4<br>
http_access&nbsp;deny&nbsp;acl1&nbsp;rulename=Rule.access1<br>
<br>
And&nbsp;add&nbsp;a&nbsp;token&nbsp;for&nbsp;template&nbsp;eg&nbsp;%RULENAME&nbsp;and&nbsp;a&nbsp;token&nbsp;for&nbsp;logformat&nbsp;%rname&nbsp;that&nbsp;helps&nbsp;to&nbsp;identify&nbsp;the&nbsp;token.<br>
<br>
<br>
Added&nbsp;in&nbsp;bugtrack<br>
<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://bugs.squid-cache.org/show_bug.cgi?id=5087&quot;&gt;https://bugs.squid-cache.org/show_bug.cgi?id=5087&lt;/a&gt;<br>
<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
