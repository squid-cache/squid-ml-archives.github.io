<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;currently&nbsp;squid-cache&nbsp;in&nbsp;hierarchy&nbsp;setup,&nbsp;with&nbsp;TLS&nbsp;enabled&nbsp;throughout.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;client&nbsp;--&gt;&nbsp;child&nbsp;Squid&nbsp;--&gt;&nbsp;parent&nbsp;Squid&nbsp;--&gt;&nbsp;web&nbsp;server&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Openssl&nbsp;version:&nbsp;1.0.2k<br>
<br>
&lt;/div&gt;&lt;div&gt;This&nbsp;setup&nbsp;is&nbsp;working&nbsp;for&nbsp;3.5.20.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;when&nbsp;I&nbsp;updated&nbsp;to&nbsp;squid&nbsp;4(tried&nbsp;4.8,&nbsp;4.11&nbsp;and&nbsp;4.13),&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;initial&nbsp;HTTP&nbsp;request&nbsp;goes&nbsp;through,&nbsp;but&nbsp;TLS&nbsp;renegotiation&nbsp;is&nbsp;failing&nbsp;between&nbsp;child&nbsp;and&nbsp;parent&nbsp;squid&nbsp;for&nbsp;the&nbsp;following&nbsp;requests.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;the&nbsp;logs,&nbsp;it&nbsp;looks&nbsp;like&nbsp;child&nbsp;squid&nbsp;is&nbsp;trying&nbsp;to&nbsp;initialize&nbsp;TLS&nbsp;renegotiating&nbsp;using&nbsp;old&nbsp;TLS&nbsp;session&nbsp;ID,&nbsp;but&nbsp;parent&nbsp;squid&nbsp;is&nbsp;rejecting&nbsp;session&nbsp;resumption.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;confirm&nbsp;this&nbsp;behavior&nbsp;using&nbsp;openssl&nbsp;s_client&nbsp;--reconnect&nbsp;option.&lt;/div&gt;&lt;div&gt;Â &nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;tried&nbsp;to&nbsp;disabled&nbsp;client&nbsp;initialed&nbsp;TLS&nbsp;renegotiating&nbsp;by&nbsp;setting&nbsp;<br>
tls-options=NO_TICKET&nbsp;(on&nbsp;child&nbsp;squid),&nbsp;but&nbsp;it&nbsp;is&nbsp;affecting&nbsp;the&nbsp;behavior.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;there&nbsp;any&nbsp;changes&nbsp;in&nbsp;default&nbsp;TLS&nbsp;<br>
renegotiation&nbsp;behavior&nbsp;between&nbsp;squid&nbsp;3.5&nbsp;and&nbsp;4.x?&lt;/div&gt;&lt;div&gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;disable&nbsp;the&nbsp;client&nbsp;(child&nbsp;squid)&nbsp;initialized&nbsp;TLS&nbsp;renegotiation&nbsp;in&nbsp;squid&nbsp;4?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Manoj&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
