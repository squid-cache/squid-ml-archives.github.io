<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hey&nbsp;Alex,&nbsp;thanks&nbsp;for&nbsp;the&nbsp;reply.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;my&nbsp;Squid&nbsp;--version:&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Squid&nbsp;Cache:&nbsp;Version&nbsp;4.6&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Service&nbsp;Name:&nbsp;squid&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Debian&nbsp;linux&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;configure&nbsp;options:&nbsp; &#39;--build=i686-linux-gnu&#39;&nbsp;&#39;--prefix=/usr&#39;&nbsp;&#39;--includedir=${prefix}/include&#39;&nbsp;&#39;--mandir=${prefix}/share/man&#39;&nbsp;&#39;--infodir=${prefix}/share/info&#39;&nbsp;&#39;--sysconfdir=/etc&#39;&nbsp;&#39;--localstatedir=/var&#39;&nbsp;&#39;--libexecdir=${prefix}/lib/squid&#39;&nbsp;&#39;--srcdir=.&#39;&nbsp;&#39;--disable-maintainer-mode&#39;&nbsp;&#39;--disable-dependency-tracking&#39;&nbsp;&#39;--disable-silent-rules&#39;&nbsp;&#39;BUILDCXXFLAGS=-g&nbsp;-O2&nbsp;-fdebug-prefix-map=/build/squid-wx8Sif/squid-4.6=.&nbsp;-fstack-protector-strong&nbsp;-Wformat&nbsp;-Werror=format-security&nbsp;-Wdate-time&nbsp;-D_FORTIFY_SOURCE=2&nbsp;-Wl,-z,relro&nbsp;-Wl,-z,now&nbsp;-Wl,--as-needed&nbsp;-latomic&#39;&nbsp;&#39;BUILDCXX=i686-linux-gnu-g++&#39;&nbsp;&#39;--with-build-environment=default&#39;&nbsp;&#39;--enable-build-info=Debian&nbsp;linux&#39;&nbsp;&#39;--datadir=/usr/share/squid&#39;&nbsp;&#39;--sysconfdir=/etc/squid&#39;&nbsp;&#39;--libexecdir=/usr/lib/squid&#39;&nbsp;&#39;--mandir=/usr/share/man&#39;&nbsp;&#39;--enable-inline&#39;&nbsp;&#39;--disable-arch-native&#39;&nbsp;&#39;--enable-async-io=8&#39;&nbsp;&#39;--enable-storeio=ufs,aufs,diskd,rock&#39;&nbsp;&#39;--enable-removal-policies=lru,heap&#39;&nbsp;&#39;--enable-delay-pools&#39;&nbsp;&#39;--enable-cache-digests&#39;&nbsp;&#39;--enable-icap-client&#39;&nbsp;&#39;--enable-follow-x-forwarded-for&#39;&nbsp;&#39;--enable-auth-basic=DB,fake,getpwnam,LDAP,NCSA,NIS,PAM,POP3,RADIUS,SASL,SMB&#39;&nbsp;&#39;--enable-auth-digest=file,LDAP&#39;&nbsp;&#39;--enable-auth-negotiate=kerberos,wrapper&#39;&nbsp;&#39;--enable-auth-ntlm=fake,SMB_LM&#39;&nbsp;&#39;--enable-external-acl-helpers=file_userip,kerberos_ldap_group,LDAP_group,session,SQL_session,time_quota,unix_group,wbinfo_group&#39;&nbsp;&#39;--enable-security-cert-validators=fake&#39;&nbsp;&#39;--enable-storeid-rewrite-helpers=file&#39;&nbsp;&#39;--enable-url-rewrite-helpers=fake&#39;&nbsp;&#39;--enable-eui&#39;&nbsp;&#39;--enable-esi&#39;&nbsp;&#39;--enable-icmp&#39;&nbsp;&#39;--enable-zph-qos&#39;&nbsp;&#39;--enable-ecap&#39;&nbsp;&#39;--disable-translation&#39;&nbsp;&#39;--with-swapdir=/var/spool/squid&#39;&nbsp;&#39;--with-logdir=/var/log/squid&#39;&nbsp;&#39;--with-pidfile=/var/run/squid.pid&#39;&nbsp;&#39;--with-filedescriptors=65536&#39;&nbsp;&#39;--with-large-files&#39;&nbsp;&#39;--with-default-user=proxy&#39;&nbsp;&#39;--with-gnutls&#39;&nbsp;&#39;--enable-linux-netfilter&#39;&nbsp;&#39;build_alias=i686-linux-gnu&#39;&nbsp;&#39;CC=i686-linux-gnu-gcc&#39;&nbsp;&#39;CFLAGS=-g&nbsp;-O2&nbsp;-fdebug-prefix-map=/build/squid-wx8Sif/squid-4.6=.&nbsp;-fstack-protector-strong&nbsp;-Wformat&nbsp;-Werror=format-security&nbsp;-Wall&#39;&nbsp;&#39;LDFLAGS=-Wl,-z,relro&nbsp;-Wl,-z,now&nbsp;-Wl,--as-needed&nbsp;-latomic&#39;&nbsp;&#39;CPPFLAGS=-Wdate-time&nbsp;-D_FORTIFY_SOURCE=2&#39;&nbsp;&#39;CXX=i686-linux-gnu-g++&#39;&nbsp;&#39;CXXFLAGS=-g&nbsp;-O2&nbsp;-fdebug-prefix-map=/build/squid-wx8Sif/squid-4.6=.&nbsp;-fstack-protector-strong&nbsp;-Wformat&nbsp;-Werror=format-security&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;follow&nbsp;your&nbsp;instructions,&nbsp;this&nbsp;is&nbsp;what&nbsp;I&nbsp;get:&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:49&nbsp;kid1|&nbsp;Logfile:&nbsp;opening&nbsp;log&nbsp;daemon:/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:49&nbsp;kid1|&nbsp;Logfile&nbsp;Daemon:&nbsp;opening&nbsp;log&nbsp;/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:49&nbsp;kid1|&nbsp;Store&nbsp;logging&nbsp;disabled&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:57&nbsp;kid1|&nbsp;logfileRotate:&nbsp;daemon:/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:57&nbsp;kid1|&nbsp;logfileRotate:&nbsp;daemon:/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:57&nbsp;kid1|&nbsp;Logfile:&nbsp;opening&nbsp;log&nbsp;daemon:/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:57&nbsp;kid1|&nbsp;Logfile&nbsp;Daemon:&nbsp;opening&nbsp;log&nbsp;/var/log/squid/access.log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;2020/12/31&nbsp;20:33:57&nbsp;kid1|&nbsp;Store&nbsp;logging&nbsp;disabled&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;&quot;rotate&quot;&nbsp;I&nbsp;am&nbsp;getting&nbsp;nothing,&nbsp;but&nbsp;I&nbsp;do&nbsp;however&nbsp;see&nbsp;transactions&nbsp;getting&nbsp;logged&nbsp;to&nbsp;access.log&nbsp;and&nbsp;my&nbsp;logging&nbsp;daemon&nbsp;is&nbsp;running&nbsp;properly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&gt;&nbsp;How&nbsp;do&nbsp;you&nbsp;know&nbsp;that&nbsp;your&nbsp;access.log&nbsp;was&nbsp;_not_&nbsp;rotated?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Well,&nbsp;for&nbsp;cache.log&nbsp;I&nbsp;can&nbsp;that&nbsp;the&nbsp;file&nbsp;size&nbsp;is&nbsp;getting&nbsp;smaller&nbsp;and&nbsp;there&nbsp;are&nbsp;several cache.log.N&nbsp;files&nbsp;getting&nbsp;created,&nbsp;for&nbsp;access.log&nbsp;nothing&nbsp;is&nbsp;happening.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;tips?&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Tue,&nbsp;Dec&nbsp;29,&nbsp;2020&nbsp;at&nbsp;8:37&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;12/29/20&nbsp;12:33&nbsp;PM,&nbsp;roee&nbsp;klinger&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;using&nbsp;a&nbsp;Raspberry&nbsp;Pi&nbsp;and&nbsp;the&nbsp;latest&nbsp;version of&nbsp;Squid&nbsp;which&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;installed&nbsp;from&nbsp;apt.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;In&nbsp;my&nbsp;cache.log,&nbsp;here&nbsp;are&nbsp;all&nbsp;my&nbsp;logging&nbsp;and&nbsp;rotation-related&nbsp;messages:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;2020/12/29&nbsp;17:37:14&nbsp;kid1|&nbsp;logfileRotate:&nbsp;daemon:/var/log/squid/access.log&lt;br&gt;<br>
&gt;&nbsp;2020/12/29&nbsp;17:37:14&nbsp;kid1|&nbsp;logfileRotate:&nbsp;daemon:/var/log/squid/access.log&lt;br&gt;<br>
&gt;&nbsp;2020/12/29&nbsp;17:37:14&nbsp;kid1|&nbsp;Logfile:&nbsp;opening&nbsp;log&nbsp;daemon:/var/log/squid/access.log&lt;br&gt;<br>
&gt;&nbsp;2020/12/29&nbsp;17:37:14&nbsp;kid1|&nbsp;Logfile&nbsp;Daemon:&nbsp;opening&nbsp;log&nbsp;/var/log/squid/access.log&lt;br&gt;<br>
&gt;&nbsp;2020/12/29&nbsp;17:37:14&nbsp;kid1|&nbsp;Store&nbsp;logging&nbsp;disabled&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;is&nbsp;your&nbsp;Squid&nbsp;version?&nbsp;&quot;squid&nbsp;--version&quot;&nbsp;may&nbsp;answer&nbsp;that&nbsp;question.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;&quot;opening&nbsp;log&quot;&nbsp;lines&nbsp;in&nbsp;your&nbsp;cache.log&nbsp;look&nbsp;strange.&nbsp;I&nbsp;do&nbsp;not&nbsp;see&lt;br&gt;<br>
them&nbsp;in&nbsp;my&nbsp;tests,&nbsp;but&nbsp;my&nbsp;version&nbsp;of&nbsp;Squid&nbsp;is&nbsp;probably&nbsp;different&nbsp;from&lt;br&gt;<br>
yours.&nbsp;If&nbsp;you&nbsp;shut&nbsp;down&nbsp;Squid&nbsp;completely,&nbsp;then&nbsp;remove&nbsp;all&nbsp;cache.log&lt;br&gt;<br>
files,&nbsp;then&nbsp;start&nbsp;Squid,&nbsp;and&nbsp;then&nbsp;rotate&nbsp;once,&nbsp;what&nbsp;logging&nbsp;and&nbsp;rotation&lt;br&gt;<br>
messages&nbsp;do&nbsp;you&nbsp;see&nbsp;in&nbsp;all&nbsp;the&nbsp;resulting&nbsp;cache.log&nbsp;files&nbsp;(including&nbsp;the&lt;br&gt;<br>
rotated&nbsp;ones)?&nbsp;Do&nbsp;not&nbsp;shut&nbsp;down&nbsp;or&nbsp;restart&nbsp;Squid&nbsp;until&nbsp;you&nbsp;collect&nbsp;all&lt;br&gt;<br>
those&nbsp;lines.&nbsp;Include&nbsp;all&nbsp;lines&nbsp;that&nbsp;mention&nbsp;&quot;log&quot;&nbsp;or&nbsp;&quot;rotate&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;you&nbsp;see&nbsp;transactions&nbsp;getting&nbsp;logged&nbsp;to&nbsp;access.log?&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;the&nbsp;logging&nbsp;daemon&nbsp;running?&nbsp;&quot;ps&nbsp;aux&nbsp;|&nbsp;grep&nbsp;&#39;logfile[-]daemon&#39;&quot;&nbsp;or&nbsp;a&lt;br&gt;<br>
similar&nbsp;command&nbsp;may&nbsp;answer&nbsp;that&nbsp;question.&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;do&nbsp;you&nbsp;know&nbsp;that&nbsp;your&nbsp;access.log&nbsp;was&nbsp;_not_&nbsp;rotated?&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Tue,&nbsp;Dec&nbsp;29,&nbsp;2020&nbsp;at&nbsp;6:40&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; On&nbsp;12/29/20&nbsp;10:36&nbsp;AM,&nbsp;roee&nbsp;klinger&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; logfile_rotate&nbsp;10&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; access_log&nbsp;daemon:/var/log/squid/access.log&nbsp;logformat=xxxx&lt;br&gt;<br>
&gt; &nbsp; &nbsp; rotate=10&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;running&nbsp;&quot;squid&nbsp;-k&nbsp;rotate&quot;&nbsp;still&nbsp;does&nbsp;nothing&nbsp;for&nbsp;the&nbsp;access.log&nbsp;file.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Please&nbsp;note&nbsp;that,&nbsp;according&nbsp;to&nbsp;Squid&nbsp;documentation,&nbsp;your&nbsp;Squid&nbsp;is&lt;br&gt;<br>
&gt; &nbsp; &nbsp; slightly&nbsp;misconfigured:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; rotate=N &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Specifies&nbsp;the&nbsp;number&nbsp;of&nbsp;log&nbsp;file&lt;br&gt;<br>
&gt; &nbsp; &nbsp; rotations&nbsp;to&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make&nbsp;when&nbsp;you&nbsp;run&nbsp;&#39;squid&nbsp;-k&nbsp;rotate&#39;.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; [...]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Only&nbsp;supported&nbsp;by&nbsp;the&nbsp;stdio&nbsp;module.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; You&nbsp;are&nbsp;not&nbsp;using&nbsp;an&nbsp;&quot;stdio&quot;&nbsp;module.&nbsp;You&nbsp;are&nbsp;using&nbsp;a&nbsp;&quot;daemon&quot;&nbsp;module.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; This&nbsp;minor&nbsp;misconfiguraiton,&nbsp;if&nbsp;any,&nbsp;does&nbsp;not&nbsp;explain&nbsp;the&nbsp;lack&nbsp;of&lt;br&gt;<br>
&gt; &nbsp; &nbsp; rotations.&nbsp;The&nbsp;deamon&nbsp;module&nbsp;should&nbsp;still&nbsp;rotate&nbsp;based&nbsp;on&nbsp;your&nbsp;global&lt;br&gt;<br>
&gt; &nbsp; &nbsp; logfile_rotate&nbsp;directive&nbsp;setting.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; What&nbsp;is&nbsp;your&nbsp;Squid&nbsp;version?&nbsp;What&nbsp;logging&nbsp;and&nbsp;rotation-related&nbsp;messages&lt;br&gt;<br>
&gt; &nbsp; &nbsp; do&nbsp;you&nbsp;see&nbsp;in&nbsp;your&nbsp;cache.log&nbsp;(check&nbsp;both&nbsp;the&nbsp;pre-rotation&nbsp;and&lt;br&gt;<br>
&gt; &nbsp; &nbsp; post-rotation&nbsp;files)?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Alex.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
