<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;The&nbsp;issue&nbsp;is&nbsp;many&nbsp;layers&nbsp;of&nbsp;caching&nbsp;and&nbsp;interdependent&nbsp;data.&lt;div&gt;&lt;br&nbsp;/&gt;&lt;div&gt;Once&nbsp;the&nbsp;auth&nbsp;backend&nbsp;system&nbsp;is&nbsp;producing&nbsp;the&nbsp;right&nbsp;output&nbsp;the&nbsp;group&nbsp;helper&nbsp;cache&nbsp;needs&nbsp;to&nbsp;expire,&nbsp;then&nbsp;lookups&nbsp;by&nbsp;that&nbsp;helper&nbsp;will&nbsp;be&nbsp;correct.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;/&gt;&lt;/div&gt;&lt;div&gt;Then&nbsp;all&nbsp;the&nbsp;tcp&nbsp;connections&nbsp;holding&nbsp;onto&nbsp;that&nbsp;users&nbsp;credentials&nbsp;need&nbsp;to&nbsp;close.&nbsp;Only&nbsp;once&nbsp;all&nbsp;that&nbsp;happens&nbsp;will&nbsp;there&nbsp;be&nbsp;no&nbsp;user&#43;group1&nbsp;link&nbsp;to&nbsp;confuse.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;/&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;any&nbsp;of&nbsp;the&nbsp;old&nbsp;tcp&nbsp;connections&nbsp;remain&nbsp;open&nbsp;they&nbsp;cache&nbsp;the&nbsp;old&nbsp;credentials&nbsp;which&nbsp;were&nbsp;linked&nbsp;to&nbsp;the&nbsp;old&nbsp;group1.&nbsp;New&nbsp;tcp&nbsp;connections&nbsp;will&nbsp;be&nbsp;linked&nbsp;to&nbsp;their&nbsp;cached&nbsp;username&nbsp;state.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;/&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;modern&nbsp;squid&nbsp;the&nbsp;kerberos&nbsp;auth&nbsp;helper&nbsp;gives&nbsp;squid&nbsp;the&nbsp;list&nbsp;of&nbsp;groups&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;as&nbsp;username.&nbsp;So&nbsp;there&nbsp;is&nbsp;no&nbsp;external&nbsp;ACL&nbsp;helper&nbsp;and&nbsp;its&nbsp;caching&nbsp;to&nbsp;get&nbsp;things&nbsp;mixed&nbsp;up.&nbsp;You&nbsp;should&nbsp;use&nbsp;the&nbsp;note&nbsp;ACL&nbsp;type&nbsp;to&nbsp;check&nbsp;those&nbsp;group&nbsp;SSIDs.&lt;/div&gt;&lt;div&gt;At&nbsp;worst&nbsp;you&nbsp;may&nbsp;still&nbsp;have&nbsp;to&nbsp;wait&nbsp;for&nbsp;tcp&nbsp;connections&nbsp;closure&nbsp;part.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;/&gt;Amos&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
