<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpa261fa7cyahoo-style-wrap&quot;&nbsp;style=&quot;font-family:&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Thanks&nbsp;Amos&nbsp;and&nbsp;Klauss&nbsp;for&nbsp;your&nbsp;response.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;id=&quot;ydp44daa09ayahoo_quoted_5886555351&quot;&nbsp;class=&quot;ydp44daa09ayahoo_quoted&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;color:#26282a;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Wednesday,&nbsp;24&nbsp;February,&nbsp;2021,&nbsp;05:03:57&nbsp;pm&nbsp;IST,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;24/02/21&nbsp;10:14&nbsp;pm,&nbsp;Klaus&nbsp;Brandl&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;The&nbsp;acl&nbsp;for&nbsp;the&nbsp;url&nbsp;must&nbsp;be&nbsp;of&nbsp;type&nbsp;url_regex,&nbsp;or&nbsp;something&nbsp;else:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;acl&nbsp;allowedurl&nbsp;url_regex&nbsp;&quot;url.txt&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;This&nbsp;line&nbsp;tells&nbsp;Squid&nbsp;to&nbsp;load&nbsp;a&nbsp;file&nbsp;full&nbsp;of&nbsp;regex&nbsp;patterns.&nbsp;Nothing&nbsp;more.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;http_access&nbsp;line&nbsp;is&nbsp;the&nbsp;list&nbsp;of&nbsp;rules&nbsp;that&nbsp;determines&nbsp;when&nbsp;those&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;loaded&nbsp;values&nbsp;are&nbsp;tested&nbsp;against&nbsp;a&nbsp;URL,&nbsp;and&nbsp;what&nbsp;happens&nbsp;when&nbsp;the&nbsp;URL&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;matches&nbsp;(or&nbsp;not)&nbsp;any&nbsp;of&nbsp;the&nbsp;patterns.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Am&nbsp;Dienstag,&nbsp;den&nbsp;23.02.2021,&nbsp;18:09&nbsp;+0000&nbsp;schrieb&nbsp;Arjun&nbsp;K:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&gt;&nbsp;Hi&nbsp;Team&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&gt;&nbsp;Could&nbsp;you&nbsp;please&nbsp;let&nbsp;me&nbsp;know&nbsp;how&nbsp;to&nbsp;define&nbsp;an&nbsp;acl&nbsp;so&nbsp;that&nbsp;a&nbsp;specific&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&gt;&nbsp;set&nbsp;of&nbsp;IPs&nbsp;can&nbsp;access&nbsp;alone&nbsp;a&nbsp;specific&nbsp;set&nbsp;of&nbsp;URLs.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Have&nbsp;you&nbsp;read&nbsp;the&nbsp;docs&nbsp;on&nbsp;how&nbsp;Squid&nbsp;does&nbsp;access&nbsp;control?&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/SquidAcl#The_Basics:_How_the_parts_fit_together&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/SquidAcl#The_Basics:_How_the_parts_fit_together&lt;/a&gt;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;example&nbsp;config&nbsp;you&nbsp;showed&nbsp;indicates&nbsp;a&nbsp;lack&nbsp;of&nbsp;understanding&nbsp;the&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;syntax.&nbsp;That&nbsp;understanding&nbsp;is&nbsp;key&nbsp;to&nbsp;these&nbsp;things&nbsp;actually&nbsp;working&nbsp;the&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;way&nbsp;you&nbsp;want.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Lets&nbsp;look&nbsp;at&nbsp;your&nbsp;stated&nbsp;requirements:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&gt;&nbsp;&nbsp;define&nbsp;an&nbsp;acl&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;acl&nbsp;okay_urls&nbsp;url_regex&nbsp;&quot;/etc/squid/url.txt&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&gt;&nbsp;a&nbsp;specific&nbsp;set&nbsp;of&nbsp;IPs&nbsp;can&nbsp;access&nbsp;alone&nbsp;a&nbsp;specific&nbsp;set&nbsp;of&nbsp;URLs.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;That&nbsp;sentence&nbsp;is&nbsp;an&nbsp;access&nbsp;policy.&nbsp;It&nbsp;has&nbsp;three&nbsp;parts:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;1)&nbsp;&quot;set&nbsp;of&nbsp;IPs&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;I&nbsp;have&nbsp;assumed&nbsp;from&nbsp;the&nbsp;&quot;can&nbsp;access&quot;&nbsp;words&nbsp;that&nbsp;you&nbsp;mean&nbsp;client&nbsp;IPs.&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;Which&nbsp;in&nbsp;networking&nbsp;are&nbsp;the&nbsp;TCP&nbsp;src-IP&nbsp;value.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;So&nbsp;...&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;acl&nbsp;set_of_IPs&nbsp;src&nbsp;192.0.2.1&nbsp;192.0.2.45&nbsp;192.0.2.156&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;2)&nbsp;&quot;set&nbsp;of&nbsp;URLs&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;So&nbsp;...&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acl&nbsp;set_of_urls&nbsp;url_regex&nbsp;&quot;/etc/squid/url.txt&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;3)&nbsp;&quot;can&nbsp;access&nbsp;alone&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;I&nbsp;assume&nbsp;that&nbsp;means&nbsp;you&nbsp;want&nbsp;these&nbsp;IPs&nbsp;to&nbsp;access&nbsp;the&nbsp;URLs.&nbsp;But&nbsp;no&nbsp;others&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;to&nbsp;be&nbsp;able&nbsp;to&nbsp;access&nbsp;those&nbsp;same&nbsp;URLs.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;So&nbsp;...&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;#&nbsp;permit&nbsp;set_of_ips&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;http_access&nbsp;allow&nbsp;set_of_ips&nbsp;set_of_urls&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;&nbsp;http_access&nbsp;deny&nbsp;set_of_urls&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&gt;&nbsp;Also,&nbsp;I&nbsp;have&nbsp;an&nbsp;existing&nbsp;configuration&nbsp;which&nbsp;should&nbsp;not&nbsp;get&nbsp;affected&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&gt;&nbsp;and&nbsp;it&nbsp;should&nbsp;not&nbsp;interfere&nbsp;in&nbsp;the&nbsp;rules&nbsp;which&nbsp;were&nbsp;allowed&nbsp;for&nbsp;the&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&gt;&nbsp;servers&nbsp;previously.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;most&nbsp;important&nbsp;word&nbsp;there&nbsp;is&nbsp;&quot;previously&quot;.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;This&nbsp;is&nbsp;where&nbsp;*you*&nbsp;understanding&nbsp;how&nbsp;Squid&nbsp;access&nbsp;controls&nbsp;fit&nbsp;together&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;matters&nbsp;*a&nbsp;lot*.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;first&nbsp;http_access&nbsp;line&nbsp;that&nbsp;matches&nbsp;entirely&nbsp;will&nbsp;_end_&nbsp;processing&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;of&nbsp;the&nbsp;'http_access'&nbsp;sequence.&nbsp;The&nbsp;action&nbsp;(allow/deny)&nbsp;specified&nbsp;on&nbsp;that&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;matched&nbsp;line&nbsp;will&nbsp;be&nbsp;done.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;So&nbsp;where&nbsp;you&nbsp;place&nbsp;the&nbsp;above&nbsp;http_access&nbsp;lines&nbsp;determine&nbsp;which&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;transactions&nbsp;will&nbsp;be&nbsp;able&nbsp;to&nbsp;reach&nbsp;and&nbsp;be&nbsp;tested&nbsp;by&nbsp;them.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Amos&lt;div&nbsp;class=&quot;ydp44daa09ayqt7181983771&quot;&nbsp;id=&quot;ydp44daa09ayqtfd01034&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;_______________________________________________&lt;br&nbsp;clear=&quot;none&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
