<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;thought&nbsp;about&nbsp;upper&nbsp;service&nbsp;but&nbsp;as&nbsp;is&nbsp;not&nbsp;required&nbsp;at&nbsp;the&nbsp;moment,&nbsp;introducing&nbsp;extra&nbsp;hop&nbsp;just&nbsp;to&nbsp;remove&nbsp;the&nbsp;header&nbsp;looks&nbsp;a&nbsp;bit&nbsp;like&nbsp;a&nbsp;hammer&nbsp;approach.&nbsp;I&#39;ll&nbsp;look&nbsp;into&nbsp;how&nbsp;easily&nbsp;I&nbsp;can&nbsp;amend&nbsp;the&nbsp;code&nbsp;as&nbsp;the&nbsp;other&nbsp;option&nbsp;is&nbsp;to&nbsp;introduce&nbsp;a&nbsp;proxy&nbsp;like&nbsp;a&nbsp;feature&nbsp;to&nbsp;the&nbsp;application,&nbsp;so&nbsp;either&nbsp;way,&nbsp;it&nbsp;is&nbsp;a&nbsp;code&nbsp;change.&nbsp;The&nbsp;only&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;it&#39;s&nbsp;an&nbsp;OPNSense&nbsp;squid&nbsp;service&nbsp;so&nbsp;I&nbsp;have&nbsp;to&nbsp;compile&nbsp;from&nbsp;source&nbsp;on&nbsp;BSD&nbsp;and&nbsp;then&nbsp;keep&nbsp;adding&nbsp;in&nbsp;manually&nbsp;each&nbsp;time&nbsp;they&nbsp;do&nbsp;the&nbsp;update.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Mirek&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Wed,&nbsp;Mar&nbsp;24,&nbsp;2021&nbsp;at&nbsp;7:11&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;3/24/21&nbsp;2:49&nbsp;PM,&nbsp;Miroslaw&nbsp;Malinowski&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;looking&nbsp;at&nbsp;the&nbsp;code&nbsp;and&nbsp;reading&nbsp;carefully&nbsp;your&nbsp;response,&nbsp;you&#39;re&nbsp;saying&lt;br&gt;<br>
&gt;&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;you&nbsp;can&nbsp;do&nbsp;it&nbsp;with&nbsp;squid.&lt;br&gt;<br>
&lt;br&gt;<br>
With&nbsp;Squid,&nbsp;your&nbsp;options&nbsp;include:&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;Squid&nbsp;source&nbsp;code&nbsp;changes.&nbsp;Should&nbsp;not&nbsp;be&nbsp;too&nbsp;difficult&nbsp;and,&nbsp;IMO,&nbsp;a&lt;br&gt;<br>
high-quality&nbsp;implementation&nbsp;would&nbsp;deserve&nbsp;official&nbsp;acceptance&nbsp;because&nbsp;it&lt;br&gt;<br>
is&nbsp;a&nbsp;generally&nbsp;useful&nbsp;feature&nbsp;in&nbsp;line&nbsp;with&nbsp;existing&nbsp;control&nbsp;knobs.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/AboutSquid#How_to_add_a_new_Squid_feature.2C_enhance.2C_of_fix_something.3F&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;An&nbsp;adaptation&nbsp;service&nbsp;that&nbsp;removes&nbsp;Cache-Control:no-cache&nbsp;from&nbsp;the&lt;br&gt;<br>
response&nbsp;before&nbsp;Squid&nbsp;processes&nbsp;it:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/ContentAdaptation&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/ContentAdaptation&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Wed,&nbsp;Mar&nbsp;24,&nbsp;2021&nbsp;at&nbsp;6:28&nbsp;PM&nbsp;Miroslaw&nbsp;Malinowski&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Hi,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; You&#39;ve&nbsp;right&nbsp;yes&nbsp;it&#39;s&nbsp;revalidating&nbsp;as&nbsp;API&nbsp;server&nbsp;I&#39;m&nbsp;requesting&nbsp;data&lt;br&gt;<br>
&gt; &nbsp; &nbsp; is&nbsp;setting&nbsp;Cache-Control:&nbsp;no-cache.&nbsp;My&nbsp;question&nbsp;is&nbsp;how&nbsp;I&nbsp;can&nbsp;force&lt;br&gt;<br>
&gt; &nbsp; &nbsp; squid&nbsp;to&nbsp;cache&nbsp;and&nbsp;not&nbsp;validate&nbsp;as&nbsp;I&nbsp;know&nbsp;it&#39;s&nbsp;safe&nbsp;to&nbsp;do&nbsp;so.&nbsp;As&lt;br&gt;<br>
&gt; &nbsp; &nbsp; I&#39;ve&nbsp;explained&nbsp;earlier&nbsp;we&nbsp;are&nbsp;making&nbsp;the&nbsp;same&nbsp;request&nbsp;and&nbsp;receiving&lt;br&gt;<br>
&gt; &nbsp; &nbsp; the&nbsp;same&nbsp;response&nbsp;from&nbsp;100+&nbsp;server&nbsp;so&nbsp;as&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&lt;br&gt;<br>
&gt; &nbsp; &nbsp; requests&nbsp;to&nbsp;the&nbsp;external&nbsp;server&nbsp;we&nbsp;would&nbsp;like&nbsp;squid&nbsp;to&nbsp;cache&nbsp;the&lt;br&gt;<br>
&gt; &nbsp; &nbsp; response&nbsp;and&nbsp;issue&nbsp;a&nbsp;cached&nbsp;version.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; 2021/03/24&nbsp;18:00:54.867&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(351)&nbsp;refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; YES:&nbsp;Must&nbsp;revalidate&nbsp;stale&nbsp;object&nbsp;(origin&nbsp;set&nbsp;no-cache&nbsp;or&nbsp;private)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Mirek&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; On&nbsp;Wed,&nbsp;Mar&nbsp;24,&nbsp;2021&nbsp;at&nbsp;6:15&nbsp;PM&nbsp;Alex&nbsp;Rousskov&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; On&nbsp;3/24/21&nbsp;12:48&nbsp;PM,&nbsp;Miroslaw&nbsp;Malinowski&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;Probably,&nbsp;me&nbsp;missing&nbsp;on&nbsp;something&nbsp;silly&nbsp;or&nbsp;it&nbsp;can&#39;t&nbsp;be&nbsp;done&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; but&nbsp;I&nbsp;don&#39;t&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;know&nbsp;why&nbsp;but&nbsp;squid&nbsp;won&#39;t&nbsp;return&nbsp;the&nbsp;cached&nbsp;version&nbsp;even&nbsp;when&nbsp;I&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; turn&nbsp;all&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;override&nbsp;options&nbsp;ON&nbsp;in&nbsp;refresh_pattern.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; AFAICT,&nbsp;no&nbsp;configuration&nbsp;options&nbsp;that&nbsp;can&nbsp;disable&nbsp;revalidation&nbsp;of&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; Cache-Control:no-cache&nbsp;responses.&nbsp;refresh_pattern&nbsp;does&nbsp;not&nbsp;have&nbsp;an&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; (equivalent&nbsp;of)&nbsp;&quot;ignore-no-cache-in-responses&quot;&nbsp;option.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; IIRC,&nbsp;older&nbsp;Squids&nbsp;were&nbsp;violating&nbsp;an&nbsp;HTTP&nbsp;MUST&nbsp;by&nbsp;forgetting&nbsp;to&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; revalidate&nbsp;Cache-Control:no-cache&nbsp;responses,&nbsp;but&nbsp;that&nbsp;was&nbsp;fixed&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; in&nbsp;[1].&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; Your&nbsp;Squid&nbsp;version&nbsp;has&nbsp;that&nbsp;fix.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; [1]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/commit/fa83b766a208b27abed8da4c9073cf8784cf10fa&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/commit/fa83b766a208b27abed8da4c9073cf8784cf10fa&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/commit/fa83b766a208b27abed8da4c9073cf8784cf10fa&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/commit/fa83b766a208b27abed8da4c9073cf8784cf10fa&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;With&nbsp;debug,&nbsp;I&nbsp;can&nbsp;see&nbsp;the&nbsp;rule&nbsp;is&nbsp;matched&nbsp;and&nbsp;the&nbsp;cache&nbsp;is&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; fresh&nbsp;but&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;still&nbsp;in&nbsp;access.log&nbsp;is&nbsp;TCP_REFRESH_MODIFIED&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;11,3|&nbsp;http.cc(982)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;haveParsedReplyHeaders:&nbsp;decided:&nbsp;cache&nbsp;positively&nbsp;and&nbsp;share&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; because&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; FYI:&nbsp;You&nbsp;are&nbsp;looking&nbsp;at&nbsp;cache.log&nbsp;lines&nbsp;logged&nbsp;_after_&nbsp;Squid&nbsp;has&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; already&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; decided&nbsp;to&nbsp;refresh&nbsp;the&nbsp;cached&nbsp;version.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;analyze&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; why&nbsp;Squid&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; decided&nbsp;to&nbsp;refresh&nbsp;the&nbsp;cached&nbsp;version,&nbsp;you&nbsp;should&nbsp;look&nbsp;_before_&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; Squid&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; logged&nbsp;the&nbsp;request&nbsp;to&nbsp;the&nbsp;server&nbsp;(and&nbsp;before&nbsp;any&nbsp;FwdState.cc&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; lines).&nbsp;I&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; have&nbsp;not&nbsp;checked&nbsp;the&nbsp;details,&nbsp;but&nbsp;I&nbsp;bet&nbsp;that&nbsp;your&nbsp;Squid&nbsp;revalidates&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; because&nbsp;of&nbsp;Cache-Control:no-cache&nbsp;in&nbsp;the&nbsp;response.&nbsp;Look&nbsp;for&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &quot;YES:&nbsp;Must&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; revalidate&nbsp;stale&nbsp;object&quot;.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; HTH,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; Alex.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;squid&nbsp;conf:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;&lt;URL&gt;&nbsp;4320&nbsp;80%&nbsp;129600&nbsp;override-lastmod&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;override-expire&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;ignore-private&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; store-stale&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;curl&nbsp;headers:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;curl&nbsp;--insecure&nbsp;--verbose&nbsp;--request&nbsp;GET&nbsp;--url&nbsp;&#39;URL&#39;&nbsp;&gt;/dev/null&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TCP_NODELAY&nbsp;set&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;ALPN,&nbsp;offering&nbsp;h2&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;ALPN,&nbsp;offering&nbsp;http/1.1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;successfully&nbsp;set&nbsp;certificate&nbsp;verify&nbsp;locations:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;  CAfile:&nbsp;/etc/ssl/certs/ca-certificates.crt&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp; CApath:&nbsp;/etc/ssl/certs&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;}&nbsp;[5&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(OUT),&nbsp;TLS&nbsp;handshake,&nbsp;Client&nbsp;hello&nbsp;(1):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;}&nbsp;[512&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Server&nbsp;hello&nbsp;(2):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[122&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Encrypted&nbsp;Extensions&nbsp;(8):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[6&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Certificate&nbsp;(11):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[1956&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;CERT&nbsp;verify&nbsp;(15):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[78&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Finished&nbsp;(20):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[52&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(OUT),&nbsp;TLS&nbsp;change&nbsp;cipher,&nbsp;Change&nbsp;cipher&nbsp;spec&nbsp;(1):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;}&nbsp;[1&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(OUT),&nbsp;TLS&nbsp;handshake,&nbsp;Finished&nbsp;(20):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;}&nbsp;[52&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;SSL&nbsp;connection&nbsp;using&nbsp;TLSv1.3&nbsp;/&nbsp;TLS_AES_256_GCM_SHA384&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;&nbsp;GET&nbsp;URL&nbsp;HTTP/1.1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;&nbsp;Host:&nbsp;URL&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;&nbsp;User-Agent:&nbsp;curl/7.68.0&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;&nbsp;Accept:&nbsp;*/*&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[5&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Newsession&nbsp;Ticket&nbsp;(4):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[217&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;TLSv1.3&nbsp;(IN),&nbsp;TLS&nbsp;handshake,&nbsp;Newsession&nbsp;Ticket&nbsp;(4):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[217&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;old&nbsp;SSL&nbsp;session&nbsp;ID&nbsp;is&nbsp;stale,&nbsp;removing&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;{&nbsp;[5&nbsp;bytes&nbsp;data]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;*&nbsp;Mark&nbsp;bundle&nbsp;as&nbsp;not&nbsp;supporting&nbsp;multiuse&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Cache-Control:&nbsp;no-cache&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Content-Type:&nbsp;application/json&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;X-Cloud-Trace-Context:&nbsp;d3c27833b8b4312ce31a2dbae7e12fd0&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Date:&nbsp;Wed,&nbsp;24&nbsp;Mar&nbsp;2021&nbsp;15:04:34&nbsp;GMT&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Server:&nbsp;Google&nbsp;Frontend&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Content-Length:&nbsp;7950&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;server&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;X-Cache-Lookup:&nbsp;HIT&nbsp;from&nbsp;server&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Via:&nbsp;1.1&nbsp;server&nbsp;(squid/4.14)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;&nbsp;Connection:&nbsp;keep-alive&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;access&nbsp;log:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;243&nbsp;172.16.230.249&nbsp;TCP_REFRESH_MODIFIED/200&nbsp;8328&nbsp;GET&nbsp;URL&nbsp;-&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;ORIGINAL_DST/IP&nbsp;application/json&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;cache&nbsp;log:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;11,3|&nbsp;http.cc(982)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;haveParsedReplyHeaders:&nbsp;decided:&nbsp;cache&nbsp;positively&nbsp;and&nbsp;share&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; because&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;refresh&nbsp;check&nbsp;returned&nbsp;cacheable;&nbsp;HTTP&nbsp;status&nbsp;200&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; e:=p2V/0x34868914670*3 &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(470)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;returning&nbsp;FRESH_MIN_RULE &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(455)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;Object&nbsp;isn&#39;t&nbsp;stale.. &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(327)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;Staleness&nbsp;=&nbsp;-1 &nbsp; &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(199)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;refreshStaleness:&nbsp;FRESH:&nbsp;age&nbsp;(60&nbsp;sec)&nbsp;is&nbsp;less&nbsp;than&nbsp;configured&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; minimum&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;(259200&nbsp;sec) &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(166)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;refreshStaleness:&nbsp;No&nbsp;explicit&nbsp;expiry&nbsp;given,&nbsp;using&nbsp;heuristics&nbsp;to&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;determine&nbsp;freshness &nbsp;  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(307)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;entry-&gt;timestamp:&nbsp;Wed,&nbsp;24&nbsp;Mar&nbsp;2021&nbsp;15:04:34&nbsp;GMT &nbsp; &nbsp; &nbsp;  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(305)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;check_time:&nbsp;Wed,&nbsp;24&nbsp;Mar&nbsp;2021&nbsp;15:05:34&nbsp;GMT &nbsp; &nbsp;  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(303)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;age:&nbsp;60 &nbsp; &nbsp; &nbsp;  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(301)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;Matched&nbsp;&#39;URL&nbsp;259200&nbsp;80%%&nbsp;7776000&#39; &nbsp; &nbsp;  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;2021-03-24T15:04:34 &nbsp; squid &nbsp; .710&nbsp;kid1|&nbsp;22,3|&nbsp;refresh.cc(279)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; refreshCheck:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;checking&nbsp;freshness&nbsp;of&nbsp;URI:&nbsp;&lt;a&nbsp;href=&quot;https://URL&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://URL&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://URL&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://URL&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;https://URL&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://URL&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://URL&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://URL&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
