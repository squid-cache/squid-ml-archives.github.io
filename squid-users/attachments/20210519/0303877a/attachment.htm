<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Thanks&nbsp;Alex,&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;i&nbsp;think&nbsp;i&nbsp;know&nbsp;why&nbsp;now&nbsp;after&nbsp;further&nbsp;digging&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;when&nbsp;i&nbsp;dont&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;white&nbsp;list&nbsp;i&nbsp;cant&nbsp;view&nbsp;the&nbsp;website&nbsp;(obviously)&nbsp;but&nbsp;can&nbsp;see&nbsp;the&nbsp;cert&nbsp;is&nbsp;provided&nbsp;by&nbsp;my&nbsp;squid&nbsp;(default&nbsp;company&nbsp;ltd)...i&nbsp;was&nbsp;lazy&nbsp;creating&nbsp;it&nbsp;but&nbsp;cant&nbsp;view&nbsp;the&nbsp;cert&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;when&nbsp;i&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;white&nbsp;list,&nbsp;i&nbsp;can&nbsp;view&nbsp;the&nbsp;website&nbsp;and&nbsp;the&nbsp;cert&nbsp;info&nbsp;and&nbsp;its&nbsp;def&nbsp;from&nbsp;my&nbsp;squid&nbsp;cert&nbsp;(default&nbsp;company&nbsp;ltd)&nbsp;as&nbsp;i&nbsp;see&nbsp;the&nbsp;valid&nbsp;dates&nbsp;ie&nbsp;before&nbsp;and&nbsp;after&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;i&nbsp;think&nbsp;i&nbsp;need&nbsp;to&nbsp;relax&nbsp;the&nbsp;ciphers&nbsp;in&nbsp;my&nbsp;squid.conf&nbsp;as&nbsp;some&nbsp;other&nbsp;https&nbsp;websites&nbsp;i&nbsp;get&nbsp;the&nbsp;error&nbsp;page&nbsp;and&nbsp;i&nbsp;dont&nbsp;get&nbsp;the&nbsp;cert&nbsp;error&nbsp;message&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;do&nbsp;you&nbsp;think&nbsp;relaxing&nbsp;the&nbsp;ciphers&nbsp;will&nbsp;work?&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Wed,&nbsp;19&nbsp;May&nbsp;2021,&nbsp;19:12&nbsp;Alex&nbsp;Rousskov,&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;5/19/21&nbsp;10:41&nbsp;AM,&nbsp;robert&nbsp;k&nbsp;Wild&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;ok&nbsp;i&nbsp;found&nbsp;out&nbsp;what&nbsp;the&nbsp;error&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;its&nbsp;because&nbsp;in&nbsp;my&nbsp;squid.conf,&nbsp;i&nbsp;have&nbsp;a&nbsp;whitelist&nbsp;file&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;#HTTP_HTTPS&nbsp;whitelist&nbsp;websites&lt;br&gt;<br>
&gt;&nbsp;acl&nbsp;whitelist&nbsp;ssl::server_name&nbsp;&quot;/usr/local/squid/etc/urlwhite.txt&quot;&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;allow&nbsp;activation&nbsp;whitelist&lt;br&gt;<br>
&gt;&nbsp;http_access&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;once&nbsp;i&nbsp;added&nbsp;the&nbsp;url&nbsp;to&nbsp;that&nbsp;file,&nbsp;it&nbsp;worked&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;but&nbsp;surely,&nbsp;instead&nbsp;of&nbsp;giving&nbsp;me&nbsp;an&nbsp;error&nbsp;saying&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;secure&nbsp;connection&nbsp;failed&lt;br&gt;<br>
&gt;&nbsp;Error&nbsp;code:&nbsp;SEC_ERROR_BAD_SIGNATURE&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;it&nbsp;should&nbsp;be&nbsp;the&nbsp;default&nbsp;error&nbsp;ie&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;following&nbsp;error&nbsp;was&nbsp;encountered&nbsp;while&nbsp;trying&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;URL:&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://blah.blah&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://blah.blah&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://blah.blah&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://blah.blah&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;Access&nbsp;Denied.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;how&nbsp;can&nbsp;i&nbsp;change&nbsp;this&nbsp;please&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;answer&nbsp;depends&nbsp;on&nbsp;_why_&nbsp;you&nbsp;get&nbsp;that&nbsp;SEC_ERROR_BAD_SIGNATURE&nbsp;error.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;Squid&nbsp;does&nbsp;not&nbsp;have&nbsp;enough&nbsp;information&nbsp;to&nbsp;properly&nbsp;bump&nbsp;your&nbsp;client&lt;br&gt;<br>
connection,&nbsp;then&nbsp;there&nbsp;may&nbsp;be&nbsp;no&nbsp;bumping-based&nbsp;solution&nbsp;at&nbsp;all&nbsp;(e.g.&lt;br&gt;<br>
when&nbsp;the&nbsp;client&nbsp;is&nbsp;using&nbsp;certificate&nbsp;pinning),&nbsp;or&nbsp;you&nbsp;would&nbsp;have&nbsp;to&nbsp;bump&lt;br&gt;<br>
at&nbsp;step2&nbsp;when&nbsp;more&nbsp;information&nbsp;is&nbsp;available&nbsp;to&nbsp;Squid&nbsp;(to&nbsp;generate&nbsp;a&lt;br&gt;<br>
better&nbsp;fake&nbsp;certificate).&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;the&nbsp;next&nbsp;step,&nbsp;try&nbsp;comparing&nbsp;the&nbsp;fake&nbsp;certificate&nbsp;that&nbsp;causes&lt;br&gt;<br>
SEC_ERROR_BAD_SIGNATURE&nbsp;with&nbsp;the&nbsp;fake&nbsp;same-site&nbsp;certificate&nbsp;that&nbsp;works&lt;br&gt;<br>
after&nbsp;you&nbsp;whitelist&nbsp;the&nbsp;problematic&nbsp;site.&nbsp;The&nbsp;browser&nbsp;should&nbsp;allow&nbsp;you&lt;br&gt;<br>
to&nbsp;view&nbsp;both&nbsp;certificates.&nbsp;You&nbsp;can&nbsp;download&nbsp;them&nbsp;and&nbsp;use&nbsp;certificate&lt;br&gt;<br>
printing&nbsp;tools&nbsp;like&nbsp;&quot;openssl&nbsp;x509&nbsp;-noout&nbsp;-text&nbsp;-in&nbsp;...&quot;&nbsp;to&nbsp;compare&nbsp;two&lt;br&gt;<br>
certificate&nbsp;printouts.&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Wed,&nbsp;19&nbsp;May&nbsp;2021&nbsp;at&nbsp;13:54,&nbsp;robert&nbsp;k&nbsp;Wild&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; hi&nbsp;all,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; i&nbsp;have&nbsp;squid&nbsp;4.15&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; i&nbsp;have&nbsp;imported&nbsp;my&nbsp;self&nbsp;signed&nbsp;cert&nbsp;on&nbsp;firefox&nbsp;and&nbsp;now&nbsp;i&nbsp;can&nbsp;access&lt;br&gt;<br>
&gt; &nbsp; &nbsp; https&nbsp;website&nbsp;(where&nbsp;as&nbsp;before&nbsp;i&nbsp;got&nbsp;a&nbsp;software&nbsp;is&nbsp;preventing&nbsp;this&lt;br&gt;<br>
&gt; &nbsp; &nbsp; website&nbsp;from&nbsp;opening)&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; but&nbsp;on&nbsp;some&nbsp;websites&nbsp;i&nbsp;get&nbsp;an&nbsp;error&nbsp;saying&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; secure&nbsp;connection&nbsp;failed&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Error&nbsp;code:&nbsp;SEC_ERROR_BAD_SIGNATURE&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; i&nbsp;attach&nbsp;my&nbsp;ssl&nbsp;bump&nbsp;conf&nbsp;in&nbsp;my&nbsp;squid.conf&nbsp;file&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; #SSL&nbsp;Bump&lt;br&gt;<br>
&gt; &nbsp; &nbsp; http_port&nbsp;3128&nbsp;ssl-bump&nbsp;cert=/usr/local/squid/etc/ssl_cert/myCA.pem&lt;br&gt;<br>
&gt; &nbsp; &nbsp; generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&lt;br&gt;<br>
&gt; &nbsp; &nbsp; cipher=HIGH:MEDIUM:RC4:3DES:!aNULL:!eNULL:!LOW:!MD5:!EXP:!PSK:!SRP:!DSS&lt;br&gt;<br>
&gt; &nbsp; &nbsp; sslcrtd_program&nbsp;/usr/local/squid/libexec/security_file_certgen&nbsp;-s&lt;br&gt;<br>
&gt; &nbsp; &nbsp; /var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;<br>
&gt; &nbsp; &nbsp; acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; ssl_bump&nbsp;peek&nbsp;step1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; ssl_bump&nbsp;bump&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; is&nbsp;there&nbsp;anything&nbsp;wrong&nbsp;you&nbsp;can&nbsp;see,&nbsp;i&nbsp;have&nbsp;tried&nbsp;to&nbsp;make&nbsp;a&nbsp;new&nbsp;CA&lt;br&gt;<br>
&gt; &nbsp; &nbsp; but&nbsp;error&nbsp;still&nbsp;occures&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; thanks,&lt;br&gt;<br>
&gt; &nbsp; &nbsp; rob&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; --&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Regards,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Robert&nbsp;K&nbsp;Wild.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;--&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Regards,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Robert&nbsp;K&nbsp;Wild.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
