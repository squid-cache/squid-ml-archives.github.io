<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;multiple&nbsp;Squid&nbsp;servers&nbsp;installed&nbsp;in&nbsp;different&nbsp;data&nbsp;centers&nbsp;across&nbsp;different&nbsp;cloud&nbsp;providers,&nbsp;and&nbsp;they&nbsp;all&nbsp;need&nbsp;to&nbsp;authenticate users&nbsp;using&nbsp;a single&nbsp;database&nbsp;(MySQL)&nbsp;on&nbsp;a&nbsp;separate&nbsp;server,&nbsp;which&nbsp;is&nbsp;also&nbsp;on&nbsp;a&nbsp;different&nbsp;cloud&nbsp;provider on&nbsp;a&nbsp;different&nbsp;data&nbsp;center.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;already&nbsp;written&nbsp;an&nbsp;external&nbsp;authentication script&nbsp;that&nbsp;reads&nbsp;from&nbsp;MySQL&nbsp;and&nbsp;everything&nbsp;is&nbsp;working fine,&nbsp;however,&nbsp;I&nbsp;have&nbsp;some&nbsp;performance concerns,&nbsp;since&nbsp;the&nbsp;DB&nbsp;is&nbsp;located&nbsp;externally&nbsp;and&nbsp;in&nbsp;a&nbsp;different&nbsp;region&nbsp;of&nbsp;the&nbsp;world&nbsp;from&nbsp;the&nbsp;Squid&nbsp;server.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;made&nbsp;some&nbsp;speed&nbsp;tests&nbsp;to&nbsp;see&nbsp;how&nbsp;long&nbsp;it&nbsp;takes&nbsp;to&nbsp;query&nbsp;the&nbsp;DB&nbsp;as&nbsp;Squid&nbsp;would:&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:13px;line-height:normal;font-family:&quot;Helvetica&nbsp;Neue&quot;&quot;&gt;if&nbsp;the&nbsp;database&nbsp;is&nbsp;located&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;as&nbsp;Squid:&nbsp;1.067-millisecond&nbsp;average&nbsp;query&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:13px;line-height:normal;font-family:&quot;Helvetica&nbsp;Neue&quot;&quot;&gt;if&nbsp;the&nbsp;database&nbsp;is&nbsp;located&nbsp;on&nbsp;the&nbsp;same&nbsp;datacenter&nbsp;as&nbsp;Squid:&nbsp;2.67-millisecond&nbsp;average&nbsp;query&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;gmail-p1&quot;&nbsp;style=&quot;margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;font-size:13px;line-height:normal;font-family:&quot;Helvetica&nbsp;Neue&quot;&quot;&gt;if&nbsp;the&nbsp;database&nbsp;is&nbsp;located&nbsp;on&nbsp;a&nbsp;different&nbsp;datacenter&nbsp;than&nbsp;Squid&nbsp;(different&nbsp;country&nbsp;as&nbsp;well):&nbsp;38.9-millisecond&nbsp;average&nbsp;query&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;I&nbsp;am&nbsp;wondering,&nbsp;is &lt;span&nbsp;style=&quot;font-family:&quot;Helvetica&nbsp;Neue&quot;;font-size:13px&quot;&gt;36-millisecond&nbsp;average&nbsp;added&nbsp;query&nbsp;time&nbsp;a&nbsp;big&nbsp;deal&nbsp;when&nbsp;dealing&nbsp;with&nbsp;HTTP/S&nbsp;traffic?&nbsp;how&nbsp;significant&nbsp;is&nbsp;this&nbsp;added&nbsp;time&nbsp;to&nbsp;Squid&nbsp;and&nbsp;will&nbsp;performance get&nbsp;hurt&nbsp;drastically?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Helvetica&nbsp;Neue&quot;;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Helvetica&nbsp;Neue&quot;;font-size:13px&quot;&gt;I&nbsp;know&nbsp;there&nbsp;is&nbsp;some&nbsp;caching&nbsp;going&nbsp;on&nbsp;the&nbsp;Squid&nbsp;side,&nbsp;but&nbsp;I&nbsp;had&nbsp;to&nbsp;set&nbsp;the&nbsp;caching&nbsp;to&nbsp;really&nbsp;low&nbsp;values&nbsp;(around&nbsp;15s),&nbsp;as&nbsp;per&nbsp;the&nbsp;requirement&nbsp;I&nbsp;was&nbsp;given.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Helvetica&nbsp;Neue&quot;;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Helvetica&nbsp;Neue&quot;&gt;If&nbsp;I&nbsp;will&nbsp;have&nbsp;no&nbsp;other&nbsp;choice,&nbsp;I&nbsp;will&nbsp;simply&nbsp;replicate&nbsp;the&nbsp;DB&nbsp;table&nbsp;from&nbsp;the&nbsp;DB&nbsp;server&nbsp;to&nbsp;the&nbsp;Squid&nbsp;server,&nbsp;but&nbsp;I&nbsp;prefer&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;as&nbsp;it&nbsp;will&nbsp;require&nbsp;installing&nbsp;MySQL&nbsp;on&nbsp;all&nbsp;the&nbsp;Squid&nbsp;servers&nbsp;(or&nbsp;some&nbsp;other&nbsp;DB,&nbsp;but&nbsp;then&nbsp;I&nbsp;have&nbsp;to&nbsp;do&nbsp;replication&nbsp;from&nbsp;different&nbsp;DBs).&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Helvetica&nbsp;Neue&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Helvetica&nbsp;Neue&quot;&gt;Thanks.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Helvetica&nbsp;Neue&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
