<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-2&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7654.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[squid-users]&nbsp;Too&nbsp;many&nbsp;ERROR:&nbsp;Collapsed&nbsp;forwarding&nbsp;queue&nbsp;overflow&nbsp;for&nbsp;kid2&nbsp;at&nbsp;1024&nbsp;items&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hello,&nbsp;I've&nbsp;replaced&nbsp;src/ipc/ReadWritelock.cc&nbsp;and&nbsp;ReadWriteLock.h&nbsp;with&nbsp;modified&nbsp;versions&nbsp;(with&nbsp;finalizeExclusive&nbsp;calls),&nbsp;but&nbsp;afeter&nbsp;some&nbsp;time&nbsp;I&nbsp;have&nbsp;got&nbsp;queue&nbsp;overflows&nbsp;agains.&lt;BR&gt;<br>
So&nbsp;I've&nbsp;downloaded&nbsp;squid-6.0.0-20211116-r90086c5a8&nbsp;-&nbsp;run&nbsp;it&nbsp;with&nbsp;my&nbsp;v5&nbsp;configure&nbsp;and&nbsp;now&nbsp;I'm&nbsp;testing&nbsp;it.&nbsp;So&nbsp;far&nbsp;I&nbsp;get&nbsp;these:&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:06&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b5f3d740*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:06&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b8e67480*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:07&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b7af7b40*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:07&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b8993850*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:08&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b5269200*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:08&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b5269200*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:05:18&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr6455=V/0x5642b7c91210*0&lt;BR&gt;<br>
2021/11/21&nbsp;19:53:48&nbsp;kid1|&nbsp;Bug:&nbsp;Missing&nbsp;MemObject::storeId&nbsp;value&lt;BR&gt;<br>
2021/11/21&nbsp;20:02:16&nbsp;kid1|&nbsp;BUG:&nbsp;missing&nbsp;ENTRY_REQUIRES_COLLAPSING&nbsp;for&nbsp;e:tr11100=V/0x5642b4898050*0&lt;BR&gt;<br>
etc.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Regard&nbsp;the&nbsp;transient&nbsp;queue&nbsp;-&nbsp;could&nbsp;this&nbsp;be&nbsp;any&nbsp;interesting?&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid1&nbsp;{&lt;BR&gt;<br>
Transients&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;112,&nbsp;popIndex:&nbsp;112&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;1506,&nbsp;popIndex:&nbsp;1506&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;112,&nbsp;other:&nbsp;112&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;3301,&nbsp;other:&nbsp;3301&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid3:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;339,&nbsp;popIndex:&nbsp;339&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid4:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;40,&nbsp;popIndex:&nbsp;40&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid5:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;589,&nbsp;popIndex:&nbsp;589&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;receiving&nbsp;from&nbsp;kid6:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;58192,&nbsp;popIndex:&nbsp;58192&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid3:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;339,&nbsp;other:&nbsp;339&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid4:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;40,&nbsp;other:&nbsp;40&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid5:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;589,&nbsp;other:&nbsp;589&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid1&nbsp;sending&nbsp;to&nbsp;kid6:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;58192,&nbsp;other:&nbsp;58192&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid1&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid2&nbsp;{&lt;BR&gt;<br>
Transients&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;3301,&nbsp;popIndex:&nbsp;3301&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;97,&nbsp;popIndex:&nbsp;97&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;1506,&nbsp;other:&nbsp;1506&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;97,&nbsp;other:&nbsp;97&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid3:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;604,&nbsp;popIndex:&nbsp;604&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid4:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;12,&nbsp;popIndex:&nbsp;12&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid5:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;144,&nbsp;popIndex:&nbsp;144&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;receiving&nbsp;from&nbsp;kid6:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;25132,&nbsp;popIndex:&nbsp;25132&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid3:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;604,&nbsp;other:&nbsp;604&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid4:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;12,&nbsp;other:&nbsp;12&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid5:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;144,&nbsp;other:&nbsp;144&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid2&nbsp;sending&nbsp;to&nbsp;kid6:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;25132,&nbsp;other:&nbsp;25132&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid2&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid3&nbsp;{&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid3&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;339,&nbsp;popIndex:&nbsp;339&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid3&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;604,&nbsp;popIndex:&nbsp;604&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid3&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;339,&nbsp;other:&nbsp;339&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid3&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;604,&nbsp;other:&nbsp;604&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid3&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid4&nbsp;{&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid4&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;40,&nbsp;popIndex:&nbsp;40&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid4&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;12,&nbsp;popIndex:&nbsp;12&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid4&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;40,&nbsp;other:&nbsp;40&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid4&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;12,&nbsp;other:&nbsp;12&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid4&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid5&nbsp;{&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid5&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;589,&nbsp;popIndex:&nbsp;589&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid5&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;144,&nbsp;popIndex:&nbsp;144&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid5&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;589,&nbsp;other:&nbsp;589&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid5&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;144,&nbsp;other:&nbsp;144&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid5&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;kid6&nbsp;{&lt;BR&gt;<br>
&lt;BR&gt;<br>
SMP&nbsp;disk&nbsp;I/O&nbsp;queues:&lt;BR&gt;<br>
&nbsp;&nbsp;kid6&nbsp;receiving&nbsp;from&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;58192,&nbsp;popIndex:&nbsp;58192&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid6&nbsp;receiving&nbsp;from&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;other:&nbsp;25132,&nbsp;popIndex:&nbsp;25132&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;kid6&nbsp;sending&nbsp;to&nbsp;kid1:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;58192,&nbsp;other:&nbsp;58192&nbsp;}&lt;BR&gt;<br>
&nbsp;&nbsp;kid6&nbsp;sending&nbsp;to&nbsp;kid2:&nbsp;{&nbsp;size:&nbsp;0,&nbsp;capacity:&nbsp;1024,&nbsp;pushIndex:&nbsp;25132,&nbsp;other:&nbsp;25132&nbsp;}&lt;BR&gt;<br>
}&nbsp;by&nbsp;kid6&lt;BR&gt;<br>
&lt;BR&gt;<br>
Seems&nbsp;like&nbsp;a&nbsp;new&nbsp;item&nbsp;in&nbsp;the&nbsp;cachemgr.cgi&nbsp;menu...&lt;BR&gt;<br>
&lt;BR&gt;<br>
LL&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
-----Pùvodní&nbsp;zpráva-----&lt;BR&gt;<br>
Od:&nbsp;Alex&nbsp;Rousskov&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;mailto:rousskov@measurement-factory.com&lt;/A&gt;]&lt;BR&gt;<br>
Odesláno:&nbsp;út&nbsp;16.11.2021&nbsp;19:09&lt;BR&gt;<br>
Komu:&nbsp;Louèanský&nbsp;Luká¹;&nbsp;Squid&nbsp;Users&lt;BR&gt;<br>
Pøedmìt:&nbsp;Re:&nbsp;[squid-users]&nbsp;Too&nbsp;many&nbsp;ERROR:&nbsp;Collapsed&nbsp;forwarding&nbsp;queue&nbsp;overflow&nbsp;for&nbsp;kid2&nbsp;at&nbsp;1024&nbsp;items&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;11/16/21&nbsp;12:00&nbsp;PM,&nbsp;Louèanský&nbsp;Luká¹&nbsp;wrote:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&gt;&nbsp;I&nbsp;will&nbsp;try&nbsp;to&nbsp;backport&nbsp;it&nbsp;from&nbsp;that&nbsp;patch&nbsp;into&nbsp;the&nbsp;v5&nbsp;tree&nbsp;I've&lt;BR&gt;<br>
&gt;&nbsp;downloaded&nbsp;today.&nbsp;As&nbsp;we&nbsp;were&nbsp;using&nbsp;the&nbsp;mentioned&nbsp;build&nbsp;I&nbsp;came&nbsp;across&lt;BR&gt;<br>
&gt;&nbsp;these&nbsp;new&nbsp;assertions:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&gt;&nbsp;2021/11/16&nbsp;10:29:46&nbsp;kid1|&nbsp;assertion&nbsp;failed:&nbsp;StoreMap.cc:241:&nbsp;&quot;anchorAt(anchorId).reading()&quot;&lt;BR&gt;<br>
&gt;&nbsp;2021/11/16&nbsp;11:32:51&nbsp;kid2|&nbsp;assertion&nbsp;failed:&nbsp;Transients.cc:221:&nbsp;&quot;old&nbsp;==&nbsp;e&quot;&lt;BR&gt;<br>
&gt;&nbsp;2021/11/16&nbsp;14:29:41&nbsp;kid2|&nbsp;assertion&nbsp;failed:&nbsp;store.cc:1108:&nbsp;&quot;store_status&nbsp;==&nbsp;STORE_PENDING&quot;&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;hope&nbsp;that&nbsp;at&nbsp;least&nbsp;some&nbsp;of&nbsp;the&nbsp;above&nbsp;assertions&nbsp;are&nbsp;fixed&nbsp;by&nbsp;master/v6&lt;BR&gt;<br>
commit&nbsp;5210df4.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&gt;&nbsp;2021/11/16&nbsp;17:40:21&nbsp;kid1|&nbsp;assertion&nbsp;failed:&nbsp;cbdata.cc:372:&nbsp;&quot;c-&gt;locks&nbsp;&gt;&nbsp;0&quot;&lt;BR&gt;<br>
&gt;&nbsp;2021/11/16&nbsp;17:40:44&nbsp;kid1|&nbsp;assertion&nbsp;failed:&nbsp;cbdata.cc:115:&nbsp;&quot;cookie&nbsp;==&nbsp;((long)this&nbsp;^&nbsp;Cookie)&quot;&lt;BR&gt;<br>
&lt;BR&gt;<br>
This&nbsp;is&nbsp;probably&nbsp;an&nbsp;unrelated&nbsp;bug.&nbsp;I&nbsp;recommend&nbsp;filing&nbsp;a&nbsp;bug&nbsp;report&nbsp;in&lt;BR&gt;<br>
Squid&nbsp;bugzilla&nbsp;and&nbsp;posting&nbsp;the&nbsp;corresponding&nbsp;&quot;bt&nbsp;full&quot;&nbsp;backtrace&nbsp;there.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Alex.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&gt;&nbsp;-----Original&nbsp;Message-----&lt;BR&gt;<br>
&gt;&nbsp;From:&nbsp;Alex&nbsp;Rousskov&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;mailto:rousskov@measurement-factory.com&lt;/A&gt;]&lt;BR&gt;<br>
&gt;&nbsp;Sent:&nbsp;Tuesday,&nbsp;November&nbsp;16,&nbsp;2021&nbsp;3:42&nbsp;PM&lt;BR&gt;<br>
&gt;&nbsp;To:&nbsp;Louèanský&nbsp;Luká¹;&nbsp;Squid&nbsp;Users&lt;BR&gt;<br>
&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Too&nbsp;many&nbsp;ERROR:&nbsp;Collapsed&nbsp;forwarding&nbsp;queue&nbsp;overflow&nbsp;for&nbsp;kid2&nbsp;at&nbsp;1024&nbsp;items&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;On&nbsp;11/16/21&nbsp;4:38&nbsp;AM,&nbsp;Louèanský&nbsp;Luká¹&nbsp;wrote:&lt;BR&gt;<br>
&gt;&gt;&nbsp;is&nbsp;it&nbsp;going&nbsp;to&nbsp;be&nbsp;patched&nbsp;only&nbsp;in&nbsp;the&nbsp;v6&nbsp;version?&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;I&nbsp;hope&nbsp;the&nbsp;existing&nbsp;fix&nbsp;applies&nbsp;to&nbsp;v5&nbsp;cleanly,&nbsp;and&nbsp;I&nbsp;am&nbsp;ready&nbsp;to&nbsp;help&nbsp;with&nbsp;backporting&nbsp;if&nbsp;it&nbsp;does&nbsp;not.&nbsp;Beyond&nbsp;that,&nbsp;it&nbsp;is&nbsp;in&nbsp;the&nbsp;maintainer&nbsp;hands.&nbsp;I&nbsp;cannot&nbsp;predict&nbsp;whether&nbsp;or&nbsp;when&nbsp;the&nbsp;fix&nbsp;will&nbsp;be&nbsp;officially&nbsp;merged&nbsp;into&nbsp;v5&nbsp;because&nbsp;I&nbsp;do&nbsp;not&nbsp;understand&nbsp;how&lt;BR&gt;<br>
&nbsp;those&nbsp;decisions&nbsp;are&nbsp;made.&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&gt;&nbsp;Anyway&nbsp;-&nbsp;in&nbsp;the&nbsp;morning&nbsp;I&nbsp;run&nbsp;debug&nbsp;with&nbsp;20,9&nbsp;to&nbsp;see:&lt;BR&gt;<br>
&gt;&gt;&nbsp;...&lt;BR&gt;<br>
&gt;&gt;&nbsp;2021/11/16&nbsp;09:02:06.496&nbsp;kid2|&nbsp;assertion&nbsp;failed:&nbsp;Transients.cc:221:&nbsp;&quot;old&nbsp;==&nbsp;e&quot;&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;Unfortunately,&nbsp;I&nbsp;cannot&nbsp;see&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;assertion&nbsp;in&nbsp;this&nbsp;short/partial&nbsp;trace&nbsp;--&nbsp;the&nbsp;problematic&nbsp;actions&nbsp;happened&nbsp;before&nbsp;the&nbsp;trace&nbsp;or&nbsp;were&nbsp;not&nbsp;logged&nbsp;during&nbsp;the&nbsp;trace.&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;Patching&nbsp;your&nbsp;Squid&nbsp;with&nbsp;commit&nbsp;5210df4&nbsp;is&nbsp;the&nbsp;best&nbsp;next&nbsp;step&nbsp;IMO.&nbsp;If&nbsp;that&nbsp;patch&nbsp;does&nbsp;not&nbsp;help,&nbsp;then&nbsp;there&nbsp;are&nbsp;probably&nbsp;other&nbsp;bugs&nbsp;that&nbsp;we&nbsp;need&nbsp;to&nbsp;fix&nbsp;in&nbsp;v5&nbsp;(at&nbsp;least).&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;HTH,&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&nbsp;Alex.&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
