<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have a&nbsp;set&nbsp;up&nbsp;with&nbsp;a&nbsp;few&nbsp;cache&nbsp;peers:&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;cache_peer&nbsp;100.70.162.11&nbsp;parent&nbsp;16211&nbsp;0&nbsp;proxy-only&nbsp;name=proxy16211&lt;/div&gt;&lt;div&gt;cache_peer&nbsp;100.70.162.12&nbsp;parent&nbsp;16212&nbsp;0&nbsp;proxy-only&nbsp;name=proxy16212&lt;/div&gt;&lt;div&gt;cache_peer&nbsp;100.70.162.13&nbsp;parent&nbsp;16213&nbsp;0&nbsp;proxy-only&nbsp;name=proxy16213&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;cache&nbsp;peers&nbsp;go&nbsp;down&nbsp;and&nbsp;up&nbsp;frequently,&nbsp;and&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;set&nbsp;Squid&nbsp;to&nbsp;choose&nbsp;a&nbsp;reliable&nbsp;peer,&nbsp;which&nbsp;has&nbsp;a&nbsp;long-lasting connection&nbsp;from&nbsp;these&nbsp;peers,&nbsp;so&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;set&nbsp;rules&nbsp;that&nbsp;would&nbsp;make&nbsp;the&nbsp;peer&nbsp;DOWN&nbsp;fast,&nbsp;but&nbsp;UP &nbsp;slow.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;setting&nbsp;the&nbsp;peer&nbsp;to&nbsp;go&nbsp;DOWN&nbsp;fast,&nbsp;there&nbsp;is&nbsp;an&nbsp;easy&nbsp;solution:&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(30,30,30);font-family:&quot;Trebuchet&nbsp;MS&quot;,Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;dead_peer_timeout&nbsp;3&nbsp;seconds&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(30,30,30);font-family:&quot;Trebuchet&nbsp;MS&quot;,Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(30,30,30);font-family:&quot;Trebuchet&nbsp;MS&quot;,Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;However,&nbsp;on&nbsp;the&nbsp;same&nbsp;page&nbsp;it&nbsp;reads:&lt;/span&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;However,&nbsp;it&nbsp;continues&nbsp;to&nbsp;send&nbsp;ICP&nbsp;queries,&nbsp;and&nbsp;will&nbsp;mark&nbsp;the&nbsp;peer&nbsp;as&nbsp;alive&nbsp;upon&nbsp;receipt&nbsp;of&nbsp;the&nbsp;first&nbsp;subsequent&nbsp;ICP&nbsp;reply.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;which&nbsp;means&nbsp;that&nbsp;any&nbsp;peers&nbsp;that&nbsp;receive even&nbsp;a&nbsp;single&nbsp;ICP&nbsp;reply&nbsp;will&nbsp;be&nbsp;marked&nbsp;as&nbsp;back&nbsp;UP&nbsp;again,&nbsp;which&nbsp;is&nbsp;not&nbsp;ideal&nbsp;since&nbsp;it&nbsp;says&nbsp;very&nbsp;little&nbsp;about&nbsp;the&nbsp;connection&nbsp;quality&nbsp;of&nbsp;this&nbsp;peer.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;is&nbsp;there&nbsp;a&nbsp;way&nbsp;for&nbsp;me&nbsp;to&nbsp;change&nbsp;this&nbsp;behavior and&nbsp;have&nbsp;Squid&nbsp;wait&nbsp;for&nbsp;more&nbsp;than&nbsp;a&nbsp;single&nbsp;ICP&nbsp;reply,&nbsp;for&nbsp;example,&nbsp;200&nbsp;replies?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Roee&lt;/div&gt;&lt;/div&gt;<br>

</tt>
