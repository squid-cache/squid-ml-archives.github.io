<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Hey&nbsp;Antony,&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Thanks&nbsp;for&nbsp;the&nbsp;quick&nbsp;response.&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;-&nbsp;What&nbsp;sort&nbsp;of&nbsp;firewall&nbsp;is&nbsp;this?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;The&nbsp;firewall&nbsp;is&nbsp;a&nbsp;Cisco&nbsp;FTDv&nbsp;6.6.&nbsp;&lt;/font&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;&nbsp;-&nbsp;What&nbsp;does&nbsp;&quot;HTTPS&nbsp;inspect&quot;&nbsp;actually&nbsp;mean?<br>
&nbsp;-&nbsp;How&nbsp;does&nbsp;the&nbsp;firewall&nbsp;&quot;inspect&quot;&nbsp;HTTPS&nbsp;traffic,&nbsp;which&nbsp;by&nbsp;design&nbsp;is&nbsp;encrypted&nbsp;<br>
between&nbsp;client&nbsp;and&nbsp;server&nbsp;(neither&nbsp;of&nbsp;which&nbsp;is&nbsp;the&nbsp;firewall)?<br>
&nbsp;-&nbsp;What&nbsp;does&nbsp;&quot;inspect&quot;&nbsp;mean?&nbsp;&nbsp;What&nbsp;information&nbsp;is&nbsp;revealed&nbsp;from&nbsp;the&nbsp;inspection&nbsp;<br>
of&nbsp;the&nbsp;encrypted&nbsp;communication?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;It's&nbsp;doing&nbsp;something&nbsp;they&nbsp;call&nbsp;'decrypt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;resign'.&nbsp;Similar&nbsp;to&nbsp;how&nbsp;ssl_bump&nbsp;works,&nbsp;so&nbsp;would&nbsp;putting&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firewall&nbsp;certificate&nbsp;on&nbsp;the&nbsp;Squid&nbsp;server's&nbsp;trusted&nbsp;certificates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;be&nbsp;enough?&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Why?&nbsp;&nbsp;Where&nbsp;would&nbsp;the&nbsp;proxy&nbsp;servers&nbsp;need&nbsp;to&nbsp;be&nbsp;instead,&nbsp;in&nbsp;order&nbsp;for&nbsp;this&nbsp;<br>
inspection&nbsp;to&nbsp;work?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;Good&nbsp;question,&nbsp;their&nbsp;documentation&nbsp;says<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;following:&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;HTTP&nbsp;proxy&nbsp;limitation&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;system&nbsp;cannot&nbsp;decrypt&nbsp;traffic&nbsp;if&nbsp;an&nbsp;HTTP&nbsp;proxy&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positioned&nbsp;between&nbsp;a&nbsp;client&nbsp;and&nbsp;your&nbsp;managed&nbsp;device,&nbsp;and&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;and&nbsp;server&nbsp;establish&nbsp;a&nbsp;tunneled&nbsp;TLS/SSL&nbsp;connection<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;the&nbsp;CONNECT&nbsp;HTTP&nbsp;method.&nbsp;The&nbsp;Handshake&nbsp;Errors<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undecryptable&nbsp;action&nbsp;determines&nbsp;how&nbsp;the&nbsp;system&nbsp;handles&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;traffic.&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Alternatively,&nbsp;how&nbsp;does/would&nbsp;it&nbsp;work&nbsp;if&nbsp;the&nbsp;proxy&nbsp;were&nbsp;not&nbsp;there,&nbsp;and&nbsp;clients&nbsp;<br>
communicated&nbsp;directly&nbsp;to&nbsp;the&nbsp;Internet&nbsp;through&nbsp;the&nbsp;firewall?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;If&nbsp;the&nbsp;proxy&nbsp;wasn't&nbsp;there,&nbsp;it&nbsp;looks&nbsp;like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;works&nbsp;the&nbsp;same&nbsp;as&nbsp;ssl_bump.&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Have&nbsp;you&nbsp;asked&nbsp;the&nbsp;suppliers&nbsp;/&nbsp;authors&nbsp;/&nbsp;vendors&nbsp;of&nbsp;the&nbsp;firewall?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Not&nbsp;yet&nbsp;but&nbsp;I&nbsp;will&nbsp;be&nbsp;doing&nbsp;so&nbsp;today.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;color:&nbsp;#007cff;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;If&nbsp;it's&nbsp;the&nbsp;firewall&nbsp;telling&nbsp;you&nbsp;there's&nbsp;a&nbsp;problem,&nbsp;this&nbsp;doesn't&nbsp;entirely&nbsp;feel&nbsp;<br>
like&nbsp;a&nbsp;Squid&nbsp;question.<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Okay,&nbsp;what&nbsp;if&nbsp;we&nbsp;removed&nbsp;the&nbsp;firewall&nbsp;and&nbsp;replaced&nbsp;it&nbsp;with&nbsp;another&nbsp;squid&nbsp;proxy&nbsp;server,&nbsp;where&nbsp;that&nbsp;is&nbsp;also&nbsp;doing&nbsp;ssl_bump.&nbsp;I&nbsp;assume&nbsp;this&nbsp;would&nbsp;work&nbsp;but&nbsp;are&nbsp;there&nbsp;negative&nbsp;implications&nbsp;of&nbsp;doing&nbsp;so?<br>
<br>
Appreciate&nbsp;you&nbsp;taking&nbsp;the&nbsp;time.<br>
<br>
Thanks,<br>
<br>
Will<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;On&nbsp;04/01/2022&nbsp;00:35,&nbsp;Antony&nbsp;Stone<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:202201040135.48476.Antony.Stone@squid.open.source.it&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Tuesday&nbsp;04&nbsp;January&nbsp;2022&nbsp;at&nbsp;01:19:28,&nbsp;Will&nbsp;BMD&nbsp;wrote:<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hey&nbsp;all,<br>
<br>
I&nbsp;currently&nbsp;have&nbsp;the&nbsp;following&nbsp;network&nbsp;topology,&nbsp;it's&nbsp;emulating&nbsp;a&nbsp;real<br>
world&nbsp;environment.&nbsp;The&nbsp;proxy&nbsp;is&nbsp;running&nbsp;ssl_bump.<br>
<br>
LAN&nbsp;&lt;-&gt;&nbsp;Squid&nbsp;Proxy&nbsp;&lt;-&gt;&nbsp;Firewall&nbsp;&lt;-&gt;&nbsp;Internet<br>
<br>
&gt;From&nbsp;the&nbsp;Firewall's&nbsp;perspective&nbsp;all&nbsp;client&nbsp;connections&nbsp;are&nbsp;originating<br>
as&nbsp;the&nbsp;proxy&nbsp;server.<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Okay,&nbsp;that&nbsp;makes&nbsp;good&nbsp;sense.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;We're&nbsp;wanting&nbsp;to&nbsp;use&nbsp;the&nbsp;https&nbsp;inspect&nbsp;feature&nbsp;of&nbsp;the&nbsp;firewall,<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Please&nbsp;give&nbsp;more&nbsp;details?<br>
<br>
&nbsp;-&nbsp;What&nbsp;sort&nbsp;of&nbsp;firewall&nbsp;is&nbsp;this?<br>
&nbsp;-&nbsp;What&nbsp;does&nbsp;&quot;HTTPS&nbsp;inspect&quot;&nbsp;actually&nbsp;mean?<br>
&nbsp;-&nbsp;How&nbsp;does&nbsp;the&nbsp;firewall&nbsp;&quot;inspect&quot;&nbsp;HTTPS&nbsp;traffic,&nbsp;which&nbsp;by&nbsp;design&nbsp;is&nbsp;encrypted&nbsp;<br>
between&nbsp;client&nbsp;and&nbsp;server&nbsp;(neither&nbsp;of&nbsp;which&nbsp;is&nbsp;the&nbsp;firewall)?<br>
&nbsp;-&nbsp;What&nbsp;does&nbsp;&quot;inspect&quot;&nbsp;mean?&nbsp;&nbsp;What&nbsp;information&nbsp;is&nbsp;revealed&nbsp;from&nbsp;the&nbsp;inspection&nbsp;<br>
of&nbsp;the&nbsp;encrypted&nbsp;communication?<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;but&nbsp;according&nbsp;to&nbsp;our&nbsp;firewall&nbsp;documentation&nbsp;it&nbsp;appears&nbsp;due&nbsp;to&nbsp;the&nbsp;location&nbsp;of<br>
our&nbsp;proxy&nbsp;servers&nbsp;we&nbsp;would&nbsp;be&nbsp;unable&nbsp;to&nbsp;do&nbsp;so.<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Why?&nbsp;&nbsp;Where&nbsp;would&nbsp;the&nbsp;proxy&nbsp;servers&nbsp;need&nbsp;to&nbsp;be&nbsp;instead,&nbsp;in&nbsp;order&nbsp;for&nbsp;this&nbsp;<br>
inspection&nbsp;to&nbsp;work?<br>
<br>
Alternatively,&nbsp;how&nbsp;does/would&nbsp;it&nbsp;work&nbsp;if&nbsp;the&nbsp;proxy&nbsp;were&nbsp;not&nbsp;there,&nbsp;and&nbsp;clients&nbsp;<br>
communicated&nbsp;directly&nbsp;to&nbsp;the&nbsp;Internet&nbsp;through&nbsp;the&nbsp;firewall?<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;My&nbsp;question&nbsp;is,&nbsp;if&nbsp;the&nbsp;proxy&nbsp;is&nbsp;behaving&nbsp;as&nbsp;a&nbsp;MITM&nbsp;between&nbsp;itself&nbsp;and<br>
the&nbsp;client,&nbsp;can't&nbsp;the&nbsp;Firewall&nbsp;do&nbsp;the&nbsp;same&nbsp;thing&nbsp;between&nbsp;itself&nbsp;and&nbsp;the<br>
proxy?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
I&nbsp;agree.&nbsp;&nbsp;Have&nbsp;you&nbsp;asked&nbsp;the&nbsp;suppliers&nbsp;/&nbsp;authors&nbsp;/&nbsp;vendors&nbsp;of&nbsp;the&nbsp;firewall?<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;I&nbsp;suspect&nbsp;it&nbsp;is&nbsp;possible,&nbsp;but&nbsp;might&nbsp;potentially&nbsp;involve&nbsp;a&nbsp;lot&nbsp;of&nbsp;headaches<br>
and&nbsp;a&nbsp;big&nbsp;hit&nbsp;on&nbsp;performance?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
Who&nbsp;knows?<br>
<br>
If&nbsp;it's&nbsp;the&nbsp;firewall&nbsp;telling&nbsp;you&nbsp;there's&nbsp;a&nbsp;problem,&nbsp;this&nbsp;doesn't&nbsp;entirely&nbsp;feel&nbsp;<br>
like&nbsp;a&nbsp;Squid&nbsp;question.<br>
<br>
<br>
Antony.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
