<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;Alex&nbsp;&amp;&nbsp;Amos.&nbsp;Will&nbsp;try&nbsp;the&nbsp;patch&nbsp;in&nbsp;the&nbsp;next&nbsp;week&nbsp;or&nbsp;2.&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;7,&nbsp;2022&nbsp;at&nbsp;8:54&nbsp;AM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;1/7/22&nbsp;12:12&nbsp;AM,&nbsp;Praveen&nbsp;Ponakanti&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;build&nbsp;with&nbsp;the&nbsp;fix,&nbsp;or&nbsp;do&nbsp;you&nbsp;have&nbsp;some&nbsp;recommended&nbsp;steps&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;manually&nbsp;pull&nbsp;the&nbsp;source,&nbsp;patch&nbsp;the&nbsp;fix&nbsp;and&nbsp;then&nbsp;recompile?&lt;br&gt;<br>
&lt;br&gt;<br>
Yes,&nbsp;applying&nbsp;the&nbsp;patch&nbsp;to&nbsp;official&nbsp;Squid&nbsp;sources&nbsp;and&nbsp;then&nbsp;bootstrapping&lt;br&gt;<br>
and&nbsp;building&nbsp;from&nbsp;patched&nbsp;sources&nbsp;is&nbsp;what&nbsp;folks&nbsp;using&nbsp;patches&nbsp;usually&lt;br&gt;<br>
have&nbsp;to&nbsp;do.&nbsp;Roughly&nbsp;speaking:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;cd&nbsp;squid-x.y.z/&lt;br&gt;<br>
 &nbsp; &nbsp;patch&nbsp;-p1&nbsp;&lt;&nbsp;...&lt;br&gt;<br>
 &nbsp; &nbsp;./bootstrap.sh&lt;br&gt;<br>
 &nbsp; &nbsp;./configure&lt;br&gt;<br>
 &nbsp; &nbsp;make&lt;br&gt;<br>
 &nbsp; &nbsp;make&nbsp;check&lt;br&gt;<br>
 &nbsp; &nbsp;sudo&nbsp;make&nbsp;install&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;above&nbsp;steps&nbsp;usually&nbsp;require&nbsp;installing&nbsp;a&nbsp;few&nbsp;build-related&nbsp;tools&lt;br&gt;<br>
(and&nbsp;custom&nbsp;options&nbsp;like&nbsp;--prefix&nbsp;and&nbsp;--with-openssl).&nbsp;A&nbsp;capable&lt;br&gt;<br>
sysadmin&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;get&nbsp;this&nbsp;done&nbsp;in&nbsp;most&nbsp;cases.&nbsp;It&nbsp;is&nbsp;possible&lt;br&gt;<br>
to&nbsp;avoid&nbsp;the&nbsp;bootstrapping&nbsp;step&nbsp;if&nbsp;the&nbsp;patch&nbsp;does&nbsp;not&nbsp;modify&lt;br&gt;<br>
bootstrapping-sensitive&nbsp;files&nbsp;and&nbsp;you&nbsp;can&nbsp;get&nbsp;a&nbsp;bootstrapped&nbsp;version&nbsp;of&lt;br&gt;<br>
the&nbsp;sources&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Versions/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Versions/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;not&nbsp;aware&nbsp;of&nbsp;anybody&nbsp;providing&nbsp;ready-to-use&nbsp;builds&nbsp;that&nbsp;include&nbsp;the&lt;br&gt;<br>
proposed&nbsp;bug&nbsp;5132&nbsp;fix.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;6,&nbsp;2022&nbsp;at&nbsp;8:16&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; On&nbsp;1/6/22&nbsp;2:50&nbsp;AM,&nbsp;Praveen&nbsp;Ponakanti&nbsp;wrote:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;Hi&nbsp;Alex/Amos,&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;Do&nbsp;you&nbsp;still&nbsp;need&nbsp;memory&nbsp;logs&nbsp;from&nbsp;version&nbsp;5.3&nbsp;after&nbsp;stopping&nbsp;traffic&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;through&nbsp;the&nbsp;squid?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; I&nbsp;cannot&nbsp;answer&nbsp;for&nbsp;Amos&nbsp;who&nbsp;asked&nbsp;for&nbsp;those&nbsp;logs,&nbsp;but&nbsp;you&nbsp;may&nbsp;want&nbsp;to&lt;br&gt;<br>
&gt; &nbsp; &nbsp; try&nbsp;a&nbsp;fix&nbsp;posted&nbsp;at&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;https://bugs.squid-cache.org/show_bug.cgi?id=5132#c27&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugs.squid-cache.org/show_bug.cgi?id=5132#c27&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; HTH,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; Alex.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;We&nbsp;have&nbsp;disabled&nbsp;traffic&nbsp;to&nbsp;the&nbsp;5.3&nbsp;version&nbsp;squid&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;about&nbsp;6&nbsp;hours&nbsp;ago&nbsp;and&nbsp;have&nbsp;not&nbsp;seen&nbsp;any&nbsp;memory&nbsp;being&nbsp;freed&nbsp;up&nbsp;since.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;This&nbsp;node&nbsp;has&nbsp;used&nbsp;up&nbsp;~50G&nbsp;more&nbsp;memory&nbsp;compared&nbsp;with&nbsp;4.17&nbsp;squid&nbsp;taking&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;similar&nbsp;traffic&nbsp;over&nbsp;the&nbsp;last&nbsp;3+&nbsp;weeks.&nbsp;I&nbsp;am&nbsp;collecting&nbsp;hourly&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;logs&nbsp;on&nbsp;5.3&nbsp;after&nbsp;stopping&nbsp;traffic.&nbsp;Let&nbsp;me&nbsp;know&nbsp;and&nbsp;I&nbsp;can&nbsp;attach&nbsp;the&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;log tomorrow morning.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;Thanks&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;Praveen&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;On&nbsp;Mon,&nbsp;Dec&nbsp;27,&nbsp;2021&nbsp;at&nbsp;4:58&nbsp;PM&nbsp;Praveen&nbsp;Ponakanti&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;mailto:pponakanti@roblox.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pponakanti@roblox.com&lt;/a&gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:pponakanti@roblox.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pponakanti@roblox.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:pponakanti@roblox.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pponakanti@roblox.com&lt;/a&gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:pponakanti@roblox.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pponakanti@roblox.com&lt;/a&gt;&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; I&nbsp;cant make&nbsp;any&nbsp;changes&nbsp;to&nbsp;our&nbsp;prod&nbsp;squids&nbsp;this&nbsp;week.&nbsp;I&nbsp;have&nbsp;a&lt;br&gt;<br>
&gt; &nbsp; &nbsp; squid&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; instance&nbsp;(5.3v)&nbsp;in&nbsp;a&nbsp;test&nbsp;env&nbsp;but&nbsp;could&nbsp;not&nbsp;reproduce&nbsp;the&nbsp;leak&nbsp;by&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; starting&nbsp;&amp;&nbsp;stopping&nbsp;traffic&nbsp;with&nbsp;a&nbsp;bulk&nbsp;http&nbsp;req&nbsp;generator&nbsp;(wrk).&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; Was&nbsp;able&nbsp;to&nbsp;send&nbsp;175k&nbsp;rps&nbsp;@&nbsp;20k&nbsp;concurrent&nbsp;sessions&nbsp;(each&nbsp;doing&nbsp;a&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; get&nbsp;on&nbsp;a&nbsp;1KB&nbsp;object)&nbsp;through the&nbsp;30-worker&nbsp;squid.&nbsp;This&nbsp;initially&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; caused&nbsp;a&nbsp;3G&nbsp;increase&nbsp;in&nbsp;memory&nbsp;usage&nbsp;and&nbsp;then&nbsp;flattened&nbsp;out&nbsp;after&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; stopping&nbsp;the&nbsp;requests.&nbsp;If&nbsp;I&nbsp;restart&nbsp;the&nbsp;bulk&nbsp;reqs,&nbsp;the&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; usage&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; only&nbsp;goes&nbsp;up&nbsp;~0.5GB&nbsp;and&nbsp;then&nbsp;drops&nbsp;back&nbsp;down.&nbsp;Live&nbsp;traffic&nbsp;is&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; probably&nbsp;exercising&nbsp;a&nbsp;different&nbsp;code&nbsp;path&nbsp;within&nbsp;squid&#39;s&lt;br&gt;<br>
&gt; &nbsp; &nbsp; memory&nbsp;pools.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; On&nbsp;Mon,&nbsp;Dec&nbsp;27,&nbsp;2021&nbsp;at&nbsp;2:26&nbsp;AM&nbsp;Lukáš&nbsp;Loučanský&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;mailto:loucansky.lukas@kjj.cz&quot;&nbsp;target=&quot;_blank&quot;&gt;loucansky.lukas@kjj.cz&lt;/a&gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:loucansky.lukas@kjj.cz&quot;&nbsp;target=&quot;_blank&quot;&gt;loucansky.lukas@kjj.cz&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:loucansky.lukas@kjj.cz&quot;&nbsp;target=&quot;_blank&quot;&gt;loucansky.lukas@kjj.cz&lt;/a&gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:loucansky.lukas@kjj.cz&quot;&nbsp;target=&quot;_blank&quot;&gt;loucansky.lukas@kjj.cz&lt;/a&gt;&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; After&nbsp;one&nbsp;day&nbsp;of&nbsp;running&nbsp;without&nbsp;clients&nbsp;my&nbsp;squid&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; is&nbsp;stable&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; 29345&nbsp;proxy    &nbsp;20  &nbsp;0 &nbsp;171348&nbsp;122360 &nbsp;14732&nbsp;S  &nbsp;0.0  &nbsp;0.7  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; 0:25.96&nbsp;(squid-1)&nbsp;--kid&nbsp;squid-1&nbsp;-YC&nbsp;-f&nbsp;/etc/squid5/squid.conf&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; 29343&nbsp;root     &nbsp;20  &nbsp;0 &nbsp;133712 &nbsp;79264  &nbsp;9284&nbsp;S  &nbsp;0.0  &nbsp;0.5  &lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; 0:00.00&nbsp;/usr/sbin/squid&nbsp;-YC&nbsp;-f&nbsp;/etc/squid5/squid.conf&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; Storage&nbsp;Mem&nbsp;size:&nbsp;3944&nbsp;KB&nbsp;Storage&nbsp;Mem&nbsp;capacity:&nbsp;0.2%&nbsp;used,&lt;br&gt;<br>
&gt; &nbsp; &nbsp; 99.8%&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; free&nbsp;Maximum&nbsp;Resident&nbsp;Size:&nbsp;489440&nbsp;KB&nbsp;Page&nbsp;faults&nbsp;with&lt;br&gt;<br>
&gt; &nbsp; &nbsp; physical&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; i/o:&nbsp;0&nbsp;Memory&nbsp;accounted&nbsp;for:&nbsp;Total&nbsp;accounted:&nbsp;15741&nbsp;KB&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; memPoolAlloc&nbsp;calls:&nbsp;1061495&nbsp;memPoolFree&nbsp;calls:&nbsp;1071691&nbsp;Total&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; allocated&nbsp;15741&nbsp;kB&nbsp;So&nbsp;this&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&nbsp;the&lt;br&gt;<br>
&gt; &nbsp; &nbsp; problem...&nbsp;L&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; Dne&nbsp;26.12.2021&nbsp;v&nbsp;10:02&nbsp;Lukáš&nbsp;Loučanský&nbsp;napsal(a):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; ok&nbsp;-&nbsp;as&nbsp;it&nbsp;seems&nbsp;my&nbsp;squid&nbsp;quacked&nbsp;on&nbsp;low&nbsp;memory&nbsp;again&nbsp;today&nbsp;-&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; Dec&nbsp;26&nbsp;00:04:25&nbsp;gw&nbsp;(squid-1):&nbsp;FATAL:&nbsp;Too&nbsp;many&nbsp;queued&nbsp;store_id&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; requests;&nbsp;see&nbsp;on-persistent-overload.#012   &nbsp;current&nbsp;master&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; transaction:&nbsp;master4629331&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; Dec&nbsp;26&nbsp;00:04:28&nbsp;gw&nbsp;squid[15485]:&nbsp;Squid&nbsp;Parent:&nbsp;squid-1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; process&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; 15487&nbsp;exited&nbsp;with&nbsp;status&nbsp;1&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; Dec&nbsp;26&nbsp;00:04:28&nbsp;gw&nbsp;squid[15485]:&nbsp;Squid&nbsp;Parent:&nbsp;(squid-1)&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; process&nbsp;28375&nbsp;started&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; 2021/12/26&nbsp;00:01:20&nbsp;kid1|&nbsp;helperOpenServers:&nbsp;Starting&nbsp;5/64&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &#39;storeid_file_rewrite&#39;&nbsp;processes&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; 2021/12/26&nbsp;00:01:20&nbsp;kid1|&nbsp;ipcCreate:&nbsp;fork:&nbsp;(12)&nbsp;Cannot&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; allocate&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; 2021/12/26&nbsp;00:01:20&nbsp;kid1|&nbsp;WARNING:&nbsp;Cannot&nbsp;run&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &#39;/lib/squid5/storeid_file_rewrite&#39;&nbsp;process.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; 2021/12/26&nbsp;00:01:20&nbsp;kid1|&nbsp;ipcCreate:&nbsp;fork:&nbsp;(12)&nbsp;Cannot&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; allocate&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; I&#39;m&nbsp;going&nbsp;to&nbsp;reroute&nbsp;my&nbsp;clients&nbsp;(which&nbsp;are&nbsp;on&nbsp;their&nbsp;days&nbsp;off&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; anyway)&nbsp;to&nbsp;direct&nbsp;connections&nbsp;and&nbsp;run&nbsp;it&nbsp;&quot;dry&quot;&nbsp;-&nbsp;on&nbsp;it&#39;s&nbsp;own.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; But&nbsp;I&#39;m&nbsp;not&nbsp;able&nbsp;to&nbsp;to&nbsp;test&nbsp;it&nbsp;before&nbsp;&quot;lack&nbsp;of&nbsp;memory&nbsp;issues&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; occur&quot;&nbsp;-&nbsp;because&nbsp;my&nbsp;clients&nbsp;are&nbsp;offline.&nbsp;So&nbsp;I&#39;ll&nbsp;watch&nbsp;squid&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; for&nbsp;it&#39;s&nbsp;own&nbsp;memory&nbsp;consuption.&nbsp;It&#39;s&nbsp;all&nbsp;I&nbsp;can&nbsp;do&nbsp;right&nbsp;now&nbsp;-&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; my&nbsp;squid&nbsp;already&nbsp;restarted&nbsp;and&nbsp;it&#39;s&nbsp;memory&nbsp;has&nbsp;been&nbsp;freed&lt;br&gt;<br>
&gt; &nbsp; &nbsp; -&nbsp;so&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; I&nbsp;think&nbsp;just&nbsp;now&nbsp;I&nbsp;have&nbsp;no&nbsp;power&nbsp;to&nbsp;fill&nbsp;it&nbsp;up&nbsp;again&nbsp;:-]&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; L&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; Dne&nbsp;26.12.2021&nbsp;v&nbsp;7:41&nbsp;Amos&nbsp;Jeffries&nbsp;napsal(a):&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; If&nbsp;possible&nbsp;can&nbsp;one&nbsp;of&nbsp;you&nbsp;run&nbsp;a&nbsp;Squid&nbsp;to&nbsp;get&nbsp;this&lt;br&gt;<br>
&gt; &nbsp; &nbsp; behaviour,&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; then&nbsp;stop&nbsp;new&nbsp;clients&nbsp;connecting&nbsp;to&nbsp;it&nbsp;before&nbsp;lack&nbsp;of&nbsp;memory&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; issues&nbsp;occur&nbsp;and&nbsp;see&nbsp;if&nbsp;the&nbsp;memory&nbsp;usage&nbsp;disappears&nbsp;or&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; reduces&nbsp;after&nbsp;a&nbsp;24-48hr&nbsp;wait.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; A&nbsp;series&nbsp;of&nbsp;regular&nbsp;mempools&nbsp;report&nbsp;dumps&nbsp;from&nbsp;across&nbsp;the&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; test&nbsp;may&nbsp;help&nbsp;Alex&nbsp;or&nbsp;whoever&nbsp;works&nbsp;on&nbsp;the&nbsp;bug&nbsp;eliminate&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; further&nbsp;which&nbsp;cache&nbsp;and&nbsp;client&nbsp;related&nbsp;things&nbsp;are&nbsp;releasing&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; properly.&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; Amos&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; _______________________________________________&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp;  &lt;&lt;a&nbsp;href=&quot;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bez&nbsp;virů.&nbsp;&lt;a&nbsp;href=&quot;http://www.avast.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;www.avast.com&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://www.avast.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.avast.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp;  &lt;&lt;a&nbsp;href=&quot;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.avast.com/sig-email?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=emailclient&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &lt;br&gt;<br>
&gt; &nbsp; &nbsp;  &lt;#m_-6622557068709516458_m_9217020348889694418_DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; _______________________________________________&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;mailto:&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &lt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt; &nbsp; &nbsp; &gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
