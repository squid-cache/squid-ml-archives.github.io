<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;Alex.&nbsp;I&nbsp;will&nbsp;try&nbsp;out&nbsp;the&nbsp;change&nbsp;with&nbsp;the&nbsp;config&nbsp;defaults&nbsp;in&nbsp;cd.data.pre&nbsp;in&nbsp;a&nbsp;test&nbsp;env&nbsp;for&nbsp;now&nbsp;and&nbsp;wait&nbsp;for&nbsp;the&nbsp;PR&nbsp;with&nbsp;the&nbsp;fix&nbsp;to&nbsp;be&nbsp;upstreamed.&lt;div&gt;Praveen&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;24,&nbsp;2022&nbsp;at&nbsp;8:38&nbsp;PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;1/24/22&nbsp;7:24&nbsp;PM,&nbsp;Praveen&nbsp;Ponakanti&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;running&nbsp;squid&nbsp;version 4.17&nbsp;and&nbsp;have&nbsp;not&nbsp;been&nbsp;able&nbsp;to&nbsp;disable&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;reverse&nbsp;DNS&nbsp;lookups&nbsp;it&nbsp;does&nbsp;on&nbsp;each&nbsp;client&#39;s&nbsp;IP&nbsp;address.&nbsp;Found&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;thread&nbsp;below&nbsp;that&nbsp;discusses&nbsp;this;&nbsp;I&nbsp;have&nbsp;attempted&nbsp;adding&nbsp;the&nbsp;following&lt;br&gt;<br>
&gt;&nbsp;config&nbsp;knobs,&nbsp;but&nbsp;it&nbsp;still&nbsp;does&nbsp;not&nbsp;disable&nbsp;the&nbsp;reverse&nbsp;lookups.&nbsp;I&nbsp;do&lt;br&gt;<br>
&gt;&nbsp;not&nbsp;have&nbsp;any&nbsp;logformat&nbsp;containing&nbsp;&quot;&gt;A&quot;&nbsp;or&nbsp;&quot;&lt;A&quot;. &lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;store_id_extras&nbsp;&quot;%&gt;a&nbsp;%un&nbsp;%&gt;rm&nbsp;myip=%la&nbsp;myport=%lp&quot;&lt;br&gt;<br>
&gt;&nbsp;url_rewrite_extras&nbsp;&quot;%&gt;a&nbsp;%un&nbsp;%&gt;rm&nbsp;myip=%la&nbsp;myport=%lp&quot;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/pipermail/squid-users/2016-February/009109.html&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/pipermail/squid-users/2016-February/009109.html&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;proposed&nbsp;solution&nbsp;seems&nbsp;to&nbsp;be&nbsp;to&nbsp;change&nbsp;the&nbsp;following&nbsp;lines&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;recompile.&nbsp;If&nbsp;this&nbsp;is&nbsp;still&nbsp;the&nbsp;recommended&nbsp;fix,&nbsp;can&nbsp;it&nbsp;be&nbsp;upstreamed&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;an&nbsp;upcoming&nbsp;release?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/blob/master/src/cf.data.pre#L6042&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/blob/master/src/cf.data.pre#L6042&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/blob/master/src/cf.data.pre#L6136&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/blob/master/src/cf.data.pre#L6136&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;above&nbsp;change&nbsp;of&nbsp;squid.conf&nbsp;defaults&nbsp;will&nbsp;probably&nbsp;work&nbsp;for&nbsp;you,&nbsp;but&lt;br&gt;<br>
it&nbsp;will&nbsp;also&nbsp;break&nbsp;some&nbsp;deployments&nbsp;affected&nbsp;by&nbsp;this&nbsp;bug&nbsp;because&nbsp;the&lt;br&gt;<br>
current&nbsp;code&nbsp;implicitly&nbsp;relies&nbsp;on&nbsp;those&nbsp;defaults&nbsp;triggering&nbsp;lookups.&lt;br&gt;<br>
Thus,&nbsp;it&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;right&nbsp;solution&nbsp;for&nbsp;upstreaming.&nbsp;The&nbsp;PR&lt;br&gt;<br>
mentioned&nbsp;below&nbsp;discusses&nbsp;specifics&nbsp;(see&nbsp;item&nbsp;#1&nbsp;in&nbsp;the&nbsp;PR&nbsp;description).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;solution&nbsp;proposed&nbsp;for&nbsp;upstreaming&nbsp;is&nbsp;at&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/squid-cache/squid/pull/912&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/squid-cache/squid/pull/912&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;does&nbsp;not&nbsp;require&nbsp;changing&nbsp;squid.conf&nbsp;defaults&nbsp;and&nbsp;has&nbsp;no&nbsp;(known&nbsp;to&lt;br&gt;<br>
me)&nbsp;other&nbsp;serious&nbsp;flaws.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
