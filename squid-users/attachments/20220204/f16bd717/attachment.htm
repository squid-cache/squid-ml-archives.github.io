<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;meta&nbsp;name=Generator&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Consolas;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;6&nbsp;9&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:11.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#464646;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:blue;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
pre<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-link:&quot;HTML&nbsp;Preformatted&nbsp;Char&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Courier&nbsp;New&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#464646;}<br>
span.HTMLPreformattedChar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-name:&quot;HTML&nbsp;Preformatted&nbsp;Char&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-link:&quot;HTML&nbsp;Preformatted&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Consolas&quot;,serif;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#464646;}<br>
span.EmailStyle20<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-reply;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body&nbsp;bgcolor=white&nbsp;lang=EN-US&nbsp;link=blue&nbsp;vlink=purple&nbsp;style='word-wrap:break-word'&gt;&lt;div&nbsp;class=WordSection1&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Hey&nbsp;David,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;First,&nbsp;PHP&nbsp;is&nbsp;a&nbsp;good&nbsp;language&nbsp;however&nbsp;it&nbsp;doesn’t&nbsp;handle&nbsp;well&nbsp;STDIN/STDOUT&nbsp;helpers&nbsp;and&nbsp;crashes&nbsp;more&nbsp;then&nbsp;once&nbsp;without&nbsp;any&nbsp;warnings.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;It’s&nbsp;documented&nbsp;in&nbsp;the&nbsp;PHP&nbsp;docs&nbsp;(Don’t&nbsp;remember&nbsp;exactly&nbsp;where).&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Regarding&nbsp;PHP&nbsp;compared&nbsp;to&nbsp;PHP&nbsp;being&nbsp;faster,&nbsp;it’s&nbsp;pretty&nbsp;simple&nbsp;to&nbsp;test&nbsp;and&nbsp;validate&nbsp;if&nbsp;the&nbsp;cost&nbsp;of&nbsp;the&nbsp;crash&nbsp;is&nbsp;better&nbsp;than&nbsp;the&nbsp;speed.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;What&nbsp;python&nbsp;and&nbsp;PHP&nbsp;code&nbsp;have&nbsp;used&nbsp;in&nbsp;your&nbsp;tests?&nbsp;(I&nbsp;would&nbsp;be&nbsp;happy&nbsp;to&nbsp;try&nbsp;and&nbsp;test&nbsp;it..).&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;You&nbsp;can&nbsp;see&nbsp;this&nbsp;session&nbsp;helper&nbsp;written&nbsp;in&nbsp;python:&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Python&quot;&gt;https://wiki.squid-cache.org/EliezerCroitoru/SessionHelper/Python&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;And&nbsp;about&nbsp;the&nbsp;cache&nbsp;of&nbsp;each&nbsp;helpers,&nbsp;the&nbsp;cost&nbsp;of&nbsp;a&nbsp;cache&nbsp;on&nbsp;a&nbsp;single&nbsp;helper&nbsp;is&nbsp;not&nbsp;much&nbsp;in&nbsp;terms&nbsp;of&nbsp;memory&nbsp;comparing&nbsp;to&nbsp;some&nbsp;network&nbsp;access.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Again&nbsp;it’s&nbsp;possible&nbsp;to&nbsp;test&nbsp;and&nbsp;verify&nbsp;this&nbsp;on&nbsp;a&nbsp;loaded&nbsp;system&nbsp;to&nbsp;get&nbsp;results.&nbsp;The&nbsp;delay&nbsp;itself&nbsp;can&nbsp;be&nbsp;seen&nbsp;from&nbsp;squid&nbsp;side&nbsp;in&nbsp;the&nbsp;cache&nbsp;manager&nbsp;statistics.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;You&nbsp;can&nbsp;also&nbsp;try&nbsp;to&nbsp;compare&nbsp;the&nbsp;next&nbsp;ruby&nbsp;helper:&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/EliezerCroitoru/SessionHelper&quot;&gt;https://wiki.squid-cache.org/EliezerCroitoru/SessionHelper&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;About&nbsp;a&nbsp;shared&nbsp;“base”&nbsp;which&nbsp;allows&nbsp;helpers&nbsp;to&nbsp;avoid&nbsp;computation&nbsp;of&nbsp;the&nbsp;query….&nbsp;It’s&nbsp;a&nbsp;good&nbsp;argument,&nbsp;however&nbsp;it&nbsp;depends&nbsp;what&nbsp;is&nbsp;the&nbsp;cost&nbsp;of&lt;br&gt;pulling&nbsp;from&nbsp;the&nbsp;cache&nbsp;compared&nbsp;to&nbsp;calculating&nbsp;the&nbsp;answer.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;A&nbsp;very&nbsp;simple&nbsp;string&nbsp;comparison&nbsp;or&nbsp;regex&nbsp;matching&nbsp;would&nbsp;probably&nbsp;be&nbsp;faster&nbsp;than&nbsp;reaching&nbsp;a&nbsp;shared&nbsp;storage&nbsp;in&nbsp;many&nbsp;cases.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Also&nbsp;take&nbsp;into&nbsp;account&nbsp;the&nbsp;“concurrency”&nbsp;support&nbsp;from&nbsp;the&nbsp;helper&nbsp;side.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;A&nbsp;helper&nbsp;that&nbsp;supports&nbsp;parallel&nbsp;processing&nbsp;of&nbsp;requests/lines&nbsp;can&nbsp;do&nbsp;better&nbsp;then&nbsp;many&nbsp;single&nbsp;helpers&nbsp;in&nbsp;more&nbsp;than&nbsp;once&nbsp;use&nbsp;case.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;In&nbsp;any&nbsp;case&nbsp;I&nbsp;would&nbsp;suggest&nbsp;to&nbsp;enable&nbsp;requests&nbsp;concurrency&nbsp;from&nbsp;squid&nbsp;side&nbsp;since&nbsp;the&nbsp;STDIN&nbsp;buffer&nbsp;will&nbsp;emulate&nbsp;some&nbsp;level&nbsp;of&nbsp;concurrency&lt;br&gt;by&nbsp;itself&nbsp;and&nbsp;will&nbsp;allow&nbsp;squid&nbsp;to&nbsp;keep&nbsp;going&nbsp;forward&nbsp;faster.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Just&nbsp;to&nbsp;mention&nbsp;that&nbsp;SquidGuard&nbsp;have&nbsp;used&nbsp;a&nbsp;single&nbsp;helper&nbsp;cache&nbsp;for&nbsp;a&nbsp;very&nbsp;long&nbsp;time,&nbsp;ie&nbsp;every&nbsp;single&nbsp;SquidGuard&nbsp;helper&nbsp;has&nbsp;it’s&nbsp;own&nbsp;copy&nbsp;of&nbsp;the&nbsp;whole&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;configuration&nbsp;and&nbsp;database&nbsp;files&nbsp;in&nbsp;memory.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;And&nbsp;again,&nbsp;if&nbsp;you&nbsp;do&nbsp;have&nbsp;any&nbsp;option&nbsp;to&nbsp;implement&nbsp;a&nbsp;server&nbsp;service&nbsp;model&nbsp;and&nbsp;that&nbsp;the&nbsp;helpers&nbsp;will&nbsp;contact&nbsp;this&nbsp;main&nbsp;service&nbsp;you&nbsp;will&nbsp;be&nbsp;able&nbsp;to&nbsp;implement&lt;br&gt;much&nbsp;faster&nbsp;internal&nbsp;in-memory&nbsp;cache&nbsp;compared&nbsp;to&nbsp;a&nbsp;redis/memcahe/other&nbsp;external&nbsp;daemon(need&nbsp;to&nbsp;be&nbsp;tested).&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;A&nbsp;good&nbsp;example&nbsp;for&nbsp;this&nbsp;is&nbsp;ufdbguard&nbsp;which&nbsp;has&nbsp;helpers&nbsp;that&nbsp;are&nbsp;clients&nbsp;of&nbsp;the&nbsp;main&nbsp;service&nbsp;which&nbsp;does&nbsp;the&nbsp;whole&nbsp;heavy&nbsp;lifting&nbsp;and&nbsp;also&nbsp;holds&nbsp;&lt;br&gt;one&nbsp;copy&nbsp;of&nbsp;the&nbsp;DB.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;I&nbsp;have&nbsp;implemented&nbsp;SquidBlocker&nbsp;this&nbsp;way&nbsp;and&nbsp;have&nbsp;seen&nbsp;that&nbsp;it&nbsp;out-performs&nbsp;any&nbsp;other&nbsp;service&nbsp;I&nbsp;have&nbsp;tried&nbsp;until&nbsp;now.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Eliezer&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;----&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Eliezer&nbsp;Croitoru&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;NgTech,&nbsp;Tech&nbsp;Support&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Mobile:&nbsp;+972-5-28704261&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:ngtech1ltd@gmail.com&quot;&gt;ngtech1ltd@gmail.com&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;style='color:windowtext'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div&nbsp;style='border:none;border-top:solid&nbsp;#E1E1E1&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in'&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;b&gt;&lt;span&nbsp;style='color:windowtext'&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style='color:windowtext'&gt;&nbsp;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;David&nbsp;Touzeau&lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Thursday,&nbsp;February&nbsp;3,&nbsp;2022&nbsp;14:24&lt;br&gt;&lt;b&gt;To:&lt;/b&gt;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt;&nbsp;Re:&nbsp;[squid-users]&nbsp;external&nbsp;helper&nbsp;development&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='margin-bottom:12.0pt'&gt;&lt;span&nbsp;style='font-family:&quot;Arial&quot;,sans-serif'&gt;Hi&nbsp;Elizer&lt;br&gt;&lt;br&gt;You&nbsp;are&nbsp;right&nbsp;in&nbsp;a&nbsp;way&nbsp;but&nbsp;when&nbsp;squid&nbsp;loads&nbsp;multiple&nbsp;helpers,&nbsp;each&nbsp;helper&nbsp;will&nbsp;use&nbsp;its&nbsp;own&nbsp;cache.&lt;br&gt;Using&nbsp;a&nbsp;shared&nbsp;&quot;base&quot;&nbsp;allows&nbsp;helpers&nbsp;to&nbsp;avoid&nbsp;having&nbsp;to&nbsp;compute&nbsp;a&nbsp;query&nbsp;already&nbsp;found&nbsp;by&nbsp;another&nbsp;helper&nbsp;who&nbsp;already&nbsp;has&nbsp;the&nbsp;answer.&lt;br&gt;&lt;br&gt;Concerning&nbsp;PHP&nbsp;what&nbsp;we&nbsp;find&nbsp;strange&nbsp;is&nbsp;that&nbsp;with&nbsp;our&nbsp;tests,&nbsp;a&nbsp;simple&nbsp;loop&nbsp;and&nbsp;an&nbsp;&quot;echo&nbsp;OK&quot;,&nbsp;php&nbsp;goes&nbsp;faster:&nbsp;1.5x&nbsp;than&nbsp;python.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;Le&nbsp;03/02/2022&nbsp;à&nbsp;07:09,&nbsp;Eliezer&nbsp;Croitoru&nbsp;a&nbsp;écrit&nbsp;:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;blockquote&nbsp;style='margin-top:5.0pt;margin-bottom:5.0pt'&gt;&lt;pre&gt;Hey&nbsp;Andre,&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Every&nbsp;language&nbsp;has&nbsp;a&nbsp;&quot;cost&quot;&nbsp;for&nbsp;it's&nbsp;qualities.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;For&nbsp;example,&nbsp;Golang&nbsp;is&nbsp;a&nbsp;very&nbsp;nice&nbsp;language&nbsp;that&nbsp;offers&nbsp;a&nbsp;relatively&nbsp;simple&nbsp;way&nbsp;for&nbsp;concurrency&nbsp;support&nbsp;and&nbsp;cross&nbsp;hardware&nbsp;compilation/compatibility.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;One&nbsp;cost&nbsp;in&nbsp;Golang&nbsp;is&nbsp;that&nbsp;the&nbsp;binary&nbsp;is&nbsp;in&nbsp;the&nbsp;size&nbsp;of&nbsp;an&nbsp;OS/Kernel.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;In&nbsp;python&nbsp;you&nbsp;must&nbsp;write&nbsp;everything&nbsp;in&nbsp;a&nbsp;specific&nbsp;position&nbsp;and&nbsp;indentation&nbsp;and&nbsp;threading&nbsp;is&nbsp;not&nbsp;simple&nbsp;to&nbsp;implement&nbsp;for&nbsp;a&nbsp;novice.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;However&nbsp;when&nbsp;you&nbsp;see&nbsp;what&nbsp;was&nbsp;written&nbsp;in&nbsp;Python&nbsp;you&nbsp;can&nbsp;see&nbsp;that&nbsp;most&nbsp;of&nbsp;OpenStack&nbsp;api's&nbsp;and&nbsp;systems&nbsp;are&nbsp;written&nbsp;in..&nbsp;python&nbsp;and&nbsp;it&nbsp;means&nbsp;something.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;I&nbsp;like&nbsp;very&nbsp;much&nbsp;ruby&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;support&nbsp;threading&nbsp;by&nbsp;nature&nbsp;but&nbsp;supports&nbsp;&quot;concurrency&quot;.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Squid&nbsp;doesn't&nbsp;implement&nbsp;threading&nbsp;but&nbsp;implements&nbsp;&quot;concurrency&quot;.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Don't&nbsp;touch&nbsp;PHP&nbsp;as&nbsp;a&nbsp;helper!!!&nbsp;(+1&nbsp;to&nbsp;Alex)&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Also&nbsp;take&nbsp;into&nbsp;account&nbsp;that&nbsp;Redis&nbsp;or&nbsp;Memcached&nbsp;is&nbsp;less&nbsp;preferred&nbsp;in&nbsp;many&nbsp;cases&nbsp;if&nbsp;the&nbsp;library&nbsp;doesn't&nbsp;re-use&nbsp;the&nbsp;existing&nbsp;connection&nbsp;for&nbsp;multiple&nbsp;queries.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Squid&nbsp;also&nbsp;implements&nbsp;caching&nbsp;for&nbsp;helpers&nbsp;answers&nbsp;so&nbsp;it's&nbsp;possible&nbsp;to&nbsp;implement&nbsp;the&nbsp;helper&nbsp;and&nbsp;ACL's&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;that&nbsp;squid&nbsp;caching&nbsp;will&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;help&nbsp;you&nbsp;to&nbsp;lower&nbsp;the&nbsp;access&nbsp;to&nbsp;the&nbsp;external&nbsp;API&nbsp;and&nbsp;or&nbsp;redis/memcahced/DB.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;I&nbsp;also&nbsp;have&nbsp;good&nbsp;experience&nbsp;with&nbsp;some&nbsp;libraries&nbsp;which&nbsp;implements&nbsp;cache&nbsp;that&nbsp;I&nbsp;have&nbsp;used&nbsp;inside&nbsp;a&nbsp;helper&nbsp;with&nbsp;a&nbsp;limited&nbsp;size&nbsp;for&nbsp;&quot;level&nbsp;1&quot;&nbsp;cache.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;It's&nbsp;possible&nbsp;that&nbsp;if&nbsp;you&nbsp;will&nbsp;implement&nbsp;both&nbsp;the&nbsp;helper&nbsp;and&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;solution&nbsp;like&nbsp;ufdbguard&nbsp;you&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;optimize&nbsp;the&nbsp;system&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;to&nbsp;take&nbsp;very&nbsp;high&nbsp;load.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;I&nbsp;hope&nbsp;the&nbsp;above&nbsp;will&nbsp;help&nbsp;you.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Eliezer&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;----&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Eliezer&nbsp;Croitoru&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;NgTech,&nbsp;Tech&nbsp;Support&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Mobile:&nbsp;+972-5-28704261&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:ngtech1ltd@gmail.com&quot;&gt;ngtech1ltd@gmail.com&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;-----Original&nbsp;Message-----&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;From:&nbsp;squid-users&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&gt;&lt;squid-users-bounces@lists.squid-cache.org&gt;&lt;/a&gt;&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;André&nbsp;Bolinhas&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Sent:&nbsp;Wednesday,&nbsp;February&nbsp;2,&nbsp;2022&nbsp;00:09&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;To:&nbsp;'Alex&nbsp;Rousskov'&nbsp;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;&lt;rousskov@measurement-factory.com&gt;&lt;/a&gt;;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;external&nbsp;helper&nbsp;development&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Hi&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Thanks&nbsp;for&nbsp;the&nbsp;reply.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;I&nbsp;will&nbsp;take&nbsp;a&nbsp;look&nbsp;on&nbsp;Rust&nbsp;as&nbsp;you&nbsp;recommend.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Also,&nbsp;between&nbsp;Python&nbsp;and&nbsp;Go&nbsp;and&nbsp;is&nbsp;the&nbsp;best&nbsp;for&nbsp;multithreading&nbsp;and&nbsp;concurrency?&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Rust&nbsp;supports&nbsp;multithreading&nbsp;and&nbsp;concurrency?&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Best&nbsp;regards&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;-----Mensagem&nbsp;original-----&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;De:&nbsp;squid-users&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&gt;&lt;squid-users-bounces@lists.squid-cache.org&gt;&lt;/a&gt;&nbsp;Em&nbsp;Nome&nbsp;De&nbsp;Alex&nbsp;Rousskov&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Enviada:&nbsp;1&nbsp;de&nbsp;fevereiro&nbsp;de&nbsp;2022&nbsp;22:01&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Para:&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Assunto:&nbsp;Re:&nbsp;[squid-users]&nbsp;external&nbsp;helper&nbsp;development&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;On&nbsp;2/1/22&nbsp;16:47,&nbsp;André&nbsp;Bolinhas&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;blockquote&nbsp;style='margin-top:5.0pt;margin-bottom:5.0pt'&gt;&lt;pre&gt;Hi&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;I’m&nbsp;building&nbsp;an&nbsp;external&nbsp;helper&nbsp;to&nbsp;get&nbsp;the&nbsp;categorization&nbsp;of&nbsp;an&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;website,&nbsp;I&nbsp;know&nbsp;how&nbsp;to&nbsp;build&nbsp;it,&nbsp;but&nbsp;I&nbsp;need&nbsp;you&nbsp;option&nbsp;about&nbsp;the&nbsp;best&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;language&nbsp;for&nbsp;the&nbsp;job&nbsp;in&nbsp;terms&nbsp;of&nbsp;performance,&nbsp;bottlenecks,&nbsp;I/O&nbsp;blocking..&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;The&nbsp;helper&nbsp;will&nbsp;work&nbsp;like&nbsp;this.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;1º &nbsp;will&nbsp;check&nbsp;the&nbsp;hot&nbsp;memory&nbsp;for&nbsp;faster&nbsp;response&nbsp;(memcache&nbsp;or&nbsp;redis)&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;2º&nbsp;If&nbsp;the&nbsp;result&nbsp;not&nbsp;exist&nbsp;in&nbsp;hot&nbsp;memory&nbsp;then&nbsp;will&nbsp;check&nbsp;an&nbsp;external&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;api&nbsp;to&nbsp;fetch&nbsp;the&nbsp;categorie&nbsp;and&nbsp;saved&nbsp;it&nbsp;in&nbsp;hot&nbsp;memory.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;In&nbsp;what&nbsp;language&nbsp;do&nbsp;you&nbsp;recommend&nbsp;develop&nbsp;such&nbsp;helper?&nbsp;PHP,&nbsp;Python,&nbsp;Go..&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;If&nbsp;this&nbsp;helper&nbsp;is&nbsp;for&nbsp;long-term&nbsp;production&nbsp;use,&nbsp;and&nbsp;you&nbsp;are&nbsp;willing&nbsp;to&nbsp;learn&nbsp;new&nbsp;things,&nbsp;then&nbsp;use&nbsp;Rust[1].&nbsp;Otherwise,&nbsp;use&nbsp;whatever&nbsp;language&nbsp;you&nbsp;are&nbsp;the&nbsp;most&nbsp;comfortable&nbsp;with&nbsp;already&nbsp;(except&nbsp;PHP),&nbsp;especially&nbsp;if&nbsp;that&nbsp;language&nbsp;has&nbsp;good&nbsp;libraries/wrappers&nbsp;for&nbsp;the&nbsp;external&nbsp;APIs&nbsp;you&nbsp;will&nbsp;need&nbsp;to&nbsp;use.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;Alex.&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://www.rust-lang.org/&quot;&gt;https://www.rust-lang.org/&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;_______________________________________________&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;squid-users&nbsp;mailing&nbsp;list&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;_______________________________________________&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;squid-users&nbsp;mailing&nbsp;list&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;_______________________________________________&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;squid-users&nbsp;mailing&nbsp;list&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
