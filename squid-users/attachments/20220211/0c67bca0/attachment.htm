<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#464646&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;face=&quot;Arial&quot;&gt;Hello&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thank&nbsp;you&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;objective&nbsp;and&nbsp;this&nbsp;is&nbsp;the&nbsp;reason&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needing&nbsp;the&nbsp;&quot;fake&quot;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Access&nbsp;to&nbsp;Kerberos&nbsp;or&nbsp;NTLM&nbsp;ports&nbsp;of&nbsp;the&nbsp;AD,&nbsp;is&nbsp;not&nbsp;possible.&nbsp;An<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDAP&nbsp;server&nbsp;would&nbsp;be&nbsp;present&nbsp;with&nbsp;accounts&nbsp;replication.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;idea&nbsp;is&nbsp;to&nbsp;do&nbsp;a&nbsp;silent&nbsp;authentication&nbsp;without&nbsp;joining&nbsp;the&nbsp;AD&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;did&nbsp;not&nbsp;need&nbsp;the&nbsp;double&nbsp;user/password&nbsp;credential,&nbsp;only&nbsp;the&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sent&nbsp;by&nbsp;the&nbsp;browser&nbsp;is&nbsp;required&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;the&nbsp;user&nbsp;has&nbsp;an&nbsp;Active&nbsp;Directory&nbsp;session&nbsp;then&nbsp;his&nbsp;account&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;automatically&nbsp;sent&nbsp;without&nbsp;him&nbsp;having&nbsp;to&nbsp;take&nbsp;any&nbsp;action.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;the&nbsp;user&nbsp;is&nbsp;in&nbsp;a&nbsp;workgroup&nbsp;then&nbsp;the&nbsp;account&nbsp;sent&nbsp;will&nbsp;not&nbsp;be&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;LDAP&nbsp;database&nbsp;and&nbsp;will&nbsp;be&nbsp;rejected.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;don't&nbsp;need&nbsp;to&nbsp;argue&nbsp;about&nbsp;the&nbsp;security&nbsp;value&nbsp;of&nbsp;this&nbsp;method.&nbsp;It<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saves&nbsp;us&nbsp;from&nbsp;setting&nbsp;up&nbsp;a&nbsp;gas&nbsp;factory&nbsp;to&nbsp;make&nbsp;a&nbsp;kind&nbsp;of&nbsp;HotSpot&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;Le&nbsp;11/02/2022&nbsp;à&nbsp;05:55,&nbsp;Dieter&nbsp;Bloms&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;écrit :&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:20220211045539.3q4xzr6bqbunhaxc@bloms.de&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hello&nbsp;David,<br>
<br>
for&nbsp;me&nbsp;it&nbsp;looks&nbsp;like&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;kerberos&nbsp;authentication.<br>
With&nbsp;kerberos&nbsp;authentication&nbsp;the&nbsp;user&nbsp;don't&nbsp;have&nbsp;to&nbsp;authenticate&nbsp;against<br>
the&nbsp;proxy.&nbsp;The&nbsp;authentication&nbsp;is&nbsp;done&nbsp;in&nbsp;the&nbsp;background.<br>
<br>
Mayb&nbsp;this&nbsp;link&nbsp;will&nbsp;help:<br>
<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos&quot;&gt;https://wiki.squid-cache.org/ConfigExamples/Authenticate/Kerberos&lt;/a&gt;<br>
<br>
On&nbsp;Thu,&nbsp;Feb&nbsp;10,&nbsp;David&nbsp;Touzeau&nbsp;wrote:<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hi<br>
<br>
What&nbsp;we&nbsp;are&nbsp;looking&nbsp;for&nbsp;is&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;&quot;user&quot;&nbsp;token&nbsp;without&nbsp;having&nbsp;to&nbsp;ask<br>
anything&nbsp;from&nbsp;the&nbsp;user.<br>
That's&nbsp;why&nbsp;we're&nbsp;looking&nbsp;at&nbsp;Active&nbsp;Directory&nbsp;credentials.<br>
Once&nbsp;the&nbsp;user&nbsp;account&nbsp;is&nbsp;retrieved,&nbsp;a&nbsp;helper&nbsp;would&nbsp;be&nbsp;in&nbsp;charge&nbsp;of&nbsp;checking<br>
if&nbsp;the&nbsp;user&nbsp;exists&nbsp;in&nbsp;the&nbsp;LDAP&nbsp;database.<br>
This&nbsp;is&nbsp;to&nbsp;avoid&nbsp;any&nbsp;connection&nbsp;to&nbsp;an&nbsp;Active&nbsp;Directory<br>
Maybe&nbsp;this&nbsp;is&nbsp;impossible<br>
<br>
<br>
Le&nbsp;10/02/2022&nbsp;à&nbsp;05:03,&nbsp;Amos&nbsp;Jeffries&nbsp;a&nbsp;écrit :<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;On&nbsp;10/02/22&nbsp;01:43,&nbsp;David&nbsp;Touzeau&nbsp;wrote:<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;Hi<br>
<br>
I&nbsp;would&nbsp;like&nbsp;to&nbsp;sponsor&nbsp;the&nbsp;improvement&nbsp;of&nbsp;ntlm_fake_auth&nbsp;to&nbsp;support<br>
new&nbsp;protocols<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
ntlm_*&nbsp;helpers&nbsp;are&nbsp;specific&nbsp;to&nbsp;NTLM&nbsp;authentication.&nbsp;All&nbsp;LanManager&nbsp;(LM)<br>
protocols&nbsp;should&nbsp;already&nbsp;be&nbsp;supported&nbsp;as&nbsp;well&nbsp;as&nbsp;currently&nbsp;possible.<br>
NTLM&nbsp;is&nbsp;formally&nbsp;discontinued&nbsp;by&nbsp;MS&nbsp;and&nbsp;*very*&nbsp;inefficient.<br>
<br>
NP:&nbsp;NTLMv2&nbsp;with&nbsp;encryption&nbsp;does&nbsp;not&nbsp;*work*&nbsp;because&nbsp;that&nbsp;encryption&nbsp;step<br>
requires&nbsp;secret&nbsp;keys&nbsp;the&nbsp;proxy&nbsp;is&nbsp;not&nbsp;able&nbsp;to&nbsp;know.<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;or&nbsp;go&nbsp;further&nbsp;produce&nbsp;a&nbsp;new&nbsp;negotiate_kerberos_auth_fake<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
With&nbsp;current&nbsp;Squid&nbsp;this&nbsp;helper&nbsp;only&nbsp;needs&nbsp;to&nbsp;produce&nbsp;an&nbsp;&quot;OK&quot;&nbsp;response<br>
regardless&nbsp;of&nbsp;the&nbsp;input.&nbsp;The&nbsp;basic_auth_fake&nbsp;does&nbsp;that.<br>
<br>
Amos<br>
_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;_______________________________________________<br>
squid-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;moz-quote-pre&quot;&nbsp;wrap=&quot;&quot;&gt;<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
