<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&nbsp;/&gt;&lt;/head&gt;&lt;body&nbsp;style='font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Verdana,Geneva,sans-serif'&gt;<br>
&lt;p&gt;Good&nbsp;morning,&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;have&nbsp;been&nbsp;using&nbsp;Squid&nbsp;as&nbsp;an&nbsp;http&nbsp;caching&nbsp;proxy&nbsp;for&nbsp;a&nbsp;long&nbsp;time.&lt;/p&gt;<br>
&lt;p&gt;It's&nbsp;the&nbsp;second&nbsp;time&nbsp;I&nbsp;configured&nbsp;Squid&nbsp;for&nbsp;https&nbsp;caching&nbsp;and&nbsp;interception/inspection.&lt;/p&gt;<br>
&lt;p&gt;The&nbsp;first&nbsp;time&nbsp;everything&nbsp;was&nbsp;fine&lt;/p&gt;<br>
&lt;p&gt;The&nbsp;second...not&nbsp;so&nbsp;much.&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;use&nbsp;the&nbsp;ssl_bump&nbsp;feature.&lt;/p&gt;<br>
&lt;p&gt;With&nbsp;Squid&nbsp;4.13&nbsp;and&nbsp;Openssl&nbsp;v&nbsp;1.1.1k-1&nbsp;all&nbsp;works&nbsp;well&nbsp;without&nbsp;errors&nbsp;or&nbsp;warnings.&lt;/p&gt;<br>
&lt;p&gt;With&nbsp;Squid&nbsp;v.&nbsp;5.2.1&nbsp;and&nbsp;Openssl&nbsp;v.&nbsp;3.0.1,&nbsp;I&nbsp;got&nbsp;one&nbsp;error&nbsp;and&nbsp;one&nbsp;warning.&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;tried&nbsp;to&nbsp;use&nbsp;the&nbsp;same&nbsp;squid.conf&nbsp;for&nbsp;Squid&nbsp;4&nbsp;and&nbsp;Squid&nbsp;5.&lt;/p&gt;<br>
&lt;p&gt;Here&nbsp;are&nbsp;the&nbsp;problems&nbsp;with&nbsp;Squid&nbsp;5.&lt;/p&gt;<br>
&lt;p&gt;1)&nbsp;ERROR&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;checked&nbsp;the&nbsp;configuration&nbsp;with&nbsp;the&nbsp;command&nbsp;&quot;squid&nbsp;-k&nbsp;parse&quot;&nbsp;and&nbsp;I&nbsp;got&nbsp;this&nbsp;error:&nbsp;ERROR:&nbsp;Unable&nbsp;to&nbsp;configure&nbsp;Ephemeral&nbsp;ECDH:&nbsp;error:0480006C:PEM&nbsp;routines::no&nbsp;start&nbsp;line&lt;/p&gt;<br>
&lt;p&gt;If&nbsp;I&nbsp;remove&nbsp;the&nbsp;curve&nbsp;name&nbsp;from&nbsp;tls-dh&nbsp;in&nbsp;the&nbsp;config&nbsp;file,&nbsp;the&nbsp;error&nbsp;disappears.&lt;/p&gt;<br>
&lt;p&gt;First&nbsp;question:&nbsp;Which&nbsp;is&nbsp;the&nbsp;problem?&nbsp;How&nbsp;can&nbsp;I&nbsp;do&nbsp;to&nbsp;keep&nbsp;the&nbsp;curve&nbsp;name&nbsp;(prime256v1)&lt;/p&gt;<br>
&lt;p&gt;2)&nbsp;WARNING&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;checked&nbsp;the&nbsp;configuration&nbsp;with&nbsp;the&nbsp;command&nbsp;&quot;squid&nbsp;-k&nbsp;parse&quot;&nbsp;and&nbsp;I&nbsp;got&nbsp;this&nbsp;warning:&nbsp;WARNING:&nbsp;Failed&nbsp;to&nbsp;decode&nbsp;DH&nbsp;parameters&nbsp;'/var/lib/squid/ssl_cert/squid-self-signed_dhparam.pem'&lt;/p&gt;<br>
&lt;p&gt;I&nbsp;generated&nbsp;the&nbsp;file&nbsp;for&nbsp;the&nbsp;Diffie-Hellman&nbsp;algorithm&nbsp;with&nbsp;this&nbsp;command&nbsp;(it&nbsp;worked&nbsp;with&nbsp;Squid4):&nbsp;openssl&nbsp;dhparam&nbsp;-outform&nbsp;PEM&nbsp;-out&nbsp;squid-self-signed_dhparam.pem&nbsp;2048&lt;/p&gt;<br>
&lt;p&gt;Second&nbsp;question:&nbsp;Have&nbsp;you&nbsp;an&nbsp;idea&nbsp;on&nbsp;how&nbsp;to&nbsp;fix&nbsp;this?&lt;/p&gt;<br>
&lt;p&gt;Thank&nbsp;you.&lt;/p&gt;<br>
<br>
&lt;/body&gt;&lt;/html&gt;<br>

</tt>
