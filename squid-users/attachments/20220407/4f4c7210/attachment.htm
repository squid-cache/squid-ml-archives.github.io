<tt>
&lt;html&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:blue;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;style=&quot;word-wrap:break-word&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;Hello&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:#070706;background:#FFEE94&quot;&gt;Amos&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;,&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;Config&nbsp;file&nbsp;is&nbsp;based&nbsp;on&nbsp;IP&nbsp;auth&nbsp;and&nbsp;user/pass&nbsp;auth&nbsp;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;But&nbsp;I&nbsp;want&nbsp;to&nbsp;minimize&nbsp;the&nbsp;CPU&nbsp;hit&nbsp;of&nbsp;my&nbsp;config&nbsp;file&nbsp;as&nbsp;much&nbsp;as&nbsp;possible&nbsp;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;Version&nbsp;:&nbsp;Squid&nbsp;5.3&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
###############################################################################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&lt;br&gt;<br>
squid.conf&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;RDP-Domain-controller&nbsp;src&nbsp;77.90.230.0/24&nbsp;77.90.228.0/24&nbsp;77.90.225.0/24&nbsp;77.90.210.0/24&nbsp;77.90.193.0/24&nbsp;77.90.145.0/24&nbsp;77.90.112.0/24&nbsp;88.21.95.0/24&nbsp;88.21.94.0/24&nbsp;88.21.76.0/24&nbsp;88.21.75.0/24&nbsp;88.21.72.0/24<br>
&nbsp;88.21.36.0/24&nbsp;88.21.34.0/24&nbsp;88.21.199.0/24&nbsp;88.21.193.0/24&nbsp;88.21.192.0/24&nbsp;88.21.137.0/24&nbsp;88.21.135.0/24&nbsp;88.21.132.0/24&nbsp;88.21.131.0/24&nbsp;88.21.129.0/24&nbsp;88.21.128.0/24&nbsp;88.21.126.0/24&nbsp;88.21.121.0/24&nbsp;88.21.120.0/24&nbsp;88.108.9.0/24&nbsp;88.108.45.0/24&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;allow&nbsp;RDP-Domain-controller&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;googleaccess&nbsp;dstdomain&nbsp;.google.com&nbsp;.google.ad&nbsp;.google.ae&nbsp;.google.com.af&nbsp;.google.com.ag&nbsp;.google.com.ai&nbsp;.google.al&nbsp;.google.am&nbsp;.google.co.ao&nbsp;.google.com.ar&nbsp;.google.as&nbsp;.google.at&nbsp;.google.com.au<br>
&nbsp;.google.az&nbsp;.google.ba&nbsp;.google.com.bd&nbsp;.google.be&nbsp;.google.bf&nbsp;.google.bg&nbsp;.google.com.bh&nbsp;.google.bi&nbsp;.google.bj&nbsp;.google.com.bn&nbsp;.google.com.bo&nbsp;.google.com.br&nbsp;.google.bs&nbsp;.google.bt&nbsp;.google.co.bw&nbsp;.google.by&nbsp;.google.com.bz&nbsp;.google.ca&nbsp;.google.cd&nbsp;.google.cf&nbsp;.google.cg<br>
&nbsp;.google.ch&nbsp;.google.ci&nbsp;.google.co.ck&nbsp;.google.cl&nbsp;.google.cm&nbsp;.google.cn&nbsp;.google.com.co&nbsp;.google.co.cr&nbsp;.google.com.cu&nbsp;.google.cv&nbsp;.google.com.cy&nbsp;.google.cz&nbsp;.google.de&nbsp;.google.dj&nbsp;.google.dk&nbsp;.google.dm&nbsp;.google.com.do&nbsp;.google.dz&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;FTP&nbsp;proto&nbsp;FTP&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;deny&nbsp;FTP&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;deny&nbsp;manager&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;URN&nbsp;proto&nbsp;URN&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;deny&nbsp;URN&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;###########################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#############################################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;visible_hostname&nbsp;squid&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;###################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#&nbsp;Lockdown&nbsp;Procedures&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;auth_param&nbsp;basic&nbsp;program&nbsp;/lib/squid/basic_ncsa_auth&nbsp;/etc/squid/squid_user&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;ncsa_users&nbsp;proxy_auth&nbsp;REQUIRED&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;auth_param&nbsp;basic&nbsp;children&nbsp;50&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;auth_param&nbsp;basic&nbsp;realm&nbsp;login&nbsp;squid&nbsp;Login&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;deny&nbsp;ncsa_users&nbsp;googleaccess&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_access&nbsp;allow&nbsp;ncsa_users&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;auth_param&nbsp;basic&nbsp;casesensitive&nbsp;on&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#########################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;cache_effective_user&nbsp;squid&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;cache_effective_group&nbsp;squid&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;##############&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;server_persistent_connections&nbsp;off&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;client_persistent_connections&nbsp;off&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;cache&nbsp;deny&nbsp;all&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;###############################################&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_port&nbsp;&nbsp;66.4.223.238:45000&nbsp;name=45000&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_port&nbsp;&nbsp;66.4.223.238:45001&nbsp;name=45001&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_port&nbsp;&nbsp;66.4.223.238:45002&nbsp;name=45002&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;http_port&nbsp;&nbsp;66.4.223.238:45003&nbsp;name=45003&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#########&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;user45000&nbsp;myportname&nbsp;45000&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;user45001&nbsp;myportname&nbsp;45001&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;user45002&nbsp;myportname&nbsp;45002&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;acl&nbsp;user45003&nbsp;myportname&nbsp;45003&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;#############&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;tcp_outgoing_address&nbsp;2a0f:3fc6:f1f1:459e:ba16:10cc:3d9f:6d8f&nbsp;user45000&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;tcp_outgoing_address&nbsp;2a0f:3fc6:f1f1:459e:ca27:f465:986e:6dfc&nbsp;user45001&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;tcp_outgoing_address&nbsp;2a0f:3fc6:f1f1:459e:27de:fec7:49fc:3113&nbsp;user45002&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;tcp_outgoing_address&nbsp;2a0f:3fc6:f1f1:459e:698a:d044:d39e:ffe7&nbsp;user45003&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;tcp_outgoing_address&nbsp;2a0f:3fc6:f1f1:459e:bc96:9e75:6653:76ac&nbsp;user45004&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;color:black&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#B5C4DF&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:12.0pt;color:black&quot;&gt;From:<br>
&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:12.0pt;color:black&quot;&gt;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&lt;br&gt;<br>
&lt;b&gt;Date:&nbsp;&lt;/b&gt;Friday,&nbsp;April&nbsp;1,&nbsp;2022&nbsp;at&nbsp;1:51&nbsp;AM&lt;br&gt;<br>
&lt;b&gt;To:&nbsp;&lt;/b&gt;squid-users@lists.squid-cache.org&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&nbsp;&lt;/b&gt;Re:&nbsp;[squid-users]&nbsp;Squid&nbsp;3-5&nbsp;CPU&nbsp;optimization&nbsp;and&nbsp;best&nbsp;practise&nbsp;.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;FYI;&nbsp;CPU&nbsp;in&nbsp;Squid&nbsp;is&nbsp;primarily&nbsp;consumed&nbsp;by&nbsp;two&nbsp;things:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;parsing&nbsp;and&nbsp;processing&nbsp;HTTP&nbsp;message&nbsp;headers.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;only&nbsp;thing&nbsp;you&nbsp;can&nbsp;do&nbsp;about&nbsp;this&nbsp;is&nbsp;detect&nbsp;and&nbsp;reject&nbsp;unwanted&nbsp;&lt;br&gt;<br>
traffic&nbsp;as&nbsp;early&nbsp;as&nbsp;possible.&lt;br&gt;<br>
&lt;br&gt;<br>
Your&nbsp;OS&nbsp;firewall&nbsp;is&nbsp;obviously&nbsp;the&nbsp;early&nbsp;line&nbsp;of&nbsp;defense.&nbsp;Preventing&nbsp;&lt;br&gt;<br>
unwanted&nbsp;network&nbsp;ranges&nbsp;from&nbsp;reaching&nbsp;Squid&nbsp;listening&nbsp;ports&nbsp;saves&nbsp;Squid&nbsp;&lt;br&gt;<br>
from&nbsp;spending&nbsp;CPU&nbsp;cycles&nbsp;looking&nbsp;up&nbsp;details&nbsp;about&nbsp;those&nbsp;unwanted&nbsp;clients.&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;for&nbsp;clients&nbsp;who&nbsp;are&nbsp;potentially&nbsp;valid&nbsp;the&nbsp;default&nbsp;http_access&nbsp;rules&nbsp;&lt;br&gt;<br>
reject&nbsp;dangerous&nbsp;traffic&nbsp;quickly&nbsp;and&nbsp;efficiently.&nbsp;Make&nbsp;sure&nbsp;any&nbsp;custom&nbsp;&lt;br&gt;<br>
http_access&nbsp;rules&nbsp;are&nbsp;listed&nbsp;*after*&nbsp;those&nbsp;ones.&nbsp;Then&nbsp;see&nbsp;(2).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
2)&nbsp;processing&nbsp;access&nbsp;controls&nbsp;(ACL&nbsp;checks).&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;optimize&nbsp;this&nbsp;needs&nbsp;attention&nbsp;to&nbsp;what&nbsp;order&nbsp;ACLs&nbsp;are&nbsp;tested&nbsp;in&nbsp;versus&nbsp;&lt;br&gt;<br>
how&nbsp;complex&nbsp;they&nbsp;are&nbsp;to&nbsp;process.&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;many&nbsp;CPU&nbsp;cycles&nbsp;are&nbsp;consumed&nbsp;managing&nbsp;any&nbsp;resources&nbsp;they&nbsp;or&nbsp;other&nbsp;&lt;br&gt;<br>
processes&nbsp;they&nbsp;trigger&nbsp;is&nbsp;also&nbsp;important.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;want&nbsp;a&nbsp;free&nbsp;optimization&nbsp;review&nbsp;please&nbsp;post&nbsp;your&nbsp;full&nbsp;squid.conf&nbsp;&lt;br&gt;<br>
(just&nbsp;without&nbsp;the&nbsp;documentation&nbsp;comments&nbsp;and&nbsp;empty&nbsp;lines).&nbsp;Then&nbsp;we&nbsp;can&nbsp;&lt;br&gt;<br>
point&nbsp;out&nbsp;any&nbsp;performance&nbsp;tricks&nbsp;you&nbsp;may&nbsp;not&nbsp;yet&nbsp;be&nbsp;using.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Beyond&nbsp;those&nbsp;two&nbsp;you&nbsp;are&nbsp;getting&nbsp;into&nbsp;&quot;advanced&nbsp;admin&quot;&nbsp;levels&nbsp;of&nbsp;&lt;br&gt;<br>
performance&nbsp;optimization.&nbsp;Where&nbsp;YMMV,&nbsp;Alex&nbsp;has&nbsp;mentioned.&nbsp;Every&nbsp;network&nbsp;&lt;br&gt;<br>
is&nbsp;different&nbsp;so&nbsp;none&nbsp;of&nbsp;us&nbsp;can&nbsp;say&nbsp;a&nbsp;specific&nbsp;thing&nbsp;to&nbsp;do&nbsp;that&nbsp;will&nbsp;be&nbsp;&lt;br&gt;<br>
better&nbsp;for&nbsp;you.&lt;br&gt;<br>
&lt;br&gt;<br>
HTH&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;/span&gt;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/span&gt;&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
