<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;Thank &nbsp;you&nbsp;for&nbsp;your&nbsp;quick&nbsp;reply.&nbsp;The&nbsp;text-drawing&nbsp;actually&nbsp;changed&nbsp;with&nbsp;different&nbsp;font;&nbsp;the&nbsp;squid&nbsp;server&nbsp;is&nbsp;effectively&nbsp;connected&nbsp;to&nbsp;MikroTik&nbsp;router,&nbsp;not&nbsp;the&nbsp;same&nbsp;physical&nbsp;link&nbsp;as&nbsp;the&nbsp;client.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;The&nbsp;MikroTik&nbsp;router&nbsp;sits&nbsp;between&nbsp;the&nbsp;client&nbsp;and&nbsp;squid&nbsp;server.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;That&nbsp;said,&nbsp;I&nbsp;can&nbsp;confirm&nbsp;that&nbsp;the&nbsp;MikroTik&nbsp;router&nbsp;is&nbsp;effectively&nbsp;able&nbsp;to&nbsp;route/DNat&nbsp;client&nbsp;packets&nbsp;going&nbsp;to&nbsp;ports&nbsp;80&nbsp;and&nbsp;443&nbsp;to&nbsp;squid&nbsp;server.&nbsp;Depending&nbsp;on&nbsp;router&nbsp;rules&nbsp;be&nbsp;it&nbsp;route&nbsp;or&nbsp;dnat,&nbsp;the&nbsp;client&nbsp;browser&nbsp;effectively&nbsp;displays&nbsp;the&nbsp;error&nbsp;page&nbsp;of&nbsp;squid,&nbsp;or&nbsp;goes&nbsp;into&nbsp;a&nbsp;very&nbsp;long&nbsp;delay&nbsp;then&nbsp;failure.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;I&nbsp;will&nbsp;retry&nbsp;and&nbsp;let&nbsp;you&nbsp;know.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;K&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;10,&nbsp;2022,&nbsp;10:08&nbsp;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ngtech1ltd@gmail.com&quot;&gt;ngtech1ltd@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;lang=&quot;en-IL&quot;&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&nbsp;class=&quot;m_-3033815475504697287WordSection1&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Hey&nbsp;K,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;about&nbsp;the&nbsp;network&nbsp;topology.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Preferably&nbsp;the&nbsp;Squid&nbsp;should&nbsp;reside&nbsp;on&nbsp;another&nbsp;network&nbsp;then&nbsp;the&nbsp;clients&nbsp;if&nbsp;it’s&nbsp;intercepting&nbsp;the&nbsp;traffic.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Also,&nbsp;I&nbsp;assume&nbsp;it’s&nbsp;not&nbsp;a&nbsp;TPROXY&nbsp;setup&nbsp;so&nbsp;it&nbsp;should&nbsp;be&nbsp;pretty&nbsp;simple&nbsp;and&nbsp;straight&nbsp;forward.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;I&nbsp;understand&nbsp;why&nbsp;are&nbsp;you&nbsp;asking&nbsp;this&nbsp;question.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Also&nbsp;take&nbsp;into&nbsp;account&nbsp;that&nbsp;&lt;span&nbsp;class=&quot;m_-3033815475504697287SpellE&quot;&gt;Mikrotik&lt;/span&gt;&nbsp;is&nbsp;now&nbsp;on&nbsp;7.4&nbsp;firmware&nbsp;and&nbsp;it’s&nbsp;recommended&nbsp;to&nbsp;use&nbsp;this&nbsp;one.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;If&nbsp;you&nbsp;are&nbsp;using&nbsp;any&nbsp;other&nbsp;version&nbsp;let&nbsp;me&nbsp;know&nbsp;so&nbsp;I&nbsp;can&nbsp;try&nbsp;to&nbsp;make&nbsp;sense&nbsp;on&nbsp;the&nbsp;differences.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;I&nbsp;will&nbsp;try&nbsp;to&nbsp;give&nbsp;a&nbsp;DEMO&nbsp;for&nbsp;such&nbsp;a&nbsp;setup&nbsp;and&nbsp;how&nbsp;to&nbsp;make&nbsp;it&nbsp;work.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Eliezer&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;en-IL&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;----&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Eliezer&nbsp;Croitoru&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;NgTech,&nbsp;Tech&nbsp;Support&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Mobile:&nbsp;+972-5-28704261&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:ngtech1ltd@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;&lt;span&nbsp;style=&quot;color:blue&quot;&gt;ngtech1ltd@gmail.com&lt;/span&gt;&lt;/a&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Web:&nbsp;&lt;a&nbsp;href=&quot;https://ngtech.co.il/&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;&lt;span&nbsp;style=&quot;color:blue&quot;&gt;https://ngtech.co.il/&lt;/span&gt;&lt;/a&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;My-Tube:&nbsp;&lt;a&nbsp;href=&quot;https://tube.ngtech.co.il/&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;&lt;span&nbsp;style=&quot;color:blue&quot;&gt;https://tube.ngtech.co.il/&lt;/span&gt;&lt;/a&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;en-IL&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#e1e1e1&nbsp;1.0pt;padding:3.0pt&nbsp;0cm&nbsp;0cm&nbsp;0cm&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;&nbsp;squid-users&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:squid-users-bounces@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users-bounces@lists.squid-cache.org&lt;/a&gt;&gt;&nbsp;&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;M&nbsp;K&lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Tuesday,&nbsp;9&nbsp;August&nbsp;2022&nbsp;22:29&lt;br&gt;&lt;b&gt;To:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[squid-users]&nbsp;Squid&nbsp;4.8+&nbsp;intercept&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Hello,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;have&nbsp;a&nbsp;setup&nbsp;like&nbsp;this&nbsp;one:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;|&nbsp;Client&nbsp;|&nbsp;=====&gt;&nbsp;|&nbsp;Router&nbsp;|&nbsp;=====&gt;&nbsp;Internet&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ||&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \/&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;Squid&nbsp;|&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;...the&nbsp;router&nbsp;is&nbsp;a&nbsp;Mikrotik&nbsp;router&nbsp;capable&nbsp;of&nbsp;all&nbsp;things&nbsp;NAT/Redirect&nbsp;and&nbsp;whatnot.&nbsp;Squid&nbsp;server&nbsp;has&nbsp;only&nbsp;one&nbsp;network&nbsp;interface.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Using&nbsp;the&nbsp;router:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;-&nbsp;I&nbsp;tried&nbsp;routing&nbsp;traffic&nbsp;to&nbsp;squid&nbsp;server&nbsp;IP.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;-&nbsp;I&nbsp;tried&nbsp;destination-NATing&nbsp;from&nbsp;client&nbsp;to&nbsp;server&nbsp;IP,&nbsp;with&nbsp;origin&nbsp;server&nbsp;IP-and-port&nbsp;natted&nbsp;to&nbsp;squid&nbsp;IP-and-port,&nbsp;and&nbsp;with&nbsp;origin&nbsp;server&nbsp;IP-only&nbsp;natted&nbsp;to&nbsp;squid-IP.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;have&nbsp;been&nbsp;struggling&nbsp;for&nbsp;2&nbsp;days&nbsp;to&nbsp;setup&nbsp;a&nbsp;working&nbsp;Squid&nbsp;4.8&nbsp;or&nbsp;higher&nbsp;interception.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Test&nbsp;server&nbsp;is&nbsp;running&nbsp;Ubuntu&nbsp;18.4.3&nbsp;and&nbsp;Squid&nbsp;4.8.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Documentation&nbsp;is&nbsp;either&nbsp;too&nbsp;much&nbsp;trim&nbsp;or&nbsp;extremely&nbsp;outdated.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;very&nbsp;much&nbsp;appreciated.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;All&nbsp;best,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;K&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
