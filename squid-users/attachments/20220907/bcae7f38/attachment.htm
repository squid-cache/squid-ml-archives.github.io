<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;Good&nbsp;one,&nbsp;Alex.&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;For&nbsp;this&nbsp;specific&nbsp;use&nbsp;case&nbsp;you&nbsp;need&nbsp;a&nbsp;special&nbsp;rotate&nbsp;script&nbsp;which&nbsp;will&nbsp;know&nbsp;the&nbsp;confs&nbsp;file&nbsp;and&nbsp;will&nbsp;loop&nbsp;over&nbsp;them.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Later&nbsp;on&nbsp;I&nbsp;will&nbsp;try&nbsp;to&nbsp;see&nbsp;if&nbsp;yave&nbsp;one&nbsp;of&nbsp;these&nbsp;on&nbsp;my&nbsp;servers.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Basically&nbsp;you&nbsp;will&nbsp;need&nbsp;an&nbsp;array&nbsp;of&nbsp;config&nbsp;files&nbsp;and&nbsp;loop&nbsp;on&nbsp;them.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;The&nbsp;pid&nbsp;shouldn&#39;t&nbsp;be&nbsp;relevevant&nbsp;for&nbsp;a&nbsp;rotate&nbsp;operation&nbsp;but&nbsp;it&nbsp;depends&nbsp;on&nbsp;the&nbsp;nature&nbsp;of&nbsp;the&nbsp;system.(on&nbsp;a&nbsp;24/7&nbsp;system&nbsp;you&nbsp;should&nbsp;know&nbsp;about&nbsp;a&nbsp;service&nbsp;that&nbsp;is&nbsp;down&nbsp;way&nbsp;before&nbsp;the&nbsp;logrotate&nbsp;happpens)&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;If&nbsp;you&nbsp;have&nbsp;a&nbsp;set&nbsp;of&nbsp;config&nbsp;files&nbsp;you&nbsp;can&nbsp;generate&nbsp;a&nbsp;set&nbsp;of&nbsp;postrotate&nbsp;commands&nbsp;compared&nbsp;to&nbsp;a&nbsp;special&nbsp;script.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;Let&nbsp;me&nbsp;know&nbsp;if&nbsp;this&nbsp;solution&nbsp;might&nbsp;fit&nbsp;for&nbsp;your&nbsp;use&nbsp;case.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Eliezer&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;בתאריך&nbsp;יום&nbsp;ד׳,&nbsp;7&nbsp;בספט׳&nbsp;2022,&nbsp;3:53,&nbsp;מאת&nbsp;Alex&nbsp;Rousskov&nbsp;‏&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt; &gt;&nbsp;pid_filename&nbsp;/var/run/squid2.pid&lt;br&gt;<br>
&lt;br&gt;<br>
 &gt; &nbsp; postrotate&lt;br&gt;<br>
 &gt; &nbsp; test&nbsp;!&nbsp;-e&nbsp;/var/run/squid.pid&nbsp;||&nbsp;...&nbsp;/usr/sbin/squid&nbsp;-k&nbsp;rotate&lt;br&gt;<br>
 &gt; &nbsp; endscript&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;spotted&nbsp;one&nbsp;more&nbsp;(potentially&nbsp;critical)&nbsp;problem:&nbsp;Your&nbsp;Squid&nbsp;&lt;br&gt;<br>
configuration&nbsp;sets&nbsp;pid_filename&nbsp;to&nbsp;/var/run/squid2.pid&nbsp;but&nbsp;your&nbsp;&lt;br&gt;<br>
logrotate&nbsp;configuration&nbsp;assumes&nbsp;Squid&nbsp;uses&nbsp;/var/run/squid.pid.&lt;br&gt;<br>
&lt;br&gt;<br>
IMHO,&nbsp;in&nbsp;general,&nbsp;it&nbsp;is&nbsp;best&nbsp;not&nbsp;to&nbsp;guess&nbsp;where&nbsp;Squid&nbsp;has&nbsp;its&nbsp;PID&nbsp;if&nbsp;you&nbsp;&lt;br&gt;<br>
are&nbsp;using&nbsp;&quot;squid&nbsp;-k&nbsp;...&quot;.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;test&nbsp;whether&nbsp;Squid&nbsp;is&nbsp;currently&nbsp;&lt;br&gt;<br>
running,&nbsp;try&nbsp;using&nbsp;&quot;squid&nbsp;-k&nbsp;check&quot;&nbsp;instead.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;9/6/22&nbsp;20:45,&nbsp;Alex&nbsp;Rousskov&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;9/6/22&nbsp;18:02,&nbsp;roee&nbsp;klinger&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;logs&nbsp;has&nbsp;filled&nbsp;over&nbsp;100GB&nbsp;of&nbsp;log&nbsp;data,&nbsp;since&nbsp;I&nbsp;made&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;a&nbsp;configuration&nbsp;mistake&nbsp;(I&nbsp;think?)&nbsp;by&nbsp;setting&nbsp;this:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;   &nbsp;logfile_rotate&nbsp;0&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;correct&nbsp;setting&nbsp;when&nbsp;using&nbsp;an&nbsp;external&nbsp;log&nbsp;rotation&nbsp;tool&nbsp;like&nbsp;&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;logrotate&nbsp;daemon.&nbsp;More&nbsp;on&nbsp;that&nbsp;below.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;If&nbsp;I&nbsp;remember&nbsp;and&nbsp;read&nbsp;correctly,&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;rotation&nbsp;of&nbsp;the&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;files&nbsp;is&nbsp;disabled&nbsp;and&nbsp;they&nbsp;will&nbsp;just&nbsp;keeping&nbsp;increasing&lt;br&gt;<br>
&gt;&gt;&nbsp;in&nbsp;size&nbsp;if&nbsp;left&nbsp;unchecked.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;To&nbsp;be&nbsp;more&nbsp;precise,&nbsp;this&nbsp;means&nbsp;that&nbsp;you&nbsp;are&nbsp;relying&nbsp;on&nbsp;an&nbsp;external&nbsp;tool&nbsp;&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;rename&nbsp;the&nbsp;log&nbsp;files.&nbsp;With&nbsp;this&nbsp;setting,&nbsp;Squid&nbsp;rotate&nbsp;command&nbsp;closes&nbsp;&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;access&nbsp;log&nbsp;and&nbsp;opens&nbsp;a&nbsp;new&nbsp;one&nbsp;(under&nbsp;the&nbsp;same&nbsp;name).&nbsp;While&nbsp;that&nbsp;&lt;br&gt;<br>
&gt;&nbsp;might&nbsp;sound&nbsp;useless,&nbsp;it&nbsp;is&nbsp;the&nbsp;right&nbsp;(and&nbsp;necessary)&nbsp;thing&nbsp;for&nbsp;Squid&nbsp;to&nbsp;&lt;br&gt;<br>
&gt;&nbsp;do&nbsp;when&nbsp;combined&nbsp;with&nbsp;the&nbsp;correct&nbsp;external&nbsp;log&nbsp;rotation&nbsp;setup.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;have&nbsp;now&nbsp;gone&nbsp;ahead&nbsp;and&nbsp;changed&nbsp;all&nbsp;the&nbsp;configuration&nbsp;file&nbsp;to&nbsp;this&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;setting:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;   &nbsp;logfile_rotate&nbsp;1&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;So&nbsp;now&nbsp;it&nbsp;should&nbsp;rotate&nbsp;once&nbsp;daily,&nbsp;and&nbsp;on&nbsp;the&nbsp;next&nbsp;rotation&nbsp;it&nbsp;should&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;be&nbsp;deleted,&nbsp;and&nbsp;this&nbsp;is&nbsp;all&nbsp;handled&nbsp;by&nbsp;logrotate&nbsp;on&nbsp;Debian-based&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;machines?&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;AFAIK,&nbsp;if&nbsp;you&nbsp;are&nbsp;using&nbsp;an&nbsp;external&nbsp;(to&nbsp;Squid)&nbsp;tool&nbsp;like&nbsp;logrotate,&nbsp;you&nbsp;&lt;br&gt;<br>
&gt;&nbsp;should&nbsp;be&nbsp;setting&nbsp;logfile_rotate&nbsp;to&nbsp;zero.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;This&nbsp;is&nbsp;my&nbsp;/&nbsp;cat&nbsp;/etc/logrotate.d/squid:&lt;br&gt;<br>
&gt;&gt;&nbsp;➜&nbsp;/&nbsp;cat&nbsp;/etc/logrotate.d/squid&lt;br&gt;<br>
&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&nbsp;#&nbsp;Logrotate&nbsp;fragment&nbsp;for&nbsp;squid.&lt;br&gt;<br>
&gt;&gt;&nbsp;#&lt;br&gt;<br>
&gt;&gt;&nbsp;/var/log/squid/*.log&nbsp;{&lt;br&gt;<br>
&gt;&gt;&nbsp;  daily&lt;br&gt;<br>
&gt;&gt;&nbsp;  compress&lt;br&gt;<br>
&gt;&gt;&nbsp;  delaycompress&lt;br&gt;<br>
&gt;&gt;&nbsp;  rotate&nbsp;2&lt;br&gt;<br>
&gt;&gt;&nbsp;  missingok&lt;br&gt;<br>
&gt;&gt;&nbsp;  nocreate&lt;br&gt;<br>
&gt;&gt;&nbsp;  sharedscripts&lt;br&gt;<br>
&gt;&gt;&nbsp;  prerotate&lt;br&gt;<br>
&gt;&gt;&nbsp;  test&nbsp;!&nbsp;-x&nbsp;/usr/sbin/sarg-reports&nbsp;||&nbsp;/usr/sbin/sarg-reports&nbsp;daily&lt;br&gt;<br>
&gt;&gt;&nbsp;  endscript&lt;br&gt;<br>
&gt;&gt;&nbsp;  postrotate&lt;br&gt;<br>
&gt;&gt;&nbsp;  test&nbsp;!&nbsp;-e&nbsp;/var/run/squid.pid&nbsp;||&nbsp;test&nbsp;!&nbsp;-x&nbsp;/usr/sbin/squid&nbsp;||&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;/usr/sbin/squid&nbsp;-k&nbsp;rotate&lt;br&gt;<br>
&gt;&gt;&nbsp;  endscript&lt;br&gt;<br>
&gt;&gt;&nbsp;}&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;not&nbsp;my&nbsp;area&nbsp;of&nbsp;expertise,&nbsp;but&nbsp;the&nbsp;above&nbsp;configuration&nbsp;does&nbsp;not&nbsp;&lt;br&gt;<br>
&gt;&nbsp;look&nbsp;100%&nbsp;correct&nbsp;to&nbsp;me:&nbsp;sarg-reports&nbsp;execution&nbsp;failures&nbsp;should&nbsp;have&nbsp;no&nbsp;&lt;br&gt;<br>
&gt;&nbsp;effect&nbsp;on&nbsp;log&nbsp;rotation&nbsp;but&nbsp;does&nbsp;(AFAICT).&nbsp;There&nbsp;may&nbsp;be&nbsp;other&nbsp;problems&nbsp;&lt;br&gt;<br>
&gt;&nbsp;(e.g.,&nbsp;I&nbsp;do&nbsp;not&nbsp;know&nbsp;whether&nbsp;your&nbsp;/usr/sbin/squid&nbsp;finds&nbsp;the&nbsp;right&nbsp;Squid&nbsp;&lt;br&gt;<br>
&gt;&nbsp;configuration&nbsp;file).&nbsp;I&nbsp;hope&nbsp;sysadmin&nbsp;experts&nbsp;on&nbsp;this&nbsp;mailing&nbsp;list&nbsp;will&nbsp;&lt;br&gt;<br>
&gt;&nbsp;help&nbsp;you&nbsp;polish&nbsp;this.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;You&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;test&nbsp;whether&nbsp;the&nbsp;above&nbsp;is&nbsp;working&nbsp;(e.g.,&nbsp;by&nbsp;asking&nbsp;&lt;br&gt;<br>
&gt;&nbsp;logrotate&nbsp;to&nbsp;rotate).&nbsp;Testing&nbsp;is&nbsp;critical&nbsp;even&nbsp;if&nbsp;you&nbsp;do&nbsp;end&nbsp;up&nbsp;getting&nbsp;&lt;br&gt;<br>
&gt;&nbsp;expert&nbsp;log&nbsp;rotation&nbsp;help&nbsp;on&nbsp;this&nbsp;list&nbsp;(this&nbsp;email&nbsp;is&nbsp;not&nbsp;it!).&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;HTH,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Alex.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;for&nbsp;me&nbsp;to&nbsp;set&nbsp;it&nbsp;so&nbsp;it&nbsp;just&nbsp;get&nbsp;deleted&nbsp;every&nbsp;24&nbsp;or&nbsp;12&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;hours&nbsp;without&nbsp;the&nbsp;archive&nbsp;first?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Thanks,&lt;br&gt;<br>
&gt;&gt;&nbsp;Roee&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;6&nbsp;Sep&nbsp;2022,&nbsp;16:28&nbsp;+0300,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;,&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;On&nbsp;9/6/22&nbsp;07:41,&nbsp;roee&nbsp;klinger&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;It&nbsp;is&nbsp;also&nbsp;important&nbsp;to&nbsp;know&nbsp;that&nbsp;I&nbsp;am&nbsp;running&nbsp;multiple&nbsp;Squid&nbsp;instances&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;on&nbsp;the&nbsp;same&nbsp;machine,&nbsp;they&nbsp;are&nbsp;all&nbsp;getting&nbsp;the&nbsp;error&nbsp;at&nbsp;the&nbsp;same&nbsp;time&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;What&nbsp;external&nbsp;event(s)&nbsp;happen&nbsp;at&nbsp;that&nbsp;time?&nbsp;Something&nbsp;is&nbsp;probably&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;sending&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;logging&nbsp;daemon&nbsp;process.&nbsp;It&nbsp;would&nbsp;be&nbsp;good&nbsp;to&nbsp;know&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;what&nbsp;that&nbsp;something&nbsp;(and&nbsp;that&nbsp;signal)&nbsp;is.&nbsp;Your&nbsp;syslog&nbsp;or&nbsp;cache.log&nbsp;might&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;contain&nbsp;more&nbsp;info.&nbsp;Analyzing&nbsp;the&nbsp;timing/schedule&nbsp;of&nbsp;these&nbsp;problems&nbsp;may&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;also&nbsp;be&nbsp;helpful&nbsp;in&nbsp;identifying&nbsp;the&nbsp;trigger.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Is&nbsp;a&nbsp;possible&nbsp;workaround&nbsp;that&nbsp;might&nbsp;be&nbsp;just&nbsp;replacing&nbsp;the&nbsp;line&nbsp;with&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;this?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;access_log&nbsp;/var/log/squid/access2.log&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;As&nbsp;you&nbsp;know,&nbsp;this&nbsp;configuration&nbsp;(in&nbsp;this&nbsp;deprecated&nbsp;spelling&nbsp;or&nbsp;with&nbsp;and&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;explicit&nbsp;&quot;stdio:&quot;&nbsp;prefix)&nbsp;will&nbsp;result&nbsp;in&nbsp;Squid&nbsp;workers&nbsp;writing&nbsp;to&nbsp;the&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;log&nbsp;file&nbsp;directly&nbsp;instead&nbsp;of&nbsp;asking&nbsp;the&nbsp;logging&nbsp;daemon.&nbsp;This&nbsp;will,&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;naturally,&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;pipe&nbsp;between&nbsp;workers&nbsp;and&nbsp;their&nbsp;daemons,&nbsp;and&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;the&nbsp;associated&nbsp;broken&nbsp;pipe&nbsp;error.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;or&nbsp;will&nbsp;this&nbsp;cause&nbsp;a&nbsp;problem?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Impossible&nbsp;to&nbsp;say&nbsp;for&nbsp;sure&nbsp;without&nbsp;knowing&nbsp;whether&nbsp;your&nbsp;workers&nbsp;benefit&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;from&nbsp;the&nbsp;anticipated&nbsp;performance&nbsp;advantages&nbsp;of&nbsp;avoiding&nbsp;blocking&nbsp;file&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;I/O&nbsp;_and_&nbsp;whether&nbsp;those&nbsp;advantages&nbsp;are&nbsp;real&nbsp;(in&nbsp;your&nbsp;environment).&nbsp;Too&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;many&nbsp;variables&nbsp;and&nbsp;too&nbsp;many&nbsp;unknowns.&nbsp;I&nbsp;would&nbsp;treat&nbsp;this&nbsp;as&nbsp;an&nbsp;important&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;(and&nbsp;potentially&nbsp;disruptive)&nbsp;configuration&nbsp;change&nbsp;and&nbsp;carefully&nbsp;test&nbsp;the&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;outcome.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;HTH,&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Alex.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;INFO&nbsp;-&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Versions:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Squid&nbsp;Cache:&nbsp;Version&nbsp;4.10&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Ubuntu&nbsp;20.04.4&nbsp;LTS&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Example&nbsp;squid.conf:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;visible_hostname&nbsp;squid2&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;access_log&nbsp;daemon:/var/log/squid/access2.log&nbsp;squid&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;cache_log&nbsp;/var/log/squid/cache2.log&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;pid_filename&nbsp;/var/run/squid2.pid&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;0.0.0.1-0.255.255.255#&nbsp;RFC&nbsp;1122&nbsp;&quot;this&quot;&nbsp;network&nbsp;(LAN)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://10.0.0.0/8&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;10.0.0.0/8&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://10.0.0.0/8&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://10.0.0.0/8&lt;/a&gt;&gt;&nbsp;#&nbsp;RFC&nbsp;1918&nbsp;local&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;private&nbsp;network&nbsp;(LAN)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://100.64.0.0/10&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;100.64.0.0/10&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://100.64.0.0/10&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://100.64.0.0/10&lt;/a&gt;&gt;#&nbsp;RFC&nbsp;6598&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;shared&nbsp;address&nbsp;space&nbsp;(CGN)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://169.254.0.0/16&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;169.254.0.0/16&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://169.254.0.0/16&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://169.254.0.0/16&lt;/a&gt;&gt;&nbsp;#&nbsp;RFC&nbsp;3927&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;link-local&nbsp;(directly&nbsp;plugged)&nbsp;machines&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://172.16.0.0/12&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;172.16.0.0/12&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://172.16.0.0/12&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://172.16.0.0/12&lt;/a&gt;&gt;#&nbsp;RFC&nbsp;1918&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;local&nbsp;private&nbsp;network&nbsp;(LAN)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.0.0/16&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://192.168.0.0/16&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://192.168.0.0/16&lt;/a&gt;&gt;&nbsp;#&nbsp;RFC&nbsp;1918&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;local&nbsp;private&nbsp;network&nbsp;(LAN)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fc00::/7&nbsp;#&nbsp;RFC&nbsp;4193&nbsp;local&nbsp;private&nbsp;network&nbsp;range&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;localnet&nbsp;src&nbsp;fe80::/10#&nbsp;RFC&nbsp;4291&nbsp;link-local&nbsp;(directly&nbsp;plugged)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;machines&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;SSL_ports&nbsp;port&nbsp;443&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;80#&nbsp;http&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;21#&nbsp;ftp&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;443&nbsp;#&nbsp;https&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;70#&nbsp;gopher&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;210&nbsp;#&nbsp;wais&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;1025-65535#&nbsp;unregistered&nbsp;ports&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;280&nbsp;#&nbsp;http-mgmt&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;488&nbsp;#&nbsp;gss-http&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;591&nbsp;#&nbsp;filemaker&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;Safe_ports&nbsp;port&nbsp;777&nbsp;#&nbsp;multiling&nbsp;http&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;!Safe_ports&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;CONNECT&nbsp;!SSL_ports&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;localhost&nbsp;manager&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;deny&nbsp;manager&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;#&nbsp;include&nbsp;/etc/squid/conf.d/*&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;localhost&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;acl&nbsp;aws&nbsp;src&nbsp;*censored*&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;aws&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;#&nbsp;http_access&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;tcp_outgoing_address&nbsp;*censored*&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;http_port&nbsp;10002&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;coredump_dir&nbsp;/var/spool/squid&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;^ftp:&nbsp;144020%&nbsp;10080&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;^gopher:14400%1440&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|\?)&nbsp;0&nbsp;0%0&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;\/(Packages|Sources)(|\.bz2|\.gz|\.xz)$&nbsp;0&nbsp;0%&nbsp;0&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh-ims&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;\/Release(|\.gpg)$&nbsp;0&nbsp;0%&nbsp;0&nbsp;refresh-ims&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;\/InRelease$&nbsp;0&nbsp;0%&nbsp;0&nbsp;refresh-ims&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;\/(Translation-.*)(|\.bz2|\.gz|\.xz)$&nbsp;0&nbsp;0%&nbsp;0&nbsp;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh-ims&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;refresh_pattern&nbsp;.&nbsp;0&nbsp;20%&nbsp;4320&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;shutdown_lifetime&nbsp;1&nbsp;seconds&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;logfile_rotate&nbsp;0&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;max_filedescriptors&nbsp;16384&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;dns_nameservers&nbsp;8.8.8.8&nbsp;8.8.4.4&nbsp;1.1.1.1&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;cache&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;cache_dir&nbsp;null&nbsp;/tmp&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;via&nbsp;off&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;forwarded_for&nbsp;off&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;From&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Server&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;WWW-Authenticate&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Link&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Cache-Control&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Proxy-Connection&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;X-Cache&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;X-Cache-Lookup&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Via&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;X-Forwarded-For&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Pragma&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;request_header_access&nbsp;Keep-Alive&nbsp;deny&nbsp;all&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;dns_v4_first&nbsp;on&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Example service&nbsp;file:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&nbsp;Copyright&nbsp;(C)&nbsp;1996-2020&nbsp;The&nbsp;Squid&nbsp;Software&nbsp;Foundation&nbsp;and&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;contributors&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&nbsp;Squid&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;GPLv2+&nbsp;license&nbsp;and&nbsp;includes&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&nbsp;contributions&nbsp;from&nbsp;numerous&nbsp;individuals&nbsp;and&nbsp;organizations.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&nbsp;Please&nbsp;see&nbsp;the&nbsp;COPYING&nbsp;and&nbsp;CONTRIBUTORS&nbsp;files&nbsp;for&nbsp;details.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;##&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;[Unit]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Description=Squid&nbsp;Web&nbsp;Proxy&nbsp;Server&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Documentation=man:squid(8)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;After=network.target&nbsp;network-online.target&nbsp;nss-lookup.target&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;[Service]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Type=forking&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;PIDFile=/var/run/squid2.pid&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;ExecStartPre=/usr/sbin/squid&nbsp;--foreground&nbsp;-z&nbsp;-f&nbsp;/etc/squid/squid2.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;ExecStart=/usr/sbin/squid&nbsp;-sYC&nbsp;-f&nbsp;/etc/squid/squid2.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;ExecReload=/bin/kill&nbsp;-HUP&nbsp;$MAINPID&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;KillMode=mixed&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;[Install]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;WantedBy=multi-user.target&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Permissions:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;➜ &nbsp;ls&nbsp;-alt&nbsp;/etc/squid/&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;total&nbsp;128&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;drwxr-xr-x&nbsp; &nbsp;2&nbsp;root&nbsp;root&nbsp;4096&nbsp;Sep&nbsp; 6&nbsp;11:33&nbsp;.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2831&nbsp;Sep&nbsp; 6&nbsp;11:33&nbsp;squid7.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;drwxr-xr-x&nbsp;116&nbsp;root&nbsp;root&nbsp;4096&nbsp;Sep&nbsp; 6&nbsp;11:33&nbsp;..&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2830&nbsp;Sep&nbsp; 6&nbsp;11:33&nbsp;squid2.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:33&nbsp;squid13.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:32&nbsp;squid23.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:32&nbsp;squid19.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2832&nbsp;Sep&nbsp; 6&nbsp;11:32&nbsp;squid1.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:32&nbsp;squid17.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2832&nbsp;Sep&nbsp; 6&nbsp;11:31&nbsp;squid4.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2834&nbsp;Sep&nbsp; 6&nbsp;11:31&nbsp;squid21.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2833&nbsp;Sep&nbsp; 6&nbsp;11:31&nbsp;squid25.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2834&nbsp;Sep&nbsp; 6&nbsp;11:31&nbsp;squid12.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2832&nbsp;Sep&nbsp; 6&nbsp;11:31&nbsp;squid3.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid10.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid11.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2833&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid18.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2830&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid8.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2830&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid6.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2833&nbsp;Sep&nbsp; 6&nbsp;11:30&nbsp;squid28.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2830&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid9.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid24.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid22.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2837&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid20.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid16.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid15.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2836&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid14.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2831&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid5.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2833&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid27.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid26.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid30.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;-rw-r--r--&nbsp; &nbsp;1&nbsp;root&nbsp;root&nbsp;2835&nbsp;Sep&nbsp; 6&nbsp;11:25&nbsp;squid29.conf&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
