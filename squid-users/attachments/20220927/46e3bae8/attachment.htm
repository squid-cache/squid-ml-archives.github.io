<tt>
&lt;html&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=big5&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;MS&nbsp;Mincho&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;2&nbsp;6&nbsp;9&nbsp;4&nbsp;2&nbsp;5&nbsp;8&nbsp;3&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;6&nbsp;4&nbsp;2&nbsp;2&nbsp;2&nbsp;2&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;\@MS&nbsp;Mincho&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;2&nbsp;6&nbsp;9&nbsp;4&nbsp;2&nbsp;5&nbsp;8&nbsp;3&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0cm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:blue;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle19<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-reply;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:612.0pt&nbsp;792.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:72.0pt&nbsp;72.0pt&nbsp;72.0pt&nbsp;72.0pt;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;lang=&quot;EN-GB&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;style=&quot;word-wrap:break-word&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;Hi,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;Okay&nbsp;¡V&nbsp;but&nbsp;what&nbsp;happens&nbsp;if&nbsp;you&nbsp;are&nbsp;communicating&nbsp;with&nbsp;a&nbsp;non&nbsp;REST&nbsp;endpoint.&nbsp;Consider&nbsp;a&nbsp;Web&nbsp;services&nbsp;endpoint&nbsp;for&nbsp;example&nbsp;where&nbsp;a&nbsp;request&nbsp;is&nbsp;only&nbsp;interacted&nbsp;with&nbsp;via&nbsp;POST&nbsp;but&nbsp;the&nbsp;operation<br>
&nbsp;for&nbsp;example&nbsp;may&nbsp;frequently&nbsp;be&nbsp;a&nbsp;read&nbsp;based&nbsp;function&nbsp;akin&nbsp;to&nbsp;a&nbsp;HTTP&nbsp;GET?&nbsp;Is&nbsp;Squid&nbsp;just&nbsp;simply&nbsp;not&nbsp;going&nbsp;to&nbsp;help&nbsp;cache&nbsp;those&nbsp;requests?&nbsp;It&nbsp;is&nbsp;only&nbsp;helpful&nbsp;for&nbsp;more&nbsp;strict&nbsp;alignment&nbsp;to&nbsp;REST&nbsp;principles?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Kind&nbsp;regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Andy&nbsp;Armstrong&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;MS&nbsp;Mincho&quot;&quot;&gt;¦w­}&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&quot;MS&nbsp;Mincho&quot;&quot;&gt;ªü©i´µ¯S®Ô&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Principal&nbsp;Specialist&nbsp;for&nbsp;Z&nbsp;Technologies&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;EMEA&nbsp;Squad&nbsp;Leader&nbsp;for&nbsp;Hybrid&nbsp;Cloud&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Worldwide&nbsp;Community&nbsp;Leader&nbsp;for&nbsp;Hybrid&nbsp;Cloud&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Member&nbsp;of&nbsp;the&nbsp;CTO&nbsp;Office&nbsp;Server&nbsp;&amp;&nbsp;Storage&nbsp;EMEA&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Distinguished&nbsp;Technical&nbsp;Specialist&nbsp;¡V&nbsp;The&nbsp;Open&nbsp;Group&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;IBM&nbsp;Master&nbsp;Inventor&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Default&nbsp;Sans&nbsp;Serif&quot;&quot;&gt;Mobile:&nbsp;+447500103874&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;mso-fareast-language:EN-US&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#B5C4DF&nbsp;1.0pt;padding:3.0pt&nbsp;0cm&nbsp;0cm&nbsp;0cm&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:12.0pt;color:black&quot;&gt;From:<br>
&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:12.0pt;color:black&quot;&gt;squid-users&nbsp;&lt;squid-users-bounces@lists.squid-cache.org&gt;&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&lt;br&gt;<br>
&lt;b&gt;Date:&nbsp;&lt;/b&gt;Tuesday,&nbsp;27&nbsp;September&nbsp;2022&nbsp;at&nbsp;19:45&lt;br&gt;<br>
&lt;b&gt;To:&nbsp;&lt;/b&gt;squid-users@lists.squid-cache.org&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&nbsp;&lt;/b&gt;[EXTERNAL]&nbsp;Re:&nbsp;[squid-users]&nbsp;TCP_MISS&nbsp;only&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;On&nbsp;27/09/22&nbsp;23:01,&nbsp;Andy&nbsp;Armstrong&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;Alex,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;That&nbsp;makes&nbsp;a&nbsp;lot&nbsp;of&nbsp;sense,&nbsp;I&nbsp;don¡¦t&nbsp;know&nbsp;how&nbsp;I&nbsp;overlooked&nbsp;that&nbsp;¡V&nbsp;thank&nbsp;&lt;br&gt;<br>
&gt;&nbsp;you.&nbsp;I&nbsp;also&nbsp;agree,&nbsp;logically&nbsp;caching&nbsp;a&nbsp;201&nbsp;response&nbsp;makes&nbsp;little&nbsp;sense,&nbsp;&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;it&nbsp;was&nbsp;just&nbsp;an&nbsp;example&nbsp;I&nbsp;had&nbsp;that&nbsp;was&nbsp;easy&nbsp;to&nbsp;try&nbsp;so&nbsp;I&nbsp;used&nbsp;that.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;just&nbsp;altered&nbsp;the&nbsp;HTTP&nbsp;Return&nbsp;code&nbsp;so&nbsp;it&nbsp;sent&nbsp;200&nbsp;instead&nbsp;of&nbsp;201,&nbsp;and&nbsp;&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;result&nbsp;is&nbsp;sadly&nbsp;the&nbsp;same,&nbsp;I&nbsp;get&nbsp;many,&nbsp;many&nbsp;lines&nbsp;like&nbsp;this:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Unfortunately&nbsp;that&nbsp;is&nbsp;not&nbsp;enough.&nbsp;POST&nbsp;method&nbsp;is&nbsp;also&nbsp;not&nbsp;cacheable&nbsp;by&nbsp;&lt;br&gt;<br>
default.&nbsp;See&nbsp;&lt;https://www.rfc-editor.org/rfc/rfc9110#section-9.3.3<br>
&nbsp;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Consider&nbsp;what&nbsp;would&nbsp;happen&nbsp;when&nbsp;two&nbsp;clients&nbsp;POST&nbsp;different&nbsp;sets&nbsp;of&nbsp;data&nbsp;&lt;br&gt;<br>
to&nbsp;the&nbsp;same&nbsp;URL.&nbsp;&nbsp;Which&nbsp;one&nbsp;should&nbsp;the&nbsp;cache&nbsp;handle&nbsp;*instead*&nbsp;of&nbsp;letting&nbsp;&lt;br&gt;<br>
it&nbsp;be&nbsp;delivered&nbsp;to&nbsp;a&nbsp;server?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;1664272638.44310107&nbsp;10.1.1.70&nbsp;TCP_MISS/200&nbsp;275&nbsp;POST&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.2:3001/InternalCommunicationServices/message/email&quot;&gt;http://192.168.0.2:3001/InternalCommunicationServices/message/email&lt;/a&gt;&nbsp;&nbsp;<br>
&nbsp;-&nbsp;&lt;br&gt;<br>
&gt;&nbsp;HIER_DIRECT/192.168.0.2&nbsp;application/json&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;My&nbsp;suspicion&nbsp;is&nbsp;still&nbsp;that&nbsp;my&nbsp;refresh_pattern&nbsp;is&nbsp;wrong:&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;refresh_pattern&nbsp;-i&nbsp;&lt;a&nbsp;href=&quot;http://129.168.0.2:3001%5C/.*&quot;&gt;http://129.168.0.2:3001%5C/.*&lt;/a&gt;&nbsp;&nbsp;<br>
&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;&lt;br&gt;<br>
&gt;&nbsp;override-lastmod&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
refresh_pattern&nbsp;directive&nbsp;does&nbsp;not&nbsp;make&nbsp;things&nbsp;cacheable&nbsp;when&nbsp;they&nbsp;are&nbsp;&lt;br&gt;<br>
not.&nbsp;It&nbsp;can&nbsp;only&nbsp;extend&nbsp;or&nbsp;shrink&nbsp;cacheability&nbsp;times.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH&lt;br&gt;<br>
Amos&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
squid-users@lists.squid-cache.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&nbsp;<br>
&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;DIV&gt;<br>
Unless&nbsp;otherwise&nbsp;stated&nbsp;above:&lt;BR&gt;<br>
&lt;BR&gt;<br>
IBM&nbsp;United&nbsp;Kingdom&nbsp;Limited&lt;BR&gt;<br>
Registered&nbsp;in&nbsp;England&nbsp;and&nbsp;Wales&nbsp;with&nbsp;number&nbsp;741598&lt;BR&gt;<br>
Registered&nbsp;office:&nbsp;PO&nbsp;Box&nbsp;41,&nbsp;North&nbsp;Harbour,&nbsp;Portsmouth,&nbsp;Hants.&nbsp;PO6&nbsp;3AU&lt;BR&gt;<br>
&lt;/DIV&gt;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
