<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&nbsp;class=&quot;elementToProof&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;Hi&nbsp;all,&nbsp;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;elementToProof&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;elementToProof&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&nbsp;class=&quot;ContentPasted0&quot;&gt;Hi,&nbsp;I&nbsp;need&nbsp;some&nbsp;help.<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;I&nbsp;have&nbsp;configured&nbsp;an&nbsp;instance&nbsp;with&nbsp;squid&nbsp;as&nbsp;a&nbsp;proxy&nbsp;service.&nbsp;HTTP/HTTPS&nbsp;requests&nbsp;pass&nbsp;through&nbsp;the&nbsp;proxy&nbsp;correctly.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;span&nbsp;style=&quot;font-family:monospace&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;acl&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&nbsp;Safe_ports<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;port&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;9122&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;span&nbsp;style=&quot;font-family:monospace&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;acl&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&nbsp;SSL_ports<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;port&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;9122&lt;/span&gt;&lt;span&nbsp;style=&quot;color:#000000;background-color:#ffffff&quot;&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;acl&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&nbsp;Safe_ports<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;port&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;22&lt;/span&gt;&lt;span&nbsp;style=&quot;color:#000000;background-color:#ffffff&quot;&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;span&nbsp;style=&quot;font-family:monospace&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;acl&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&nbsp;SSL_ports<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;port&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;22&lt;br&gt;<br>
&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;But&nbsp;I&nbsp;need&nbsp;to&nbsp;connect&nbsp;to&nbsp;an&nbsp;SFTP&nbsp;service&nbsp;that&nbsp;listens&nbsp;on&nbsp;port&nbsp;9122.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;On&nbsp;the&nbsp;squid&nbsp;configuration&nbsp;side&nbsp;I&nbsp;have&nbsp;added&nbsp;port&nbsp;9122&nbsp;to&nbsp;the&nbsp;secure&nbsp;ports&nbsp;and&nbsp;the&nbsp;connection&nbsp;host&nbsp;to&nbsp;the&nbsp;hosts&nbsp;allowed&nbsp;in&nbsp;the&nbsp;dstdomain.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;I&nbsp;have&nbsp;created&nbsp;the&nbsp;environment&nbsp;variables&nbsp;necessary&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;exit&nbsp;through&nbsp;the&nbsp;proxy:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;http_proxy=http://myprox.prod:3142&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;ftp_proxy=http://myproxy.prod:3142&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;https_proxy=http://myproxy.prod:3142&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;i&nbsp;try&nbsp;the&nbsp;connection&nbsp;but&nbsp;never&nbsp;happen&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;span&nbsp;style=&quot;font-family:monospace&quot;&nbsp;class=&quot;ContentPasted1&quot;&gt;&lt;span&nbsp;style=&quot;color:#000000;background-color:#ffffff&quot;&nbsp;class=&quot;ContentPasted1&quot;&gt;sftp&nbsp;-v&nbsp;-oProxyCommand='nc&nbsp;-v&nbsp;-xtheprovider-front.prod:3142&nbsp;%h&nbsp;%p'&nbsp;-oPort=9122&nbsp;user@sftp.server.com&lt;/span&gt;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;span&nbsp;style=&quot;font-family:monospace&quot;&nbsp;class=&quot;ContentPasted1&quot;&gt;OpenSSH_6.7p1&nbsp;Debian-5+deb8u3,&nbsp;OpenSSL&nbsp;1.0.1t&nbsp;&nbsp;3&nbsp;May&nbsp;2016<br>
&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;Reading&nbsp;configuration&nbsp;data&nbsp;/etc/ssh/ssh_config&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;/etc/ssh/ssh_config&nbsp;line&nbsp;18:&nbsp;Applying&nbsp;options&nbsp;for&nbsp;*&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;Executing&nbsp;proxy&nbsp;command:&nbsp;exec&nbsp;nc&nbsp;-v&nbsp;-xtheprovider&nbsp;front.prod:3142&nbsp;&lt;span&nbsp;style=&quot;background-color:rgb(255,&nbsp;255,&nbsp;255);display:inline&nbsp;!important&quot;&nbsp;class=&quot;ContentPasted2&quot;&gt;sftp.server.com&lt;/span&gt;&nbsp;9122<br>
&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;permanently_set_uid:&nbsp;0/0&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;permanently_drop_suid:&nbsp;0&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_rsa&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_rsa-cert&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_dsa&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_dsa-cert&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_ecdsa&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_ecdsa-cert&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_ed25519&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;key_load_public:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;identity&nbsp;file&nbsp;/root/.ssh/id_ed25519-cert&nbsp;type&nbsp;-1&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;Enabling&nbsp;compatibility&nbsp;mode&nbsp;for&nbsp;protocol&nbsp;2.0&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
debug1:&nbsp;Local&nbsp;version&nbsp;string&nbsp;SSH-2.0-OpenSSH_6.7p1&nbsp;Debian-5+deb8u3&nbsp;&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
&lt;br&nbsp;class=&quot;ContentPasted1&quot;&gt;<br>
&lt;/span&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;####&nbsp;squid&nbsp;logs&lt;/div&gt;<br>
&lt;div&gt;&lt;br&nbsp;class=&quot;ContentPasted0&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;1674134582.904&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;172.31.29.227&nbsp;NONE/000&nbsp;0&nbsp;NONE&nbsp;error:transaction-end-before-headers&nbsp;-&nbsp;HIER_NONE/-&nbsp;-&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;ContentPasted0&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
Any&nbsp;help?&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
