<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-size:small&quot;&gt;We&nbsp;are&nbsp;still&nbsp;chasing&nbsp;this&nbsp;one&nbsp;down&nbsp;but&nbsp;made&nbsp;a&nbsp;major&nbsp;breakthrough.&nbsp;The&nbsp;leak&nbsp;is&nbsp;related&nbsp;to&nbsp;squid&nbsp;in&nbsp;intercept&nbsp;mode +&nbsp;SSL&nbsp;decryption&nbsp;+&nbsp;origin&nbsp;with&nbsp;invalid&nbsp;certs.&nbsp;In&nbsp;our&nbsp;case,&nbsp;the&nbsp;majority&nbsp;of&nbsp;the&nbsp;cases&nbsp;were&nbsp;related&nbsp;to&nbsp;Windows&nbsp;Update&nbsp;and&nbsp;Windows&nbsp;Defender&nbsp;domains,&nbsp;so&nbsp;a&nbsp;stopgap&nbsp;solution&nbsp;is&nbsp;to&nbsp;bypass&nbsp;decryption&nbsp;for&nbsp;these&nbsp;sites&nbsp;(eg,&nbsp;.&lt;a&nbsp;href=&quot;http://update.microsoft.com&quot;&gt;update.microsoft.com&lt;/a&gt;).&nbsp;If&nbsp;you&nbsp;do,&nbsp;don&#39;t&nbsp;use&nbsp;dstdomain&nbsp;ACL,&nbsp;as&nbsp;the&nbsp;domain&nbsp;is&nbsp;not&nbsp;available&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;checking.&nbsp;Use&nbsp;something&nbsp;like ssl::server_name[_regex].&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-size:small&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-size:small&quot;&gt;Hope&nbsp;this&nbsp;helps!&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;27,&nbsp;2023&nbsp;at&nbsp;2:28 PM&nbsp;Gustavo&nbsp;Carvalho&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:gustavocarv4872@gmail.com&quot;&gt;gustavocarv4872@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;Hi&nbsp;Hamilton,&nbsp;thanks&nbsp;for&nbsp;helping!&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;wish&nbsp;I&nbsp;could&nbsp;provide&nbsp;this&nbsp;log&nbsp;while&nbsp;squid&nbsp;is&nbsp;crashing,&nbsp;but&nbsp;there&lt;br&gt;<br>
have&nbsp;been&nbsp;no&nbsp;incidents&nbsp;since&nbsp;wednesday.&nbsp;From&nbsp;what&nbsp;I&#39;ve&nbsp;heard,&nbsp;the&nbsp;RAM&lt;br&gt;<br>
on&nbsp;that&nbsp;server&#39;s&nbsp;VM&nbsp;has&nbsp;been&nbsp;increased&nbsp;to&nbsp;32GB.&lt;br&gt;<br>
&lt;br&gt;<br>
Anyway,&nbsp;here&nbsp;is&nbsp;the&nbsp;squidclient&nbsp;mgr:mem&nbsp;log&nbsp;output.&nbsp;I&nbsp;hope&nbsp;it&nbsp;can&nbsp;be&nbsp;helpful.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;Jan&nbsp;26,&nbsp;2023&nbsp;at&nbsp;5:43&nbsp;PM&nbsp;Hamilton&nbsp;Coutinho&lt;br&gt;<br>
&lt;&lt;a&nbsp;href=&quot;mailto:hamilton.coutinho@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;hamilton.coutinho@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;Gustavo,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&#39;m&nbsp;seeing&nbsp;the&nbsp;same&nbsp;thing.&nbsp;I&nbsp;could&nbsp;narrow&nbsp;down&nbsp;(but&nbsp;can&#39;t&nbsp;say&nbsp;with&nbsp;100%&nbsp;confidence)&nbsp;to&nbsp;the&nbsp;code&nbsp;that&nbsp;does&nbsp;certificate&nbsp;verification&nbsp;when&nbsp;configured&nbsp;for&nbsp;SSL&nbsp;decryption.&nbsp;What&nbsp;is&nbsp;the&nbsp;output&nbsp;of&nbsp;squidclient&nbsp;mgr:mem&nbsp;for&nbsp;you?&nbsp;Do&nbsp;you&nbsp;see&nbsp;unexplainably&nbsp;high&nbsp;counts&nbsp;for&nbsp;in-use&nbsp;objects&nbsp;like&nbsp;HttpRequest,&nbsp;PeekingPeerConnector,&nbsp;Comm::Connection,&nbsp;Security::ErrorDetail?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;26,&nbsp;2023&nbsp;at&nbsp;12:31&nbsp;PM&nbsp;Gustavo&nbsp;Carvalho&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:gustavocarv4872@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gustavocarv4872@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;have&nbsp;Squid&nbsp;5.6&nbsp;on&nbsp;a&nbsp;FreeBSD&nbsp;13.1&nbsp;server&nbsp;with&nbsp;16GB&nbsp;RAM&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;noticed&nbsp;that&nbsp;squid&nbsp;starts&nbsp;to&nbsp;consume&nbsp;a&nbsp;lot&nbsp;of&nbsp;ram&nbsp;until&nbsp;it&nbsp;starts&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;consume&nbsp;swap&nbsp;space.&nbsp;When&nbsp;this&nbsp;happens,&nbsp;browsing&nbsp;becomes&nbsp;extremely&lt;br&gt;<br>
&gt;&gt;&nbsp;slow.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;This&nbsp;is&nbsp;happening&nbsp;at&nbsp;least&nbsp;once&nbsp;a&nbsp;week&nbsp;when&nbsp;I&nbsp;have&nbsp;to&nbsp;restart&nbsp;squid&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;get&nbsp;it&nbsp;back&nbsp;to&nbsp;normal.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Any&nbsp;ideas?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;#############&nbsp;Wed&nbsp;Jan&nbsp;25&nbsp;08:30:00&nbsp;-03&nbsp;2023&nbsp;#############&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;<br>
&gt;&gt;&nbsp;Server:&nbsp;squid&lt;br&gt;<br>
&gt;&gt;&nbsp;Mime-Version:&nbsp;1.0&lt;br&gt;<br>
&gt;&gt;&nbsp;Date:&nbsp;Wed,&nbsp;25&nbsp;Jan&nbsp;2023&nbsp;11:30:00&nbsp;GMT&lt;br&gt;<br>
&gt;&gt;&nbsp;Content-Type:&nbsp;text/plain;charset=utf-8&lt;br&gt;<br>
&gt;&gt;&nbsp;Expires:&nbsp;Wed,&nbsp;25&nbsp;Jan&nbsp;2023&nbsp;11:30:00&nbsp;GMT&lt;br&gt;<br>
&gt;&gt;&nbsp;Last-Modified:&nbsp;Wed,&nbsp;25&nbsp;Jan&nbsp;2023&nbsp;11:30:00&nbsp;GMT&lt;br&gt;<br>
&gt;&gt;&nbsp;X-Cache:&nbsp;MISS&nbsp;from&nbsp;xxxx.xxxx.xxxx&lt;br&gt;<br>
&gt;&gt;&nbsp;X-Cache-Lookup:&nbsp;MISS&nbsp;from&nbsp;xxxx.xxxx.xxxx:3128&lt;br&gt;<br>
&gt;&gt;&nbsp;Via:&nbsp;1.1&nbsp;xxxx.xxxx.xxxx&nbsp;(squid)&lt;br&gt;<br>
&gt;&gt;&nbsp;Connection:&nbsp;close&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Squid&nbsp;Object&nbsp;Cache:&nbsp;Version&nbsp;5.6&lt;br&gt;<br>
&gt;&gt;&nbsp;Build&nbsp;Info:&lt;br&gt;<br>
&gt;&gt;&nbsp;Service&nbsp;Name:&nbsp;squid&lt;br&gt;<br>
&gt;&gt;&nbsp;Start&nbsp;Time:&nbsp;Thu,&nbsp;19&nbsp;Jan&nbsp;2023&nbsp;20:25:17&nbsp;GMT&lt;br&gt;<br>
&gt;&gt;&nbsp;Current&nbsp;Time:&nbsp;Wed,&nbsp;25&nbsp;Jan&nbsp;2023&nbsp;11:30:00&nbsp;GMT&lt;br&gt;<br>
&gt;&gt;&nbsp;Connection&nbsp;information&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;clients&nbsp;accessing&nbsp;cache:&nbsp;224&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;HTTP&nbsp;requests&nbsp;received:&nbsp;7541590&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;ICP&nbsp;messages&nbsp;received:&nbsp;0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;ICP&nbsp;messages&nbsp;sent:&nbsp;0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;queued&nbsp;ICP&nbsp;replies:&nbsp;0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;HTCP&nbsp;messages&nbsp;received:&nbsp;0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;HTCP&nbsp;messages&nbsp;sent:&nbsp;0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Request&nbsp;failure&nbsp;ratio:&nbsp;0.00&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Average&nbsp;HTTP&nbsp;requests&nbsp;per&nbsp;minute&nbsp;since&nbsp;start:&nbsp;930.5&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Average&nbsp;ICP&nbsp;messages&nbsp;per&nbsp;minute&nbsp;since&nbsp;start:&nbsp;0.0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Select&nbsp;loop&nbsp;called:&nbsp;78733524&nbsp;times,&nbsp;6.176&nbsp;ms&nbsp;avg&lt;br&gt;<br>
&gt;&gt;&nbsp;Cache&nbsp;information&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Hits&nbsp;as&nbsp;%&nbsp;of&nbsp;all&nbsp;requests:&nbsp;5min:&nbsp;8.4%,&nbsp;60min:&nbsp;12.1%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Hits&nbsp;as&nbsp;%&nbsp;of&nbsp;bytes&nbsp;sent:&nbsp;5min:&nbsp;21.6%,&nbsp;60min:&nbsp;14.1%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Memory&nbsp;hits&nbsp;as&nbsp;%&nbsp;of&nbsp;hit&nbsp;requests:&nbsp;5min:&nbsp;90.8%,&nbsp;60min:&nbsp;75.9%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Disk&nbsp;hits&nbsp;as&nbsp;%&nbsp;of&nbsp;hit&nbsp;requests:&nbsp;5min:&nbsp;4.0%,&nbsp;60min:&nbsp;19.7%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Storage&nbsp;Swap&nbsp;size:&nbsp;2829956&nbsp;KB&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Storage&nbsp;Swap&nbsp;capacity:&nbsp;90.0%&nbsp;used,&nbsp;10.0%&nbsp;free&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Storage&nbsp;Mem&nbsp;size:&nbsp;16172&nbsp;KB&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Storage&nbsp;Mem&nbsp;capacity:&nbsp;98.7%&nbsp;used, &nbsp;1.3%&nbsp;free&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Mean&nbsp;Object&nbsp;Size:&nbsp;28.95&nbsp;KB&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Requests&nbsp;given&nbsp;to&nbsp;unlinkd:&nbsp;186982&lt;br&gt;<br>
&gt;&gt;&nbsp;Median&nbsp;Service&nbsp;Times&nbsp;(seconds) &nbsp;5&nbsp;min &nbsp; &nbsp;60&nbsp;min:&lt;br&gt;<br>
&gt;&gt;&nbsp;HTTP&nbsp;Requests&nbsp;(All): &nbsp; 0.00562 &nbsp;0.01847&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Cache&nbsp;Misses: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.15048 &nbsp;0.23230&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Cache&nbsp;Hits: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.00000 &nbsp;0.00000&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Near&nbsp;Hits: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.14252 &nbsp;0.13498&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Not-Modified&nbsp;Replies: &nbsp;0.00865 &nbsp;0.03066&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;DNS&nbsp;Lookups: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.00000 &nbsp;0.00372&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;ICP&nbsp;Queries: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.00000 &nbsp;0.00000&lt;br&gt;<br>
&gt;&gt;&nbsp;Resource&nbsp;usage&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;UP&nbsp;Time:&nbsp;486282.612&nbsp;seconds&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;CPU&nbsp;Time:&nbsp;65555.712&nbsp;seconds&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;CPU&nbsp;Usage:&nbsp;13.48%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;CPU&nbsp;Usage,&nbsp;5&nbsp;minute&nbsp;avg:&nbsp;26.89%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;CPU&nbsp;Usage,&nbsp;60&nbsp;minute&nbsp;avg:&nbsp;68.00%&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Maximum&nbsp;Resident&nbsp;Size:&nbsp;37896960&nbsp;KB&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Page&nbsp;faults&nbsp;with&nbsp;physical&nbsp;i/o:&nbsp;10843&lt;br&gt;<br>
&gt;&gt;&nbsp;Memory&nbsp;accounted&nbsp;for:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Total&nbsp;accounted: &nbsp; &nbsp; &nbsp; -1459461&nbsp;KB&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;memPoolAlloc&nbsp;calls: &nbsp; &nbsp; 11408&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;memPoolFree&nbsp;calls: &nbsp;1888969689&lt;br&gt;<br>
&gt;&gt;&nbsp;File&nbsp;descriptor&nbsp;usage&nbsp;for&nbsp;squid:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Maximum&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors: &nbsp; 4096&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Largest&nbsp;file&nbsp;desc&nbsp;currently&nbsp;in&nbsp;use: &nbsp; 2149&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Number&nbsp;of&nbsp;file&nbsp;desc&nbsp;currently&nbsp;in&nbsp;use: &nbsp;679&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Files&nbsp;queued&nbsp;for&nbsp;open: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Available&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors:&nbsp;3417&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Reserved&nbsp;number&nbsp;of&nbsp;file&nbsp;descriptors: &nbsp; 100&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;Store&nbsp;Disk&nbsp;files&nbsp;open: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&lt;br&gt;<br>
&gt;&gt;&nbsp;Internal&nbsp;Data&nbsp;Structures:&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;97906&nbsp;StoreEntries&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;3002&nbsp;StoreEntries&nbsp;with&nbsp;MemObjects&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;2838&nbsp;Hot&nbsp;Object&nbsp;Cache&nbsp;Items&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp;97742&nbsp;on-disk&nbsp;objects&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;------&nbsp;pfctl&nbsp;-si&nbsp;------&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Status:&nbsp;Enabled&nbsp;for&nbsp;25&nbsp;days&nbsp;22:58:24 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Debug:&nbsp;Urgent&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;State&nbsp;Table &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Total &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rate&lt;br&gt;<br>
&gt;&gt; &nbsp; current&nbsp;entries &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8085&lt;br&gt;<br>
&gt;&gt; &nbsp; searches &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6650475717 &nbsp; &nbsp; &nbsp; &nbsp; 2965.4/s&lt;br&gt;<br>
&gt;&gt; &nbsp; inserts &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;133521957 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 59.5/s&lt;br&gt;<br>
&gt;&gt; &nbsp; removals &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 133552376 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 59.5/s&lt;br&gt;<br>
&gt;&gt;&nbsp;Counters&lt;br&gt;<br>
&gt;&gt; &nbsp; match &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;605960865 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;270.2/s&lt;br&gt;<br>
&gt;&gt; &nbsp; bad-offset &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; fragment &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; short &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 54 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; normalize &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;659 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; memory &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; bad-timestamp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; congestion &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; ip-option &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; proto-cksum &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; state-mismatch &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;104674 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; state-insert &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 38501 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; state-limit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; src-limit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; synproxy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt; &nbsp; map-failed &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0/s&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;------&nbsp;sysctl&nbsp;-a&nbsp;|&nbsp;grep&nbsp;swap &nbsp;------&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;swap_pager:&nbsp;out&nbsp;of&nbsp;swap&nbsp;space&lt;br&gt;<br>
&gt;&gt;&nbsp;swp_pager_getswapspace(32):&nbsp;failed&lt;br&gt;<br>
&gt;&gt;&nbsp;swap_pager:&nbsp;out&nbsp;of&nbsp;swap&nbsp;space&lt;br&gt;<br>
&gt;&gt;&nbsp;swp_pager_getswapspace(31):&nbsp;failed&lt;br&gt;<br>
&gt;&gt;&nbsp;swap_pager:&nbsp;out&nbsp;of&nbsp;swap&nbsp;space&lt;br&gt;<br>
&gt;&gt;&nbsp;swp_pager_getswapspace(1):&nbsp;failed&lt;br&gt;<br>
&gt;&gt;&nbsp;1&nbsp;PART&nbsp;da0p2&nbsp;2147483648&nbsp;512&nbsp;i&nbsp;2&nbsp;o&nbsp;544768&nbsp;ty&nbsp;freebsd-swap&nbsp;xs&nbsp;GPT&nbsp;xt&lt;br&gt;<br>
&gt;&gt;&nbsp;516e7cb5-6ecf-11d6-8ff8-00022d09712b&lt;br&gt;<br>
&gt;&gt;&nbsp;0&nbsp;MD&nbsp;md1&nbsp;94371840&nbsp;512&nbsp;u&nbsp;1&nbsp;s&nbsp;512&nbsp;f&nbsp;0&nbsp;fs&nbsp;0&nbsp;l&nbsp;94371840&nbsp;t&nbsp;swap&nbsp;label&lt;br&gt;<br>
&gt;&gt;&nbsp;0&nbsp;MD&nbsp;md0&nbsp;62914560&nbsp;512&nbsp;u&nbsp;0&nbsp;s&nbsp;512&nbsp;f&nbsp;0&nbsp;fs&nbsp;0&nbsp;l&nbsp;62914560&nbsp;t&nbsp;swap&nbsp;label&lt;br&gt;<br>
&gt;&gt;&nbsp;z0xfffff80003ec5800&nbsp;[shape=box,label=&quot;SWAP\nswap\nr#3&quot;];&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &nbsp; &lt;name&gt;swap&lt;/name&gt;&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &lt;type&gt;swap&lt;/type&gt;&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &lt;type&gt;swap&lt;/type&gt;&lt;br&gt;<br>
&gt;&gt; &nbsp; &nbsp; &lt;type&gt;freebsd-swap&lt;/type&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_enabled:&nbsp;1&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.domain.0.stats.unswappable:&nbsp;2044&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_idle_threshold2:&nbsp;10&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_idle_threshold1:&nbsp;2&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_idle_enabled:&nbsp;0&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.disable_swapspace_pageouts:&nbsp;0&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.vm.v_swappgsout:&nbsp;3154299&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.vm.v_swappgsin:&nbsp;510404&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.vm.v_swapout:&nbsp;174446&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.vm.v_swapin:&nbsp;62590&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.swap.free_completed:&nbsp;54375&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.stats.swap.free_deferred:&nbsp;56992&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.nswapdev:&nbsp;1&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_fragmentation:&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_async_max:&nbsp;4&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_maxpages:&nbsp;32572800&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_total:&nbsp;2147483648&lt;br&gt;<br>
&gt;&gt;&nbsp;vm.swap_reserved:&nbsp;384676114432&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;------&nbsp;/usr/sbin/swapinfo&nbsp;-h &nbsp;------&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Device &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Size &nbsp; &nbsp; Used &nbsp; &nbsp;Avail&nbsp;Capacity&lt;br&gt;<br>
&gt;&gt;&nbsp;/dev/da0p2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.0G &nbsp; &nbsp; 2.0G &nbsp; &nbsp; 8.0K &nbsp; 100%&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;#############&nbsp;squid.conf&nbsp;#############&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;http_port&nbsp;3128&nbsp;ssl-bump&nbsp;generate-host-certificates=on&lt;br&gt;<br>
&gt;&gt;&nbsp;dynamic_cert_mem_cache_size=20MB&nbsp;cert=/xxxx/conf/certs/ca.crt&lt;br&gt;<br>
&gt;&gt;&nbsp;key=/xxxx/conf/certs/ca.key&lt;br&gt;<br>
&gt;&gt;&nbsp;http_port&nbsp;3129&nbsp;intercept&lt;br&gt;<br>
&gt;&gt;&nbsp;https_port&nbsp;3130&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&lt;br&gt;<br>
&gt;&gt;&nbsp;dynamic_cert_mem_cache_size=20MB&nbsp;cert=/xxxx/conf/certs/ca.crt&lt;br&gt;<br>
&gt;&gt;&nbsp;key=/xxxx/conf/certs/ca.key&lt;br&gt;<br>
&gt;&gt;&nbsp;visible_hostname&nbsp;xxxx.xxxx.xxxx&lt;br&gt;<br>
&gt;&gt;&nbsp;max_filedescriptors&nbsp;4096&lt;br&gt;<br>
&gt;&gt;&nbsp;maximum_object_size&nbsp;4096&nbsp;KB&lt;br&gt;<br>
&gt;&gt;&nbsp;minimum_object_size&nbsp;0&nbsp;KB&lt;br&gt;<br>
&gt;&gt;&nbsp;maximum_object_size_in_memory&nbsp;256&nbsp;KB&lt;br&gt;<br>
&gt;&gt;&nbsp;fqdncache_size&nbsp;1024&lt;br&gt;<br>
&gt;&gt;&nbsp;cache_mgr&nbsp;xxxx@xxxx&lt;br&gt;<br>
&gt;&gt;&nbsp;dns_nameservers&nbsp;127.0.0.1&lt;br&gt;<br>
&gt;&gt;&nbsp;cache_replacement_policy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;heap&nbsp;LFUDA&lt;br&gt;<br>
&gt;&gt;&nbsp;memory_replacement_policy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heap&nbsp;GDSF&lt;br&gt;<br>
&gt;&gt;&nbsp;cache_mem&nbsp;16&nbsp;MB&lt;br&gt;<br>
&gt;&gt;&nbsp;cache_dir &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ufs&nbsp;/xxxx/chroot/osproxy/cache&nbsp;3072&nbsp;32&nbsp;256&lt;br&gt;<br>
&gt;&gt;&nbsp;forwarded_for&nbsp;on&lt;br&gt;<br>
&gt;&gt;&nbsp;memory_pools&nbsp;off&lt;br&gt;<br>
&gt;&gt;&nbsp;logformat&nbsp;xxxx&nbsp;%ts|%6tr|%&gt;a|%Ss|%03&gt;Hs|%&lt;st|%rm|%un|%mt|%ea|%ru&lt;br&gt;<br>
&gt;&gt;&nbsp;logfile_rotate&nbsp;0&lt;br&gt;<br>
&gt;&gt;&nbsp;httpd_suppress_version_string&nbsp;on&lt;br&gt;<br>
&gt;&gt;&nbsp;strip_query_terms&nbsp;off&lt;br&gt;<br>
&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;Hamilton&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;gmail_signature_prefix&quot;&gt;--&nbsp;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;Hamilton&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
