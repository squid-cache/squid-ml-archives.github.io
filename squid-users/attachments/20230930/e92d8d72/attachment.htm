<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail-iw&nbsp;gmail-ajw&quot;&gt;&lt;span&nbsp;class=&quot;gmail-hb&quot;&gt;&lt;span&nbsp;name=&quot;Ralf.Hildebrandt&quot;&nbsp;class=&quot;gmail-g2&quot;&gt;Ralf.Hildebrandt&nbsp;wrote&nbsp;&lt;/span&gt;&lt;/span&gt;to&nbsp;&lt;b&gt;Bud&nbsp;Miljkovic&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:bud_miljkovic@trimble.com&quot;&nbsp;target=&quot;_blank&quot;&gt;bud_miljkovic@trimble.com&lt;/a&gt;&gt;:&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&gt;&nbsp;#&nbsp;Intercept&nbsp;transparent&nbsp;HTTPS&nbsp;traffic&lt;br&gt;<br>
&gt;&nbsp;https_port&nbsp;3129&nbsp;intercept&nbsp;ssl-bump&nbsp;cert=/etc/squid/ssl_cert/myCA.pem&lt;br&gt;<br>
&gt;&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=4MB&lt;br&gt;<br>
&gt;&nbsp;ssl_bump&nbsp;splice&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;sslcrtd_program&nbsp;/usr/libexec/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;<br>
&lt;br&gt;<br>
^&nbsp;I&nbsp;think&nbsp;the&nbsp;portion&nbsp;above&nbsp;is&nbsp;relevant&nbsp;for&nbsp;this&nbsp;error&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;helperOpenServers:&nbsp;Starting&nbsp;5/32&nbsp;&#39;ssl_crtd&#39;&nbsp;processes&lt;br&gt;<br>
...&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;Accepting&nbsp;NAT&nbsp;intercepted&nbsp;SSL&nbsp;bumped&nbsp;HTTPS&nbsp;<br>
Socket&nbsp;connections&nbsp;at&nbsp;local=[::]:3129&nbsp;remote=[::]&nbsp;FD&nbsp;29&nbsp;flags=41&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;WARNING:&nbsp;ssl_crtd&nbsp;#Hlpr1&nbsp;exited&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;Too&nbsp;few&nbsp;ssl_crtd&nbsp;processes&nbsp;are&nbsp;running&nbsp;(need&nbsp;1/32)&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;Closing&nbsp;HTTP&nbsp;port&nbsp;[::]:3128&lt;br&gt;<br>
&gt;&nbsp;2023/09/29&nbsp;15:02:52|&nbsp;Closing&nbsp;HTTPS&nbsp;port&nbsp;[::]:3129&lt;br&gt;<br>
&gt;&nbsp;FATAL:&nbsp;The&nbsp;ssl_crtd&nbsp;helpers&nbsp;are&nbsp;crashing&nbsp;too&nbsp;rapidly,&nbsp;need&nbsp;help!&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;assume&nbsp;the&nbsp;&quot;sslcrtd_program&quot;&nbsp;(set&nbsp;to&nbsp;&quot;/usr/libexec/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&quot;)&lt;br&gt;<br>
is&nbsp;indeed&nbsp;not&nbsp;starting&nbsp;up&nbsp;(or&nbsp;crashing&nbsp;immediately&nbsp;after).&lt;br&gt;<br>
&lt;br&gt;&lt;div&gt;<br>
*&nbsp;What&nbsp;does&nbsp;&quot;dmesg&quot;&nbsp;report?&nbsp;&lt;b&gt;&gt;&gt;&gt;&nbsp;&lt;/b&gt;&lt;i&gt;Could&nbsp;not&nbsp;get&nbsp;anything&nbsp;relevant!&lt;/i&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
*&nbsp;What&nbsp;happens&nbsp;if&nbsp;you&nbsp;invoke&nbsp;&quot;/usr/libexec/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&quot;&lt;br&gt;&lt;div&gt;<br>
 &nbsp;by&nbsp;hand&nbsp;(as&nbsp;the&nbsp;squid&nbsp;user,&nbsp;I&nbsp;guess)&lt;/div&gt;&lt;div&gt;&lt;b&gt;&gt;&gt;&gt;&nbsp;&lt;/b&gt;(1)&nbsp;Executing&nbsp;manually: &lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;r2:/#&nbsp;/usr/libexec/ssl_crtd&nbsp;-s&nbsp;/var/lib/ssl_db&nbsp;-M&nbsp;4MB&lt;br&gt;/usr/libexec/ssl_crtd:<br>
&nbsp;Uninitialized&nbsp;SSL&nbsp;certificate&nbsp;database&nbsp;directory:&nbsp;/var/lib/ssl_db.&nbsp;To&nbsp;<br>
initialize,&nbsp;run&nbsp;&quot;ssl_crtd&nbsp;-c&nbsp;-s&nbsp;/var/lib/ssl_db&quot;.&lt;/div&gt;&lt;div&gt;<br>
&lt;i&gt;Where:&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;r2:/#&nbsp;ls&nbsp;-l&nbsp;/usr/libexec/ssl_crtd&nbsp;&lt;br&gt;-rwxr-xr-x&nbsp; &nbsp; 1&nbsp;root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;63884&nbsp;Sep&nbsp;27&nbsp;23:06&nbsp;/usr/libexec/ssl_crtd&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;i&gt;I&nbsp;do&nbsp;not&nbsp;quite&nbsp;get&nbsp;&quot;To&nbsp;initialize,&nbsp;run&nbsp;&quot;ssl_crtd&nbsp;-c&nbsp;-s&nbsp;/var/lib/ssl_db&quot;:?&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;I&nbsp;am&nbsp;executing&nbsp;all&nbsp;this&nbsp;manually&nbsp;as&nbsp;the&nbsp;root&nbsp;user.&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;When&nbsp;I&nbsp;do:&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;r2:/#&nbsp;cd&nbsp;/usr/libexec/&lt;br&gt;r2:/usr/libexec#&nbsp;ls&nbsp;-l&nbsp;ssl_crtd&nbsp;&lt;br&gt;-rwxr-xr-x&nbsp; &nbsp; 1&nbsp;root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;63884&nbsp;Sep&nbsp;27&nbsp;23:06&nbsp;ssl_crtd&lt;/div&gt;&lt;i&gt;However,&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;run&nbsp;this:&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;r2:/usr/libexec#&nbsp;ssl_crtd&nbsp;-c&nbsp;-s&nbsp;/var/lib/ssl_db&lt;br&gt;-sh:&nbsp;ssl_crtd:&nbsp;command&nbsp;not&nbsp;found &nbsp;&lt;b&gt;&gt;&gt;&gt;&lt;/b&gt;&nbsp;&lt;i&gt;?!&lt;/i&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;I.e.&nbsp;ssl_crtd&nbsp;is&nbsp;not&nbsp;executable&nbsp;from&nbsp;its&nbsp;directory&nbsp;and&nbsp;it&nbsp;is&nbsp;owned&nbsp;by&nbsp;the&nbsp;root&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;This&nbsp;is&nbsp;very&nbsp;confusing&nbsp;to&nbsp;me?!&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Also,&nbsp;with&nbsp;another&nbsp;level&nbsp;of&nbsp;debugging&nbsp;it&nbsp;can&nbsp;be&nbsp;seen&nbsp;that:&lt;/i&gt;&lt;/div&gt;&lt;div&gt;```&lt;br&gt;........&lt;br&gt;2023/09/30&nbsp;14:16:31.899|&nbsp;Initializing&nbsp;https_port&nbsp;[::]:3129&nbsp;SSL&nbsp;context&lt;br&gt;2023/09/30&nbsp;14:16:31.899|&nbsp;Using&nbsp;certificate&nbsp;in&nbsp;/etc/squid/ssl_cert/myCA.pem&lt;br&gt;2023/09/30<br>
&nbsp;14:16:31.905|&nbsp;83,5|&nbsp;25/src/ssl/support.cc(1962)&nbsp;<br>
readSslX509CertificatesChain:&nbsp;Certificate&nbsp;is&nbsp;self-signed,&nbsp;will&nbsp;not&nbsp;be&nbsp;<br>
chained&lt;br&gt;2023/09/30&nbsp;14:16:31.962|&nbsp;83,5|&nbsp;25/src/ssl/support.cc(1628)&nbsp;contextMethod:&nbsp;Using&nbsp;SSLv2/SSLv3.&lt;br&gt;2023/09/30&nbsp;14:16:31.964|&nbsp;83,9|&nbsp;25/src/ssl/support.cc(903)&nbsp;configureSslContext:&nbsp;Setting&nbsp;RSA&nbsp;key&nbsp;generation&nbsp;callback.&lt;br&gt;2023/09/30&nbsp;14:16:31.965|&nbsp;83,9|&nbsp;25/src/ssl/support.cc(916)&nbsp;configureSslContext:&nbsp;Setting&nbsp;CA&nbsp;certificate&nbsp;locations.&lt;br&gt;2023/09/30&nbsp;14:16:31.966|&nbsp;83,9|&nbsp;25/src/ssl/support.cc(965)&nbsp;configureSslContext:&nbsp;Not&nbsp;requiring&nbsp;any&nbsp;client&nbsp;certificates&lt;br&gt;2023/09/30&nbsp;14:16:31.967|&nbsp;21,3|&nbsp;src/tools.cc(543)&nbsp;leave_suid:&nbsp;leave_suid:&nbsp;PID&nbsp;3917&nbsp;called&lt;br&gt;2023/09/30<br>
&nbsp;14:16:31.968|&nbsp;21,3|&nbsp;src/tools.cc(565)&nbsp;leave_suid:&nbsp;leave_suid:&nbsp;PID&nbsp;3917&nbsp;<br>
giving&nbsp;up&nbsp;root,&nbsp;becoming&nbsp;&#39;squid&#39; &nbsp;&lt;&lt;&lt;&lt;&nbsp;&lt;b&gt;CHANGE&nbsp;OF&nbsp;USER&nbsp;NAME&nbsp;to&nbsp;SQUID&lt;/b&gt;&lt;br&gt;2023/09/30&nbsp;14:16:31.970|&nbsp;0,9|&nbsp;src/debug.cc(408)&nbsp;parseOptions:&nbsp;command-line&nbsp;-X&nbsp;overrides:&nbsp;ALL,1&lt;br&gt;2023/09/30&nbsp;14:16:31.983|&nbsp;Current&nbsp;Directory&nbsp;is&nbsp;/&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;Starting&nbsp;Squid&nbsp;Cache&nbsp;version&nbsp;3.5.25&nbsp;for&nbsp;arm-poky-linux-gnueabi...&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;Service&nbsp;Name:&nbsp;squid&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;Process&nbsp;ID&nbsp;3917&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;Process&nbsp;Roles:&nbsp;master&nbsp;worker&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;With&nbsp;1024&nbsp;file&nbsp;descriptors&nbsp;available&lt;br&gt;&lt;br&gt;2023/09/30&nbsp;14:16:31.985|&nbsp;Initializing&nbsp;IP&nbsp;Cache...&lt;br&gt;2023/09/30&nbsp;14:16:31.993|&nbsp;DNS&nbsp;Socket&nbsp;created&nbsp;at&nbsp;[::],&nbsp;FD&nbsp;8&lt;br&gt;2023/09/30&nbsp;14:16:31.994|&nbsp;DNS&nbsp;Socket&nbsp;created&nbsp;at&nbsp;0.0.0.0,&nbsp;FD&nbsp;9&lt;br&gt;2023/09/30&nbsp;14:16:31.995|&nbsp;Adding&nbsp;nameserver&nbsp;127.0.0.1&nbsp;from&nbsp;/etc/resolv.conf&lt;br&gt;2023/09/30&nbsp;14:16:31.997|&nbsp;helperOpenServers:&nbsp;Starting&nbsp;5/32&nbsp;&#39;ssl_crtd&#39;&nbsp;processes&lt;br&gt;2023/09/30&nbsp;14:16:32.175|&nbsp;Logfile:&nbsp;opening&nbsp;log&nbsp;daemon:/var/log/squid/access.log&lt;br&gt;2023/09/30&nbsp;14:16:32.176|&nbsp;Logfile&nbsp;Daemon:&nbsp;opening&nbsp;log&nbsp;/var/log/squid/access.log&lt;br&gt;2023/09/30&nbsp;14:16:32.457|&nbsp;Unlinkd&nbsp;pipe&nbsp;opened&nbsp;on&nbsp;FD&nbsp;26&lt;br&gt;2023/09/30&nbsp;14:16:32.470|&nbsp;Store&nbsp;logging&nbsp;disabled&lt;br&gt;2023/09/30&nbsp;14:16:32.471|&nbsp;Swap&nbsp;maxSize&nbsp;102400&nbsp;+&nbsp;262144&nbsp;KB,&nbsp;estimated&nbsp;28041&nbsp;objects&lt;br&gt;2023/09/30&nbsp;14:16:32.471|&nbsp;Target&nbsp;number&nbsp;of&nbsp;buckets:&nbsp;1402&lt;br&gt;2023/09/30&nbsp;14:16:32.471|&nbsp;Using&nbsp;8192&nbsp;Store&nbsp;buckets&lt;br&gt;2023/09/30&nbsp;14:16:32.471|&nbsp;Max&nbsp;Mem&nbsp; size:&nbsp;262144&nbsp;KB&lt;br&gt;2023/09/30&nbsp;14:16:32.471|&nbsp;Max&nbsp;Swap&nbsp;size:&nbsp;102400&nbsp;KB&lt;br&gt;2023/09/30&nbsp;14:16:32.477|&nbsp;Rebuilding&nbsp;storage&nbsp;in&nbsp;/var/volatile/log/squid/logs&nbsp;(no&nbsp;log)&lt;br&gt;2023/09/30&nbsp;14:16:32.478|&nbsp;Using&nbsp;Least&nbsp;Load&nbsp;store&nbsp;dir&nbsp;selection&lt;br&gt;2023/09/30&nbsp;14:16:32.480|&nbsp;Current&nbsp;Directory&nbsp;is&nbsp;/&lt;br&gt;2023/09/30&nbsp;14:16:33.121|&nbsp;Finished&nbsp;loading&nbsp;MIME&nbsp;types&nbsp;and&nbsp;icons.&lt;br&gt;2023/09/30&nbsp;14:16:33.126|&nbsp;HTCP&nbsp;Disabled.&lt;br&gt;2023/09/30&nbsp;14:16:33.131|&nbsp;Squid&nbsp;plugin&nbsp;modules&nbsp;loaded:&nbsp;0&lt;br&gt;2023/09/30&nbsp;14:16:33.132|&nbsp;Adaptation&nbsp;support&nbsp;is&nbsp;off.&lt;br&gt;2023/09/30&nbsp;14:16:33.136|&nbsp;Accepting&nbsp;HTTP&nbsp;Socket&nbsp;connections&nbsp;at&nbsp;local=[::]:3128&nbsp;remote=[::]&nbsp;FD&nbsp;28&nbsp;flags=9&lt;br&gt;2023/09/30<br>
&nbsp;14:16:33.138|&nbsp;Accepting&nbsp;NAT&nbsp;intercepted&nbsp;SSL&nbsp;bumped&nbsp;HTTPS&nbsp;Socket&nbsp;<br>
connections&nbsp;at&nbsp;local=[::]:3129&nbsp;remote=[::]&nbsp;FD&nbsp;29&nbsp;flags=41&lt;br&gt;&lt;br&gt;2023/09/30&nbsp;14:16:33.197|&nbsp;WARNING:&nbsp;ssl_crtd&nbsp;#Hlpr1&nbsp;exited&lt;br&gt;2023/09/30&nbsp;14:16:33.197|&nbsp;Too&nbsp;few&nbsp;ssl_crtd&nbsp;processes&nbsp;are&nbsp;running&nbsp;(need&nbsp;1/32)&lt;br&gt;2023/09/30&nbsp;14:16:33.197|&nbsp;Closing&nbsp;HTTP&nbsp;port&nbsp;[::]:3128&lt;br&gt;2023/09/30&nbsp;14:16:33.201|&nbsp;Closing&nbsp;HTTPS&nbsp;port&nbsp;[::]:3129&lt;br&gt;FATAL:&nbsp;The&nbsp;ssl_crtd&nbsp;helpers&nbsp;are&nbsp;crashing&nbsp;too&nbsp;rapidly,&nbsp;need&nbsp;help!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Can&nbsp;you&nbsp;shed&nbsp;some&nbsp;light&nbsp;on&nbsp;all&nbsp;this?&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Buda&lt;/i&gt;&lt;/div&gt; &lt;br&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;11-17&nbsp;Birmingham&nbsp;Drive,&nbsp;Christchurch,&nbsp;Canterbury,&nbsp;8024&lt;br&gt;New&nbsp;Zealand&lt;br&gt;+64&nbsp;3&nbsp;963-5550&nbsp;Direct&lt;br&gt;+64&nbsp;21&nbsp;419-024&nbsp;Mobile&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.trimble.com&quot;&nbsp;target=&quot;_blank&quot;&gt;www.trimble.com&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail-iw&nbsp;gmail-ajw&quot;&gt;&lt;span&nbsp;class=&quot;gmail-hb&quot;&gt;&lt;span&nbsp;name=&quot;Ralf.Hildebrandt&quot;&nbsp;class=&quot;gmail-g2&quot;&gt;&lt;br&gt;&lt;/span&gt;&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;gmail-:63g&quot;&nbsp;aria-haspopup=&quot;true&quot;&nbsp;class=&quot;gmail-ajy&quot;&nbsp;role=&quot;button&quot;&nbsp;tabindex=&quot;0&quot;&nbsp;aria-label=&quot;Show&nbsp;details&quot;&gt;&lt;img&nbsp;class=&quot;gmail-ajz&quot;&nbsp;src=&quot;https://mail.google.com/mail/u/0/images/cleardot.gif&quot;&nbsp;alt=&quot;&quot;&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;gmail_signature_prefix&quot;&gt;--&nbsp;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Budimir&nbsp;Miljković&nbsp;BSc&nbsp;E&nbsp;|&nbsp;He&lt;br&gt;Senior&nbsp;Development&nbsp;Engineer&lt;br&gt;Civil&nbsp;Construction&nbsp;Field&nbsp;Systems&lt;br&gt;Trimble&lt;br&gt; &lt;br&gt;11-17&nbsp;Birmingham&nbsp;Drive,&nbsp;Christchurch,&nbsp;Canterbury,&nbsp;8024&lt;br&gt;New&nbsp;Zealand&lt;br&gt;+64&nbsp;3&nbsp;963-5550&nbsp;Direct&lt;br&gt;+64&nbsp;21&nbsp;419-024&nbsp;Mobile&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.trimble.com&quot;&nbsp;target=&quot;_blank&quot;&gt;www.trimble.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;This&nbsp;email&nbsp;may&nbsp;contain&nbsp;confidential&nbsp;information&nbsp;that&nbsp;is&nbsp;intended&nbsp;only&nbsp;for&nbsp;the&nbsp;listed&nbsp;recipient(s)&nbsp;of&nbsp;this&nbsp;email.&nbsp;Any&nbsp;unauthorized&nbsp;review,&nbsp;use,&nbsp;disclosure&nbsp;or&nbsp;distribution&nbsp;is&nbsp;prohibited.&nbsp;If&nbsp;you&nbsp;believe&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;email&nbsp;in&nbsp;error,&nbsp;please&nbsp;immediately&nbsp;delete&nbsp;this&nbsp;email&nbsp;and&nbsp;any&nbsp;attachments,&nbsp;and&nbsp;inform&nbsp;me&nbsp;via&nbsp;reply&nbsp;email.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
