<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&nbsp;Norman,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;faced&nbsp;the&nbsp;problem&nbsp;too.&lt;/div&gt;&lt;div&gt;For&nbsp;myself,&nbsp;I&nbsp;modified&nbsp;the&nbsp;authorisation&nbsp;script&nbsp;(ext_wbinfo_group_acl&nbsp;-&nbsp;it&nbsp;is&nbsp;a&nbsp;simple&nbsp;Perl&nbsp;code)&nbsp;and&nbsp;cache&nbsp;some&nbsp;user&nbsp;groups&nbsp;membership&nbsp;in&nbsp;a&nbsp;Memcache.&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;script&nbsp;tries&nbsp;first&nbsp;of&nbsp;all&nbsp;to&nbsp;get&nbsp;the&nbsp;information&nbsp;from&nbsp;the&nbsp;cache,&nbsp;and&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;there,&nbsp;then&nbsp;get&nbsp;it&nbsp;from&nbsp;winbind.&lt;/div&gt;&lt;div&gt;Squid&nbsp;reconfigurations&nbsp;do&nbsp;not&nbsp;affect&nbsp;the&nbsp;information&nbsp;in&nbsp;the&nbsp;memcache.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Kind regards,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; Ankor&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;ср,&nbsp;29&nbsp;нояб.&nbsp;2023 г.&nbsp;в&nbsp;18:33,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;2023-11-29&nbsp;09:38,&nbsp;Ziert,&nbsp;Norman&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;the&nbsp;very&nbsp;recent&nbsp;past&nbsp;I&nbsp;stumbled&nbsp;over&nbsp;that&nbsp;a&nbsp;&quot;squid&nbsp;-k&nbsp;reconfigure&quot;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;drops&nbsp;in&nbsp;memory&nbsp;caches&nbsp;for&nbsp;external_acl_type&nbsp;helpers,&nbsp;wich&nbsp;in&nbsp;my&nbsp;case&nbsp;&lt;br&gt;<br>
&gt;&nbsp;leads&nbsp;to&nbsp;a&nbsp;massive&nbsp;query&nbsp;burst&nbsp;against&nbsp;local&nbsp;winbind&nbsp;&lt;br&gt;<br>
&gt;&nbsp;(ext_wbinfo_group_acl)&nbsp;and&nbsp;infact&nbsp;the&nbsp;active&nbsp;directory&nbsp;&lt;br&gt;<br>
&gt;&nbsp;domaincontrollers.&nbsp;This&nbsp;also&nbsp;leads&nbsp;to&nbsp;an&nbsp;massive&nbsp;impact&nbsp;in&nbsp;servicetime&nbsp;&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;endusers,&nbsp;where&nbsp;after&nbsp;a&nbsp;reconfigure&nbsp;the&nbsp;time&nbsp;needed&nbsp;to&nbsp;fullfill&nbsp;takes&nbsp;&lt;br&gt;<br>
&gt;&nbsp;a&nbsp;recent&nbsp;time&nbsp;by&nbsp;group&nbsp;membership&nbsp;authorization&nbsp;within&nbsp;squid&nbsp;until&nbsp;the&nbsp;&lt;br&gt;<br>
&gt;&nbsp;external_acl&nbsp;cache&nbsp;is&nbsp;&quot;rewarmed&quot;.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;veriefied&nbsp;that&nbsp;behavior&nbsp;back&nbsp;to&nbsp;v5.2.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;ask&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;wanted&nbsp;behavior&nbsp;to&nbsp;squid&nbsp;or&nbsp;should&nbsp;I&nbsp;file&nbsp;a&nbsp;&lt;br&gt;<br>
&gt;&nbsp;bug-report&nbsp;on&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;behavior&nbsp;is&nbsp;usually&nbsp;unwanted,&nbsp;but&nbsp;there&nbsp;is&nbsp;no&nbsp;particular&nbsp;need&nbsp;for&nbsp;a&nbsp;&lt;br&gt;<br>
bug&nbsp;report&nbsp;IMHO:&nbsp;We&nbsp;know&nbsp;that&nbsp;this&nbsp;and&nbsp;similar&nbsp;reconfiguration&nbsp;side&nbsp;&lt;br&gt;<br>
effects&nbsp;are&nbsp;usually&nbsp;unwanted.&nbsp;We&nbsp;are&nbsp;actively&nbsp;working&nbsp;on&nbsp;avoiding&nbsp;&lt;br&gt;<br>
various&nbsp;unwanted&nbsp;reconfiguration&nbsp;side&nbsp;effects&nbsp;--&nbsp;the&nbsp;&quot;smooth&nbsp;&lt;br&gt;<br>
reconfiguration&quot;&nbsp;project&nbsp;has&nbsp;merged&nbsp;about&nbsp;25&nbsp;pull&nbsp;requests&nbsp;in&nbsp;recent&nbsp;&lt;br&gt;<br>
months&nbsp;(some&nbsp;of&nbsp;them&nbsp;were&nbsp;very&nbsp;complex/substantial&nbsp;--&nbsp;we&nbsp;need&nbsp;to&nbsp;payoff&nbsp;&lt;br&gt;<br>
a&nbsp;lot&nbsp;of&nbsp;very&nbsp;old&nbsp;technical&nbsp;debt&nbsp;first!),&nbsp;and&nbsp;more&nbsp;are&nbsp;coming.&nbsp;We&nbsp;will&nbsp;&lt;br&gt;<br>
solve&nbsp;this&nbsp;problem&nbsp;in&nbsp;the&nbsp;foreseeable&nbsp;future.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Maybe&nbsp;I&nbsp;discovered&nbsp;a&nbsp;topic&nbsp;wich&nbsp;is&nbsp;connected&nbsp;to&nbsp;this&nbsp;discussion:&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://wiki.squid-cache.org/Features/HotConf&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/Features/HotConf&lt;/a&gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Yes,&nbsp;that&nbsp;old&nbsp;wiki&nbsp;page&nbsp;has&nbsp;some&nbsp;relevant&nbsp;pieces,&nbsp;but&nbsp;we&nbsp;have&nbsp;moved&nbsp;far&nbsp;&lt;br&gt;<br>
ahead&nbsp;of&nbsp;those&nbsp;old&nbsp;discussions&nbsp;since&nbsp;then&nbsp;and&nbsp;have&nbsp;solved&nbsp;complex&nbsp;&lt;br&gt;<br>
architectural&nbsp;problems&nbsp;with&nbsp;functional,&nbsp;deployment-tested&nbsp;code&nbsp;that&nbsp;&lt;br&gt;<br>
supports&nbsp;smooth&nbsp;reconfiguration&nbsp;in&nbsp;some&nbsp;typical&nbsp;cases.&nbsp;We&nbsp;are&nbsp;actively&nbsp;&lt;br&gt;<br>
working&nbsp;on&nbsp;polishing,&nbsp;merging,&nbsp;and&nbsp;enhancing&nbsp;those&nbsp;improvements.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
