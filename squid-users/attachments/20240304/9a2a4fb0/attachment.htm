<tt>
&lt;html&gt;&lt;head&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;OpenText&nbsp;GroupWise&nbsp;Web&quot;&gt;<br>
&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;id=&quot;GroupWiseSection_1709548331446_shorvath@npsh.hu_AF4D605002460000936E707366303663_&quot;&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;<br>
&lt;div&gt;Hi&nbsp;Alex,&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thank&nbsp;you&nbsp;so&nbsp;much&nbsp;your&nbsp;answer&nbsp;but&nbsp;this&nbsp;solution&nbsp;isn't&nbsp;work.&nbsp;Please&nbsp;check&nbsp;my&nbsp;config&nbsp;maybe&nbsp;i&nbsp;made&nbsp;a&nbsp;mistake.&nbsp;Or&nbsp;maybe&nbsp;have&nbsp;you&nbsp;any&nbsp;other&nbsp;solution?&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;can&nbsp;use&nbsp;proxy&nbsp;users&nbsp;from&nbsp;QUOTA_EXCEEDED_USERS.acl&nbsp;which&nbsp;contain&nbsp;e-mail&nbsp;address&nbsp;or&nbsp;get&nbsp;from&nbsp;ldap&nbsp;with&nbsp;external_acl_type&nbsp;overkvota&nbsp;children-max=10&nbsp;children-startup=10&nbsp;ttl=600&nbsp;negative_ttl=600&nbsp;%LOGIN&nbsp;/usr/lib/squid/ext_ldap_group_acl&nbsp;-Z&nbsp;-v&nbsp;3&nbsp;-P&nbsp;-p&nbsp;389&nbsp;-h&nbsp;ldapm1.xxxxx.hu&nbsp;-s&nbsp;sub&nbsp;-D&nbsp;cn=squid_proxy,o=services&nbsp;-W&nbsp;/etc/squid/secret&nbsp;-b&nbsp;o=xxxx&nbsp;-f&nbsp;&quot;(&amp;(mail=%u)(objectclass=InetorgPerson)(InternetUser=true)(QuotaExceeded=true))&quot;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;strong&gt;acl&nbsp;QUOTA_EXCEEDED_USERS&nbsp;ext_user&nbsp;&quot;/etc/squid/QUOTA_EXCEEDED_USERS.acl&quot;&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;acl&nbsp;markAsLimited&nbsp;annotate_transaction&nbsp;limited=yes&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;acl&nbsp;markedAsLimited&nbsp;note&nbsp;limited&nbsp;yes&lt;/strong&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&lt;strong&gt;&lt;span&nbsp;class=&quot;GroupwiseReplyHeader&quot;&gt;http_access&nbsp;allow&nbsp;QUOTA_EXCEEDED_USERS&nbsp;markAsLimited&nbsp;!all&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;GroupWiseSection_1709548331411_shorvath@npsh.hu_AF4D605002460000936E707366303663_&quot;&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&lt;strong&gt;&lt;span&nbsp;class=&quot;GroupwiseReplyHeader&quot;&gt;delay_pools&nbsp;1&lt;br&gt;delay_class&nbsp;1&nbsp;1&lt;br&gt;delay_parameters&nbsp;1&nbsp;32000/32000&lt;br&gt;delay_access&nbsp;1&nbsp;allow&nbsp;markedAsLimited&lt;br&gt;delay_access&nbsp;1&nbsp;deny&nbsp;all&lt;/span&gt;&lt;/strong&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&lt;span&nbsp;class=&quot;GroupwiseReplyHeader&quot;&gt;br,&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&lt;span&nbsp;class=&quot;GroupwiseReplyHeader&quot;&gt;Szilard&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;GroupWiseMessageBody&quot;&gt;&lt;span&nbsp;class=&quot;GroupwiseReplyHeader&quot;&gt;&lt;br&gt;&lt;br&gt;&gt;&gt;&gt;&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;rousskov@measurement-factory.com&gt;&nbsp;02/20/2024,&nbsp;04:52&nbsp;PM&nbsp;&gt;&gt;&gt;&lt;br&gt;&lt;/span&gt;On&nbsp;2024-02-20&nbsp;03:14,&nbsp;Francesco&nbsp;Chemolli&nbsp;wrote:&lt;br&gt;&lt;br&gt;&gt;&nbsp;acl&nbsp;users&nbsp;ext_user&nbsp;foo&nbsp;bar&nbsp;gazonk&lt;br&gt;&gt;&nbsp;http_access&nbsp;allow&nbsp;users&nbsp;all&nbsp;#&nbsp;always&nbsp;allow&lt;br&gt;&lt;br&gt;The&nbsp;above&nbsp;does&nbsp;not&nbsp;always&nbsp;allow.&nbsp;What&nbsp;you&nbsp;meant&nbsp;it&nbsp;probably&nbsp;this:&lt;br&gt;&lt;br&gt;#&nbsp;This&nbsp;rule&nbsp;never&nbsp;matches.&nbsp;It&nbsp;is&nbsp;used&nbsp;for&nbsp;its&nbsp;side&nbsp;effect:&lt;br&gt;#&nbsp;The&nbsp;rule&nbsp;evaluates&nbsp;users&nbsp;ACL,&nbsp;caching&nbsp;evaluation&nbsp;result.&lt;br&gt;http_access&nbsp;allow&nbsp;users&nbsp;!all&lt;br&gt;&lt;br&gt;&lt;br&gt;&gt;&nbsp;delay_access&nbsp;3&nbsp;allow&nbsp;users&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;should&nbsp;do&nbsp;the&nbsp;trick&lt;br&gt;&lt;br&gt;...&nbsp;but&nbsp;sometimes&nbsp;will&nbsp;not.&nbsp;Wiki&nbsp;recommendation&nbsp;to&nbsp;&quot;exploit&nbsp;caching&quot;&nbsp;is&nbsp;&lt;br&gt;an&nbsp;ugly&nbsp;outdated&nbsp;hack&nbsp;that&nbsp;should&nbsp;be&nbsp;avoided.&nbsp;The&nbsp;correct&nbsp;solution&nbsp;these&nbsp;&lt;br&gt;days&nbsp;is&nbsp;to&nbsp;use&nbsp;annotate_transaction&nbsp;ACL&nbsp;to&nbsp;mark&nbsp;the&nbsp;transaction&nbsp;&lt;br&gt;accordingly.&nbsp;Here&nbsp;is&nbsp;an&nbsp;untested&nbsp;sketch:&lt;br&gt;&lt;br&gt;acl&nbsp;fromUserThatShouldBeLimited&nbsp;ext_user&nbsp;...&lt;br&gt;acl&nbsp;markAsLimited&nbsp;annotate_transaction&nbsp;limited=yes&lt;br&gt;acl&nbsp;markedAsLimited&nbsp;note&nbsp;limited&nbsp;yes&lt;br&gt;&lt;br&gt;#&nbsp;This&nbsp;rule&nbsp;never&nbsp;matches;&nbsp;used&nbsp;for&nbsp;its&nbsp;annotation&nbsp;side&nbsp;effect.&lt;br&gt;http_access&nbsp;allow&nbsp;fromUserThatShouldBeLimited&nbsp;markAsLimited&nbsp;!all&lt;br&gt;&lt;br&gt;delay_access&nbsp;3&nbsp;allow&nbsp;markedAsLimited&lt;br&gt;&lt;br&gt;HTH,&lt;br&gt;&lt;br&gt;Alex.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&gt;&nbsp;On&nbsp;Tue,&nbsp;Feb&nbsp;20,&nbsp;2024&nbsp;at&nbsp;2:15â€¯PM&nbsp;Szil&aacute;rd&nbsp;Horv&aacute;th&nbsp;wrote:&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Good&nbsp;Day!&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;try&nbsp;to&nbsp;make&nbsp;limitation&nbsp;bandwidth&nbsp;for&nbsp;some&nbsp;user&nbsp;group.&nbsp;I&nbsp;have&nbsp;an&lt;br&gt;&gt;&nbsp;external&nbsp;acl&nbsp;which&nbsp;get&nbsp;the&nbsp;users&nbsp;from&nbsp;ldap&nbsp;database&nbsp;server.&nbsp;In&nbsp;the&lt;br&gt;&gt;&nbsp;old&nbsp;version&nbsp;of&nbsp;config&nbsp;we&nbsp;blocked&nbsp;the&nbsp;internet&nbsp;with&nbsp;http_access&nbsp;deny&lt;br&gt;&gt;&nbsp;GROUP,&nbsp;but&nbsp;now&nbsp;i&nbsp;try&nbsp;to&nbsp;allow&nbsp;the&nbsp;internet&nbsp;which&nbsp;has&nbsp;limited&lt;br&gt;&gt;&nbsp;bandwidth.&nbsp;I&nbsp;know&nbsp;that&nbsp;the&nbsp;delay_access&nbsp;work&nbsp;with&nbsp;only&nbsp;fast&nbsp;ACL&nbsp;and&lt;br&gt;&gt;&nbsp;external&nbsp;acl&nbsp;or&nbsp;proxy_auth&nbsp;acl&nbsp;are&nbsp;slow.&nbsp;I&nbsp;already&nbsp;tried&nbsp;some&lt;br&gt;&gt;&nbsp;opportunity&nbsp;but&nbsp;i&nbsp;couldn't&nbsp;solve.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Maybe&nbsp;have&nbsp;you&nbsp;any&nbsp;solution&nbsp;for&nbsp;this?&nbsp;Or&nbsp;any&nbsp;idea&nbsp;how&nbsp;can&nbsp;limitation&lt;br&gt;&gt;&nbsp;the&nbsp;bandwidth&nbsp;for&nbsp;some&nbsp;user?&nbsp;I&nbsp;need&nbsp;use&nbsp;the&nbsp;username&nbsp;(e-mail&nbsp;address&lt;br&gt;&gt;&nbsp;format)&nbsp;because&nbsp;that&nbsp;use&nbsp;to&nbsp;login&nbsp;to&nbsp;the&nbsp;proxy.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Version:&nbsp;Squid&nbsp;Cache:&nbsp;Version&nbsp;5.6&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Thank&nbsp;you&nbsp;so&nbsp;much&nbsp;and&nbsp;i&nbsp;am&nbsp;waiting&nbsp;for&nbsp;your&nbsp;answer!&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Have&nbsp;a&nbsp;good&nbsp;day!&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Br,&lt;br&gt;&gt;&nbsp;Szilard&nbsp;Horvath&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&gt;&nbsp;&lt;mailto:squid-users@lists.squid-cache.org&gt;&lt;br&gt;&gt;&nbsp;https://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;&gt;&nbsp;&lt;https://lists.squid-cache.org/listinfo/squid-users&gt;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;--&nbsp;&lt;br&gt;&gt;&nbsp;Francesco&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;squid-users@lists.squid-cache.org&lt;br&gt;&gt;&nbsp;https://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
