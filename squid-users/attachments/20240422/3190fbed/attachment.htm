<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;correction&nbsp;use&nbsp;both&nbsp;acl&nbsp;for&nbsp;and&nbsp;use&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;&lt;pre&nbsp;id=&quot;pconf&quot;&nbsp;name=&quot;pconf&quot;&nbsp;wrap=&quot;hard&quot;&nbsp;readonly=&quot;&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;overflow:&nbsp;auto;&nbsp;font-family:&nbsp;Menlo,&nbsp;Monaco,&nbsp;Consolas,&nbsp;&quot;Courier&nbsp;New&quot;,&nbsp;monospace;&nbsp;font-size:&nbsp;13px;&nbsp;padding:&nbsp;9.5px;&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;10px;&nbsp;line-height:&nbsp;1.428571;&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;word-break:&nbsp;break-all;&nbsp;overflow-wrap:&nbsp;break-word;&nbsp;background-color:&nbsp;rgb(245,&nbsp;245,&nbsp;245);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-radius:&nbsp;4px;&nbsp;caret-color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&quot;&gt;ssl_bump&nbsp;peek&nbsp;step1<br>
miss_access&nbsp;deny&nbsp;no_miss&nbsp;<br>
ssl_bump&nbsp;splice&nbsp;https_login<br>
ssl_bump&nbsp;splice&nbsp;splice_only_mac&nbsp;splice_only<br>
ssl_bump&nbsp;splice&nbsp;NoBumpDNS<br>
ssl_bump&nbsp;splice&nbsp;NoSSLIntercept<br>
ssl_bump&nbsp;bump&nbsp;bump_only_mac&nbsp;bump_only<br>
ssl_bump&nbsp;terminate&nbsp;all&nbsp;#&nbsp;if&nbsp;its&nbsp;not&nbsp;on&nbsp;the&nbsp;list&nbsp;kill&nbsp;the&nbsp;connection&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;did&nbsp;not&nbsp;know&nbsp;it&nbsp;could&nbsp;also&nbsp;check&nbsp;Layer&nbsp;2&nbsp;and&nbsp;Layer&nbsp;3&nbsp;addresses&nbsp;this&nbsp;way&nbsp;seems&nbsp;more&nbsp;secure&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Have&nbsp;a&nbsp;good&nbsp;day&nbsp;everyone&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Apr&nbsp;22,&nbsp;2024,&nbsp;at&nbsp;16:52,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;div&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;Hello&nbsp;fellow&nbsp;Squid&nbsp;Accelerator/Dynamic&nbsp;Cache/Web&nbsp;Cache&nbsp;Users/PfSense&nbsp;users&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;this&nbsp;might&nbsp;resolve&nbsp;any&nbsp;container&nbsp;based&nbsp;issues/fears&nbsp;if&nbsp;they&nbsp;happened&nbsp;to&nbsp;get&nbsp;into&nbsp;the&nbsp;cache.&nbsp;Ie&nbsp;a&nbsp;Docker&nbsp;Proxy&nbsp;got&nbsp;installed&nbsp;and&nbsp;tried&nbsp;to&nbsp;data&nbsp;marshal&nbsp;the&nbsp;network&nbsp;card&nbsp;inside&nbsp;of&nbsp;a&nbsp;freeBSD&nbsp;jail&nbsp;or&nbsp;something&nbsp;like&nbsp;that.&nbsp;Biggest&nbsp;fear&nbsp;with&nbsp;my&nbsp;cache&nbsp;it&nbsp;is&nbsp;a&nbsp;big&nbsp;cache&nbsp;now&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please&nbsp;yet&nbsp;me&nbsp;know&nbsp;what&nbsp;you&nbsp;think&nbsp;or&nbsp;if&nbsp;it&nbsp;is&nbsp;wrong.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;my&nbsp;configuration.&nbsp;I&nbsp;wanted&nbsp;to&nbsp;share&nbsp;it&nbsp;as&nbsp;it&nbsp;might&nbsp;help&nbsp;to&nbsp;secure&nbsp;some&nbsp;of&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Keep&nbsp;in&nbsp;mine&nbsp;I&nbsp;use&nbsp;cachemgr.cgi&nbsp;within&nbsp;Squidlight&nbsp;so&nbsp;I&nbsp;had&nbsp;to&nbsp;set&nbsp;the&nbsp;password&nbsp;and&nbsp;I&nbsp;have&nbsp;to&nbsp;also&nbsp;adapt&nbsp;the&nbsp;php&nbsp;status&nbsp;file&nbsp;to&nbsp;include&nbsp;the&nbsp;password&nbsp;and&nbsp;also&nbsp;the&nbsp;sqlight&nbsp;php&nbsp;file.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;that&nbsp;the&nbsp;status&nbsp;and&nbsp;gui&nbsp;pages&nbsp;work&nbsp;still&nbsp;with&nbsp;the&nbsp;new&nbsp;password.&nbsp;Only&nbsp;issues&nbsp;area&nbsp;that&nbsp;it&nbsp;shows&nbsp;up&nbsp;in&nbsp;clear&nbsp;text&nbsp;when&nbsp;it&nbsp;goes&nbsp;over&nbsp;the&nbsp;proxy&nbsp;I&nbsp;can&nbsp;see&nbsp;my&nbsp;password&nbsp;clear&nbsp;as&nbsp;day&nbsp;again&nbsp;that&nbsp;was&nbsp;an&nbsp;issue&nbsp;listed&nbsp;inside&nbsp;the&nbsp;Squid&nbsp;Oâ€™REILLY&nbsp;book&nbsp;also.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;amazed&nbsp;at&nbsp;the&nbsp;warm&nbsp;updates&nbsp;that&nbsp;was&nbsp;the&nbsp;original&nbsp;goal&nbsp;I&nbsp;was&nbsp;tired&nbsp;of&nbsp;slow&nbsp;updates&nbsp;over&nbsp;and&nbsp;over&nbsp;again.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;id=&quot;pconf&quot;&nbsp;name=&quot;pconf&quot;&nbsp;wrap=&quot;hard&quot;&nbsp;readonly=&quot;&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;overflow:&nbsp;auto;&nbsp;font-family:&nbsp;Menlo,&nbsp;Monaco,&nbsp;Consolas,&nbsp;&quot;Courier&nbsp;New&quot;,&nbsp;monospace;&nbsp;font-size:&nbsp;13px;&nbsp;padding:&nbsp;9.5px;&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;10px;&nbsp;line-height:&nbsp;1.428571;&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;word-break:&nbsp;break-all;&nbsp;overflow-wrap:&nbsp;break-word;&nbsp;background-color:&nbsp;rgb(245,&nbsp;245,&nbsp;245);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-radius:&nbsp;4px;&nbsp;caret-color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&quot;&gt;#&nbsp;This&nbsp;file&nbsp;is&nbsp;automatically&nbsp;generated&nbsp;by&nbsp;pfSense<br>
#&nbsp;Do&nbsp;not&nbsp;edit&nbsp;manually&nbsp;!<br>
<br>
http_port&nbsp;192.168.1.1:3128&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=20MB&nbsp;cert=/usr/local/etc/squid/serverkey.pem&nbsp;tls-cafile=/usr/local/share/certs/ca-root-nss.crt&nbsp;capath=/usr/local/share/certs/&nbsp;cipher=EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH+aRSA+RC4:EECDH:EDH+aRSA:HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS&nbsp;tls-dh=prime256v1:/etc/dh-parameters.2048&nbsp;options=NO_SSLv3<br>
<br>
http_port&nbsp;127.0.0.1:3128&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=20MB&nbsp;cert=/usr/local/etc/squid/serverkey.pem&nbsp;tls-cafile=/usr/local/share/certs/ca-root-nss.crt&nbsp;capath=/usr/local/share/certs/&nbsp;cipher=EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH+aRSA+RC4:EECDH:EDH+aRSA:HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS&nbsp;tls-dh=prime256v1:/etc/dh-parameters.2048&nbsp;options=NO_SSLv3<br>
<br>
https_port&nbsp;127.0.0.1:3129&nbsp;intercept&nbsp;ssl-bump&nbsp;generate-host-certificates=on&nbsp;dynamic_cert_mem_cache_size=20MB&nbsp;cert=/usr/local/etc/squid/serverkey.pem&nbsp;tls-cafile=/usr/local/share/certs/ca-root-nss.crt&nbsp;capath=/usr/local/share/certs/&nbsp;cipher=EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH+aRSA+RC4:EECDH:EDH+aRSA:HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS&nbsp;tls-dh=prime256v1:/etc/dh-parameters.2048&nbsp;options=NO_SSLv3<br>
<br>
icp_port&nbsp;0<br>
digest_generation&nbsp;off<br>
dns_v4_first&nbsp;on<br>
pid_filename&nbsp;/var/run/squid/squid.pid<br>
cache_effective_user&nbsp;squid<br>
cache_effective_group&nbsp;proxy<br>
error_default_language&nbsp;en<br>
icon_directory&nbsp;/usr/local/etc/squid/icons<br>
visible_hostname&nbsp;Lee_Family.home.arpa<br>
cache_mgr&nbsp;jonathanlee571@gmail.com<br>
access_log&nbsp;/var/squid/logs/access.log<br>
cache_log&nbsp;/var/squid/logs/cache.log<br>
cache_store_log&nbsp;none<br>
netdb_filename&nbsp;/var/squid/logs/netdb.state<br>
pinger_enable&nbsp;on<br>
pinger_program&nbsp;/usr/local/libexec/squid/pinger<br>
sslcrtd_program&nbsp;/usr/local/libexec/squid/security_file_certgen&nbsp;-s&nbsp;/var/squid/lib/ssl_db&nbsp;-M&nbsp;4MB&nbsp;-b&nbsp;2048<br>
tls_outgoing_options&nbsp;cafile=/usr/local/share/certs/ca-root-nss.crt<br>
tls_outgoing_options&nbsp;capath=/usr/local/share/certs/<br>
tls_outgoing_options&nbsp;options=NO_SSLv3<br>
tls_outgoing_options&nbsp;cipher=EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH+aRSA+RC4:EECDH:EDH+aRSA:HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS<br>
sslcrtd_children&nbsp;10<br>
<br>
logfile_rotate&nbsp;0<br>
debug_options&nbsp;rotate=0<br>
shutdown_lifetime&nbsp;3&nbsp;seconds<br>
#&nbsp;Allow&nbsp;local&nbsp;network(s)&nbsp;on&nbsp;interface(s)<br>
acl&nbsp;localnet&nbsp;src&nbsp;&nbsp;192.168.1.0/27<br>
forwarded_for&nbsp;transparent<br>
httpd_suppress_version_string&nbsp;on<br>
uri_whitespace&nbsp;strip<br>
dns_nameservers&nbsp;127.0.0.1&nbsp;<br>
acl&nbsp;getmethod&nbsp;method&nbsp;GET<br>
acl&nbsp;to_ipv6&nbsp;dst&nbsp;ipv6<br>
acl&nbsp;from_ipv6&nbsp;src&nbsp;ipv6<br>
<br>
tls_outgoing_options&nbsp;cipher=HIGH:MEDIUM:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS<br>
tls_outgoing_options&nbsp;options=NO_SSLv3,SINGLE_DH_USE,SINGLE_ECDH_USE<br>
<br>
acl&nbsp;HttpAccess&nbsp;dstdomain&nbsp;'/usr/local/pkg/http.access'<br>
acl&nbsp;windowsupdate&nbsp;dstdomain&nbsp;'/usr/local/pkg/windowsupdate'<br>
<br>
acl&nbsp;rewritedoms&nbsp;dstdomain&nbsp;.facebook.com&nbsp;.akamaihd.net&nbsp;.fbcdn.net&nbsp;.google.com&nbsp;.static.com&nbsp;.apple.com&nbsp;.oracle.com&nbsp;.sun.com&nbsp;.java.com&nbsp;.adobe.com&nbsp;.steamstatic.com&nbsp;.steampowered.com&nbsp;.steamcontent.com&nbsp;.google.com<br>
<br>
store_id_program&nbsp;/usr/local/libexec/squid/storeid_file_rewrite&nbsp;/var/squid/storeid/storeid_rewrite.txt<br>
store_id_children&nbsp;10&nbsp;startup=5&nbsp;idle=1&nbsp;concurrency=0<br>
always_direct&nbsp;allow&nbsp;!getmethod<br>
store_id_access&nbsp;deny&nbsp;connect<br>
store_id_access&nbsp;deny&nbsp;!getmethod<br>
store_id_access&nbsp;allow&nbsp;rewritedoms<br>
reload_into_ims&nbsp;on<br>
max_stale&nbsp;20&nbsp;years<br>
minimum_expiry_time&nbsp;0<br>
<br>
<br>
refresh_pattern&nbsp;-i&nbsp;squid.internal&nbsp;10080&nbsp;80%&nbsp;79900&nbsp;override-lastmod&nbsp;override-expire&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;ignore-private<br>
<br>
#FACEBOOK<br>
refresh_pattern&nbsp;^https.*.facebook.com/*&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
<br>
#FACEBOOK&nbsp;IMAGES&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;pixel.facebook.com..(jpg|png|gif|ico|css|js|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
refresh_pattern&nbsp;-i&nbsp;.akamaihd.net..(jpg|png|gif|ico|css|js|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;facebook.com.(jpg|png|gif|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;store-stale&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private&nbsp;<br>
refresh_pattern&nbsp;static.(xx|ak).fbcdn.net.(jpg|gif|png|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
refresh_pattern&nbsp;^https.*profile.ak.fbcdn.net.*(jpg|gif|png|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
refresh_pattern&nbsp;^https.*fbcdn.net.*(jpg|gif|png|jpg?)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
<br>
#FACEBOOK&nbsp;VIDEO<br>
refresh_pattern&nbsp;-i&nbsp;.video.ak.fbcdn.net.*.(mp4|flv|mp3|amf)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;(audio|video)/(webm|mp4)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-no-cache&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
<br>
#APPLE&nbsp;STUFF<br>
refresh_pattern&nbsp;-i&nbsp;apple.com/..(cab|exe|msi|msu|msf|asf|wmv|wma|dat|zip|dist)$&nbsp;0&nbsp;80%&nbsp;43200&nbsp;&nbsp;refresh-ims<br>
<br>
#apple&nbsp;update<br>
refresh_pattern&nbsp;-i&nbsp;(download|adcdownload).apple.com/.*.(pkg|dmg)&nbsp;4320&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;appldnld.apple.com&nbsp;129600&nbsp;100%&nbsp;129600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;phobos.apple.com&nbsp;129600&nbsp;100%&nbsp;129600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;iosapps.itunes.apple.com&nbsp;129600&nbsp;100%&nbsp;129600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<br>
#&nbsp;Updates:&nbsp;Windows<br>
refresh_pattern&nbsp;-i&nbsp;microsoft.com/..(cab|exe|msi|msu|msf|asf|wma|dat|zip)$&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;&nbsp;refresh-ims<br>
refresh_pattern&nbsp;-i&nbsp;windowsupdate.com/..(cab|exe|msi|msu|msf|asf|wma|wmv)|dat|zip)$&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;&nbsp;refresh-ims<br>
refresh_pattern&nbsp;-i&nbsp;windows.com/..(cab|exe|msi|msu|msf|asf|wmv|wma|dat|zip)$&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;&nbsp;refresh-ims<br>
refresh_pattern&nbsp;-i&nbsp;microsoft.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;windowsupdate.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;windows.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;4320&nbsp;80%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.*windowsupdate.com/.*.(cab|exe)&nbsp;259200&nbsp;100%&nbsp;259200&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.*update.microsoft.com/.*.(cab|exe|dll|msi|psf)&nbsp;259200&nbsp;100%&nbsp;259200&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;windowsupdate.com/.*.(cab|exe|dll|msi|psf)&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;download.microsoft.com/.*.(cab|exe|dll|msi|psf)&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;www.microsoft.com/.*.(cab|exe|dll|msi|psf)&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;au.download.windowsupdate.com/.*.(cab|exe|dll|msi|psf)&nbsp;4320&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;bg.v4.pr.dl.ws.microsoft.com/.*.(cab|exe|dll|msi|psf)&nbsp;4320&nbsp;100%&nbsp;43200<br>
#windows&nbsp;update&nbsp;NEW&nbsp;UPDATE&nbsp;0.04<br>
refresh_pattern&nbsp;update.microsoft.com/.*.(cab|exe)&nbsp;43200&nbsp;100%&nbsp;129600&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;([^.]+.)?(download|(windows)?update).(microsoft.)?com/.*.(cab|exe|msi|msp|psf)&nbsp;4320&nbsp;100%&nbsp;43200&nbsp;&nbsp;<br>
refresh_pattern&nbsp;update.microsoft.com/.*.(cab|exe|dll|msi|psf)&nbsp;10080&nbsp;100%&nbsp;43200&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.update.microsoft.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;525600&nbsp;100%&nbsp;525600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.windowsupdate.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;525600&nbsp;100%&nbsp;525600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.download.microsoft.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;525600&nbsp;100%&nbsp;525600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;.ws.microsoft.com/.*.(cab|exe|ms[i|u|f]|[ap]sf|wm[v|a]|dat|zip)&nbsp;525600&nbsp;100%&nbsp;525600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<br>
refresh_pattern&nbsp;([^.]+.)?(cs|content[1-9]|hsar|content-origin|client-download).[steampowered|steamcontent].com/.*.*&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
refresh_pattern&nbsp;([^.]+.)?.akamai.steamstatic.com/.*.*&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?.adobe.com/.*.(zip|exe)&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?.java.com/.*.(zip|exe)&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?.sun.com/.*.(zip|exe)&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?.oracle.com/.*.(zip|exe|tar.gz)&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;reload-into-ims&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
<br>
refresh_pattern&nbsp;-i&nbsp;appldnld.apple.com&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?apple.com/.*.(ipa)&nbsp;43200&nbsp;100%&nbsp;43200&nbsp;ignore-reload&nbsp;ignore-no-store&nbsp;override-expire&nbsp;override-lastmod<br>
&nbsp;<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?.google.com/.*.(exe|crx)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
refresh_pattern&nbsp;-i&nbsp;([^.]+.)?g.static.com/.*.(exe|crx)&nbsp;10080&nbsp;80%&nbsp;43200&nbsp;override-expire&nbsp;override-lastmod&nbsp;ignore-reload&nbsp;reload-into-ims&nbsp;ignore-private<br>
<br>
acl&nbsp;https_login&nbsp;url_regex&nbsp;-i&nbsp;^https.*(login|Login).*<br>
cache&nbsp;deny&nbsp;https_login<br>
<br>
range_offset_limit&nbsp;512&nbsp;MB&nbsp;windowsupdate<br>
range_offset_limit&nbsp;4&nbsp;MB<br>
range_offset_limit&nbsp;0<br>
quick_abort_min&nbsp;-1&nbsp;KB<br>
<br>
cache_mem&nbsp;64&nbsp;MB<br>
maximum_object_size_in_memory&nbsp;256&nbsp;KB<br>
memory_replacement_policy&nbsp;heap&nbsp;LFUDA<br>
cache_replacement_policy&nbsp;heap&nbsp;LFUDA<br>
minimum_object_size&nbsp;0&nbsp;KB<br>
maximum_object_size&nbsp;512&nbsp;MB<br>
cache_dir&nbsp;diskd&nbsp;/var/squid/cache&nbsp;64000&nbsp;256&nbsp;256<br>
offline_mode&nbsp;off<br>
cache_swap_low&nbsp;90<br>
cache_swap_high&nbsp;95<br>
acl&nbsp;donotcache&nbsp;dstdomain&nbsp;'/var/squid/acl/donotcache.acl'<br>
cache&nbsp;deny&nbsp;donotcache<br>
cache&nbsp;allow&nbsp;all<br>
#&nbsp;Add&nbsp;any&nbsp;of&nbsp;your&nbsp;own&nbsp;refresh_pattern&nbsp;entries&nbsp;above&nbsp;these.<br>
refresh_pattern&nbsp;^ftp:&nbsp;&nbsp;&nbsp;&nbsp;1440&nbsp;&nbsp;20%&nbsp;&nbsp;10080<br>
refresh_pattern&nbsp;^gopher:&nbsp;&nbsp;1440&nbsp;&nbsp;0%&nbsp;&nbsp;1440<br>
refresh_pattern&nbsp;-i&nbsp;(/cgi-bin/|?)&nbsp;0&nbsp;&nbsp;0%&nbsp;&nbsp;0<br>
refresh_pattern&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;20%&nbsp;&nbsp;4320<br>
<br>
<br>
#Remote&nbsp;proxies<br>
<br>
<br>
#&nbsp;Setup&nbsp;some&nbsp;default&nbsp;acls<br>
#&nbsp;ACLs&nbsp;all,&nbsp;manager,&nbsp;localhost,&nbsp;and&nbsp;to_localhost&nbsp;are&nbsp;predefined.<br>
acl&nbsp;allsrc&nbsp;src&nbsp;all<br>
acl&nbsp;safeports&nbsp;port&nbsp;21&nbsp;70&nbsp;80&nbsp;210&nbsp;280&nbsp;443&nbsp;488&nbsp;563&nbsp;591&nbsp;631&nbsp;777&nbsp;901&nbsp;8080&nbsp;3128&nbsp;3129&nbsp;1025-65535&nbsp;<br>
acl&nbsp;sslports&nbsp;port&nbsp;443&nbsp;563&nbsp;8080&nbsp;5223&nbsp;2197<br>
<br>
acl&nbsp;purge&nbsp;method&nbsp;PURGE<br>
acl&nbsp;connect&nbsp;method&nbsp;CONNECT<br>
<br>
#&nbsp;Define&nbsp;protocols&nbsp;used&nbsp;for&nbsp;redirects<br>
acl&nbsp;HTTP&nbsp;proto&nbsp;HTTP<br>
acl&nbsp;HTTPS&nbsp;proto&nbsp;HTTPS<br>
<br>
#&nbsp;SslBump&nbsp;Peek&nbsp;and&nbsp;Splice<br>
#&nbsp;http://wiki.squid-cache.org/Features/SslPeekAndSplice<br>
#&nbsp;http://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit<br>
#&nbsp;Match&nbsp;against&nbsp;the&nbsp;current&nbsp;step&nbsp;during&nbsp;ssl_bump&nbsp;evaluation&nbsp;[fast]<br>
#&nbsp;Never&nbsp;matches&nbsp;and&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;outside&nbsp;the&nbsp;ssl_bump&nbsp;context.<br>
#<br>
#&nbsp;At&nbsp;each&nbsp;SslBump&nbsp;step,&nbsp;Squid&nbsp;evaluates&nbsp;ssl_bump&nbsp;directives&nbsp;to&nbsp;find<br>
#&nbsp;the&nbsp;next&nbsp;bumping&nbsp;action&nbsp;(e.g.,&nbsp;peek&nbsp;or&nbsp;splice).&nbsp;Valid&nbsp;SslBump&nbsp;step<br>
#&nbsp;values&nbsp;and&nbsp;the&nbsp;corresponding&nbsp;ssl_bump&nbsp;evaluation&nbsp;moments&nbsp;are:<br>
#&nbsp;&nbsp;&nbsp;SslBump1:&nbsp;After&nbsp;getting&nbsp;TCP-level&nbsp;and&nbsp;HTTP&nbsp;CONNECT&nbsp;info.<br>
#&nbsp;&nbsp;&nbsp;SslBump2:&nbsp;After&nbsp;getting&nbsp;TLS&nbsp;Client&nbsp;Hello&nbsp;info.<br>
#&nbsp;&nbsp;&nbsp;SslBump3:&nbsp;After&nbsp;getting&nbsp;TLS&nbsp;Server&nbsp;Hello&nbsp;info.<br>
#&nbsp;These&nbsp;ACLs&nbsp;exist&nbsp;even&nbsp;when&nbsp;'SSL/MITM&nbsp;Mode'&nbsp;is&nbsp;set&nbsp;to&nbsp;'Custom'&nbsp;so&nbsp;that<br>
#&nbsp;they&nbsp;can&nbsp;be&nbsp;used&nbsp;there&nbsp;for&nbsp;custom&nbsp;configuration.<br>
acl&nbsp;step1&nbsp;at_step&nbsp;SslBump1<br>
acl&nbsp;step2&nbsp;at_step&nbsp;SslBump2<br>
acl&nbsp;step3&nbsp;at_step&nbsp;SslBump3<br>
acl&nbsp;banned_hosts&nbsp;src&nbsp;'/var/squid/acl/banned_hosts.acl'<br>
acl&nbsp;whitelist&nbsp;dstdom_regex&nbsp;-i&nbsp;'/var/squid/acl/whitelist.acl'<br>
acl&nbsp;blacklist&nbsp;dstdom_regex&nbsp;-i&nbsp;'/var/squid/acl/blacklist.acl'<br>
http_access&nbsp;allow&nbsp;manager&nbsp;localhost<br>
<br>
http_access&nbsp;deny&nbsp;manager<br>
http_access&nbsp;allow&nbsp;purge&nbsp;localhost<br>
http_access&nbsp;deny&nbsp;purge<br>
http_access&nbsp;deny&nbsp;!safeports<br>
http_access&nbsp;deny&nbsp;CONNECT&nbsp;!sslports<br>
<br>
#&nbsp;Always&nbsp;allow&nbsp;localhost&nbsp;connections<br>
http_access&nbsp;allow&nbsp;localhost<br>
<br>
quick_abort_min&nbsp;0&nbsp;KB<br>
quick_abort_max&nbsp;0&nbsp;KB<br>
quick_abort_pct&nbsp;95<br>
request_body_max_size&nbsp;0&nbsp;KB<br>
delay_pools&nbsp;1<br>
delay_class&nbsp;1&nbsp;2<br>
delay_parameters&nbsp;1&nbsp;-1/-1&nbsp;-1/-1<br>
delay_initial_bucket_level&nbsp;100<br>
delay_access&nbsp;1&nbsp;allow&nbsp;allsrc<br>
<br>
#&nbsp;Reverse&nbsp;Proxy&nbsp;settings<br>
<br>
deny_info&nbsp;TCP_RESET&nbsp;allsrc<br>
<br>
#&nbsp;Package&nbsp;Integration<br>
url_rewrite_program&nbsp;/usr/local/bin/squidGuard&nbsp;-c&nbsp;/usr/local/etc/squidGuard/squidGuard.conf<br>
url_rewrite_bypass&nbsp;off<br>
url_rewrite_children&nbsp;32&nbsp;startup=8&nbsp;idle=4&nbsp;concurrency=0<br>
<br>
#&nbsp;Custom&nbsp;options&nbsp;before&nbsp;auth<br>
#host_verify_strict&nbsp;on<br>
<br>
#&nbsp;These&nbsp;hosts&nbsp;are&nbsp;banned<br>
http_access&nbsp;deny&nbsp;banned_hosts<br>
#&nbsp;Always&nbsp;allow&nbsp;access&nbsp;to&nbsp;whitelist&nbsp;domains<br>
http_access&nbsp;allow&nbsp;whitelist<br>
#&nbsp;Block&nbsp;access&nbsp;to&nbsp;blacklist&nbsp;domains<br>
http_access&nbsp;deny&nbsp;blacklist<br>
#&nbsp;List&nbsp;of&nbsp;domains&nbsp;allowed&nbsp;to&nbsp;logging&nbsp;in&nbsp;to&nbsp;Google&nbsp;services<br>
request_header_access&nbsp;X-GoogApps-Allowed-Domains&nbsp;deny&nbsp;all<br>
request_header_add&nbsp;X-GoogApps-Allowed-Domains&nbsp;consumer_accounts<br>
#&nbsp;Set&nbsp;YouTube&nbsp;safesearch&nbsp;restriction<br>
acl&nbsp;youtubedst&nbsp;dstdomain&nbsp;-n&nbsp;www.youtube.com&nbsp;m.youtube.com&nbsp;youtubei.googleapis.com&nbsp;youtube.googleapis.com&nbsp;www.youtube-nocookie.com<br>
request_header_access&nbsp;YouTube-Restrict&nbsp;deny&nbsp;all<br>
request_header_add&nbsp;YouTube-Restrict&nbsp;none&nbsp;youtubedst<br>
acl&nbsp;sglog&nbsp;url_regex&nbsp;-i&nbsp;sgr=ACCESSDENIED<br>
http_access&nbsp;deny&nbsp;sglog<br>
#&nbsp;Custom&nbsp;SSL/MITM&nbsp;options&nbsp;before&nbsp;auth<br>
cachemgr_passwd&nbsp;disable&nbsp;offline_toggle&nbsp;reconfigure&nbsp;shutdown<br>
cachemgr_passwd&nbsp;REDACTED_CLASSIFIED&nbsp;all<br>
eui_lookup&nbsp;on<br>
acl&nbsp;no_miss&nbsp;url_regex&nbsp;-i&nbsp;gateway.facebook.com/ws/realtime?<br>
acl&nbsp;no_miss&nbsp;url_regex&nbsp;-i&nbsp;web-chat-e2ee.facebook.com/ws/chat<br>
acl&nbsp;CONNECT&nbsp;method&nbsp;CONNECT<br>
acl&nbsp;wuCONNECT&nbsp;dstdomain&nbsp;www.update.microsoft.com<br>
acl&nbsp;wuCONNECT&nbsp;dstdomain&nbsp;sls.microsoft.com<br>
http_access&nbsp;allow&nbsp;CONNECT&nbsp;wuCONNECT&nbsp;localnet<br>
http_access&nbsp;allow&nbsp;CONNECT&nbsp;wuCONNECT&nbsp;localhost<br>
http_access&nbsp;allow&nbsp;windowsupdate&nbsp;localnet<br>
http_access&nbsp;allow&nbsp;windowsupdate&nbsp;localhost<br>
http_access&nbsp;allow&nbsp;HttpAccess&nbsp;localnet<br>
http_access&nbsp;allow&nbsp;HttpAccess&nbsp;localhost<br>
http_access&nbsp;deny&nbsp;manager<br>
http_access&nbsp;deny&nbsp;to_ipv6<br>
http_access&nbsp;deny&nbsp;from_ipv6<br>
<br>
acl&nbsp;BrokenButTrustedServers&nbsp;dstdomain&nbsp;'/usr/local/pkg/dstdom.broken'<br>
acl&nbsp;DomainMismatch&nbsp;ssl_error&nbsp;SQUID_X509_V_ERR_DOMAIN_MISMATCH<br>
sslproxy_cert_error&nbsp;allow&nbsp;BrokenButTrustedServers&nbsp;DomainMismatch<br>
sslproxy_cert_error&nbsp;deny&nbsp;all<br>
<br>
acl&nbsp;splice_only&nbsp;src&nbsp;192.168.1.8&nbsp;#Tasha&nbsp;iPhone<br>
acl&nbsp;splice_only&nbsp;src&nbsp;192.168.1.10&nbsp;#Jon&nbsp;iPhone<br>
acl&nbsp;splice_only&nbsp;src&nbsp;192.168.1.11&nbsp;#Amazon&nbsp;Fire<br>
acl&nbsp;splice_only&nbsp;src&nbsp;192.168.1.15&nbsp;#Tasha&nbsp;HP<br>
acl&nbsp;splice_only&nbsp;src&nbsp;192.168.1.16&nbsp;#iPad<br>
<br>
acl&nbsp;splice_only_mac&nbsp;arp&nbsp;REDACTED&lt;br&gt;acl&nbsp;splice_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;splice_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;splice_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;splice_only_mac&nbsp;arp&nbsp;REDACTED&lt;br&gt;<br>
acl&nbsp;NoSSLIntercept&nbsp;ssl::server_name_regex&nbsp;-i&nbsp;'/usr/local/pkg/reg.url.nobump'<br>
acl&nbsp;NoBumpDNS&nbsp;dstdomain&nbsp;'/usr/local/pkg/dns.nobump'<br>
<br>
acl&nbsp;markBumped&nbsp;annotate_client&nbsp;bumped=true<br>
acl&nbsp;bump_only&nbsp;src&nbsp;192.168.1.3&nbsp;#webtv<br>
acl&nbsp;bump_only&nbsp;src&nbsp;192.168.1.4&nbsp;#toshiba<br>
acl&nbsp;bump_only&nbsp;src&nbsp;192.168.1.5&nbsp;#imac<br>
acl&nbsp;bump_only&nbsp;src&nbsp;192.168.1.9&nbsp;#macbook<br>
acl&nbsp;bump_only&nbsp;src&nbsp;192.168.1.13&nbsp;#dell<br>
<br>
acl&nbsp;bump_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;bump_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;bump_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;bump_only_mac&nbsp;arp&nbsp;REDACTED<br>
acl&nbsp;bump_only_mac&nbsp;arp&nbsp;REDACTED&lt;br&gt;<br>
<br>
ssl_bump&nbsp;peek&nbsp;step1<br>
miss_access&nbsp;deny&nbsp;no_miss&nbsp;<br>
ssl_bump&nbsp;splice&nbsp;https_login<br>
ssl_bump&nbsp;splice&nbsp;splice_only_mac<br>
ssl_bump&nbsp;splice&nbsp;NoBumpDNS<br>
ssl_bump&nbsp;splice&nbsp;NoSSLIntercept<br>
ssl_bump&nbsp;bump&nbsp;bump_only_mac<br>
ssl_bump&nbsp;terminate&nbsp;all&nbsp;#&nbsp;if&nbsp;its&nbsp;not&nbsp;on&nbsp;the&nbsp;list&nbsp;kill&nbsp;the&nbsp;connection<br>
<br>
acl&nbsp;markedBumped&nbsp;note&nbsp;bumped&nbsp;true<br>
url_rewrite_access&nbsp;deny&nbsp;markedBumped<br>
<br>
read_ahead_gap&nbsp;64&nbsp;KB<br>
negative_ttl&nbsp;1&nbsp;second<br>
connect_timeout&nbsp;30&nbsp;seconds<br>
request_timeout&nbsp;60&nbsp;seconds<br>
half_closed_clients&nbsp;off<br>
shutdown_lifetime&nbsp;10&nbsp;seconds<br>
negative_dns_ttl&nbsp;1&nbsp;seconds<br>
ignore_unknown_nameservers&nbsp;on<br>
pipeline_prefetch&nbsp;100<br>
<br>
#acl&nbsp;SSLIntercept&nbsp;ssl::server_name_regex&nbsp;-i&nbsp;'/usr/local/pkg/url.bump'<br>
#ssl_bump&nbsp;bump&nbsp;SSLIntercept<br>
<br>
#&nbsp;Setup&nbsp;allowed&nbsp;ACLs<br>
#&nbsp;Allow&nbsp;local&nbsp;network(s)&nbsp;on&nbsp;interface(s)<br>
http_access&nbsp;allow&nbsp;localnet<br>
#&nbsp;Default&nbsp;block&nbsp;all&nbsp;to&nbsp;be&nbsp;sure<br>
http_access&nbsp;deny&nbsp;allsrc&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
