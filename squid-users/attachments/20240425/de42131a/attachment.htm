<tt>
&lt;html&nbsp;xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;&lt;head&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;&lt;o:OfficeDocumentSettings&gt;&lt;o:AllowPNG/&gt;&lt;o:PixelsPerInch&gt;96&lt;/o:PixelsPerInch&gt;&lt;/o:OfficeDocumentSettings&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpe59eedc4yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;I&nbsp;managed&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;problem&nbsp;in&nbsp;my&nbsp;personal&nbsp;setup.&nbsp;Please&nbsp;find&nbsp;the&nbsp;cache&nbsp;logs&nbsp;when&nbsp;the&nbsp;problem&nbsp;is&nbsp;reproduced.&nbsp;Squid&nbsp;version&nbsp;is&nbsp;5.8&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;a&nbsp;href=&quot;https://drive.google.com/file/d/19yirXfxKli7NXon4ewiy-v3GpLvECT1i/view?usp=sharing&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;enhancr_card_4364899239&quot;&gt;cache.zip&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;ydp8c7d8e13enhancr_card_4364899239&quot;&nbsp;class=&quot;ydp8c7d8e13yahoo-link-enhancr-card&nbsp;ydp8c7d8e13ymail-preserve-class&nbsp;ydp8c7d8e13ymail-preserve-style&quot;&nbsp;style=&quot;max-width:288px;font-family:YahooSans&nbsp;VF,&nbsp;YahooSans,&nbsp;OpenSans&nbsp;VF,&nbsp;Helvetica&nbsp;Neue,&nbsp;Segoe&nbsp;UI,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;display:inline-block&quot;&nbsp;data-url=&quot;https://drive.google.com/file/d/19yirXfxKli7NXon4ewiy-v3GpLvECT1i/view?usp=sharing&quot;&nbsp;data-type=&quot;YENHANCER&quot;&nbsp;data-size=&quot;MINI&quot;&nbsp;contenteditable=&quot;false&quot;&gt;&lt;a&nbsp;href=&quot;https://drive.google.com/file/d/19yirXfxKli7NXon4ewiy-v3GpLvECT1i/view?usp=sharing&quot;&nbsp;style=&quot;text-decoration:none&nbsp;!important;color:#000&nbsp;!important&quot;&nbsp;class=&quot;ydp8c7d8e13yahoo-enhancr-cardlink&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;table&nbsp;border=&quot;0&quot;&nbsp;class=&quot;ydp8c7d8e13card&nbsp;ydp8c7d8e13yahoo-ignore-table&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;width=&quot;288&quot;&nbsp;height=&quot;80&quot;&nbsp;style=&quot;border-width:1px;border-style:solid;border-color:rgb(224,&nbsp;228,&nbsp;233);width:288px;background-color:#fff;border-radius:2px&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&nbsp;width=&quot;10px&quot;&nbsp;style=&quot;width:10px&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;img&nbsp;class=&quot;ydp8c7d8e13card-object&quot;&nbsp;src=&quot;https://s.yimg.com/lb/brands/80x80_google.png&quot;&nbsp;width=&quot;24&quot;&nbsp;height=&quot;24&quot;&nbsp;data-inlineimagemanipulating=&quot;true&quot;&gt;&lt;h2&nbsp;class=&quot;ydp8c7d8e13card-title&quot;&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;line-height:&nbsp;16px;&nbsp;color:&nbsp;rgb(29,&nbsp;34,&nbsp;40);&nbsp;font-family:&nbsp;YahooSans&nbsp;VF,&nbsp;YahooSans,&nbsp;OpenSans&nbsp;VF,&nbsp;Helvetica&nbsp;Neue,&nbsp;Segoe&nbsp;UI,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;&nbsp;margin:&nbsp;4px&nbsp;0px;&nbsp;max-width:&nbsp;186px;&nbsp;text-decoration:&nbsp;none&nbsp;!important;&quot;&gt;cache.zip&lt;/h2&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;id=&quot;ydp83d55996yahoo_quoted_4923519064&quot;&nbsp;class=&quot;ydp83d55996yahoo_quoted&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;color:#26282a;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Friday,&nbsp;March&nbsp;22,&nbsp;2024&nbsp;at&nbsp;11:02:51&nbsp;PM&nbsp;EDT,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;rousskov@measurement-factory.com&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;2024-03-22&nbsp;13:11,&nbsp;Arun&nbsp;Kumar&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;The&nbsp;lines&nbsp;above&nbsp;are.&nbsp;The&nbsp;content-length&nbsp;is&nbsp;138&nbsp;(8a&nbsp;in&nbsp;hex),&nbsp;but&nbsp;the&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;bytes&nbsp;are&nbsp;144.&nbsp;Could&nbsp;this&nbsp;be&nbsp;the&nbsp;reason?&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;parseMore:&nbsp;have&nbsp;144&nbsp;bytes&nbsp;to&nbsp;parse&nbsp;[FD&nbsp;14;RBG/Comm(14)wr&nbsp;job24]&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;parseMore:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;8a^M&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;{&quot;activity&quot;:&quot;Make&nbsp;a&nbsp;simple&nbsp;musical&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;instrument&quot;,&quot;type&quot;:&quot;music&quot;,&quot;participants&quot;:1,&quot;price:0.4,&quot;link&quot;:&quot;&quot;,&quot;key&quot;:&quot;7091374&quot;,&quot;accessibility&quot;:0.25}^M&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;parseHeaders:&nbsp;parse&nbsp;ICAP&nbsp;headers&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;parsePart:&nbsp;have&nbsp;144&nbsp;head&nbsp;bytes&nbsp;to&nbsp;parse;&nbsp;state:&nbsp;0&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;parsePart:&nbsp;head&nbsp;parsing&nbsp;result:&nbsp;0&nbsp;detail:&nbsp;600&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;I&nbsp;cannot&nbsp;be&nbsp;sure&nbsp;based&nbsp;on&nbsp;the&nbsp;tiny&nbsp;snippets&nbsp;shared&nbsp;so&nbsp;far,&nbsp;but&nbsp;it&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;_looks_&nbsp;like&nbsp;Squid&nbsp;expected&nbsp;an&nbsp;ICAP&nbsp;response&nbsp;header&nbsp;and&nbsp;got&nbsp;an&nbsp;ICAP&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;response&nbsp;body&nbsp;chunk&nbsp;instead.&nbsp;It&nbsp;is&nbsp;also&nbsp;possible&nbsp;that&nbsp;we&nbsp;are&nbsp;looking&nbsp;at&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;log&nbsp;lines&nbsp;from&nbsp;two&nbsp;unrelated&nbsp;ICAP&nbsp;transactions,&nbsp;or&nbsp;I&nbsp;am&nbsp;simply&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;misinterpreting&nbsp;the&nbsp;snippets.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;If&nbsp;you&nbsp;want&nbsp;a&nbsp;more&nbsp;reliable&nbsp;diagnosis,&nbsp;then&nbsp;my&nbsp;earlier&nbsp;recommendation&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;regarding&nbsp;sharing&nbsp;(privately&nbsp;if&nbsp;needed)&nbsp;the&nbsp;following&nbsp;information&nbsp;still&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;stands:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;*&nbsp;compressed&nbsp;ALL,9&nbsp;cache.log&nbsp;and&lt;br&nbsp;clear=&quot;none&quot;&gt;*&nbsp;the&nbsp;problematic&nbsp;ICAP&nbsp;response&nbsp;in&nbsp;a&nbsp;raw&nbsp;packet&nbsp;capture&nbsp;format.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;HTH,&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Alex.&lt;div&nbsp;class=&quot;ydp83d55996yqt1772414351&quot;&nbsp;id=&quot;ydp83d55996yqtfd92492&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;On&nbsp;Monday,&nbsp;March&nbsp;18,&nbsp;2024&nbsp;at&nbsp;11:21:02&nbsp;PM&nbsp;EDT,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;On&nbsp;2024-03-18&nbsp;18:46,&nbsp;Arun&nbsp;Kumar&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;Any&nbsp;idea,&nbsp;the&nbsp;reason&nbsp;for&nbsp;error&nbsp;in&nbsp;ModXact.cc&nbsp;parsePart&nbsp;fuction.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;Happening&nbsp;during&nbsp;parsing&nbsp;the&nbsp;response&nbsp;from&nbsp;ICAP&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;parsePart:&nbsp;have&nbsp;144&nbsp;head&nbsp;bytes&nbsp;to&nbsp;parse;&nbsp;state:&nbsp;0&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;parsePart:&nbsp;head&nbsp;parsing&nbsp;result:&nbsp;0&nbsp;detail:&nbsp;600&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;AFAICT,&nbsp;Squid&nbsp;considers&nbsp;received&nbsp;ICAP&nbsp;response&nbsp;header&nbsp;malformed.&nbsp;More&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;than&nbsp;five&nbsp;possible&nbsp;problems/cases&nbsp;may&nbsp;match&nbsp;the&nbsp;above&nbsp;lines.&nbsp;The&nbsp;answer&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;to&nbsp;your&nbsp;question&nbsp;(or&nbsp;an&nbsp;additional&nbsp;clue!)&nbsp;is&nbsp;in&nbsp;different&nbsp;debugging&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;output,&nbsp;possibly&nbsp;logged&nbsp;somewhere&nbsp;between&nbsp;the&nbsp;two&nbsp;lines&nbsp;quoted&nbsp;above.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;The&nbsp;right&nbsp;debugging&nbsp;lines&nbsp;may&nbsp;be&nbsp;visible&nbsp;in&nbsp;&quot;debug_options&nbsp;ALL,2&nbsp;58,5,&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;93,5&quot;&nbsp;output,&nbsp;but&nbsp;it&nbsp;is&nbsp;usually&nbsp;best&nbsp;to&nbsp;share&nbsp;compressed&nbsp;ALL,9&nbsp;logs&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;(privately&nbsp;if&nbsp;needed).&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&gt;https://wiki.squid-cache.org/SquidFaq/BugReporting#debugging-a-single-transaction&lt;/a&gt;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Sharing&nbsp;the&nbsp;problematic&nbsp;ICAP&nbsp;response&nbsp;(header)&nbsp;in&nbsp;a&nbsp;raw&nbsp;packet&nbsp;capture&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;format&nbsp;(to&nbsp;preserve&nbsp;important&nbsp;details)&nbsp;may&nbsp;also&nbsp;be&nbsp;very&nbsp;useful.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;HTH,&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Alex.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
