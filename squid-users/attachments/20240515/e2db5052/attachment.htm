<tt>
&lt;!DOCTYPE&nbsp;html&gt;<br>
&lt;html&nbsp;data-lt-installed=&quot;true&quot;&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;style=&quot;padding-bottom:&nbsp;1px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Hi&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Sometimes&nbsp;my&nbsp;users&nbsp;complains&nbsp;that&nbsp;the&nbsp;internet&nbsp;navigation&nbsp;thought<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Squid&nbsp;is&nbsp;very&nbsp;slow.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;After&nbsp;checking&nbsp;the&nbsp;access.log,&nbsp;I&nbsp;can&nbsp;see&nbsp;a&nbsp;lot&nbsp;of&nbsp;ABORTED<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;like&nbsp;this&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;1715537802.589     &nbsp;2&nbsp;10.103.12.94&nbsp;NONE_NONE_ABORTED/200&nbsp;0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONNECT&nbsp;api.telegram.org:443&nbsp;-&nbsp;HIER_NONE/-:-&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mac=&quot;00:00:00:00:00:00&quot;&nbsp;accessrule:%20global_whitelist%0D%0A<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exterr=&quot;ERR_CLIENT_GONE|WITH_CLIENT&quot;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;1715537183.180 &nbsp;99993&nbsp;172.16.31.205&nbsp;TCP_MISS_ABORTED/000&nbsp;0&nbsp;POST<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://pjcpd-dlpend01.hlbank.my/GECommunicationWS.asmx&quot;&gt;http://pjcpd-dlpend01.hlbank.my/GECommunicationWS.asmx&lt;/a&gt;&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HIER_NONE/-:-&nbsp;-&nbsp;mac=&quot;00:00:00:00:00:00&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accessrule:%20global_whitelist%0D%0A<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exterr=&quot;ERR_CLIENT_GONE|WITH_CLIENT&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I&nbsp;have&nbsp;imported&nbsp;the&nbsp;access.log&nbsp;into&nbsp;my&nbsp;ELK&nbsp;machine&nbsp;and&nbsp;I&nbsp;can&nbsp;see<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;during&nbsp;the&nbsp;time&nbsp;that&nbsp;the&nbsp;users&nbsp;complained&nbsp;about&nbsp;the&nbsp;slowness<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;a&nbsp;huge&nbsp;spike&nbsp;of&nbsp;NONE_ABORTED&nbsp;messages.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://i.postimg.cc/6QR79GWk/6e727e86-de3d-4f3b-bd9e-04c04052ca2e.jpg&quot;&gt;https://i.postimg.cc/6QR79GWk/6e727e86-de3d-4f3b-bd9e-04c04052ca2e.jpg&lt;/a&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Now&nbsp;my&nbsp;question&nbsp;is:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;What&nbsp;can&nbsp;cause&nbsp;this&nbsp;kind&nbsp;of&nbsp;issue?&nbsp;It's&nbsp;a&nbsp;squid&nbsp;server&nbsp;issue,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;network&nbsp;(firewall,&nbsp;switch,&nbsp;router,&nbsp;…),&nbsp;or&nbsp;client?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;Why&nbsp;the&nbsp;number&nbsp;of&nbsp;NONE_ABORTED&nbsp;requests&nbsp;is&nbsp;almost&nbsp;4&nbsp;time&nbsp;more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than&nbsp;normal&nbsp;request?&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Best&nbsp;regards&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&nbsp;&nbsp;&lt;lt-container&gt;&lt;/lt-container&gt;<br>
&lt;/html&gt;<br>

</tt>
