<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;overflow:&nbsp;auto;&nbsp;font-family:&nbsp;Menlo,&nbsp;Monaco,&nbsp;Consolas,&nbsp;&quot;Courier&nbsp;New&quot;,&nbsp;monospace;&nbsp;font-size:&nbsp;13px;&nbsp;padding:&nbsp;9.5px;&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;10px;&nbsp;line-height:&nbsp;1.428571;&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;word-break:&nbsp;break-all;&nbsp;overflow-wrap:&nbsp;break-word;&nbsp;background-color:&nbsp;rgb(245,&nbsp;245,&nbsp;245);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-radius:&nbsp;4px;&nbsp;caret-color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&quot;&gt;tls_outgoing_options&nbsp;options=NO_SSLv3,NO_TLSv1_3&lt;/pre&gt;&lt;div&gt;NO_TLSv1_3&nbsp;is&nbsp;the&nbsp;directive&nbsp;if&nbsp;you&nbsp;need&nbsp;to&nbsp;disable&nbsp;this&nbsp;I&nbsp;have&nbsp;found&nbsp;for&nbsp;all&nbsp;other&nbsp;users&nbsp;with&nbsp;this&nbsp;problem&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;14:21,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;div&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;output&nbsp;of&nbsp;versions&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;panel-heading&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;padding:&nbsp;5px&nbsp;15px;&nbsp;border-bottom-width:&nbsp;1px;&nbsp;border-bottom-style:&nbsp;solid;&nbsp;border-color:&nbsp;rgb(214,&nbsp;233,&nbsp;198);&nbsp;border-radius:&nbsp;0px;&nbsp;color:&nbsp;rgb(60,&nbsp;118,&nbsp;61);&nbsp;background-color:&nbsp;rgb(223,&nbsp;240,&nbsp;216);&nbsp;font-family:&nbsp;Roboto,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&quot;&gt;&lt;h2&nbsp;class=&quot;panel-title&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;font-family:&nbsp;inherit;&nbsp;font-weight:&nbsp;500;&nbsp;line-height:&nbsp;1.1;&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;font-size:&nbsp;16px;&quot;&gt;Shell&nbsp;Output&nbsp;-&nbsp;openssl&nbsp;ciphers&nbsp;-s&nbsp;-v&nbsp;ECDHE&lt;/h2&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;panel-body&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;padding:&nbsp;0px;&nbsp;caret-color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;font-family:&nbsp;Roboto,&nbsp;sans-serif;&nbsp;font-size:&nbsp;14px;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;&lt;div&nbsp;class=&quot;content&quot;&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;padding:&nbsp;10px;&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:&nbsp;border-box;&nbsp;overflow:&nbsp;auto;&nbsp;font-family:&nbsp;Menlo,&nbsp;Monaco,&nbsp;Consolas,&nbsp;&quot;Courier&nbsp;New&quot;,&nbsp;monospace;&nbsp;font-size:&nbsp;13px;&nbsp;padding:&nbsp;9.5px;&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;10px;&nbsp;line-height:&nbsp;1.428571;&nbsp;word-break:&nbsp;break-all;&nbsp;overflow-wrap:&nbsp;break-word;&nbsp;background-color:&nbsp;rgb(245,&nbsp;245,&nbsp;245);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-radius:&nbsp;4px;&quot;&gt;TLS_AES_256_GCM_SHA384&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.3&nbsp;Kx=any&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=any&nbsp;&nbsp;&nbsp;Enc=AESGCM(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
TLS_CHACHA20_POLY1305_SHA256&nbsp;&nbsp;&nbsp;TLSv1.3&nbsp;Kx=any&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=any&nbsp;&nbsp;&nbsp;Enc=CHACHA20/POLY1305(256)&nbsp;Mac=AEAD<br>
TLS_AES_128_GCM_SHA256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.3&nbsp;Kx=any&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=any&nbsp;&nbsp;&nbsp;Enc=AESGCM(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES256-GCM-SHA384&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESGCM(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-RSA-AES256-GCM-SHA384&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AESGCM(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-CHACHA20-POLY1305&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=CHACHA20/POLY1305(256)&nbsp;Mac=AEAD<br>
ECDHE-RSA-CHACHA20-POLY1305&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=CHACHA20/POLY1305(256)&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES256-CCM8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESCCM8(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES256-CCM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESCCM(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES128-GCM-SHA256&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESGCM(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-RSA-AES128-GCM-SHA256&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AESGCM(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES128-CCM8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESCCM8(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES128-CCM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AESCCM(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=AEAD<br>
ECDHE-ECDSA-AES256-SHA384&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AES(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA384<br>
ECDHE-RSA-AES256-SHA384&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AES(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA384<br>
ECDHE-ECDSA-CAMELLIA256-SHA384&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=Camellia(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA384<br>
ECDHE-RSA-CAMELLIA256-SHA384&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=Camellia(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA384<br>
ECDHE-ECDSA-AES128-SHA256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AES(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA256<br>
ECDHE-RSA-AES128-SHA256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AES(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA256<br>
ECDHE-ECDSA-CAMELLIA128-SHA256&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=Camellia(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA256<br>
ECDHE-RSA-CAMELLIA128-SHA256&nbsp;&nbsp;&nbsp;TLSv1.2&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=Camellia(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA256<br>
ECDHE-ECDSA-AES256-SHA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1&nbsp;&nbsp;&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AES(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA1<br>
ECDHE-RSA-AES256-SHA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1&nbsp;&nbsp;&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AES(256)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA1<br>
ECDHE-ECDSA-AES128-SHA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1&nbsp;&nbsp;&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=ECDSA&nbsp;Enc=AES(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA1<br>
ECDHE-RSA-AES128-SHA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TLSv1&nbsp;&nbsp;&nbsp;Kx=ECDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Au=RSA&nbsp;&nbsp;&nbsp;Enc=AES(128)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac=SHA1&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;it&nbsp;does&nbsp;support&nbsp;TLSv1.3&nbsp;Could&nbsp;it&nbsp;be&nbsp;because&nbsp;my&nbsp;certificate&nbsp;authority&nbsp;is&nbsp;type&nbsp;RSA?&nbsp;Disabling&nbsp;TLSv1.3&nbsp;would&nbsp;fix&nbsp;it&nbsp;again&nbsp;that&nbsp;doesn’t&nbsp;help&nbsp;me&nbsp;in&nbsp;the&nbsp;future&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;strong&nbsp;style=&quot;font-family:&nbsp;Verdana,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;21px;&quot;&gt;openssl&nbsp;req&nbsp;-x509&nbsp;-new&nbsp;-nodes&nbsp;-key&nbsp;myProxykey.key&nbsp;-sha256&nbsp;-days&nbsp;365&nbsp;-out&nbsp;myProxyca.pem&lt;/strong&gt;&lt;/div&gt;&lt;div&gt;&lt;strong&nbsp;style=&quot;font-family:&nbsp;Verdana,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;21px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/div&gt;&lt;div&gt;&lt;strong&nbsp;style=&quot;font-family:&nbsp;Verdana,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;21px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;13:54,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&gt;&lt;div&gt;I&nbsp;have&nbsp;also&nbsp;tested&nbsp;in&nbsp;5.8&nbsp;and&nbsp;6.6&nbsp;both&nbsp;show&nbsp;the&nbsp;same&nbsp;condition,&nbsp;6.6&nbsp;shows&nbsp;errors&nbsp;for&nbsp;it&nbsp;however.&nbsp;I&nbsp;have&nbsp;also&nbsp;imported&nbsp;my&nbsp;certificates&nbsp;into&nbsp;wireshark.&nbsp;&lt;br&gt;&lt;br&gt;Just&nbsp;to&nbsp;confirm&nbsp;this&nbsp;is&nbsp;the&nbsp;firewall&nbsp;192.168.1.1&nbsp;port&nbsp;3128&nbsp;is&nbsp;squid&nbsp;going&nbsp;to&nbsp;iMac&nbsp;that&nbsp;is&nbsp;attempting&nbsp;TSL1.3&nbsp;I&nbsp;have&nbsp;nosslv3&nbsp;set&nbsp;also.&nbsp;The&nbsp;firewall&nbsp;is&nbsp;where&nbsp;I&nbsp;grabbed&nbsp;the&nbsp;pcap&nbsp;from&nbsp;&lt;br&gt;Sent&nbsp;from&nbsp;my&nbsp;iPhone&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;11:52,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;﻿If&nbsp;it’s&nbsp;encrypted&nbsp;at&nbsp;TLS1.3&nbsp;it&nbsp;should&nbsp;still&nbsp;work&nbsp;with&nbsp;the&nbsp;approved&nbsp;certificate&nbsp;authority&nbsp;as&nbsp;it&nbsp;is&nbsp;imported&nbsp;to&nbsp;my&nbsp;devices&nbsp;I&nbsp;own.&nbsp;I&nbsp;just&nbsp;enable&nbsp;TLS1.3&nbsp;right?&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;11:28,&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;The&nbsp;only&nbsp;one&nbsp;I&nbsp;got&nbsp;a&nbsp;certificate&nbsp;from&nbsp;was&nbsp;the&nbsp;non&nbsp;iMac&lt;br&gt;&lt;br&gt;The&nbsp;iMac&nbsp;keeps&nbsp;sending&nbsp;change&nbsp;cipher&nbsp;requests&nbsp;and&nbsp;wants&nbsp;TLS1.3&nbsp;over&nbsp;and&nbsp;over&nbsp;as&nbsp;soon&nbsp;as&nbsp;a&nbsp;TLS1.2&nbsp;pops&nbsp;up&nbsp;it&nbsp;works&lt;br&gt;&lt;br&gt;That&nbsp;one&nbsp;has&nbsp;the&nbsp;certificate&nbsp;however&nbsp;that&nbsp;system&nbsp;the&nbsp;Toshiba&nbsp;does&nbsp;not&nbsp;have&nbsp;any&nbsp;issues&nbsp;with&nbsp;this&nbsp;error.&nbsp;I&nbsp;highly&nbsp;suspect&nbsp;that&nbsp;I&nbsp;need&nbsp;to&nbsp;enable&nbsp;TLS1.3&nbsp;would&nbsp;you&nbsp;agree?&lt;br&gt;&lt;br&gt;-----Original&nbsp;Message-----&lt;br&gt;From:&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;rousskov@measurement-factory.com&gt;&lt;br&gt;Sent:&nbsp;Friday,&nbsp;July&nbsp;5,&nbsp;2024&nbsp;11:02&nbsp;AM&lt;br&gt;To:&nbsp;squid-users&nbsp;&lt;squid-users@lists.squid-cache.org&gt;&lt;br&gt;Cc:&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&lt;br&gt;Subject:&nbsp;Re:&nbsp;[squid-users]&nbsp;Squid&nbsp;Cache&nbsp;Issues&nbsp;migration&nbsp;from&nbsp;5.8&nbsp;to&nbsp;6.6&lt;br&gt;&lt;br&gt;On&nbsp;2024-07-05&nbsp;12:02,&nbsp;Jonathan&nbsp;Lee&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Alex:&nbsp;I&nbsp;recommend&nbsp;determining&nbsp;what&nbsp;that&nbsp;CA&nbsp;is&nbsp;in&nbsp;these&nbsp;cases&nbsp;(e.g.,&nbsp;by&nbsp;capturing&nbsp;raw&nbsp;TLS&nbsp;packets&nbsp;and&nbsp;matching&nbsp;them&nbsp;with&nbsp;connection&nbsp;information&nbsp;from&nbsp;A000417&nbsp;error&nbsp;messages&nbsp;in&nbsp;cache.log&nbsp;or&nbsp;%err_detail&nbsp;in&nbsp;access.log).&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I&nbsp;have&nbsp;Wireshark&nbsp;running&nbsp;do&nbsp;I&nbsp;just&nbsp;look&nbsp;for&nbsp;information&nbsp;with&lt;br&gt;ssl.handshake.type&nbsp;==&nbsp;1&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Or&nbsp;is&nbsp;there&nbsp;a&nbsp;wireshark&nbsp;particular&nbsp;filter&nbsp;you&nbsp;would&nbsp;like&nbsp;ran&nbsp;to&nbsp;help&nbsp;with&nbsp;isolation?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;Please&nbsp;use&nbsp;Wireshark&nbsp;to&nbsp;determine&nbsp;the&nbsp;name&nbsp;of&nbsp;CA&nbsp;that&nbsp;issued&nbsp;the&nbsp;certificate&nbsp;that&nbsp;Squid&nbsp;sent&nbsp;to&nbsp;the&nbsp;client&nbsp;in&nbsp;the&nbsp;failing&nbsp;test&nbsp;case.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;sure,&nbsp;feel&nbsp;free&nbsp;to&nbsp;share&nbsp;issuer&nbsp;and&nbsp;subject&nbsp;fields&nbsp;of&nbsp;all&nbsp;certificates&nbsp;that&nbsp;Squid&nbsp;sent&nbsp;to&nbsp;the&nbsp;client&nbsp;in&nbsp;that&nbsp;test&nbsp;case&nbsp;(there&nbsp;may&nbsp;be&nbsp;two&nbsp;of&nbsp;each&nbsp;if&nbsp;Squid&nbsp;sent&nbsp;two&nbsp;certificates).&nbsp;Or&nbsp;even&nbsp;share&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;entire&nbsp;(compressed)&nbsp;raw&nbsp;test&nbsp;case&nbsp;packet&nbsp;capture&nbsp;in&nbsp;pcap&nbsp;format!&lt;br&gt;&lt;br&gt;These&nbsp;certificates&nbsp;are&nbsp;a&nbsp;part&nbsp;of&nbsp;standard&nbsp;TLS&nbsp;handshake,&nbsp;and&nbsp;Wireshark&nbsp;usually&nbsp;displays&nbsp;their&nbsp;fields&nbsp;when&nbsp;one&nbsp;studies&nbsp;TLS&nbsp;handshake&nbsp;bytes&nbsp;using&nbsp;Wireshark&nbsp;UI.&lt;br&gt;&lt;br&gt;I&nbsp;do&nbsp;not&nbsp;know&nbsp;what&nbsp;filter&nbsp;would&nbsp;work&nbsp;best,&nbsp;but&nbsp;there&nbsp;should&nbsp;be&nbsp;just&nbsp;a&nbsp;handful&nbsp;of&nbsp;TLS&nbsp;handshake&nbsp;packets&nbsp;to&nbsp;examine&nbsp;for&nbsp;the&nbsp;test&nbsp;case,&nbsp;so&nbsp;no&nbsp;filter&nbsp;should&nbsp;be&nbsp;necessary.&lt;br&gt;&lt;br&gt;&lt;br&gt;HTH,&lt;br&gt;&lt;br&gt;Alex.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;08:23,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;the&nbsp;email&nbsp;and&nbsp;support&nbsp;with&nbsp;this.&nbsp;I&nbsp;will&nbsp;get&nbsp;wireshark&lt;br&gt;running&nbsp;on&nbsp;the&nbsp;client&nbsp;and&nbsp;get&nbsp;the&nbsp;info&nbsp;required.&nbsp;Yes&nbsp;the&nbsp;information&lt;br&gt;prior&nbsp;is&nbsp;from&nbsp;the&nbsp;firewall&nbsp;side&nbsp;outside&nbsp;of&nbsp;the&nbsp;proxy&nbsp;testing&nbsp;from&nbsp;the&lt;br&gt;demilitarized&nbsp;zone&nbsp;area.&nbsp;I&nbsp;wanted&nbsp;to&nbsp;test&nbsp;this&nbsp;first&nbsp;to&nbsp;rule&nbsp;that&nbsp;out&lt;br&gt;as&nbsp;it’s&nbsp;coming&nbsp;in&nbsp;from&nbsp;that&nbsp;first&nbsp;and&nbsp;hits&nbsp;the&nbsp;proxy&nbsp;next&nbsp;Sent&nbsp;from&lt;br&gt;my&nbsp;iPhone&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Jul&nbsp;5,&nbsp;2024,&nbsp;at&nbsp;06:33,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;rousskov@measurement-factory.com&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;﻿On&nbsp;2024-07-04&nbsp;19:12,&nbsp;Jonathan&nbsp;Lee&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;You&nbsp;also&nbsp;stated&nbsp;..&nbsp;&quot;&nbsp;my&nbsp;current&nbsp;working&nbsp;theory&nbsp;suggests&nbsp;that&nbsp;we&nbsp;are&nbsp;looking&nbsp;at&nbsp;a&nbsp;(default)&nbsp;signUntrusted&nbsp;use&nbsp;case.”&lt;br&gt;I&nbsp;noticed&nbsp;for&nbsp;Squid&nbsp;documents&nbsp;that&nbsp;default&nbsp;is&nbsp;now&nbsp;set&nbsp;to&nbsp;off&nbsp;..&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;The&nbsp;http_port&nbsp;option&nbsp;you&nbsp;are&nbsp;looking&nbsp;at&nbsp;now&nbsp;is&nbsp;not&nbsp;the&nbsp;directive&nbsp;I&nbsp;was&nbsp;talking&nbsp;about&nbsp;earlier.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;http_port&lt;br&gt;tls-default-ca[=off]&lt;br&gt;&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;system&nbsp;Trusted&nbsp;CAs.&nbsp;Default&nbsp;is&nbsp;OFF.&lt;br&gt;Would&nbsp;enabling&nbsp;this&nbsp;resolve&nbsp;the&nbsp;problem&nbsp;in&nbsp;Squid&nbsp;6.6&nbsp;for&nbsp;error.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;No,&nbsp;the&nbsp;above&nbsp;poorly&nbsp;documented&nbsp;http_port&nbsp;option&nbsp;is&nbsp;for&nbsp;validating&nbsp;_client_&nbsp;certificates.&nbsp;It&nbsp;has&nbsp;been&nbsp;off&nbsp;since&nbsp;Squid&nbsp;v4&nbsp;AFAICT.&nbsp;Your&nbsp;clients&nbsp;are&nbsp;not&nbsp;sending&nbsp;client&nbsp;certificates&nbsp;to&nbsp;Squid.&lt;br&gt;&lt;br&gt;According&nbsp;to&nbsp;the&nbsp;working&nbsp;theory,&nbsp;the&nbsp;problem&nbsp;we&nbsp;are&nbsp;solving&nbsp;is&nbsp;related&nbsp;to&nbsp;server&nbsp;certificates.&nbsp;http_port&nbsp;tls-default-ca&nbsp;option&nbsp;does&nbsp;not&nbsp;affect&nbsp;server&nbsp;certificate&nbsp;validation.&nbsp;Server&nbsp;certificate&nbsp;validation&nbsp;should&nbsp;use&nbsp;default&nbsp;CAs&nbsp;by&nbsp;default.&lt;br&gt;&lt;br&gt;Outside&nbsp;of&nbsp;SslBump,&nbsp;server&nbsp;certificate&nbsp;validation&nbsp;is&nbsp;controlled&nbsp;by&nbsp;tls_outgoing_options&nbsp;default-ca&nbsp;option.&nbsp;That&nbsp;option&nbsp;defaults&nbsp;to&nbsp;&quot;on&quot;.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;whether&nbsp;SslBump&nbsp;honors&nbsp;that&nbsp;directive/option&nbsp;though.&nbsp;There&nbsp;are&nbsp;known&nbsp;related&nbsp;bugs&nbsp;in&nbsp;that&nbsp;area.&nbsp;However,&nbsp;we&nbsp;are&nbsp;jumping&nbsp;ahead&nbsp;of&nbsp;ourselves.&nbsp;We&nbsp;should&nbsp;confirm&nbsp;the&nbsp;working&nbsp;theory&nbsp;first.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;The&nbsp;squid.conf.documented&nbsp;lists&nbsp;it&nbsp;incorrectly&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Squid&nbsp;has&nbsp;many&nbsp;directives&nbsp;and&nbsp;a&nbsp;directive&nbsp;may&nbsp;have&nbsp;many&nbsp;options.&nbsp;One&nbsp;should&nbsp;not&nbsp;use&nbsp;an&nbsp;directive&nbsp;option&nbsp;name&nbsp;instead&nbsp;of&nbsp;a&nbsp;directive&nbsp;name.&nbsp;One&nbsp;should&nbsp;not&nbsp;use&nbsp;an&nbsp;option&nbsp;from&nbsp;one&nbsp;directive&nbsp;with&nbsp;another&nbsp;directive.&nbsp;Squid&nbsp;naming&nbsp;is&nbsp;often&nbsp;inconsistent;&nbsp;be&nbsp;careful.&lt;br&gt;&lt;br&gt;*&nbsp;http_port&nbsp;is&nbsp;a&nbsp;directive.&nbsp;tls-default-ca&nbsp;is&nbsp;an&nbsp;option&nbsp;for&nbsp;that&nbsp;directive.&nbsp;It&nbsp;is&nbsp;used&nbsp;for&nbsp;client&nbsp;certificate&nbsp;validation.&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&quot;off&quot;&nbsp;(because&nbsp;client&nbsp;certificates&nbsp;are&nbsp;rarely&nbsp;signed&nbsp;by&nbsp;well-known&nbsp;(a.k.a.&nbsp;&quot;default&quot;)&nbsp;CAs&nbsp;preinstalled&nbsp;in&nbsp;many&nbsp;deployment&nbsp;environments).&lt;br&gt;&lt;br&gt;*&nbsp;tls_outgoing_options&nbsp;is&nbsp;a&nbsp;directive.&nbsp;default-ca&nbsp;is&nbsp;an&nbsp;option&nbsp;for&nbsp;that&nbsp;directive.&nbsp;It&nbsp;is&nbsp;used&nbsp;for&nbsp;server&nbsp;certificate&nbsp;validation&nbsp;outside&nbsp;of&nbsp;SslBump&nbsp;contexts&nbsp;(at&nbsp;least!).&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&quot;on&quot;&nbsp;(because&nbsp;server&nbsp;certificates&nbsp;are&nbsp;usually&nbsp;signed&nbsp;by&nbsp;well-known&nbsp;(a.k.a.&nbsp;&quot;default&quot;)&nbsp;CAs&nbsp;preinstalled&nbsp;in&nbsp;many&nbsp;deployment&nbsp;environments).&lt;br&gt;&lt;br&gt;AFAICT,&nbsp;the&nbsp;documentation&nbsp;in&nbsp;question&nbsp;is&nbsp;not&nbsp;wrong&nbsp;(but&nbsp;is&nbsp;insufficient).&lt;br&gt;&lt;br&gt;Again,&nbsp;I&nbsp;do&nbsp;not&nbsp;recommend&nbsp;changing&nbsp;any&nbsp;Squid&nbsp;configuration&nbsp;directives/options&nbsp;at&nbsp;this&nbsp;triage&nbsp;state.&lt;br&gt;&lt;br&gt;Alex.&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;tlschange.PNG&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
