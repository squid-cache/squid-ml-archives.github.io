<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello, Jonathan,&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;curl &lt;a&nbsp;href=&quot;http://localhost:3128/squid-internal-mgr/info&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:3128/squid-internal-mgr/info&lt;/a&gt; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Where&nbsp;would&nbsp;I&nbsp;place&nbsp;the&nbsp;password?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;use&nbsp;the&nbsp;following&nbsp;configuration:&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;http_access&nbsp;allow&nbsp;localhost&nbsp; manager&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;cachemgr_passwd&nbsp;redacted&nbsp;config&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;command&nbsp;to&nbsp;read&nbsp;the&nbsp;current&nbsp;running&nbsp;config&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace&quot;&gt;curl&nbsp;localhost:3128/squid-internal-mgr/config&nbsp;-u&nbsp;:redacted&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Kind&nbsp;regards,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;Ankor.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;чт,&nbsp;18&nbsp;июл.&nbsp;2024 г.&nbsp;в&nbsp;17:07,&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;2024-07-18&nbsp;00:55,&nbsp;Jonathan&nbsp;Lee&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;curl&nbsp;&lt;a&nbsp;href=&quot;http://localhost:3128/squid-internal-mgr/info&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:3128/squid-internal-mgr/info&lt;/a&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Where&nbsp;would&nbsp;I&nbsp;place&nbsp;the&nbsp;password?&lt;br&gt;<br>
&lt;br&gt;<br>
See&nbsp;&quot;man&nbsp;curl&quot;&nbsp;or&nbsp;online&nbsp;manual&nbsp;pages&nbsp;for&nbsp;curl.&nbsp;They&nbsp;will&nbsp;point&nbsp;you&nbsp;to&nbsp;&lt;br&gt;<br>
two&nbsp;relevant&nbsp;options:&nbsp;--user&nbsp;and&nbsp;--proxy-user.&nbsp;AFAICT,&nbsp;your&nbsp;particular&nbsp;&lt;br&gt;<br>
cache&nbsp;manager&nbsp;requests&nbsp;are&nbsp;sent&nbsp;_to_&nbsp;the&nbsp;proxy&nbsp;(as&nbsp;if&nbsp;it&nbsp;were&nbsp;an&nbsp;origin&nbsp;&lt;br&gt;<br>
server)&nbsp;rather&nbsp;than&nbsp;_through_&nbsp;the&nbsp;proxy.&nbsp;Thus,&nbsp;you&nbsp;should&nbsp;use&nbsp;--user.&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;I&nbsp;keep&nbsp;saying&nbsp;on&nbsp;this&nbsp;thread,&nbsp;due&nbsp;to&nbsp;Squid&nbsp;complications&nbsp;related&nbsp;to&nbsp;&lt;br&gt;<br>
Bug&nbsp;5283,&nbsp;specifying&nbsp;seemingly&nbsp;correct&nbsp;client&nbsp;parameters&nbsp;may&nbsp;not&nbsp;be&nbsp;&lt;br&gt;<br>
enough&nbsp;to&nbsp;convince&nbsp;Squid&nbsp;to&nbsp;accept&nbsp;the&nbsp;cache&nbsp;manager&nbsp;request.&nbsp;I&nbsp;&lt;br&gt;<br>
recommend&nbsp;the&nbsp;following&nbsp;procedure:&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;List&nbsp;the&nbsp;corresponding&nbsp;http_port&nbsp;directive&nbsp;first,&nbsp;before&nbsp;any&nbsp;other&nbsp;&lt;br&gt;<br>
http_port,&nbsp;https_port,&nbsp;and&nbsp;ftp_port&nbsp;directives.&nbsp;Do&nbsp;not&nbsp;use&nbsp;interception&nbsp;&lt;br&gt;<br>
of&nbsp;any&nbsp;kind&nbsp;for&nbsp;this&nbsp;cache&nbsp;manager&nbsp;port.&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;Use&nbsp;curl&nbsp;with&nbsp;absolute&nbsp;squid-internal-mgr&nbsp;URLs&nbsp;with&nbsp;http&nbsp;scheme&nbsp;(like&nbsp;&lt;br&gt;<br>
you&nbsp;show&nbsp;above).&nbsp;Do&nbsp;_not_&nbsp;use&nbsp;&quot;curl&nbsp;--proxy&quot;&nbsp;or&nbsp;similar.&nbsp;Do&nbsp;not&nbsp;use&nbsp;&lt;br&gt;<br>
https&nbsp;scheme.&lt;br&gt;<br>
&lt;br&gt;<br>
3.&nbsp;In&nbsp;that&nbsp;absolute&nbsp;mgr&nbsp;URL,&nbsp;use&nbsp;the&nbsp;host&nbsp;name&nbsp;that&nbsp;matches&nbsp;&lt;br&gt;<br>
visible_hostname&nbsp;in&nbsp;squid.conf.&nbsp;If&nbsp;you&nbsp;do&nbsp;not&nbsp;have&nbsp;visible_hostname&nbsp;in&nbsp;&lt;br&gt;<br>
squid.conf,&nbsp;add&nbsp;it.&nbsp;This&nbsp;is&nbsp;not&nbsp;required,&nbsp;but,&nbsp;due&nbsp;to&nbsp;Squid&nbsp;bugs,&nbsp;it&nbsp;is&nbsp;&lt;br&gt;<br>
often&nbsp;much&nbsp;easier&nbsp;to&nbsp;get&nbsp;this&nbsp;to&nbsp;work&nbsp;with&nbsp;visible_hostname&nbsp;than&nbsp;without&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
4.&nbsp;Make&nbsp;(passwordless)&nbsp;mgr:info&nbsp;use&nbsp;case&nbsp;working&nbsp;first,&nbsp;before&nbsp;trying&nbsp;to&nbsp;&lt;br&gt;<br>
get&nbsp;password-protected&nbsp;pages&nbsp;working.&lt;br&gt;<br>
&lt;br&gt;<br>
5.&nbsp;When&nbsp;you&nbsp;do&nbsp;specify&nbsp;a&nbsp;username&nbsp;and&nbsp;a&nbsp;password,&nbsp;remember&nbsp;that&nbsp;you&nbsp;are&nbsp;&lt;br&gt;<br>
sending&nbsp;this&nbsp;request&nbsp;to&nbsp;an&nbsp;(equivalent&nbsp;of)&nbsp;a&nbsp;service&nbsp;running&nbsp;on&nbsp;an&nbsp;&lt;br&gt;<br>
origin&nbsp;server,&nbsp;_not_&nbsp;a&nbsp;proxy&nbsp;(hence&nbsp;--user&nbsp;rather&nbsp;than&nbsp;--proxy-user).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;cannot&nbsp;figure&nbsp;it&nbsp;out&nbsp;despite&nbsp;carefully&nbsp;going&nbsp;through&nbsp;the&nbsp;above&nbsp;&lt;br&gt;<br>
steps,&nbsp;share&nbsp;(privately&nbsp;if&nbsp;needed)&nbsp;a&nbsp;pointer&nbsp;to&nbsp;compressed&nbsp;ALL,9&nbsp;&lt;br&gt;<br>
cache.log&nbsp;while&nbsp;reproducing&nbsp;the&nbsp;problem&nbsp;with&nbsp;throw-away&nbsp;credentials&nbsp;on&nbsp;&lt;br&gt;<br>
an&nbsp;idle&nbsp;Squid&nbsp;with&nbsp;a&nbsp;single&nbsp;curl&nbsp;request.&nbsp;Mention&nbsp;which&nbsp;step&nbsp;you&nbsp;got&nbsp;&lt;br&gt;<br>
stuck&nbsp;on.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
