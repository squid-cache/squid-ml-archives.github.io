<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;22,&nbsp;2024&nbsp;at&nbsp;12:12 PM&nbsp;Anton&nbsp;Kornexl&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:anton.kornexl@miex.cc&quot;&gt;anton.kornexl@miex.cc&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;  Hello&lt;br&gt;<br>
&lt;br&gt;<br>
i&nbsp;try&nbsp;to&nbsp;use&nbsp;squid&nbsp;(6.10) &nbsp;with&nbsp;opnsense&nbsp;24.x&nbsp;on&nbsp;freebsd&nbsp;13-2-Release-p11.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;produces&nbsp;a&nbsp;&quot;segmentation&nbsp;fault&quot;&nbsp;at&nbsp;start&nbsp;and&nbsp;restart&nbsp;but&nbsp;the&nbsp;process&nbsp;&lt;br&gt;<br>
runs.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;&quot;segmentation&nbsp;fault&quot;&nbsp;occurs&nbsp;even&nbsp;with&nbsp;squid&nbsp;-k&nbsp;parse.&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;&quot;service&nbsp;squid&nbsp;reload&quot;&nbsp;runs&nbsp;OK,&nbsp;but&nbsp;a&nbsp;&quot;service&nbsp;squid&nbsp;restart&quot;&nbsp;produces&nbsp;&lt;br&gt;<br>
this&nbsp;Segmentation&nbsp;fault.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;problem&nbsp;did&nbsp;not&nbsp;exist&nbsp;with&nbsp;opnsense&nbsp;23.x&nbsp;and&nbsp;an&nbsp;older&nbsp;squid.&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;can&nbsp;I&nbsp;debug&nbsp;this&nbsp;error&nbsp;probably&nbsp;in&nbsp;the&nbsp;parse&nbsp;part?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Squid&nbsp;used&nbsp;to&nbsp;write&nbsp;info&nbsp;into&nbsp;cache.log,&nbsp;IIRC.&nbsp;I&nbsp;think&nbsp;it&nbsp;still&nbsp;does.&nbsp;It&#39;s&nbsp;been&nbsp;long&nbsp;since&nbsp;I&nbsp;last&nbsp;managed&nbsp;a&nbsp;squid&nbsp;install.&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;gmail_signature_prefix&quot;&gt;--&nbsp;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Best&nbsp;regards,&lt;br&gt;Odhiambo&nbsp;WASHINGTON,&lt;br&gt;Nairobi,KE&lt;br&gt;+254&nbsp;7&nbsp;3200&nbsp;0004/+254&nbsp;7&nbsp;2274&nbsp;3223&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34)&quot;&gt; In &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34)&quot;&gt;an&nbsp;Internet&nbsp;failure&nbsp;case,&nbsp;the&nbsp;#1&nbsp;suspect&nbsp;is&nbsp;a&nbsp;constant:&nbsp;DNS.&lt;/span&gt;&lt;br&gt;&quot;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Oh,&nbsp;the&nbsp;cruft.&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&quot;, &lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;egrep&nbsp;-v&nbsp;&#39;^$|^.*#&#39; &lt;/span&gt;&lt;span&nbsp;style=&quot;background-color:rgb(34,34,34);color:rgb(238,238,238);font-family:&quot;Lucida&nbsp;Console&quot;,Consolas,&quot;Courier&nbsp;New&quot;,monospace;font-size:13.6px&quot;&gt;¯\_(ツ)_/¯&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; :-)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;[How&nbsp;to&nbsp;ask&nbsp;smart&nbsp;questions: &lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;a&nbsp;href=&quot;http://www.catb.org/~esr/faqs/smart-questions.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.catb.org/~esr/faqs/smart-questions.html&lt;/a&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
