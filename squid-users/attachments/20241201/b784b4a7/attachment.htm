<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;this&nbsp;is&nbsp;the&nbsp;wpad&nbsp;file&nbsp;I&nbsp;am&nbsp;using&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;function&nbsp;FindProxyForURL(url,&nbsp;host)&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;url&nbsp;=&nbsp;url.toLowerCase();&lt;/div&gt;&lt;div&gt;host&nbsp;=&nbsp;host.toLowerCase();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;(isPlainHostName(host))&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;'DIRECT';&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;(isResolvable(host))&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;var&nbsp;hostIP&nbsp;=&nbsp;dnsResolve(host);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;(isInNet(hostIP,&nbsp;'0.0.0.0',&nbsp;'255.0.0.0')&nbsp;||&nbsp;isInNet(hostIP,&nbsp;'10.0.0.0',&nbsp;'255.0.0.0')&nbsp;||&lt;/div&gt;&lt;div&gt;isInNet(hostIP,&nbsp;'127.0.0.0',&nbsp;'255.0.0.0')&nbsp;||&nbsp;isInNet(hostIP,&nbsp;'169.254.0.0',&nbsp;'255.255.0.0')&nbsp;||&lt;/div&gt;&lt;div&gt;isInNet(hostIP,&nbsp;'172.16.0.0',&nbsp;'255.240.0.0')&nbsp;||&nbsp;isInNet(hostIP,&nbsp;'192.168.0.0',&nbsp;'255.255.0.0')&nbsp;||&lt;/div&gt;&lt;div&gt;isInNet(hostIP,&nbsp;'198.18.0.0',&nbsp;'255.254.0.0')&nbsp;||&nbsp;isInNet(hostIP,&nbsp;'224.0.0.0',&nbsp;'240.0.0.0')&nbsp;||&lt;/div&gt;&lt;div&gt;isInNet(hostIP,&nbsp;'240.0.0.0',&nbsp;'240.0.0.0'))&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;'DIRECT';&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;(false)&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;'DIRECT';&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;(url.substring(0,&nbsp;5)&nbsp;==&nbsp;'http:'&nbsp;||&nbsp;url.substring(0,&nbsp;6)&nbsp;==&nbsp;'https:'&nbsp;||&lt;/div&gt;&lt;div&gt;url.substring(0,&nbsp;4)&nbsp;==&nbsp;'ftp:')&nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;'PROXY&nbsp;192.168.1.1:3128';&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;return&nbsp;'DIRECT';&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Dec&nbsp;1,&nbsp;2024,&nbsp;at&nbsp;13:58,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;div&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&gt;this&nbsp;is&nbsp;what&nbsp;I&nbsp;have&nbsp;tried&nbsp;it&nbsp;also&nbsp;fails&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;acl&nbsp;wpad&nbsp;urlpath_regex&nbsp;^/wpad.dat$&lt;/div&gt;&lt;div&gt;acl&nbsp;wpad&nbsp;urlpath_regex&nbsp;^/proxy.pac$&lt;/div&gt;&lt;div&gt;deny_info&nbsp;200:/usr/local/www/wpad.dat&nbsp;wpad&lt;/div&gt;&lt;div&gt;deny_info&nbsp;200:/usr/local/www/proxy.pac&nbsp;wpad&lt;/div&gt;&lt;div&gt;http_access&nbsp;deny&nbsp;wpad&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;reply_header_access&nbsp;Content-Type&nbsp;deny&nbsp;wpad&lt;/div&gt;&lt;div&gt;reply_header_replace&nbsp;Content-Type&nbsp;application/x-ns-proxy-autoconfig&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;when&nbsp;you&nbsp;run&nbsp;squid&nbsp;-k&nbsp;parse&nbsp;it&nbsp;take&nbsp;the&nbsp;config&nbsp;file&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;is&nbsp;when&nbsp;it&nbsp;sees&nbsp;that&nbsp;reg&nbsp;ex&nbsp;to&nbsp;send&nbsp;it&nbsp;to&nbsp;this&nbsp;URL&nbsp;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://192.168.1.1:8080/wpad.dat&quot;&gt;https://192.168.1.1:8080/wpad.dat&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Dec&nbsp;1,&nbsp;2024,&nbsp;at&nbsp;09:01,&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;jonathanlee571@gmail.com&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;again&nbsp;this&nbsp;works&nbsp;perfectly&nbsp;for&nbsp;my&nbsp;issues&nbsp;I&nbsp;had&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Oct&nbsp;2,&nbsp;2024,&nbsp;at&nbsp;20:51,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;On&nbsp;2/10/24&nbsp;05:05,&nbsp;Jonathan&nbsp;Lee&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hello&nbsp;fellow&nbsp;squid&nbsp;users,&lt;br&gt;Can&nbsp;you&nbsp;please&nbsp;help?&nbsp;I&nbsp;am&nbsp;attempting&nbsp;to&nbsp;run&nbsp;wpad&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;as&nbsp;squid&nbsp;however&nbsp;port&nbsp;80&nbsp;443&nbsp;is&nbsp;blocked,&nbsp;I&nbsp;have&nbsp;a&nbsp;url&nbsp;redirect&nbsp;192.168.1.1/wpad.dat&nbsp;to&nbsp;https://192.168.1.1:8080/wpad.dat&nbsp;this&nbsp;is&nbsp;done&nbsp;with&nbsp;use&nbsp;of&nbsp;squid&nbsp;guard,&nbsp;however&nbsp;you&nbsp;must&nbsp;disable&nbsp;bypass&nbsp;for&nbsp;192.168.1.1&nbsp;on&nbsp;squid.&nbsp;Squid&nbsp;resides&nbsp;on&nbsp;192.168.1.1:3128,&lt;br&gt;It&nbsp;works&nbsp;on&nbsp;the&nbsp;iMac&nbsp;for&nbsp;auto&nbsp;config&nbsp;proxy&nbsp;I&nbsp;can&nbsp;access&nbsp;the&nbsp;url&nbsp;file&nbsp;within&nbsp;the&nbsp;redirect.&lt;br&gt;My&nbsp;question&nbsp;is&nbsp;how&nbsp;can&nbsp;this&nbsp;be&nbsp;managed&nbsp;directly&nbsp;with&nbsp;squid&nbsp;custom&nbsp;config&nbsp;??&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;have&nbsp;squid&nbsp;manage&nbsp;a&nbsp;simple&nbsp;wpad?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&nbsp;acl&nbsp;wpad&nbsp;urlpath_regex&nbsp;^/wpad.dat$&lt;br&gt;&nbsp;deny_info&nbsp;200:/etc/squid/wpad.dat&nbsp;wpad&lt;br&gt;&nbsp;http_access&nbsp;deny&nbsp;wpad&lt;br&gt;&lt;br&gt;&nbsp;reply_header_access&nbsp;Content-Type&nbsp;deny&nbsp;wpad&lt;br&gt;&nbsp;reply_header_replace&nbsp;Content-Type&nbsp;application/x-ns-proxy-autoconfig&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;HTH&lt;br&gt;Amos&lt;br&gt;_______________________________________________&lt;br&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;squid-users@lists.squid-cache.org&lt;br&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
