<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&nbsp;gmail_quote_container&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;10,&nbsp;2025&nbsp;at&nbsp;7:22 AM&nbsp;Jonathan&nbsp;Lee&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jonathanlee571@gmail.com&quot;&gt;jonathanlee571@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;br&gt;<br>
After&nbsp;trying&nbsp;every&nbsp;setting&nbsp;inside&nbsp;of&nbsp;Squid&nbsp;I&nbsp;thought&nbsp;I&nbsp;should&nbsp;ask&nbsp;I&nbsp;have&nbsp;4bg&nbsp;ram&nbsp;and&nbsp;128GB&nbsp;M.2&nbsp;SSD&nbsp;onboard&nbsp;disk&nbsp;I&nbsp;am&nbsp;using&nbsp;a&nbsp;NVMe&nbsp;secondary&nbsp;Intel&nbsp;Optane&nbsp;M.2&nbsp;drive&nbsp;for&nbsp;my&nbsp;cache.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;OS&nbsp;are&nbsp;you&nbsp;using?&nbsp;How&nbsp;many&nbsp;CPU&nbsp;cores&nbsp;do&nbsp;you&nbsp;want&nbsp;to&nbsp;dedicate&nbsp;to&nbsp;Squid?&nbsp;How&nbsp;much&nbsp;memory?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
What&nbsp;is&nbsp;a&nbsp;good&nbsp;recommendation&nbsp;for&nbsp;Hard&nbsp;Drive&nbsp;Cache&nbsp;System&nbsp;I&nbsp;use&nbsp;UFS&nbsp;but&nbsp;AUFS&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;UFS&nbsp;is&nbsp;the&nbsp;slowest&nbsp;option;&nbsp;AUFS&nbsp;or&nbsp;rock&nbsp;are&nbsp;considered&nbsp;the&nbsp;fastest&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;inside&nbsp;of&nbsp;the&nbsp;Squid&nbsp;definitive&nbsp;guide&nbsp;says&nbsp;it&nbsp;is&nbsp;way&nbsp;faster&nbsp;like&nbsp;formula&nbsp;one&nbsp;versus&nbsp;UFS&nbsp;the&nbsp;options&nbsp;I&nbsp;have&nbsp;are&nbsp;UFS&nbsp;AUFS&nbsp;DISKD,&nbsp;I&nbsp;have&nbsp;16&nbsp;Level&nbsp;1&nbsp;directories&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;filesystem&nbsp;are&nbsp;you&nbsp;using?&nbsp;For&nbsp;modern&nbsp;filesystems&nbsp;(ext4,&nbsp;btrfs,&nbsp;apfs)&nbsp;this parameter&nbsp;is&nbsp;much&nbsp;less&nbsp;meaningful&nbsp;than&nbsp;10&nbsp;years&nbsp;ago&nbsp;as&nbsp;they&nbsp;store&nbsp;directories&nbsp;as&nbsp;trees&nbsp;instead&nbsp;of&nbsp;lists.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;my&nbsp;memory&nbsp;replacement&nbsp;policy&nbsp;is&nbsp;LRU&nbsp;for&nbsp;memory&nbsp;cache&nbsp;it&nbsp;seems&nbsp;to&nbsp;run&nbsp;better&nbsp;with&nbsp;that,&nbsp;my&nbsp;options&nbsp;for&nbsp;memory&nbsp;replacement&nbsp;policy&nbsp;are&nbsp;HEAP&nbsp;GDSF&nbsp;I&nbsp;assume&nbsp;any&nbsp;HEAP&nbsp;will&nbsp;require&nbsp;more&nbsp;memory,&nbsp;HEAP&nbsp;LFUDF,&nbsp;HEAP&nbsp;LRU&nbsp;and&nbsp;just&nbsp;LRU.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;so&nbsp;but&nbsp;shouldn&#39;t&nbsp;be&nbsp;significantly&nbsp;more&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;I&nbsp;also&nbsp;have&nbsp;a&nbsp;Cache&nbsp;Replacement&nbsp;policy&nbsp;with&nbsp;the&nbsp;same&nbsp;options&nbsp;I&nbsp;have&nbsp;it&nbsp;set&nbsp;to&nbsp;Heap&nbsp;LFUDA&nbsp;that&nbsp;is&nbsp;the&nbsp;default.&nbsp;Squid&nbsp;Memory&nbsp;cache&nbsp;Size&nbsp;I&nbsp;have&nbsp;set&nbsp;to&nbsp;default&nbsp;64MB&nbsp;with&nbsp;max&nbsp;object&nbsp;size&nbsp;256kb&nbsp;for&nbsp;the&nbsp;memory,&nbsp;for&nbsp;disk&nbsp;I&nbsp;have&nbsp;256GB&nbsp;available&nbsp;I&nbsp;only&nbsp;have&nbsp;it&nbsp;set&nbsp;to&nbsp;32000MB&nbsp;or&nbsp;3.2GB&nbsp;for&nbsp;fear&nbsp;of&nbsp;overloading&nbsp;the&nbsp;RAM&nbsp;when&nbsp;it&nbsp;fills&nbsp;up.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;4gb&nbsp;is&nbsp;plenty&nbsp;of&nbsp;memory;&nbsp;what&nbsp;other&nbsp;workloads&nbsp;do&nbsp;you&nbsp;want&nbsp;to&nbsp;run&nbsp;on&nbsp;that&nbsp;machine? &nbsp;You&nbsp;can&nbsp;also&nbsp;tune&nbsp;these&nbsp;parameters&nbsp;after&nbsp;checking&nbsp;behaviour&nbsp;in&nbsp;practice,&nbsp;no&nbsp;need&nbsp;to&nbsp;fix&nbsp;them&nbsp;once&nbsp;and&nbsp;for&nbsp;all&nbsp;now&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
for&nbsp;level&nbsp;1&nbsp;directories&nbsp;I&nbsp;can&nbsp;have&nbsp;4,8,16,32,64,128,256&nbsp;each&nbsp;layer&nbsp;one&nbsp;containers&nbsp;256&nbsp;sub&nbsp;directories&nbsp;so&nbsp;this&nbsp;could&nbsp;hog&nbsp;memory&nbsp;if&nbsp;you&nbsp;did&nbsp;&lt;br&gt;<br>
256*256=65,536&nbsp;I&nbsp;imagine&nbsp;not&nbsp;ok&nbsp;with&nbsp;only&nbsp;4GB&nbsp;I&nbsp;have&nbsp;onboard&nbsp;memory&nbsp;I&nbsp;can’t&nbsp;make&nbsp;it&nbsp;any&nbsp;bigger.&nbsp;I&nbsp;use&nbsp;this&nbsp;with&nbsp;SSL&nbsp;intercept&nbsp;it&nbsp;does&nbsp;cache&nbsp;and&nbsp;works&nbsp;well&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;lag&nbsp;on&nbsp;news&nbsp;websites.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;number&nbsp;of&nbsp;directories&nbsp;has&nbsp;no&nbsp;impact&nbsp;on&nbsp;memory&nbsp;use.&nbsp;Just&nbsp;be&nbsp;aware&nbsp;that&nbsp;if&nbsp;you&nbsp;change&nbsp;it,&nbsp;you&nbsp;need&nbsp;to&nbsp;wipe&nbsp;and&nbsp;rebuild&nbsp;your&nbsp;cache.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
rewrite&nbsp;process&nbsp;children&nbsp;I&nbsp;have&nbsp;it&nbsp;set&nbsp;max&nbsp;25 &nbsp;with&nbsp;process&nbsp;children&nbsp;startup&nbsp;at&nbsp;12&nbsp;and&nbsp;idle&nbsp;at&nbsp;8&nbsp;&lt;br&gt;<br>
SSL&nbsp;certificate&nbsp;deamon&nbsp;children&nbsp;I&nbsp;have&nbsp;it&nbsp;set&nbsp;to&nbsp;start&nbsp;10&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sure. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
it&nbsp;runs&nbsp;well&nbsp;I&nbsp;have&nbsp;tried&nbsp;many&nbsp;different&nbsp;things&nbsp;as&nbsp;you&nbsp;know&nbsp;from&nbsp;all&nbsp;the&nbsp;emails,&nbsp;I&nbsp;am&nbsp;sorry&nbsp;it&nbsp;is&nbsp;the&nbsp;most&nbsp;fascinating&nbsp;software&nbsp;to&nbsp;me.&nbsp;Code&nbsp;that&nbsp;runs&nbsp;as&nbsp;fast&nbsp;as&nbsp;the&nbsp;internet.&nbsp;Is&nbsp;there&nbsp;any&nbsp;thing&nbsp;I&nbsp;can&nbsp;do&nbsp;to&nbsp;make&nbsp;it&nbsp;go&nbsp;faster?&nbsp;Some&nbsp;website&nbsp;have&nbsp;a&nbsp;lag&nbsp;fox&nbsp;news&nbsp;yahoo&nbsp;only&nbsp;do&nbsp;on&nbsp;the&nbsp;SSL&nbsp;intercept&nbsp;devices&nbsp;the&nbsp;splice&nbsp;devices&nbsp;never&nbsp;have&nbsp;any&nbsp;issues,&nbsp;its&nbsp;lighting&nbsp;fast&nbsp;for&nbsp;them.&nbsp;I&nbsp;thought&nbsp;I&nbsp;should&nbsp;finally&nbsp;ask&nbsp;after&nbsp;4-5&nbsp;years&nbsp;of&nbsp;doing&nbsp;changes.&nbsp;I&nbsp;have&nbsp;got&nbsp;it&nbsp;to&nbsp;work&nbsp;as&nbsp;fast&nbsp;as&nbsp;I&nbsp;can&nbsp;on&nbsp;my&nbsp;own,&nbsp;time&nbsp;to&nbsp;ask&nbsp;the&nbsp;community.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;it&nbsp;boils&nbsp;down&nbsp;mainly&nbsp;to&nbsp;how&nbsp;much&nbsp;memory&nbsp;you&#39;re&nbsp;willing&nbsp;to&nbsp;dedicate&nbsp;to&nbsp;squid.&nbsp;More&nbsp;memory&nbsp;more&nbsp;performance.&nbsp;Apart&nbsp;from&nbsp;that,&nbsp;they&nbsp;main&nbsp;advice&nbsp;is&nbsp;to&nbsp;chang&nbsp;from&nbsp;UFS&nbsp;to&nbsp;just&nbsp;about&nbsp;anything&nbsp;else&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;gmail_signature_prefix&quot;&gt;--&nbsp;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt; &nbsp; &nbsp;Francesco&lt;/div&gt;&lt;/div&gt;<br>

</tt>
