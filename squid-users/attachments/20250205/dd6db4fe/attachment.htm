<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;Hey,&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Unless&nbsp;you&nbsp;have&nbsp;access&nbsp;to&nbsp;the&nbsp;dns&nbsp;resolver&nbsp;resolved&nbsp;domain&nbsp;and&nbsp;ip&nbsp;addresses.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;With&nbsp;these&nbsp;you&nbsp;can&nbsp;try(not&nbsp;100%)&nbsp;to&nbsp;find&nbsp;the&nbsp;relevant&nbsp;domain&nbsp;if&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;multi&nbsp;tenant&nbsp;vps&nbsp;or&nbsp;cdn&nbsp;or&nbsp;waf&nbsp;provider.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Eliezer¬†&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&nbsp;gmail_quote_container&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;◊ë◊™◊ê◊®◊ô◊ö&nbsp;◊ô◊ï◊ù&nbsp;◊ì◊≥,&nbsp;5&nbsp;◊ë◊§◊ë◊®◊≥&nbsp;2025,&nbsp;12:01,&nbsp;◊û◊ê◊™&nbsp;Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas&nbsp;‚Äè&lt;&lt;a&nbsp;href=&quot;mailto:uhlar@fantomas.sk&quot;&gt;uhlar@fantomas.sk&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;04.02.25&nbsp;21:22,&nbsp;Foxy&nbsp;Lady&nbsp;wrote:&lt;br&gt;<br>
&gt;I&nbsp;try&nbsp;again&nbsp;asking&nbsp;the&nbsp;ML&nbsp;if&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;-&nbsp;can&nbsp;Squid&nbsp;change&nbsp;the&nbsp;destination&nbsp;address&nbsp;of&nbsp;a&nbsp;call?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;I&nbsp;mean,&nbsp;something&nbsp;like&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;url_rewrite_command&gt;&nbsp;$destination&nbsp;$Host&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;original&nbsp;$destination&nbsp;is&nbsp;&lt;a&nbsp;href=&quot;http://104.26.9.59:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.9.59:443&lt;/a&gt;&lt;br&gt;<br>
&gt;$Host&nbsp;is&nbsp;the&nbsp;original&nbsp;HTTP&nbsp;Header&nbsp;&quot;Host:&nbsp;xxxxx&quot;&nbsp;alias&nbsp;&quot;&lt;a&nbsp;href=&quot;http://api.myip.com:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;api.myip.com:443&lt;/a&gt;&quot;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;So,&nbsp;a&nbsp;call&nbsp;to&lt;br&gt;<br>
&gt;&lt;a&nbsp;href=&quot;https://104.26.9.59:443/test&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://104.26.9.59:443/test&lt;/a&gt;&lt;br&gt;<br>
&gt;will&nbsp;become&lt;br&gt;<br>
&gt;&lt;a&nbsp;href=&quot;https://api.myip.com:443/test&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://api.myip.com:443/test&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;guess&nbsp;that&nbsp;the&nbsp;URL&nbsp;redirector&nbsp;could&nbsp;do&nbsp;that.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/url_rewrite_program/&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/url_rewrite_program/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;it&#39;s&nbsp;extremely&nbsp;unreliable,&nbsp;because&nbsp;IP=&gt;hostname&nbsp;mapping&nbsp;is&nbsp;a&nbsp;wild&nbsp;&lt;br&gt;<br>
guess,&nbsp;because&nbsp;after&nbsp;client&nbsp;asks&nbsp;for&nbsp;IP&nbsp;address,&nbsp;you&nbsp;don&#39;t&nbsp;really&nbsp;know&nbsp;what&nbsp;&lt;br&gt;<br>
hostname&nbsp;they&nbsp;want.&nbsp;&lt;br&gt;<br>
So&nbsp;my&nbsp;recommendation&nbsp;is:&nbsp;don&#39;t&nbsp;do&nbsp;that.&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;SOCKS5&nbsp;protocol&nbsp;supports&nbsp;DNS&nbsp;resolution&nbsp;at&nbsp;server&nbsp;level&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;marted√¨&nbsp;4&nbsp;febbraio&nbsp;2025&nbsp;06:17,&nbsp;Foxy&nbsp;Lady&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:Foxy_Lady_1966@proton.me&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;Foxy_Lady_1966@proton.me&lt;/a&gt;&gt;&nbsp;ha&nbsp;scritto:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi&nbsp;again.&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;finally&nbsp;found&nbsp;a&nbsp;tool&nbsp;(great&nbsp;tool,&nbsp;&quot;GO&nbsp;Simple&nbsp;Tunnel&quot;)&nbsp;which&nbsp;can&nbsp;serves&nbsp;both&nbsp;HTTP(S)/SOCKS5&nbsp;Proxy&nbsp;with&nbsp;dns&nbsp;resolution,&nbsp;so&nbsp;chaining&nbsp;it&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;Squid,&nbsp;Squid&nbsp;receives&nbsp;the&nbsp;destination&nbsp;in&nbsp;format&nbsp;of&nbsp;&quot;domain.fqdn&quot;&nbsp;and&nbsp;not&nbsp;ip&nbsp;&quot;x.x.x.x&quot;,&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;TCP_TUNNEL/200&nbsp;4118&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://api.myip.com:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;api.myip.com:443&lt;/a&gt;&nbsp;username&nbsp;HIER_DIRECT/&lt;a&nbsp;href=&quot;http://104.26.9.59&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.9.59&lt;/a&gt;&nbsp;-&nbsp;&quot;Go-http-client/1.1&quot;&nbsp;[User-Agent:&nbsp;Go-http-client/1.1\r\nProxy-Authorization:&nbsp;Basic&nbsp;bWFyY286dHIwdHQwbGE=\r\nProxy-Connection:&nbsp;keep-alive\r\nHost:&nbsp;&lt;a&nbsp;href=&quot;http://api.myip.com:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;api.myip.com:443&lt;/a&gt;\r\n]&nbsp;[HTTP/1.1&nbsp;200&nbsp;Connection&nbsp;established\r\n\r\n]&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;üëçüëçüëç&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Inviato&nbsp;con&nbsp;l&#39;email&nbsp;sicura&nbsp;Proton&nbsp;Mail.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;luned√¨&nbsp;3&nbsp;febbraio&nbsp;2025&nbsp;22:22,&nbsp;Foxy&nbsp;Lady&nbsp;&lt;a&nbsp;href=&quot;mailto:Foxy_Lady_1966@proton.me&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;Foxy_Lady_1966@proton.me&lt;/a&gt;&nbsp;ha&nbsp;scritto:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;Sorry,&nbsp;resend&nbsp;the&nbsp;post&nbsp;in&nbsp;txt&nbsp;and&nbsp;correct&nbsp;some&nbsp;parts.&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;The&nbsp;question&nbsp;is:&nbsp;can&nbsp;i&nbsp;force&nbsp;SQUID&nbsp;to&nbsp;do&nbsp;a&nbsp;reverse&nbsp;dns&nbsp;lookup&nbsp;and&nbsp;maintain&nbsp;the&nbsp;Host&nbsp;Header&nbsp;inside&nbsp;(where&#39;s&nbsp;a&nbsp;ptr&nbsp;record&nbsp;is&nbsp;found),&nbsp;also&nbsp;if&nbsp;i&nbsp;can&#39;t&nbsp;find&nbsp;a&nbsp;ptr&nbsp;record?&nbsp;SOCKS5&nbsp;works&nbsp;with&nbsp;1st&nbsp;level&nbsp;tcp,&nbsp;so&nbsp;send&nbsp;ip&nbsp;addresses,&nbsp;i&nbsp;need&nbsp;some&nbsp;tool,&nbsp;or&nbsp;Squid&nbsp;workaround,&nbsp;which&nbsp;can&nbsp;force&nbsp;a&nbsp;reverse&nbsp;dns.&nbsp;I&nbsp;know,&nbsp;it&#39;s&nbsp;quite&nbsp;impossible&nbsp;if&nbsp;a&nbsp;ptr&nbsp;record&nbsp;is&nbsp;not&nbsp;found&nbsp;in&nbsp;dnses,&nbsp;but...&nbsp;i&nbsp;try..&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;----------&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;Hi&nbsp;all.&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;As&nbsp;in&nbsp;subject.&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;SQUID&nbsp;server&nbsp;has&nbsp;its&nbsp;own&nbsp;dns&nbsp;resolver.&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;Can&nbsp;SQUID&nbsp;change&nbsp;the&nbsp;destination&nbsp;address&nbsp;from&nbsp;ip&nbsp;to&nbsp;hostname?&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;CLIENT&nbsp;&gt;&nbsp;SQUID&nbsp;&gt;&nbsp;DESTINATION&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;192.168.178.2&nbsp;TCP_TUNNEL/200&nbsp;4120&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://api.myip.com:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;api.myip.com:443&lt;/a&gt;&nbsp;-&nbsp;HIER_DIRECT/&lt;a&nbsp;href=&quot;http://104.26.8.59&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.8.59&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;CLIENT&nbsp;&gt;&nbsp;SOCKS5&nbsp;PROXY&nbsp;&gt;&nbsp;SQUID&nbsp;&gt;&nbsp;DESTINATION&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;192.168.178.50&nbsp;TCP_TUNNEL/200&nbsp;4126&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://104.26.9.59:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.9.59:443&lt;/a&gt;&nbsp;-&nbsp;HIER_DIRECT/&lt;a&nbsp;href=&quot;http://104.26.9.59&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.9.59&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;would&nbsp;need,&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;CLIENT&nbsp;&gt;&nbsp;SOCKS5&nbsp;PROXY&nbsp;&gt;&nbsp;SQUID&nbsp;&gt;&nbsp;DESTINATION&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;192.168.178.50&nbsp;TCP_TUNNEL/200&nbsp;4126&nbsp;CONNECT&nbsp;&lt;a&nbsp;href=&quot;http://api.myip.com:443&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;api.myip.com:443&lt;/a&gt;&nbsp;-&nbsp;HIER_DIRECT/&lt;a&nbsp;href=&quot;http://104.26.9.59&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;104.26.9.59&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Matus&nbsp;UHLAR&nbsp;-&nbsp;fantomas,&nbsp;&lt;a&nbsp;href=&quot;mailto:uhlar@fantomas.sk&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;uhlar@fantomas.sk&lt;/a&gt;&nbsp;;&nbsp;&lt;a&nbsp;href=&quot;http://www.fantomas.sk/&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.fantomas.sk/&lt;/a&gt;&lt;br&gt;<br>
Warning:&nbsp;I&nbsp;wish&nbsp;NOT&nbsp;to&nbsp;receive&nbsp;e-mail&nbsp;advertising&nbsp;to&nbsp;this&nbsp;address.&lt;br&gt;<br>
Varovanie:&nbsp;na&nbsp;tuto&nbsp;adresu&nbsp;chcem&nbsp;NEDOSTAVAT&nbsp;akukolvek&nbsp;reklamnu&nbsp;postu.&lt;br&gt;<br>
The&nbsp;early&nbsp;bird&nbsp;may&nbsp;get&nbsp;the&nbsp;worm,&nbsp;but&nbsp;the&nbsp;second&nbsp;mouse&nbsp;gets&nbsp;the&nbsp;cheese.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;noreferrer&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&nbsp;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
