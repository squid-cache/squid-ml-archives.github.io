<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;Thanks&nbsp;for&nbsp;the&nbsp;answer.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;Yes&nbsp;I&nbsp;saw&nbsp;the&nbsp;updates&nbsp;for &lt;span&nbsp;style=&quot;font-family:Arial,Helvetica,sans-serif&quot;&gt;%&lt;pt&nbsp;and&nbsp;%&lt;tt&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Arial,Helvetica,sans-serif&quot;&gt; but&nbsp;I&nbsp;still&nbsp;don&#39;t&nbsp;get&nbsp;it. &lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;font-family:Arial,Helvetica,sans-serif&quot;&gt;For &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Arial,Helvetica,sans-serif&quot;&gt;%&lt;pt&nbsp;:&nbsp;&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif&quot;&gt;&nbsp;The&nbsp;timer&nbsp;starts &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif&quot;&gt;when&nbsp;the&nbsp;last&nbsp;request&nbsp;byte&nbsp;is&nbsp;sent&nbsp;to&nbsp;the&nbsp;next&nbsp;hop &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif&quot;&gt;and&nbsp;stops&nbsp;when&nbsp;the&nbsp;last&nbsp;response&nbsp;byte&nbsp;is&nbsp;received.&quot; &nbsp;Are&nbsp;we&nbsp;talking&nbsp;of&nbsp;last&nbsp;request&nbsp;/&nbsp;last&nbsp;response&nbsp;of&nbsp;a&nbsp;single&nbsp;TCP&nbsp;connection&nbsp;on&nbsp;server&nbsp;side&nbsp;?&nbsp;Do&nbsp;we&nbsp;agree&nbsp;that&nbsp;we&nbsp;are&nbsp;purely&nbsp;talking&nbsp;about&nbsp;request/response&nbsp;on&nbsp;HTTP,&nbsp;and&nbsp;thus&nbsp;this&nbsp;time&nbsp;does&nbsp;not&nbsp;take&nbsp;into&nbsp;account&nbsp;the&nbsp;time&nbsp;spent&nbsp;with&nbsp;SSL&nbsp;negotiation /&nbsp;squid&nbsp;actions&nbsp;before&nbsp;?&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif&quot;&gt;For&nbsp;%&lt;tt&nbsp;:&nbsp;I&nbsp;understand&nbsp;that&nbsp;all&nbsp;the&nbsp;time&nbsp;spent sending requests&nbsp;&amp;&nbsp;waiting&nbsp;responses&nbsp;from&nbsp;the&nbsp;Origin&nbsp;are&nbsp;added.&nbsp;It&nbsp;would&nbsp;also&nbsp;means&nbsp;that&nbsp;if&nbsp;I&nbsp;subtract&nbsp;this&nbsp;timer&nbsp;to&nbsp;%tr,&nbsp;I&nbsp;would&nbsp;have&nbsp;only&nbsp;the&nbsp;ClientSide&nbsp;time&nbsp;before&nbsp;first&nbsp;packet&nbsp;is&nbsp;sent&nbsp;to&nbsp;Origin&nbsp;by&nbsp;the&nbsp;squid&nbsp;&amp;&nbsp;after&nbsp;the&nbsp;last&nbsp;packet&nbsp;is&nbsp;received&nbsp;from&nbsp;the&nbsp;Origin&nbsp;?&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;Actually,&nbsp;what&nbsp;I&nbsp;want to&nbsp;monitor,&nbsp;is&nbsp;the&nbsp;time&nbsp;between&nbsp;the&nbsp;first&nbsp;client&nbsp;packet&nbsp;received&nbsp;on&nbsp;the&nbsp;Squid&nbsp;and&nbsp;the&nbsp;time&nbsp;the&nbsp;squid&nbsp;makes&nbsp;its&nbsp;choice&nbsp;:&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;-&nbsp;based&nbsp;on&nbsp;SNI&nbsp;for&nbsp;SSL&nbsp;Splice&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;-&nbsp;based&nbsp;on&nbsp;HTTP&nbsp;ACL&nbsp;(HTTP&nbsp;traffic&nbsp;or&nbsp;HTTPS&nbsp;traffic&nbsp;with&nbsp;SSL&nbsp;Bump)&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;Based&nbsp;on&nbsp;this,&nbsp;I&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;check&nbsp;if&nbsp;a&nbsp;squid&nbsp;server&nbsp;is&nbsp;taking&nbsp;too&nbsp;much&nbsp;time&nbsp;making&nbsp;a&nbsp;decision.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;Is&nbsp;this&nbsp;something&nbsp;feasible?&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;&lt;p&nbsp;style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9pt;font-family:Montserrat,sans-serif;color:rgb(33,55,71);background-color:transparent;vertical-align:baseline&quot;&gt;Cordialement,&nbsp;Regards,&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9pt;font-family:Montserrat,sans-serif;color:rgb(33,55,71);background-color:transparent;vertical-align:baseline&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9pt;font-family:Montserrat,sans-serif;color:rgb(33,55,71);background-color:transparent;font-weight:700;vertical-align:baseline&quot;&gt;Benjamin&nbsp;DELANNOY &lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&nbsp;gmail_quote_container&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Mon,&nbsp;Feb&nbsp;17,&nbsp;2025&nbsp;at&nbsp;4:47 PM&nbsp;Alex&nbsp;Rousskov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rousskov@measurement-factory.com&quot;&gt;rousskov@measurement-factory.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;On&nbsp;2025-02-17&nbsp;10:02,&nbsp;BENJAMIN&nbsp;DELANNOY&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;try&nbsp;to&nbsp;figure&nbsp;out&nbsp;what&nbsp;is&nbsp;exactly&nbsp;measured&nbsp;with&nbsp;the&nbsp;&lt;pt&nbsp;&amp;&nbsp;&lt;tt&nbsp;timings.&nbsp;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;don&#39;t&nbsp;get&nbsp;what&nbsp;are&nbsp;the&nbsp;difference&nbsp;between&nbsp;them,&nbsp;what&nbsp;is&nbsp;the&nbsp;difference&nbsp;&lt;br&gt;<br>
&gt;&nbsp;between&nbsp;&quot;peer&nbsp;response&nbsp;time&quot;&nbsp;&amp;&nbsp;&quot;time&nbsp;spent&nbsp;forwarding&nbsp;to&nbsp;origin&nbsp;&lt;br&gt;<br>
&gt;&nbsp;servers&quot;,&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Have&nbsp;you&nbsp;seen&nbsp;&lt;span&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif&quot;&gt;&lt;/span&gt;%&lt;pt&nbsp;and&nbsp;%&lt;tt&nbsp;descriptions&nbsp;at&nbsp;[1]?&nbsp;%&lt;tt&nbsp;description&nbsp;was&nbsp;&lt;br&gt;<br>
updated&nbsp;in&nbsp;August&nbsp;2024,&nbsp;and&nbsp;squid.conf.documented&nbsp;in&nbsp;Squid&nbsp;v6&nbsp;and&nbsp;&lt;br&gt;<br>
earlier&nbsp;does&nbsp;not&nbsp;have&nbsp;those&nbsp;documentation&nbsp;updates&nbsp;(and&nbsp;the&nbsp;corresponding&nbsp;&lt;br&gt;<br>
bug&nbsp;fixes)...&lt;br&gt;<br>
&lt;br&gt;<br>
[1]&nbsp;&lt;a&nbsp;href=&quot;http://www.squid-cache.org/Doc/config/logformat/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.squid-cache.org/Doc/config/logformat/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;what&nbsp;is&nbsp;the&nbsp;&quot;last&nbsp;I/O&nbsp;with&nbsp;the&nbsp;last&nbsp;peer&quot;,&nbsp;etc.&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;forwarding&nbsp;a&nbsp;single&nbsp;client&nbsp;request,&nbsp;Squid&nbsp;may&nbsp;talk&nbsp;to&nbsp;multiple&nbsp;&lt;br&gt;<br>
cache_peer&nbsp;and&nbsp;origin&nbsp;server&nbsp;addresses&nbsp;(collectively&nbsp;called&nbsp;&quot;peers&quot;).&nbsp;&lt;br&gt;<br>
Talking&nbsp;to&nbsp;a&nbsp;given&nbsp;peer&nbsp;may&nbsp;include&nbsp;multiple&nbsp;socket&nbsp;reading&nbsp;and&nbsp;writing&nbsp;&lt;br&gt;<br>
(i.e.&nbsp;I/O)&nbsp;events.&nbsp;Does&nbsp;this&nbsp;clarify?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;For&nbsp;information,&nbsp;I&nbsp;aim&nbsp;to&nbsp;calculate&nbsp;the&nbsp;time&nbsp;spent&nbsp;on&nbsp;the&nbsp;client-side&nbsp;&amp;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;by&nbsp;squid&nbsp;processing&nbsp;time, &nbsp;excluding&nbsp;the&nbsp;server-side&nbsp;time&nbsp;spent&nbsp;(=what&nbsp;I&nbsp;&lt;br&gt;<br>
&gt;&nbsp;don&#39;t&nbsp;manage).&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;kind&nbsp;of&nbsp;calculation&nbsp;is&nbsp;a&nbsp;common&nbsp;need.&nbsp;Please&nbsp;keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;&lt;br&gt;<br>
Squid&nbsp;may&nbsp;spend&nbsp;time&nbsp;on&nbsp;the&nbsp;client&nbsp;side&nbsp;(e.g.,&nbsp;awaiting&nbsp;the&nbsp;next&nbsp;request&nbsp;&lt;br&gt;<br>
body&nbsp;byte)&nbsp;while&nbsp;also&nbsp;spending&nbsp;time&nbsp;on&nbsp;the&nbsp;server&nbsp;side&nbsp;(e.g.,&nbsp;awaiting&nbsp;&lt;br&gt;<br>
the&nbsp;next&nbsp;response&nbsp;body&nbsp;byte),&nbsp;complicating&nbsp;things.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;existing&nbsp;%codes&nbsp;are&nbsp;not&nbsp;enough,&nbsp;please&nbsp;detail&nbsp;your&nbsp;needs&nbsp;in&nbsp;terms&nbsp;of&nbsp;&lt;br&gt;<br>
events&nbsp;that&nbsp;Squid&nbsp;can&nbsp;recognize&nbsp;(e.g.,&nbsp;receiving&nbsp;the&nbsp;first&nbsp;response&nbsp;&lt;br&gt;<br>
header&nbsp;byte&nbsp;or&nbsp;sending&nbsp;the&nbsp;last&nbsp;request&nbsp;body&nbsp;byte).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
HTH,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;We&nbsp;do&nbsp;not&nbsp;use&nbsp;squid&nbsp;for&nbsp;caching&nbsp;but&nbsp;only&nbsp;for&nbsp;http&nbsp;&amp;&nbsp;ssl&nbsp;proxy/filtering.&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Thanks&nbsp;a&nbsp;lot&nbsp;!&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Cordialement,&nbsp;Regards,&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Benjamin&nbsp;DELANNOY&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Cloud&nbsp;Network&nbsp;Engineer&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;NETWORK&nbsp;SOLUTIONS&nbsp;-&nbsp;GTDP&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;Mobile&nbsp;+33&nbsp;(0)6&nbsp;16&nbsp;98&nbsp;23&nbsp;72&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;135&nbsp;rue&nbsp;Sadi&nbsp;Carnot&nbsp;•&nbsp;CS&nbsp;00001&nbsp;•&nbsp;59790&nbsp;Ronchin&nbsp;•&nbsp;FRANCE&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://positivetech.adeo.com&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;positivetech.adeo.com&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://positivetech.adeo.com/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://positivetech.adeo.com/&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;adeolinkedin&nbsp;&lt;&lt;a&nbsp;href=&quot;https://www.linkedin.com/company/groupe-adeo&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.linkedin.com/company/groupe-adeo&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
squid-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;target=&quot;_blank&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
