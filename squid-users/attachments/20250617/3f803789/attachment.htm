<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;class=&quot;ydpd9ec32b6yahoo-style-wrap&quot;&nbsp;style=&quot;font-family:Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;Hi&nbsp;Amos,&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;can&nbsp;help&nbsp;to&nbsp;give&nbsp;configure&nbsp;example&nbsp;for&nbsp;external&nbsp;helper&nbsp;&lt;span&gt;ext_kerberos_ldap_group_acl,&nbsp;since&nbsp;this&nbsp;help&nbsp;is&nbsp;faster&nbsp;compare&nbsp;to&nbsp;&lt;span&gt;ext_wbinfo_group_acl.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;data-setdir=&quot;false&quot;&gt;&lt;span&gt;&lt;span&gt;Thank&nbsp;you.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;id=&quot;yahoo_quoted_0814840433&quot;&nbsp;class=&quot;yahoo_quoted&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;font-size:13px;color:#26282a;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;Tuesday,&nbsp;June&nbsp;17,&nbsp;2025&nbsp;at&nbsp;03:41:58&nbsp;AM&nbsp;GMT+8,&nbsp;Amos&nbsp;Jeffries&nbsp;&lt;squid3@treenet.co.nz&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;16/06/25&nbsp;16:25,&nbsp;wong237ma&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Hi&nbsp;Amos,&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Thank&nbsp;for&nbsp;your&nbsp;replied.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;FTR;&nbsp;the&nbsp;login&nbsp;prompt&nbsp;is&nbsp;not&nbsp;coming&nbsp;from&nbsp;Squid.&nbsp;The&nbsp;client&nbsp;Browser&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;decides&nbsp;where&nbsp;to&nbsp;get&nbsp;credentials&nbsp;from&nbsp;-&nbsp;the&nbsp;popup&nbsp;is&nbsp;one&nbsp;source,&nbsp;current&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;machine&nbsp;login&nbsp;another,&nbsp;there&nbsp;may&nbsp;be&nbsp;sources&nbsp;as&nbsp;well.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Our&nbsp;laptop&nbsp;is&nbsp;joined&nbsp;domain.&nbsp;I&nbsp;thought&nbsp;browser&nbsp;will&nbsp;use&nbsp;AD&nbsp;ticket&nbsp;TGT,&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;(which&nbsp;I&nbsp;can&nbsp;view&nbsp;by&nbsp;klist)?&nbsp;not&nbsp;like&nbsp;this?&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;Since&nbsp;you&nbsp;are&nbsp;SSL-Bump'ing&nbsp;traffic&nbsp;-&nbsp;whatever&nbsp;result&nbsp;the&nbsp;initial&nbsp;CONNECT&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;request&nbsp;credentials&nbsp;were&nbsp;given&nbsp;when&nbsp;the&nbsp;TLS&nbsp;began&nbsp;will&nbsp;be&nbsp;used&nbsp;until&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;that&nbsp;TLS&nbsp;connection&nbsp;closes.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;configure&nbsp;Bumping&nbsp;github&nbsp;website&nbsp;only,&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;traffic&nbsp;not&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;decrypt.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;Secondly&nbsp;the&nbsp;auth&nbsp;helper&nbsp;&quot;negative-ttl=900&quot;&nbsp;(from&nbsp;config&nbsp;below)&nbsp;value&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;will&nbsp;make&nbsp;Squid&nbsp;only&nbsp;check&nbsp;for&nbsp;different&nbsp;results&nbsp;on&nbsp;new&nbsp;connections&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;started&nbsp;900+&nbsp;seconds&nbsp;after&nbsp;the&nbsp;first&nbsp;one&nbsp;was&nbsp;rejected.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;squid-cache&nbsp;by&nbsp;default&nbsp;is&nbsp;one&nbsp;hour,&nbsp;so&nbsp;I&nbsp;think&nbsp;I&nbsp;configure&nbsp;15&nbsp;mins,&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;which&nbsp;less&nbsp;compare&nbsp;to&nbsp;one&nbsp;hour,&nbsp;not&nbsp;sure&nbsp;whether&nbsp;correct&nbsp;or&nbsp;not.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;Do&nbsp;you&nbsp;still&nbsp;actually&nbsp;**need**&nbsp;NTLM&nbsp;?&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;It&nbsp;has&nbsp;been&nbsp;deprecated&nbsp;for&nbsp;19&nbsp;years&nbsp;already,&nbsp;and&nbsp;Windows&nbsp;software&nbsp;has&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;progressively&nbsp;been&nbsp;removing&nbsp;the&nbsp;ability&nbsp;to&nbsp;use&nbsp;it.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Yes,&nbsp;we&nbsp;are&nbsp;using&nbsp;Kerberos,&nbsp;NTLM&nbsp;and&nbsp;basic&nbsp;are&nbsp;for&nbsp;those&nbsp;legacy&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;application,&nbsp;I&nbsp;think.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;Nod.&nbsp;Just&nbsp;pointing&nbsp;out&nbsp;that&nbsp;its&nbsp;something&nbsp;to&nbsp;check&nbsp;if&nbsp;actually&nbsp;needed.&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;Removal&nbsp;will&nbsp;help&nbsp;avoid&nbsp;problems&nbsp;-&nbsp;if&nbsp;possible.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;The&nbsp;Kerberos&nbsp;auth&nbsp;helper&nbsp;bundled&nbsp;with&nbsp;Squid&nbsp;delivers&nbsp;&quot;group=&quot;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;annotations&nbsp;back&nbsp;to&nbsp;Squid&nbsp;that&nbsp;can&nbsp;be&nbsp;quickly&nbsp;checked&nbsp;instead&nbsp;of&nbsp;using&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;extra&nbsp;helper&nbsp;lookups.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;you&nbsp;mean&nbsp;i&nbsp;can&nbsp;use&nbsp;this&nbsp;helper:&nbsp;ext_kerberos_ldap_group_acl,&nbsp;am&nbsp;I&nbsp;right?&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;No,&nbsp;I&nbsp;literally&nbsp;mean&nbsp;the&nbsp;auth_param&nbsp;helper&nbsp;(negotiate_kerberos_auth)&nbsp;is&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;producing&nbsp;&quot;group=&quot;&nbsp;values&nbsp;that&nbsp;can&nbsp;be&nbsp;checked&nbsp;with&nbsp;'note'&nbsp;type&nbsp;ACL&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;instead&nbsp;of&nbsp;'external'&nbsp;type&nbsp;ACL&nbsp;.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;That&nbsp;will&nbsp;halve&nbsp;the&nbsp;amount&nbsp;of&nbsp;helpers&nbsp;running,&nbsp;reduce&nbsp;Squid&nbsp;memory&nbsp;needs&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;by&nbsp;whatever&nbsp;those&nbsp;helpers&nbsp;were&nbsp;using,&nbsp;halve&nbsp;the&nbsp;load&nbsp;on&nbsp;ActiveDirectory,&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;and&nbsp;halve&nbsp;the&nbsp;transaction&nbsp;time&nbsp;for&nbsp;access&nbsp;to&nbsp;the&nbsp;proxy.&lt;br&nbsp;clear=&quot;none&quot;&gt;IF&nbsp;any&nbsp;of&nbsp;those&nbsp;things&nbsp;were&nbsp;contributing&nbsp;to&nbsp;your&nbsp;problem&nbsp;(likely)&nbsp;then&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;you&nbsp;should&nbsp;see&nbsp;the&nbsp;problem&nbsp;move&nbsp;from&nbsp;200-ish&nbsp;up&nbsp;to&nbsp;something&nbsp;higher.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;will&nbsp;try&nbsp;out,&nbsp;since&nbsp;ChatGPT&nbsp;also&nbsp;mention&nbsp;auth&nbsp;faster&nbsp;compare&nbsp;to&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;ext_wbinfo_group_acl.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Question:&nbsp;Is&nbsp;this&nbsp;main&nbsp;problem?&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;FYI,&nbsp;notice&nbsp;that&nbsp;Squid&nbsp;is&nbsp;automatically&nbsp;including&nbsp;all&nbsp;the&nbsp;config&nbsp;files&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&nbsp;&gt;&nbsp;in&nbsp;the&nbsp;directory&nbsp;/etc/squid/conf.d/&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;yes,&nbsp;it&nbsp;is&nbsp;just&nbsp;a&nbsp;easier&nbsp;manage&nbsp;for&nbsp;me.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;I&nbsp;have&nbsp;go&nbsp;through&nbsp;your&nbsp;replied&nbsp;several&nbsp;times&nbsp;and&nbsp;I&nbsp;try&nbsp;to&nbsp;digest.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;My&nbsp;main&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;when&nbsp;user&nbsp;hit&nbsp;around&nbsp;200++,&nbsp;user&nbsp;will&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;prompt&nbsp;out&nbsp;proxy&nbsp;login&nbsp;dialog&nbsp;box&nbsp;ask&nbsp;user&nbsp;to&nbsp;login.&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;&gt;&nbsp;Is&nbsp;there&nbsp;anyway&nbsp;to&nbsp;find&nbsp;out&nbsp;issues?&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;You&nbsp;mentioned&nbsp;nothing&nbsp;occuring&nbsp;in&nbsp;the&nbsp;Squid&nbsp;logs.&nbsp;So&nbsp;that&nbsp;easy&nbsp;way&nbsp;is&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;closed.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;The&nbsp;alternative&nbsp;is&nbsp;to&nbsp;watch;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;a)&nbsp;how&nbsp;much&nbsp;memory&nbsp;is&nbsp;being&nbsp;used&nbsp;by&nbsp;Squid&nbsp;and&nbsp;helpers&nbsp;to&nbsp;see&nbsp;if&nbsp;the&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;problem&nbsp;is&nbsp;running&nbsp;out&nbsp;of&nbsp;resources,&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;b)&nbsp;traffic&nbsp;to&nbsp;find&nbsp;out&nbsp;what&nbsp;types&nbsp;of&nbsp;credentials&nbsp;are&nbsp;being&nbsp;sent&nbsp;to&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;Squid&nbsp;and&nbsp;not&nbsp;being&nbsp;accepted&nbsp;(rejection&nbsp;may&nbsp;be&nbsp;the&nbsp;trigger&nbsp;for&nbsp;dialog&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;boxes),&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&nbsp;&nbsp;c)&nbsp;check&nbsp;logs&nbsp;on&nbsp;your&nbsp;ActiveDirectory&nbsp;for&nbsp;similar&nbsp;things&nbsp;and&nbsp;also&nbsp;to&nbsp;&lt;br&nbsp;clear=&quot;none&quot;&gt;see&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;limit&nbsp;being&nbsp;reached&nbsp;there.&lt;div&nbsp;class=&quot;yqt1569118595&quot;&nbsp;id=&quot;yqtfd08324&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;HTH&lt;br&nbsp;clear=&quot;none&quot;&gt;Amos&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;_______________________________________________&lt;br&nbsp;clear=&quot;none&quot;&gt;squid-users&nbsp;mailing&nbsp;list&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;ymailto=&quot;mailto:squid-users@lists.squid-cache.org&quot;&nbsp;href=&quot;mailto:squid-users@lists.squid-cache.org&quot;&gt;squid-users@lists.squid-cache.org&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;https://lists.squid-cache.org/listinfo/squid-users&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.squid-cache.org/listinfo/squid-users&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
